<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fmge Mini Test - 029 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / FMGE Mini Test Series / 2022
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">30</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the following is an example of a \u200bpneumatic bone?",
    "choices": [
      {
        "id": 1,
        "text": "Carpal bones"
      },
      {
        "id": 2,
        "text": "Maxilla"
      },
      {
        "id": 3,
        "text": "Sternum"
      },
      {
        "id": 4,
        "text": "Hip bone"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The maxilla<strong>&nbsp;</strong>is a pneumatic bone.&nbsp;</p>\n<p><strong>Pneumatic bones contain air-filled cavities</strong>, which make them light-weight. They also aid in the resonance of sound and act as air conditioning chambers for inspired air. <strong>E.g., Maxilla, sphenoid, ethmoid, etc</strong>.&nbsp;</p>\n<p>Carpal bones and tarsal bones are <strong>short bones.</strong>&nbsp;</p>\n<p>Sternum, ribs, scapula, and bones of the skull vault are <strong>flat bones.</strong></p>\n<p>Hip bones, vertebra, and bones in the base of the skull are <strong>irregular bones</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Two-cell\u2014two-gonadotropin hypothesis is _________",
    "choices": [
      {
        "id": 1,
        "text": "FSH and LH inhibits the release of estrogen and progesterone"
      },
      {
        "id": 2,
        "text": "FSH acts on granulosa cells and LH on theca cells"
      },
      {
        "id": 3,
        "text": "FSH stimulates estrogen while LH inhibits estrogen"
      },
      {
        "id": 4,
        "text": "FSH feedback inhibits hypothalamus while LH feedback inhibits pituitary"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>The two-cell&mdash;two-gonadotropin hypothesis.</strong></p>\n<ul>\n<li><strong>Estradiol synthesis requires the contribution of two distinct cell types:</strong>\n<ul>\n<li><strong>The theca and granulosa cells within the follicle and </strong></li>\n<li><strong>The theca-lutein and granulosa lutein cells within the corpus luteum</strong></li>\n</ul>\n</li>\n<li>The follicular theca cells, under the control of LH, produce androgens that diffuse to the follicular granulosa cells, where they are converted to estrogens via an FSH-supported aromatization reaction. The granulosa cells cannot convert progesterone to androstenedione because of the lack of the enzyme 17&alpha;-hydroxylase.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following enzymes takes part in substrate level phosphorylation in glycolysis?",
    "choices": [
      {
        "id": 1,
        "text": "Pyruvate kinase"
      },
      {
        "id": 2,
        "text": "PFK-1"
      },
      {
        "id": 3,
        "text": "Hexokinase"
      },
      {
        "id": 4,
        "text": "Pyruvate dehydrogenase"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The enzyme involved in substrate level phosphorylation is <strong>pyruvate kinase</strong>.</p>\n<p>In substrate-level phosphorylation, there is a <strong>direct generation of ATP</strong>. In glycolysis, there are two such reactions, which are examples of substrate-level phosphorylation.</p>\n<p>They are as follows:</p>\n<ul>\n<li>1, 3 bisphosphoglycerate to 3 phosphoglycerate, catalyzed by the enzyme <strong>phosphoglycerate kinase</strong>.</li>\n<li>Phosphoenol pyruvate to pyruvate, catalyzed by <strong>pyruvate kinase</strong>.&nbsp;</li>\n</ul>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5923cb3ec01f490c8feafb23a69682a6x1280x2966.JPEG"
    ]
  },
  {
    "text": "A 36-year-old male presented with skin-coloured umbilicated nodules. Microscopy is as shown below. The most likely diagnosis is______.",
    "choices": [
      {
        "id": 1,
        "text": "Herpes virus"
      },
      {
        "id": 2,
        "text": "Verruca vulgaris"
      },
      {
        "id": 3,
        "text": "Molluscum contagiosum"
      },
      {
        "id": 4,
        "text": "Lichen planus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given microscopic image shows large, ellipsoid, homogeneous, cytoplasmic inclusion in cells of the stratum granulosum and the stratum corneum classically seen in <strong>molluscum contagiosum.</strong></p>\n<p><strong>Molluscum contagiosum&nbsp;</strong>is a common, self-limited viral disease of the skin caused by a <strong>poxvirus.&nbsp;</strong>Poxvirus is brick-shaped and is the largest pathogenic poxvirus in humans.</p>\n<p>Individual lesions are firm, pruritic, and pink to skin-coloured <strong>umbilicated papules.</strong> A curd-like material can be expressed from the central umbilication</p>\n<p>Tzanck smear: intracytoplasmic molluscum bodies (<strong>Henderson&ndash;Patterson bodies</strong>), the largest known inclusion bodies.</p>\n<p>Microscopic examination:<strong> Cuplike verrucous epidermal hyperplasia</strong> and&nbsp;<strong>Molluscum bodies:</strong>&nbsp;large, ellipsoid, homogeneous, cytoplasmic inclusion in cells of the stratum granulosum and the stratum corneum.</p>\n<p>Molluscum bodies contain numerous virions.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a5ea68cb4a694e3aa898b75cc4baea47.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bb7339621bed4a09bec7e9fcb719a21cx484x500.JPEG"
    ]
  },
  {
    "text": "The autoimmune disease  shown in the image involves ___________ hypersensitivity.",
    "choices": [
      {
        "id": 1,
        "text": "Type I"
      },
      {
        "id": 2,
        "text": "Type II"
      },
      {
        "id": 3,
        "text": "Type  III"
      },
      {
        "id": 4,
        "text": "Type IV"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The disease shown in the image is <strong>mysthenia gravis.</strong> It is an example of <strong>Type II hypersensivity</strong>.</p>\n<p>Type II hypersensitivity reaction is mediated by antibodies directed towards antigen or cell surface or extracellular matrix.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6d6520b55e5743d78806ec24ef01ecc2.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Antacid that can typically cause diarrhea is ___________",
    "choices": [
      {
        "id": 1,
        "text": "Sodium bicarbonate"
      },
      {
        "id": 2,
        "text": "Magnesium hydroxide"
      },
      {
        "id": 3,
        "text": "Calcium bicarbonate"
      },
      {
        "id": 4,
        "text": "Aluminium hydroxide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Magnesium salts</strong> have a laxative property and can cause <strong>diarrhea</strong>.</p>\n<p><strong>Aluminium salts</strong> can cause <strong>constipation</strong> by relaxing smooth muscles and magnesium salts have the action opposite to aluminium. The<strong> combination</strong> of aluminum and magnesium salts can <strong>neutralize each other&rsquo;s action</strong>,thus the combination is preferred.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 33-year-old man who was found dead in his home was taken for a postmortem examination. It revealed clogging of the respiratory tract by semi-digested food particles consisting of rice and vegetable matter. This would fall under which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Smothering"
      },
      {
        "id": 2,
        "text": "Entrapment"
      },
      {
        "id": 3,
        "text": "Strangulation"
      },
      {
        "id": 4,
        "text": "Suffocation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given scenario is suggestive of aspiration of food particles known as&nbsp;<strong>choking</strong>. It&nbsp;is classified under mechanical asphyxia.</p>\n<p><strong>Mechanical asphyxia</strong> can be classified depending on the <strong>respiratory block:</strong></p>\n<ol>\n<li><strong>Compression</strong> / <strong>constriction</strong> of the <strong>neck</strong> - Hanging, strangulation, throttling</li>\n<li><strong>Blocking external orifices</strong> of respiration, i.e. mouth and/or nostrils - Smothering, overlying, suffocation, gagging</li>\n<li><strong>Impaction</strong> of <strong>foreign bodies</strong> in respiratory tract - Choking</li>\n<li><strong>Compression</strong> and mechanical <strong>fixation</strong> of the <strong>chest</strong> and <strong>abdomen</strong> preventing the respiratory movements - Traumatic asphyxia / crush asphyxia</li>\n<li><strong>Inhalation</strong> of <strong>fluid</strong> into the respiratory tract - Drowning</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The only abductor of the vocal cord is ______",
    "choices": [
      {
        "id": 1,
        "text": "Cricothyroid"
      },
      {
        "id": 2,
        "text": "Posterior cricoarytenoid"
      },
      {
        "id": 3,
        "text": "Lateral cricoarytenoid"
      },
      {
        "id": 4,
        "text": "Interarytenoid"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Posterior cricoarytenoid is the only intrinsic muscle of the larynx that causes abduction of vocal cords.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the pathology in the below image.",
    "choices": [
      {
        "id": 1,
        "text": "Retinoblastoma"
      },
      {
        "id": 2,
        "text": "Cataract"
      },
      {
        "id": 3,
        "text": "Corneal ulcer with hypopyon"
      },
      {
        "id": 4,
        "text": "Acanthamoeba keratitis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image depicts a <strong>bacterial corneal ulcer with hypopyon</strong>.</p>\n<p><strong>Hypopyon in a bacterial ulcer:</strong></p>\n<ul>\n<li>It is due to the <strong>outpouring of leucocytes</strong> from the vessels and their gravitation to the bottom of the <strong>anterior chamber</strong> to form a <strong>hypopyon</strong>.</li>\n<li><strong>Sterile</strong>:<strong>&nbsp;</strong>Consists of <strong>leucocytes</strong></li>\n<li>Mobile</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ae652f803bb645078ec6aae8ff6b6bfd.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the species of mosquito shown in the image below",
    "choices": [
      {
        "id": 1,
        "text": "Anopheles"
      },
      {
        "id": 2,
        "text": "Culex"
      },
      {
        "id": 3,
        "text": "Aedes"
      },
      {
        "id": 4,
        "text": "Mansonia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>The given image of a mosquito belonging to the <em><strong>Aedes</strong></em> species. It can be identified with the stripes on the legs and body. They are also called <strong>tiger mosquitoes</strong> because of their stripped patterns.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/51887945f0d34bdca91ea0b613314102.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following gives the approximate magnitude of completed family size?",
    "choices": [
      {
        "id": 1,
        "text": "General fertility rate"
      },
      {
        "id": 2,
        "text": "Total fertility rate"
      },
      {
        "id": 3,
        "text": "Gross reproduction rate"
      },
      {
        "id": 4,
        "text": "Net reproduction rate"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Total fertility</strong> rate gives the approximate magnitude of completed family size.</p>\n<p><strong>Total Fertility Rate</strong></p>\n<ul>\n<li>It represents the average number of children a woman would have if she were to pass through her reproductive years bearing children at the same rates as the women in each age group now.</li>\n<li>It is the&nbsp;<strong>sum of all age specific fertility rates multiplied by 5.</strong></li>\n<li>This measure gives the&nbsp;<strong>approximate magnitude of completed family size</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false about par boiling?",
    "choices": [
      {
        "id": 1,
        "text": "Parboiling refers to partial cooking of rice in steam"
      },
      {
        "id": 2,
        "text": "The hot soaking process is used for par boiling."
      },
      {
        "id": 3,
        "text": "Vitamins and minerals are driven into endosperm due to par boiling."
      },
      {
        "id": 4,
        "text": "Par boiling softens the rice grains and makes it resistant to insects."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Par boiling <strong>hardens</strong> the rice grains (not softens) and makes it resistant to insects.</p>\n<p><strong>Par boiling:</strong></p>\n<p>Par boiling is the process of <strong>partial cooking of rice in steam.</strong></p>\n<p>The <strong>hot soaking process</strong> is used for par boiling and it was developed by the Central Food Technological Research Institute (<strong>CFTRI</strong>), Mysore.</p>\n<p>It preserves the nutritive quality of rice as during the process, vitamins and minerals in the outer aleurone layer are driven into inner endosperm.</p>\n<p>The <strong>advantages</strong> are:</p>\n<ul>\n<li>Preserves nutritive quality</li>\n<li>Hardens the grains</li>\n<li>Makes the rice grains insect resistant</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is least likely to be seen in a patient suspected of COVID-19?",
    "choices": [
      {
        "id": 1,
        "text": "Elevated transaminases"
      },
      {
        "id": 2,
        "text": "Elevated fibrinogen"
      },
      {
        "id": 3,
        "text": "Lymphocytosis"
      },
      {
        "id": 4,
        "text": "Prolonged prothrombin time"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Lymphocytosis is least likely to be seen in a patient with <strong>COVID-19</strong>. On the contrary, <strong>lymphopenia</strong> is likely to be seen.&nbsp;</p>\n<p><strong>Common laboratory abnormalities</strong> seen in COVID-19 are:</p>\n<ul>\n<li style=\"font-weight: 400;\">Lymphopenia</li>\n<li style=\"font-weight: 400;\">Mild thrombocytopenia</li>\n<li style=\"font-weight: 400;\">Elevated aminotransaminase levels</li>\n<li style=\"font-weight: 400;\">Elevated lactate dehydrogenase levels</li>\n<li style=\"font-weight: 400;\">Elevated inflammatory markers - eg, ferritin, C-reactive protein, and erythrocyte sedimentation rate</li>\n<li style=\"font-weight: 400;\">Markers of a hypercoagulable state -&nbsp;high fibrinogen, high D-dimer levels, increased fibrin degradation products, prolonged prothrombin time (PT) and activated partial thromboplastin time (aPTT)&nbsp;</li>\n</ul>\n<p>The degree of these abnormalities tends to correlate with disease severity.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Interpret the given ECG:",
    "choices": [
      {
        "id": 1,
        "text": "Wenckebach block"
      },
      {
        "id": 2,
        "text": "Mobitz block"
      },
      {
        "id": 3,
        "text": "Complete heart block"
      },
      {
        "id": 4,
        "text": "1st Degree heart block"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above ECG shows a&nbsp;<strong>complete heart block</strong>.</p>\n<p>Features in the ECG supporting the diagnosis of complete heart block:</p>\n<ul style=\"list-style-type: disc;\">\n<li>PP interval is constant</li>\n<li>RR interval is constant</li>\n<li>P waves more in number than QRS complexes</li>\n<li><strong>There is no relation between P waves and the QRS complexes.</strong></li>\n</ul>\n<p>For a second-degree heart block, the <strong>QRS complex</strong> should be preceded by the <strong>P wave,&nbsp;</strong>whereas in a third-degree heart block, the QRS complex is independent of the P wave.</p>\n<p>The ECG features are marked in the image below:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1517a4128aa2437094285ceb227303c8.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2cda5e1e69cc4437b5481b5bc60d6f25x720x178.JPEG"
    ]
  },
  {
    "text": "Which of the following features would you not expect to see in patients with Parkinson\u2019s disease?",
    "choices": [
      {
        "id": 1,
        "text": "Genitourinary disturbances"
      },
      {
        "id": 2,
        "text": "Orthostatic hypotension"
      },
      {
        "id": 3,
        "text": "Exaggerated deep tendon reflexes"
      },
      {
        "id": 4,
        "text": "Micrographia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Exaggerated deep tendon reflexes are not a feature of Parkinson's disease. Cardinal motor features in PD include:</p>\n<ul>\n<li>Resting tremors</li>\n<li>Bradykinesia</li>\n<li>Rigidity</li>\n<li>Gait disturbance / postural instability</li>\n</ul>\n<p>Mnemonic: TRAP - <strong>T</strong>remors + <strong>R</strong>igidity + <strong>A</strong>kinesia + <strong>P</strong>ostural instability</p>\n<ul>\n<li>Other motor features include:\n<ul>\n<li>Micrographia</li>\n<li>Masked facies (hypomimia)</li>\n<li>Reduced eye blinking</li>\n<li>Soft voice (hypophonia)</li>\n<li>Dysphagia</li>\n</ul>\n</li>\n<li>Non-motor features are:\n<ul>\n<li>Anosmia</li>\n<li>Sensory disturbance (pain)</li>\n<li>Mood Disorders (depression)</li>\n<li>Sleep disturbances (rapid eye movement behavior disorder)</li>\n<li>Autonomic:\n<ul>\n<li>GI disturbances</li>\n<li>Genitourinary disturbances</li>\n<li>Sexual dysfunction</li>\n<li>Orthostatic hypotension</li>\n</ul>\n</li>\n<li>Cognitive impairment</li>\n</ul>\n</li>\n</ul>\n<p>Parkinson&rsquo;s disease(PD)<strong>&nbsp;</strong>is the second most common neurodegenerative disorder after Alzheimer's disease.&nbsp;<strong>UK Brain Bank criteria</strong> is used for the diagnosis of PD.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not seen in tumor lysis syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Hyperphosphatemia"
      },
      {
        "id": 2,
        "text": "Hyperuricemia"
      },
      {
        "id": 3,
        "text": "Hypercalcemia"
      },
      {
        "id": 4,
        "text": "Hyperkalemia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Hypocalcemia,</strong>&nbsp;not hypercalcemia,<strong>&nbsp;</strong>is seen in <strong>tumour lysis syndrome</strong> (TLS).&nbsp;</p>\n<p>It is caused by the destruction of a large number of rapidly proliferating neoplastic cells.&nbsp;It most commonly occurs after the initiation of&nbsp;<strong>chemotherapy</strong>.&nbsp;It is characterized by:</p>\n<ul>\n<li><strong>Hyperuricemia</strong></li>\n<li><strong>Hyperkalemia</strong></li>\n<li><strong>Hyperphosphatemia</strong></li>\n<li><strong>Hypocalcemia&nbsp;</strong></li>\n<li>Acidosis</li>\n<li>Acute renal failure</li>\n</ul>\n<p>The management of TLS includes:</p>\n<ul>\n<li><strong>Aggressive hydration</strong></li>\n<li><strong>Allopurinol</strong>&nbsp;</li>\n<li>Urinary alkalinization with sodium bicarbonate(Only advisable if rasburicase is not readily available. The level of calcium should be serially monitored)</li>\n<li><strong>Rasburicase</strong> - recombinant urate oxidase.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During an intra-oral procedure, the resident uses the given suture material to place sutures on the soft palate. What is this suture material called?",
    "choices": [
      {
        "id": 1,
        "text": "Vicryl"
      },
      {
        "id": 2,
        "text": "Silk"
      },
      {
        "id": 3,
        "text": "Plain catgut"
      },
      {
        "id": 4,
        "text": "Prolene"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The suture material shown in the image is <strong>plain catgut</strong>. It is a <strong>yellowish absorbable</strong> suture material.&nbsp;</p>\n<p>Chromic catgut is brownish in colour.</p>\n<p><strong>Vicryl </strong>is a <strong>violet</strong>-coloured <strong>absorbable</strong> suture material.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3cde201665e648299feca1d7e71e9917.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5d33be97449342c5a89692d99693fd84x508x705.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cc517a4a90ed425e93d5cb5ed3baf87ex800x556.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7eae3ce79c1246208e2e2af77f1c530ex1208x1042.PNG"
    ]
  },
  {
    "text": "Which of the following is the earliest sign in Crohn's disease?",
    "choices": [
      {
        "id": 1,
        "text": "Cobblestone appearance"
      },
      {
        "id": 2,
        "text": "Deep fissured ulcers"
      },
      {
        "id": 3,
        "text": "Rose-thorn appearance"
      },
      {
        "id": 4,
        "text": "Aphthous ulcers"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Aphthous ulcers</strong>, surrounded by a rim of erythematous mucosa, are the earliest lesions seen in a patient with Crohn's disease during<strong> endoscopy.</strong></p>\n<p>Crohn's colitis usually spares the rectum and is <strong>most severe </strong>in the <strong>cecum </strong>and <strong>right colon</strong>. In early Crohn's disease, small, <strong>punched-out aphthous ulcers</strong> are often seen (the result of submucosal lymphoid follicle expansion). In moderate disease, the aphthous ulcers coalesce into larger ulcers, which may take on the appearance of a star (stellate ulcers). As disease severity increases, submucosal edema and injury can result in <strong>cobblestoning</strong> of the mucosa and eventually the formation of <strong>serpiginous ulcers</strong>, which are typical findings in Crohn's disease.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient was evaluated for dysphagia, and barium swallow shows the following image. The probable diagnosis is ________",
    "choices": [
      {
        "id": 1,
        "text": "Achalasia cardia"
      },
      {
        "id": 2,
        "text": "Nutcracker esophagus"
      },
      {
        "id": 3,
        "text": "Diffuse esophageal spasm"
      },
      {
        "id": 4,
        "text": "Hypertonic peristalsis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shows a&nbsp;<strong>corkscrew esophagus</strong>, which is seen in&nbsp;<strong>diffuse esophageal spasm.</strong></p>\n<div class=\"ng-star-inserted\">\n<div class=\"table-responsive font-weight-light answer-scroll ng-star-inserted\">\n<p><strong>Diffuse Esophageal Spasm&nbsp;</strong><strong>-</strong> It is a hypermotility disorder of the esophagus seen more commonly in women.<span class=\"Apple-converted-space\">&nbsp; </span>Patients usually present with <strong>dysphagia</strong> and <strong>chest pain</strong> which is caused by spontaneous, abnormal contractions seen more in the distal two-thirds of the oesophageal body. However, in between the contractions, peristalsis remains normal. Pathologically, there is marked hypertrophy of the circular muscles.</p>\n<p class=\"p1\">A barium swallow shows a&nbsp;<strong>corkscrew esophagus.&nbsp;</strong>However<strong>, manometry&nbsp;</strong>is the&nbsp;<strong>gold standard test&nbsp;</strong>for diagnosis.&nbsp;Simultaneous,&nbsp;multi-peaked contractions of high amplitude (<strong>&gt;120 mmHg</strong>) or long duration (&gt;2.5 seconds) are suggestive of DES (as given in the question).</p>\n<p class=\"p1\"><strong>Treatment</strong>: Calcium-channel antagonists, vasodilators, and endoscopic dilatation have only transient effects. Surgical treatment includes extended/long oesophageal myotomy, up to the aortic arch, if required. The surgical treatment of DES is more successful in improving dysphagia than chest pain.</p>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/58a466c386134dd2ad7a137549969f4f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Budd-Chiari syndrome is due to thrombosis of the _______.",
    "choices": [
      {
        "id": 1,
        "text": "Infra-renal IVC"
      },
      {
        "id": 2,
        "text": "Renal part of IVC"
      },
      {
        "id": 3,
        "text": "Hepatic vein"
      },
      {
        "id": 4,
        "text": "Splenic vein"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Budd&ndash;Chiari syndrome (BCS)</strong> is an uncommon congestive hepatopathy characterized by the <strong>obstruction of hepatic venous outflow.</strong></p>\n<p><strong>Types:&nbsp;</strong></p>\n<ul>\n<li class=\"p1\"><strong>Primary&nbsp; Budd&ndash;Chiari syndrome</strong>: when the obstructive process involves an endoluminal venous thrombosis.</li>\n<li class=\"p1\"><strong>Secondary Budd&ndash;Chiari syndrome</strong>:&nbsp; when the veins are compressed or invaded by a neighboring lesion originating outside the vein.</li>\n</ul>\n<p>Most common<strong> presentation:</strong> ascites and abdominal discomfort.</p>\n<p class=\"p1\"><strong>Abdominal ultrasonography</strong> is the initial <strong>investigation of choice</strong> and can demonstrate the absence of hepatic vein flow, spider web hepatic veins, and collateral hepatic veins.</p>\n<p class=\"p1\">The <strong>definitive</strong> <strong>radiographic</strong> study is <strong>hepatic venography</strong> to determine the presence and extent of hepatic vein thrombus as well as measure inferior vena cava (IVC) pressures.</p>\n<p class=\"p1\"><strong>Hepatic scintigraphy</strong> shows a&nbsp;<strong>\"central hot spot\"&nbsp;</strong>due to healthy hypertrophied caudate lobe.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The bivalent vaccine against Human papilloma virus serotypes is ______",
    "choices": [
      {
        "id": 1,
        "text": "6 and 11"
      },
      {
        "id": 2,
        "text": "16 and 18"
      },
      {
        "id": 3,
        "text": "11 and 16"
      },
      {
        "id": 4,
        "text": "18 and 6"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Bivalent vaccine against HPV 16 and 18 is known as Cervarix. Cervarix is given at 0, 1 and 6 months</strong>.</p>\n<p>Quadrivalent vaccine against<strong> HPV 6, 11, 16 and 18</strong> is known as <strong>Gardasil</strong> or Silgard is given at <strong>0, 2 and 6 months</strong>.</p>\n<p>Nonavalent vaciine against HPV 6, 11, 16, 18, 31, 33, 45, 52 and 58.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify a WHO guideline in second stage of labour among the following:",
    "choices": [
      {
        "id": 1,
        "text": "Do a routine episiotomy"
      },
      {
        "id": 2,
        "text": "Manual support to perineum to maintain flexion of head"
      },
      {
        "id": 3,
        "text": "Never give warm compress to the perineum"
      },
      {
        "id": 4,
        "text": "Perform labor in lithotomy position"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The practice of <strong>guarding the perineum during delivery of the fetal head</strong> is a <strong>WHO specified</strong> guideline, this prevents perineal tear.</p>\n<p>The fingers of <strong>one hand support the perineum</strong>, while the <strong>second hand</strong> applies <strong>pressure to the fetal head to control the speed of crowning</strong>.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old G3P2 was admitted to the labor room at 34 weeks of gestation in view of  BP - 150/90mmHg and Urine albumin - 2+. Which of the following drugs is not used to control BP in this patient ______",
    "choices": [
      {
        "id": 1,
        "text": "Methyl dopa"
      },
      {
        "id": 2,
        "text": "Labetalol"
      },
      {
        "id": 3,
        "text": "Hydralazine"
      },
      {
        "id": 4,
        "text": "Captopril"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Captopril</strong> is an ACE inhibitor and it is <strong>contraindicated</strong> in pregnancy.</p>\n<p>High BP and proteinuria are diagnostic of pre-eclampsia. Methyl dopa, labetalol, and hydralazine are agents used for the management of pre-eclampsia.</p>\n<p><strong>ACE Inhibitor effects on the fetus</strong>: These drugs inhibit the conversion of angiotensin I to the potent vasoconstrictor angiotensin-II. They can cause severe fetal malformations when given in the second and third trimesters.</p>\n<p><strong>Anti-hypertensives to be avoided in pregnancy</strong>:</p>\n<ul>\n<li>ACE inhibitors</li>\n<li>Angiotensin receptor blockers&nbsp;</li>\n<li>Diuretics (Contraindicated as an anti-hypertensive but can be given in CCF)</li>\n<li>Reserpine</li>\n<li>Sodium Nitroprusside (used only as a drug of last resort in refractory severe hypertension)</li>\n<li>Diazoxide</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old boy was found to have a height for age 2 standard deviations below the median. Furthermore, his bone age was found to be equal to chronological age. Which of the following is most likely?",
    "choices": [
      {
        "id": 1,
        "text": "Familial short stature"
      },
      {
        "id": 2,
        "text": "Constitutional delay"
      },
      {
        "id": 3,
        "text": "Undernutrition"
      },
      {
        "id": 4,
        "text": "Growth hormone deficiency"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Familial short stature</strong>&nbsp;is most likely as<strong>&nbsp;</strong>bone age is equal to chronological age.</p>\n<p>Bone age is more than chronological age&nbsp;in precocious puberty.</p>\n<p>Bone age is less than chronological age in all other causes of short stature such as constitutional delay, undernutrition, genetic diseases,&nbsp;and endocrine causes.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Shepherd's crook deformity is seen in ______",
    "choices": [
      {
        "id": 1,
        "text": "Non-ossifying fibroma"
      },
      {
        "id": 2,
        "text": "Fibrous dysplasia"
      },
      {
        "id": 3,
        "text": "Osteoid osteoma"
      },
      {
        "id": 4,
        "text": "Osteoblastoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Shepherd's crook deformity</strong> is seen in&nbsp;<strong>fibrous dysplasia of proximal femur.</strong></p>\n<p><strong>Fibrous dysplasia</strong> is a developmental disorder in which area of<strong> trabecular bone is replaced by cellular fibrous tissue.&nbsp;</strong>If this occurs in the weight-bearing bones like the femur, it will lead to the bending of bones called as &lsquo;Shepherd&rsquo;s crook' deformity.</p>\n<p>Image: Bending of upper femur in fibrous dysplasia known as <strong>Shepherd&rsquo;s crook deformity</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/28e2718714834a9cab91f341cb7123ccx512x771.PNG"
    ]
  },
  {
    "text": "To diagnose a child with attention-deficit/hyperactivity disorder, symptoms should begin before what age?",
    "choices": [
      {
        "id": 1,
        "text": "7"
      },
      {
        "id": 2,
        "text": "12"
      },
      {
        "id": 3,
        "text": "17"
      },
      {
        "id": 4,
        "text": "18"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>To diagnose ADHD, symptoms have to be present<strong> before 12 years</strong> of age.</p>\n<p>According to DSM-5, <strong>six or more symptoms</strong> of inattention for children <strong>up to</strong> <strong>age 16 years</strong>, or <strong>five or more</strong>&nbsp;symptoms for adolescents age <strong>17 years and older</strong> and <strong>adults&nbsp;</strong>are required to make a diagnosis.&nbsp;Symptoms of inattention/hyperactivity must be present for at least 6 months.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A known cardiac patient who underwent PCI with stent placement 6 months ago is on regular aspirin ever since. He is posted for emergency hernia surgery for the strangulated hernia. What would be your advice regarding aspirin?",
    "choices": [
      {
        "id": 1,
        "text": "Continue aspirin"
      },
      {
        "id": 2,
        "text": "Stop aspirin and replace with heparin"
      },
      {
        "id": 3,
        "text": "Stop aspirin and give platelet transfusion"
      },
      {
        "id": 4,
        "text": "Postpone the surgery"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>If a patient on a coronary stent taking aspirin is posted for surgery, <strong>aspirin</strong> should be <strong>continued</strong> even on the day of surgery to avoid the risk of stent rethrombosis, myocardial infarction or death.</p>\n<p>Antiplatelet drugs <strong>should not be interrupted</strong> in patients with <strong>coronary stents</strong> without consultation with a cardiologist.</p>\n<ul>\n<li><strong>Drug-eluting coronary stents</strong> require antiplatelet administration for at least&nbsp;<strong>6 months.</strong></li>\n<li><strong>Bare metal stents</strong> for at least <strong>one month.</strong></li>\n</ul>\n<p>Ideally,<strong> elective surgery is avoided</strong> for one month in patients with bare coronary stents and one year for those with drug-eluting stents. But&nbsp;<strong>emergency surgeries</strong>&nbsp;<strong>cannot be postponed.</strong></p>\n<p>Note: The drug-eluting stents <strong>delay this endothelial growth by eluting drugs like sirolimus/paclitaxel</strong> etc and thereby reduce the risk of endothelial overgrowth causing occlusion. But this prolonged lack of endothelial lining causes an increased risk of thrombosis and hence a l<strong>onger duration of antiplatelet therapy is required with drug-eluting stents</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A male patient presents to your clinic with complaints of a large lesion on the back and left shoulder. There is no pain or itching associated with the lesion. On examination, there is a 15x20 cm hyperpigmented patch with irregular borders over the left shoulder and back, with hair growth over the lesion. The image of the physical examination findings is shown below. When is the onset of the lesion most likely to occur?",
    "choices": [
      {
        "id": 1,
        "text": "4th decade"
      },
      {
        "id": 2,
        "text": "6th decade"
      },
      {
        "id": 3,
        "text": "Infancy"
      },
      {
        "id": 4,
        "text": "Puberty"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given stem and image show <strong>Becker's Naevus, </strong>the onset of which is usually in <strong>puberty.</strong></p>\n<p>Becker's naevus is an <strong>epidermal melanocytic naevus</strong> with aggregation of melanocyte clusters in the epidermis beginning in<strong>&nbsp;adolescence</strong> when there is an <strong>increased sensitivity to androgens</strong> especially in the distribution of outer arms, scapular area and chest. It is rarely congenital. A triad of features can be seen:</p>\n<ul>\n<li><strong> Hyperpigmentation</strong></li>\n<li><strong>Hypertrichosis</strong></li>\n<li><strong>Acne</strong></li>\n</ul>\n<p>Becker naevus can also be associated with extracutaneous abnormalities such as aplasia or hypoplasia of the underlying breast tissue, or pectoralis major muscle or lipoatrophy. In such cases, it is referred to as Becker naevus Syndrome. Other extracutaneous associations include ipsilateral limb growth disturbance, supernumer&shy;ary nipples, and scoliosis.</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2eefbdc342d64ad7906452f3586cc481.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Patient with a metallic foreign body in eye, which of the following investigation is contraindicated?",
    "choices": [
      {
        "id": 1,
        "text": "MRI"
      },
      {
        "id": 2,
        "text": "USG"
      },
      {
        "id": 3,
        "text": "X-ray"
      },
      {
        "id": 4,
        "text": "CT"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>MRI is contraindicated in:</p>\n<ul>\n<li>Cardiac pacemakers (best response)</li>\n<li>Aneurysmal metallic clips</li>\n<li>Metallic foreign body</li>\n<li>Cochlear implant</li>\n<li>Claustrophobia (relative contraindication)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Personal monitoring of radiation is done by:",
    "choices": [
      {
        "id": 1,
        "text": "TLD badge"
      },
      {
        "id": 2,
        "text": "Collimators"
      },
      {
        "id": 3,
        "text": "Linear accelerator"
      },
      {
        "id": 4,
        "text": "Grid"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Personal monitoring of radiation is done by<strong>&nbsp;</strong>a<strong> TLD badge.</strong></p>\n<p><strong>TLD badge</strong> (thermoluminescent dosimeter) is made up of <strong>Li</strong><strong>thium fluoride</strong> or calcium sulfate doped with<strong> </strong>dysprosium.</p>\n<p>The badge should be positioned&nbsp;according to local or national practices. In India, one TLD badge has to be worn at the <strong>chest level inside</strong> the lead <strong>apron,</strong> if the apron is used. An additional <strong>wrist badge</strong> has to be worn for procedures requiring hands close to the primary beam.&nbsp;</p>\n<p>The given image shows a TLD badge.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/218f24956fbb4fae98055edf74168223x240x73.JPEG"
    ]
  }
];
        let quizName = 'Fmge Mini Test - 029';
        let hierarchy = ["Marrow", "FMGE Mini Test Series", "2022"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>