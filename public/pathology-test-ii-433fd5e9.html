<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pathology Test Ii - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2018 - 19
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "The accumulation of aggregates of the protein ______ is associated with Parkinson disease and multiple system atrophy.",
    "choices": [
      {
        "id": 1,
        "text": "TPD-43"
      },
      {
        "id": 2,
        "text": "Tau"
      },
      {
        "id": 3,
        "text": "FUS"
      },
      {
        "id": 4,
        "text": "Alpha-synuclein"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>The pathologic process that is common across most of the neurodegenerative diseases is the accumulation of protein aggregates, which is a morphologic hallmark of the disease.</strong></p>\n<p>The protein aggregates are recognized histologically as inclusions, which often are the diagnostic hallmark of the disease.</p>\n<p>The basis for aggregation varies from one disease to another.</p>\n<p>It may be directly related to an intrinsic feature of a mutated protein (e.g., expanded polyglutamine repeats in Huntington disease), an intrinsic feature of a peptide derived from a larger precursor protein (e.g., A&beta; in Alzheimer disease), or an unexplained alteration of a normal cellular protein (e.g., &alpha;-synuclein in sporadic Parkinson disease).</p>\n<table style=\"height: 119px; width: 410px;\">\n<tbody>\n<tr>\n<td style=\"width: 156px;\"><strong>Proteins</strong></td>\n<td style=\"width: 246px;\"><strong>Disease with Inclusion</strong></td>\n</tr>\n<tr>\n<td style=\"width: 156px;\">A&beta;</td>\n<td style=\"width: 246px;\">Alzheimer disease</td>\n</tr>\n<tr>\n<td style=\"width: 156px;\">Tau</td>\n<td style=\"width: 246px;\">\n<p>Alzheimer disease</p>\n<p>Frontotemporal degeneration</p>\n<p>Parkinson's disease(with LRKK2 mutation)</p>\n<p>Progressive supranuclear palsy</p>\n<p>Corticobasal degeneration</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 156px;\">TPD-43</td>\n<td style=\"width: 246px;\">\n<p>Frontotemporal degeneration</p>\n<p>Amyotrophic lateral sclerosis</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 156px;\">FUS</td>\n<td style=\"width: 246px;\">\n<p>Frontotemporal degeneration</p>\n<p>Amyotrophic lateral sclerosis</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 156px;\">&alpha;- synuclein</td>\n<td style=\"width: 246px;\">\n<p>Parkinson disease</p>\n<p>Multiple system atrophy</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 156px;\">Polyglutamine aggregates</td>\n<td style=\"width: 246px;\">\n<p>Huntington's disease</p>\n<p>Some form of spinocerebellar ataxia</p>\n<p>Spinal bulbar muscular atrophy</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following procarcinogens does not require metabolic activation?",
    "choices": [
      {
        "id": 1,
        "text": "Cyclophosphamide"
      },
      {
        "id": 2,
        "text": "Benzidene"
      },
      {
        "id": 3,
        "text": "3-Methylcholanthrene"
      },
      {
        "id": 4,
        "text": "Dimethylaminoazobenzene"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Cyclophosphamide</strong> is a <strong>directly-acting carcinogen</strong> that does not require metabolic activation.</p>\n<p>Carcinogens can be direct-acting or indirect-acting based on their activation.</p>\n<p><strong>Direct-acting</strong> carcinogens require no metabolic conversion to become carcinogenic. Most are weak carcinogens, but some are important because they are cancer chemotherapeutic drugs (e.g., alkylating agents). The direct-acting carcinogens include:</p>\n<ul>\n<li>Alkylating Agents:\n<ul>\n<li>\u03b2-Propiolactone</li>\n<li>Dimethyl sulfate</li>\n<li>Diepoxybutane</li>\n<li>Anticancer drugs (<strong>cyclophosphamide</strong>, chlorambucil, nitrosoureas, and others)</li>\n</ul>\n</li>\n<li>Acylating Agents:\n<ul>\n<li>1-Acetyl-imidazole</li>\n<li>Dimethylcarbamyl chloride</li>\n</ul>\n</li>\n</ul>\n<p><strong>Indirect-acting</strong> carcinogens (<strong>procarcinogens</strong>) are chemicals that require <strong>metabolic conversion</strong> to become active carcinogens. The carcinogenic product of metabolism is called an <strong>ultimate carcinogen</strong>.\u00a0The indirect-acting carcinogens include:</p>\n<ul>\n<li>Polycyclic and heterocyclic aromatic hydrocarbons:\n<ul>\n<li>Benz[a]anthracene</li>\n<li>Benzo[a]pyrene</li>\n<li>Dibenz[a,h]anthracene</li>\n<li><strong>3-Methylcholanthrene</strong></li>\n<li>7,12-Dimethylbenz[a]anthracene</li>\n</ul>\n</li>\n<li>Aromatic amines, amides, azo dyes:\n<ul>\n<li>2-Naphthylamine (\u03b2-naphthylamine)</li>\n<li><strong>Benzidine</strong></li>\n<li>2-Acetylaminofluorene</li>\n<li><strong>Dimethylaminoazobenzene</strong> (butter yellow)</li>\n</ul>\n</li>\n<li>Natural plant and microbial products:\n<ul>\n<li>Aflatoxin B1</li>\n<li>Griseofulvin</li>\n<li>Cycasin</li>\n<li>Safrole</li>\n<li>Betel nuts</li>\n<li>Others</li>\n<li>Nitrosamine and amides</li>\n<li>Vinyl chloride, nickel, chromium</li>\n<li>Insecticides, fungicides</li>\n<li>Polychlorinated biphenyls</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old male patient presented with backache. Urine examination revealed nephrotic range proteinuria with Bence-Jones proteins. Laboratory reports showed hypercalcemia. Histopathological examination of the bone marrow aspirate showed the findings as given below. The findings seen on histopathology are due to the accumulation of:",
    "choices": [
      {
        "id": 1,
        "text": "Cholesterol"
      },
      {
        "id": 2,
        "text": "Immunoglobulins"
      },
      {
        "id": 3,
        "text": "Lipoproteins"
      },
      {
        "id": 4,
        "text": "Neutrophils"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario and the histopathological image showing&nbsp;<strong>Russell bodies</strong>&nbsp;are suggestive of <strong>multiple myeloma</strong>. These&nbsp;are&nbsp;globular, eosinophilic intracellular accumulations of<strong> immunoglobulins.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6311e153f3694cd4bd2dcc454f596416.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1829b43644074faab3f8c019011df2b2x1280x1178.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b2c694bb9c4e472fb9a3d5ebb7cbb163x1280x1179.JPEG"
    ]
  },
  {
    "text": "Which of the following statements is false about Tay\u2013Sachs Disease?",
    "choices": [
      {
        "id": 1,
        "text": "Affected infants are normal at birth"
      },
      {
        "id": 2,
        "text": "Neurons in the CNS, ANS, and retina are affected"
      },
      {
        "id": 3,
        "text": "Accumulations stain positive for oil red O and Sudan black B"
      },
      {
        "id": 4,
        "text": "Whorled configurations within mitochondria are seen"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In<strong> Tay&ndash;Sachs </strong>disease, an electron microscope shows <strong>whorled</strong> configurations<strong> within lysosomes </strong>composed of onion-skin layers of membranes.</p>\n<p>Affected <strong>infants </strong>appear<strong> normal at birth</strong> but begin to manifest signs and symptoms at about 6 months of age. The involvement of neurons in the central and autonomic nervous systems and retina dominates the clinical picture.</p>\n<p>There is a severe motor and mental deterioration, beginning with motor incoordination and mental obtundation. This leads to muscular flaccidity, blindness, and increasing dementia.&nbsp;Over the span of 1 or 2 years, a completely vegetative state is reached, followed by death at age 2 to 3 years</p>\n<p>On histologic examination, the neurons are ballooned with cytoplasmic vacuoles, each representing a markedly distended lysosome filled with gangliosides.</p>\n<p>A<strong> cherry-red spot</strong> appears in the macula, representing the accentuation of the normal color of the macular choroid. This is in contrast with the pallor produced by the swollen ganglion cells in the remainder of the retina<strong>. </strong>This finding is characteristic of Tay-Sachs disease and other storage disorders affecting the neurons.</p>\n<p>The image given below shows a cherry-red spot on retina.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a54db95314ca48919b2da334f2a0cce2x720x538.JPEG"
    ]
  },
  {
    "text": "During an inflammatory response, which of the following does not increase vascular permeability?",
    "choices": [
      {
        "id": 1,
        "text": "IL-4"
      },
      {
        "id": 2,
        "text": "C3a"
      },
      {
        "id": 3,
        "text": "Serotonin"
      },
      {
        "id": 4,
        "text": "Leukotriene C4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>IL-4</strong> is an&nbsp;<strong>anti-inflammatory</strong>&nbsp;cytokine and does not have any effect on vascular permeability.</p>\n<table>\n<tbody>\n<tr>\n<td style=\"text-align: center;\" width=\"225\">\n<p><strong>Inflammatory change</strong></p>\n</td>\n<td style=\"text-align: center;\" width=\"225\">\n<p><strong>Principal Mediators</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Vasodilation</p>\n</td>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Histamine</p>\n<p>Prostaglandins</p>\n</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Increased vascular permeability</p>\n</td>\n<td style=\"text-align: center;\" width=\"225\">\n<p><strong>Histamine</strong> and <strong>serotonin</strong></p>\n<p><strong>C3a</strong> and <strong>C5a</strong> (by the&nbsp;release of vasoactive amines from mast cells, other cells)</p>\n<p><strong>Leukotrienes </strong>C<sub>4, </sub>D<sub>4</sub>, E<sub>4,</sub></p>\n</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Chemotaxis, leukocyte recruitment, activation</p>\n</td>\n<td style=\"text-align: center;\" width=\"225\">\n<p>TNF, IL-1</p>\n<p>Chemokines</p>\n<p><strong>C3a</strong> and C5a</p>\n<p>Leukotriene B<sub>4</sub></p>\n</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Fever</p>\n</td>\n<td style=\"text-align: center;\" width=\"225\">\n<p>IL-1, TNF</p>\n<p>Prostaglandins</p>\n</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Pain</p>\n</td>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Prostaglandins</p>\n<p>Bradykinin</p>\n</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Tissue damage</p>\n</td>\n<td style=\"text-align: center;\" width=\"225\">\n<p>Lysosomal enzymes of leukocytes</p>\n<p>Reactive oxygen species</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 5-year-old child presents with colicky abdominal pain and purpuric skin lesions on the extensor surfaces of the arms and legs. Urine analysis reveals hematuria and mild proteinuria.\u00a0The most probable diagnosis is:",
    "choices": [
      {
        "id": 1,
        "text": "Henoch-Sch\u00f6nlein Purpura"
      },
      {
        "id": 2,
        "text": "Wegener\u2019s granulomatosis"
      },
      {
        "id": 3,
        "text": "Kawasaki\u2019s disease"
      },
      {
        "id": 4,
        "text": "Good pasteur syndrome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical features and the investigations are suggestive of <strong>Henoch-Schonlein purpura</strong>.</p>\n<p><strong>Henoch-Sch&ouml;nlein purpura</strong> is a systemic immune disorder, commonly seen in the age group of 3-8 years. The patient may present with the following clinical features:</p>\n<ul>\n<li class=\"p1\"><strong>Skin lesions</strong>- characteristically involve the <strong>extensor surfaces of arms and legs,</strong> and also the buttocks</li>\n<li class=\"p1\"><strong>Abdominal manifestations</strong>- include <strong>pain,</strong> vomiting, and intestinal bleeding.</li>\n<li class=\"p1\"><strong>Renal manifestations</strong>- include <strong>gross or microscopic hematuria</strong>, nephritic or nephrotic syndrome. Renal manifestations are more severe in the adults</li>\n</ul>\n<p class=\"p1\">It is strongly associated with atopy in a few patients, and the onset often follows an upper respiratory infection. IgA is deposited in the glomerular mesangium in a distribution similar to that of IgA nephropathy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 43 year-old-male patient came to the clinic with complaints of occasional hematuria and recurrent upper respiratory tract infections. Examination revealed tiny petechial hemorrhages over his lower limbs. The patient tests positive for the anti-proteinase-3 antibody. Which of the following is true about this major antibody?",
    "choices": [
      {
        "id": 1,
        "text": "It is also known as p-ANCA"
      },
      {
        "id": 2,
        "text": "It is induced by propylthiouracil"
      },
      {
        "id": 3,
        "text": "It is triggered by infections"
      },
      {
        "id": 4,
        "text": "It shows perinuclear staining on immunofluorescence"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Anti-proteinase-3/PR3-ANCA / c-ANCA is <strong>triggered by certain infections</strong> as proteinase 3 shares similarities with many microbial peptides. This is the major antibody responsible for Granulomatosis with Polyangiitis (GPA).<strong>&nbsp;</strong></p>\n<p><strong>Antineutrophil cytoplasmic&nbsp;antibodies (ANCA)</strong>&nbsp;are a heterogeneous group of&nbsp;autoantibodies directed against the constituents of neutrophils or monocytes. Many patients with vasculitis have circulating antibodies that react with&nbsp;neutrophil cytoplasmic antigens.</p>\n<p>The two most important ANCAs related to vasculitis are:&nbsp;</p>\n<ul>\n<li><strong>Anti-proteinase-3</strong>/PR3-ANCA/c-ANCA - Directed against PR3 which is a neutrophil azurophilic granule constituent.</li>\n<li><strong>Anti-myeloperoxidase</strong>/MPO-ANCA/p-ANCA&nbsp;<em>-</em>&nbsp;Directed against MPO which is a lysosomal granule constituent involved in oxygen free-radical generation. MPO-ANCAs are induced by several therapeutic agents, particularly <strong>propylthiouracil</strong>.&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A chronic alcoholic developed cirrhosis of the liver. Which is the principal cell type involved in scar deposition in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Hepatocytes"
      },
      {
        "id": 2,
        "text": "Hepatic stellate cells"
      },
      {
        "id": 3,
        "text": "Sinusoidal endothelial cells"
      },
      {
        "id": 4,
        "text": "Kupffer cells"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The principal cell type involved in <strong>scar</strong> deposition in<strong> cirrhosis</strong> of the liver is&nbsp;the <strong>hepatic stellate cell </strong>or Ito cell.</p>\n<p>Hepatic stellate cells deposit primarily <strong>type I </strong>and<strong> type III</strong> <strong>collagen </strong>in the lobule and cause fibrosis. In their quiescent form, these cells&nbsp;store&nbsp;<strong>lipids </strong>and<strong> vitamin A</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 27-year-old woman is diagnosed to have idiopathic ITP. Which of the following features is least likely to be seen in her?",
    "choices": [
      {
        "id": 1,
        "text": "Megathrombocytes"
      },
      {
        "id": 2,
        "text": "Petechiae and ecchymosis"
      },
      {
        "id": 3,
        "text": "Lymphadenopathy"
      },
      {
        "id": 4,
        "text": "Normal PT and PTT"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Lymphadenopathy</strong>&nbsp;and splenomegaly are uncommon in idiopathic (primary) ITP. They are seen in <strong>secondary</strong> <strong>ITP</strong>.</p>\n<p><strong>Chronic ITP</strong> occurs most commonly in adult women younger than 40 years of age.&nbsp;The female-to-male ratio is 3: 1.&nbsp;It<strong>&nbsp;</strong>is a <strong>type II hypersensitivity</strong> reaction. It is of 2 types:</p>\n<ul>\n<li>Primary or idiopathic - without any risk factors</li>\n<li>Secondary - presence of predisposing conditions like SLE, HIV, CLL</li>\n</ul>\n<p>Signs of accelerated thrombopoiesis that are seen in this condition are:</p>\n<ul>\n<li>Megakaryocytes in bone marrow</li>\n<li>Megathrombocytes (abnormally large platelets) in peripheral blood</li>\n</ul>\n<p>The image given below shows 2 megakaryocytes seen in bone marrow aspirate (Wrights stain).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/23c3c4d917114552a31d6213d52fa422x800x559.JPEG"
    ]
  },
  {
    "text": "A pathologist is examining a sample from a patient with amyloidosis. Which of the following is false about the specimen's appearance?",
    "choices": [
      {
        "id": 1,
        "text": "Pink-red color on Congo-red staining"
      },
      {
        "id": 2,
        "text": "Rose pink appearance under crystal violet stain"
      },
      {
        "id": 3,
        "text": "Apple-green birefringence under light microscopy"
      },
      {
        "id": 4,
        "text": "Mahogany brown color on iodine staining"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Amyloid</strong> shows <strong>apple-green birefringence&nbsp;</strong>under <strong>polarised microscopy,</strong> after staining with Congo red.</p>\n<p>The appearance of amyloid:&nbsp;</p>\n<ul>\n<li><strong>Light</strong> microscopy -<strong>&nbsp;</strong><strong>amorphous, eosinophilic, hyaline, extracellular</strong> substance</li>\n<li><strong>Congo red</strong> stain - the characteristic appearance using this stain is due to the <strong>cross-&beta;-pleated sheet</strong> conformation\n<ul>\n<li>Under<strong> ordinary light,</strong>&nbsp;it appears <strong>pink</strong> or red color (as shown below)&nbsp;</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c830681cfff74d1ea88558d3c6f69e70x1280x1078.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/daea5316aae14b58bd2ef2d0c79acb00x800x573.PNG"
    ]
  },
  {
    "text": "The following finding was noted on the cardiac tissue specimen of an 82-year-old man. Which of the following is false about the given finding?",
    "choices": [
      {
        "id": 1,
        "text": "It is a tell-tale sign of free radical injury"
      },
      {
        "id": 2,
        "text": "It is injurious to the cell and its function"
      },
      {
        "id": 3,
        "text": "It is derived through lipid peroxidation"
      },
      {
        "id": 4,
        "text": "It can also be seen in liver of aging patients"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>&nbsp;The given histopathological image shows&nbsp;<strong><span data-preserver-spaces=\"true\">yellow-brown lipochrome </span></strong>or&nbsp;<strong>lipofuscin</strong>&nbsp;pigment. It is <strong>not injurious</strong> to the cell or its functions.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7c523f86ec7d4e89abedf0600e249de3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5e23e2d628e8440286fd9ebaef198bdax1280x1239.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/19c9bc9d375649d7ac42ecb43585cdd9x1280x1239.JPEG"
    ]
  },
  {
    "text": "Who discovered the process of phagocytosis?",
    "choices": [
      {
        "id": 1,
        "text": "Thomas Lewis"
      },
      {
        "id": 2,
        "text": "Ilya Mechnikov"
      },
      {
        "id": 3,
        "text": "Rudolf Virchow"
      },
      {
        "id": 4,
        "text": "John Hunter"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 82\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Ilya Ilyich Mechnikov </strong>discovered the process of<strong> phagocytosis.</strong>&nbsp;He is known as the father of natural immunity and&nbsp;established the concept of <strong>cell-mediated immunity.</strong></p>\n<p>He was jointly awarded the 1908 Nobel Prize in Physiology along with&nbsp;Paul <strong>Ehrlich</strong>, who established the concept of<strong> humoral immunity.</strong></p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following image shows a nephrectomy specimen of a patient diagnosed with renal cell carcinoma. What is the likely histopathological finding in this tumor?",
    "choices": [
      {
        "id": 1,
        "text": "Clear cells"
      },
      {
        "id": 2,
        "text": "Signet cells"
      },
      {
        "id": 3,
        "text": "Small cells with high N/C ratio"
      },
      {
        "id": 4,
        "text": "Malignant squamous cells"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image shows a&nbsp;<strong>bright yellow variegated mass</strong> distorting the renal outline at the lower pole. This is suggestive of the&nbsp;<strong>clear cell</strong> type of renal cell carcinoma (<strong>RCC</strong>). The yellow color is due to prominent lipid accumulation.</p>\n<p>Gross findings of various types of renal tumors:</p>\n<table style=\"height: 493px; width: 668px;\">\n<tbody>\n<tr style=\"height: 36px;\">\n<td style=\"width: 82px; height: 36px;\">&nbsp;</td>\n<td style=\"width: 114px; height: 36px;\">\n<p><strong>Clear-cell RCC</strong></p>\n</td>\n<td style=\"width: 114px; height: 36px;\"><strong>Papillary RCC</strong></td>\n<td style=\"width: 97px; height: 36px;\"><strong>Chromophobe RCC</strong></td>\n<td style=\"width: 101.09375px; height: 36px;\"><strong>Oncocytoma</strong></td>\n<td style=\"width: 117.90625px; height: 36px;\"><strong>Angiomyolipoma</strong></td>\n</tr>\n<tr style=\"height: 100px;\">\n<td style=\"width: 82px; height: 100px;\">Site of origin</td>\n<td style=\"width: 114px; height: 100px;\">Proximal tubular epithelium</td>\n<td style=\"width: 114px; height: 100px;\">\n<div class=\"page\" title=\"Page 960\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Proximal tubule</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 97px; height: 100px;\">\n<div class=\"page\" title=\"Page 959\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Intercalated cells of collecting ducts</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 101.09375px; height: 100px;\">\n<div class=\"page\" title=\"Page 958\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Intercalated cells of collecting ducts</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 117.90625px; height: 100px;\">\n<div class=\"page\" title=\"Page 957\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Perivascular epithelioid cells (PEComa)</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n</tr>\n<tr style=\"height: 64px;\">\n<td style=\"width: 82px; height: 64px;\">Number</td>\n<td style=\"width: 114px; height: 64px;\">Solitary, globular, unilateral</td>\n<td style=\"width: 114px; height: 64px;\">\n<div class=\"page\" title=\"Page 960\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Multifocal and bilateral</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 97px; height: 64px;\">Solitary, unilateral</td>\n<td style=\"width: 101.09375px; height: 64px;\">Usually solitary</td>\n<td style=\"width: 117.90625px; height: 64px;\">Mostly solitary, can be multifocal</td>\n</tr>\n<tr style=\"height: 154px;\">\n<td style=\"width: 82px; height: 154px;\">Color</td>\n<td style=\"width: 114px; height: 154px;\">\n<div class=\"page\" title=\"Page 16\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Golden yellow</strong>, due to the high lipid content of their cells</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 114px; height: 154px;\"><strong>Grey tan to dark brown,</strong> depending on the&nbsp;degree of intratumoral hemorrhage</td>\n<td style=\"width: 97px; height: 154px;\">\n<div class=\"page\" title=\"Page 25\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Light tan to brown</strong></p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 101.09375px; height: 154px;\"><strong>Mahogany brown</strong></td>\n<td style=\"width: 117.90625px; height: 154px;\">\n<div class=\"page\" title=\"Page 61\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Yellow to pinkish-tan,</strong> depending on the relative proportions of the various components</p>\n</div>\n</div>\n</div>\n</td>\n</tr>\n<tr style=\"height: 54px;\">\n<td style=\"width: 82px; height: 54px;\">Capsule</td>\n<td style=\"width: 114px; height: 54px;\">\n<p>Pseudocapsule+</p>\n</td>\n<td style=\"width: 114px; height: 54px;\">Pseudocapsule+</td>\n<td style=\"width: 97px; height: 54px;\">Circumscribed but unencapsulated</td>\n<td style=\"width: 101.09375px; height: 54px;\">Well encapsulated</td>\n<td style=\"width: 117.90625px; height: 54px;\">Circumscribed but unencapsulated</td>\n</tr>\n<tr style=\"height: 40px;\">\n<td style=\"width: 82px; height: 40px;\">Appearance</td>\n<td style=\"width: 114px; height: 40px;\">&nbsp;Variegated with cysts, necrosis, hemorrhagic foci</td>\n<td style=\"width: 114px; height: 40px;\">Variegated, friable</td>\n<td style=\"width: 97px; height: 40px;\">Homogenous</td>\n<td style=\"width: 101.09375px; height: 40px;\">Homogenous</td>\n<td style=\"width: 117.90625px; height: 40px;\">Variable</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/053dd672e2d54d32abc7a56f5ae675c3.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old man presents with complaints of fatigue, weight loss, and heaviness in the left hypochondrium for 6 months. His hemogram and peripheral smear are given below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Chronic lymphocytic leukemia"
      },
      {
        "id": 2,
        "text": "Chronic myeloid leukemia"
      },
      {
        "id": 3,
        "text": "Acute lymphoblastic leukemia"
      },
      {
        "id": 4,
        "text": "Acute myeloid leukemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario is suggestive of <strong>chronic myelogenous leukemia </strong>(CML).&nbsp;</p>\n<p>In this condition, the&nbsp;<strong>peripheral smear</strong>&nbsp;contains&nbsp;<strong>neutrophils</strong>&nbsp;and their&nbsp;<strong>precursors</strong>&nbsp;of&nbsp;<strong>various sizes</strong>&nbsp;and configurations like band cells, myelocytes, metamyelocytes,&nbsp;and blasts. Hence, the histological picture is described to have <strong>garden party </strong>or<strong>&nbsp;college girl</strong> appearance.<strong>&nbsp;</strong></p>\n<p>The image given below shows the peripheral smear in CML showing garden party or college girl appearance.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8d5eaf70693448a29859e5222aafaa7a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a1e04758334842edbcaa3e45942ffc6dx1280x1117.JPEG"
    ]
  },
  {
    "text": "Which of the following is the most common monoclonal immunoglobulin seen in patients with myeloma?",
    "choices": [
      {
        "id": 1,
        "text": "IgM"
      },
      {
        "id": 2,
        "text": "IgA"
      },
      {
        "id": 3,
        "text": "IgE"
      },
      {
        "id": 4,
        "text": "IgG"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The most common <strong>monoclonal Ig</strong> (M protein) in <strong>myeloma</strong> is <strong>IgG</strong> (approximately 55% of patients), followed by IgA (approximately 25% of cases).</p>\n<p>The immunosecretory disorders are a diverse group of diseases associated with the proliferation of an<strong> abnormal clone</strong> of immunoglobulin-synthesizing, terminally differentiated B cells. These disorders include:</p>\n<ul>\n<li>Multiple myeloma (MM) and its variants</li>\n<li>Plasmacytoma</li>\n<li>Waldenstrom macroglobulinemia</li>\n<li>Monoclonal gammopathy of undetermined significance</li>\n<li>Monoclonal Ig deposition diseases - Includes primary amyloidosis and nonamyloidotic types.</li>\n</ul>\n<p>The immunoglobulin can be complete or can be composed of either heavy or light chains and is termed<strong> M-(monoclonal) protein.&nbsp;</strong>Most <strong>myelomas</strong> are associated with<strong> more than 3 gm/dL</strong> of serum immunoglobulin.&nbsp;Myelomas expressing IgM, IgD, or IgE occur, but they are rare.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the thickness of the normal left ventricular wall?",
    "choices": [
      {
        "id": 1,
        "text": "0.5 cm"
      },
      {
        "id": 2,
        "text": "1 cm"
      },
      {
        "id": 3,
        "text": "1.5 cm"
      },
      {
        "id": 4,
        "text": "2 cm"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Normal <strong>left</strong> ventricular wall thickness is<strong>&nbsp;1.3 to 1.5 cm.</strong></p>\n<p>Normal <strong>right</strong> ventricular wall thickness is<strong>&nbsp;0.3 to 0.5 cm.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An obese 35-year-old man with renal failure presents with excruciating joint pain in the right knee. It is associated with localized hyperemia. Joint aspiration is done which shows dense neutrophilic infiltrate and the following finding under polarised light. Which of the following is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Rheumatoid arthritis"
      },
      {
        "id": 2,
        "text": "Gout"
      },
      {
        "id": 3,
        "text": "Ankylosing spondylitis"
      },
      {
        "id": 4,
        "text": "Septis arthritis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The most likely diagnosis is <strong>gout</strong>. Aspirate from the joint shows dense neutrophilic infiltrate and crystals that are long, slender, <strong>needle-shaped</strong>, and <strong>negatively birefringent.&nbsp;</strong></p>\n<p>Gout is marked by <strong>transient</strong> attacks of <strong>acute arthritis</strong> initiated by crystallization of <strong>monosodium urate (MSU)</strong> within and around joints. This results in the production of cytokines that recruit leukocytes. Macrophages phagocytose the MSU and the <strong>inflammasome activates caspase-1,</strong> which is involved in the production of some biologically active cytokines.</p>\n<p>The distinctive morphologic changes in gout are&nbsp;acute arthritis, chronic tophaceous arthritis, tophi in various sites, and gouty nephropathy.&nbsp;<strong>Tophi </strong>are the pathognomonic hallmark of gout. These are <strong>large aggregations</strong> of <strong>urate</strong> crystals surrounded by an intense inflammatory reaction of foreign body giant cells which may appear in the articular cartilage, ligaments, tendons, bursae, earlobes, fingertips, or kidneys.</p>\n<p><strong>Gouty nephropathy </strong>refers to the renal complications caused by MSU crystals or tophi in the renal medullary interstitium or tubules. Complications include uric acid nephrolithiasis and pyelonephritis.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7c202961cf1644bd867c5aab3b87ce3f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following features would you least expect to see in a patient with hereditary spherocytosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pallor"
      },
      {
        "id": 2,
        "text": "Gallstones"
      },
      {
        "id": 3,
        "text": "Splenomegaly"
      },
      {
        "id": 4,
        "text": "Hemoglobinuria"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Hemoglobinuria</strong> is not seen in hereditary spherocytosis where extravascular hemolysis occurs.\u00a0It is a feature of <strong>intravascular</strong> hemolysis. Pigment gallstones, pallor and splenomegaly can be seen in this condition.</p>\n<p><strong>Cinical features</strong> of extravascular hemolysis include:</p>\n<ul>\n<li>Anaemia</li>\n<li>Jaundice</li>\n<li>Splenomegaly</li>\n</ul>\n<p><strong>Causes </strong>of extravascular hemolysis:</p>\n<ul>\n<li>Hereditary spherocytosis</li>\n<li>Thalassemia</li>\n<li>Sickle cell anaemia</li>\n</ul>\n<p>Note: G6PD deficiency and autoimmune hemolytic anaemia can cause both intravascular and extravascular hemolysis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old man with hypertension and diabetes mellitus is on dialysis for chronic renal failure. Which of the following forms of gastritis is the patient at risk of development?",
    "choices": [
      {
        "id": 1,
        "text": "Acute gastritis"
      },
      {
        "id": 2,
        "text": "Chronic antral gastritis"
      },
      {
        "id": 3,
        "text": "Lymphocytic gastritis"
      },
      {
        "id": 4,
        "text": "Hypertrophic gastritis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Patients with <strong>renal failure</strong> develop<strong> acute gastritis</strong> as a <strong>consequence </strong>of<strong> uremia. </strong></p>\n<p>In uremia, gastric injury is<strong>&nbsp;</strong>due to<strong> inhibition </strong>of<strong> gastric bicarbonate transporters</strong> by <strong>ammonium</strong> ions.</p>\n<p><strong>Causes </strong>of acute gastritis:</p>\n<ul>\n<li>Alcohol</li>\n<li>Non-steroidal anti-inflammatory drugs (NSAIDs)</li>\n<li>Smoking</li>\n<li>Ischemia/shock</li>\n<li>Steroid use</li>\n<li>Uremia</li>\n<li>Chemical ingestion</li>\n<li>Stress</li>\n</ul>\n<p>Histologically, the presence of <strong>neutrophils</strong> above the basement membrane in<strong> direct contact with epithelial cells</strong> signifies acute gastritis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 42-year-old man presented with chest pain and exertional dyspnea for the past 2 months. He has no history of cardiac disease. Examination revealed an ejection systolic murmur. Transesophageal echocardiography was done, which revealed an aortic valve with 2 functional cusps and a valve area of 0.8 sq. cm. Which of the following is false regarding this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Chromosomes 18q, 5q, and 13q are linked"
      },
      {
        "id": 2,
        "text": "Loss-of-function mutations in NOTCH1"
      },
      {
        "id": 3,
        "text": "It is due to abnormal fusion of valve commissures"
      },
      {
        "id": 4,
        "text": "Midline of larger cusp is major site of calcification"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical scenario and echo findings are suggestive of <strong>calcific aortic stenosis</strong> secondary to&nbsp;<strong>bicuspid aortic valve&nbsp;</strong>(2 functional cusps). It is due to <strong>incomplete separation</strong>&nbsp;of valve <strong>commissures&nbsp;</strong>during development, not abnormal fusion.</p>\n<p>In a congenitally bicuspid aortic valve, the 2 functional cusps are usually of unequal size. The<strong> larger cusp</strong> has a <strong>midline raphe</strong> that results from incomplete commissural separation during development. The raphe is frequently a <strong>major site</strong> of <strong>calcific</strong> <strong>deposits</strong>.</p>\n<p>This condition is associated with mutations in the following areas:</p>\n<ul>\n<li>Chromosomes <strong>18q, 5q, and 13q</strong>&nbsp;</li>\n<li>Chromosome <strong>9q&nbsp;</strong>-&nbsp;loss-of-function mutations in<strong> NOTCH1</strong>&nbsp;gene</li>\n</ul>\n<p>Late <strong>complications</strong> include:</p>\n<ul>\n<li>Aortic stenosis or regurgitation</li>\n<li>Infective endocarditis</li>\n<li>Aortic dilation and/or dissection.</li>\n<li>Predisposed to progressive calcification - Approximately 50% of cases of aortic stenosis in adults.</li>\n</ul>\n<p>Note: <strong>Acquired bicuspid</strong> valves result from<strong> abnormal fusion</strong> of valve commissures&nbsp;because of an acquired deformity (rheumatic valve disease)<strong>. </strong>It<strong>&nbsp;</strong>produces a <strong>conjoined cusp</strong> that is generally twice the size of the nonconjoined cusp.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the most common type of ventricular septal defect (VSD)?",
    "choices": [
      {
        "id": 1,
        "text": "Membranous"
      },
      {
        "id": 2,
        "text": "Infundibular"
      },
      {
        "id": 3,
        "text": "Muscular"
      },
      {
        "id": 4,
        "text": "Sweese Cheese type"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most common type of VSD is<strong>\u00a0the membranous </strong>type.</p>\n<p>Ventricular septal defects (VSDs) are classified according to their size and location.<strong>\u00a0</strong></p>\n<p><strong>90% </strong>occur in the region of the membranous interventricular septum<strong>\u00a0membranous VSD.\u00a0</strong>Others occur below the pulmonary valve (infundibular VSD) or within the muscular septum. Although most VSDs are single, those in the muscular septum may be multiple.</p>\n<p>\u00a0Image: Ventricular septal defect (schematic).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4b65435e5b25410ab95d0ab830da6c70x548x379.PNG"
    ]
  },
  {
    "text": "Translocations of which of the following proto-oncogenes is most likely present in patients with Burkitt lymphoma?",
    "choices": [
      {
        "id": 1,
        "text": "ABL"
      },
      {
        "id": 2,
        "text": "BRAF"
      },
      {
        "id": 3,
        "text": "RAS"
      },
      {
        "id": 4,
        "text": "MYC"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>All forms of Burkitt lymphoma are highly associated with translocations of the <strong>MYC </strong><strong>gene</strong> on<strong> chromosome 8 </strong>that lead to increased MYC protein levels.</p>\n<p>In addition to the <em>MYC</em> translocations in Burkitt lymphoma and a subset of other B and T cell tumours, MYC is amplified in some <strong>breast, colon, lung, </strong>and<strong> many other carcinomas</strong>.</p>\n<p>The functionally identical NMYC and LMYC genes are also amplified in <strong>neuroblastomas </strong>and<strong>&nbsp;small-cell cancers of the lung, </strong>respectively.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Glial hamartia is a feature of which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Neurofibromatosis type 1"
      },
      {
        "id": 2,
        "text": "Neurofibromatosis  type 2"
      },
      {
        "id": 3,
        "text": "Tuberous sclerosis"
      },
      {
        "id": 4,
        "text": "Von Hippel-Lindau syndrome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Glial hamartia</strong>&nbsp;are seen in&nbsp;<strong>neurofibromatosis</strong>&nbsp;<strong>type</strong>&nbsp;<strong>2</strong> (NF 2).<strong>&nbsp;</strong>These&nbsp;are microscopic nodular collections of glial cells at abnormal locations, often in the superficial and deep layers of the cerebral cortex.&nbsp;</p>\n<p><strong>NF2&nbsp;</strong>is<strong>&nbsp;</strong>associated with the following:&nbsp;</p>\n<ul>\n<li>Bilateral eighth-nerve<strong> schwannomas</strong></li>\n<li>Multiple meningiomas</li>\n<li><strong>Gliomas</strong>&nbsp;- typically<strong> ependymomas</strong> of the spinal cord</li>\n<li><strong>Nonneoplastic</strong> lesions -&nbsp;schwannosis, meningioangiomatosis,&nbsp;and glial hamartia</li>\n</ul>\n<p>Option A:&nbsp;<strong>NF 1</strong> is associated with neurofibromas of all types, malignant peripheral nerve sheath tumors, gliomas of the optic nerve, other glial tumors,&nbsp;hamartomatous lesions, and pheochromocytomas.</p>\n<p>Option C:&nbsp;<strong>Tuberous sclerosis</strong> is associated with hamartomas within the CNS in the form of cortical tubers and subependymal nodules. Other lesions include subependymal giant-cell astrocytoma, renal angiomyolipomas, retinal glial hamartomas, pulmonary lymphangioleiomyomatosis, cardiac rhab&shy;domyomas, and cysts in the liver, kidneys, and pancreas.</p>\n<p>Option D: <strong>Von Hippel&ndash;Lindau disease</strong> is associated with hemangioblastomas of the CNS and cysts involving the pancreas, liver, and kidneys, and have a propensity to develop renal cell carcinoma and pheochromocytoma.</p>\n<p>NOTE: A hamartia is not considered to be a tumor and is distinct from a hamartoma. A hamartoma is a benign neoplasm characterized by tissue misarrangement similar to a hamartia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The peripheral smear of a patient diagnosed with multiple myeloma is shown below. What does the marked structure contain?",
    "choices": [
      {
        "id": 1,
        "text": "Immunoglobulin"
      },
      {
        "id": 2,
        "text": "Golgi bodies"
      },
      {
        "id": 3,
        "text": "Rough endoplasmic reticulum"
      },
      {
        "id": 4,
        "text": "Apoptotic bodies"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image shows<strong>&nbsp;</strong>a <strong>Mott cell</strong>&nbsp;which is a plasma cell with globular&nbsp;<strong>cytoplasmic inclusions</strong> containing <strong>immunoglobulins</strong> called <strong>Russell bodies</strong>.</p>\n<p><strong>Inclusions containing Ig </strong>are frequently seen in the cytoplasm (<strong>Russell bodies</strong>) or the nucleus (<strong>Dutcher bodies</strong>) of some of the plasma cells in myeloma.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/53bcf73b43c6498d95fcba32fdb02b7a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6f94b54944444fdbb52f27bd1990aed5x1280x1199.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f08df38011214369800be6225b1eb85ex1280x1199.JPEG"
    ]
  },
  {
    "text": "A patient diagnosed with acute myeloid leukemia presents with a one-day history of bleeding gums, subconjunctival bleed, and purpuric rash. Investigations done are given below. Which of the following genetic abnormalities is most likely to be detected?",
    "choices": [
      {
        "id": 1,
        "text": "Inversion 16"
      },
      {
        "id": 2,
        "text": "t(8;21)"
      },
      {
        "id": 3,
        "text": "Inversion 3"
      },
      {
        "id": 4,
        "text": "t(15;17)"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The patient shows features of disseminated intravascular coagulation (DIC). It is most likely to be associated with acute myeloid leukemia - M3 or <strong>acute promyelocytic leukemia</strong>. The pathogenesis behind this is<strong>&nbsp;t(15,17)</strong> or&nbsp;<strong><em>PML-RARA</em> fusion gene</strong>.</p>\n<p>Option A: Inversion 16 is seen in acute myelomonocytic leukemia or AML - M4.&nbsp;</p>\n<p>Option B: t(8;21) is seen in AML with differentiation or AML - M2.</p>\n<p>Option C: Inversion 3 is seen in AML - M7 (megakaryoblastic) which shows normal or increased platelet count. It has a poor prognosis.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "After evaluation, a patient with the given finding is diagnosed with Bourneville disease. What is the mode of inheritance of this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal dominant"
      },
      {
        "id": 2,
        "text": "Autosomal recessive"
      },
      {
        "id": 3,
        "text": "X linked dominant"
      },
      {
        "id": 4,
        "text": "X linked recessive"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Tuberous sclerosis complex&nbsp;(<strong>TSC</strong>)/<strong> Bourneville disease</strong> is an <strong>autosomal-dominant </strong>genetic disorder.</p>\n<p>TSC affects the differentiation, proliferation, and migration of cells early in development. This results in a variety of hamartomatous lesions that may affect virtually every organ system of the body.&nbsp;Two distinct genetic loci have been identified which are on <strong>chromosome</strong> &nbsp;<strong>9</strong>&nbsp;(<strong>TSC1</strong>) and on <strong>chromosome</strong>&nbsp;<strong>16</strong>&nbsp;(<strong>TSC2</strong>).</p>\n<p>The most common cutaneous manifestation of TSC is <strong>hypomelanotic macules (ash-leaf macules)</strong> and is observed in most children with tuberous sclerosis. It presents at birth or appears within the first few years of life and may fade or disappear in adulthood.</p>\n<p>The following image shows an ash-leaf macule.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f6f4f0bcb70341da9ff5f5c8437527a0.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0816d488fd5348bdb8620d24fc0f9858x512x669.PNG"
    ]
  },
  {
    "text": "An 8-year-old boy was brought with progressive muscle weakness and walking difficulties. The following finding was noted on examination. Genetic testing revealed a dystrophin gene mutation. On which chromosome is the affected gene located?",
    "choices": [
      {
        "id": 1,
        "text": "X"
      },
      {
        "id": 2,
        "text": "Y"
      },
      {
        "id": 3,
        "text": "21"
      },
      {
        "id": 4,
        "text": "22"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical history and the image showing pseudohypertrophy of calf muscles are highly suggestive of<strong> Duchenne's muscular dystrophy.&nbsp;</strong>It is an <strong>X-linked recessive</strong>&nbsp;condition.<strong>&nbsp;</strong></p>\n<p>Duchenne's and Becker's muscular dystrophy are caused by <strong>loss-of-function</strong> mutations in the<strong> dystrophin gene</strong> on the X chromosome. It is one of the <strong>largest human genes</strong>. Dystrophin provides&nbsp;<strong>mechanical stability</strong> to the myofiber during muscle contraction. Defects in the complex may lead to small membrane tears that permit the influx of calcium, triggering events that result in myofiber degeneration.</p>\n<p><strong>Duchenne's</strong> muscular dystrophy is associated with <strong>deletions</strong> or<strong> frame-shift mutations</strong> that result in the <strong>total absence of dystrophin.</strong>&nbsp;Immunohistochemical&nbsp;studies for dystrophin show the absence of the normal sarcolemmal staining pattern.</p>\n<p>In contrast, the mutations in <strong>Becker's</strong> muscular dystrophy typically permit the synthesis of a <strong>truncated</strong> <strong>version</strong> of<strong> dystrophin</strong>, which&nbsp;retains some function.<strong>&nbsp;</strong>Immunohistochemical studies for dystrophin show reduced staining.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/75fd7434016a473f89f05dd992e04318.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false regarding the antibodies of pernicious anaemia?",
    "choices": [
      {
        "id": 1,
        "text": "Type I antibodies are found in both plasma and gastric juice"
      },
      {
        "id": 2,
        "text": "Type I antibody blocks the binding of vitamin B12 to intrinsic factor"
      },
      {
        "id": 3,
        "text": "Type II antibodies prevent the binding of the IF-B12 complex to ileal receptors"
      },
      {
        "id": 4,
        "text": "Type III antibodies are against haptocorrin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Type III</strong> <strong>antibodies</strong> are not against haptocorrin. They recognize the &alpha; and &beta; subunits of the <strong>gastric proton pumps</strong>.</p>\n<p><strong>Pernicious anaemia</strong> is a specific form of megaloblastic anaemia caused by <strong>autoimmune </strong>gastritis. It <strong>impairs</strong> the production of <strong>intrinsic factor</strong>, which is required for vitamin B12 uptake from the gut.&nbsp;</p>\n<p><strong>Types </strong>of <strong>antibodies</strong> in pernicious anaemia are:</p>\n<ul>\n<li>Type <strong>I</strong> antibodies -&nbsp;<strong>block</strong> the <strong>binding</strong> of vitamin <strong>B12</strong> to <strong>intrinsic factor</strong>. They are found in both plasma and gastric juice</li>\n<li>Type <strong>II</strong> antibodies -&nbsp;<strong>prevent</strong> binding of the intrinsic factor-vitamin B12 (<strong>IF-B12</strong>) complex to its <strong>ileal receptor</strong></li>\n<li>Type <strong>III</strong> antibodies - recognize the &alpha; and &beta; subunits of the <strong>gastric proton pump</strong> of parietal cells</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is false regarding precursor squamous epithelial lesions of the cervix?",
    "choices": [
      {
        "id": 1,
        "text": "LSIL progress directly to invasive carcinoma"
      },
      {
        "id": 2,
        "text": "LSILs are 10 times more common than HSILs"
      },
      {
        "id": 3,
        "text": "HPV-16 is the most common HPV type in both LSIL and HSIL"
      },
      {
        "id": 4,
        "text": "They progress to invasive carcinoma over many years"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Low-grade squamous intraepithelial lesion (<strong>LSIL</strong>) does not progress directly to invasive carcinoma.&nbsp;They initially progress to a high-grade squamous intraepithelial lesion (<strong>HSIL</strong>), <strong>then</strong> <strong>invasive</strong> carcinoma.</p>\n<p>The WHO currently recommends a 2-tier system of classification for cervical lesions - low and high-grade intraepithelial lesions (LSIL and HSIL).&nbsp;<strong>HPV-16</strong> is the most common HPV type associated with both LSIL and HSIL</p>\n<p><strong>LSILs</strong> are 10 times <strong>more common</strong> than HSILs.&nbsp; Most of these lesions regress spontaneously.&nbsp;Progression to <strong>invasive</strong> <strong>carcinoma</strong> is unpredictable and can take place over <strong>years</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old girl is brought with complaints of generalized swelling of the body and frothy urine. Urinary examination revealed grade 3 proteinuria and the presence of hyaline and fatty casts. There were no red blood cells in the urine. Which of the following statements about her condition is true?",
    "choices": [
      {
        "id": 1,
        "text": "IgA nephropathy is the likely diagnosis."
      },
      {
        "id": 2,
        "text": "It is associated with low C3 levels."
      },
      {
        "id": 3,
        "text": "No IgG  or C3 deposition is seen on renal biopsy."
      },
      {
        "id": 4,
        "text": "Alport syndrome is the likely diagnosis."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario in this child is strongly suggestive of <strong>nephrotic syndrome</strong> due to minimal change disease <strong>(MCD)</strong>. It is characterized by the <strong>absence</strong> of<strong>&nbsp;immune deposits</strong> on biopsy and histopathological examination.&nbsp;</p>\n<p>It is the <strong>most common cause </strong>of nephrotic syndrome in <strong>children</strong> (peaks between 2&ndash;6 years).</p>\n<p>Biopsy findings of MCD are as follows:</p>\n<div class=\"page\" title=\"Page 922\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>Light microscopy - <strong>glomeruli</strong>&nbsp;appear <strong>normal</strong> (hence called 'minimal change')</li>\n<li>Immunofluorescence studies - <strong>no</strong> Ig or complement <strong>deposits</strong></li>\n<li>Electron microscopy - diffuse effacement of foot processes of visceral epithelial cells (<strong>podocytopathy</strong>)</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "This photomicrograph from a liver biopsy seen below is most likely to have been obtained from a patient with________.",
    "choices": [
      {
        "id": 1,
        "text": "Alcoholic liver disease"
      },
      {
        "id": 2,
        "text": "Chronic hepatitis B"
      },
      {
        "id": 3,
        "text": "Hepatocellular carcinoma"
      },
      {
        "id": 4,
        "text": "Primary biliary cirrhosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The photomicrograph shows foci of enlarged hepatocytes with eosinophilic dull/hazy, somewhat irregular cytoplasm called<strong> ground-glass hepatocytes (Arrow).</strong></p>\n<p>Ground-glass hepatocyte (GGH) represents <strong>a histological hallmark of chronic hepatitis B virus infection</strong> and contains surface antigens in the endoplasmic reticulum (ER).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3733d859807c40399f8fe6a44732d0b5.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3a988d23a33f42109433130fdf2b5f43x1280x1037.JPEG"
    ]
  },
  {
    "text": "The best investigation for diagnosing temporal arteritis is_____",
    "choices": [
      {
        "id": 1,
        "text": "Colour Doppler of blood vessel"
      },
      {
        "id": 2,
        "text": "MRA"
      },
      {
        "id": 3,
        "text": "PET scan"
      },
      {
        "id": 4,
        "text": "Biopsy of temporal artery"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Diagnosis of Temporal arteriitis depends on biopsy and histologic confirmation. However, because giant cell arteritis can be extremely focal within an artery, adequate biopsy requires at least a 1-cm segment; even then, a negative biopsy result does not exclude the diagnosis.</p>\n<p>Findings</p>\n<ul>\n<li><strong>Intimal thickening </strong>that reduces the luminal diameter.</li>\n<li><strong>Medial granulomatous inflammation </strong>centered on the internal elastic lamina that produces <strong>elastic lamina fragmentation.</strong></li>\n<li>Infiltrate of T cells (CD4+ &gt;CD8+) and macrophages,multinucleated giant cells.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3ee3c62fd00a41639d6a9a04f8842940x800x799.JPEG"
    ]
  },
  {
    "text": "A 63-year-old woman complains about throbbing pain over both palms. Her examination findings and lab reports are given below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Polycythemia vera"
      },
      {
        "id": 2,
        "text": "Essential thrombocythemia"
      },
      {
        "id": 3,
        "text": "Myelofibrosis"
      },
      {
        "id": 4,
        "text": "Leukemoid reaction"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario is suggestive of&nbsp;<strong>essential&nbsp;thrombocythemia</strong> (ET). The image showing erythematous hands is suggestive of <strong>erythromelalgia</strong>.</p>\n<p>Essential thrombocythemia (essential thrombocytosis) is a myeloproliferative neoplasm. It is associated with mutations that increase JAK-STAT signaling.</p>\n<p><strong>WHO criteria</strong> for diagnosis of essential thrombocythemia:</p>\n<ul>\n<li>Major criteria -\n<ul>\n<li>Platelet count &ge;450 &times; 10<sup>9</sup>/L</li>\n<li>Bone marrow biopsy showing proliferation mainly of the megakaryocyte lineage with increased numbers of enlarged, mature megakaryocytes with hyperlobulated nuclei</li>\n<li>Not meeting WHO criteria for BCR-ABL1 chronic myeloid leukemia, PV, PMF, myelodysplastic syndromes, or other myeloid neoplasms</li>\n<li>Presence of JAK2, CALR, or MPL mutation</li>\n</ul>\n</li>\n<li>Minor criteria - the presence of a clonal marker or absence of evidence for reactive thrombocytosis</li>\n</ul>\n<p><strong>Diagnosis</strong> of ET requires meeting all <strong>4 major</strong> criteria <strong>or</strong> the first <strong>3 major</strong> criteria and the <strong>minor</strong> criterion</p>\n<p>Option A: Polycythemia vera can also present with erythromelalgia. However, it also presents with <strong>increased Hb</strong> levels.&nbsp;</p>\n<p>Option C: <strong>Fibrosis</strong> (not reticulin fibrils) is seen in bone marrow biopsy of primary myelofibrosis.&nbsp;</p>\n<p>Option D: <strong>WBC counts</strong> are <strong>increased</strong> in leukemoid reactions.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/68bf629723124f318c01b3ab2614be1d.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following is incorrect about Peutz-Jeghers syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "It has an autosomal recessive inheritance"
      },
      {
        "id": 2,
        "text": "Baseline colonoscopy must be done at 20 years of age"
      },
      {
        "id": 3,
        "text": "There is increased risk of ovarian and uterine cancer"
      },
      {
        "id": 4,
        "text": "It is associated with loss-of-function mutations in STK11"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Peutz-Jeghers</strong> syndrome is an <strong>autosomal dominant</strong> syndrome.</p>\n<p>It is commonly associated with germline heterozygous <strong>loss-of-function </strong>mutations in the gene<strong> STK11</strong>.</p>\n<p>It is characterized by:</p>\n<ul>\n<li>Multiple gastrointestinal hamartomatous polyps&nbsp;</li>\n<li>Mucocutaneous hyperpigmentation</li>\n<li>Increased risk of&nbsp;gastrointestinal and <strong>extraintestinal malignancies</strong> (including ovarian and uterine cancer)</li>\n</ul>\n<p>Baseline <strong>colonoscopy</strong> and upper endoscopy for<strong> screening </strong>are done at<strong> 20 years&nbsp;</strong>of age, followed by <strong>annual flexible sigmoidoscopy </strong>thereafter.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not an intermediate filament?",
    "choices": [
      {
        "id": 1,
        "text": "Lamin"
      },
      {
        "id": 2,
        "text": "Vimentin"
      },
      {
        "id": 3,
        "text": "Desmin"
      },
      {
        "id": 4,
        "text": "Actin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>While <strong>actin</strong> belongs to a separate class of cytoskeletal proteins called microfilaments, the other three (lamin, vimentin, and desmin) belong to the group of intermediate filaments.</p>\n<p>There are three major classes of cytoskeletal proteins, namely, microfilaments, intermediate filaments,&nbsp;and microtubules.</p>\n<p><strong>Cytoskeletal proteins:</strong></p>\n<p><strong>1. Actin microfilaments:</strong></p>\n<ul>\n<li>These are 5- to 9-nm diameter fibrils formed from the&nbsp;<strong>globular protein actin (G-actin). </strong>The G-actin monomers noncovalently polymerize into <strong>long filaments (F-actin)</strong>&nbsp;that intertwine to form double-stranded helices.</li>\n</ul>\n<p><strong>2. Intermediate filaments</strong></p>\n<ul>\n<li>These are 10-nm diameter fibrils that include family of related&nbsp;proteins&nbsp;sharing common structural and sequence features. Individual types have characteristic tissue-specific patterns of expression that can be useful for assigning a cell of origin for poorly differentiated tumors.</li>\n<li>These rope-like intermediate filament fibers are found predominantly in a polymerized form within cells and do not usually actively reorganize like actin and microtubules. They impart&nbsp;<strong>tensile strength</strong>&nbsp;and allow cells to bear mechanical stress.</li>\n</ul>\n<table style=\"width: 543px;\">\n<tbody>\n<tr>\n<td style=\"width: 161px;\"><strong>Type of intermediate filament (IF) protein</strong></td>\n<td style=\"width: 368px;\"><strong>Description</strong></td>\n</tr>\n<tr>\n<td style=\"width: 161px;\"><strong>Lamin A, B, and C</strong></td>\n<td style=\"width: 368px;\">These proteins are localized in the <strong>nuclear lamina</strong> of all cells. The nuclear membrane lamins are responsible for maintaining nuclear morphology and nuclear transcription. Mutations In lamin proteins is associated with certain disorders such as muscular dystrophy and progeria.</td>\n</tr>\n<tr>\n<td style=\"width: 161px;\"><strong>Vimentin</strong></td>\n<td style=\"width: 368px;\">These are mainly found in <strong>mesenchymal cells</strong> (fibroblasts and endothelial cells)</td>\n</tr>\n<tr>\n<td style=\"width: 161px;\"><strong>Desmin</strong></td>\n<td style=\"width: 368px;\">These proteins are mainly present in <strong>sarcomeres</strong> in muscle cells.</td>\n</tr>\n<tr>\n<td style=\"width: 161px;\"><strong>Neurofilament</strong></td>\n<td style=\"width: 368px;\">These are present in the axons of neurons&nbsp;and impart strength and rigidity.</td>\n</tr>\n<tr>\n<td style=\"width: 161px;\"><strong>Glial fibrillary acidic protein</strong></td>\n<td style=\"width: 368px;\">These are present in glial cells around neurons.</td>\n</tr>\n<tr>\n<td style=\"width: 161px;\"><strong>Cytokeratins</strong></td>\n<td style=\"width: 368px;\">These proteins are the most diverse among IFs and constitute <strong>type I (acidic)</strong> and <strong>type II (basic)</strong> IF proteins. There are at least 30 isoforms of this protein divided into two groups: <strong>epithelial keratins </strong>(found in epithelial cells) and <strong>trichocytic keratins </strong>(found in hair keratin).</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p>3. <strong>Microtubules</strong>: These are 25-nm-thick fibrils formed by non-covalent polymerization of a dimer of two globular proteins, <strong>alpha-tubulin</strong> and <strong>beta-tubulin.&nbsp; </strong>These dimers polymerize such that the beta-subunit of one dimer combines with the alpha-subunit of another dimer. The polymerization of these dimers leads to the&nbsp;formation of protofilament, where one end of it has a beta-subunit exposed (designated as + end), while the other end has an alpha-subunit exposed (designated as &ndash; end). The microtubules in most cells extend outward from a <strong>microtubule-organizing center</strong> (<strong>MTOC</strong>), in which the minus ends of microtubules are anchored.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The prothrombin time of a patient with menorrhagia is being estimated. Which factor initiates the clotting pathway being tested here?",
    "choices": [
      {
        "id": 1,
        "text": "Tissue factor"
      },
      {
        "id": 2,
        "text": "Factor XIII"
      },
      {
        "id": 3,
        "text": "Factor VII"
      },
      {
        "id": 4,
        "text": "Factor VIII"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>prothrombin time</strong> tests the <strong>extrinsic pathway</strong> of coagulation. This is initiated by<strong>&nbsp;</strong>the<strong> tissue factor</strong>.</p>\n<p>To test the extrinsic pathway, clotting is initiated in the laboratory by adding a source of tissue factor which <strong>combines</strong> with <strong>factor</strong> <strong>VIIa</strong>. It is the major initiator of coagulation&nbsp;<strong>in vivo</strong>&nbsp;and is <strong>amplified</strong> by <strong>feedback loops</strong> involving <strong>thrombin</strong>.</p>\n<p>To test the <strong>intrinsic pathway</strong>, clotting is initiated in the laboratory by adding <strong>phospholipids</strong>, <strong>calcium</strong>, or a negatively charged substance such as <strong>glass beads</strong>. The intrinsic pathway is kicked off in the body by <strong>thrombin</strong>.</p>\n<p>The coagulation cascade is depicted in the image below.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fd78638dbce44a2aa541c7c522c13624x1280x1641.JPEG"
    ]
  },
  {
    "text": "Which of the following is the most common trigger for hemolysis in patients with G6PD deficiency?",
    "choices": [
      {
        "id": 1,
        "text": "Infection"
      },
      {
        "id": 2,
        "text": "Drugs"
      },
      {
        "id": 3,
        "text": "Fava beans"
      },
      {
        "id": 4,
        "text": "Dehydration"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most common <strong>trigger</strong> for hemolysis in G6PD deficiency is\u00a0<strong>infection.</strong>\u00a0Viral hepatitis, pneumonia, and typhoid are the common infections that trigger hemolysis.</p>\n<p><strong>Episodic hemolysis</strong> (both intravascular and extravascular) is seen in G6PD deficiency. It is due to exposures that cause <strong>oxidative stress</strong>. The <strong>triggers</strong> include:</p>\n<ul>\n<li>Infections - oxygen-derived free radicals produced by activated leukocytes</li>\n<li>Drugs\n<ul>\n<li>Antimalarials -\u00a0primaquine and chloroquine\u00a0</li>\n<li>Sulfonamides</li>\n<li>Nitrofurantoin</li>\n</ul>\n</li>\n<li>Diet - fava bean</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are true about Glanzmann thrombasthenia except______",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal dominant"
      },
      {
        "id": 2,
        "text": "Defective platelet aggregation"
      },
      {
        "id": 3,
        "text": "Platelets fail to aggregate in response to adenosine diphosphate (ADP)"
      },
      {
        "id": 4,
        "text": "Dysfunction of glycoprotein IIb IIIa, an integrin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Glanzmann thrombasthenia</strong> is bleeding due to <strong>defective platelet aggregation</strong>, which is transmitted as an <strong>autosomal recessive</strong> trait.</p>\n<p>The associated bleeding tendency is often severe.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 23-year-old food blogger presents with complaints of icterus and abdominal fullness. She returned yesterday from a vacation in Egypt where she tried fava beans. Her peripheral smear is given below. This condition is protective against which of the following malarial parasites?",
    "choices": [
      {
        "id": 1,
        "text": "Falciparum"
      },
      {
        "id": 2,
        "text": "Vivax"
      },
      {
        "id": 3,
        "text": "Ovale"
      },
      {
        "id": 4,
        "text": "Malariae"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The peripheral smear shows RBCs with anisopoikilocytosis with polychromasia and&nbsp;many <strong>bite cells</strong> (arrows)&nbsp;suggestive of <strong>G6PD deficiency</strong>. This condition is <strong>protective</strong> against&nbsp;<em>Plasmodium <strong>falciparum</strong></em> malaria.</p>\n<p><strong>Malarial parasites</strong> preferentially <strong>invade RBCs</strong> which are <strong>rich</strong> <strong>in</strong> <strong>G6PD</strong>. G6PD deficiency causes oxidative stress and hemolysis, preferably in the older RBCs. Reticulocytes and young erythrocytes have much higher G6PD activities and are less susceptible to oxidant damage.&nbsp;</p>\n<p>P. falciparum can invade erythrocytes of all ages. P. vivax, and P. ovale invade reticulocytes (immature erythrocytes) preferentially.&nbsp;Hence, a low G6PD level in older RBC is protective against <em>P. falciparum</em> malaria.</p>\n<p>Episodic hemolysis in this condition can be <strong>triggered</strong> by <strong>fava beans</strong> which is a staple in Egyptian cuisine.</p>\n<p>The images given below show Heinz bodies and bite cells seen in G6PD deficiency.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c57484a70f4e47f9994c93d737d4b1a3.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4dc646e0a7344b62b2f3ad958aed8038x1279x914.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1fed3123012943dd8852893c0cf05c83x1279x914.JPEG"
    ]
  },
  {
    "text": "A 30-year-old man presented with a painless testicular mass. Inguinal orchidectomy was done and the gross and histological image is given below.  What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Seminoma"
      },
      {
        "id": 2,
        "text": "Yolk sac tumour"
      },
      {
        "id": 3,
        "text": "Teratoma"
      },
      {
        "id": 4,
        "text": "Testicular lymphoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The gross specimen showing a homogeneous, grey-white, lobulated cut surface that bulges around the surrounding parenchyma is characteristic of a <strong>seminomatous germ-cell tumor </strong>or<strong> seminoma.</strong></p>\n<p>The<strong> histological image&nbsp;</strong>shows sheets of uniform cells with <strong>clear </strong>cytoplasm and central nucleus, with a prominent nucleolus (<strong>fried-egg </strong>appearance),<strong>&nbsp;</strong>delicate fibrous septa containing a lymphocytic infiltrate.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fc0ad0d6a878433dbc7698df1189f54e.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ec49dafbcbb848be8fda2542b464ad16x1280x1042.JPEG"
    ]
  },
  {
    "text": "Given below is an electron microscopy picture of lysosomes. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Tay\u2013Sachs disease"
      },
      {
        "id": 2,
        "text": "Niemann\u2013Pick disease"
      },
      {
        "id": 3,
        "text": "Gaucher disease"
      },
      {
        "id": 4,
        "text": "Krabbe disease"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Electron microscopy showing <strong>zebra bodies</strong> is suggestive of <strong>Niemann&ndash;Pick disease</strong>.</p>\n<p><strong>Zebra bodies</strong> are engorged secondary lysosomes that contain membranous cytoplasmic bodies resembling concentric lamellated myelin figures.&nbsp;Similar zebra bodies can also be seen in <strong>mucopolysaccharidoses</strong><strong>.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/afbb95357980414e94168a2d79631153.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which is the most common subtype of Hodgkin's lymphoma?",
    "choices": [
      {
        "id": 1,
        "text": "Nodular sclerosis"
      },
      {
        "id": 2,
        "text": "Mixed cellularity"
      },
      {
        "id": 3,
        "text": "Lymphocyte predominant"
      },
      {
        "id": 4,
        "text": "Lymphocyte rich"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Nodular sclerosis </strong>is the <strong>most common</strong> type of <strong>Hodgkin's lymphoma</strong>, while <strong>mixed cellularity</strong> is most common<strong>&nbsp;</strong>in <strong>India.</strong></p>\n<p>The incidence of nodular sclerosis is equal in men and women. It commonly involves the <strong>lower cervical, supraclavicular, </strong>and<strong> mediastinal lymph</strong> nodes. It&nbsp;commonly&nbsp;affects adolescents and young adults. It has an <strong>excellent</strong> prognosis.</p>\n<p><strong>Mixed-cellularity</strong> Hodgkin lymphoma is seen in patients older than 50 years of age. There is a male predominance.</p>\n<p>The image given below shows the histology of nodular sclerosis showing a&nbsp;<strong>lacunar</strong> variant of&nbsp;Reed&ndash;Sternberg cells</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1bab4b71f37c4ea39102bcb136f7bf71x1280x1236.JPEG"
    ]
  },
  {
    "text": "A 50-year-old patient who is a known case of cholangiocarcinoma presents with intermittent fever and jaundice. Which of the following organisms is commonly implicated in the pathogenesis of this tumor?",
    "choices": [
      {
        "id": 1,
        "text": "Opisthorchis viverrini"
      },
      {
        "id": 2,
        "text": "Paragonimus westermani"
      },
      {
        "id": 3,
        "text": "Echinococcus granulosus"
      },
      {
        "id": 4,
        "text": "Diphyllobothrium latum"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><em><strong>Opisthorchis viverrini </strong></em>(liver fluke) is implicated&nbsp;in the pathogenesis of cholangiocarcinoma.</p>\n<p>Apart from Opisthorchis viverrini, <em><strong>Clonorchis sinensis&nbsp;</strong></em>is also known to cause cholangiocarcinoma.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 27-year-old woman presents with urinary frequency, urgency, and burning during urination of two days duration. Presence of which of the following additional findings would make you suspect pyelonephritis in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Fever"
      },
      {
        "id": 2,
        "text": "Bacteriuria"
      },
      {
        "id": 3,
        "text": "White blood cell casts"
      },
      {
        "id": 4,
        "text": "Sterile pyuria"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>White blood cell casts</strong> are specific features of&nbsp;<strong>pyelonephritis</strong>. Neutrophil-rich casts (pus casts)&nbsp;indicate&nbsp;<strong>renal involvement</strong>&nbsp;because casts are formed only in tubules.&nbsp;</p>\n<p>The urine contains many leukocytes (<strong>pyuria</strong>) derived from the inflammatory infiltrate.&nbsp; It is found in both <strong>upper</strong> and <strong>lower UTIs</strong> and cannot differentiate between them. <strong>Fever</strong> is also a <strong>non-specific</strong> finding.</p>\n<p><strong>Ascending infection</strong> is the most common <strong>cause</strong> of clinical pyelonephritis.</p>\n<p>Note: Sterile pyuria is defined as white cells in the urine in the absence of significant bacterial growth. It is seen in renal TB.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following features can be seen in megaloblastic anaemia?",
    "choices": [
      {
        "id": 1,
        "text": "Auer rods"
      },
      {
        "id": 2,
        "text": "Hypersegmented neutrophils"
      },
      {
        "id": 3,
        "text": "Pencil cells"
      },
      {
        "id": 4,
        "text": "Hypocellular bone marrow"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Megaloblastic anaemia</strong> has&nbsp;<strong>hypersegmented neutrophils</strong>, with five or more nuclear lobules instead of the normal three to four.</p>\n<p>The image given below shows hypersegmented neutrophil.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/57da680cbe3d48fa9b2f3bdb4fa3f1d0x435x380.JPEG"
    ]
  },
  {
    "text": "A 30-year-old man presented with a testicular mass. Microscopic examination of the orchidectomy specimen was done. It showed highly anaplastic cells with hyperchromatic nuclei with prominent nucleoli growing in alveolar and tubular patterns. They stained positive for  PLAP, cytokeratin, and CD30 and negative for KIT.  What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Seminoma"
      },
      {
        "id": 2,
        "text": "Embryonal carcinoma"
      },
      {
        "id": 3,
        "text": "Teratoma"
      },
      {
        "id": 4,
        "text": "Yolk sac tumour"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above clinical scenario of the germ-cell tumor is suggestive of <strong>embryonal carcinoma.&nbsp;</strong></p>\n<p>It is a non-seminomatous germ cell tumor<em>&nbsp;(</em>NSGCTs) that occurs mostly in the 20 to 30 year age group. These tumors are <strong>more aggressive</strong> than seminomas.&nbsp;Embryonal carcinomas share some markers with seminomas such as OCT 3/4 and PLAP but differ by being <strong>positive for cytokeratin and CD30 and negative for KIT.</strong></p>\n<p>Most patients present with a testicular mass, which can be painful due to rapid growth and may be mistaken for torsion.</p>\n<p>Grossly, the tumor is often variegated, poorly demarcated at the margins, and punctuated by foci of hemorrhage or necrosis.</p>\n<p>Histologically, the cells grow in<strong> alveolar or tubular patterns,</strong> sometimes with papillary convolutions; the neoplastic cells have an epithelial appearance, are large and <strong>anaplastic</strong>, and exhibit hyperchromatic nuclei with prominent nucleoli.</p>\n<p>The below image is the histology of embryonal carcinoma showing anaplastic cells with large hyperchromatic nuclei.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/98caae6c4dab40afbd48b2867a8d17a8x1280x1042.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0bb886374dee4bcba9376c4d61b4e502x1280x1042.JPEG"
    ]
  },
  {
    "text": "Caspase cleaves proteins at:",
    "choices": [
      {
        "id": 1,
        "text": "Cysteine residue"
      },
      {
        "id": 2,
        "text": "Cystine residue"
      },
      {
        "id": 3,
        "text": "Aspartic acid residue"
      },
      {
        "id": 4,
        "text": "Asparagine residue"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Caspases</strong> are cysteine proteases that cleave proteins at the <strong>aspartic acid residue</strong>. Hence, the activation of caspases plays a key role in the process of <strong>apoptosis</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2ae6c046f8e34e878ae1f038830c2ee1x1280x836.JPEG"
    ]
  },
  {
    "text": "A patient presented with multiple, small, pink nodular growths on the temples. A biopsy from the lesion showed the following. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Trichilemmoma"
      },
      {
        "id": 2,
        "text": "Cylindroma"
      },
      {
        "id": 3,
        "text": "Basal-cell carcinoma"
      },
      {
        "id": 4,
        "text": "Spiradenoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image shows a <strong>jigsaw puzzle appearance</strong> which is seen in<strong> cylindroma&nbsp;</strong>(turban&nbsp;tumor/Spiegler&rsquo;s&nbsp;tumor).&nbsp;</p>\n<p>Cylindroma is a familial&nbsp;<strong>autosomal</strong>&nbsp;<strong>dominant</strong>&nbsp;disorder. It is due to the loss of the cylindromatosis gene,&nbsp;<strong>CYLD</strong>&nbsp;on chromosome 16q12-13. It has also been reported to follow&nbsp;<strong>radiotherapy epilation</strong>&nbsp;of the scalp.&nbsp;</p>\n<p>The lesions are frequently multiple, smooth, firm, pink to red, and somewhat pedunculated. They are mostly seen on the&nbsp;<strong>scalp</strong>. Histologically, it contains mosaic\u2010like masses - a&nbsp;<strong>jigsaw</strong>&nbsp;<strong>appearance</strong>. Malignant transformation is<strong>&nbsp;very rare</strong>.</p>\n<p><strong>Surgery</strong>&nbsp;is the treatment of choice.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/70660e87263e48fcaf684d8349b47c42.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/41b842977e1f4474aa9f7b33e9070a78x1279x1062.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7d63b53b4fbd44b8b5dfe23f41b5201ex1280x1386.JPEG"
    ]
  },
  {
    "text": "A 34-year-old man is admitted with a history of altered sensorium and abnormal behavior. The patient subsequently died and on autopsy, the following findings are seen in the Purkinje cells of the cerebellum. What are these called?",
    "choices": [
      {
        "id": 1,
        "text": "Henderson-Patterson bodies"
      },
      {
        "id": 2,
        "text": "Negri bodies"
      },
      {
        "id": 3,
        "text": "Owl-eye inclusions"
      },
      {
        "id": 4,
        "text": "Guarnieri bodies"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows characteristic <strong>Negri bodies</strong> found in the <strong>Purkinje</strong> cell of the&nbsp;<strong>cerebellum</strong>. These are the <strong>pathognomonic</strong> microscopic finding in rabies. This patient's clinical features of altered sensorium and abnormal behavior are suggestive of <strong>rabies.</strong></p>\n<p>Negri bodies are cytoplasmic, round to oval, eosinophilic inclusions that can be found in the pyramidal neurons of the hippocampus and Purkinje cells of the cerebellum. The rabies virus can be detected within Negri bodies by ultrastructural and immunohistochemical methods.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/50e8374cab4948bb99e830513336af8a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8ec40a9e94804c439422850861390e99x1280x1066.PNG"
    ]
  },
  {
    "text": "Which of the following is an example of physiological atrophy?",
    "choices": [
      {
        "id": 1,
        "text": "Atrophy of the legs of a bedridden patient"
      },
      {
        "id": 2,
        "text": "Atrophy of the arm muscles following a nerve injury"
      },
      {
        "id": 3,
        "text": "Muscle wasting in a child suffering from marasmus"
      },
      {
        "id": 4,
        "text": "Uterine atrophy after delivery by Cesarean-section"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Uterine atrophy</strong> following delivery is an example of&nbsp;<strong>physiological atrophy.</strong></p>\n<p><strong>Atrophy</strong> is defined as a <strong>reduction</strong> in the size of an organ or tissue due to a decrease in cell size and number.</p>\n<p>The following mechanisms are involved in atrophy:</p>\n<ul>\n<li>Decreased protein synthesis&nbsp;due to decreased metabolic activity</li>\n<li>Increased destruction of proteins by the ubiquitin-proteasome pathway</li>\n</ul>\n<p>The various types of atrophy are:</p>\n<table style=\"height: 141px;\" width=\"594\">\n<tbody>\n<tr>\n<td style=\"width: 289px; text-align: center;\">Stimulus/type of atrophy</td>\n<td style=\"width: 289px; text-align: center;\">Example</td>\n</tr>\n<tr>\n<td style=\"width: 289px; text-align: center;\" colspan=\"2\"><strong>Physiologic atrophy</strong></td>\n</tr>\n<tr>\n<td style=\"width: 289px;\">Loss of hormonal stimulation</td>\n<td style=\"width: 289px;\">\n<p>Atrophy of the uterus after parturition</p>\n<p>Atrophy of the endometrium, vaginal epithelium, and breast after menopause</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 289px;\">During embryonic development</td>\n<td style=\"width: 289px;\">Certain structures, like notochord and thyroglossal duct</td>\n</tr>\n<tr>\n<td style=\"width: 289px; text-align: center;\" colspan=\"2\"><strong>Pathologic atrophy</strong></td>\n</tr>\n<tr>\n<td style=\"width: 289px;\">Disuse atrophy&nbsp;(decreased workload)</td>\n<td style=\"width: 289px;\">Atrophy in a limb that has been immobilized following a fracture</td>\n</tr>\n<tr>\n<td style=\"width: 289px;\">Denervation atrophy&nbsp;(loss of nerve supply)</td>\n<td style=\"width: 289px;\">Skeletal muscle atrophy following nerve injury</td>\n</tr>\n<tr>\n<td style=\"width: 289px;\">Ischemic atrophy</td>\n<td style=\"width: 289px;\">Senile atrophy of the brain and heart due to atherosclerosis</td>\n</tr>\n<tr>\n<td style=\"width: 289px;\">Inadequate nutrition</td>\n<td style=\"width: 289px;\">Severe muscle wasting in marasmus</td>\n</tr>\n<tr>\n<td style=\"width: 289px;\">Pressure atrophy</td>\n<td style=\"width: 289px;\">Atrophy of surrounding uninvolved tissues caused by an enlarging benign tumor</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Pathology Test Ii';
        const quizFilename = 'pathology-test-ii-433fd5e9.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2018 - 19"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>