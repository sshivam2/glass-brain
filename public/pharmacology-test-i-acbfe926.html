<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacology Test - I - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2019 - 20
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">75</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A 55-year-old patient is on omeprazole for gastroesophageal reflux disease. She is now to be started on dual antiplatelet therapy with aspirin and clopidogrel. You decide to switch to pantoprazole because of the action of omeprazole on which enzyme?",
    "choices": [
      {
        "id": 1,
        "text": "CYP3A4"
      },
      {
        "id": 2,
        "text": "CYP2D6"
      },
      {
        "id": 3,
        "text": "CYP2C19"
      },
      {
        "id": 4,
        "text": "CYP2C20"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Omeprazole is replaced with another proton pump inhibitor (PPI) during coadministration with clopidogrel because of the action on&nbsp;CYP2C19.</p>\n<p><strong>Clopidogrel</strong> is a<strong> prodrug </strong>that is activated to its active metabolite by the liver enzyme<strong> CYP2C19.</strong> Apart from&nbsp;CYP2C19, CYP3A4, and CYP2C9 are also involved to a certain extent.</p>\n<p><strong>Omeprazole </strong>serves as both <strong>substrate</strong> and<strong> inhibitor</strong> for <strong>CYP2C19.</strong> It may inhibit the activation of clopidogrel and <strong>decrease</strong> its <strong>antiplatelet action. </strong>Hence, they are not prescribed together.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Zero-order kinetics means____.",
    "choices": [
      {
        "id": 1,
        "text": "Constant amount of drug is eliminated per unit time."
      },
      {
        "id": 2,
        "text": "Constant fraction of drug is eliminated per unit time."
      },
      {
        "id": 3,
        "text": "Fraction of administered drug reaching the systemic circulation"
      },
      {
        "id": 4,
        "text": "Time required for reduction of drug concetnration to half of its initial value"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In <strong>zero-order kinetics, </strong>the <strong>rate of elimination remains constant, irrespective of the drug concentration.</strong> It is capacity-limited elimination and only a constant amount of drug is eliminated per unit time.</p>\n<p>Examples of drugs eliminated by zero-order kinetics include (<strong>WATT Power</strong>)</p>\n<ul>\n<li style=\"list-style-type: none;\">\n<ul>\n<li><strong>W</strong>arfarin</li>\n<li><strong>A</strong>lcohol,&nbsp;<strong>A</strong>spirin</li>\n<li><strong>T</strong>olbutamide</li>\n<li><strong>T</strong>heophylline&nbsp;</li>\n<li><strong>P</strong>henytoin</li>\n</ul>\n</li>\n</ul>\n<p>The constant fraction of the drug is eliminated per unit time occurs in first-order kinetics (Option B).</p>\n<p>The fraction of administered drug reaching the systemic circulation is the bioavailability of the drug (Option C).</p>\n<p>The time required for the reduction of drug concentration to half of its initial value is the half-life of the drug (Option D).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Calculate the half-life of a drug X administered to a patient if it has a volume of distribution of 50 liters and clearance of 0.1 L/min.",
    "choices": [
      {
        "id": 1,
        "text": "500 minutes"
      },
      {
        "id": 2,
        "text": "440 minutes"
      },
      {
        "id": 3,
        "text": "420 minutes"
      },
      {
        "id": 4,
        "text": "350 minutes"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>half-life</strong> of this drug is <strong>350 minutes.</strong></p>\n<p>In first-order kinetics:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b90167f94b3b478fb3d9bdf163b48edfx1280x361.JPEG"
    ]
  },
  {
    "text": "A male patient weighing 50 kg has acute severe asthma, for which theophylline infusion is planned. The target plasma concentration is 10 mg/L. The volume of distribution of theophylline is  0.6 L/kg. What will be the loading dose in this patient for intravenous administration?",
    "choices": [
      {
        "id": 1,
        "text": "200 mg"
      },
      {
        "id": 2,
        "text": "250 mg"
      },
      {
        "id": 3,
        "text": "300 mg"
      },
      {
        "id": 4,
        "text": "350 mg"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>loading dose</strong> of theophylline in this patient for intravenous administration is <strong>300mg.\u00a0</strong></p>\n<p>The loading dose is the amount or dose of a drug given to achieve target plasma concentration quickly when the treatment requires an immediate therapeutic response. It is usually given at the onset of therapy.</p>\n<p>Loading Dose is given by the formula:\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2daab0c99dbc4a309b3638916161d3dbx1280x361.JPEG"
    ]
  },
  {
    "text": "Which of the following statements is true about the given dose-response curve?",
    "choices": [
      {
        "id": 1,
        "text": "Drug B is the most potent."
      },
      {
        "id": 2,
        "text": "Drug B is the most efficacious."
      },
      {
        "id": 3,
        "text": "Drug C is more efficacious than drug D."
      },
      {
        "id": 4,
        "text": "Drug A is more potent than drug B."
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>more</strong> the<strong> curve</strong> is on the<strong> left </strong>in a dose-response curve (DRC)<strong>,</strong> the<strong> greater</strong> is its<strong> potency. </strong>Hence<strong>,&nbsp;</strong>Drug B is the most potent.</p>\n<p><strong>Potency:</strong></p>\n<ul>\n<li>It is defined as the <strong>amount of drug </strong>needed<strong> to produce a given response.</strong></li>\n<li>A&nbsp;<strong>highly potent drug</strong>&nbsp;evokes a given&nbsp;<strong>response at low concentrations</strong>&nbsp;and vice-versa.</li>\n<li>In the above image, the potency is Drug B&gt; Drug A &gt; Drug C &gt; Drug D.</li>\n</ul>\n<p><strong>Efficacy:</strong></p>\n<ul>\n<li>It is defined as the<strong>&nbsp;maximum effect</strong>&nbsp;produced by the drug. It reflects the <strong>capacity</strong> of the drug <strong>to activate</strong> a receptor and <strong>produce</strong> the <strong>response.</strong></li>\n<li>In the log dose-response curve, the&nbsp;<strong>perpendicular height</strong>&nbsp;represents the drug efficacy.</li>\n<li>Thus, in the above image, the efficacy is Drug A = Drug C =Drug D &gt; Drug B.</li>\n<li>Drugs having a similar pharmacological effect can have different efficacies e.g furosemide and metolazone are both diuretics but furosemide has greater efficacy than metolazone.&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a55588364afa413da3c7cb8df6bfc3f5.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "You read a news alert that mentions a novel drug has received marketing approval for diabetes mellitus and that it has shown positive results in a pivotal trial. The trial it passed corresponds to which phase of clinical trials?",
    "choices": [
      {
        "id": 1,
        "text": "Phase I"
      },
      {
        "id": 2,
        "text": "Phase II"
      },
      {
        "id": 3,
        "text": "Phase III"
      },
      {
        "id": 4,
        "text": "Phase IV"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: justify;\"><strong>Phase III trials </strong>are usually considered\u00a0<strong>pivotal trials </strong>and<strong>\u00a0</strong>are <strong>necessary for</strong> the <strong>approval</strong> of the majority of drugs.<strong>\u00a0</strong></p>\n<p style=\"text-align: left;\">Phase III trials, also called <strong>multi-site, pivotal</strong> or <strong>effectiveness</strong> <strong>trials</strong>\u00a0are done for <strong>3\u20135 years</strong>. It is a large randomized double-blinded comparative trial performed on patients with the target disease. It aims at establishing the value of the drug as compared to the existing standard of care.\u00a0 When the initial Phase III trials are complete, the sponsor (usually a pharmaceutical company) applies to the FDA for approval to market the drug. This application is called either a <strong>New Drug Application</strong> (NDA) or a <strong>Biologics License Application</strong> (BLA).</p>\n<p style=\"text-align: left;\"><strong>Note:</strong> In some drugs related to rare diseases or malignancies, phase II studies are considered as pivotal trials and the drug may be approved on the basis of phase II studies.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Dilator pupillae is supplied by______.",
    "choices": [
      {
        "id": 1,
        "text": "Postganglionic parasympathetic from Edinger-Westphal nucleus"
      },
      {
        "id": 2,
        "text": "Postganglionic sympathetic from cervical sympathetic chain"
      },
      {
        "id": 3,
        "text": "Third cranial nerve"
      },
      {
        "id": 4,
        "text": "Sympathetic fibers of the fronto-orbital branch of the trigeminal nerve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li><strong>Sympathetic distribution to the head and neck (vasomotor, pupil dilator, and pilomotor) is through the cervical sympathetic chain and its three ganglia.</strong></li>\n<li>Now, it looks a bit confusing. The sympathetic system is the thoracolumbar outflow, and here, the answer is the cervical sympathetic chain.</li>\n<li>The outflow remains the same, the preganglionic fibers arise from upper thoracic segments but synapse in the cervical ganglia.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Renal dose of dopamine is __________.",
    "choices": [
      {
        "id": 1,
        "text": "0.5-2 mcg/kg/min"
      },
      {
        "id": 2,
        "text": "5-10 mcg/kg/min"
      },
      {
        "id": 3,
        "text": "15-20 mcg/kg/min"
      },
      {
        "id": 4,
        "text": ">20 mcg/kg/min"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong class=\"ng-binding\">Dose dependent action of dopamine</strong></p>\n<div class=\"panel-body ng-scope\">\n<table>\n<tbody>\n<tr>\n<td><strong>Dose</strong></td>\n<td><strong>Infusion rate </strong><br /><strong>mcg/kg/min</strong>&nbsp;</td>\n<td><strong>Effects </strong></td>\n</tr>\n<tr>\n<td>Low</td>\n<td>&lt;2</td>\n<td>Increase in renal blood flow and urine output: <strong>D1</strong> stimulation</td>\n</tr>\n<tr>\n<td>Medium</td>\n<td>2-10</td>\n<td>Additional cardiac stimulation: <strong>&beta;<sub>1</sub></strong>stimulation</td>\n</tr>\n<tr>\n<td>High</td>\n<td>&gt;10</td>\n<td>Vasoconstriction and increase in blood pressure: <strong>&alpha;<sub>1</sub></strong> stimulation</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Based on the data given - Heart rate in placebo (72) and drug (86);  SBP in placebo (110) and drug (128);  DBP in placebo (80) and drug (68);  Cardiac output in placebo (5) and drug (6). The action of the above newly tested drug is best related to ______.",
    "choices": [
      {
        "id": 1,
        "text": "M2 + M3 agonism"
      },
      {
        "id": 2,
        "text": "\u03b11 + M2 agonism"
      },
      {
        "id": 3,
        "text": "\u03b21\u00a0+ \u03b22 agonism"
      },
      {
        "id": 4,
        "text": "\u03b11 +  \u03b21 agonism"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The action of the above-mentioned drug can be explained by the action of &beta;<sub>1</sub>&nbsp;+ &beta;<sub>2</sub><sub>&nbsp;</sub>agonists.</p>\n<p>The parameters of the new drug when compared to placebo are:</p>\n<ul>\n<li>Increase in heart rate</li>\n<li>Increase in systolic blood pressure&nbsp;</li>\n<li>Decrease in diastolic blood pressure&nbsp;&nbsp;</li>\n<li>Increase in cardiac output</li>\n</ul>\n<p>All the parameters of the new drug are compatible with <strong>isoproterenol</strong> which is a <strong>&beta;<sub>1</sub>&nbsp;+ &beta;<sub>2</sub> agonist</strong>. Therefore, &beta;<sub>1</sub>&nbsp;+ &beta;<sub>2</sub> agonism is the most appropriate answer.&nbsp;</p>\n<p>Options A and B - Heart rate is increasing with the drug whereas <strong>M<sub>2</sub> agonism</strong> would result in a&nbsp;<strong>decrease in the heart rate</strong>.&nbsp;</p>\n<p>Option D - DBP is decreasing with the drug whereas <strong>&alpha;<sub>1</sub> agonism</strong> would cause an&nbsp;<strong>increase in DBP</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the scientific name of this plant whose roots & leaves were historically used in the treatment of asthma?",
    "choices": [
      {
        "id": 1,
        "text": "Atropa belladonna"
      },
      {
        "id": 2,
        "text": "Datura stramonium"
      },
      {
        "id": 3,
        "text": "Calotropis gigantea"
      },
      {
        "id": 4,
        "text": "Digitalis purpurea"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\">The above plant is&nbsp;<strong><em>Datura stramonium,</em> </strong>also called<strong>&nbsp;</strong>Jamestown or Jimsonweed.</p>\n<p class=\"p1\">The active ingredient in&nbsp;<em>Datura stramonium </em>includes&nbsp;<strong>anticholinergic alkaloids</strong> such as&nbsp;atropine, scopolamine, and hyoscyamine. These were helpful in relieving the symptoms associated with asthma via&nbsp;<strong>inhibition</strong> of <strong>M3</strong> <strong>receptors</strong> on <strong>bronchi</strong>, leading to a&nbsp;decrease in bronchospasm and tracheobronchial secretions.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/de446a17173745ed8be47a9b2819589c.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is the most probable diagnosis in a patient with a dilated pupil not responsive to 1% pilocarpine?",
    "choices": [
      {
        "id": 1,
        "text": "Diabetic 3rd nerve palsy"
      },
      {
        "id": 2,
        "text": "Adie\u2019s tonic pupil"
      },
      {
        "id": 3,
        "text": "Uncal herniation"
      },
      {
        "id": 4,
        "text": "Pharmacological block"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The most appropriate answer would be a <strong>pharmacological block</strong>. <strong>Antimuscarinic</strong> will <strong>occupy</strong> the <strong>receptors</strong> and results in non-responsiveness to pilocarpine.</p>\n<p>In <strong>diabetic third nerve palsy</strong>, the dilated pupil is due to the loss of innervation to constrictor pupillae. <strong>Muscarinic receptors</strong> on constrictor pupillae will be <strong>intact</strong> resulting in miosis by pilocarpine.</p>\n<p>In <strong>Adie's tonic pupil</strong>, there is <strong>denervation hypersensitivity</strong>. Pupil responds to even lower concentrations of pilocarpine.</p>\n<p><strong>Uncal herniation</strong> causes pressure on the&nbsp;third nerve leading to ipsilateral mydriasis. But <strong>muscarinic receptors</strong> are <strong>intact</strong> and thus the pupil responds to pilocarpine.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient who is on anti-glaucoma therapy presents with corneal findings as shown in the image below. This finding is most commonly observed with which of the following drugs?",
    "choices": [
      {
        "id": 1,
        "text": "Timolol"
      },
      {
        "id": 2,
        "text": "Apraclonidine"
      },
      {
        "id": 3,
        "text": "Netarsudil"
      },
      {
        "id": 4,
        "text": "Brimonidine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The bilateral <strong>whorl-like</strong>&nbsp;pattern of cream-colored lines on the cornea seen in the image is called<strong> cornea verticillata </strong>or<strong> vortex keratopathy. </strong>It&nbsp;is observed with the use of <strong>netarsudil</strong>. It is usually mild and reversible and not associated with any significant visual abnormalities.&nbsp;</p>\n<p>Netarsudil is approved for lowering intraocular pressure in patients with open-angle glaucoma or ocular hypertension.</p>\n<p><strong>Other causes of corneal verticillata are</strong>:&nbsp;</p>\n<ul>\n<li>Fabry&rsquo;s disease</li>\n<li>Amiodarone</li>\n<li>Chloroquine</li>\n<li>Hydroxychloroquine</li>\n<li>Indomethacin</li>\n<li>Phenothiazines.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9551b059503648af8f454cfbc8127fe6.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following antiglaucoma drug is unsafe in infants ?",
    "choices": [
      {
        "id": 1,
        "text": "Timolol"
      },
      {
        "id": 2,
        "text": "Brimonidine"
      },
      {
        "id": 3,
        "text": "Latanoprost"
      },
      {
        "id": 4,
        "text": "Dorzolamide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Brimonidine</strong> and <strong>apraclonidine</strong> can cause<strong> CNS depression and apnea in neonates</strong> and are contraindicated in children below 2 years.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs is associated with QT prolongation?",
    "choices": [
      {
        "id": 1,
        "text": "Lignocaine"
      },
      {
        "id": 2,
        "text": "Quinidine"
      },
      {
        "id": 3,
        "text": "Magnesium sulfate"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>QT prolongation</strong> is seen with<strong>&nbsp;quinidine.&nbsp;</strong></p>\n<p>It causes torsades de pointes, a&nbsp;life-threatening form of&nbsp;<strong>polymorphic ventricular tachycardia.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6538f64b996042a2988f62f01335e095x1268x324.JPEG"
    ]
  },
  {
    "text": "The clearance of a drug which follows first-order kinetics (in one compartment model) is 0.2 L/min and volume of distribution is 40 L. What is the t1/2 of that drug?",
    "choices": [
      {
        "id": 1,
        "text": "140 min"
      },
      {
        "id": 2,
        "text": "220 min"
      },
      {
        "id": 3,
        "text": "240 min"
      },
      {
        "id": 4,
        "text": "180 min"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>t<sub>1/2</sub></strong> of the drug would be <strong>140 minutes.</strong></p>\n<p>Plasma half-life (t<sub>1/2)</sub> is the <strong>time</strong> required for the <strong>plasma concentration</strong> or the amount of a drug in the <strong>body</strong> to be <strong>reduced</strong> by <strong>50%.</strong> It depends on its\u00a0<strong>clearance</strong>\u00a0and\u00a0<strong>volume</strong> of <strong>distribution.</strong>\u00a0</p>\n<table style=\"border-collapse: collapse; width: 13.9017%;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 100%;\"><strong>t<sub>1/2</sub> = 0.693 x V<sub>d</sub>/CL</strong></td>\n</tr>\n</tbody>\n</table>\n<p>where,\u00a0</p>\n<ul>\n<li>V<sub>d</sub>\u00a0- volume of distribution</li>\n<li>CL - clearance.</li>\n</ul>\n<p>In the given question, drug clearance (CL) = 0.2 L/min and Vd = 40 L</p>\n<p>We can take 0.693 approximately as 0.7</p>\n<p>Substituting,</p>\n<p>t<sub>1/2</sub> = 0.7 x 40 /0.2</p>\n<p>t<sub>1/2</sub> = 0.7 x 200</p>\n<p>t<sub>1/2</sub> = <strong>140 minutes</strong></p>\n<p>Clinical implications: Half-life determines the duration of the drug effect. It also indicates whether the accumulation of the drug will occur under multiple dosage regimens, thereby making it is essential to decide on the appropriate dosing interval.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The shortest acting calcium channel blocker is _______.",
    "choices": [
      {
        "id": 1,
        "text": "Nifedipine"
      },
      {
        "id": 2,
        "text": "Clevidipine"
      },
      {
        "id": 3,
        "text": "Amlodipine"
      },
      {
        "id": 4,
        "text": "Felodipine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Clevidipine is a novel dihydropyridine available only for intravenous administration.</li>\n<li>It has a very rapid onset of action (2&ndash;4 min) and <strong>a very short half-life (1&ndash;2 min).</strong></li>\n<li>It&nbsp;is metabolized by esterases in blood.</li>\n<li>It is primarily indicated in the acute management of hypertension. &nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following does not increase the risk of digoxin toxicity?",
    "choices": [
      {
        "id": 1,
        "text": "Renal impairment"
      },
      {
        "id": 2,
        "text": "Hyperkalemia"
      },
      {
        "id": 3,
        "text": "Hypercalcemia"
      },
      {
        "id": 4,
        "text": "Hypomagnesemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Digoxin toxicity is not increased by hyperkalemia.</p>\n<p>In hyperkalemia, the ATPase alpha subunit is <strong>dephosphorylated</strong>, which is the binding site of digoxin. This <strong>reduces</strong> it's <strong>binding</strong> and effect. Therefore, hyperkalemia does not increase digoxin toxicity.</p>\n<p>Factors predisposing digoxin toxicity<strong>:</strong>\u00a0</p>\n<ul>\n<li>Hypokalemia (more digoxin binds to the Na<sup>+</sup>/K<sup>+</sup> ATPase)</li>\n<li>Hypercalcemia (increases the risk of arrhythmia)</li>\n<li>Hypomagnesemia<strong>\u00a0</strong>(Mg<sup>++</sup> is a co-factor for Na<sup>+</sup>/K<sup>+</sup> ATPase)</li>\n<li>Renal failure (for digoxin)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs is usually avoided in a patient with myasthenia gravis?",
    "choices": [
      {
        "id": 1,
        "text": "Aminoglycosides"
      },
      {
        "id": 2,
        "text": "Sulphonamides"
      },
      {
        "id": 3,
        "text": "Penicillin"
      },
      {
        "id": 4,
        "text": "All"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Aminoglycosides&nbsp;</strong>has to be avoided in a patient with myasthenia gravis<strong>. </strong>It<strong> blocks Ca<sup>2+</sup>&nbsp;mediated exocytosis of acetylcholine </strong>from the presynaptic membrane in the neuromuscular junction.<strong>&nbsp;</strong>The <strong>decrease in ACh</strong> levels <strong>aggravates myasthenia gravis</strong>.&nbsp;</p>\n<p>Aminoglycosides can also have a direct inhibitory effect on post-synaptic acetylcholine receptors.&nbsp;</p>\n<p>Drugs that may aggravate myasthenia gravis are</p>\n<ul>\n<li>Antibiotics like aminoglycosides, quinolones, and macrolides</li>\n<li>Beta-blockers</li>\n<li>Botulinum toxin</li>\n<li>Local anesthetics</li>\n<li>Magnesium</li>\n<li>Non&ndash;depolarising muscle relaxants</li>\n<li>Penicillamine</li>\n<li>Quinine derivatives</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e88c3818bfea430391c09404932d7402x1280x2234.JPEG"
    ]
  },
  {
    "text": "A 40-year-old male patient who requires weekly hemodialysis is started on sevelamer. Which of the following best describes the mechanism of action of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin D analog"
      },
      {
        "id": 2,
        "text": "Calcium-sensing receptor mimetic"
      },
      {
        "id": 3,
        "text": "Phosphate binder"
      },
      {
        "id": 4,
        "text": "Potassium binder"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Sevelamer is a <strong>phosphate binder</strong> indicated in chronic kidney disease.</p>\n<p>Sevelamer is a<strong> nonabsorbable polymer</strong> that acts as a nonselective anion exchanger that<strong> lowers serum phosphate</strong> concentration.&nbsp;</p>\n<p>It is indicated to lower phosphate levels in patients with<strong> chronic kidney disease</strong> who are on <strong>dialysis.</strong>&nbsp;</p>\n<p>Note: Patiromer is a potassium binder approved for use in hyperkalemia.&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Mechanism of action of bromocriptine_____",
    "choices": [
      {
        "id": 1,
        "text": "Agonist at D2 receptor"
      },
      {
        "id": 2,
        "text": "Antagonist at D2 receptor"
      },
      {
        "id": 3,
        "text": "Antagonist at D1 receptor"
      },
      {
        "id": 4,
        "text": "Antagonist at cholinergic receptor"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Bromocriptine is an ergot derivative. <strong>Most of its action is due to agonist activity at D2 receptors.</strong> It also behaves as the partial agonist or as an antagonist of D1 receptor only in certain places of the brain.</p>\n<p><strong>Bromocriptine acts as a sympatholytic dopamine agonist and improves glycemic control</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The most frequent fracture site due to osteoporosis induced by glucocorticoids is_____.",
    "choices": [
      {
        "id": 1,
        "text": "Femur"
      },
      {
        "id": 2,
        "text": "Vertebra"
      },
      {
        "id": 3,
        "text": "Fibula"
      },
      {
        "id": 4,
        "text": "Tibia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Glucocorticoids preferentially affect trabecular bone and the cortical rim of vertebral bones.</li>\n<li><strong>Ribs and vertebra are the most frequent sites</strong> of fracture with glucocorticoids-induced osteoporosis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 55-year-old diabetic man on treatment presents with complaints of difficulty reading. Fundoscopy shows the following findings. Which antidiabetic drug class is likely to cause this?",
    "choices": [
      {
        "id": 1,
        "text": "Thiazolidinediones"
      },
      {
        "id": 2,
        "text": "DPP-4 inhibtors"
      },
      {
        "id": 3,
        "text": "SGLT-2 inhibitors"
      },
      {
        "id": 4,
        "text": "Sulfonylureas"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows <strong>diabetic macular edema</strong>, with hard exudates surrounding the blood vessels.&nbsp;It is a rare adverse effect seen with <strong>thiazolidinediones,</strong> and it resolves when the drug is discontinued.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/20bee22a7c7d4df1b8fc065782163abd.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Insulin receptors belong to the following type of receptor",
    "choices": [
      {
        "id": 1,
        "text": "G protein coupled receptor"
      },
      {
        "id": 2,
        "text": "Receptor tyrosine kinase"
      },
      {
        "id": 3,
        "text": "Ionotropic receptor"
      },
      {
        "id": 4,
        "text": "Intracellular receptor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Insulin action is transmitted through a receptor tyrosine kinase.&nbsp;</strong></p>\n<p>Insulin receptors have 2 extracellular alpha subunits and 2 transmembrane beta subunits having intrinsic tyrosine kinase activity.&nbsp;</p>\n<p>Alpha subunits inhibit the tyrosine kinase activity of beta subunits; on the&nbsp;binding of insulin, there is a release of inhibition by alpha subunits and downstream signaling continues.&nbsp;&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young lady who is on oral contraceptive pills refrains from taking any drug even for minor ailments due to the fear of contraceptive failure. Which of the following drugs can be taken safely?",
    "choices": [
      {
        "id": 1,
        "text": "Aspirin"
      },
      {
        "id": 2,
        "text": "Tetracycline"
      },
      {
        "id": 3,
        "text": "Phenytoin"
      },
      {
        "id": 4,
        "text": "Rifampicin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Among the given drugs, <strong>aspirin</strong> use is least likely to cause contraceptive failure.</p>\n<p>Option B:<strong>&nbsp;</strong>Broad-spectrum antibiotics like tetracycline suppress the intestinal flora and <strong>interfere with the enterohepatic circulation of estrogen.</strong> This leads to lowering of plasma estrogen levels and can result in contraceptive failure.</p>\n<p>Options C and D:<strong>&nbsp;Enzyme inducers</strong> like phenytoin and rifampicin increase the metabolism of oral contraceptives and can cause contraceptive failure.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A neurology resident changed the current oral medication of a patient with Alzheimer's disease to a transdermal patch of a cholinesterase inhibitor. What must be the new drug that was prescribed?",
    "choices": [
      {
        "id": 1,
        "text": "Tacrine"
      },
      {
        "id": 2,
        "text": "Donepezil"
      },
      {
        "id": 3,
        "text": "Rivastigmine"
      },
      {
        "id": 4,
        "text": "Galantamine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Rivastigmine</strong>&nbsp;is a cholinesterase inhibitor that is available as a <strong>transdermal patch</strong> for use in Alzheimer's disease. It can&nbsp;be applied for over 24 hours. Transdermal delivery <strong>reduces the fluctuation</strong> and avoids direct gastric irritation effects associated with oral formulations.&nbsp;</p>\n<p>Option A: Tacrine is an anticholinesterase that is obsolete because of its association with hepatotoxicity.&nbsp;</p>\n<p>Options B and D: Donepezil and galantamine transdermal formulations are under development and <strong>yet to be available</strong> in the market.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A physician prescribes naltrexone to a patient undergoing treatment for opioid addiction. What is the function of this drug in opioid addiction?",
    "choices": [
      {
        "id": 1,
        "text": "Prevention of relapse"
      },
      {
        "id": 2,
        "text": "Treatment of withdrawal"
      },
      {
        "id": 3,
        "text": "Treatment of overdose"
      },
      {
        "id": 4,
        "text": "Prevention of withdrawal"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Naltrexone is used for the<strong> prevention of relapse</strong>&nbsp;in opioid addiction.</p>\n<p>It is given only after initial opioid detoxification.&nbsp;The patient should be opioid-free for 7-10 days and have a negative naloxone challenge (no withdrawal after naloxone administration).</p>\n<p>Naltrexone is a pure opioid antagonist which is more potent than naloxone. It is <strong>orally active</strong> and has a <strong>long duration of action</strong> which makes it suitable for opioid blockade therapy in post-addicts.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Benzodiazepine-binding site on GABA receptor chloride channel complex is located at:",
    "choices": [
      {
        "id": 1,
        "text": "Alpha subunit"
      },
      {
        "id": 2,
        "text": "Beta subunit"
      },
      {
        "id": 3,
        "text": "Interface of alpha and beta subunits"
      },
      {
        "id": 4,
        "text": "Interface of alpha and gamma subunits"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Benzodiazepine-binding site on GABA receptor chloride channel complex is located at the interface of alpha and gamma subunits.</strong></p>\n<p>GABA binds at the interface of alpha and beta subunits.&nbsp;</p>\n<p>Types of subunits in the binding site determine pharmacological activity. Alpha 6 and gamma 1 type of subunits containing receptors have least affinity for benzodiazepines.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/96d841174b9242b68b356f47e9dce071x800x794.PNG"
    ]
  },
  {
    "text": "The risk of carbamazepine induced Steven Johnson syndrome is increased in the presence of which of the following genes?",
    "choices": [
      {
        "id": 1,
        "text": "HLA-B 1507"
      },
      {
        "id": 2,
        "text": "HLA-B 1502"
      },
      {
        "id": 3,
        "text": "HLA-B 5701"
      },
      {
        "id": 4,
        "text": "HLA-B 2406"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>HLA allele B-1502 </strong>is implicated as a <strong>marker for carbamazepine-induced Stevens-Johnson syndrome and toxic epidermal necrolysis</strong> in Han Chinese, the USFDA recommends genotyping all Asians for the allele.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient having both positive and negative symptoms of schizophrenia was prescribed an atypical antipsychotic with partial D2 agonism. Identify the drug.",
    "choices": [
      {
        "id": 1,
        "text": "Clozapine"
      },
      {
        "id": 2,
        "text": "Fluphenazine"
      },
      {
        "id": 3,
        "text": "Aripiprazole"
      },
      {
        "id": 4,
        "text": "Risperidone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Aripiprazole</strong> is an atypical antipsychotic&nbsp;showing&nbsp;<strong>D<sub>2 </sub>partial agonism</strong>. It has a higher affinity for D<sub>2</sub> receptors than for 5HT2A receptors.</p>\n<p>As a partial agonist, aripiprazole has a <strong>dual-action</strong> which makes it <strong>useful</strong> in patients with <strong>both positive and negative</strong> <strong>symptoms</strong> of schizophrenia.</p>\n<p>Options A &amp; D: Clozapine and risperidone are atypical antipsychotics with predominant 5HT<sub>2A</sub> antagonistic activity over D<sub>2</sub> antagonism.&nbsp;</p>\n<p>Option B: Fluphenazine is a<strong> typical</strong> <strong>antipsychotic</strong>. They have predominant&nbsp;D<sub>2</sub> antagonism property and such action on the mesocortical pathway may <strong>increase</strong> the <strong>negative symptoms</strong> of schizophrenia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not true regarding clozapine?",
    "choices": [
      {
        "id": 1,
        "text": "More potently blocks D2 as compared to D1 receptors"
      },
      {
        "id": 2,
        "text": "Drug concentration is kept below 350ng/ml to avoid agranulocytosis"
      },
      {
        "id": 3,
        "text": "Should not be used along with carbamazepine"
      },
      {
        "id": 4,
        "text": "Should be discontinued if the neutrophil count is below 500/microL"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Agranulocytosis</strong> is an <strong>immune-mediated </strong>adverse effect and unlike seizures, it is<strong> not dependent</strong> <strong>on dose</strong>. Thus, agranulocytosis can happen at any plasma concentration of clozapine and concentration &lt; 350 ng/mL does not lower the risk.</p>\n<p>Option A: Clozapine is an atypical antipsychotic, which acts by blocking the 5HT<sub>2</sub>, &alpha;<sub>2</sub>&nbsp;and D<sub>4 </sub>receptors. The potency of block is&nbsp;<strong>D<sub>4</sub> &gt; D<sub>2</sub> &gt;D</strong><sub><strong>1</strong>.</sub></p>\n<p>Option C: Concomitant administration of <strong>carbamazepine with clozapine</strong> is <strong>contraindicated</strong> because of the increased risk of <strong>leukopenia</strong>.&nbsp;In addition, carbamazepine is an enzyme inducer and <strong>reduces</strong> the <strong>half-life of clozapine</strong>.</p>\n<p>Option D:&nbsp;Administration of clozapine requires regular <strong>blood count monitoring</strong> due to the risk of agranulocytosis. Monitoring is performed <strong>weekly</strong> for the <strong>first 6 months</strong> and <strong>once in two weeks</strong> for the <strong>next 6 months</strong>.&nbsp;Patients must be asked to report for evaluation in case of symptoms such as fever or sore throat. Clozapine should be <strong>discontinued</strong> if the <strong>neutrophil</strong> count drops <strong>below 500 cells/&mu;L</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with a history of mania, on lithium therapy, is brought with complaints of vomiting and multiple episodes of diarrhea. On examination, coarse tremors and an ataxic gait are noted. What is the expected level of serum lithium in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "> 1.2 mEq/L"
      },
      {
        "id": 2,
        "text": "> 0.8 mEq/L"
      },
      {
        "id": 3,
        "text": "> 1.5 mEq/L"
      },
      {
        "id": 4,
        "text": "> 0.5 mEq/L"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\">Clinical features are suggestive of<strong data-stringify-type=\"bold\">&nbsp;lithium toxicity,&nbsp;</strong>where serum<strong data-stringify-type=\"bold\">&nbsp;</strong><span data-stringify-type=\"bold\">levels&nbsp;</span><strong data-stringify-type=\"bold\">&gt;1.5 mEq/L&nbsp;</strong>are considered<strong data-stringify-type=\"bold\">&nbsp;toxic.&nbsp;&nbsp;</strong></p>\n<p style=\"text-align: left;\">Lithium has a <strong>narrow therapeutic index (0.8&ndash;1.2 mEq/L)</strong>&nbsp;and therefore requires monitoring to suspect toxicity. The toxic effects of lithium usually start manifesting when the serum level crosses 1.5 mEq/L.</p>\n<p style=\"text-align: left;\">Acute intoxication is characterized by:&nbsp;</p>\n<ul>\n<li style=\"text-align: left;\">Vomiting</li>\n<li style=\"text-align: left;\">Profuse diarrhea</li>\n<li style=\"text-align: left;\">Coarse tremors</li>\n<li style=\"text-align: left;\">Ataxia</li>\n<li style=\"text-align: left;\">Coma</li>\n<li style=\"text-align: left;\">Convulsions.</li>\n</ul>\n<p>A fine action tremor is common in patients taking lithium at therapeutic doses and can develop at any time during treatment.&nbsp;Therapeutic lithium tremor is generally symmetric, limited to the arms, and nonprogressive.Tremor from lithium toxicity is <strong>coarser</strong> and <strong>more disabling</strong>, may also affect the legs, and occurs with other symptoms of toxicity.</p>\n<p>Serious effects of lithium toxicity will involve confusion, hyperreflexia, and seizures. Motor and cognitive side effects can become irreversible with<strong> persistent cerebellar tremor</strong> being the most common.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not an adverse effect of salbutamol?",
    "choices": [
      {
        "id": 1,
        "text": "Tachycardia"
      },
      {
        "id": 2,
        "text": "Tolerance"
      },
      {
        "id": 3,
        "text": "Hypokalemia"
      },
      {
        "id": 4,
        "text": "Hypoglycemia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Salbutamol</strong> in large doses can result in <strong>hyperglycemia,</strong>&nbsp;not hypoglycemia.</p>\n<p>Option A:&nbsp;<strong>Tachycardia</strong>&nbsp;due to reflex sympathetic stimulation due to vasodilator action on &beta;2 receptors and&nbsp;direct effect on cardiac &beta;1&nbsp;receptors (&beta;2 selectivity is lost at high concentrations)&nbsp;</p>\n<p>Option B:&nbsp;<strong>Tolerance</strong> occurs due to desensitization on long-term use&nbsp;</p>\n<p>Option C:&nbsp;<strong>Hypokalemia</strong> due to direct effect on skeletal muscle uptake of K+ ions</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient diagnosed with Churg-Strauss syndrome is started on Mepolizumab. This drug acts against:",
    "choices": [
      {
        "id": 1,
        "text": "IgE"
      },
      {
        "id": 2,
        "text": "IgA"
      },
      {
        "id": 3,
        "text": "IL-5"
      },
      {
        "id": 4,
        "text": "IL-12"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: justify;\"><strong>Mepolizumab </strong>is a monoclonal antibody <strong>against IL-5.&nbsp;</strong>It is indicated in:&nbsp;</p>\n<ul>\n<li style=\"text-align: justify;\">Selected (eosinophilic phenotype) patients with <strong>severe asthma</strong></li>\n<li style=\"text-align: justify;\">Churg-Strauss syndrome&nbsp;</li>\n<li style=\"text-align: justify;\">Hypereosinophilic syndrome&nbsp;</li>\n</ul>\n<p style=\"text-align: justify;\">IL-5 plays a pivotal role in <strong>eosinophilic inflammation</strong> and is also involved in eosinophil survival and priming.</p>\n<p style=\"text-align: justify;\">Monoclonal antibodies against IL-5 approved for asthma are:</p>\n<ul>\n<li style=\"text-align: justify;\">Mepolizumab</li>\n<li style=\"text-align: justify;\">Reslizumab</li>\n<li style=\"text-align: justify;\">Benralizumab</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Omalizumab is administered in bronchial asthma by which route?",
    "choices": [
      {
        "id": 1,
        "text": "Oral"
      },
      {
        "id": 2,
        "text": "Intravenous"
      },
      {
        "id": 3,
        "text": "Subcutanoeus"
      },
      {
        "id": 4,
        "text": "Inhalational"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Omalizumab is administered subcutaneously every 2-4 weeks.</strong> The dose is dependent on the circulating IgE levels.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Thrombolytics can provide relative mortality reduction in the treatment of acute myocardial infarction if the patient comes within _____",
    "choices": [
      {
        "id": 1,
        "text": "6 hours"
      },
      {
        "id": 2,
        "text": "12 hours"
      },
      {
        "id": 3,
        "text": "18 hours"
      },
      {
        "id": 4,
        "text": "24 hours"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Thrombolysis can provide mortality reduction for patients who present <strong>within 12 hours</strong> of symptom onset, especially in those presenting with STEMI and continued chest discomfort. However, <strong>maximum benefit</strong> is obtained if the patient can undergo fibrinolysis <strong>within 1-3 hours.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with a history of myocardial infarction has been on 75 mg aspirin OD for two years. The drug primarily acts by inhibiting which enzyme?",
    "choices": [
      {
        "id": 1,
        "text": "Cyclooxygenase 1"
      },
      {
        "id": 2,
        "text": "Cyclooxygenase 2"
      },
      {
        "id": 3,
        "text": "Both a and b"
      },
      {
        "id": 4,
        "text": "Lipoxygenase"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: justify;\"><strong>Aspirin</strong> at <strong>low doses</strong>&nbsp;(75mg) primarily acts by <strong>inhibiting&nbsp;</strong><strong>cyclooxygenase 1 (COX-1).</strong></p>\n<p style=\"text-align: justify;\">Low-dose aspirin, used for antiplatelet action, results in selective inhibition of platelet COX-1 (<strong>thromboxane synthase</strong>) inhibiting its ability to form thromboxane A2 (needed for platelet aggregation).</p>\n<p style=\"text-align: justify;\">As platelets lack nuclei, new platelets have to be formed (life span of <strong>7-10 days</strong>) for the return of COX-1 activity.</p>\n<p style=\"text-align: justify;\">At <strong>higher doses</strong> (~1g/day), aspirin also <strong>inhibits COX-2</strong> and results in decreased production of prostacyclin from endothelium. This may nullify the beneficial anti-aggregatory effect of aspirin.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/86e4d0d5598943c3b1b9608e6621be8dx1279x1740.JPEG"
    ]
  },
  {
    "text": "Absorption of iron is impeded by which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Meat based foods"
      },
      {
        "id": 2,
        "text": "Ascorbic acid"
      },
      {
        "id": 3,
        "text": "Amino acids containing \u2013SH groups"
      },
      {
        "id": 4,
        "text": "Egg based foods"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The absorption of iron is impeded by <strong>egg-based </strong>foods. They contain a high amount of <strong>phosphates</strong> (egg yolk) that <strong>form complexes with iron</strong> and impede absorption.</p>\n<p><strong>Heme-based iron</strong>, present in meat products, is <strong>easily absorbed</strong> without the aid of a carrier and is not much affected by other foods. Inorganic iron is affected by several factors.</p>\n<p>Factors <strong>increasing </strong>iron absorption are:</p>\n<ul>\n<li><strong>Reducing substances</strong> such as ascorbic acid and amino acids containing &ndash;SH groups&nbsp;- reduce ferric iron to the soluble ferrous form</li>\n<li><strong>Meat</strong>-based foods - enhance heme absorption and increase acid secretion.</li>\n</ul>\n<p>Factors <strong>decreasing </strong>iron absorption are:</p>\n<ul>\n<li><strong>Phosphates</strong>, phytates, and tetracyclines - by forming complexes</li>\n<li>Alkalies - prevents the reduction of&nbsp;ferric iron to the soluble ferrous form</li>\n<li>Presence of other food in the&nbsp;stomach - by increasing pH</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Sargramostim is a recombinantly engineered analogue of which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "G-CSF"
      },
      {
        "id": 2,
        "text": "GM-CSF"
      },
      {
        "id": 3,
        "text": "Erythropoietin"
      },
      {
        "id": 4,
        "text": "IL-11"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\"><strong>Sargramostim&nbsp;</strong>is a <strong>recombinant human GM-CSF </strong>(Granulocyte-macrophage colony-stimulating factor).</p>\n<p class=\"p1\">Indications for use:</p>\n<ul>\n<li>Autologous <strong>bone marrow transplant</strong>&nbsp;<strong>-</strong> reduces the duration of neutropenia</li>\n<li>Cancer <strong>chemotherapy -</strong>&nbsp;reduces the duration of neutropenia</li>\n<li>Peripheral blood <strong>stem cell collection -</strong>&nbsp;to mobilize CD34 positive progenitor cells</li>\n</ul>\n<p class=\"p1\">It is administered subcutaneously or by slow intravenous infusion.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following agents is used in the treatment of patients who develop severe thrombocytopenia following anti-cancer therapy?",
    "choices": [
      {
        "id": 1,
        "text": "Filgrastim"
      },
      {
        "id": 2,
        "text": "Oprelvekin"
      },
      {
        "id": 3,
        "text": "Erythropoietin"
      },
      {
        "id": 4,
        "text": "Iron dextran"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Oprelvekin&nbsp;</strong>is used in the treatment of&nbsp;<strong>thrombocytopenia secondary to anti-cancer therapy</strong>.</p>\n<p>It is a <strong>recombinant human interleukin-11</strong>. Its predominant hemopoietic activity is the stimulation of <strong>megakaryocytopoiesis.</strong> Oprelvekin is indicated for the prevention and treatment of severe thrombocytopenia and the reduction of platelet transfusion requirements following myelosuppressive chemotherapy in patients with non-myeloid malignancies.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which is the anticoagulant of choice for the management of cancer-associated thromboembolism?",
    "choices": [
      {
        "id": 1,
        "text": "Unfractionated Heparin"
      },
      {
        "id": 2,
        "text": "Warfarin"
      },
      {
        "id": 3,
        "text": "Low molecular weight heparin"
      },
      {
        "id": 4,
        "text": "Dabigatran"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The anticoagulant of choice for the management of<strong> cancer-associated thromboembolism</strong> is <strong>l</strong><strong>ow-molecular-weight heparin </strong>(LMWH).</p>\n<p>It is the preferred agent because of more bioavailability, lack of need for anticoagulant monitoring, and a long t1/2.&nbsp;</p>\n<p>Venous thromboembolism (including deep vein thrombosis, pulmonary embolism, and splanchnic vein thrombosis), is a frequent complication of cancer and is the second-leading cause of death in cancer patients receiving chemotherapy.</p>\n<p>Based on the results from the&nbsp;<strong>C</strong>omparison of <strong>L</strong>ow-molecular-weight&nbsp;heparin vs.&nbsp;<strong>O</strong>ral anticoagulants for long-term anticoagulation in cancer patients with venous <strong>T</strong>hromboembolism (<strong>CLOT</strong>) Trial, all recent guidelines now advise LMWH for cancer-associated thromboembolism.&nbsp;</p>\n<p>However, unfractionated heparin <strong>(UFH)</strong> can be used in patients with <strong>renal failure</strong>, and <strong>fondaparinux</strong> can be considered in patients with heparin-induced thrombocytopenia (<strong>HIT</strong>).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The oral thrombin inhibitor which can be used for prevention of stroke in patients with non-valvular atrial fibrillation is?",
    "choices": [
      {
        "id": 1,
        "text": "Dabigatran"
      },
      {
        "id": 2,
        "text": "Ximelgatran"
      },
      {
        "id": 3,
        "text": "Lepirudin"
      },
      {
        "id": 4,
        "text": "Saxagliptin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>oral thrombin inhibitor</strong> which can be used for the <strong>prevention of stroke</strong> in patients with <strong>non-valvular atrial fibrillation</strong> is <strong>dabigatran</strong>. However, it is contraindicated in patients with mechanical heart valves.</p>\n<p>Option B: Ximelagatran is also an oral thrombin inhibitor, but it has been discontinued due to the risk of hepatotoxicity.</p>\n<p>Option C: Lepirudin is a parenteral direct thrombin inhibitor used mainly in heparin-induced thrombocytopenia.</p>\n<p>Option D: Saxagliptin is a DPP-4 inhibitor used in the management of type 2 diabetes mellitus.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A diabetic female patient on isoniazid and rifampicin for tuberculosis developed deep vein thrombosis. She was started on warfarin, but there was no elevation in prothrombin time. The next step should be?",
    "choices": [
      {
        "id": 1,
        "text": "Increase the dose of warfarin"
      },
      {
        "id": 2,
        "text": "Replace warfarin with acenocoumarin"
      },
      {
        "id": 3,
        "text": "Switch ethambutol for rifampicin"
      },
      {
        "id": 4,
        "text": "Use low molecular weight heparin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The next step should be <strong>using low molecular weight heparin</strong> (LMWH).</p>\n<p>The anticoagulant effect of warfarin is assessed by the measurement of prothrombin time (PT). Failure of elevation of PT indicates the decreased effect of warfarin. If we increase the dose of warfarin, it will take 5 days to prevent DVT. For immediate action, heparin or LMWH has to be started.</p>\n<p><strong>LMWH</strong> has <strong>more inhibitory activity</strong> on factor <strong>Xa</strong> than on factor IIa due to the conformational changes in antithrombin caused by the short molecules of LMWH. This conformational change the rate of factor Xa inhibition. LMWH has little effect on platelets. Heparin, LMWH, or fondaparinux are used in the treatment of <strong>deep vein thrombosis</strong>, pulmonary embolism, unstable angina, or acute myocardial infarction. Some of the examples of LMWH preparations are <strong>enoxaparin</strong> and <strong>dalteparin</strong>. The major adverse effect is <strong>bleeding</strong> and there is a low incidence of thrombocytopenia.</p>\n<p>Other options:</p>\n<p>Option A-\u00a0Effect of warfarin starts in 4-5 days. Therefore,\u00a0<strong>heparin or LMWH</strong> has to be started for\u00a0<strong>immediate effect</strong>.</p>\n<p>Option B- <strong>Acenocoumarin</strong> is also an <strong>oral anticoagulant</strong>. Its metabolism is also subjected to <strong>induction</strong> by <strong>rifampicin</strong>.</p>\n<p>Option C- <strong>Rifampicin</strong> is an <strong>enzyme inducer</strong> and can <strong>decrease</strong> the <strong>effect of warfarin</strong>. Rifampicin is the most effective drug for tuberculosis and should not be replaced.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 55-year-old woman had undergone modified radical mastectomy followed by chemotherapy with trastuzumab. She now presents with liver metastases. Which of the following drugs could be used in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Lapatinib"
      },
      {
        "id": 2,
        "text": "Panitumumab"
      },
      {
        "id": 3,
        "text": "Erlotinib"
      },
      {
        "id": 4,
        "text": "Imatinib"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given scenario depicts a case of <strong>trastuzumab-refractory breast cancer&nbsp;</strong>and <strong>lapatinib</strong> is used in this condition.</p>\n<table>\n<tbody>\n<tr>\n<td>Drug</td>\n<td>Use</td>\n</tr>\n<tr>\n<td>Lapatinib</td>\n<td>Refractory and metastatic breast carcinoma</td>\n</tr>\n<tr>\n<td>Panitumumab</td>\n<td>Colorectal carcinoma</td>\n</tr>\n<tr>\n<td>Erlotinib</td>\n<td>\n<ul>\n<li>Non small cell lung carcinoma</li>\n<li>Pancreatic carcinoma</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td>Imatinib</td>\n<td>\n<ul>\n<li>Chronic myeloid leukemia</li>\n<li>Gastrointestinal stromal tumour</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which antineoplastic drug is a peptide?",
    "choices": [
      {
        "id": 1,
        "text": "Bleomycin"
      },
      {
        "id": 2,
        "text": "Actinomycin"
      },
      {
        "id": 3,
        "text": "Valinomycin"
      },
      {
        "id": 4,
        "text": "Cytarabine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Bleomycin is a mixture of two closely related copper-chelating peptides, bleomycins A2 and B2,</strong>&nbsp;having potent antitumor activity.</li>\n<li>It chelates copper and iron and produces superoxide ions, which cause oxidative damage to DNA, RNA,&nbsp;and proteins.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Flagellate dermatitis is caused by _____.",
    "choices": [
      {
        "id": 1,
        "text": "Actinomycin"
      },
      {
        "id": 2,
        "text": "Bleomycin"
      },
      {
        "id": 3,
        "text": "Mitomycin-C"
      },
      {
        "id": 4,
        "text": "Doxorubicin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Flagellate dermatitis</strong> is caused by <strong>bleomycin</strong>.</p>\n<p>Flagellate erythema/ dermatitis is characterized by <strong>multiple</strong>&nbsp;red, macular streaks of erythema on the trunk and limbs. The streaks are aligned in a criss\u2010cross pattern, giving a&nbsp;<strong>whip-like</strong>&nbsp;or&nbsp;<strong>flagellate appearance</strong>. They may be sore or pruritic.&nbsp;</p>\n<p>Flagellate erythema is seen in</p>\n<ul>\n<li aria-level=\"1\">A side effect of&nbsp;<strong>bleomycin</strong>&nbsp;chemotherapy</li>\n<li aria-level=\"1\">The toxic effect after consumption of shitake mushrooms</li>\n<li aria-level=\"1\">Dermatomyositis</li>\n<li aria-level=\"1\">Adult-onset Still&rsquo;s disease</li>\n<li aria-level=\"1\">Docetaxel therapy</li>\n</ul>\n<p>It is&nbsp;<strong>self-limiting</strong>&nbsp;and usually resolves within a few days to weeks. Topical steroids and oral antihistamines can be given to relieve the associated pruritis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8463f883ad3e434887d64d325e751e6dx512x140.PNG"
    ]
  },
  {
    "text": "A patient with Crohn's disease, refractory to steroid therapy is planned to be started on an anti-TNF alpha monoclonal antibody. Which of the following drugs does not belong in this class?",
    "choices": [
      {
        "id": 1,
        "text": "Infliximab"
      },
      {
        "id": 2,
        "text": "Adalimumab"
      },
      {
        "id": 3,
        "text": "Certolizumab pegol"
      },
      {
        "id": 4,
        "text": "Vedolizumab"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Vedolizumab</strong> is a humanized <strong>anti-alpha-4-beta-7&nbsp;integrin</strong> <strong>monoclonal antibody</strong>&nbsp;that prevents lymphocyte recruitment to the intestinal mucosa.</p>\n<p>It is approved for use in moderate-severe <strong>Crohn's</strong> disease and <strong>ulcerative</strong> colitis.</p>\n<p><strong>Anti-TNF alpha</strong> monoclonal antibodies indicated in IBD are:&nbsp;</p>\n<ul>\n<li>Infliximab</li>\n<li>Adalimumab</li>\n<li>Certolizumab pegol</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient of chronic low back pain has presented to your OPD with deranged LFT reports. He tells you he has been on long term treatment with a painkiller for his condition. Which NSAID has he most likely been taking?",
    "choices": [
      {
        "id": 1,
        "text": "Acetaminophen"
      },
      {
        "id": 2,
        "text": "Diclofenac"
      },
      {
        "id": 3,
        "text": "Piroxicam"
      },
      {
        "id": 4,
        "text": "Indomethacin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: justify;\"><strong>Diclofenac</strong> is the NSAID that has the <strong>highest risk</strong> of <strong>hepatotoxicity</strong> within the <strong>therapeutic dose</strong>.</p>\n<p style=\"text-align: justify;\">Liver injury occurs in acetaminophen overdose but it is extremely rare in therapeutic dose. NSAIDs are not recommended in advanced hepatic and renal failure.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "NSAID that is more likely to reduce the antiplatelet effect of low dose aspirin",
    "choices": [
      {
        "id": 1,
        "text": "Etoricoxib"
      },
      {
        "id": 2,
        "text": "Ibuprofen"
      },
      {
        "id": 3,
        "text": "Celecoxib"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>The concomitant administration of ibuprofen and aspirin antagonizes the irreversible platelet inhibition induced by aspirin. </strong></p>\n<p><strong>Ibuprofen impedes access of aspirin to the target Ser529 present on COX-1 in active platelets.</strong></p>\n<p>Thus, treatment with ibuprofen in patients with increased cardiovascular risk may limit the cardio protective effects of aspirin.</p>\n<p>Unequivocal evidence exists for both ibuprofen and naproxen for the above interaction. Other non-selective cyclooxygenase inhibitors can also be invloved in such interactions.&nbsp;</p>\n<p><strong>Options A and C:</strong> Etoricoxib and celecoxib are less likely to show the above drug interaction but confer a direct cardiovascular hazard due to their selective COX inhibition.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 70-year-old man was administered penicillin intravenously for Anthrax disease. Within 5 minutes, he developed generalized urticaria, swelling of lips, hypotension, and bronchospasm. The 1st choice drug to administer is",
    "choices": [
      {
        "id": 1,
        "text": "Chlorpheniramine injection"
      },
      {
        "id": 2,
        "text": "High dose corticosterone tablet"
      },
      {
        "id": 3,
        "text": "Nebulized salbutamol"
      },
      {
        "id": 4,
        "text": "Epinephrine injection"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Generalized urticaria, swelling of lips, hypotension, and bronchospasm suggests that the patient is developing <strong>anaphylactic shock.&nbsp;</strong><strong>Epinephrine </strong>injection administered<strong> intramuscularly </strong>is the preferred choice in anaphylactic shock. Epinephrine is a&nbsp;<strong>powerful bronchodilator</strong>&nbsp;and it is a <strong>potent vasopressor</strong>.</p>\n<p>Antihistamines have only an adjuvant role in anaphylactic shock and are not routinely used in emergency cases.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 38-year-old woman complains of recurrent episodes of constipation and crampy abdominal pain for the last 4 months. The pain is relieved on defecation. After investigations, a diagnosis of irritable bowel syndrome with constipation is considered. Which of the following drugs would you prescribe?",
    "choices": [
      {
        "id": 1,
        "text": "Lubiprostone"
      },
      {
        "id": 2,
        "text": "Loperamide"
      },
      {
        "id": 3,
        "text": "Alosetron"
      },
      {
        "id": 4,
        "text": "Eluxadoline"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The drug used in <strong>irritable bowel syndrome</strong> with<strong> constipation</strong> is <strong>lubiprostone. </strong></p>\n<p>It is&nbsp;approved for<strong> chronic idiopathic constipation </strong>and<strong> constipation-predominant irritable bowel syndrome</strong> (in female patients &gt;18 years). It acts by stimulating Cl-channels in the intestine and increasing fluid secretion in the gut. This decreases the transit time.</p>\n<p>Eluxadoline is an FDA-approved opioid drug for the treatment of diarrhea-predominant IBS in adults.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Mechanism of action of metoclopramide does not include ______.",
    "choices": [
      {
        "id": 1,
        "text": "D2 antagonism"
      },
      {
        "id": 2,
        "text": "5 HT3 antagonism"
      },
      {
        "id": 3,
        "text": "5HT4 antagonism"
      },
      {
        "id": 4,
        "text": "5HT4 agonism"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Mechanism of action of metoclopramide does not include&nbsp;5HT4 antagonism.</p>\n<p>Metoclopramide includes the following action:</p>\n<ul>\n<li>5HT4 receptor agonism</li>\n<li>5HT3 receptor antagonism</li>\n<li>D2 antagonism</li>\n<li>Sensitization of muscarinic receptors on smooth muscles</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The inhibition of hydrochloric acid secretion by omeprazole occurs within an hour, reaches a peak at 2 hours, and plateaus by the 4th day. After how many days will the secretion gradually normalize after stopping the drug?",
    "choices": [
      {
        "id": 1,
        "text": "<24 hours"
      },
      {
        "id": 2,
        "text": "1-2 days"
      },
      {
        "id": 3,
        "text": "3-4 days"
      },
      {
        "id": 4,
        "text": "6-10 days"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The secretion resumes normally in <strong>3-4 days of stopping</strong> the drug when <strong>new proton pumps are synthesized</strong>.</p>\n<p>Omeprazole after absorption enters into the systemic circulation, after which it diffuses into the parietal cells and accumulates in the acidic canaliculi.</p>\n<p>Inside canaliculi, it is activated by proton catalyzed the formation of a tetracyclic sulfenamide that irreversibly inhibits H+/K+ ATPase.</p>\n<p>Inhibition of HCl secretion occurs within 1 hour and reaches a maximum at 2 hrs.</p>\n<p>The inhibition gradually increases over daily dosing and reaches a plateau after 4 days (80-98% inhibition).</p>\n<p>The secretion resumes gradually over 3-4 days of stopping the drug when new proton pumps are synthesized<strong>.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The finding shown in the image below is seen as a side effect of which of the following drugs?",
    "choices": [
      {
        "id": 1,
        "text": "1, 4 and 5 only"
      },
      {
        "id": 2,
        "text": "1, 3 and 5 only"
      },
      {
        "id": 3,
        "text": "1 and 3 only"
      },
      {
        "id": 4,
        "text": "2 and 4 only"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The finding shown in the image is<strong> bulls-eye maculopathy,</strong> and<strong> chloroquine and hydroxychloroquine</strong> use are associated with this side effect.</p>\n<p>Bull's-eye maculopathy refers to the ophthalmoscopic appearance of a<strong> central area of retinal pigment epithelial depigmentation</strong> surrounded by relatively normal retinal pigment epithelium, giving a bull's-eye appearance to the macula.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/05e0376fc11340daa9d74b749ff969d7.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the drug of choice for scrub typhus?",
    "choices": [
      {
        "id": 1,
        "text": "Doxycycline"
      },
      {
        "id": 2,
        "text": "Azithromycin"
      },
      {
        "id": 3,
        "text": "Chloramphenicol"
      },
      {
        "id": 4,
        "text": "Ciprofloxacin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Doxycycline</strong> is the drug of choice for <strong>scrub typhus.</strong></p>\n<p>Azithromycin, chloramphenicol, or rifampin can be administered as alternatives in patients allergic to doxycycline and in pregnancy.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient is undergoing orthopedic surgery. Which of the following first-generation cephalosporins can you use for surgical prophylaxis?",
    "choices": [
      {
        "id": 1,
        "text": "Cephalexin"
      },
      {
        "id": 2,
        "text": "Cefadroxil"
      },
      {
        "id": 3,
        "text": "Cephradine"
      },
      {
        "id": 4,
        "text": "Cefazolin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>first-generation cephalosporin</strong> indicated for <strong>surgical prophylaxis</strong> is <strong>Cefazolin</strong>. It is the preferred agent for surgical prophylaxis when skin flora is the likely pathogen.</p>\n<p>Cephalexin, cefadroxil, and cephradine are first-generation oral cephalosporins.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Cilastatin is administered to prolong the action of _____.",
    "choices": [
      {
        "id": 1,
        "text": "Imipenem"
      },
      {
        "id": 2,
        "text": "Meropenem"
      },
      {
        "id": 3,
        "text": "Both A and B"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Cilastatin is administered to prolong the action of imipenem.</p>\n<p><strong>Imipenem</strong> is rapidly<strong> hydrolysed</strong> by the enzyme <strong>renal dehydropeptidase</strong> present. It is administered with <strong>cilastatin</strong>, a r<strong>eversible inhibitor of dehydropeptidase</strong> to inhibit the breakdown and prolong the action of imipenem.</p>\n<p>Other options:</p>\n<p>Option B- Meropenem is not hydrolyzed by renal dehydropeptidase. Cilastatin administration is not necessary with meropenem<strong>.</strong></p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Non-convulsive status epilepticus is associated with the use of__________.",
    "choices": [
      {
        "id": 1,
        "text": "Ceftazidime"
      },
      {
        "id": 2,
        "text": "Cefepime"
      },
      {
        "id": 3,
        "text": "Ceftobiprole"
      },
      {
        "id": 4,
        "text": "Cefaclor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Encephalopathy and non-convulsive status epilepticus have been reported with the use of cefepime.&nbsp;</strong></p>\n<p>The mechanism of neurotoxicity in cephalosporin therapy involves inhibiting GABA-A release, increasing glutamate levels, and inducing the release of endotoxins and TNF-alpha, which is involved in septic encephalopathy.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Drug of choice for hydatid cyst disease is ____________.",
    "choices": [
      {
        "id": 1,
        "text": "Albendazole"
      },
      {
        "id": 2,
        "text": "Mebendazole"
      },
      {
        "id": 3,
        "text": "Both a and b"
      },
      {
        "id": 4,
        "text": "Metronidazole"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Albendazole is the drug of choice for hydatid cyst disease due to Echinococcus granulosus.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A diabetic patient presents with periorbital swelling as shown below. She complains of significant visual impairment and a fungal etiology is suspected. What is the most appropriate drug for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Itraconazole"
      },
      {
        "id": 2,
        "text": "Liposomal amphotericin B"
      },
      {
        "id": 3,
        "text": "Ketoconazole"
      },
      {
        "id": 4,
        "text": "Broad spectrum antibiotics"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given scenario is suggestive of <strong>invasive mucormycosis </strong>in the form of<strong> orbital cellulitis. Intravenous </strong>administration of<strong> amphotericin B </strong>is the <strong>treatment of choice </strong>for invasive mucormycosis<strong>.</strong></p>\n<p>Mucormycosis&nbsp;is an <strong>opportunistic infection</strong>&nbsp;seen in patients with diabetes mellitus, leukaemia, lymphoma and other immunocompromised states. The most prevalent species is<em> Rhizopus Oryza.</em>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/734701004545428db8eab1f84887b2ba.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which among the following is the Interleukin-5 antagonist indicated in the management of asthma?",
    "choices": [
      {
        "id": 1,
        "text": "Omalizumab"
      },
      {
        "id": 2,
        "text": "Lebrikizumab"
      },
      {
        "id": 3,
        "text": "Reslizumab"
      },
      {
        "id": 4,
        "text": "Atezolimumab"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Reslizumab</strong> is a monoclonal antibody <strong>against interleukin-5</strong> that is approved for use in <strong>severe</strong>&nbsp;<strong>asthma.</strong></p>\n<p>Option A &amp; B: Omalizumab is an anti-IgE antibody and lebrikizumab is an antibody against interleukin 13, which are also indicated in the management of asthma.</p>\n<p>Option D: Atezolizumab is an immune checkpoint modulator that inhibits the interaction of PD-L1 with PD-1 and B7-H1. It is approved for use in metastatic urothelial cancer and for NSCLC.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Following agent is approved for use in ER positive and HER2 negative breast cancer",
    "choices": [
      {
        "id": 1,
        "text": "Trastuzumab"
      },
      {
        "id": 2,
        "text": "Pertuzumab"
      },
      {
        "id": 3,
        "text": "Palbociclib"
      },
      {
        "id": 4,
        "text": "Lapatinib"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Palbociclib is a cyclin-dependent kinase 4/6 (CDK-4/6) inhibitor indicated for the treatment of estrogen receptor (ER)-positive, human epidermal growth factor receptor 2 (HER2)-negative advanced or metastatic breast cancer.</strong></p>\n<p>Trastuzumab, pertuzumab,&nbsp;and lapatinib are indicated in HER2-positive breast cancer (<strong>Options A, B,&nbsp;and D</strong>).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Sacubitril is a new drug approved for chronic heart failure. The mechanism of action of sacubitril is:",
    "choices": [
      {
        "id": 1,
        "text": "Angiotensin II inhibitor"
      },
      {
        "id": 2,
        "text": "ACE inhibitor"
      },
      {
        "id": 3,
        "text": "Renin inhibitor"
      },
      {
        "id": 4,
        "text": "Neutral endopeptidase inhibitor"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Sacubitril</strong> is a neutral endopeptidase <strong>(neprilysin) inhibitor.</strong></p>\n<p>Sacubitril is a prodrug that is activated to <strong>sacubitrilat.</strong> It can inhibit the enzyme neprilysin (neutral endopeptidase),&nbsp;which is responsible for the degradation of atrial and brain natriuretic peptides (reduction of blood volume). Therefore, it <strong>increases</strong> the levels of <strong>atrial and brain natriuretic peptides</strong> and <strong>lowers blood pressure.</strong></p>\n<div>In 2015, the FDA approved the use of sacubitril in <strong>combination</strong> with<strong> valsartan</strong>, at a ratio of <strong>1:1</strong>,&nbsp;for the treatment of chronic heart failure.</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Monoclonal antibody approved for use in Clostridium difficile infections is",
    "choices": [
      {
        "id": 1,
        "text": "Alemtuzumab"
      },
      {
        "id": 2,
        "text": "Rituximab"
      },
      {
        "id": 3,
        "text": "Bezlotoxumab"
      },
      {
        "id": 4,
        "text": "Atezolizumab"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Bezlotoxumab is a monoclonal antibody against <em>Clostridium difficile</em> toxin B that neutralizes the toxin after binding it.</strong></p>\n<p>It is indicated for reducing recurrence of <em>C. difficile</em> infections in high-risk patients.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A farmer presented with complaints of redness and excessive watering from the right eye. Slit-lamp examination reveals the following finding. Microscopy of the corneal ulcer scraping shows branched septate hyphae. Which of the following drugs can be used in the treatment of this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Nystatin 3.5%"
      },
      {
        "id": 2,
        "text": "Fluconazole 0.2%"
      },
      {
        "id": 3,
        "text": "Natamycin 5%"
      },
      {
        "id": 4,
        "text": "Oral voriconazole"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Slit-lamp examination showing&nbsp;a&nbsp;<strong>corneal ulcer</strong>&nbsp;with&nbsp;<strong>satellite lesions</strong><strong>&nbsp;</strong>and a&nbsp;<strong>thick hypopyon</strong>&nbsp;are suggestive of&nbsp;<strong>mycotic keratitis </strong>(fungal corneal ulcer) while&nbsp;branched septate hyphae are seen with<strong>&nbsp;</strong><em>Aspergillus and Fusarium</em>.&nbsp;<strong>Natamycin 5%&nbsp;</strong>suspension&nbsp;is the drug of choice in this condition.</p>\n<p>Treatment of fungal corneal ulcer:</p>\n<ul>\n<li><strong>Topical antifungals:&nbsp;</strong><em>Aspergillus</em> and <em>Fusarium </em>infections<em>&nbsp;</em>are<em>&nbsp;</em>treated with natamycin, amphotericin B and voriconazole while&nbsp;<em>Candida </em>infections<em>&nbsp;</em>are&nbsp;treated with<em>&nbsp;</em>nystatin.</li>\n<li><strong>Systemic antifungals:</strong> Ketoconazole or voriconazole may be needed if there is a severe corneal ulcer, perforated ulcer, or suspicion of endophthalmitis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4ddf897619c5458780880273d5ab0cca.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Denileukin diftitox, a drug approved for the treatment of recurrent/refractory cutaneous T-cell lymphomas, is an immunotoxin made of:",
    "choices": [
      {
        "id": 1,
        "text": "Fusion protein of IL-2 and pertussis toxin"
      },
      {
        "id": 2,
        "text": "Fusion protein of IL-2 and diptheria toxin"
      },
      {
        "id": 3,
        "text": "Monoclonal antibody against CD33"
      },
      {
        "id": 4,
        "text": "Monoclonal antibody against CD30"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Denileukin diftitox</strong> is an <strong>immunotoxin</strong> made from the genetic recombination of <strong>IL-2</strong> and the catalytically active fragment of <strong>diphtheria toxin</strong>.&nbsp;</p>\n<p>It is indicated for advanced <strong>cutaneous T-cell lymphoma</strong> in patients with &gt;20% of T cells expressing the surface marker CD25.&nbsp;After binding to the IL-2 receptors, it is internalized by endocytosis.&nbsp;The active fragment of <strong>diphtheria toxin</strong> then is released into the cytosol, where it <strong>inhibits protein synthesis</strong> through ADP ribosylation, leading to <strong>cell death</strong>.</p>\n<p>Immunotoxins are proteins that contain a toxin along with an antibody that binds specifically to target cells.</p>\n<p><strong>Antibody-drug conjugates</strong> are complex molecules composed of an&nbsp;antibody&nbsp;linked to a biologically active&nbsp;cytotoxic&nbsp;(anticancer) drug. These antibody-targeted drug therapies are cell-specific to kill efficiently the target cells that bind and internalize the drug conjugate. Examples are:</p>\n<dl class=\"article-list\">\n<dt></dt>\n</dl>\n<ul>\n<li><strong>Gemtuzumab&nbsp;ozogamicin -&nbsp;</strong>Monoclonal antibody against CD33 linked to a semisynthetic derivative of calicheamicin, a potent antitumor antibiotic.&nbsp;It was approved for the treatment of acute myeloid leukemia.</li>\n<li class=\"p1\"><strong>Brentuximab vedotin -&nbsp;</strong>Anti-CD30 IgG1 monoclonal antibody linked with the microtubule-disrupting agent MMAE.&nbsp;It is used for the treatment of Hodgkin and anaplastic lymphoma.</li>\n<li class=\"p1\"><strong>Ado-trastuzumab emtansine -&nbsp;</strong>It<strong>&nbsp;</strong>combines the HER2-targeted properties of trastuzumab with the antimicrotubule agent DM1 (derived from maytansine), allowing preferential intracellular drug delivery to HER2+ cells.&nbsp;It is used in the treatment of HER+ breast cancer.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The drug cevimeline acts on which receptor for the expulsion of the secretions from the salivary gland?",
    "choices": [
      {
        "id": 1,
        "text": "M1"
      },
      {
        "id": 2,
        "text": "M2"
      },
      {
        "id": 3,
        "text": "M3"
      },
      {
        "id": 4,
        "text": "M5"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Cevimeline is a <strong>muscarinic agonist</strong> with affinity for both <strong>M1</strong> and<strong>&nbsp;M3 </strong>receptors on the&nbsp;lacrimal and salivary glands.</p>\n<p>While <strong>M1 activation results in increased secretion</strong>, <strong>M3 activation results in smooth muscle contraction</strong> and expulsion of the secretions.</p>\n<p>Cevimeline has a long-lasting sialogogic action and may have fewer side effects than pilocarpine.</p>\n<p>Cevimeline enhances lacrimal secretions in <strong>Sjo\u0308gren&rsquo;s syndrome</strong>. The usual dose is <strong>30 mg three times daily</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What does the area between the dotted lines in this graph indicate?",
    "choices": [
      {
        "id": 1,
        "text": "Median effective dose"
      },
      {
        "id": 2,
        "text": "Median lethal dose"
      },
      {
        "id": 3,
        "text": "Therapeutic index"
      },
      {
        "id": 4,
        "text": "Therapeutic window"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The area between the dotted lines in the graph shows the<strong>&nbsp;therapeutic window</strong>. It is the <strong>range</strong> of <strong>steady-state concentrations</strong> of a drug that provides <strong>therapeutic efficacy</strong> with <strong>minimal toxicity.</strong></p>\n<p>The<strong> therapeutic index</strong> (TI) describes a relationship between the doses of a drug that causes lethal or toxic effects with the dose that causes therapeutic effects. It is also called the therapeutic ratio.</p>\n<p>Mathematically, you can calculate TI by following way:</p>\n<p>Therapeutic Index =<strong> LD<sub>50</sub>/ED<sub>50</sub></strong>&nbsp;(or)&nbsp;Therapeutic Index =<strong> TD<sub>50</sub>/ED<sub>50</sub></strong></p>\n<p>Where,</p>\n<ul>\n<li><strong>LD<sub>50</sub></strong>&nbsp;(Median Lethal dose) is the minimum amount of drug that causes adverse effects in 50% of the population.&nbsp;<strong>LD<sub>50</sub></strong>&nbsp;could also be replaced with Toxic dose (<strong>TD<sub>50</sub></strong>).</li>\n<li><strong>ED<sub>50</sub></strong>&nbsp;(Median Effective dose) is the quantity of a drug that can produce desired therapeutic effects in 50% of the population.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/13fba814599e4468b06f6230f1b67101.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following shows a U-shaped dose-response curve?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamins"
      },
      {
        "id": 2,
        "text": "Anti-cancer drugs"
      },
      {
        "id": 3,
        "text": "Steroids"
      },
      {
        "id": 4,
        "text": "Chelators"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Vitamins</strong>\u00a0and <strong>essential metals</strong> show a <strong>U-shaped dose-response curve</strong>.</p>\n<div class=\"page\" title=\"Page 74\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>At a\u00a0<strong>low dose,</strong> adverse effects are observed because there is a <strong>deficiency</strong> of these nutrients to maintain homeostasis. As <strong>dose increases, homeostasis</strong> is achieved, and the bottom of the U-shaped dose-response curve is reached. As the <strong>dose increases</strong> to surpass the amount required to maintain homeostasis, <strong>toxicity</strong> can ensue.</p>\n<p>Thus, <strong>adverse effects</strong> are seen at both <strong>low</strong> and<strong> high doses.\u00a0</strong></p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cbb79628483a49e5bce96265d68a0673x1280x1154.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e0db32ffbadd42dd9c69b75a9398ff60x1280x1420.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/23699bc3b29d46ed9c13c1f6a2abef2cx1280x1282.JPEG"
    ]
  },
  {
    "text": "Which of the following angiotensin receptor blocker has thromboxane A2 receptor antagonism effect?",
    "choices": [
      {
        "id": 1,
        "text": "Candesartan"
      },
      {
        "id": 2,
        "text": "Valsartan"
      },
      {
        "id": 3,
        "text": "Irbesartan"
      },
      {
        "id": 4,
        "text": "Olmesartan"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Irbesartan</strong> is an angiotensin receptor blocker that is claimed to have thromboxane A2 receptor antagonism.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a cardioselective beta blocker with antioxidant property?",
    "choices": [
      {
        "id": 1,
        "text": "Sotalol"
      },
      {
        "id": 2,
        "text": "Metoprolol"
      },
      {
        "id": 3,
        "text": "Nebivolol"
      },
      {
        "id": 4,
        "text": "Esmolol"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Nebivolol</strong> is a cardioselective beta-blocker with additional <strong>antioxidant</strong> property.</p>\n<p><strong>Nebivolol:</strong></p>\n<ul>\n<li>Nebivolol is a third-generation, long-acting, and highly selective \u03b21 adrenergic receptor antagonist</li>\n<li>It stimulates NO-mediated vasodilation via \u03b23 receptor agonism</li>\n<li>Nebivolol is approved for the treatment of hypertension</li>\n<li>It has potential utility in the treatment of heart failure with reduced ejection fraction</li>\n<li>Nebivolol reduces <strong>oxidative stress</strong> and may have favorable effects on both carbohydrate and lipid metabolism</li>\n<li>This can be used in <strong>metabolic syndrome.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The schedule that deals with prescription drugs under the Drugs and Cosmetics Act is ______.",
    "choices": [
      {
        "id": 1,
        "text": "Schedule P"
      },
      {
        "id": 2,
        "text": "Schedule H"
      },
      {
        "id": 3,
        "text": "Schedule Y"
      },
      {
        "id": 4,
        "text": "Schedule  D"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Schedule H</strong> deals with<strong> prescription drugs.</strong> All the drugs listed under schedule H should be provided to the patient only with the&nbsp;<strong>prescription</strong> from a registered medical practitioner.&nbsp;</p>\n<p>All the drugs under the list must have the warning mentioned below, on their packaging listed prominently.&nbsp;</p>\n<p><em>\"Schedule H drug. Warning: To be sold by retail on the prescription of a registered medical practitioner only\"</em>&nbsp;</p>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p><strong>Schedule H1</strong>: To be sold on the production of a <strong>valid prescription,</strong> but the chemist will maintain a separate register where the identity of the patient, contact details of the prescribing doctor, and the name and dispensed quantity of the drug will be recorded. The dispensing <strong>quantity</strong> should be <strong>strictly</strong> according to the valid prescription. It&nbsp;is a recently introduced list with the objective of <strong>curtailing indiscriminate use</strong> of<strong> antimicrobials</strong>.&nbsp;</p>\n<p><strong>Schedule X:</strong>&nbsp;To be sold with a valid prescription. Prescription in duplicate, separate license requirements, meticulous storage, and dispensing records must be maintained by the chemist. The drugs that have <strong>high abuse liability</strong> are included in schedule X.</p>\n</div>\n</div>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old male on multiple drugs presents with a round macule on his right leg for the last 7 days. The patient gives a history of similar episodes in the past which resolved spontaneously. Which of the following drugs is the most likely cause?",
    "choices": [
      {
        "id": 1,
        "text": "Ibuprofen"
      },
      {
        "id": 2,
        "text": "Phenytoin"
      },
      {
        "id": 3,
        "text": "Captopril"
      },
      {
        "id": 4,
        "text": "Carbamazepine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: justify;\">This is a case of <strong>fixed drug eruption </strong>and the <strong>most likely cause</strong>\u00a0is<strong> ibuprofen.</strong></p>\n<p style=\"text-align: justify;\">Fixed drug eruptions are characterized by <strong>sharply demarcated</strong> <strong>dull red</strong> <strong>to brown</strong> lesions. They occur in lips, hands, legs, face, genitalia, and oral mucosa, and cause a <strong>burning sensation</strong>. The lesion <strong>recurs</strong> in the same locations upon <strong>re-exposure</strong> to the offending drug.</p>\n<p style=\"text-align: justify;\">Some of the drugs commonly known to cause fixed drug eruptions are Sulphonamides, NSAIDs, Analgesics, and Hypnotics.</p>\n<p style=\"text-align: justify;\">Diagnosis is based on history and lesion morphology. <strong>Discontinuation </strong>of the offending drug is the <strong>first step</strong> in <strong>management</strong>.</p>\n<p style=\"text-align: justify;\"><strong>Phenytoin </strong>and<strong> carbamazepine</strong> can lead to\u00a0Stevens-Johnson\u00a0syndrome (<strong>SJS</strong>)/toxic epidermal necrolysis (<strong>TEN</strong>) and drug reaction with eosinophilia and systemic symptoms (<strong>DRESS syndrome</strong>).<br /><br /></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/99b112fb42c241358b7fcf4110b4e9a9.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Multi-site trial is done for ______years?",
    "choices": [
      {
        "id": 1,
        "text": "Months \u2013 1 year"
      },
      {
        "id": 2,
        "text": "1-3 years"
      },
      {
        "id": 3,
        "text": "3-5 years"
      },
      {
        "id": 4,
        "text": "5-7 years"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Phase III trial,&nbsp;</strong>also called a multisite trial, is done for 3&ndash;5 years.</p>\n<p>When the initial Phase III trials are complete, the sponsor (usually a pharmaceutical company) applies to the FDA for approval to market the drug. This application is called either a New Drug Application (NDA) or a Biologics License Application (BLA).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/33d4fe43afa84cd297d03176ba9c591dx589x439.JPEG"
    ]
  },
  {
    "text": "Which of the following drugs is a prostacyclin analog that can be added to the treatment regimen of a patient with pulmonary artery hypertension?",
    "choices": [
      {
        "id": 1,
        "text": "Sildenafil"
      },
      {
        "id": 2,
        "text": "Misoprostol"
      },
      {
        "id": 3,
        "text": "Dinoprost"
      },
      {
        "id": 4,
        "text": "Iloprost"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Iloprost </strong>is a<strong> prostacyclin analog </strong>indicated in the management of <strong>pulmonary artery hypertension</strong>. It falls under the category of&nbsp;IP receptor (prostacyclin receptor) agonists.</p>\n<p class=\"p1\">Other drugs falling under the category of <strong>IP receptor agonists</strong> are:</p>\n<ul>\n<li class=\"p1\">\n<p class=\"p1\">Epoprostenol</p>\n</li>\n<li class=\"p1\">\n<p class=\"p1\">Treprostinil</p>\n</li>\n<li class=\"p1\">\n<p class=\"p1\">Iloprost</p>\n</li>\n<li class=\"p1\">\n<p class=\"p1\">Selexipag</p>\n</li>\n</ul>\n<p>Option A: Sildenafil is a PDE-5 inhibitor.&nbsp;</p>\n<p class=\"p1\">Option B: Misoprostol is a synthetic PGE1 analog.&nbsp;</p>\n<p>Option C: Dinoprost is a natural PGF2-alpha preparation. It should&nbsp;not be confused with dinoprostone which is a synthetic analogue of PGE2.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are planning to start treatment in a middle-aged man diagnosed with pulmonary tuberculosis. He has a history of chronic kidney disease and his current creatinine clearance is 25 mL/min. Which of the following drugs is least likely to require dose modification?",
    "choices": [
      {
        "id": 1,
        "text": "Ethambutol"
      },
      {
        "id": 2,
        "text": "Streptomycin"
      },
      {
        "id": 3,
        "text": "Rifampicin"
      },
      {
        "id": 4,
        "text": "Isoniazid"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Rifampicin&nbsp;</strong>is the<strong> least likely</strong> drug to require dose modification in renal failure patients as it&nbsp;is <strong>metabolized</strong>&nbsp;in the<strong>&nbsp;liver&nbsp;</strong>and<strong>&nbsp;</strong>primarily<strong> excreted in bile</strong>.&nbsp;</p>\n<p>In patients with renal failure, the <strong>half-life</strong> of <strong>isoniazid</strong> will be <strong>prolonged</strong>, but its adverse effects are not significantly increased. Hence dose modification is not usually done for isoniazid in clinical practice as a&nbsp;reduction in dose may render the regimen ineffective and increase the chances of resistance.</p>\n<p><strong>Ethambutol </strong>and<strong> streptomycin</strong> are primarily excreted unchanged <strong>through </strong>the<strong> renal </strong>system and need dose modification in renal failure.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Pharmacology Test - I';
        const quizFilename = 'pharmacology-test-i-acbfe926.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2019 - 20"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>