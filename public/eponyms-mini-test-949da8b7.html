<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eponyms Mini Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2020-21
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Jod-Basedow phenomenon is best described by:",
    "choices": [
      {
        "id": 1,
        "text": "Hyperthyroidism following increased intake of iodine"
      },
      {
        "id": 2,
        "text": "Hypothyroidism following increased intake of iodine"
      },
      {
        "id": 3,
        "text": "Hyperthyroidism following decreased intake of iodine"
      },
      {
        "id": 4,
        "text": "Hypothyroidism following decreased intake of iodine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Jod-Basedow phenomenon is iodide-induced hyperthyroidism.&nbsp;</strong></p>\n<p>Note: For remembering purpose; consider&nbsp;Jod-Basedow phenomenon as an opposite effect of&nbsp;Wolff-Chaikoff effect.&nbsp;</p>\n<p>In normal and hyperthyroid individuals, acute intake of higher doses of iodides will decrease the thyroid hormone synthesis and release: Wolff-Chaikoff effect.</p>\n<p><strong>In susceptible individuals,</strong> the Wolff-Chaikoff effect is not seen but <strong>ingested iodide induces hyperthyroidism</strong>. The most plausible pathology is that the thyroid hormone secretion in such individuals is not primarily dependent on TSH.</p>\n<p><strong>Jod-Basedow phenomenon</strong> is commonly seen in susceptible individuals <strong>who migrate from iodine deficient</strong> regions to<strong> regions where iodine supply is normal.</strong> It can also be seen in patients receiving drugs having high iodine content like iodinated contrast media especially in the elderly.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following best describes Milroy disease?",
    "choices": [
      {
        "id": 1,
        "text": "Simple congenital primary lymphedema"
      },
      {
        "id": 2,
        "text": "Heredofamilial congenital primary lymphedema"
      },
      {
        "id": 3,
        "text": "Secondary lymphoedema"
      },
      {
        "id": 4,
        "text": "Obstructive lymphedema"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Milroy disease refers to <strong>heredofamilial congenital lymphedema.</strong></p>\n<p>Causes of lymphedema:</p>\n<p><strong>Primary lymphedema:</strong></p>\n<ul>\n<li>Simple congenital lymphedema</li>\n<li>Heredofamilial congenital lymphedema (Milroy disease)</li>\n</ul>\n<p><strong>Secondary or obstructive lymphedema:</strong></p>\n<ul>\n<li>Malignant tumors obstructing lymphatic channels</li>\n<li>Surgical removal of regional groups of lymph nodes, e.g., radical mastectomy</li>\n<li>Postirradiation fibrosis</li>\n<li>Filariasis</li>\n<li>Post-inflammatory thrombosis and scarring</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 6-month-old infant with progressive failure to thrive and milestone regression is being evaluated for an inborn error of metabolism. On examination, hypotonia, apathy, deafness, hepatosplenomegaly, and generalized lymphadenopathy are present. Fundus examination is shown below. A liver biopsy shows foamy hepatocytes loaded with sphingomyelin. Electron microscopy reveals zebra bodies. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Niemann-Pick disease type A"
      },
      {
        "id": 2,
        "text": "Tay-Sach disease"
      },
      {
        "id": 3,
        "text": "Niemann-Pick disease type B"
      },
      {
        "id": 4,
        "text": "Sandhoff's disease"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Progressive failure to thrive, milestone regression, hypotonia, apathy, deafness, hepatosplenomegaly, and generalized lymphadenopathy with the <strong>cherry-red spot</strong> on fundus examination suggests a diagnosis of<strong> Niemann-Pick disease type A. </strong></p>\n<p>\u00a0Niemann-Pick disease is a lysosomal storage disorder due to an inherited <strong>deficiency </strong>of <strong>sphingomyelinase.\u00a0</strong>This results in the accumulation of<strong> sphingomyelin</strong> in the monocyte-macrophage system.\u00a0<strong>Type A </strong>disease is a severe<strong> infantile</strong> form. Infants present with <strong>extensive neurologic involvement\u00a0</strong>(hypotonia, milestone regression, apathy),<strong> marked visceral accumulations </strong>of <strong>sphingomyelin</strong> (hepatosplenomegaly, foamy hepatocytes, <strong>zebra bodies</strong> on EM),<strong>\u00a0progressive wasting</strong> and<strong> early death</strong> within the first 3 years of life.</p>\n<p>In contrast, patients with<strong> Niemann-Pick disease\u00a0type B</strong> have organomegaly but generally <strong>no CNS involvement.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0f716f89fa9a4370bbdb7b6295a1acee.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Abhi, a young boy is being evaluated in the ward for proximal muscle weakness. Waddling gait and Gowers sign are observed in this child. Genetic analysis confirms the diagnosis as Duchenne muscular dystrophy. Which of the following is false regarding this patient's condition?",
    "choices": [
      {
        "id": 1,
        "text": "It is less severe than Becker's dystrophy"
      },
      {
        "id": 2,
        "text": "Tendon reflexes are lost after age 6"
      },
      {
        "id": 3,
        "text": "Gene affected is the largest gene in humans"
      },
      {
        "id": 4,
        "text": "Intellectual impairment is common"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Duchenne</strong> muscular dystrophy is <strong>more severe</strong> <strong>than Becker&rsquo;s</strong> dystrophy. In DMD, tendon reflexes are lost after age 6.</p>\n<p>Becker&rsquo;s dystrophy is similar to Duchenne muscular dystrophy with a genetic defect at the same locus (Xp21) but clinically less severe. Gene affected in both is <strong>dystrophin</strong>, which is the <strong>largest gene</strong> in humans.</p>\n<p>Important differences between Duchenne and Becker&rsquo;s muscular dystrophy:</p>\n<table style=\"width: 335px;\">\n<tbody>\n<tr style=\"height: 39px;\">\n<td style=\"width: 84px; height: 39px;\">&nbsp;</td>\n<td style=\"width: 117px; height: 39px;\"><strong>Duchenne's dystrophy</strong></td>\n<td style=\"width: 134px; height: 39px;\"><strong>Becker's dystrophy</strong></td>\n</tr>\n<tr style=\"height: 29px;\">\n<td style=\"width: 84px; height: 29px;\"><strong>Onset</strong></td>\n<td style=\"width: 117px; height: 29px;\">Age: 2&ndash;3 years</td>\n<td style=\"width: 134px; height: 29px;\">Age: 5&ndash;15 years</td>\n</tr>\n<tr style=\"height: 27px;\">\n<td style=\"width: 84px; height: 27px;\"><strong>Weakness</strong></td>\n<td style=\"width: 117px; height: 27px;\">Progressive</td>\n<td style=\"width: 134px; height: 27px;\">Variable</td>\n</tr>\n<tr style=\"height: 38.6px;\">\n<td style=\"width: 84px; height: 38.6px;\"><strong>Intellectual impairment</strong></td>\n<td style=\"width: 117px; height: 38.6px;\">Common</td>\n<td style=\"width: 134px; height: 38.6px;\">Uncommon</td>\n</tr>\n<tr style=\"height: 59px;\">\n<td style=\"width: 84px; height: 59px;\"><strong>Prognosis</strong></td>\n<td style=\"width: 117px; height: 59px;\">Wheelchair dependant by adolescence</td>\n<td style=\"width: 134px; height: 59px;\">Ambulatory till early adult life</td>\n</tr>\n<tr style=\"height: 39px;\">\n<td style=\"width: 84px; height: 39px;\"><strong>Death</strong></td>\n<td style=\"width: 117px; height: 39px;\">By the age of 18&ndash;20 years</td>\n<td style=\"width: 134px; height: 39px;\">By 40s or 50s</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are examining a case of goitre and observe that it moves with deglutition. The movement occurs due to the attachment of the thyroid gland by Berry's ligament, to which of the following structures?",
    "choices": [
      {
        "id": 1,
        "text": "Hyoid bone"
      },
      {
        "id": 2,
        "text": "Cricoid cartilage"
      },
      {
        "id": 3,
        "text": "Tracheal rings"
      },
      {
        "id": 4,
        "text": "Thyroid cartilage"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>movement</strong> of the thyroid gland<strong> with deglutition</strong> is due to the attachment of Berry's ligament to the <strong>cricoid cartilage.</strong></p>\n<p><strong>Ligament of Berry:</strong></p>\n<p>The&nbsp;<strong>pretracheal fascia&nbsp;</strong>encloses the thyroid gland to form its false capsule. This <strong>capsule</strong> is <strong>thickened posteriorly</strong> and on either side forms a suspensory ligament which is known as ligament of Berry or lateral thyroid ligament. The posteromedial aspects of the lobes of the thyroid are attached to the side of the<strong> cricoid cartilage</strong> by the ligament of Berry. It&nbsp;also prevents the thyroid gland from sinking into the mediastinum.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1db26c73769546cfa4272b9b3a69b030x600x560.JPEG"
    ]
  },
  {
    "text": "Haab\u2019s striae is due to tears in:",
    "choices": [
      {
        "id": 1,
        "text": "Bowman\u2019s membrane"
      },
      {
        "id": 2,
        "text": "Descemet\u2019s membrane"
      },
      {
        "id": 3,
        "text": "Corneal stroma"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Haab's striae</strong> are curvilinear healed breaks in Descemet membrane seen in case of <strong>buphthalmos (congenital glaucoma).\u00a0</strong>These occur because Descemet\u2019s membrane is less elastic than corneal stroma.\u00a0It is seen as double '<strong>tram-track</strong>' lines concentric to the limbus.</p>\n<p>Tears are:</p>\n<ul>\n<li>Usually peripheral</li>\n<li>Concentric with the limbus</li>\n<li>Appear as lines with double contour</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cccb9c112ab84afebf7d0a1801aae62ax280x236.PNG"
    ]
  },
  {
    "text": "A 7-year-old girl presents with skin lesions as shown in the image. The parents also complain of early breast development, growth acceleration, and vaginal bleeding. On genetic studies, it was found that there is a gain of function mutation of G Protein. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Color blindness"
      },
      {
        "id": 2,
        "text": "Hirschsprung disease"
      },
      {
        "id": 3,
        "text": "McCune-Albright syndrome"
      },
      {
        "id": 4,
        "text": "Familial hypothyroidism"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Among the given options, the most probable diagnosis is <strong>McCune-Albright syndrome</strong> as it is the only <strong>gain-of-function</strong> mutation of <strong>G Protein.</strong></p>\n<p>G proteins or G protein-coupled receptor complexes can undergo a loss- or gain-of-function mutation. Some examples are given below:</p>\n<table style=\"width: 488.5833435058594px;\">\n<tbody>\n<tr>\n<td style=\"width: 103px;\">Receptor</td>\n<td style=\"width: 61px;\">Type of mutation</td>\n<td style=\"width: 308.5833435058594px;\">Disease</td>\n</tr>\n<tr>\n<td style=\"width: 103px;\">Cone opsin</td>\n<td style=\"width: 61px;\"><strong>Loss</strong></td>\n<td style=\"width: 308.5833435058594px;\"><strong>Colour blindness</strong></td>\n</tr>\n<tr>\n<td style=\"width: 103px;\">Rhodopsin</td>\n<td style=\"width: 61px;\">Loss</td>\n<td style=\"width: 308.5833435058594px;\">Night blindness or retinitis pigmentosa</td>\n</tr>\n<tr>\n<td style=\"width: 103px;\">Endothelin receptor</td>\n<td style=\"width: 61px;\"><strong>Loss</strong></td>\n<td style=\"width: 308.5833435058594px;\"><strong>Hirschsprung disease</strong></td>\n</tr>\n<tr>\n<td style=\"width: 103px;\">TSH receptor</td>\n<td style=\"width: 61px;\"><strong>Loss</strong></td>\n<td style=\"width: 308.5833435058594px;\">Familial <strong>hypo</strong>thyroidism</td>\n</tr>\n<tr>\n<td style=\"width: 103px;\">TSH receptor</td>\n<td style=\"width: 61px;\"><strong>Gain</strong></td>\n<td style=\"width: 308.5833435058594px;\">Familial <strong>hyper</strong>thyroidism</td>\n</tr>\n<tr>\n<td style=\"width: 103px;\">LH receptor</td>\n<td style=\"width: 61px;\">Gain</td>\n<td style=\"width: 308.5833435058594px;\">Familial male precocious puberty</td>\n</tr>\n<tr>\n<td style=\"width: 103px;\">G<sub>s</sub> protein</td>\n<td style=\"width: 61px;\">Gain</td>\n<td style=\"width: 308.5833435058594px;\">Pituitary adenomas with acromegaly</td>\n</tr>\n<tr>\n<td style=\"width: 103px;\">G<sub>s</sub> protein</td>\n<td style=\"width: 61px;\">Gain (mosaic)</td>\n<td style=\"width: 308.5833435058594px;\">McCune-Albright syndrome</td>\n</tr>\n</tbody>\n</table>\n<p>In <strong>McCune-Albright syndrome</strong>, a gain-of-function mutation in G<sub>s</sub>&alpha; is associated with the rough-bordered areas of <strong>skin pigmentation and hypercortisolism</strong>. This mutation occurs during fetal development, creating a <strong>mosaic</strong> of normal and abnormal cells.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/98a8a0dde9b4410292cc4e912ff23f19.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "What does Ribot\u2019s law deal with?",
    "choices": [
      {
        "id": 1,
        "text": "Anterograde amnesia"
      },
      {
        "id": 2,
        "text": "Retrograde amnesia"
      },
      {
        "id": 3,
        "text": "Dissociative amnesia"
      },
      {
        "id": 4,
        "text": "Global transient amnesia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Ribot's law&nbsp;</strong>deals with <strong>r</strong><strong>etrograde amnesia.</strong></p>\n<p>During incidents of retrograde amnesia, <strong>most recently acquired memories </strong>are the<strong> most vulnerable</strong> <strong>to disruption</strong> from brain damage.&nbsp;This temporal gradation of retrograde amnesia that preferentially <strong>spares</strong> the more <strong>distant memories</strong> is known as Ribot's law.</p>\n<p>E.g: If an incident causing retrograde amnesia occurs at 30 years of age, the memories acquired at 25 years of age may be more severely affected than those memories acquired at 20 years of age or earlier.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "While assessing the quality of drinking water in a village, you detect the presence of coliform bacilli by the multiple tube technique. Following this, you decide to perform the Eijkman test. What is this test also known as?",
    "choices": [
      {
        "id": 1,
        "text": "Presumptive coliform count"
      },
      {
        "id": 2,
        "text": "Differential coliform test"
      },
      {
        "id": 3,
        "text": "Colony plate count"
      },
      {
        "id": 4,
        "text": "Methylene blue reduction test"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Eijkman test</strong> is also known as <strong>differential coliform test</strong>.\u00a0</p>\n<p><strong>Drinking water</strong> should be free of any pathogenic\u00a0microorganisms. The presence of <strong>coliform</strong> <strong>bacteria</strong> in the water may indicate <strong>faecal pollution</strong>, while the detection of <em>E.coli</em> confirms it. The presumptive coliform test is done by the <strong>multiple-tube technique</strong>. Following this, the <strong>Eijkman test</strong> is done to <strong>confirm</strong> the presence of<strong> <em>E. coli</em>.</strong> They can grow at 44\u00b0C (faecal thermotolerant bacilli), ferment lactose and cause indole and gas production.</p>\n<p>In this test, the bottles of the presumptive coliform test showing acid and gas are subcultured to tubes of <strong>single-strength MacConkey medium</strong>, which are then incubated at 44\u00b0C. After 24 hours, tubes with gas are said to have <em>E. Coli</em>. The number of bacteria present in the water sample is determined using <strong>McCrady's probability tables</strong>.</p>\n<p>Option A:\u00a0<strong>Presumptive coliform count</strong> detects the probable number of coliform bacilli in water. It can be positive\u00a0due to the\u00a0presence of organisms other than <em>E.coli.</em></p>\n<p>Option C:\u00a0<strong>Colony counts</strong> provide an estimate of the general\u00a0bacterial purity of water.</p>\n<p>Option D: <strong>Methylene blue reduction test</strong> is used to assess the bacterial contamination of milk.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Hysterical pseudodementia is a type of ____?",
    "choices": [
      {
        "id": 1,
        "text": "Dementia"
      },
      {
        "id": 2,
        "text": "Malingering"
      },
      {
        "id": 3,
        "text": "Dissociative disorder"
      },
      {
        "id": 4,
        "text": "Personality disorder"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Ganser syndrome</strong> (hysterical pseudodementia) is a type of <strong>dissociative disorder.</strong></p>\n<p>It is commonly found in prison inmates. The characteristic feature is <strong>vorbeireden,</strong> which is also called&nbsp;approximate answers. The answers are incorrect but show that the person understands the nature of the question asked. E.g., when asked about the color of an apple, the patient's answer is blue.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A worried mother brought her 4-year-old son to the ER with complaints of a nose bleed. On examination, the bleed was found to be from the Kiesselbach\u2019s plexus. Which of the following arteries does not contribute to its formation?",
    "choices": [
      {
        "id": 1,
        "text": "Sphenopalatine artery"
      },
      {
        "id": 2,
        "text": "Greater palatine artery"
      },
      {
        "id": 3,
        "text": "Anterior ethmoidal artery"
      },
      {
        "id": 4,
        "text": "Posterior ethmoidal artery"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The posterior ethmoidal artery does not contribute to the formation of Kiesselbach&rsquo;s plexus.</p>\n<p><strong>Kiesselbach&rsquo;s plexus</strong> is the <strong>vascular anastomosis </strong>situated at <strong>Little&rsquo;s area </strong>(anteroinferior part of the septum).</p>\n<p>The contributing arteries are as follows:</p>\n<ul>\n<li><strong>Sphenopalatine and greater palatine branches </strong>of the maxillary artery,&nbsp;which in turn is a branch of the external carotid artery.</li>\n<li><strong>Septal branch of the superior labial artery</strong> which in turn is a branch of the facial artery. The facial artery is a branch of the external carotid artery.</li>\n<li><strong>Anterior ethmoidal branch</strong> of the ophthalmic division of internal carotid artery.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Hartnup\u2019s disease causes a deficiency of _______",
    "choices": [
      {
        "id": 1,
        "text": "Thiamine"
      },
      {
        "id": 2,
        "text": "Riboflavin"
      },
      {
        "id": 3,
        "text": "Niacin"
      },
      {
        "id": 4,
        "text": "Biotin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li><strong>Hartnup&rsquo;s disease</strong> causes a <strong>deficiency</strong> state <strong>of</strong> <strong>niacin.<br /></strong></li>\n<li>It is <strong>Autosomal recessive&nbsp;</strong>caused by mutations in the<strong> <em>SLC6A19</em> gene.</strong></li>\n<li>It is characterized by impaired absorption of the amino acid tryptophan.</li>\n<li>As a result of the reduced levels of tryptophan, there is <strong>lesser conversion to niacin</strong>. This leads to a state of niacin deficiency.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 54-year-old male presents with an ulcer on his hand. On swab culture, growth of M. ulcerans is seen. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Hunner\u2019s ulcer"
      },
      {
        "id": 2,
        "text": "Meleney\u2019s ulcer"
      },
      {
        "id": 3,
        "text": "Buruli ulcer"
      },
      {
        "id": 4,
        "text": "Marjolin's ulcer"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong><em>Mycobacterium ulcerans</em>\u00a0</strong>causes<strong> Buruli ulcer</strong>.\u00a0</p>\n<p><em>M. ulcerans</em> produces a toxin called <strong>mycolactone</strong> which leads to formation of<strong>\u00a0</strong>Buruli ulcer.\u00a0This is a <strong>chronic</strong>, debilitating, <strong>necrotizing</strong> disease of the skin and soft tissue which is characterized by the formation of ulcers that <strong>progressively enlarge</strong> over time if left untreated. The ulcers heal with disfiguring scars. </p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">The image below shows a Buruli ulcer.\u00a0</span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/199b65c31d7a48f6b1e2284f0f8fea1ex600x450.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/997040cadff5400cb58a049ff32eb013x405x421.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/827b6428509c49c9a62e0ac5b03f9ddbx800x594.JPEG"
    ]
  },
  {
    "text": "A 28-year-old lifeguard presents to the dermatology clinic with a mildly pruritic lesion as shown for 8 days. History reveals excessive use of perfumes. Which of the following can be the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Tinea corporis"
      },
      {
        "id": 2,
        "text": "Dermatitis herpetiformis"
      },
      {
        "id": 3,
        "text": "Berloque dermatitis"
      },
      {
        "id": 4,
        "text": "Seborrheic dermatitis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows a <strong>deep\u2010brown pigmented</strong> lesion in the right <strong>underarm</strong> likely to have formed from the trickle of the droplets of <strong>perfume</strong> applied on the skin. This is suggestive of\u00a0<strong>Berloque dermatitis.</strong></p>\n<p>The <strong>skin</strong> <strong>pigmentation</strong>\u00a0occurs due to an <strong>acute phototoxic reaction</strong> to perfumes\u00a0containing <strong>bergamot oil</strong> (bergapten) which potentiates UV\u2010stimulated <strong>melanogenesis.</strong>\u00a0A<strong> hot</strong>\u00a0and<strong> humid</strong>\u00a0climate along with exposure to\u00a0<strong>UV light\u00a0</strong>increases the risk of developing this condition.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0193cb2862ff4d5aa46166fea0ecac8f.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "What does Billing's method of contraception refer to?",
    "choices": [
      {
        "id": 1,
        "text": "Basal body temperature method"
      },
      {
        "id": 2,
        "text": "Cervical mucus method"
      },
      {
        "id": 3,
        "text": "Calendar method"
      },
      {
        "id": 4,
        "text": "Coitus interruptus method"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Billing&rsquo;s</strong> method of contraception refers to the <strong>cervical mucus</strong> method. It is also called ovulation method.</p>\n<p>The properties of the cervical mucus change during the menstrual cycle. The female partner can predict the fertile period by examining her cervical mucus.</p>\n<p>Under the influence of <strong>estrogen</strong>, the <strong>mucus</strong> <strong>increases</strong> in quantity and becomes more slippery and <strong>elastic</strong>&nbsp;i.e. <strong>wet days.&nbsp;</strong>This continues&nbsp;till it reaches a peak. After this, under the influence of <strong>progesterone</strong>, it becomes thicker, scanty i.e. <strong>dry days</strong>.</p>\n<p>Abstinence is advised during the wet days till 4 days after the peak day.&nbsp;The <strong>safe&nbsp;period</strong> includes the <strong>dry days</strong> after menses till the appearance of mucus and from the 4th day after the peak day.&nbsp;</p>\n<p>The pattern of cervical mucus secretion during a menstrual cycle is given below.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b70b54b201034e8091bb6e613ae59a47x1280x1451.JPEG"
    ]
  },
  {
    "text": "A mother brought her 7-month-old infant with concerns of abnormal eye movements and developmental delay. MRI was done and is shown below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Joubert syndrome"
      },
      {
        "id": 2,
        "text": "Multiple system atrophy"
      },
      {
        "id": 3,
        "text": "Hallevorden-Spatz disease"
      },
      {
        "id": 4,
        "text": "Sturge Weber syndrome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The axial T1-weighted MRI shows <strong>molar tooth sign</strong> at the level of superior cerebellar peduncles. Given the clinical presentation and radiological findings, the diagnosis is <strong>Joubert syndrome.\u00a0</strong></p>\n<p>This <strong>autosomal recessive</strong> neurological disorder is characterised by <strong>cerebellar vermis hypoplasia</strong> and is associated with hypotonia, developmental delay, ataxia, irregular breathing patterns, and abnormal eye movements.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a1b183c6aaf0417eb4d3eb697995dac3.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following factors in a study will cause Berkesonian bias?",
    "choices": [
      {
        "id": 1,
        "text": "Interviewer asking leading questions to the subjects"
      },
      {
        "id": 2,
        "text": "Different rates of hospital admission of different diseases"
      },
      {
        "id": 3,
        "text": "Researcher's belief in the treatment changing the outcome of the study"
      },
      {
        "id": 4,
        "text": "Cases that are lost to follow-up"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Berkesonian</strong> bias occurs due to the different rates of <strong>hospital</strong> admission of people with different diseases. It is a type of <strong>selection bias&nbsp;</strong>termed after <strong> Joseph Berkeson</strong> who described it.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with sarcoidosis shows Koeppe's nodules on ophthalmologic examination. Where are these seen?",
    "choices": [
      {
        "id": 1,
        "text": "Cornea"
      },
      {
        "id": 2,
        "text": "Conjunctiva"
      },
      {
        "id": 3,
        "text": "Iris"
      },
      {
        "id": 4,
        "text": "Retina"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Koeppe's</strong> nodules and Bussaca's nodules develop on the\u00a0<strong>iris</strong> in <strong>granulomatous uveitis</strong>.</p>\n<p><strong>Granulomatous uveitis</strong> is a chronic proliferative inflammation seen in reponse to tuberculosis, leprosy, syphilis and sarcoidosis. Infiltration of lymphocytes and plasma cells, with proliferation of mononuclear cells leads to the formation of iris nodule. <strong>Koeppe's nodules</strong> are seen at the\u00a0<strong>pupillary margin.\u00a0</strong><strong>Bussaca's</strong> nodules are seen on the peripheral part of the\u00a0<strong>anterior surface</strong> of<strong> iris</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dfef119373c84b8baf98f8f1409d5991x633x267.JPEG"
    ]
  },
  {
    "text": "Renshaw cell inhibition is ________",
    "choices": [
      {
        "id": 1,
        "text": "Feedback facilitation"
      },
      {
        "id": 2,
        "text": "Feedback inhibition"
      },
      {
        "id": 3,
        "text": "Feed forward inhibition"
      },
      {
        "id": 4,
        "text": "Indirect inhibition"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Renshaw cell inhibition is an example of feedback inhibition.</p>\n<p>The axon of a spinal motor neuron has a recurrent collateral that synapses on an inhibitory interneuron that terminates on the cell body of the<strong> same</strong> and other motor neurons. The inhibitory interneuron is called a <strong>Renshaw cell</strong> and its neurotransmitter is <strong>glycine.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4ca0a5177424438b82dbf2c5468e9a52x1280x1655.JPEG"
    ]
  },
  {
    "text": "Extensive fibrosis is a characteristic feature of which thyroiditis?",
    "choices": [
      {
        "id": 1,
        "text": "Hashimoto thyroiditis"
      },
      {
        "id": 2,
        "text": "DeQuervain thyroiditis"
      },
      {
        "id": 3,
        "text": "Riedel thyroiditis"
      },
      {
        "id": 4,
        "text": "Lymphocytic thyroiditis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p class=\"p1\"><span class=\"s1\">Riedel thyroiditis is a rare disorder characterised by <strong>extensive fibrosis</strong> of thyroid gland and adjacent structures.</span></p>\n<div class=\"page\" title=\"Page 1091\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>It may be associated with retroperitoneal fibrosis and appears to be another manifestation of a systemic autoimmune <strong>IgG4 related disease.</strong></p>\n</div>\n</div>\n</div>\n</div>\n<p class=\"p1\"><span class=\"s1\"><strong>Clinical significance:</strong> Hard and fixed thyroid mass <strong>may mimic Carcinoma.</strong></span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the maneuver depicted in the image given below?",
    "choices": [
      {
        "id": 1,
        "text": "Epley\u2019s maneuvre"
      },
      {
        "id": 2,
        "text": "Trotter\u2019s method"
      },
      {
        "id": 3,
        "text": "McGovern\u2019s technique"
      },
      {
        "id": 4,
        "text": "Valsalva maneuvre"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows <strong>Trotter&rsquo;s method</strong> in which the patient is made to sit, leaning a little forward over a basin to spit any blood and breathe quietly from the mouth. It is the first step to control <strong>epistaxis</strong>.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Epley&rsquo;s maneuver</strong> is used in the treatment of <strong>BPPV</strong> (Benign Paroxysmal Positional Vertigo).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e5816285b2db4d988bbf604f4010ecdd.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3b1e161d7dcb4d68a6f7e6653db23d52x1280x2325.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/431d6f8a4b8048f08d60bb8e2c22379dx1280x1343.JPEG"
    ]
  },
  {
    "text": "The given CT finding is associated with which of the following genodermal disorders?",
    "choices": [
      {
        "id": 1,
        "text": "Von- Hippel- Lindau syndrome"
      },
      {
        "id": 2,
        "text": "Sturge Weber syndrome"
      },
      {
        "id": 3,
        "text": "Tuberous sclerosis"
      },
      {
        "id": 4,
        "text": "Ataxia telangiectasia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The CT brain shows <strong>t</strong><strong>ram-track cortical calcifications,&nbsp;</strong>a characteristic feature of<strong> Sturge-Weber syndrome</strong>.</p>\n<p>It occurs due to<strong> leptomeningeal</strong> <strong>hemangioma,&nbsp;</strong>resulting in a <strong>vascular</strong> <strong>steal</strong>&nbsp;affecting the subjacent cortex and white matter producing localized ischemia and calcification.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/be9b2940237c423b8607eb8f47991247.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following conditions present with Horner Trantas dots?",
    "choices": [
      {
        "id": 1,
        "text": "Phlyctenular keratoconjunctivitis"
      },
      {
        "id": 2,
        "text": "Giant papillary conjunctivitis"
      },
      {
        "id": 3,
        "text": "Vernal keratoconjunctivitis"
      },
      {
        "id": 4,
        "text": "Lyell syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Horner Trantas dots are seen in <strong>vernal keratoconjunctivitis.</strong> They appear as <strong>white dots</strong> at the limbus of the cornea. These white dots contain <strong>eosinophils and epithelial cellular debris.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/68690018be6a4b3fab00dd5be7d0d891x720x497.JPEG"
    ]
  },
  {
    "text": "Which of the following indices of obesity is obtained by dividing weight in kg by square of height in metres?",
    "choices": [
      {
        "id": 1,
        "text": "Ponderal index"
      },
      {
        "id": 2,
        "text": "Broca's index"
      },
      {
        "id": 3,
        "text": "Lorentz's index"
      },
      {
        "id": 4,
        "text": "Quetelet\u2019s index"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Quetelet's index</strong> (Body Mass Index) is obtained by <strong>dividing</strong> <strong>weight</strong> in kg <strong>by square</strong> of <strong>height</strong> in metres.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Triad of non-gonococcal urethritis, arthritis, and conjunctivitis is seen in _________",
    "choices": [
      {
        "id": 1,
        "text": "Reiter\u2019s syndrome"
      },
      {
        "id": 2,
        "text": "Ritter\u2019s disease"
      },
      {
        "id": 3,
        "text": "Still\u2019s disease"
      },
      {
        "id": 4,
        "text": "Felty syndrome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Reiter&rsquo;s syndrome</strong> is a Triad of <strong>non-gonococcal urethritis</strong>, <strong>arthritis,</strong> and <strong>conjunctivitis</strong>.</li>\n<li>MC organism causing non-gonococcal urethritis is <strong>Chlamydia trachomatis</strong>.</li>\n</ul>\n<p><strong>About other Options:</strong></p>\n<p><br /><strong>(b) Ritter&rsquo;s Disease</strong> also known as <strong>pemphigus neonatorum</strong> or<strong> Staphylococcal scalded skin syndrome (SSSS)</strong> is a dermatological condition caused by Staphylococcus aureus.</p>\n<p><br /><strong>(c) Still&rsquo;s disease</strong> is a form of <strong>arthritis</strong> that is characterized by <strong>high spiking fevers</strong> and evanescent (transient) <strong>salmon-colored rash.</strong>&nbsp;Still&rsquo;s disease was first described in children, but it is now known to occur, much less commonly, in adults (in whom it is referred to as <strong>adult-onset Still&rsquo;s disease, AOSD</strong>).</p>\n<p><br /><strong>(d)</strong> <strong>Felty syndrome</strong>, is characterized by the combination of<strong> rheumatoid arthritis, splenomegaly, and neutropenia</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Glanzmann's thrombasthenia is due to a defect in:",
    "choices": [
      {
        "id": 1,
        "text": "Glycoprotein Ib-IX"
      },
      {
        "id": 2,
        "text": "Glycoprotein IIb-IIIa"
      },
      {
        "id": 3,
        "text": "Deficiency of vWF"
      },
      {
        "id": 4,
        "text": "Deficiency of factor IX"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Glanzmann thrombasthenia</strong> is due to defect in <strong>glycoprotein IIb-IIIa</strong>, which is causes bridge formation between platelets by binding fibrinogen. This results in bleeding due to <strong>defective platelet aggregation.</strong></p>\n<p><strong>Bernard-Soulier syndrome</strong> is due to the <strong>defect in Glycoprotein Ib-IX</strong>, which is necessary for <strong>platelet adhesion</strong> to subendothelial matrix.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Romana\u2019s sign is seen in infection with which of the following pathogen?",
    "choices": [
      {
        "id": 1,
        "text": "Trypanosoma cruzi"
      },
      {
        "id": 2,
        "text": "Trypanosoma brucei"
      },
      {
        "id": 3,
        "text": "Cryptosporidium"
      },
      {
        "id": 4,
        "text": "Trypanosoma rangeli"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Inoculation of the parasite <em>T. cruzi</em> in <strong>conjunctiva</strong> causes unilateral, <strong>painless oedema of periocular tissues</strong> in the eye, as shown in the image below, called as <strong>Romana&rsquo;s</strong> <strong>sign</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/80db6b91208345c68bc54b8169ad46a4x360x200.JPEG"
    ]
  },
  {
    "text": "Which one of the following anesthetic agents shows the Robin Hood phenomenon?",
    "choices": [
      {
        "id": 1,
        "text": "Propofol"
      },
      {
        "id": 2,
        "text": "Etomidate"
      },
      {
        "id": 3,
        "text": "Ketamine"
      },
      {
        "id": 4,
        "text": "Thiopentone"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Robin Hood</strong> or<strong> reverse steal </strong>phenomenon is seen with<strong> thiopentone</strong>.</p>\n<p>Thiopentone <strong>constricts</strong> the <strong>cerebral vasculature,</strong> causing a decrease in cerebral blood flow, cerebral blood volume, and intracranial pressure. However, this vasoconstriction occurs only in <strong>normal areas.</strong>&nbsp;The blood vessels in the ischemic area remain dilated due to <strong>ischemia-induced vasomotor paralysis</strong> and are unaffected by thiopentone. This leads to <strong>redistribution </strong>of blood flow from <strong>normal to ischemic </strong>areas in the brain.&nbsp;This is called the Robin Hood phenomenon.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Knudson's two-hit hypothesis describes the occurrence of which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Glaucoma"
      },
      {
        "id": 2,
        "text": "Optic nerve glioma"
      },
      {
        "id": 3,
        "text": "Retinoblastoma"
      },
      {
        "id": 4,
        "text": "Meningioma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Knudson's two-hit hypothesis</strong> describes the occurrence of&nbsp;<strong>retinoblastoma</strong>.</p>\n<p>Knudson's hypothesis can be stated as follows:</p>\n<ul>\n<li>Two mutations (hits), involving both alleles of <em>RB </em>are required to produce retinoblastoma.</li>\n<li>In <strong>familial&nbsp;retinoblastoma,</strong> one of the pair of alleles of <em>RB1</em> is mutated in all the cells&nbsp;of the body. When a further mutagenic event (\"second hit\" according to the \"two-hit\" hypothesis proposed by Knudson)&nbsp;affects the second allele, the cell may then undergo malignant transformation. A large majority of these children develop<strong> bilateral and multifocal tumors.</strong></li>\n<li>In sporadic cases, both RB alleles must undergo somatic mutation in the same retinoblast (two hits).</li>\n</ul>\n<p><strong>Familial retinoblastoma</strong> patients also have a predisposition to non-ocular cancers because of the presence of the mutation in all cells, such as <strong>pinealoblastoma</strong> (usually before the age of 5 years),<strong> osteosarcomas,</strong> soft tissue sarcomas,&nbsp;and melanomas.</p>\n<p>Note:</p>\n<p><strong>Trilateral retinoblastoma</strong> = Pinealoblastoma + Bilateral retinoblastoma</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 9-year-old child presents with recurrent transient ischemic attacks and occasional headaches. Cerebral X-ray angiography is done as shown below. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "ACA aneurysm"
      },
      {
        "id": 2,
        "text": "Cavernous sinus thrombosis"
      },
      {
        "id": 3,
        "text": "Moyamoya disease"
      },
      {
        "id": 4,
        "text": "Vein of Galen malformation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above clinical scenario and cerebral X-ray angiography image shows the \"<strong>puff of smoke</strong>\" appearance, characteristic of <strong>Moyamoya disease. </strong></p>\n<p>Moyamoya disease is a rare, non-inflammatory, progressive, occlusive disease affecting the large intracranial arteries. In this condition, the lenticulostriate arteries form a rich <strong>collateral circulation</strong> around the occlusive lesions, creating the \"puff of smoke\" angiographic appearance, referred to as \"moyamoya\" in Japanese.\u00a0</p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">It exhibits a bimodal age distribution, with onset typically occurring in the first and fourth decades of life. The most common presentation is <strong>stroke</strong> or <strong>transient ischemic attacks</strong> (TIA), with the nature of these events differing by age group. In childhood, ischemic events are predominant, while hemorrhagic manifestations are frequent in adults.</span></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/629900efcea8472a845e3ed1aaa8dc52.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Where is Rasmussen\u2019s aneurysm seen?",
    "choices": [
      {
        "id": 1,
        "text": "Internal thoracic artery"
      },
      {
        "id": 2,
        "text": "Pulmonary artery"
      },
      {
        "id": 3,
        "text": "Bronchial artery"
      },
      {
        "id": 4,
        "text": "Subclavian artery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The aneurysm of the <strong>pulmonary artery</strong> within the <strong>tuberculous</strong>&nbsp;cavity is called <strong>Rasmussen&rsquo;s aneurysm.</strong></p>\n<p>Rasmussen's aneurysm is an inflammatory <strong>pseudo-aneurysmal</strong> dilatation. This occurs during the <strong>healing</strong> of the tuberculous cavity. There is a progressive weakening of the arterial wall, in which both the tunica adventitia and media are replaced by granulation tissue. This is gradually replaced by fibrin resulting in thinning of the arterial wall leading to pseudoaneurysm formation.</p>\n<p>Rupture of Rasmussen's aneurysm can cause <strong>massive hemoptysis</strong>. <strong>CT angiography</strong> plays an important role in locating the aneurysm.</p>\n<p>Most cases of massive hemoptysis arise from the <strong>bronchial arterial tree</strong> because of <strong>high pressure</strong> within bronchial arteries. Even when a pulmonary aneurysm is present, the actual bleeding may be from the bronchial artery, rather than from the pulmonary artery itself.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the process of reconversion of lactate formed in the muscles and RBC\u2019s, back into glucose inside the liver called?",
    "choices": [
      {
        "id": 1,
        "text": "Cahill cycle"
      },
      {
        "id": 2,
        "text": "Cori cycle"
      },
      {
        "id": 3,
        "text": "Kreb's cycle"
      },
      {
        "id": 4,
        "text": "Dicken-Horecker cycle"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The process of reconversion of lactate formed in the muscles\u00a0and RBCs, back into glucose inside the liver is called\u00a0<strong>Cori's cycle. </strong></p>\n<p><strong>Lactic acid</strong> is a metabolic byproduct formed after glycolysis in tissues such as the <strong>skeletal muscles</strong> and<strong> RBCs</strong>. The lactate so formed is transported into the liver and kidney. Here, it gets reconverted back into glucose. This entire process is called\u00a0<strong>Cori\u2019s\u00a0cycle </strong>or the <strong>glucose\u2013lactate cycle</strong>.</p>\n<p><strong>Cahill cycle</strong>\u00a0is also called as\u00a0<strong>glucose\u2013alanine cycle</strong>. In the fasting state, there is a significant output of alanine from skeletal muscle obtained from glycolysis of muscle glycogen. Alanine is derived from the transamination of pyruvate obtained from glycolysis. Alanine is then exported to the liver where it undergoes transamination again back to pyruvate and enters gluconeogenesis.</p>\n<p>Note:\u00a0<strong>Pentose phosphate pathway</strong> is otherwise known as <strong>Warburg-Dickens-Horecker Cycle</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Crigler Massage is used in the treatment of:",
    "choices": [
      {
        "id": 1,
        "text": "CRAO"
      },
      {
        "id": 2,
        "text": "Adult Nasolacrimal Duct Obstruction"
      },
      {
        "id": 3,
        "text": "CRVO"
      },
      {
        "id": 4,
        "text": "Congenital Nasolacrimal Duct Obstruction"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Crigler&rsquo;s massage increases the hydrostatic pressure and is used in the management of Congenital Nasolacrimal Duct Obstruction.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Electron microscopic picture of which of the following conditions is shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Bernard\u2013Soulier syndrome"
      },
      {
        "id": 2,
        "text": "Mycosis fungoides"
      },
      {
        "id": 3,
        "text": "Glanzmann thrombasthenia"
      },
      {
        "id": 4,
        "text": "Langerhans cell histiocytosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given electron microscopy image shows <strong>tennis racket</strong> shaped <strong>Birbeck granules</strong>. These granules&nbsp;are characteristic of <strong>Langerhans cell histiocytosis. </strong></p>\n<p>These granules are pentalaminar tubules with dilated terminal ends. This gives a characteristic <strong>tennis racket</strong> appearance on electron microscopy. They contain the protein langerin (CD207).</p>\n<p>The image given below shows the Birbeck granules as seen on electron microscopy.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c284377481414961ab0bc7d4b46d52c1.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4dcf900614ef422d95f0a0eb2baa5943x1280x1589.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3ab4f69596b042458b6695eb55c25bc4x1280x1078.JPEG"
    ]
  },
  {
    "text": "Which of the following is not true about Russel-Silver Syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Shows uniparental disomy"
      },
      {
        "id": 2,
        "text": "Failure to thrive"
      },
      {
        "id": 3,
        "text": "Macrosomia at birth"
      },
      {
        "id": 4,
        "text": "Normal head growth"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Russel silver syndrome is a growth disorder characterized by <strong>slow growth before and after birth. </strong>Hence, it presents as <strong>Low birth weight, not macrosomia</strong>.</p>\n<p>Features:</p>\n<p>Normal Head growth is present but affected children are thin and have a poor appetite.</p>\n<p>Low birth weight and failure to thrive are often associated. &nbsp;</p>\n<p>Parent-specific differences in gene expression are caused due to genomic imprinting.</p>\n<p>Hence Uniparental disomy can cause it.</p>\n<p>Genes in <strong>chromosome 7 and 11</strong> are involved in this.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Tigroid white matter on MR imaging is seen in which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Pantothenate kinase deficiency"
      },
      {
        "id": 2,
        "text": "Pelizaeus-Merzbacher disease"
      },
      {
        "id": 3,
        "text": "Neuroferritinopathy"
      },
      {
        "id": 4,
        "text": "Aceruloplasminemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Tigroid white matter on MR imaging is seen in&nbsp;<strong>Pelizaeus-Merzbacher disease.</strong></p>\n<p>It is a rare, X-linked recessive disorder characterized by central nervous system dysmyelination.</p>\n<p>The proteolipid protein gene (PLP1) is affected, leading to the failure of axon myelination by oligodendrocytes in the central nervous system.</p>\n<p>Clinical Features:</p>\n<ul>\n<li>Nystagmus</li>\n<li>Developmental delay</li>\n<li>Psychomotor delay</li>\n<li>Seizure</li>\n<li>Stridor</li>\n<li>Feeding difficulties</li>\n<li>Ataxia</li>\n<li>Hypotonia progressing to spasticity.</li>\n</ul>\n<p>The degree of dysmyelination is correlated with the severity of the clinical manifestations.</p>\n<p>Genetic analysis can confirm the diagnosis. <strong>MRI </strong>shows a <strong>lack of myelination</strong> and MR spectroscopy reveals aberrant N-acetyl aspartate (NAA) and choline concentrations that reflect axonal and myelination abnormalities.</p>\n<p>Unlike other demyelinating leukodystrophies such as metachromatic leukodystrophy and adrenoleukodystrophy, where myelin is formed but subsequently destroyed, PMD shows a failure of myelin formation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is known as mucocutaneous lymph node syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Behcet disease"
      },
      {
        "id": 2,
        "text": "Kawasaki disease"
      },
      {
        "id": 3,
        "text": "Espundia"
      },
      {
        "id": 4,
        "text": "Tubercular lymphadenitis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Kawasaki disease</strong> is also known as <strong>mucocutaneous lymph node syndrome.</strong></p>\n<p><strong>Kawasaki disease </strong>is an acute febrile illness occurring in children aged 4 years or younger. It is usually self- limiting. This vasculitis affects large to medium-sized vessels and even small vessels.&nbsp;</p>\n<p>It is also known as <strong>mucocutaneous lymph node syndrome</strong> because it can present with non-purulent <strong>conjunctivitis</strong>,&nbsp;<strong>oral erythema</strong>, edema of the hands and feet, desquamative rash, and cervical lymph node enlargement<strong>.</strong></p>\n<p>It has a&nbsp;<strong>predilection for coronary artery involvement</strong>&nbsp;and is the leading cause of acquired heart disease in children. Untreated patients may develop<strong> coronary artery ectasia or aneurysms</strong>, leading to rupture or thrombosis, myocardial infarction, and sudden death.</p>\n<p>Espundia is the muco-cutaneous variant of Leishmaniasis</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Fincham\u2019s test is done for ________",
    "choices": [
      {
        "id": 1,
        "text": "Colored halos"
      },
      {
        "id": 2,
        "text": "Polyopia"
      },
      {
        "id": 3,
        "text": "Scotoma"
      },
      {
        "id": 4,
        "text": "Flashes of light"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Fincham's test</strong> is used to distinguish whether the <strong>colored halos</strong>&nbsp;are due to <strong>cataract or glaucoma.</strong></p>\n<p>Different <strong>causes of colored halos</strong> are:</p>\n<ul>\n<li>Cataract</li>\n<li>Acute congestive glaucoma</li>\n<li>Mucopurulent conjunctivitis</li>\n</ul>\n<p><strong>Fincham&rsquo;s test</strong></p>\n<ul>\n<li>During this test, a <strong>glaucomatous halo</strong> remains <strong>intact</strong>, while a <strong>halo due</strong> to <strong>cataract</strong> is <strong>broken up</strong> into segments.</li>\n<li>In <strong>conjunctivitis</strong>, halos can be <strong>eliminated</strong> by irrigating the discharge.</li>\n</ul>\n<p><strong>Clinical features of cataract </strong></p>\n<ul>\n<li>Blurring of vision</li>\n<li>Diminution of vision</li>\n<li>Polyopia, commonly seen in incipient cataract</li>\n<li>Glare</li>\n<li>Colored halos</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Hematemesis and melena are the usual presenting features of bleeding located _________",
    "choices": [
      {
        "id": 1,
        "text": "Proximal to Hepatic flexure"
      },
      {
        "id": 2,
        "text": "Proximal to Ligament of Treitz"
      },
      {
        "id": 3,
        "text": "Distal to Hepatic flexure"
      },
      {
        "id": 4,
        "text": "Distal to Ligament of Treitz"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Hematemesis and melena</strong> are the usual <strong>presenting features of upper gastrointestinal bleeding</strong>. <strong>Upper\u00a0GI bleeding</strong> is derived from a <strong>source proximal</strong> to the <strong>ligament of Treitz</strong>.</p>\n<p>The <strong>ligament of Treitz</strong> is part of the duodenojejunal junction and forms the <strong>line of demarcation for gastrointestinal (GI) bleeding</strong>.</p>\n<p>Upper GI bleeding refers to bleeding proximal to the ligament of Treitz, and lower GI bleeding refers to bleeding distal to the ligament of Treitz.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0248990f12cb47a8a09f5c12c0ed6213x1280x2956.JPEG"
    ]
  },
  {
    "text": "Which of the following structures do the Sharpey's fibers connect?",
    "choices": [
      {
        "id": 1,
        "text": "Periosteum to synovial membrane"
      },
      {
        "id": 2,
        "text": "Joint capsule to periosteum"
      },
      {
        "id": 3,
        "text": "Periosteum to bone"
      },
      {
        "id": 4,
        "text": "Enamel to dentin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Sharpey's fibers</strong> are thick<strong> collagen</strong> <strong>fibers</strong> that connect the periosteum to the underlying bone.&nbsp;</p>\n<p>Sharpey's fibers are present in the bone and the teeth.&nbsp;</p>\n<ul>\n<li class=\"p1\"><strong>Bone </strong>-&nbsp;tether the<strong> periosteum </strong>to the<strong> underlying bone</strong>.&nbsp;</li>\n<li class=\"p1\"><strong>Teeth </strong>-&nbsp;connect the&nbsp;<strong>cementum </strong>to the<strong> periosteum</strong> of the<strong> alveolar bone</strong> (tooth socket).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Where does the great cerebral vein of Galen drain into?",
    "choices": [
      {
        "id": 1,
        "text": "Inferior petrosal sinus"
      },
      {
        "id": 2,
        "text": "Straight sinus"
      },
      {
        "id": 3,
        "text": "Sigmoid sinus"
      },
      {
        "id": 4,
        "text": "Occipital sinus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>great cerebral vein</strong> <strong>of Galen</strong>&nbsp;drains into the <strong>straight sinus.</strong></p>\n<p>The image given below shows the venous drainage of cerebral veins.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d867a29fc5cf4fa4909ca233acf7c150x1280x1127.JPEG"
    ]
  },
  {
    "text": "Burst fracture of the atlas is known as:",
    "choices": [
      {
        "id": 1,
        "text": "Dens fracture"
      },
      {
        "id": 2,
        "text": "Jefferson's fracture"
      },
      {
        "id": 3,
        "text": "Clay-shoveler's fracture"
      },
      {
        "id": 4,
        "text": "Hangman's fracture"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Burst fracture</strong> of <strong>C1 vertebra/atlas</strong> is known as\u00a0<strong>Jefferson\u2019s fracture</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4cad5d526a6548929f4e50689853babex955x405.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/98ef863407684b44b51d2bc4cf4eea7ex838x1024.JPEG",
      "https://cdn1.dailyrounds.org/uploads/06ff576702674c7e840d97cd6759252c.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/accbb1e6ef98480e85639a48da754a75x1280x2238.JPEG"
    ]
  },
  {
    "text": "A 30-year-old man presents with numbness of both hands. He was asked to perform the test demonstrated below. What is this test?",
    "choices": [
      {
        "id": 1,
        "text": "Adson's test"
      },
      {
        "id": 2,
        "text": "Pemberton test"
      },
      {
        "id": 3,
        "text": "Roos test"
      },
      {
        "id": 4,
        "text": "Wright test"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The test performed in the image is <strong>Roos</strong>\u00a0test. It is also referred to as the <strong>elevated arm stress test</strong> (EAST).\u00a0It is a provocative test for the diagnosis of <strong>thoracic outlet syndrome</strong>.</p>\n<p>For this test, the patient abducts the shoulders to 90 degrees and flexes the elbow to 90 degrees. The patient is made to open and close the hand repeatedly for three minutes. The test is positive if the patient is unable to complete the test or experiences cramping, pain, numbness, on the affected side.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d4196bdafb2d49008a9f87d2af5b5718.GIF"
    ],
    "explanation_images": []
  },
  {
    "text": "Bouchard\u2019s nodes are seen in?",
    "choices": [
      {
        "id": 1,
        "text": "Distal interphalangeal joint"
      },
      {
        "id": 2,
        "text": "Proximal interphalangeal joint"
      },
      {
        "id": 3,
        "text": "Metacarpophalangeal joint"
      },
      {
        "id": 4,
        "text": "Both proximal and distal interphalangeal joints"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Bouchard&rsquo;s</strong> <strong>nodes</strong> are seen in the <strong>proximal interphalangeal joint</strong>.&nbsp;</p>\n<p><strong>Heberden nodes</strong>&nbsp;are the&nbsp;knobby&nbsp;appearance of&nbsp;DIP.&nbsp;They are formed due to the formation of&nbsp;osteophytes&nbsp;and&nbsp;tissue swelling.&nbsp;</p>\n<p>They are the signs of&nbsp;osteoarthritis in hands.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d09a2f7f453941ecaa2d096bd0a95a0bx1280x1085.JPEG"
    ]
  },
  {
    "text": "McNaughten's rule falls under which Section?",
    "choices": [
      {
        "id": 1,
        "text": "BNSS Section 85 (CrPC 83)"
      },
      {
        "id": 2,
        "text": "BNS Section 22  (IPC 84)"
      },
      {
        "id": 3,
        "text": "BNS Section 219  (IPC 184)"
      },
      {
        "id": 4,
        "text": "BNSS Section 204  (CrPC 184)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\">McNaughten's rule falls under <strong>Section 22</strong> of the <strong>Bharatiya Nyaya Sanhita (IPC 84).\u00a0</strong></p>\n<p class=\"p1\">It states, \"A person of unsound mind is <strong>not liable</strong> for an act.\"</p>\n<p class=\"p1\">Defect: In Mc Naughthen\u2019s rule, only intellectual factors are considered but emotions, delusion, and control of impulses are ignored.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In which of the following conditions is Robert\u2019s sign seen?",
    "choices": [
      {
        "id": 1,
        "text": "Foetal distress"
      },
      {
        "id": 2,
        "text": "Postmature foetus"
      },
      {
        "id": 3,
        "text": "Premature foetus"
      },
      {
        "id": 4,
        "text": "Foetal death"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Robert&rsquo;s sign</strong> is&nbsp;a <strong>radiological</strong> sign which refers to the presence of a gas shadow within the chambers of the heart or the greater vessels like aorta. It is seen in cases of <strong>foetal death in utero</strong>.</p>\n<p>It is a sign of maceration.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Wernickes area is in ________",
    "choices": [
      {
        "id": 1,
        "text": "Superior temporal gyrus"
      },
      {
        "id": 2,
        "text": "Precentral gyrus"
      },
      {
        "id": 3,
        "text": "Post central gyrus"
      },
      {
        "id": 4,
        "text": "Inferior frontal gyrus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>Wernicke&rsquo;s area, lies behind the primary auditory cortex in the <strong>posterior part of the superior gyrus of the temporal lobe.</strong></li>\n<li><strong>Wernicke&rsquo;s area</strong> is concerned with language comprehension.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ede88ce4fb7f4ea89b4551585d8aed5bx407x513.PNG"
    ]
  },
  {
    "text": "An infant presents with copious bilious vomiting and abdominal distension on the 5th day of life. He had not passed meconium for the first 3 days after birth. An abdominal radiograph shows the presence of dilated bowel loops. What is the gold standard investigation for the given condition?",
    "choices": [
      {
        "id": 1,
        "text": "MRI"
      },
      {
        "id": 2,
        "text": "Contrast enema"
      },
      {
        "id": 3,
        "text": "Rectal biopsy"
      },
      {
        "id": 4,
        "text": "Rectal manometry"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical scenario is suggestive of <strong>Hirschsprung's disease</strong>. A <strong>rectal biopsy&nbsp;</strong>is the <strong>gold standard</strong> for the diagnosis of Hirschsprung&rsquo;s disease.</p>\n<p>A rectal biopsy<strong> 2 cm above the dentate line</strong> is the ideal area for a biopsy.</p>\n<p>Hirschsprung&rsquo;s disease is a developmental disorder characterized by the&nbsp;<strong>absence of ganglion cells</strong> in the myenteric (Auerbach) plexus and submucosal (Meissner) plexus.&nbsp;Most infants present with abdominal distention and bilious emesis with failure to pass meconium within the first 24 hours of life.</p>\n<p class=\"p1\">The initial investigation is a <strong>contrast enema.&nbsp;</strong>The area between the dilated and contracted segments is referred to as the<strong> transition zone.&nbsp;</strong>The affected part shows the absence of ganglion cells and <strong>hypertrophy of nerve trunks&nbsp;</strong>in the rectal biopsy.</p>\n<p>Other investigations for Hirschsprung&rsquo;s disease include:</p>\n<ul>\n<li><strong>Water-soluble contrast enema </strong>-<strong>&nbsp;</strong>shows the presence of contracted aganglionic rectum, transition zone, and a dilated normally innervated colon.</li>\n<li><strong>Anorectal manometry -&nbsp;</strong>shows the failure of the relaxation of the internal anal sphincter.</li>\n</ul>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p class=\"ng-binding\"><strong>&nbsp;Definitive surgeries</strong> for Hirschsprung disease are as follows:</p>\n<ul>\n<li><strong>Swenson</strong>&nbsp;procedure, where aganglionic bowel is removed and a coloanal anastomosis is performed.</li>\n<li><strong>Duhamel</strong>&nbsp;procedure,<strong>&nbsp;</strong>where the aganglionic rectal stump is left in place and the ganglionated normal colon is pulled posterior.</li>\n<li><strong>Soave</strong>&nbsp;procedure, where endorectal mucosal dissection is done within the aganglionic distal rectum. The ganglionated normal colon is pulled through the remnant muscular cuff, and a coloanal anastomosis is performed.<span style=\"font-size: 14px;\">&nbsp;</span></li>\n</ul>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following microbes is also referred to as Eaton's agent ?",
    "choices": [
      {
        "id": 1,
        "text": "Klebsiella pneumoniae"
      },
      {
        "id": 2,
        "text": "Corynebacterium diphtheria"
      },
      {
        "id": 3,
        "text": "Chlamydia trachomatis"
      },
      {
        "id": 4,
        "text": "Mycoplasma pneumoniae"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Eaton's agent</strong> refers to <strong><em>Mycoplasma pneumoniae</em>.</strong></p>\n<p>Eaton was the first to isolate <em>Mycoplasma pneumoniae</em>. Because it was <strong>filterable</strong> through bacterial filters, it was considered to be a virus previously and thus named <strong>Eaton's agent</strong>. It was also formerly known as <strong>PPLO </strong>(Pleuro pneumonia-like organism).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Miyagawa's corpuscles are seen in __________",
    "choices": [
      {
        "id": 1,
        "text": "Trachoma"
      },
      {
        "id": 2,
        "text": "LGV"
      },
      {
        "id": 3,
        "text": "Trypanosomiasis"
      },
      {
        "id": 4,
        "text": "Yellow fever"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>Miyagawa</strong> <strong>corpuscles</strong> are inclusion bodies seen in <strong>lymphogranuloma</strong> <strong>venereum (LGV)</strong>.</p>\n<p>The Miyagawa corpuscles are <strong>intracytoplasmic microcolonies</strong> of <strong>chlamydia</strong> <strong>trachomatis</strong> seen on microscopy of the aspirate material from the buboes.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Eponyms Mini Test';
        const quizFilename = 'eponyms-mini-test-949da8b7.html';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2020-21"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>