<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>043 Biochemistry Ini-Cet 2023 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Biochemistry
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">17</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Xanthurenic aciduria is seen in which of the following vitamin deficiency?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin B2"
      },
      {
        "id": 2,
        "text": "Vitamin B1"
      },
      {
        "id": 3,
        "text": "Vitamin B12"
      },
      {
        "id": 4,
        "text": "Vitamin B6"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Xanthurenic aciduria</strong>&nbsp;is seen in&nbsp;<strong>deficiency of vitamin B6 </strong>(pyridoxal phosphate), a coenzyme required by <strong>kynureninase enzyme</strong> to convert 3-OH kynurenine to 3-OH anthranilic acid during tryptophan metabolism.</p>\n<p>Other options-&nbsp;</p>\n<p>Option A:&nbsp;<strong>Riboflavin</strong>&nbsp;or Vitamin B2 deficiency manifests as angular stomatitis, magenta tongue, seborrhea, corneal vascularization. It is seen in alcoholism, and individuals with a poor diet and decreased intake of dairy products.</p>\n<p>Option B:&nbsp;A patient with&nbsp;<strong>thiamine&nbsp;</strong>or&nbsp;<strong>vitamin B1</strong>&nbsp;deficiency presents either&nbsp;<strong>dry Beriberi</strong>&nbsp;with&nbsp;<strong>predominantly neurological</strong>&nbsp;symptoms like&nbsp;<strong>neuropathy</strong>, muscle weakness, and wasting or&nbsp;<strong>wet Beriberi</strong>&nbsp;with predominant cardiac symptoms like&nbsp;<strong>cardiomegaly</strong>, tachycardia, high output congestive cardiac failure.</p>\n<p>Option C:&nbsp;<strong>Vitamin B12</strong>&nbsp;or<strong>&nbsp;cobalamin</strong>&nbsp;deficiency presents as<strong>&nbsp;anemia</strong>, fatigue, and pallor symptoms. Other presenting complaints may include&nbsp;<strong>peripheral neuropathy</strong>,&nbsp;glossitis, diarrhea, headaches, neuropsychiatric disturbances like&nbsp;dementia, and&nbsp;<strong>subacute combined degeneration of the spinal cord</strong>&nbsp;(SACD) leading to&nbsp;ataxia. A peripheral smear shows&nbsp;macrocytic anemia&nbsp;and&nbsp;hypersegmented neutrophils.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 12-year-old boy with type 1 diabetes mellitus presents with unconsciousness. His urine is subjected to a test and the results are shown below. What is the test done?",
    "choices": [
      {
        "id": 1,
        "text": "Seliwanoff's test- Fructose"
      },
      {
        "id": 2,
        "text": "Benedict's test- Reducing sugars"
      },
      {
        "id": 3,
        "text": "Fouchet's test- Bilirubin"
      },
      {
        "id": 4,
        "text": "Rothera's test- Ketone bodies"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical scenario points towards a diagnosis of <strong>diabetic ketoacidosis. Rothera\u2019s test</strong><strong>\u00a0</strong>as shown in the image<strong>\u00a0</strong>is a specific test used for the determination of <strong>ketone bodies </strong>in the urine.</p>\n<p>Type I diabetes mellitus is a\u00a0<strong>low insulin state</strong>. There is an\u00a0<strong>increased\u00a0</strong>conversion of\u00a0<strong>fatty acids\u00a0</strong>to\u00a0<strong>acetyl-CoA</strong>\u00a0which in turn leads to\u00a0<strong>increased ketone body</strong>\u00a0production. The presence of ketosis can be established by the detection of ketone bodies in urine by<strong>\u00a0Rothera's test</strong>.</p>\n<p>The test involves the saturation of 5 mL of urine with solid <strong>ammonium sulfate</strong>. This is followed by the addition of a few drops of freshly prepared <strong>sodium nitroprusside</strong> followed by 2 mL of <strong>liquor ammonia</strong> along the sides of the test tube. The development of a <strong>purple ring</strong> indicates the presence of ketone bodies in urine. Strip tests based on the same principle are also available.</p>\n<p>Other options-</p>\n<p>Option A:\u00a0<strong>Seliwanoff's test</strong>\u00a0will\u00a0<strong>distinguish glucose</strong>\u00a0and\u00a0<strong>fructose</strong>. The reagent is resorcinol in HCl. 3 ml of the reagent and 0.5 ml of urine are heated for 30 seconds up to a boiling point. A red color indicates the presence of fructose.</p>\n<p>Option B:<strong> Benedict's test</strong>\u00a0is a test commonly used in the follow-up of diabetics for the detection of\u00a0<strong>glucose</strong>\u00a0in urine (glucosuria). It uses Benedict's reagent containing sodium carbonate, copper sulfate, and sodium citrate.\u00a0<strong>Reducing sugars\u00a0</strong>(containing a free aldehyde/ keto group) will reduce Benedict's reagent. Examples include glucose, fructose, and lactose.\u00a0The test is a semi-quantitative test. The blue color indicates no reducing sugar.\u00a0</p>\n<div class=\"page\" title=\"Page 333\">Option C:\u00a0<strong><span data-preserver-spaces=\"true\">Fouchet's test</span></strong><span data-preserver-spaces=\"true\">\u00a0is used for detecting the presence of\u00a0<strong>b</strong></span><strong><span data-preserver-spaces=\"true\">ile pigments in urine.\u00a0</span></strong>Here, urine is heated with barium sulfate, which adsorbs bilirubin. Ferric chloride is added, which oxidizes the adsorbed bilirubin to biliverdin which produces a green color. Principle for all tests to detect bile pigments: Oxidizing agents readily\u00a0<strong>oxidize bilirubin</strong>\u00a0to\u00a0<strong>biliverdin</strong>\u00a0to form a<strong>\u00a0green color.</strong>\u00a0</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a516ed58e53347b3ab1d2600d05d7215.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The template DNA strand is 5'CATTCAATATCGATC3'. The resulting mRNA sequence after transcription is?",
    "choices": [
      {
        "id": 1,
        "text": "3'GAUCGAUAUUGAAUA5'"
      },
      {
        "id": 2,
        "text": "5'GATCGATATTGAATUT3'"
      },
      {
        "id": 3,
        "text": "5'GAUCGAUAUUGAAUG3'"
      },
      {
        "id": 4,
        "text": "3'GATCGATATTGAATU5'"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>5'GAUCGAUAUUGAAUG3' </strong>will be\u00a0the sequence of<strong>\u00a0mRNA</strong> produced from this fragment of template DNA.</p>\n<p>The <strong>non-template strand</strong> or coding strand or sense/plus strand in the DNA will have the <strong>same sequence</strong> of the RNA that is produced, except that the non-template or coding strand has <strong>T is in place of U.\u00a0</strong></p>\n<p>As all sequences are written in the 5\u2032 to 3\u2032 direction, unless otherwise specified, an RNA sequence of\u00a0<strong>GAUCGAUAUUGAAUG</strong>\u00a0would correspond to a DNA sequence, on the non-template strand, of <strong>CATTCAATATCGATC</strong>. Both the non-template strand and RNA produced will be a <strong>complementary</strong> sequence <strong>to the template</strong> strand.</p>\n<p>Note:</p>\n<p>Template strand - known as minus or antisense or non-coding strand.</p>\n<p>Coding strand- known as plus or sense or non-template strand.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/598ee4cb536d4c9db7a16ca8b1f96a6fx799x389.JPEG"
    ]
  },
  {
    "text": "Arrange the following steps of Karyotyping in the correct order :",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3, 4, 5"
      },
      {
        "id": 2,
        "text": "1, 3, 2, 4, 5"
      },
      {
        "id": 3,
        "text": "1, 2 , 3, 5, 4"
      },
      {
        "id": 4,
        "text": "2, 1, 3, 4, 5"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correct order of steps of Karyotyping is as follows:&nbsp;</p>\n<ol>\n<li>Collect cells by peripheral vein using a heparin syringe.</li>\n<li>Culture in phytohaemoagglutinin.</li>\n<li>Incubation at 37 degrees C for 3 days.</li>\n<li>Harvest with colchicine.</li>\n<li>Routine staining with Giemsa</li>\n</ol>\n<p><strong>Karyotyping</strong>&nbsp;is the process by which chromosomes are isolated, stained, and examined to find chromosomal anomalies. It is used in prenatal diagnosis, investigation of repeat pregnancy loss, investigation of children and adults suspected of having a chromosomal disorder, and subtyping of lymphomas and leukemias for the purpose of exact diagnosis, giving a&nbsp;prognosis, and treatment.</p>\n<p>Various techniques are used in karyotyping to study chromosomes. Staining with various compounds produces various results and helps us to understand the chromosomes better.</p>\n<p>Common techniques&nbsp;used are:</p>\n<ul>\n<li><strong>Q banding</strong>&nbsp;- fluorescence staining with quinacrine mustard</li>\n<li><strong>G banding</strong>&nbsp;-&nbsp;Giemsa staining after&nbsp;partial denaturation of chromatin</li>\n<li><strong>R banding</strong>&nbsp;- reverse&nbsp;Giemsa staining. In this, the light and dark areas are reversed</li>\n<li><strong>C banding</strong>&nbsp;-&nbsp;staining of heterochromatin with&nbsp;<strong>silver salts</strong></li>\n<li><strong>T banding&nbsp;</strong>-&nbsp;staining the telomeres of chromosomes</li>\n</ul>\n<p>The karyotyping of a normal human male is given below.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0bda1837e4df41da95a780816883d72ax1280x979.JPEG"
    ]
  },
  {
    "text": "A patient came with complaints of muscle weakness to the OPD. The doctor found that he has cardiomyopathy and diagnosed him to be a case of Barth Syndrome, where the patient has mitochondrial dysfunction. What is the defect in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Cephalin"
      },
      {
        "id": 2,
        "text": "Cardiolipin"
      },
      {
        "id": 3,
        "text": "Lecithin"
      },
      {
        "id": 4,
        "text": "Lysolecithin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Decreased cardiolipin</strong> or alteration in its metabolism results in<strong>&nbsp;</strong>mitochondrial dysfunction<strong>&nbsp;</strong>seen in<strong> Barth syndrome (cardio skeletal myopathy)</strong> which is <span class=\"ILfuVd\"><span class=\"hgKElc\">characterized by an enlarged and weakened heart (<strong>dilated cardiomyopathy</strong> ), weakness in muscles used for movement (<strong>skeletal myopathy</strong>), recurrent infections due to small numbers of white blood cells (<strong>neutropenia</strong>), and <strong>short stature</strong>.</span></span></p>\n<p><strong>Diphosphatidyl glycerol</strong>, also called&nbsp;<strong>cardiolipin</strong>, is the&nbsp;phospholipid found <strong>only</strong> in the <strong>mitochondria.&nbsp;</strong>Cardiolipin, which is a&nbsp;phospholipid&nbsp;with&nbsp;antigenic properties, is responsible for the false-positive VDRL test.</p>\n<p>It is an important component of the&nbsp;<strong>inner mitochondrial membrane</strong>, where it is essential for the following:</p>\n<ul>\n<li><strong>Optimal function</strong> of numerous mitochondrial enzymes that are involved in mitochondrial <strong>energy metabolism</strong>.</li>\n<li><strong>Maintenance of the structure</strong> of the mitochondrial membrane.</li>\n</ul>\n<p>Other options-&nbsp;</p>\n<p class=\"p1\">Option A: <strong>Phosphatidylethanolamine</strong>, also called&nbsp;<strong>cephalin</strong>, is found in the cell membranes of nervous tissue, particularly in the brain.</p>\n<p class=\"p1\">Option C: Defect in the synthesis of&nbsp;<strong>dipalmitoyl lecithin&nbsp;</strong>leads to&nbsp;Respiratory distress syndrome (RDS),&nbsp;also known as<strong>&nbsp;hyaline membrane disease.</strong></p>\n<p class=\"p1\">option D: <strong>Lysolecithin</strong> is obtained by removing one fatty acid from lecithin. Oxidized lysolecithin is associated with <strong>atherosclerosis</strong>.&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In Pompe's disease, the enzyme deficient is?",
    "choices": [
      {
        "id": 1,
        "text": "Lactic acid dehydrogenase"
      },
      {
        "id": 2,
        "text": "Phosphofructokinase"
      },
      {
        "id": 3,
        "text": "Muscle glycogen phosphorylase"
      },
      {
        "id": 4,
        "text": "Lysosomal alpha glucosidase"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Other options:</p>\n<p>Option A:&nbsp;Lactic acid dehydrogenase deficiency is not associated with any disorder.</p>\n<p>Option B:<strong> Tarui's disease</strong> is characterized by a deficiency of muscle and erythrocyte<strong>&nbsp;phosphofructokinase 1</strong>. This results in abnormal glycogen metabolism and hence muscle cannot generate energy after exercise using glycogen reserves which leads to&nbsp;<strong>exercise intolerance</strong>.</p>\n<p>Option C: Muscle <strong>glycogen phosphorylase deficiency</strong> is seen in <strong>McArdle's</strong> disease (type V glycogen storage disorder). Patients present with <strong>exercise-induced muscle cramping&nbsp;</strong>without&nbsp;<strong>elevated blood lactate</strong> levels which would normally be expected.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e539643a72444d14b1c8e9ffd656ab6ex800x593.JPEG"
    ]
  },
  {
    "text": "The thermic effect is highest in ______.",
    "choices": [
      {
        "id": 1,
        "text": "Carbohydrates"
      },
      {
        "id": 2,
        "text": "Proteins"
      },
      {
        "id": 3,
        "text": "Lipids"
      },
      {
        "id": 4,
        "text": "Independent of components"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The thermic effect is highest in<strong> proteins.</strong></p>\n<p><strong>Specific dynamic allowance\u00a0</strong>(previously called the thermic effect of food): This refers to the increased heat production or increased metabolic rate following the intake of food (diet-induced thermogenesis).</p>\n<p class=\"p1\">The values of SDA are</p>\n<ul>\n<li class=\"p1\"><strong>30%</strong>\u00a0for<strong>\u00a0proteins:</strong>\u00a0This means that out of every 100 grams of proteins consumed, the energy available for doing useful work is 30% less than the calculated value - i.e 30% of the energy content in protein is used in its own metabolism.</li>\n<li class=\"p1\"><strong>15%</strong>\u00a0for<strong>\u00a0lipids</strong>, and\u00a0</li>\n<li class=\"p1\"><strong>5%\u00a0</strong>for\u00a0<strong>carbohydrates.</strong></li>\n</ul>\n<p><strong>Importance</strong>: It is a common experience that during hot weather following the consumption of a protein-rich\u00a0meal, one feels hot and humid for a while. On the other hand, in cold weather, the same would provide a comfortable feeling.</p>\n<p>The energy generated by the metabolism of the macronutrients is used for<strong> three energy-requiring</strong> processes that occur in the body:</p>\n<ul>\n<li>Resting metabolic rate</li>\n<li>Thermic effect of food (formerly termed specific dynamic action)</li>\n<li>Physical activity</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements are false about collagen?",
    "choices": [
      {
        "id": 1,
        "text": "Most common fibrous protein"
      },
      {
        "id": 2,
        "text": "Prolysyl and  lysyl hydroxylase are involved in post translational modification"
      },
      {
        "id": 3,
        "text": "Phenylalanine is the most abundant AA in its structure"
      },
      {
        "id": 4,
        "text": "Triple helix structure is important for its function"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Glycine&nbsp;</strong>is the <strong>most abundant amino acid(AA) in collagen</strong> and not phenylalanine.&nbsp;</p>\n<p>Collagen is the most abundant protein in the animal world. It has a&nbsp;<strong>triple helical</strong> structure, forming a&nbsp;<strong>right-handed superhelix</strong>. A striking characteristic of collagen is the occurrence of&nbsp;<strong>glycine residues</strong>&nbsp;at&nbsp;<strong>every third position.</strong></p>\n<p><strong>Proline&nbsp;</strong>and<strong>&nbsp;hydroxyproline</strong>&nbsp;confer<strong>&nbsp;rigidity</strong>&nbsp;on the collagen molecule. Hydroxyproline and hydroxylysine are formed by the&nbsp;<strong>post-translational hydroxylation</strong>&nbsp;of proline and lysine residues catalyzed by the enzyme prolyl and lysyl hydroxylase, whose cofactors are<strong>&nbsp;ascorbic acid (vitamin C) and &alpha;-ketoglutarate.&nbsp;</strong>Collagen is arranged in a&nbsp;<strong>quarter-staggered arrangemen</strong>t and further stabilized by covalent cross-links.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Ketone bodies are not utilized by the liver because it lacks:",
    "choices": [
      {
        "id": 1,
        "text": "Thiokinase"
      },
      {
        "id": 2,
        "text": "Thiophorase"
      },
      {
        "id": 3,
        "text": "Thiolase"
      },
      {
        "id": 4,
        "text": "Thiotransferase"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Ketone bodies are not utilized in the <strong>liver</strong> because it <strong>lacks</strong> the enzyme<strong> thiophorase.</strong></p>\n<p>Ketone bodies are synthesized in the liver mitochondria (by <strong>ketogenesis</strong>) and transported in the blood to the <strong>peripheral tissues. </strong>Here they are <strong>utilized</strong> by the following steps:</p>\n<ol>\n<li>&beta;-hydroxybutyrate (the most predominant ketone body) is oxidized to acetoacetate by <strong>&beta;-hydroxybutyrate dehydrogenase</strong> producing NADH.</li>\n<li>Acetoacetate is then activated to acetoacetyl CoA by transferring a CoA molecule from succinyl CoA by <strong>succinyl CoA-acetoacetyl CoA transferase (thiophorase).</strong></li>\n<li>Acetoacetyl CoA is cleaved into two acetyl CoA molecules by <strong>thiolase</strong> and oxidized into CO<sub>2</sub> by the TCA cycle.</li>\n</ol>\n<p><strong>Thiokinase </strong>or<strong> Acyl CoA synthetase&nbsp;</strong>catalyzes the only&nbsp;<strong>energy-requiring</strong>&nbsp;step in&nbsp;<strong>fatty acid oxidation.&nbsp;</strong>In the presence of ATP and coenzyme A, thiokinase catalyzes the conversion of a fatty acid&nbsp;to acyl-CoA. Acyl-CoA is the active form of fatty acid. This step uses one high-energy phosphate and forms AMP and PP<sub>i</sub>.</p>\n<div class=\"page\" title=\"Page 226\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>When higher than normal ketone bodies are present in the blood or urine, it is called <strong>ketonemia</strong> or <strong>ketonuria</strong>, respectively. The overall condition is called <strong>ketosis</strong>. The metabolism of free fatty acids to produce ketone bodies is exaggerated in pathologic states such as <strong>starvation</strong> and <strong>diabetes</strong> <strong>mellitus</strong>, thus causing ketosis. The continued buffering and excretion of ketone bodies deplete the alkali reserve, causing <strong>ketoacidosis</strong>.</p>\n<p>&nbsp;</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following methods can detect the alterations in DNA sequence?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 3"
      },
      {
        "id": 2,
        "text": "1, 2, and 3"
      },
      {
        "id": 3,
        "text": "2, 3, and 4"
      },
      {
        "id": 4,
        "text": "1, 2, and 4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The alterations in DNA sequence can be detected by <strong>restriction fragment length analysis</strong> and <strong>pyrosequencing</strong>.</p>\n<p><strong>Restriction fragment length polymorphism</strong>&nbsp;(RFLP)&nbsp;is also called cleaved amplified polymorphic sequence (CAPS) assay. RFLP is a technique in which organisms may be differentiated by <strong>variations</strong> in their <strong>DNA sequence</strong> by <strong>restriction endonucleases</strong>. This technique involves cutting a particular region of DNA with known variability, with restriction enzymes, then separating the DNA fragments by agarose gel electrophoresis&nbsp;and determining the number of fragments and relative sizes.&nbsp;</p>\n<p><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Pyrosequencing</strong> is a <strong>synthesis type</strong> of approach of DNA sequencing.&nbsp;This technique employs <strong>four enzymatic reactions</strong> in a single tube to monitor DNA synthesis.&nbsp;Nucleotides are incorporated into the reaction and <strong>pyrophosphate (PPi)</strong> is released. PPi triggers a series of reactions resulting in the production of <strong>light</strong>, which is proportional to the amount of DNA and number of incorporated nucleotides. The generated light is detected and recorded by a detector system in the form of a peak signal, which reflects the activity of all four enzymes in the reaction.&nbsp;</span></p>\n<p><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">The practical&nbsp;</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>applications&nbsp;</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">of<strong>&nbsp;</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>recombinant DNA technolog</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">y include:</span></p>\n<ul>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Gene mapping</strong>&nbsp;using techniques such as fluorescence in situ hybridization&nbsp;</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z h-lparen\">(FISH).</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Producing <strong>proteins</strong> such as:</span>\n<ul>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Interferons,&nbsp;<strong>tPA&nbsp;</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z h-lparen\">(tissue&nbsp;</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">plasminogen activator)</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Insulin</strong>, growth hormone</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Hepatitis B vaccine</span></li>\n</ul>\n</li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Molecular analysis</strong>&nbsp;of disease, to detect gene variations and mutations.</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Restriction Fragment Length polymorphism (<strong>RFLP</strong>) and single nucleotide polymorphism (<strong>SNP</strong>)</span></li>\n<li><strong><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Microsatellite DNA polymorphisms</span></strong></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Gene therapy</strong>&nbsp;and&nbsp;<strong>bone</strong>&nbsp;<strong>marrow</strong>&nbsp;transplantation</span></li>\n</ul>\n<p><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Flow cytometry&nbsp;</strong>is a <strong>laser-based</strong>&nbsp;method that analyzes the cells and cell components based on the presence of certain&nbsp;<strong>cell surface molecules&nbsp;</strong>which are named as per&nbsp;<strong>cluster of differentiation (CD) nomenclature.</strong>&nbsp;It is very effective for the study of the immune system and its response to infectious diseases and cancer. It cannot&nbsp;detect the alterations in DNA sequence.</span></p>\n<p><strong class=\"ng-binding\">Fluorescent in situ hybridization </strong>(FISH)<strong class=\"ng-binding\">&nbsp;</strong>is a technique where cells are stained with&nbsp;<strong>fluorescent stains</strong>. It uses DNA probes that recognize sequences specific to particular chromosomal regions.&nbsp;<span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">It cannot&nbsp;detect the alterations in DNA sequence.</span>&nbsp;FISH can be performed on&nbsp;<strong>prenatal samples</strong>, peripheral blood cells, touch preparations from cancer biopsies, and even fixed archival tissue sections. Uses include :</p>\n<ul>\n<li><strong>Numerical abnormalities</strong>&nbsp;of chromosomes e.g., aneuploidy.</li>\n<li>Subtle&nbsp;<strong>microdeletions&nbsp;</strong>and<strong>&nbsp;rearrangements</strong>.</li>\n<li>Complex&nbsp;<strong>translocations</strong>&nbsp;that are not demonstrable by routine karyotyping.</li>\n<li><strong>Gene amplification</strong>&nbsp;of HER2 in breast cancer or NMYC amplification in neuroblastomas.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which anticoagulant present in the light blue vacutainer is used for plasma glucose estimation?",
    "choices": [
      {
        "id": 1,
        "text": "Sodium fluoride"
      },
      {
        "id": 2,
        "text": "Heparin"
      },
      {
        "id": 3,
        "text": "Sodium Citrate"
      },
      {
        "id": 4,
        "text": "Potassium oxalate"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Light blue</strong> vacutainers contain the anticoagulant<strong> sodium citrate</strong>.</p>\n<table style=\"border-collapse: collapse; width: 76.225%;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 33.3333%; text-align: center;\">Vacutainer</td>\n<td style=\"width: 33.3333%; text-align: center;\">Additive</td>\n<td style=\"width: 33.3333%; text-align: center;\">Uses</td>\n</tr>\n<tr>\n<td style=\"width: 33.3333%;\">Light <strong>grey</strong></td>\n<td style=\"width: 33.3333%;\"><strong>Sodium</strong> <strong>fluoride</strong> and potassium oxalate</td>\n<td style=\"width: 33.3333%;\">Blood glucose estimation</td>\n</tr>\n<tr>\n<td style=\"width: 33.3333%;\">Light green</td>\n<td style=\"width: 33.3333%;\"><strong>Lithium Heparin</strong></td>\n<td style=\"width: 33.3333%;\">Plasma testing</td>\n</tr>\n<tr>\n<td style=\"width: 33.3333%;\">Light blue</td>\n<td style=\"width: 33.3333%;\"><strong>Sodium</strong> <strong>Citrate</strong></td>\n<td style=\"width: 33.3333%;\">Coagulation tests (APTT and<br />prothrombin time)</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Citrated</strong> <strong>plasma</strong> generated from whole blood is commonly utilized in laboratory testing for <strong>hemostasis</strong>. The recommended procedure involves the collection of specimens in tubes that are filled with a solution containing 3.2% sodium citrate (109 mM). The appropriate ratio for this collection is 9 parts blood to 1 part anticoagulant. The primary objective of citrate is to effectively <strong>eliminate</strong> <strong>calcium</strong> ions, which play a crucial role in the process of <strong>blood</strong> <strong>coagulation</strong>.</p>\n<p>The following image shows color coding of vacutainers with the anticoagulant used and their practical uses:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/aa45738ccaa3491cac55716a14949d5bx1279x1209.JPEG"
    ]
  },
  {
    "text": "Which of the following is not involved in the repair of DNA following double-stranded breaks?",
    "choices": [
      {
        "id": 1,
        "text": "ATM"
      },
      {
        "id": 2,
        "text": "BRCA1"
      },
      {
        "id": 3,
        "text": "MSH2"
      },
      {
        "id": 4,
        "text": "Ku70"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Non</strong>-<strong>homologous</strong> <strong>end</strong>-<strong>joining</strong> (NHEJ) is a mechanism by which a group of proteins mediates the recognition, processing, and direct ligation of the ends of two DNA fragments where a double-strand break in DNA has occurred. This is in contrast to <strong>homologous</strong> <strong>repair</strong> (HR), another mechanism, where an undamaged homologous DNA template is required to replace an adjacent damaged one.</p>\n<p>The type of repair depends on the phase of cell cycles:</p>\n<table style=\"border-collapse: collapse; width: 53.4483%;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 50%; text-align: center;\"><strong>Phase</strong> <strong>of</strong> <strong>the</strong> <strong>cell</strong> <strong>cycle</strong></td>\n<td style=\"width: 50%; text-align: center;\">\u00a0<strong>Repair</strong> <strong>mechanism</strong></td>\n</tr>\n<tr>\n<td style=\"width: 50%;\">G0 /G1 Phase</td>\n<td style=\"width: 50%;\">Nonhomologous End Joining Repair</td>\n</tr>\n<tr>\n<td style=\"width: 50%;\">S, G2, M Phase</td>\n<td style=\"width: 50%;\">Homologous Repair</td>\n</tr>\n</tbody>\n</table>\n<p>Other options:</p>\n<p>Option A: The protein known as <strong>ataxia</strong> <strong>telangiectasia</strong> <strong>mutated</strong> (ATM) serves as a crucial <strong>kinase</strong> that triggers a wide range of cellular stress responses through its signalling activity. The activation of ATM is induced by DNA double-strand breaks (DSBs) and oxidative stress, resulting in the phosphorylation of a wide range of target proteins. Recent advancements in molecular biology have brought to light the participation of the ataxia telangiectasia mutated (ATM) protein in a range of cellular mechanisms triggered by DNA damage. These mechanisms encompass the repair of double-strand breaks (DSBs), the halting of cell cycle progression through checkpoint activation, the initiation of programmed cell death (apoptosis), and the cessation of transcriptional activity. The compromised precision of repair resulting from the combinational failure of stress responses leads to heightened sensitivity to ionizing radiation (IR) in ataxia-telangiectasia (A-T) cells.</p>\n<p>Option B: <strong>CtIP</strong> which is a <strong>DNA</strong> <strong>repair</strong> <strong>protein</strong> involved in <strong>Homologous</strong> <strong>Repair</strong> whose function is dependent on <strong>phosphorylation</strong> at <strong>serine</strong> <strong>327 </strong>as well as the <strong>recruitment</strong> <strong>of</strong> <strong>BRCA 1</strong>.</p>\n<p>Option D: The <strong>Ku</strong> <strong>heterodimer</strong>, consisting of <strong>Ku70</strong> <strong>and</strong> <strong>Ku80</strong> subunits, plays a pivotal role in the nonhomologous end-joining (<strong>NHEJ</strong>) <strong>pathway</strong>, which is responsible for the repair of DNA double-strand breaks (DSBs). Ku protein mediates the <strong>binding</strong> <strong>of</strong> the <strong>damaged</strong> <strong>DNA</strong> <strong>fragment</strong> and orchestrates the <strong>recruitment</strong> of <strong>additional</strong> <strong>proteins</strong> to <strong>enable</strong> the subsequent <strong>processing</strong> and <strong>ligation</strong> <strong>of the broken DNA end</strong>.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0a372d4847344cd7924ef749c9039b74x1280x1270.JPEG"
    ]
  },
  {
    "text": "2-3 BPG binds to?",
    "choices": [
      {
        "id": 1,
        "text": "Heme part of myoglobin"
      },
      {
        "id": 2,
        "text": "Globin part of Hemoglobin"
      },
      {
        "id": 3,
        "text": "Globin part of myoglobin"
      },
      {
        "id": 4,
        "text": "Heme part of Hemoglobin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>2,3</strong> <strong>bisphosphoglycerate</strong> binds to the <strong>globin</strong> chains of the <strong>hemoglobin</strong> while <strong>oxygen</strong> binds to the <strong>heme</strong> part of the hemoglobin.</p>\n<p>A single unit of <strong>2,3-BPG </strong>forms a complex with one tetrameric unit of deoxyhemoglobin within the <strong>central cavity</strong> of its <strong>four</strong> <strong>subunits</strong>. The centre pocket of this structure contains <strong>two</strong> -<strong>globin</strong> chains that are <strong>positively</strong> charged, such as <strong>histidine</strong> and <strong>lysine</strong>. <strong>Ionic</strong> bonds, also known as <strong>salt</strong> <strong>bridges</strong>, are established through the interaction between amino acids that carry a positive charge, specifically those found in globins, and phosphate groups that possess a <strong>negative</strong> charge, specifically those present in 2,3-BPG. \u00a0The stabilization of deoxygenated haemoglobin (in its T-form) is achieved through the <strong>cross</strong>-<strong>linking</strong> of the <strong>\u03b1</strong>-<strong>chains</strong> by the binding of <strong>2,3-BPG. </strong>Upon <strong>oxygenation</strong> of <strong>haemoglobin</strong>, the molecule <strong>2,3-BPG</strong> is <strong>released</strong> from its binding site, resulting in the <strong>transformation</strong> of <strong>oxyhemoglobin</strong> into the <strong>R-form </strong>conformation.</p>\n<p>A <strong>relaxed</strong> (R) configuration, <strong>exposes</strong> <strong>more</strong> <strong>O<sub>2</sub></strong> binding sites. The quaternary structure of haemoglobin determines its affinity for O<sub>2</sub>. In <strong>deoxyhemoglobin</strong>, the <strong>globin</strong> units are <strong>tightly</strong> bound in a <strong>tense</strong> (T) configuration, which <strong>reduces</strong> the affinity of the <strong>molecule</strong> for <strong>O<sub>2</sub></strong>. When O<sub>2</sub> is first bound, the bonds holding the globin units are released, producing a relaxed (R) configuration, which exposes more O<sub>2</sub> binding sites. The net result is a 500-fold increase in O<sub>2</sub>. In <strong>tissues</strong>, these reactions are <strong>reversed</strong>, resulting in O<sub>2</sub> \u00a0dissociation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0b3e356275cc4fed8e57fa6dc3f8dc73x1280x1009.JPEG"
    ]
  },
  {
    "text": "Which of the following is complementary to the active site of the enzyme?",
    "choices": [
      {
        "id": 1,
        "text": "Product"
      },
      {
        "id": 2,
        "text": "Substrate"
      },
      {
        "id": 3,
        "text": "Allosteric activator"
      },
      {
        "id": 4,
        "text": "Transition site"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Other options:</p>\n<p>Option A: The complementary active site of the enzyme binds to the substrate to <strong>form</strong> the <strong>product.</strong></p>\n<p>Option C: The active site of the enzyme is <strong>not</strong> <strong>complementary</strong> to the <strong>allosteric activator</strong>. Allosteric sites are separate and specific sites on the enzyme that are modulated with allosteric effect modifiers and hence are complementary to them.</p>\n<p>Option D: The active site of the enzyme binds to the substrate which <strong>form</strong> a <strong>transitional</strong> <strong>state</strong> which is unstable and later dissociates to form a product.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/318a7d77f8654988b9bacc8e5c22376cx1279x883.JPEG"
    ]
  },
  {
    "text": "Cytochrome P450 monooxygenase utilises which of the following cofactors during the phase 1 reaction of detoxification of xenobiotics?",
    "choices": [
      {
        "id": 1,
        "text": "FMN"
      },
      {
        "id": 2,
        "text": "NADPH"
      },
      {
        "id": 3,
        "text": "FAD"
      },
      {
        "id": 4,
        "text": "NAD"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The microsomal <strong>cytochrome</strong> <strong>P450</strong> system, located in the <strong>liver</strong>, facilitates the process of drug and foreign substance <strong>detoxification</strong> through <strong>hydroxylation</strong> processes that rely on the <strong>availability</strong> <strong>of</strong> <strong>NADPH</strong>.</p>\n<p><strong>Phase</strong> 1 <strong>reactions</strong> include <strong>oxidation</strong>, <strong>reduction,</strong> or <strong>hydrolytic</strong> reaction. CYPs- Cytochrome P family of enzymes play a major role in <strong>phase</strong> 1 <strong>reactions.</strong> Reactions carried out by phase 1 enzymes usually lead to the <strong>inactivation of</strong> a <strong>drug</strong>. The addition of functional groups does little to increase the water solubility of the drug but alters its biological properties.\u00a0</p>\n<p>The <strong>importance</strong> <strong>of</strong> <strong>NADPH</strong> is enumerated as follows:</p>\n<ul>\n<li>NADPH is needed for the reductive biosynthesis of <strong>fatty acids and steroids</strong>, hence HMP shunt is more active in lipogenesis tissues like adipose tissue and the liver.</li>\n<li>Along with <strong>Glutamate</strong> <strong>dehydrogenase</strong> helps in the <strong>synthesis of various amino acids</strong>.</li>\n<li>Maintaining reduced glutathione is critical for <strong>RBC membrane integrity</strong>. NADPH keeps haemoglobin's ferrous iron (Fe2+) lowered to prevent methemoglobin (Fe3+) buildup.</li>\n<li>High concentrations of NADPH are also required to maintain the <strong>transparency of the lens</strong>.</li>\n</ul>\n<p>The <strong>cytochromes</strong> are a class of proteins that possess a conjugated heme group. The latter is comprised of a porphyrin ring containing an iron atom. The heme group present in cytochromes exhibits distinct characteristics when compared to the heme group observed in the structures of haemoglobin and myoglobin. The heme iron within cytochromes undergoes a <strong>cyclic process of oxidation (Fe3+) and reduction (Fe2+)</strong>, playing a crucial role in facilitating electron movement throughout the electron transport chain (ETC). This stands in <strong>opposition</strong> to the <strong>heme iron found in haemoglobin </strong>and <strong>myoglobin</strong>, which remains in the <strong>ferrous</strong> (<strong>Fe2+</strong>) form. The cytochromes were initially assigned the designations of a, b, and c based on the specific heme type they contained and their corresponding absorption spectra. Subsequent discoveries led to the identification of additional cytochromes, including c1, b1, b2, a3, among others.</p>\n<p>Other options</p>\n<p>Option A: <strong>Flavin</strong> <strong>adenine</strong> <strong>mononucleotide</strong> (<strong>FMN)</strong> is a <strong>phosphorylated</strong> form of <strong>riboflavin</strong> which functions as a <strong>cofactor</strong> for various enzymes. Some of these include as a cofactor for <strong>blue</strong>-<strong>light</strong> <strong>photoreceptors</strong> and oxidoreductases.</p>\n<p>Option C:<strong> </strong>\u00a0<strong>Flavin</strong> <strong>adenine</strong> <strong>dinucleotide (FAD)</strong>\u00a0is nothing but <strong>phosphorylated</strong> <strong>riboflavin</strong> and is used in the electron transport chain and also is a cofactor for various enzymes. Some of these include <strong>oxidative</strong> <strong>phosphorylation</strong>, <strong>DNA</strong> <strong>repair</strong>, <strong>beta</strong>-<strong>oxidation</strong> of <strong>fatty</strong> <strong>acids</strong> as well as amino acid catabolism.</p>\n<p>Option D: <strong>Nicotinamide</strong> <strong>adenine</strong> <strong>dinucleotide</strong> (<strong>NAD</strong>) consists of the vitamin <strong>B3 (niacin)\u00a0</strong>and also serves as a coenzyme for various enzymatic reactions in the body. Some of these include <strong>oxidative</strong> <strong>phosphorylation</strong> (ATP production), <strong>DNA</strong> <strong>repair</strong> and <strong>intracellular</strong> <strong>calcium</strong> <strong>signalling</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which biochemical cycle/process is used by monoclonal antibodies in hybridoma technology?",
    "choices": [
      {
        "id": 1,
        "text": "TCA cycle"
      },
      {
        "id": 2,
        "text": "Glycolytic pathway"
      },
      {
        "id": 3,
        "text": "Pentose phosphate pathway"
      },
      {
        "id": 4,
        "text": "Purine salvage pathway"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>It is the <strong>purine salvage</strong> pathway that is utilized by <strong>monoclonal antibodies</strong> in <strong>hybridoma technology</strong>.</p>\n<p><strong>Monoclonal antibodies</strong> refer to the antibodies produced by a group of lymphocytes that produce antibodies against a single antigen. These antibodies are produced by <strong>hybridoma technology</strong>.\u00a0</p>\n<p>In this technology, the B-lymphocytes of mice spleen are immunized with an antigen to produce a specific antibody. These specific antibody-producing B lymphocytes are then <strong>fused with myeloma cells</strong> that can multiply indefinitely.</p>\n<p>The myeloma cells are <strong>deficient</strong> in the hypoxanthine-guanine-phosphoribosyltransferase (<strong>HGPRT</strong>) gene and do not produce immunoglobulins. Therefore, the resulting hybrid cell is producing antibodies against a single antigen indefinitely. These <strong>hybrid</strong> cells are <strong>cultured</strong> in a <strong>HAT medium</strong> (containing hypoxanthine, aminopterin, and thymidine) and the monoclonal antibodies are obtained. It is well-established that nucleotides present in DNA and RNA consist of purine and pyrimidine bases. The synthesis of these nucleotides can occur through <strong>either</strong> the <strong>De novo</strong> pathway <strong>or </strong>the <strong>salvage pathway</strong>. Consequently, the inclusion of aminopterin in the HAT medium effectively inhibits the De novo pathway, thereby rendering the <strong>synthesis</strong> of <strong>purine dependent</strong> on the <strong>salvage pathway</strong>. However, it should be noted that the <strong>salvage pathway</strong> exclusively takes place in the presence of the enzymes <strong>HGPRT</strong> and <strong>thymidine kinase</strong>. The hybridoma cell is <strong>uniquely capable</strong> of <strong>proliferating</strong> on the <strong>HAT medium</strong> due to its <strong>distinct composition</strong>. Specifically, the myeloma component of the <strong>hybridoma</strong> possesses the capacity for <strong>repetitive cellular division</strong>, while the <strong>plasma cell </strong>component <strong>contains</strong> the enzyme <strong>HGPRT</strong>. Consequently, the hybridoma cells can <strong>sustain growth and viability</strong> over an extended period when cultivated on the HAT medium.</p>\n<p><strong>Hybridoma technology</strong> is a method for producing <strong>large numbers</strong> of<strong> identical antibodies</strong> (monoclonal antibodies).</p>\n<p><strong>Hybridomas</strong> are somatic cell hybrids produced by <strong>fusing</strong> the <strong>antibody-forming spleen cells with myeloma cells</strong>. The resultant hybrid thus has both the <strong>antibody-producing ability</strong> of the B-cell and the <strong>ability to multiply indefinitely</strong> of the myeloma.\u00a0</p>\n<p>The following are the <strong>steps</strong> involved in hybridoma technology:</p>\n<ul>\n<li>Mice are immunized with an antigen.</li>\n<li>After several weeks of immunization, blood samples are obtained from mice for measurement of serum antibodies.</li>\n<li>When the antibody titer is high enough, mice are commonly boosted by injecting antigen without adjuvant, intraperitoneally or intravenously.</li>\n<li>Then the mice are euthanized and their spleens removed for in vitro hybridoma cell production.</li>\n<li>Fusing antibody-producing spleen cells, which have a limited life span, with myeloma cells (derived from an immortal tumour of lymphocytes) results in a hybridoma that is capable of unlimited growth.</li>\n<li>The cells are cultured in a medium containing hypoxanthine, aminopterin, and thymidine (HAT medium) which allows only the fused cells to survive in culture.</li>\n<li>Monoclonal antibodies are then harvested.</li>\n</ul>\n<p><strong>Applications</strong> of hybridoma technology</p>\n<ul>\n<li>Listing lymphocyte subpopulations</li>\n<li>Specific cell quantitative preparation</li>\n<li>As an immunosuppressant in therapeutic settings</li>\n<li>Blood component nephelometric assays</li>\n<li><strong>ELISA</strong> testing</li>\n<li>Quantitative purification of antigens.</li>\n<li>Common therapeutic applications for monoclonal antibodies</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5cda283f69124bfdabc26964852ea2b5x1280x2037.JPEG"
    ]
  },
  {
    "text": "Glycogen phosphorylase requires which of the following for its activation?",
    "choices": [
      {
        "id": 1,
        "text": "Insulin"
      },
      {
        "id": 2,
        "text": "Glucose 6 phosphate"
      },
      {
        "id": 3,
        "text": "Ca2+"
      },
      {
        "id": 4,
        "text": "cAMP independent protein kinase"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Glycogen phosphorylase</strong> requires the presence of <strong>calcium</strong> to attain its <strong>fully activated state</strong>.</p>\n<p>Glycogen phosphorylase is an enzyme required in glycogenolysis.</p>\n<p>In the muscle: During muscle contraction \u2192 <strong>Ca++ is released</strong> \u2192 Ca++ binds to calmodulin forming Ca++-Calmodulin complex \u2192 <strong>activates</strong> <strong>phosphorylase kinase</strong> from b form (inactive form) <strong>without phosphorylation</strong> \u2192 significant Ca++ is required to activate glycogen phosphorylase.</p>\n<p>Hormonal regulation of glycogenolysis:<br />Glucagon (in liver) and epinephrine (in liver and muscle) acts via GPCR to activate adenylyl cyclase to catalyse synthesis of cAMP. cAMP <strong>dependent</strong> protein kinase activates phosphorylase kinase from inactive(b) to active(a) form, which in turn activates glycogen phosphorylase to active(a) form, hence leading to<strong> increased glycogenolysis</strong>. (Option D)</p>\n<p>Option A: <strong>Insulin</strong> is a known <strong>inhibitor</strong> of<strong> glycogen phosphorylase</strong> which <strong>dephosphorylates</strong> the glycogen phosphorylase enzyme thus rendering it inactive.<br />Option B: <strong>Glucose 6 phosphate</strong> is also an <strong>inhibitor</strong> of <strong>glycogen phosphorylase</strong> which <strong>dephosphorylates</strong> it thus rendering it inactive.</p>\n<p>The regulation of glycogen phosphorylase is shown in the image below:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dafecd9ee2034003b574e81dbcebbfdax1280x2560.JPEG"
    ]
  }
];
        let quizName = '043 Biochemistry Ini-Cet 2023';
        let hierarchy = ["Marrow", "PYQs", "Biochemistry"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>