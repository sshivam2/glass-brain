<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M6 - July Mini Test -1 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2017-18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Superficial part of deltoid ligament contains all fibers EXCEPT",
    "choices": [
      {
        "id": 1,
        "text": "Anterior tibiotalar"
      },
      {
        "id": 2,
        "text": "Posterior tibiotalar"
      },
      {
        "id": 3,
        "text": "Tibiocalcanean"
      },
      {
        "id": 4,
        "text": "Tibionavicular"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The anterior tibiotalar ligament is part of the deep fibres of the deltoid ligament and not the superficial fibers.</p>\n<p>The <strong>Medial collateral ligament (deltoid ligament)</strong> is a strong, triangular band, attached to the apex and the anterior and posterior borders of the medial malleolus.</p>\n<p>Of its <strong>Superficial fibres:</strong></p>\n<ul>\n<li><strong>Tibionavicular fibres</strong>: It blends with the medial margin of the plantar calcaneonavicular ligament to form the spring ligament.</li>\n<li><strong>Tibiocalcaneal fibres</strong>: It descends almost vertically to the entire length of the sustentaculum tali of Calcaneum.</li>\n<li><strong>Posterior tibiotalar</strong>: It passes posterolaterally to the medial side of the talus and its medial tubercle.</li>\n</ul>\n<p>The <strong>Deep fibres:</strong></p>\n<ul>\n<li><strong>Anterior tibiotalar:</strong> It passes from the tip of the medial malleolus to the non-articular part of the medial talar surface.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/328e3edf2c974aa9aad77a72395cc9c2x550x424.PNG"
    ]
  },
  {
    "text": "Maximum source of linoleic acid",
    "choices": [
      {
        "id": 1,
        "text": "Coconut oil"
      },
      {
        "id": 2,
        "text": "Sunflower oil"
      },
      {
        "id": 3,
        "text": "Palm oil"
      },
      {
        "id": 4,
        "text": "Ghee"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Sunflower oil and safflower oil are the rich sources of <strong>linoleic acid</strong>, an <strong>omega (&omega;)-6 fatty acid</strong>.</li>\n<li>Essential fatty acids are those that cannot be synthesized in the body, it should be <strong>supplied from the diet</strong>.</li>\n</ul>\n<p><strong>&omega;-3 fatty acids</strong>:</p>\n<ul>\n<li>Alpha linolenic acid.</li>\n<li>Eicosa-penta-enoic acid.</li>\n<li>Docosa hexanoic acid.</li>\n</ul>\n<p><strong>&omega; -6 fatty acids</strong>:</p>\n<ul>\n<li>Linoleic acid.</li>\n<li>Arachidonic acid.\n<ul>\n<li>Arachidonic acid is the <strong>precursor for synthesis</strong> of prostaglandins, leukotrienes and thromboxanes.</li>\n<li>In general &omega; -3 fatty acids are beneficial and <strong>low &omega; 6: &omega; 3 ratio shows prevention against cardiovascular diseases.</strong></li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Sulphur containing amino acid is",
    "choices": [
      {
        "id": 1,
        "text": "Cysteine"
      },
      {
        "id": 2,
        "text": "Asparagine"
      },
      {
        "id": 3,
        "text": "Glycine"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Cysteine is :</p>\n<p><strong>Sulphur containing nutritionally non-essential glucogenic amino acid</strong>.</p>\n<p>It is synthesized in the body <strong>from methionine</strong> as follows:</p>\n<ul>\n<li>Methionine following it conversion to <strong>homocysteine</strong>, combines with <strong>serine</strong> to form <strong>cystathione </strong>catalyzed by <strong>cystathionine beta synthase.</strong></li>\n<li><strong>Cystathionase cleaves cystathione to cysteine and homoserine.</strong></li>\n<li>The two molecules of cysteine combine to form <strong>Cystine.</strong></li>\n<li>There are many <strong>disorders</strong> associated with cystine metabolism which are as follows,\n<ul>\n<li><strong>Homocystinurias</strong> &ndash; Cystathionine beta synthase.</li>\n<li><strong>Cystine &ndash; lysinuria (cystinuria)</strong> &ndash; defect in renal absorption of cystine, lysine, arginine, ornithine.</li>\n<li><strong>Cystinosis </strong>&ndash; defective carrier mediated transport of cystine leading to accumulation of cystine in the cells.</li>\n</ul>\n</li>\n</ul>\n<p>The studies shows <strong>elevated</strong> <strong>homocysteine levels</strong> is a risk factor for <strong>cardiovascular disease</strong>, but the cause is unknown.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Protein is purified using ammonium sulfate by",
    "choices": [
      {
        "id": 1,
        "text": "Mass chromatography"
      },
      {
        "id": 2,
        "text": "Molecular size exclusion"
      },
      {
        "id": 3,
        "text": "Salting out"
      },
      {
        "id": 4,
        "text": "Ion exchange chromatography"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Purification of proteins is an essential process <strong>employed to isolate proteins of interest from a complex mixture.</strong></p>\n<p>It can be accomplished by many ways as follows.</p>\n<ul>\n<li><strong>Salting out</strong> &ndash; Protein can be precipitated out by concentrated salt solutions like ammonium sulphate, this is called as salting out process.</li>\n<li><strong>Chromatography:</strong> Process of separating the protein <strong>based on its differential distribution</strong> between a mobile phase and stationary phase.</li>\n</ul>\n<p>&nbsp;It can be done by many methods:</p>\n<ol>\n<li><strong>Size exclusion</strong> &ndash; based on the size of the molecule, also known as molecular sieving.</li>\n<li><strong>Ion exchange</strong> &ndash; based on the charge of the molecule.</li>\n<li><strong>Thin layer/ paper chromatography.</strong></li>\n<li><strong>Affinity chromatography.</strong></li>\n</ol>\n<ul>\n<li><strong>Mass spectrometry</strong> &ndash; proteins can be separated based on the mass to charge ratio, considered as the specific method.</li>\n<li>Protein purification plays an important role in <strong>proteomics.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Breath sounds are decreased in following except",
    "choices": [
      {
        "id": 1,
        "text": "Lobar pneumonia"
      },
      {
        "id": 2,
        "text": "Pneumothorax"
      },
      {
        "id": 3,
        "text": "Pleural effusion"
      },
      {
        "id": 4,
        "text": "Atelectasis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Breath sounds decrease in conditions like:</p>\n<ul>\n<li>Pleural effusion.</li>\n<li>Empyema.</li>\n<li>Pneumothorax.</li>\n<li>Thickened pleura.</li>\n<li>Edematous chest wall.</li>\n<li>Malignant infiltration of chest wall.</li>\n<li>Respiratory muscle paralysis.</li>\n<li>Atelectasis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "FNAC doesn\u2019t help in the diagnosis of",
    "choices": [
      {
        "id": 1,
        "text": "Follicular Carcinoma"
      },
      {
        "id": 2,
        "text": "Papillary Carcinoma"
      },
      {
        "id": 3,
        "text": "Graves disease"
      },
      {
        "id": 4,
        "text": "Adenomatous goitre"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>To diagnose follicular carcinoma, one must demonstrate <strong>capsular / vascular invasion</strong> which can&rsquo;t be commented on FNAC.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The fundoscopic picture shown below is seen in",
    "choices": [
      {
        "id": 1,
        "text": "CRAO"
      },
      {
        "id": 2,
        "text": "CRVO"
      },
      {
        "id": 3,
        "text": "BRVO"
      },
      {
        "id": 4,
        "text": "BRAO"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The slide shows <strong>cherry red spot</strong> which is a feature of <strong>CRAO</strong>.</p>\n<p><strong>Central retinal artery occlusion:</strong></p>\n<p><strong>Risk factors</strong> are:</p>\n<ul>\n<li>Heart disease.</li>\n<li>Carotid artery disease.</li>\n<li>Mucormycosis.</li>\n<li>Varicella infection.</li>\n<li>Radiation exposure.</li>\n<li>Trauma.</li>\n</ul>\n<p><strong>Clinical features </strong>are:</p>\n<ul>\n<li><strong>Sudden painless</strong> loss of vision.</li>\n<li>Severe edema- whole retina <strong>looks white</strong> in colour.</li>\n<li>Marked attenuation of arteries &ndash; thread like arteries.</li>\n<li>Interrupted blood flow in vein &ndash; <strong>cattle track</strong> appearance.</li>\n<li><strong>Cherry red spots.</strong></li>\n</ul>\n<p><strong>Cherry red spots are also seen in :</strong></p>\n<ul>\n<li>Berlin&rsquo;s edema.</li>\n<li>CRAO.</li>\n<li>Tay Sach&rsquo;s.</li>\n<li>Neimann Pick.</li>\n<li>Gauchers.</li>\n</ul>\n<p><strong>Treatment:</strong></p>\n<ul>\n<li>Dislodge the emboli by suddenly decreasing the IOP by I/V Acetazolamide or ocular massage.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7dc7d93dc604494a869716fc78784797.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 16-year-old girl presents with acne conglobata. What is the treatment of choice for this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Isotretinoin"
      },
      {
        "id": 2,
        "text": "Benzoyl peroxide"
      },
      {
        "id": 3,
        "text": "Doxycycline"
      },
      {
        "id": 4,
        "text": "Finastride"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Acne conglobata </strong>is a severe form of<strong> nodulocystic acne</strong> and <strong>isotretinoin</strong> is the <strong>treatment of choice</strong>.&nbsp;</p>\n<p>Acne conglobata typically presents with <strong>tender, disfiguring, interconnecting comedones</strong>, cysts, inflammatory nodules, and deep burrowing abscesses which may be located on the <strong>face, torso, or limbs</strong>.</p>\n<p>Acne Treatment :</p>\n<ul>\n<li><strong>Elimination of comedones</strong> by normalization of follicular keratinization,</li>\n<li><strong>Decreasing sebaceous gland activity</strong>,</li>\n<li>Decreasing the population of P. acnes, and decreasing inflammation.</li>\n</ul>\n<p><strong>Minimal to moderate</strong></p>\n<ul>\n<li>Adequately to local therapy alone.</li>\n<li><strong>Topical agents</strong> such as retinoic acid, benzoyl peroxide, or salicylic acid.</li>\n<li><strong>Topical antibacterial agents </strong>such as<strong> azelaic acid, topical erythromycin, </strong>or<strong> clindamycin.</strong></li>\n</ul>\n<p><strong>Moderate to severe acne </strong></p>\n<ul>\n<li><strong>Systemic therapy</strong>, such as doxycycline, 100 mg bid.</li>\n<li><strong>Minocycline </strong>is also useful.</li>\n</ul>\n<p><strong>Severe nodulocystic acne</strong></p>\n<ul>\n<li><strong>Synthetic retinoid isotretinoin.&nbsp;</strong></li>\n<li>Severe adverse events such as <strong>teratogenicity</strong>.</li>\n<li>In addition, patients receiving this medication develop extremely dry skin and cheilitis and must be followed for the development of hypertriglyceridemia.</li>\n<li>Recently, there have also been concerns that isotretinoin is associated with <strong>severe depression in some patients.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Most common site of hypertensive bleed in brain is",
    "choices": [
      {
        "id": 1,
        "text": "Basal ganglia"
      },
      {
        "id": 2,
        "text": "Cerebellum"
      },
      {
        "id": 3,
        "text": "Pons"
      },
      {
        "id": 4,
        "text": "Thalamus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Basal ganglia and putamen in particular is the most common cause of hypertensive bleed.<strong> Hypertension is the most common cause of intracerebral haemorrhages.</strong> According to the typical locations of ICH in order of decreasing frequency:</p>\n<ul>\n<li><strong>Basal ganglia haemorrhage (especially the</strong> <strong>putamen</strong>).</li>\n<li>Thalamic haemorrhage.</li>\n<li>Pontine haemorrhage.</li>\n<li>Cerebellar haemorrhage.</li>\n</ul>\n<p><strong>Non contrast CT</strong> is the investigation of choice in stroke.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a village the prevalence of a disease is half of the population. Among the diseased population, half are tested positive for a screening test. Among the normal population , half are tested negative for the screening test. All of the following are true about the screening test except",
    "choices": [
      {
        "id": 1,
        "text": "Positive predictive value is the same as Negative predictive value"
      },
      {
        "id": 2,
        "text": "Sensitivity of the test is higher than specificity"
      },
      {
        "id": 3,
        "text": "Specificity of the test is 50 %"
      },
      {
        "id": 4,
        "text": "Positive likelihood ratio is 1:1"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Explanation :</p>\n<p>Lets assume population to be 100.</p>\n<p>Prevalence is 50%.</p>\n<p>Cases = 50.</p>\n<p>Normal = 50.</p>\n<p><strong>Sensitivity </strong>&nbsp;=&nbsp; a / a + b&nbsp; =&nbsp; <strong>50%.</strong></p>\n<p><strong>Specificity </strong>&nbsp;= d / d + c =&nbsp; <strong>50%.</strong></p>\n<p><strong>Positive Predictive Value</strong> = a / a + c <strong>= 50%.</strong></p>\n<p><strong>Negative Predictive Value </strong>= d / d +&nbsp; b = <strong>50%.</strong></p>\n<p><strong>Positive Likelihood ratio</strong>&nbsp;&nbsp; = Sensitivity&nbsp; /&nbsp; 1- Specificity</p>\n<p style=\"padding-left: 30px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;= 0.5&nbsp; / (1&nbsp; -&nbsp; 0.5)</p>\n<p style=\"padding-left: 60px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>= 1 : 1</strong></p>\n<table style=\"height: 143px; width: 582px;\">\n<tbody>\n<tr>\n<td style=\"width: 115px;\">&nbsp;</td>\n<td style=\"width: 105px;\"><strong>Disease</strong></td>\n<td style=\"width: 110px;\">&nbsp;</td>\n<td style=\"width: 110px;\">&nbsp;</td>\n<td style=\"width: 110px;\"><strong>Total</strong></td>\n</tr>\n<tr>\n<td style=\"width: 115px;\"><strong>Screening test</strong></td>\n<td style=\"width: 105px;\">&nbsp;</td>\n<td style=\"width: 110px;\">Positive</td>\n<td style=\"width: 110px;\">Negetive</td>\n<td style=\"width: 110px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 115px;\">&nbsp;</td>\n<td style=\"width: 105px;\">Positive</td>\n<td style=\"width: 110px;\">25(a)</td>\n<td style=\"width: 110px;\">25(c)</td>\n<td style=\"width: 110px;\">50</td>\n</tr>\n<tr>\n<td style=\"width: 115px;\">&nbsp;</td>\n<td style=\"width: 105px;\">Negetive</td>\n<td style=\"width: 110px;\">25(b)</td>\n<td style=\"width: 110px;\">25(d)</td>\n<td style=\"width: 110px;\">50</td>\n</tr>\n<tr>\n<td style=\"width: 115px;\"><strong>Total</strong></td>\n<td style=\"width: 105px;\">&nbsp;</td>\n<td style=\"width: 110px;\">50</td>\n<td style=\"width: 110px;\">50</td>\n<td style=\"width: 110px;\">&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The histological picture of schwannoma shows",
    "choices": [
      {
        "id": 1,
        "text": "Spindle cells"
      },
      {
        "id": 2,
        "text": "Storiform pattern"
      },
      {
        "id": 3,
        "text": "Antoni A and B"
      },
      {
        "id": 4,
        "text": "Bundles"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Schwannoma (neurilemoma)</strong> is one of the few truly <strong>encapsulated</strong> neoplasms of the human body and is almost always <strong>solitary</strong> (unless seen as a component of Recklinghausen disease type 2).</p>\n<p>HPE :</p>\n<ul>\n<li>Two different patterns usually can be recognized, designated by <strong>Antoni as A and B.</strong></li>\n<li><strong>The type A areas</strong>, which in small tumors comprise almost their entirety, are quite <strong>cellular</strong>, composed of <strong>spindle cells</strong> often arranged in a <strong>palisading</strong> fashion or in an organoid arrangement <strong>(Verocay bodies).</strong></li>\n<li>In <strong>type B areas</strong> the tumor cells are separated by <strong>abundant edematous fluid that may form cystic spaces.</strong></li>\n<li>Occasionally, isolated cells with <strong>bizarre hyperchromatic nuclei</strong> are observed particularly common in so-called ancient schwannomas and are of no particular significance.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/529427bf7ff94f1585441a332d5135c5.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Electrical alternans in ECG is characteristic of",
    "choices": [
      {
        "id": 1,
        "text": "Severe bronchial asthma"
      },
      {
        "id": 2,
        "text": "Pericardial effusion"
      },
      {
        "id": 3,
        "text": "Severe LVF"
      },
      {
        "id": 4,
        "text": "AR"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li data-listid=\"12\" data-aria-posinset=\"1\" data-aria-level=\"1\"><strong>Total electrical alternans (P-QRS-T) </strong>with sinus tachycardia is a relatively specific sign of <strong>pericardial effusion,&nbsp;&nbsp;</strong>usually with<strong> cardiac tamponade.&nbsp;</strong></li>\n</ul>\n<p>&nbsp;&nbsp;</p>\n<ul>\n<li data-listid=\"12\" data-aria-posinset=\"2\" data-aria-level=\"1\">The mechanism relates to&nbsp;a <strong>periodic swinging motion of the heart in the effusion at a frequency exactly</strong> <strong>one-half the heart rate.&nbsp;&nbsp;</strong>&nbsp;</li>\n</ul>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/65d418ed7cda42df89678cd3cba61272x1280x615.JPEG"
    ]
  },
  {
    "text": "In Kawasaki disease, the following manifestation appears at:",
    "choices": [
      {
        "id": 1,
        "text": "4-6 weeks"
      },
      {
        "id": 2,
        "text": "2-4 weeks"
      },
      {
        "id": 3,
        "text": "1- 2 weeks"
      },
      {
        "id": 4,
        "text": "After 6 weeks"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image shows <strong>desquamation of skin </strong>from fingers and toes. Desquamation of skin from fingers and toes occurs in the&nbsp;<strong>subacute phase (2 &ndash; 4 weeks) </strong>of Kawasaki disease.</p>\n<table style=\"width: 325px; height: 313px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 104.205px;\"><strong>Clinical phase of Kawasaki disease</strong></td>\n<td style=\"width: 68.75px;\"><strong>Duration</strong></td>\n<td style=\"width: 130.568px;\"><strong>Clinical feature</strong></td>\n</tr>\n<tr>\n<td style=\"width: 104.205px;\">Acute febrile phase</td>\n<td style=\"width: 68.75px;\">1-2 weeks</td>\n<td style=\"width: 130.568px;\">Fever, erythema</td>\n</tr>\n<tr>\n<td style=\"width: 104.205px;\">Subacute</td>\n<td style=\"width: 68.75px;\">2-4 weeks</td>\n<td style=\"width: 130.568px;\">Desquamation and peeling of fingers and toes onset of coronary artery aneurysm<br />High risk of sudden death</td>\n</tr>\n<tr>\n<td style=\"width: 104.205px;\">Convalescence</td>\n<td style=\"width: 68.75px;\">6-8 weeks</td>\n<td style=\"width: 130.568px;\">Recovery</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/dca3f2f9a1ce44b6bd881bf5d5f97520.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 25 year old male presented with a 2 cm thyroid nodule. A thyroidectomy was done. The histology picture is given below. What could be the diagnosis",
    "choices": [
      {
        "id": 1,
        "text": "Papillary Carcinoma thyroid"
      },
      {
        "id": 2,
        "text": "Follicular adenoma"
      },
      {
        "id": 3,
        "text": "Graves disease"
      },
      {
        "id": 4,
        "text": "Adenomatous goitre"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Microscopic Features of Papillary carcinoma of&nbsp; thyroid.</strong></p>\n<ul>\n<li>Complex, branching, <strong>randomly oriented papillae</strong> with fibrovascular cores associated with follicles.</li>\n<li>Usually <strong>dense fibrosis</strong>.</li>\n<li>Papillae lined by cuboidal cells.</li>\n<li>Nuclei are overlapping with finely dispersed optically <strong>clear chromatin</strong> (also called ground-glass).</li>\n<li><strong>Orphan-Annie nuclei.</strong></li>\n<li>Micronucleoli, eosinophilic intranuclear inclusions (represent cytoplasmic invaginations) and nuclear longitudinal grooves (represent folding of redundant nuclear membrane, but nonspecific).</li>\n<li><strong>Stromal elastosis</strong> in 66% - often lymphatic invasion.</li>\n<li><strong>Psammoma bodies.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/acdafb358ad84d1f8bd7e8b82b2c9431.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old roofer presents to his primary care physician complaining of dyspnea and chronic dry cough. Frontal chest radiograph shows bilateral calcified pleural plaques. The most likely diagnosis is",
    "choices": [
      {
        "id": 1,
        "text": "Asbestosis"
      },
      {
        "id": 2,
        "text": "Anthracosis"
      },
      {
        "id": 3,
        "text": "Berylliosis"
      },
      {
        "id": 4,
        "text": "Byssinossis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Asbestos is a generic term for several different <strong>mineral silicates</strong>, including</p>\n<ul>\n<li>Chrysolite.</li>\n<li>Amosite.</li>\n<li>Anthophyllite.</li>\n<li>Crocidolite.</li>\n</ul>\n<p>Asbestosis leads to:</p>\n<ul>\n<li>Fibrosis.</li>\n<li>Pleural disease.</li>\n<li>Lung cancer.</li>\n<li>Mesothelioma.</li>\n</ul>\n<p>Asbestosis is a <strong>diffuse interstitial fibrosing disease of the lung that is directly related to the intensity and duration of exposure. </strong>The disease resembles other forms of diffuse interstitial fibrosis.</p>\n<p><strong>Pathogenesis:</strong></p>\n<p>Involves <strong>oxidative injury</strong> due to the generation of reactive oxygen species by the transition metals on the surface of the fibers as well as from cells engaged in phagocytosis.</p>\n<p><strong>Chest radiograph</strong></p>\n<ul>\n<li>Either thickening or <strong>calcification along the parietal pleura</strong>, particularly along the lower lung fields, the diaphragm, and the cardiac border.</li>\n<li>An indistinct heart border or a \"<strong>ground-glass\" appearance</strong> in the lung fields is seen in some cases.</li>\n<li><strong>Lung cancer</strong> is the most common cancer associated with asbestos exposure.</li>\n<li>The excess frequency of lung cancer (all histologic types) in asbestos workers is associated with a <strong>minimum latency of 15&ndash;19 years.</strong></li>\n<li><strong>Mesotheliomas</strong> both pleural and peritoneal, are also associated with asbestos exposure</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/ea27f382e24b4494908427853744a85dx580x371.PNG"
    ]
  },
  {
    "text": "Shortest acting muscle relaxant is",
    "choices": [
      {
        "id": 1,
        "text": "Mivacurium"
      },
      {
        "id": 2,
        "text": "Pancuronium"
      },
      {
        "id": 3,
        "text": "Atracurium"
      },
      {
        "id": 4,
        "text": "Vecuronium"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Mivacurium is the shortest acting competitive blocker</strong>.</p>\n<ul>\n<li>It does not need reversal. It can be used as an alternative to Succinylcholine for endotracheal intubation.</li>\n<li>It is<strong> metabolized rapidly by plasma cholinesterase</strong>. Prolonged paralysis can occur in pseudocholinesterase deficiency.</li>\n<li>Mivacurium is the only non-depolarizing (competitive) blocker that is metabolized by plasma cholinesterase (pseudocholinesterase).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly woman comes to the hospital with tense bulla with itchiness. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Bullous pemphigoid"
      },
      {
        "id": 2,
        "text": "Pemphigus vulgaris"
      },
      {
        "id": 3,
        "text": "IgA disease"
      },
      {
        "id": 4,
        "text": "Psoriasis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Bullous pemphigoid:</strong></p>\n<ul>\n<li>It is a <strong>chronic, inflammatory, subepidermal</strong>, blistering disease.</li>\n<li>If untreated, it can persist for months or years, with periods of spontaneous remissions and exacerbations.</li>\n<li>The disease can be <strong>fatal</strong>, particularly in patients who are debilitated.</li>\n</ul>\n<p>Bullous pemphigoid may present with several distinct clinical presentations, as follows:</p>\n<p><strong>Generalized bullous form:</strong></p>\n<p>The most common presentation; tense bullae arise on any part of the skin surface, with a predilection for the flexural areas of the skin.</p>\n<p><strong>Vesicular form:</strong></p>\n<p>Less common than the generalized bullous type. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>\n<p>Manifests as groups of small, tense blisters, often on an urticarial/erythematous base.</p>\n<ul>\n<li><strong>Vegetative form</strong></li>\n<li><strong>Generalized erythroderma form</strong></li>\n<li><strong>Urticarial form</strong></li>\n<li><strong>Nodular form</strong></li>\n<li><strong>Acral form</strong></li>\n<li><strong>Infant form</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://daily-rounds-staging.s3.amazonaws.com/uploads/d95c56843227496681fdf3ec826f0641.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Triangle of auscultation is formed by all EXCEPT",
    "choices": [
      {
        "id": 1,
        "text": "Scapula"
      },
      {
        "id": 2,
        "text": "Latisimus Dorsi"
      },
      {
        "id": 3,
        "text": "Trapizeus"
      },
      {
        "id": 4,
        "text": "Serratus anterior"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>&nbsp;Serratus anterior does not form the triangle of auscultation.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b51d406a6b2d4231b32ae858e64003b8x589x511.PNG"
    ]
  },
  {
    "text": "Direct bronchoscopy can visualize all except",
    "choices": [
      {
        "id": 1,
        "text": "First segmental divsion of bronchi"
      },
      {
        "id": 2,
        "text": "Subcarinal lymph nodes"
      },
      {
        "id": 3,
        "text": "Trachea"
      },
      {
        "id": 4,
        "text": "Vocal cords"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Direct bronchoscopy is of two types &ndash;</p>\n<p>Flexible -&nbsp;visualizes:</p>\n<ul>\n<li>Nose</li>\n<li>Supraglottis</li>\n<li>Glottis</li>\n<li>Trachea</li>\n<li>Segmental and subsegmental bronchi in both the lungs</li>\n</ul>\n<p>Rigid - rigid bronchoscope visualises:</p>\n<ul>\n<li>Glottis ( vocal cords )</li>\n<li>Trachea</li>\n<li>Segmental bronchi</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Attitude of the leg in femoral shaft fracture",
    "choices": [
      {
        "id": 1,
        "text": "FABER"
      },
      {
        "id": 2,
        "text": "FADIR"
      },
      {
        "id": 3,
        "text": "Straight"
      },
      {
        "id": 4,
        "text": "A and C"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In femoral shaft fracture, the Limb is in <strong>F</strong>lexion, <strong>Ab</strong>duction, <strong>E</strong>xternal <strong>R</strong>otation.(FABER)</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/9f8e80f33ffa40f2885c90e9e449a64dx628x160.JPEG"
    ]
  },
  {
    "text": "Patella dislocation is prevented by",
    "choices": [
      {
        "id": 1,
        "text": "Vastus medialis"
      },
      {
        "id": 2,
        "text": "Vastus lateralis"
      },
      {
        "id": 3,
        "text": "Vastus intermedius"
      },
      {
        "id": 4,
        "text": "Rectus femoris"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Patella dislocation is more commonly on the lateral side, and it is<strong> stabilized by vastus medialis</strong>.</p>\n<p>Vastus lateralis pulls laterally to the frontal plane of the femur at an angle of 7 to 10 degrees.</p>\n<p>Vastus medialis is divided into two parts:</p>\n<ul>\n<li>Vastus medialis longus (with its muscle fibers pulling at 15 to 18 degrees medially).</li>\n<li>Vastus medialis obliquus (with its muscle fibers pulling at a relatively horizontal 50 to 55 degrees medially).</li>\n</ul>\n<p>The primary function of Vastus Medialis Obliquus muscle is to stabilize the patella against the lateral pull of Vastus Lateralis, making <strong>Vastus Medialis Obliqus the dynamic stabilizer of the Patella.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Nevoid Basal Cell Carcinoma Syndrome is a familial syndrome due to mutation of gene",
    "choices": [
      {
        "id": 1,
        "text": "CDH1"
      },
      {
        "id": 2,
        "text": "hMLH1"
      },
      {
        "id": 3,
        "text": "PTCH"
      },
      {
        "id": 4,
        "text": "SMAD4/DPC4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li><strong>PTCH1 is a tumor suppressor gene located on chromosome&nbsp;9q22</strong> that encodes a cell membrane protein called PATCHED1. PATCHED proteins are <strong>negative regulators of the Hedgehog signaling pathway.</strong></li>\n<li>In the absence of PATCHED proteins, there is unopposed Hedgehog signaling that increases the expression of a number of pro-growth genes.</li>\n<li>Germline loss-of-function mutations in PTCH1 cause <strong>Gorlin syndrome, an inherited autosomal dominant condition also known as nevoid basal cell carcinoma&nbsp; syndrome </strong>associated with a high risk of basal cell carcinoma and medulloblastoma.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Cancers are commonly associated with",
    "choices": [
      {
        "id": 1,
        "text": "Demethylation of oncogenes"
      },
      {
        "id": 2,
        "text": "Loss of heterozygosis"
      },
      {
        "id": 3,
        "text": "Hypermethylation of tumor suppressor genes"
      },
      {
        "id": 4,
        "text": "Mutation of introns"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Epigenetics</strong> concerns reversible, heritable changes in gene expression that occur without mutation.</p>\n<p>It has become evident during the past few years that certain tumor suppressor genes may be inactivated, not because of structural changes, but because <strong>the gene is silenced by hypermethylation of promoter sequences.</strong></p>\n<p>Examples:</p>\n<ul>\n<li><strong>p14ARF</strong> is silenced in colon and stomach cancers, and</li>\n<li><strong>p16INK4a</strong> is silenced in various types of cancers, &nbsp; &nbsp; &nbsp;</li>\n<li><strong>BRCA1</strong> in breast cancer,</li>\n<li><strong>VHL</strong> in renal cell cancer,</li>\n<li>The <strong>MLH1 mismatch repair</strong> gene in colorectal cancer are frequently silenced by methylation of the promoter.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40 year old female patient presented to the OPD with this lesion in the left breast. What is the most probable diagnosis",
    "choices": [
      {
        "id": 1,
        "text": "DCIS"
      },
      {
        "id": 2,
        "text": "LCIS"
      },
      {
        "id": 3,
        "text": "Peau-d\u2019orange"
      },
      {
        "id": 4,
        "text": "Paget\u2019s disease of nipple"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>Paget's disease of the nipple is a<strong> super\ufb01cial manifestation of an underlying breast carcinoma.</strong> It <strong>presents as an eczema-like condition</strong> of the nipple and areola, which persists despite local treatment. The nipple is eroded slowly and eventually disappears.</li>\n<li><strong>Nipple eczema should be biopsied if there is any doubt about its cause.</strong> Eczema tends to occur in younger people who have signs of eczema elsewhere (antecubital fossae).</li>\n<li>Microscopically, Paget&rsquo;s disease is characterised by the presence of <strong>large, ovoid cells with abundant, clear, pale-staining cytoplasm called the Paget's cells</strong> in the Malpighian layer of the epidermis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/526eca0c03344aeda1c685a3df593be5.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/91382059d2414b7aa8b3a6fa6e684d6ax1280x937.JPEG"
    ]
  },
  {
    "text": "Identify the crystal depicted in urine microscopy",
    "choices": [
      {
        "id": 1,
        "text": "Oxalate crystals"
      },
      {
        "id": 2,
        "text": "Struvite crystals"
      },
      {
        "id": 3,
        "text": "Cystine crystal"
      },
      {
        "id": 4,
        "text": "Uric acid crystals"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image of urine microscopy shows <strong>coffin lid like crystals </strong>which are characteristic of&nbsp;<strong>struvite crystals.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1e7abc07933d476c9c6f59b32d481423.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Image of X ray chest of a 42 year old male is given below. Which of the following statement is incorrect about this condition",
    "choices": [
      {
        "id": 1,
        "text": "Most common benign tumour of lung"
      },
      {
        "id": 2,
        "text": "More common in females"
      },
      {
        "id": 3,
        "text": "Usually peripheral"
      },
      {
        "id": 4,
        "text": "Grow slowly"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>The image shows <strong>popcorn calcification </strong>which is <strong>diagnostic of Pulmonary Hamartoma </strong>and it is more common in males. &nbsp;</li>\n<li>Pulmonary Hamartoma is the <strong>most common benign tumor of the lung </strong>and it is manifested by overgrowth of connective tissue mainly cartilage. Pulmonary hamartoma is typically seen in 40-60 year old ,<strong> more commonly found in males and it is seen as an incidental finding.</strong></li>\n<li>It is usually <strong>present peripherally and has slow growth in the lung.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1d2066ac4fa44d018fb5375af358b8e1.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The nucleus involved in Papez circuit is",
    "choices": [
      {
        "id": 1,
        "text": "VPL nucleus"
      },
      {
        "id": 2,
        "text": "Anterior nucleus of Thalamus"
      },
      {
        "id": 3,
        "text": "Pulvinar nucleus"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The<strong> anterior thalamic nucleus</strong> projects to the cingulate gyrus in prefrontal lobe and from here the <strong>connections to the hippocampus complete a complex closed circuit described as the Papez circuit.</strong></p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1f7f7abb19eb43dd8eb3f896720d87bax730x600.PNG"
    ]
  },
  {
    "text": "Most important extracellular buffer is",
    "choices": [
      {
        "id": 1,
        "text": "Hemoglobin"
      },
      {
        "id": 2,
        "text": "Plasma proteins"
      },
      {
        "id": 3,
        "text": "Bicarbonate"
      },
      {
        "id": 4,
        "text": "Phosphate"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>The bicarbonate buffer system is the most important extracellular buffer.</li>\n<li>Proteins are among the most plentiful buffers in the body because of their high concentrations, especially within the cells.</li>\n<li>Buffer : Buffer is a substance that can reversibly bind hydrogen ions.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young frequent traveller presented with pain abdomen, diarrhoea and fever which is gradually increasing in a step latter pattern over past 2 weeks. Blood culture reveals gram negative, motile, non lactose fermenting bacilli. Most likely diagnosis is",
    "choices": [
      {
        "id": 1,
        "text": "Enteric fever"
      },
      {
        "id": 2,
        "text": "Brucella"
      },
      {
        "id": 3,
        "text": "Shigella"
      },
      {
        "id": 4,
        "text": "Q fever"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>History is suggestive of typhoid fever/enteric fever(step ladder type of fever). Causative organism is Salmonella typhi &ndash; gram negative bacilli, motile with peritrichous flagella and it is a non lactose fermenter.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/10d64704387744b2b17ada44e610a611x279x220.PNG",
      "https://cdn1.dailyrounds.org/uploads/4e582d4f077b4b09b584a33351d9033fx304x217.PNG",
      "https://cdn1.dailyrounds.org/uploads/0f2e9caa8ca541b78577727c6b18f447x770x382.JPEG"
    ]
  },
  {
    "text": "Which of the following organisms doesn't have cyst form in human body",
    "choices": [
      {
        "id": 1,
        "text": "Giardia"
      },
      {
        "id": 2,
        "text": "Entamoeba"
      },
      {
        "id": 3,
        "text": "Trichomonas"
      },
      {
        "id": 4,
        "text": "Toxoplasma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Trichomonas exists only in trophozoite form which is pear shaped with 5 flagella and an undulating membrane. Cystic stage is not seen. &nbsp;</p>\n<p>Trichomonas is a flagellate and has 3 species:</p>\n<ul>\n<li>Trichomonas vaginalis &ndash; found in vagina and urethra</li>\n<li>Trichomonas tenax - found in mouth</li>\n<li>Trichomonas hominis &ndash; found in large intestine (caecum)</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9d56cf2cf5824d389591a4688dc4c195x795x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a662cb73096544cdbc68ebf77dc3336cx435x495.GIF"
    ]
  },
  {
    "text": "Which of the following is true regarding arboviruses",
    "choices": [
      {
        "id": 1,
        "text": "Yellow fever is endemic in India"
      },
      {
        "id": 2,
        "text": "Mosquito of culex vishnoi complex is  the vector of dengue fever"
      },
      {
        "id": 3,
        "text": "Dengue virus has only one serotype"
      },
      {
        "id": 4,
        "text": "Kyasanur forest disease is transmitted by ticks"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Kyasanur forest disease is a haemorrhagic fever</strong> caused by a <strong>flavivirus</strong> and transmitted by the bite of ticks, principal vector being <strong>Haemaphysalis spinigera</strong>.</p>\n<ul>\n<li><strong>Option a:</strong> <strong>Yellow fever is not found in India</strong> though it forms an important receiving area with large population of Aedes aegypti and non immune humans.</li>\n<li><strong>Option b</strong>: <strong>Aedes aegypti is the vector of dengue fever.</strong></li>\n<li><strong>Option c: Dengue virus has 4 serotypes</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drug doesn\u2019t need therapeutic drug monitoring?",
    "choices": [
      {
        "id": 1,
        "text": "Phenytoin"
      },
      {
        "id": 2,
        "text": "Lithium"
      },
      {
        "id": 3,
        "text": "Metformin"
      },
      {
        "id": 4,
        "text": "Tacrolimus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Therapeutic drug monitoring is not done for drugs whose effect can be easily measured like antidiabetic drugs (effect can be measured by monitoring blood glucose levels, antihypertensives (effect can be measured by monitoring BP).</p>\n<p>Therapeutic blood monitoring refers to a process where the plasma concentration of drug is measured and its dose is adjusted accordingly. It is mainly <strong>done for:</strong></p>\n<ul>\n<li>Drugs which <strong>exhibit good correlation between serum level and drug response or toxicity.</strong></li>\n<li>Drugs having <strong>wide variation in pharmacokinetics </strong>both intra and inter individual.</li>\n<li>Drugs having <strong>low therapeutic index like digitalis, lithium, antiepileptics, antiarrhythmics, TCAs etc.</strong></li>\n</ul>\n<p>It is <strong>not done for:</strong></p>\n<ul>\n<li>&nbsp;Drugs whose <strong>effect can be easily measured like antidiabetics, antihypertensive, anticoagulants.</strong>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</li>\n<li>&nbsp;Drugs which are <strong>activated in the body or produce active metabolites</strong>. &nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a selective alpha 2 agonist",
    "choices": [
      {
        "id": 1,
        "text": "Clonidine"
      },
      {
        "id": 2,
        "text": "Prasozin"
      },
      {
        "id": 3,
        "text": "Adrenaline"
      },
      {
        "id": 4,
        "text": "Propranolol"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Clonidine is a selective alpha 2</strong> <strong>agonist.</strong></p>\n<ul>\n<li data-canvas-width=\"308.54475295402347\">Clonidine is an imidazoline derivative having complex actions.</li>\n<li data-canvas-width=\"308.54475295402347\">Clonidine is a partial agonist with high affinity and high intrinsic activity at&nbsp;&alpha;2 receptors, especially&nbsp;&alpha;2A subtype in the brainstem.</li>\n<li data-canvas-width=\"56.45429937825882\">The major haemodynamic effects result&nbsp;from<strong> stimulation&nbsp;of &alpha;2A receptors</strong> present&nbsp;mainly post-junctionally&nbsp;in the medulla (vasomotor centre).This decreases sympathetic outflow &rarr;<strong> fall&nbsp;in BP&nbsp;and bradycardia. &nbsp;</strong></li>\n<li data-canvas-width=\"56.45429937825882\">Enhanced vagal&nbsp;tone contributes&nbsp;to bradycardia.</li>\n<li data-canvas-width=\"56.45429937825882\">Plasma NA&nbsp;declines. Though&nbsp;clonidine is capable of reducing&nbsp;NA release&nbsp;from peripheral adrenergic nerve&nbsp;endings (release inhibitory prejunctional &alpha;<sub>2</sub>&nbsp;action),&nbsp;this does not manifest at clinically used doses.&nbsp;&nbsp;</li>\n<li data-canvas-width=\"56.45429937825882\">Clonidine is&nbsp;a moderately potent antihypertensive.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The half life of Amiodarone is",
    "choices": [
      {
        "id": 1,
        "text": "3-8 minutes"
      },
      {
        "id": 2,
        "text": "3-8 hour"
      },
      {
        "id": 3,
        "text": "3-8 weeks"
      },
      {
        "id": 4,
        "text": "2 weeks"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Amiodarone is the <strong>longest acting anti-arrhythmic drug. Its half life is 3-8 weeks</strong>.</p>\n<ul>\n<li>Amiodarone is a class III antiarrhythmic drug.</li>\n<li>It has widest spectrum of action &ndash; Sodium channel blockade, &beta; blockade, potassium channel blockade, and calcium channel blockade.</li>\n<li>It is incompletely and slowly absorbed from the g.i.t.</li>\n<li>On daily oral ingestion the action develops over several days, even weeks. However, on i.v. injection, action develops rapidly. &nbsp;</li>\n<li>It accumulates in muscle and fat from which it is slowly released and then metabolized in liver mainly by CYP3A4. One metabolite is active.</li>\n<li>The duration of action is exceptionally long; t&frac12; 3&ndash;8 weeks.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Name the Rho kinase inhibitor",
    "choices": [
      {
        "id": 1,
        "text": "Fasudil"
      },
      {
        "id": 2,
        "text": "Ranolazine"
      },
      {
        "id": 3,
        "text": "Amiodarone"
      },
      {
        "id": 4,
        "text": "Amiloride"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Fasudil is a Rho kinase inhibitor.</p>\n<ul>\n<li>The Rho kinases (ROCK) comprise a <strong>family of enzymes that inhibit vascular relaxation and diverse functions (contraction, migration, gene expression etc) of several other cell types</strong>.</li>\n<li><strong>Excessive activity</strong> of these enzymes has been<strong> implicated in coronary spasm, pulmonary hypertension, apoptosis, and other conditions</strong>. Drugs targeting the enzyme have therefore been sought for possible clinical applications.</li>\n<li>Fasudil is an inhibitor of smooth muscle Rho kinase and <strong>reduces coronary vasospasm</strong> in experimental animals. In clinical trials in patients with CAD, it has improved performance in stress tests.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Mc Naughten rule is concerned with",
    "choices": [
      {
        "id": 1,
        "text": "Rape"
      },
      {
        "id": 2,
        "text": "Head injury"
      },
      {
        "id": 3,
        "text": "Criminal responsibility"
      },
      {
        "id": 4,
        "text": "Homicide"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li><strong>Mc Naughten rule </strong>states that, if at the time of committing an act, person is of unsound mind and he is not able to understand the nature and quality of the act he is doing, he cannot be held criminally responsible for such an act.</li>\n<li>In India, the law of <strong>Criminal responsibility </strong>is under <strong>Section 84 I.P.C.</strong></li>\n<li>The other rules which describes the legal responsibility of insane are:\n<ul>\n<li>Durham rule</li>\n<li>Curren&rsquo;s rule</li>\n<li>The Irresistible Impulse Test</li>\n<li>Federal rule or American Law Institute test (ALT)</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Punishment for infanticide comes under",
    "choices": [
      {
        "id": 1,
        "text": "IPC 102"
      },
      {
        "id": 2,
        "text": "IPC 302"
      },
      {
        "id": 3,
        "text": "IPC 304"
      },
      {
        "id": 4,
        "text": "IPC 306"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In India, infanticide is considered as murder and punishment is given under section 302 IPC.</p>\n<ul>\n<li><strong>Option C:</strong> IPC 304 &ndash; Punishment for culpable homicide not amounting to murder.</li>\n<li><strong>Option D:</strong> IPC 306 &ndash; Punishment for abetment of suicide.</li>\n<li>Other relevant sections:\n<ul>\n<li>Section 317 IPC &ndash; Abandoning the foetus.</li>\n<li>Section 318 IPC &ndash; Concealment of birth.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a Schneider\u2019s first rank symptom",
    "choices": [
      {
        "id": 1,
        "text": "Persecutory delusion"
      },
      {
        "id": 2,
        "text": "Voices commenting on action"
      },
      {
        "id": 3,
        "text": "Delusion of guilt"
      },
      {
        "id": 4,
        "text": "Incoherence"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Voices commenting on actions i.e. Auditory hallucination is one of the Schneider's first rank symptoms.</p>\n<div data-canvas-width=\"9.948237647058823\">\u00a0</div>\n<div data-canvas-width=\"263.3432440016469\">\u00a0</div>\n<div data-canvas-width=\"263.3432440016469\">Schneider's first rank symptoms of schizophrenia are:</div>\n<ul>\n<li>Audible thoughts</li>\n<li>Voice arguing (referring to patient in third person)</li>\n<li>Voices commenting on one's actions</li>\n<li>Thought insertion</li>\n<li>Thought withdrawal</li>\n<li>Thought broadcasting</li>\n<li>Made volition</li>\n<li>Made affect</li>\n<li>Made feelings</li>\n<li>Somatic passivity</li>\n<li>Delusional perception</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is used for recording very low air velocity",
    "choices": [
      {
        "id": 1,
        "text": "Globe thermometer"
      },
      {
        "id": 2,
        "text": "Kata thermometer"
      },
      {
        "id": 3,
        "text": "Anemometer"
      },
      {
        "id": 4,
        "text": "Sling psychrometer"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Kata Thermometer</strong> is quiet sensitive to <strong>slight air movements </strong>as low as 10 feet per minute and hence used to <strong>record low air velocity.</strong></p>\n<ul>\n<li>Usually air velocity is measured by an instrument called <strong>anemometer.</strong></li>\n<li>The <strong>velocity of the wind</strong> is indicated on a counter called the <strong>cyclometer</strong>, placed in the anemometer box.&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The mode of inheritance of Duchenne muscular dystrophy is",
    "choices": [
      {
        "id": 1,
        "text": "Ausomal dominant"
      },
      {
        "id": 2,
        "text": "Autosomal recessive"
      },
      {
        "id": 3,
        "text": "X-linked dominant"
      },
      {
        "id": 4,
        "text": "X-linked recessive"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>Duchenne muscular dystrophy is the <strong>most common neuromuscular</strong> disease affecting all races and ethnic groups.</li>\n<li>Inherited as <strong>X-linked recessive trait.</strong></li>\n<li>The abnormal gene for DMD is at <strong>xp21 locus which is one of the LARGEST GENE.</strong></li>\n</ul>\n<table style=\"height: 190px;\" width=\"458\">\n<tbody>\n<tr>\n<td style=\"width: 220px;\"><strong>Disease</strong></td>\n<td style=\"width: 222px;\"><strong>Mode of inheritence</strong></td>\n</tr>\n<tr>\n<td style=\"width: 220px;\">Duchenne muscular distrophy</td>\n<td style=\"width: 222px;\">X linked recessive</td>\n</tr>\n<tr>\n<td style=\"width: 220px;\">Becker muscular distrophy</td>\n<td style=\"width: 222px;\">X linked recessive</td>\n</tr>\n<tr>\n<td style=\"width: 220px;\">Myotonia congenita</td>\n<td style=\"width: 222px;\">Autosomal dominant</td>\n</tr>\n<tr>\n<td style=\"width: 220px;\">Emery Dreifuss syndrome</td>\n<td style=\"width: 222px;\">X linked recessive&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Cyclopropagative type of life cycle is seen in",
    "choices": [
      {
        "id": 1,
        "text": "Scrub Typhus"
      },
      {
        "id": 2,
        "text": "Filarial"
      },
      {
        "id": 3,
        "text": "Malaria"
      },
      {
        "id": 4,
        "text": "Plague"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Malaria shows cyclopropogative type of transmission. \u00a0</p>\n<table border=\"1\">\n<tbody>\n<tr>\n<td><strong>Disease</strong></td>\n<td><strong>Transmission</strong></td>\n</tr>\n<tr>\n<td>Scrub typhus</td>\n<td>Transovarian transmission- agent transmitted vertically from infected female to her progeny in vector</td>\n</tr>\n<tr>\n<td>Filaria</td>\n<td>Cyclodevelopmental transmission- Microfilaria in mosquito</td>\n</tr>\n<tr>\n<td>Malaria</td>\n<td>Cyclopropagative transmission- Plasmodium in mosquito</td>\n</tr>\n<tr>\n<td>Plague</td>\n<td>Propagative transmission- Plague bacilli in rat flea</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>\n<table border=\"1\">\n<tbody>\n<tr>\n<td><strong>Methods of biological transmission</strong></td>\n<td><strong>Explanation</strong></td>\n</tr>\n<tr>\n<td>Cyclodevelopmental</td>\n<td>A part of life cycle is completed in the vector<br />E.g. W. bancrofti in culex</td>\n</tr>\n<tr>\n<td>Cyclopropagative</td>\n<td>Undergoes development as well as multiplication<br />E.g.Plasmodium in mosquito</td>\n</tr>\n<tr>\n<td>Propagative</td>\n<td>Simply grows and multiply<br />Eg. Yersinia pestisin rat flea &amp; all bacterial , viral, rickettsial diseases</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The Edinburgh Scale is a measure of",
    "choices": [
      {
        "id": 1,
        "text": "Fetal hypoxia"
      },
      {
        "id": 2,
        "text": "Respiratory depression in newborn"
      },
      {
        "id": 3,
        "text": "Neurodevelopmental competency of an infant"
      },
      {
        "id": 4,
        "text": "Post-partum depression"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>The Edinburgh Postnatal Depression Scale (EPDS) is a questionnaire designed to <strong>detect postpartum depression.</strong> PPD may present in the first week or up to 6 months after delivery. &nbsp;</li>\n<li>The <strong>Newborn Behavior Assessment Scale (NBAS)</strong> is used as a measure of the <strong>neurodevelopmental competency </strong>of an infant.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Paris green mainly kills",
    "choices": [
      {
        "id": 1,
        "text": "Anopheles larva only"
      },
      {
        "id": 2,
        "text": "Culex larva only"
      },
      {
        "id": 3,
        "text": "Anopheles adult mosquito"
      },
      {
        "id": 4,
        "text": "Culex adult mosquito"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Paris green mainly kills Anopheles larvae only.</strong></p>\n<ul>\n<li>It is a <strong>stomach poison</strong>, used as a <strong>larvicidal</strong> agent.</li>\n<li>It mainly kills Anopheles larvae as they are <strong>surface feeders.</strong></li>\n<li>When applied in special granule formation, bottom feeding larvae can also be killed.</li>\n<li>Dose&nbsp; - <strong>1</strong> kg per hectare of water surface.</li>\n<li>Applied as <strong>2% dust.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The most common route of spread in hepatitis E is",
    "choices": [
      {
        "id": 1,
        "text": "Blood transfusion"
      },
      {
        "id": 2,
        "text": "Feco-oral"
      },
      {
        "id": 3,
        "text": "Intercourse"
      },
      {
        "id": 4,
        "text": "IV injection"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li><strong>MC: feco oral route</strong>( contaminated water).</li>\n<li>As it is restricted to humans, <strong>source is human faeces</strong>.</li>\n<li>Vertical transmission is possible.</li>\n<li>Person to person transmission is uncommon.</li>\n<li>Incubation period: 2-10 days.</li>\n<li>HEV virus is <strong>detected in faeces</strong> 1 week before symptoms.</li>\n<li><strong>Viremia and faecal shedding</strong> persist for 2 and 4 weeks after illness respectively.</li>\n<li><strong>Lab:</strong> leukopenia, relative lymphocytosis<strong>, elevated alkaline phosphatase.</strong></li>\n<li><strong>Self limited illness</strong>, fulminant hepatic failure only in pregnant females(upto 22%). Diagnosis is by <strong>HEV RNA</strong> in stool and IgM anti HEV in serum.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Treatment of choice of a 28 weeks pregnant female with pain due to fibroid of fundus of size 10 x 10 cm is?",
    "choices": [
      {
        "id": 1,
        "text": "Arterial embolization"
      },
      {
        "id": 2,
        "text": "Hysterectomy"
      },
      {
        "id": 3,
        "text": "Myomectomy"
      },
      {
        "id": 4,
        "text": "Conservative"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical situation suggests a case of <strong>red degeneration of fibroid </strong>complicating pregnancy. Red degeneration is <strong>conservatively </strong>treated.</p>\n<p><strong>Management of fibroid during pregnancy.</strong></p>\n<ul>\n<li>During <strong>pregnancy</strong>, <strong>surgery is contraindicated</strong>, except in the case of a <strong>pedunculated fibroid if it undergoes torsion.</strong>&nbsp;</li>\n<li><strong>Acute retention of urine</strong> is treated by <strong>continuous catheterization</strong> for 48&ndash;72 h, when the growing uterus rises above the pelvic brim.</li>\n<li><strong>Red degeneration</strong> merits <strong>conservative treatment.</strong>\n<ul>\n<li><strong>Bed rest</strong></li>\n<li><strong>Analgesics </strong></li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During ovulation, which of the following is released from ovary following rupture of mature Graafian follicles",
    "choices": [
      {
        "id": 1,
        "text": "Primary oocyte"
      },
      {
        "id": 2,
        "text": "Secondary oocyte"
      },
      {
        "id": 3,
        "text": "Second polar body"
      },
      {
        "id": 4,
        "text": "Ovum"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Ovulation is the process by which a secondary oocyte is released from the Graafian follicle.</p>\n<ul>\n<li>With each Ovarian cycle, a number of follicles begin to develop, but usually, only one reaches full maturity.</li>\n<li>When the secondary follicle is mature, a <strong>surge in luteinizing hormone (LH)</strong> induces the <strong>preovulatory growth phase</strong>. <strong>Meiosis I is completed</strong>, resulting in formation of two daughter cells of unequal size, each with 23 double-structured chromosomes. One cell, the <strong>secondary oocyte</strong>, receives most of the cytoplasm; the other, the<strong> first polar body,</strong> receives practically none.</li>\n<li>The cell then enters meiosis II but <strong>arrests in metaphase II</strong> approximately 3 hours before ovulation. <strong>Meiosis II is completed only if the oocyte is fertilized,</strong> otherwise the cell degenerates approximately 24 hours after ovulation.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which is not a part of the quadruple test for Down\u2019s syndrome during 2nd trimester screening",
    "choices": [
      {
        "id": 1,
        "text": "AFP"
      },
      {
        "id": 2,
        "text": "Estriol"
      },
      {
        "id": 3,
        "text": "Anticholinestrase"
      },
      {
        "id": 4,
        "text": "Beta HCG"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Quadruple test (QUAD) includes:</strong></p>\n<ul>\n<li>Maternal Serum Alpha Fetoprotein (<strong>MSAFP</strong>)</li>\n<li>Unconjugated estriol (<strong>uE3</strong>)</li>\n<li>Dimeric<strong> inhibin</strong>-A</li>\n<li><strong>hCG</strong></li>\n</ul>\n<p><strong> Quad screen can detect trisomy 21 in 85% of cases. </strong></p>\n<p><strong>Levels of serum analytes in cases with trisomy 21:</strong></p>\n<ul>\n<li><strong>hCG\u2014<strong>increased</strong> </strong></li>\n<li><strong><strong>uE3\u2014reduced</strong></strong></li>\n<li><strong><strong>inhibin A\u2014<strong>elevated</strong></strong></strong></li>\n<li><strong><strong><strong>MSAFP\u2014reduced </strong></strong></strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Chorioretinitis sclopetaria is seen in which of the following",
    "choices": [
      {
        "id": 1,
        "text": "Bullet injury to the eyeball"
      },
      {
        "id": 2,
        "text": "Cytomegalovirus"
      },
      {
        "id": 3,
        "text": "Tuberculosis"
      },
      {
        "id": 4,
        "text": "Toxoplasmosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Chorioretinitis sclopetaria</strong> is an eye injury in which a <strong>firearm projectile (bullet)</strong> passes nearby the globe without perforating it, causing damage to the <strong>retina and choroid</strong>. <strong>Features :</strong></p>\n<ul>\n<li>Also called as <strong>proliferative plastic chorioretinitis</strong> or <strong>proliferative lagrange chorioretinitis.</strong></li>\n<li>May be associated with commotio retinae.</li>\n<li>Can progress to <strong>vitreous haemorrhage or retinal detachment.</strong> &nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e22af63e6f8a470581b8a007cd612c13x449x376.PNG"
    ]
  },
  {
    "text": "For a face to pubis delivery to occur from a right occipito-posterior position, the head needs to rotate by",
    "choices": [
      {
        "id": 1,
        "text": "1/8 th of a circle anteriorly"
      },
      {
        "id": 2,
        "text": "3/8 th of a circle anteriorly"
      },
      {
        "id": 3,
        "text": "Non-rotation"
      },
      {
        "id": 4,
        "text": "1/8 th of a circle posteriorly"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Face to pubis delivery occurs after a <strong>short or 1/8<sup>th</sup>\u00a0posterior rotation</strong> of head from an occipito-posterior position.</p>\n<p>The head moves 1/8th of circle in opposite direction of internal rotation thus turning the face to look towards the mother's left thigh (ROP)</p>\n<div class=\"page\" title=\"Page 462\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>In approximately 20 percent of labors, the fetus enters the pel- vis in an occiput posterior (OP) position. The right occiput posterior (ROP) is slightly more common than the left in LOP.</p>\n</div>\n</div>\n</div>\n</div>\n<p><strong>Other kinds of rotation :</strong></p>\n<ul>\n<li>Option A : Short anterior 1/8<sup>th</sup> of circle \u2013 results in a deep transverse arrest (DTA).</li>\n<li>Option B : Long anterior 3/8<sup>th</sup> of circle \u2013 results in normal delivery.</li>\n<li>Option C : Non rotation \u2013If no rotation toward the symphysis takes place, the occiput may remain in the direct occiput posterior position, a condition known as <strong>persistent occiput posterior,</strong><br />resulting in an obstructed delivery.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Implantation theory of endometriosis was given by",
    "choices": [
      {
        "id": 1,
        "text": "Meyer and ivanoff"
      },
      {
        "id": 2,
        "text": "Sampson"
      },
      {
        "id": 3,
        "text": "Halban et.al"
      },
      {
        "id": 4,
        "text": "Rokitansky"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Implantation theory </strong>of endometriosis was<strong> first</strong> given by<strong> Sampson.</strong></p>\n<p><strong>Other options :</strong></p>\n<ul>\n<li><strong>Option A. Mayer and Ivanoff\u00a0 - Theory of\u00a0 Coelomic metaplasia.</strong></li>\n<li><strong> <strong>Option C.</strong> Halban et.al\u00a0 - Metastatic theory.</strong></li>\n<li><strong> <strong>Option D. </strong>- Carl von rokitansky \u2013 first described Endometriosis.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'M6 - July Mini Test -1';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2017-18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>