<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>075 Microbiology Neet 2024 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Microbiology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">24</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the following is used for syndromic diagnosis of infected cases like meningitis?",
    "choices": [
      {
        "id": 1,
        "text": "Real time PCR"
      },
      {
        "id": 2,
        "text": "Nested PCR"
      },
      {
        "id": 3,
        "text": "Reverse transcriptase PCR"
      },
      {
        "id": 4,
        "text": "Multiplex PCR"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Multiplex PCR</strong> can be used for syndromic diagnosis of meningitis.</p>\n<p>A<strong> syndromic diagnosis </strong>is a method of <strong>diagnosing infectious diseases</strong> that uses a <strong>single test </strong>to screen for<strong> multiple pathogens</strong> that could be causing a <strong>specific set </strong>of <strong>symptoms.\u00a0</strong></p>\n<p><strong>Multiplex PCR</strong> (Polymerase Chain Reaction) is a variation of the standard PCR technique that allows <strong>simultaneous amplification</strong> of <strong>multiple target sequences</strong> in a <strong>single reaction.</strong> It uses more than one set of primers (specific to different target sequences) to <strong>amplify different DNA fragments</strong> at the same time.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Real-time PCR</strong> helps quantify the PCR and gives an estimate of the pathogen DNA load in the specimen. It uses fluorescent dyes or specific DNA probes. It is also known as qPCR (Quantitative PCR).</p>\n<p>Option B<strong>: Nested PCR</strong>\u00a0involves the sequential use of two primer sets. The first primer set is used for amplification and the amplicon obtained is then used as a target sequence for second amplification. This ensures specificity. Used in GeneXpert to detect Mycobacterium TB and resistance to rifampicin.</p>\n<p>Option C<strong>: Reverse transcriptase PCR</strong>: The enzyme reverse transcriptase (RT) is used to synthesize a complimentary copy of DNA (cDNA) from RNA and this cDNA is then used as a template for PCR. Unlike conventional PCR which can only amplify DNA, this one can even amplify RNA. It is used to detect H1N1 from Nasopharyngeal swab.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient receiving chemotherapy develops pneumonia with skin lesions. Microscopy of specimen from skin lesions showed broad based budding with a thick capsule. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Blastomycosis"
      },
      {
        "id": 2,
        "text": "Histoplasmosis"
      },
      {
        "id": 3,
        "text": "Coccidioidomycosis"
      },
      {
        "id": 4,
        "text": "Candidiasis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Other options</p>\n<p>Option B: <strong>Histoplasmosis</strong> is caused by <em>Histoplasma capsulatum</em>. It has tiny oval yeast cells with <strong>narrow-based budding</strong> within the macrophages with an underlying granulomatous response. This is a <strong>dimorphic</strong> fungus that exists in the <strong>yeast</strong> form in body tissues and cultures maintained at 37\u00b0C, and in the<strong> filamentou</strong>s mould form in cultures at room temperature (25\u00b0C).</p>\n<p>Option C: <strong>Coccidiomycosis</strong> is caused by <em>Coccidioides immitis</em> which is a thermally <strong>dimorphic</strong> fungus. It occurs as a <strong>spherule</strong> in tissues and culture at 37\u00b0C and as the <strong>mycelial</strong> form in soil and culture at room temperature. They are endemic to the arid desert regions of the southwestern USA and California. Infection is acquired by <strong>inhaling</strong> dust containing arthrospores of the fungus.</p>\n<p>Option D: <strong>Candidiasis</strong> is caused by candida species which are <strong>yeast-like fungi</strong>. They exist as yeast and <strong>pseudohyphae</strong>. It appears as budding gram-positive cells on wet films and smears. Mycelial forms suggest colonization. Candida albicans form <strong>chlamydospores</strong> on corn meal agar.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/441c0e794587449cb99dd12d8b9938ee.JPEG"
    ]
  },
  {
    "text": "A 30-year-old man came to the OPD with a febrile illness of 2 days, associated with abdominal tenderness, malaise and diarrhoea. He had a fever with bradycardia and  BP was noted as 110/70 mmHg. He lives in a crowded neighborhood with poor sanitation where many others have reported similar complaints recently. Which of the following investigations would be the most appropriate choice for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Stool culture"
      },
      {
        "id": 2,
        "text": "Widal test"
      },
      {
        "id": 3,
        "text": "Urine culture"
      },
      {
        "id": 4,
        "text": "Blood culture"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>This patient's history of fever with <strong>relative bradycardia</strong>, abdominal tenderness, and similar cases in the neighbourhood suggests <strong>enteric fever</strong>. It is caused by <strong><em>Salmonella typhi</em></strong> or <strong><em>paratyphi</em></strong>. Out of the given options, blood culture is the most sensitive test in this patient.</p>\n<p>Diagnosis of enteric fever:</p>\n<p><strong>Blood culture</strong>: It is more <strong>sensitive during 1st week</strong> than in the subsequent weeks. It rapidly becomes negative on treatment with antibiotics.</p>\n<p><strong>Antibody testing</strong>: WIDAL test to detect rising titres of H and O agglutinins against <em>salmonella typhi</em> and <em>paratyphi</em>. Agglutinins appear by the end of the first week and rise steadily up to the 3rd or 4th week, after which they disappear.</p>\n<p><strong>Stool culture:</strong> It yields positive results from the 3rd week onwards.</p>\n<p><strong>Urine culture</strong>: Results may be positive after the 2nd week.</p>\n<p><strong>Bone marrow culture</strong>\u00a0remains positive for\u00a0<strong>5 days\u00a0</strong>even after the start of\u00a0<strong>antibiotics </strong>and is the most sensitive test in the first week<strong>. </strong>The culture of <strong>duodenal aspirate</strong> may yield positive results when bone marrow culture is inconclusive.</p>\n<p><strong>Relative bradycardia</strong>\u00a0is seen when patients have a lower heart rate than expected for a given rise in body temperature. (<strong>Faget's sign</strong>)</p>\n<p>Infectious causes of relative bradycardia include:\u00a0</p>\n<ul>\n<li><em>Salmonella typhi</em></li>\n<li><em>Francisella tularensis</em></li>\n<li><em>Coxiella burnetii </em>(Q fever)</li>\n<li><em>Leptospira interrogans</em></li>\n<li><em>Legionella pneumophila</em></li>\n<li><em>Rickettsia</em> spp.</li>\n</ul>\n<p>Noninfectious causes include:</p>\n<ul>\n<li>Drug fever\u2028</li>\n<li>Beta-blocker use\u2028</li>\n<li>Central nervous system lesions</li>\n<li>Malignant lymphoma</li>\n<li>Factitious fever</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child is brought with complaints of abdominal pain, diarrhoea and perianal itching for the last 3 days. The mother said she noticed a white thread-like structure in the child's night clothes. She collected the worm and brought it to the clinician. A perianal swab was collected. Microscopy of the swab and the worm are shown in the images. What is the likely causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Enterobius vermicularis"
      },
      {
        "id": 2,
        "text": "Ascaris lumbricoides"
      },
      {
        "id": 3,
        "text": "Ancylostoma duodenale"
      },
      {
        "id": 4,
        "text": "Strongyloides stercoralis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Option D: <em><strong>Strongyloides stercoralis</strong></em>\u00a0infection is by <strong>direct penetration</strong> of the skin by the filariform larva or by <strong>autoinfection</strong>. The larvae enter lay eggs in the small intestine mucosa. The eggs hatch and release <strong>rhabditiform larvae</strong> which pass through feces into the soil and start another cycle. <strong>External autoinfection</strong> occurs when the larvae <strong>penetrate</strong> the <strong>perianal skin</strong>. <strong>Internal autoinfection</strong> occurs in <strong>immunocompromised</strong> patients. Here, the larvae mature to the infective form in the bowel itself. Diagnosis is by demonstration of rhabditiform <strong>larvae</strong> in <strong>feces</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0ee2ce766b054853b926dd839ad7487a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0b56e96444d34cb08faad1983497a5c6x600x936.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/449cb5b8e393492fb36af5857924043dx1279x1309.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6f8fb1fc6d0842a4be7dee76372e2b38x965x886.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2943adb7c9ed4125a4b9609776f85ad5x965x754.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6136e716b3fa48939700bb0752035d98x965x808.JPEG"
    ]
  },
  {
    "text": "A male patient comes to you with a history of UTI, the cause of which is suspected to be bacteria. Which of the following is used by the bacteria for adherence?",
    "choices": [
      {
        "id": 1,
        "text": "Cytoplasmic membrane"
      },
      {
        "id": 2,
        "text": "Cilia"
      },
      {
        "id": 3,
        "text": "Fimbriae"
      },
      {
        "id": 4,
        "text": "Flagella"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p class=\"p1\"><strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Bacter</span></strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>ia</strong> utilise <strong>fimbriae</strong></span>\u00a0for <strong>adherence</strong>.</p>\n<p class=\"p1\">Fimbriae, also called\u00a0<strong>pili</strong>\u00a0are <strong>hair-like</strong> surface <strong>appendage</strong> that projects from the cell surface as straight filaments. Fimbriae are classified based on the function of <strong>ordinary\u00a0pili</strong> and <strong>sex pili</strong>.</p>\n<p class=\"p1\">Functions of <strong>pili</strong>:</p>\n<ul>\n<li class=\"p1\"><strong>Bacterial adhesion</strong>\u00a0of symbiotic and pathogenic bacteria to host cells using adhesins.</li>\n<li class=\"p1\"><strong>Resistance</strong>\u00a0to\u00a0<strong>phagocytosis.</strong></li>\n<li class=\"p1\">Antigenic pilin\u00a0proteins are responsible for the\u00a0<strong>immune response</strong>.</li>\n<li class=\"p1\"><strong>Twitching motility</strong>\u00a0to bacteria.</li>\n<li class=\"p1\"><strong>Bacterial conjugation</strong>\u00a0through <strong>sex pili</strong>, in which <strong>transfer </strong>of<strong> genetic material</strong> occurs.</li>\n</ul>\n<p>Other options:</p>\n<p>Option A: The <strong>cytoplasmic membrane</strong>, or plasma membrane, is a fundamental structure of all cells, including bacteria. It acts as a <strong>selective barrier</strong>, regulating the entry and exit of substances.</p>\n<p>Option B: In organisms like <strong>protozoa</strong>, <strong>cilia </strong>are used for <strong>locomotion</strong> and feeding. These organisms use their cilia to move through water and to sweep food particles towards their oral groove.</p>\n<p>Option D: <strong>Flagella</strong> are <strong>thread-like appendages</strong> composed of protein. They are the <strong>organs </strong>of<strong> locomotion</strong> but\u00a0<strong>motility via pili</strong> is completely <strong>different</strong> from<strong> flagellar motion</strong> because of the helical arrangement of pilin molecules.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A thalassemia patient has received multiple blood transfusions. Aplastic crisis can occur in this patient due to infection from?",
    "choices": [
      {
        "id": 1,
        "text": "Parvovirus"
      },
      {
        "id": 2,
        "text": "Epstein barr virus"
      },
      {
        "id": 3,
        "text": "Cytomegalovirus"
      },
      {
        "id": 4,
        "text": "Herpes simplex virus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Other options:</p>\n<p>Option B: <strong>Epstein Barr virus</strong> affects adolescents and younger adults more frequently but may occur from childhood to old age. It is transmitted primarily through close contact with <strong>oropharyngeal</strong> secretions. The incubation period of EBV infectious mononucleosis is <strong>4-6 weeks</strong>. Clinically, patients may present with, fever, malaise, nausea, anorexia, <strong>lymphadenopathy</strong>- bilateral and symmetrical, <strong>pharyngitis</strong>, <strong>tonsillar enlargement</strong>, <strong>hepatomegaly</strong> and <strong>splenomegaly</strong>. A <strong>drug-induced rash</strong> may develop on using <strong>beta-lactam</strong>. antibiotics.</p>\n<p>Option C: Cytomegalovirus causes <strong>mononucleosis</strong> in healthy individuals and disseminated diseases like <strong>leukopenia</strong>, <strong>hepatitis</strong>, <strong>colitis</strong>, <strong>pneumonitis</strong>, <strong>esophagitis</strong>, <strong>gastritis</strong>, and <strong>retinitis</strong> in immunocompromised patients.\u00a0</p>\n<p>Option D:\u00a0<strong>Herpes simplex virus</strong> type 1 which belongs to the subfamily alpha viruses causes Herpes labialis (also known as cold sores). HSV type 1 (human herpes virus type 1 or HHY type 1) is isolated from <strong>lesions</strong> in and around the mouth and is transmitted by <strong>direct contact</strong> or droplet spread from cases or carriers. The most common site is the <strong>face</strong>- around the <strong>mouth</strong>, on the <strong>cheeks</strong>, <strong>chin</strong>, or the forehead.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6513d0d404da41088952a64ad5d7619dx1120x1202.PNG"
    ]
  },
  {
    "text": "A 45-year-old farmer comes with complaints of high-grade fever with chills, retro-orbital pain and conjunctival suffusion. On examination, he has severe calf tenderness. Lab examination shows hypokalemia and neutropenia. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Chikungunya"
      },
      {
        "id": 2,
        "text": "Leptospirosis"
      },
      {
        "id": 3,
        "text": "Dengue"
      },
      {
        "id": 4,
        "text": "Malaria"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Treatment</strong> for leptospirosis is based on the severity of the disease. In <strong>mild </strong>cases, <strong>oral doxycycline, ampicillin</strong>, or <strong>amoxicillin</strong> is preferred and in <strong>severe</strong> cases, <strong>intravenous penicillin, ampicillin</strong>, or <strong>ceftriaxone</strong> is commonly used.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Chikungunya</strong> is a viral disease that presents with <strong>saddle-back fever</strong>, <strong>conjunctival suffusion</strong>, and photophobia. <strong>Migratory arthralgia</strong>, especially involving small joints may also be seen. A <strong>maculopapular</strong> or petechial rash is frequently seen on the <strong>trunk</strong>.</p>\n<p>Option C:<strong>\u00a0Dengue hemorrhagic fever</strong> is a form of severe dengue with bleeding manifestations. Evidence of plasma leakage and thrombocytopenia is also generally seen.\u00a0</p>\n<p>Option D: <strong>Malaria</strong> is a parasitic infection caused by the <em>Plasmodium</em> species transmitted by the <strong>Anopheles</strong> mosquito. It is characterized by many nonspecific symptoms, including but not limited to <strong>tachycardia</strong>, <strong>tachypnea</strong>, <strong>chills</strong>, <strong>malaise</strong>, <strong>fatigue</strong>, <strong>diaphoresis</strong> (sweating), and <strong>headache</strong>. The fever of malaria is characterized by <strong>periodicity</strong> depending on the infective Plasmodium species. The fever returns <strong>every other day</strong> for <em>Plasmodium</em> <em>vivax</em>, <em>Plasmodium</em> <em>ovale</em>, and <em>Plasmodium</em> <em>falciparum</em>, and every three days for<em> P. malariae.</em></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d86df8a5c3bb4a41b8abb36559dd1614x300x112.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d7e6caa2e76f4adc9e1305ffe7a4d4edx1280x1511.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8aea3b39ee2c4f3bb40dc67709c51de9x1279x1329.JPEG"
    ]
  },
  {
    "text": "A patient with a history of consumption of oysters comes with complaints of nausea, vomiting and crampy abdominal pain.  The culture of the organism showed the Kanagawa phenomenon. What is the causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Vibrio cholera"
      },
      {
        "id": 2,
        "text": "Salmonella typhi"
      },
      {
        "id": 3,
        "text": "Vibrio  parahemolyticus"
      },
      {
        "id": 4,
        "text": "E coli"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>On staining with <strong>Giemsa stain</strong> or methylene blue (Wayson's stain), the bacteria has <strong>bipolar staining</strong> with two ends densely stained and the central area clear. This is the characteristic '<strong>safety-pin appearance</strong>' seen in Vibrio parahemolyticus.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Vibrio cholerae</strong> is a <strong>facultative anaerobe</strong>, which produces <strong>yellow</strong>-colored colonies on thiosulfate citrate bile salts sucrose agar (<strong>TCBS</strong>). It is a selective and differential medium used for the culture of Vibrio species.</p>\n<p>Option B: <strong>Wilson and Blair's medium</strong> is selective for <strong>Salmonella</strong> species. It is a type of <strong>selective</strong> and indicator media. Salmonella typhi reduces sulphite to sulphide in the presence of glucose and produces <strong>jet-black colonies</strong> with a <strong>metallic sheen</strong> due to the production of H2S on Wilson and Blair bismuth sulphite medium.</p>\n<p>Option D: <strong>E. coli</strong> is a gram-negative, flagellated rod. It is the most frequent cause of acute complicated <strong>urinary tract infections</strong>. It is a <strong>lactose fermenter</strong> and hence, grows on <strong>MacConkey medium</strong> to produce pink colonies.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/077e59f8d38342989d5dfaf9fffd3cbex682x696.PNG"
    ]
  },
  {
    "text": "A man is having petechial rashes with a previous history of meningitis. He was vaccinated at the age of 5 years. Now, Brudzinski and Kernig's signs were positive. Microscopy showed gram negative diplococci. What is the likely causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Hemophilus influenzae"
      },
      {
        "id": 2,
        "text": "Neisseria Meningitidis"
      },
      {
        "id": 3,
        "text": "Cytomegalovirus"
      },
      {
        "id": 4,
        "text": "Klebsiella"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical vignette is suggestive of <strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">fulminant\u00a0</strong><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">meningococcemia</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">. The organism causing this condition is </span><em><strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Neisseria</span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> meningitidis.</span></strong></em></p>\n<p><em>Neisseria meningitidis</em> is an <strong>aerobic, gram-negative, nonmotile diplococcus</strong> that is <strong>catalase</strong> and <strong>oxidase-positive.</strong> It <strong>oxidizes glucose</strong> and <strong>maltose</strong> but not lactose or sucrose. The bacteria typically spread from the <strong>nasopharynx</strong> to the <strong>meninges</strong> via the <strong>perineural sheath</strong> of the<strong> olfactory nerve</strong> following an initial flu-like infection.</p>\n<p><strong>Meningococcemia</strong> often starts with <strong>acute fever, chills, malaise,</strong> and a <strong>petechial rash</strong>. As the disease advances, symptoms of meningitis, such as severe headache, vomiting, photophobia, confusion, and a stiff neck, may develop, potentially progressing to<strong> coma </strong>within a few hours. In its <strong>fulminant</strong> form, meningococcemia presents with <strong>high fever</strong> and a <strong>hemorrhagic rash </strong>and can lead to severe complications like <strong>disseminated intravascular coagulation, circulatory collapse</strong>, and <strong>Waterhouse-Friderichsen syndrome</strong>, characterized by <strong>bilateral adrenal gland necrosis</strong> and <strong>subsequent adrenal failure</strong>.</p>\n<p>Meningitis can <strong>rapidly progress</strong> to <strong>fulminant meningococcemia</strong>, evolving from acute illness to severe disease in hours. <strong>Classic meningitis</strong> symptoms include <strong>fever, headache, neck stiffness</strong>, and <strong>decreased consciousness</strong>. <strong>Nuchal rigidity,</strong> along with <strong>Kernig\u2019s </strong>and<strong> Brudzinski\u2019s signs</strong>, may indicate meningeal irritation, though their sensitivity can vary. <strong>Seizures</strong>, occurring in 15-40% of patients, may result from complications like <strong>raised intracranial pressure</strong>, leading to severe outcomes such as cerebral herniation. The rash associated with meningococcemia evolves quickly from a <strong>diffuse maculopapular</strong> appearance to petechiae on the trunk, extremities, mucous membranes, and sometimes palms and soles.</p>\n<div class=\"page\" title=\"Page 307\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><span class=\"st\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Other options:</span></p>\n<p><span class=\"st\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Option A: <strong><em>Haemophilus</em> <em>influenzae</em></strong> is a <strong>gram-negative</strong>, <strong>non-motile</strong>, and <strong>non-sporing</strong> coccobacillus. H.influenzae causes <strong>meningitis</strong>, a potentially fatal disease that is <strong>most common</strong> in <strong>children</strong> of two months to 3 years old. It also causes laryngo-epiglottitis, pneumonia, suppurative lesions, and bronchitis.</span></p>\n<p><span class=\"st\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Option C: <strong>Cytomegalovirus</strong> infection is the most common congenital infection. The clinical manifestations are <strong>hepatosplenomegaly</strong>, <strong>petechial rashes</strong>, <strong>jaundice</strong>, <strong>chorioretinitis</strong>, and <strong>microcephaly</strong>. One of the long-term sequelae is sensorineural hearing loss</span></p>\n<p><span class=\"st\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">\u00a0Option D: <strong>Klebsiella</strong> pneumonia causes fatal <strong>pneumonia</strong>, which occurs in middle-aged or older persons with risk factors such as alcoholism, chronic bronchopulmonary disease or diabetes mellitus. Gram stain and culture are used for diagnosis.\u00a0</span></p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient who has a central line on long-term IV antibiotics develops a fever. Blood cultures show Staphylococcus epidermidis along with biofilm formation. Which of the following describes its features of antibiotic resistance?",
    "choices": [
      {
        "id": 1,
        "text": "Biofilm increased susceptibility to antibiotics"
      },
      {
        "id": 2,
        "text": "Biofilm offers resistance so catheter is to be removed"
      },
      {
        "id": 3,
        "text": "Biofilm does not affect susceptibility to antibiotics"
      },
      {
        "id": 4,
        "text": "Biofilm can be washed off from the catheter"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In a patient with a <strong>central line</strong> on <strong>long-term IV antibiotics</strong> along with culture showing <strong>biofilm</strong> formation, the correct measure is to remove the catheter as biofilm offers<strong> resistance.</strong></p>\n<p><strong>Biofilms</strong> are structured microcolonies of organisms that are enclosed in a self-produced <strong>glycocalyx matrix</strong>. Bacteria within biofilms are usually metabolically <strong>less active</strong>.</p>\n<p><strong>Biofilms\u00a0</strong>are aggregates of bacteria that are enclosed in an <span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>exopolysaccharide</strong> matrix that is produced by there bacteria itself. The biofilms are attached to solid surfaces and form a <strong>slimy layer</strong> over them. Organisms that produce biofilm include:</span></p>\n<ul>\n<li><strong>Staphylococcus epidermidis</strong> on medical devices and implants</li>\n<li><strong>Streptococcus viridians</strong> on heart valves</li>\n<li><strong>Pseudomonas aeruginosa</strong> lung infections</li>\n<li>Staphylococcus aureus on catheters</li>\n<li>Legionella pneumophila colonization of hospital water systems</li>\n</ul>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">The exopolysaccharide helps in protection against the host's immunity. It acts <strong>diffusion barrier</strong> for antimicrobials and makes the organism relatively <strong>insusceptible</strong> to drug action(Option A and C). </span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Bacteria embedded in biofilms frequently become <strong>metabolically less active</strong> or dormant. It is thus harder to eradicate these organisms with antibiotics.</span></p>\n<div class=\"page\" title=\"Page 393\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 2\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>These bacteria within biofilms also produce small molecules, such as <strong>homoserine lactones</strong>. These molecules are taken up by adjacent bacteria and function as a communication system called<strong> Quorum Sensing</strong>\u00a0and help turn on certain genes at a particular time.</p>\n<p><strong>Domboro's solution</strong>, containing <strong>0.25% acetic acid</strong>, helps <strong>prevent biofilm formation</strong> but is not effective at removing established biofilm. Biofilm, once established, <strong>adheres strongly</strong> to surfaces and is resistant to simple washing or flushing(option D). More aggressive methods, such as <strong>mechanical debridement </strong>or specialized treatments, are required to remove it.\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Laboratory investigations in a patient with desert rheumatism showed dimorphic and thermal fungi with arthrospores. What is the causative organism of desert rheumatism?",
    "choices": [
      {
        "id": 1,
        "text": "Histoplasma capsulatum"
      },
      {
        "id": 2,
        "text": "Paracoccidioides brasiliensis"
      },
      {
        "id": 3,
        "text": "Blastomyces dermatitidis"
      },
      {
        "id": 4,
        "text": "Coccidioides immitis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Other options</p>\n<p>Option A: <strong>Histoplasma</strong> causes <strong>histoplasmosis</strong>/ <strong>Darling's disease</strong>/ <strong>reticuloendotheliosis</strong>. It has tiny oval <strong>yeast</strong> cells with <strong>narrow-based budding</strong> within the macrophages with an underlying granulomatous response. This is a <strong>dimorphic</strong> fungus that exists in the yeast form in body tissues and cultures maintained at 37\u00b0C, and in the filamentous mould form in cultures at room temperature (25\u00b0C).\u00a0</p>\n<p>Option B: <strong>Paracoccidioidomycosis</strong>, also known as <strong>Brazilian blastomycosis</strong>, <strong>South American blastomycosis,Lutz-Splendore-de Almeida disease</strong> and <strong>paracoccidioidal</strong> <strong>granuloma</strong>, is a fungal infection caused by the fungus Paracoccidioides brasiliensis.\u00a0</p>\n<p>Option C: <strong>Blastomycosis</strong> is a chronic infection caused by a <strong>dimorphic</strong> fungus called <strong>Blastomyces dermatitidis</strong>. It is characterized by the formation of suppurative and granulomatous lesions in the lungs and skin. It is most common in North America and is also called <strong>North American Blastomycosis</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/759a8494fcd7474db80f9eb916018f2ex700x473.JPEG"
    ]
  },
  {
    "text": "A farmer from South East India presents with fever, respiratory distress and neurological deficits. The vector of the causative organism is shown below. what is the associated organism?",
    "choices": [
      {
        "id": 1,
        "text": "Ebola virus"
      },
      {
        "id": 2,
        "text": "Zika virus"
      },
      {
        "id": 3,
        "text": "Malaria"
      },
      {
        "id": 4,
        "text": "Nipah virus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Other options</p>\n<p>Option A: <strong>Ebola virus</strong> belongs to the family Filoviridae and is transmitted by African fruit bats. Human-to-human transmission through blood or body fluids can occur. It causes <strong>fever, abdominal pain, diarrhoea, and haemorrhage</strong></p>\n<p>Option B: <strong>Zika virus</strong> is transmitted to human beings by the bite of an infected Aedes mosquito. It can also be transmitted trans-placentally, causing <strong>microcephaly</strong> and other <strong>severe fetal brain defects</strong>.</p>\n<p>Option C: <strong>Malaria</strong> is a parasitic infection caused by the plasmodium species and is transmitted by the female anopheles mosquito. Symptoms include <strong>fever, chills, and myalgia</strong> with periodicity differing for each species. The fever returns every two days for P. ovale, P. vivax, and P. falciparum and every <strong>three</strong> <strong>days</strong> for <strong>P. malariae.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e261983483e8448b8faae48d51a535c6.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2a1283ae8d794dfab9ab1f1508cdf977x720x1440.JPEG"
    ]
  },
  {
    "text": "A 21-year-old female complains of fever, headache and vomiting from the past 3 days. She has been living in the army recruitment camp for the last three weeks. On examination, she has neck stiffness and a maculopapular rash was noted over the trunk and extremities. Which of the following is false about the disease she's likely suffering from?",
    "choices": [
      {
        "id": 1,
        "text": "Carriers of this disease can be treated with Rifampicin"
      },
      {
        "id": 2,
        "text": "It can lead to adrenal hemorrhage"
      },
      {
        "id": 3,
        "text": "Terminal complement deficiency increases the risk of this disease"
      },
      {
        "id": 4,
        "text": "Metronidazole is the drug of choice"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical features are suggestive of <strong>meningococcal meningitis</strong> and <strong>metronidazole</strong> is <strong>not</strong> the drug of choice. The <strong>drug of choice </strong>is<strong>\u00a0</strong>a third-generation cephalosporin such as <strong>ceftriaxone</strong>. Chloramphenicol is used in patients with penicillin allergy.\u00a0</p>\n<p>It is caused by <em>Neisseria meningitidis</em>, a gram-negative, oxidase-positive, catalase-positive diplococci. <strong>Outbreaks</strong> usually occur in <strong>mass gatherings</strong> such as in army camps or hostel dorms.</p>\n<p>The <strong>risk</strong> of infection is <strong>increased</strong> in patients with <strong>terminal complement deficiency</strong>, hypogammaglobulinemia and hyposplenism. This is because opsonization by complement is a major mechanism by which the bacteria is cleared from the blood.</p>\n<p>Characteristic clinical findings include:</p>\n<ul>\n<li style=\"font-weight: 400;\"><strong>Maculopapular</strong> or purpuric <strong>rash</strong></li>\n<li style=\"font-weight: 400;\">Shock due to capillary leak</li>\n<li style=\"font-weight: 400;\">Bilateral<strong> adrenal hemorrhage</strong> (Waterhouse\u2013Friderichsen syndrome)</li>\n</ul>\n<p><strong>Rifampicin</strong>, ciprofloxacin and cephalosporins can be used to <strong>treat carriers</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young sexually active female presented with a symptomatic UTI. Urinalysis and cultures showed novobiocin-resistant coagulase negative staphylococcus with a count of 10^4 cells/HPF. What is true about this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Asymptomatic bacteriuria"
      },
      {
        "id": 2,
        "text": "Test must be repeated with a fresh specimen"
      },
      {
        "id": 3,
        "text": "Diagnose and treat as urinary tract infection"
      },
      {
        "id": 4,
        "text": "Normal skin commensal grown on culture that needed to proved"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A young sexually active female presenting with a <strong>symptomatic UTI</strong> and <strong>urinalysis</strong> and <strong>cultures</strong> showing <strong>novobiocin-resistant coagulase-negative staphylococcus</strong> with a count of <strong>10^4 cells/HPF</strong> should be <strong>diagnosed</strong> as a urinary tract infection and should be <strong>treated</strong>.</p>\n<p>Staphylococcus saprophyticus is a <strong>gram-positive</strong>, <strong>coagulase-negative</strong> staphylococcus. It is <strong>non-pigmented</strong>, <strong>novobiocin resistant</strong>, and <strong>non-hemolytic</strong> on blood agar. It is a leading cause of <strong>cystitis</strong> in women. It is a part of the <strong>normal flora of human skin</strong> and periurethral area and thus causes cystitis in sexually active women.\u00a0</p>\n<p>Other options</p>\n<p>Option A: A colony count of <strong>&gt;10^5/mL</strong> of a clean catch sample is considered significant bacteriuria with <strong>no clinical symptoms</strong> of UTI. In men, a count of 100,000 CFU/ml is sufficient to diagnose a UTI, while for women a UTI is diagnosed when the count is 100,000 CFU/ml in two consecutive midstream urine samples.</p>\n<p>Option B: As the patient already has symptoms of UTI and the culture is showing a significant count <strong>redoing</strong> the test is <strong>not required</strong>.</p>\n<p>Option D: Though staphylococcus saprophyticus is a normal commensal of skin since the patient already has symptomatic UTI with a proven culture,it need not be proved again.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A group of hostel boys consumed hamburgers from a local street food shop following which they developed abdominal pain, diarrhoea, vomiting, and fever. They were diagnosed with hemolytic uremic syndrome (HUS). Escherichia coli O157:H7 was detected in the stool samples and the ham. What does H represent in H7?",
    "choices": [
      {
        "id": 1,
        "text": "Fimbriae"
      },
      {
        "id": 2,
        "text": "Capsule"
      },
      {
        "id": 3,
        "text": "Flagella"
      },
      {
        "id": 4,
        "text": "Lipopolysaccharide"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>H</strong> in E coli O157:H7 represents <strong>flagellar antigen.</strong></p>\n<p>O represents somatic antigen.</p>\n<p>\u00a0E. Coli O157:H7 is an <strong>enterohemorrhagic</strong> bacterial strain that causes <strong>hemorrhagic diarrhoea</strong> and cramping in the abdomen. It is transmitted through the <strong>fecal-oral route</strong> after consumption of contaminated, undercooked liquids and foods.\u00a0</p>\n<p>E. Coli O157:H7 uses the <strong>fimbriae</strong> to <strong>adhere</strong> to the <strong>microvilli</strong> of <strong>intestinal epithelial cells</strong>. When bacteria attach to an epithelial layer, they rearrange the cytoskeletal actin, which flattens the microvilli and interferes with normal intestinal cell function. This is known as an <strong>effacing</strong> lesion.</p>\n<p><strong>Three days</strong> after\u00a0<span style=\"box-sizing: border-box; margin: 0px; padding: 0px;\">exposure to the contaminated food specimen, diarrhoea\u2014often the\u00a0<strong>hemorrhagic</strong> kind- occurs due to</span>\u00a0exposure to the Shiga toxin. The patients will experience <strong>bloody diarrhoea</strong> after three days of symptoms. After seven days, the symptoms of hemorrhagic diarrhoea usually go away on their own for 85% of patients; the remaining 15%, who are usually children, will experience systemic manifestations, most commonly <strong>HUS</strong>.</p>\n<p>EHEC are <strong>gram-negative bacilli</strong> which are <strong>lactose fermenting</strong>. Unlike most other E. coli serotypes, O157: H7 does <strong>not</strong> use <strong>sorbitol</strong> and produces <strong>clear colonies</strong> on the <strong>Sorbitol</strong> <strong>MacConkey agar</strong>, whereas other serotypes produce pink colonies. <strong>O157: H7</strong> is a strain of E.coli called enterohemorrhagic E. coli (EHEC) which produces <strong>verocytotoxin</strong> or <strong>Shiga</strong>-<strong>like-toxin</strong>. Shiga toxin acts by <strong>inactivating</strong> the <strong>60s ribosomal subunit</strong> thereby inhibiting protein synthesis. It is absorbed from the inflamed gastrointestinal mucosa into the circulation and causes <strong>endothelial dysfunction</strong>, and causes <strong>platelet activation</strong> and <strong>aggregation</strong>. Children and older adults are at the highest risk. It causes mild<strong> non-bloody</strong> <strong>diarrhea</strong> to <strong>hemorrhagic colitis</strong>, or a severe form of <strong>dysentery</strong>, with <strong>hemolytic uremic syndrome</strong>, a disease resulting in <strong>acute renal failure</strong>, <strong>microangiopathic hemolytic anemia</strong>, and <strong>thrombocytopenia.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly female with a central line undergoes surgery. On postoperative day 3, she develops fever and tachycardia. A culture from the tip of the central line revealed brown buff colonies. Microscopy showed gram-positive organisms that reproduce by budding. What is the likely causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Staphylococcus epidermidis"
      },
      {
        "id": 2,
        "text": "Streptococcus"
      },
      {
        "id": 3,
        "text": "Candida"
      },
      {
        "id": 4,
        "text": "Aspergillus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Other options:</p>\n<p>Option A: <strong>Staphylococcus epidermidis</strong> is a gram-positive cocci that commonly colonizes the skin and can cause infections related to indwelling devices, such as central lines. However, it does not reproduce by budding, and the description of brown buff colonies does not fit.</p>\n<p>Option B: <strong>Streptococcus</strong> species are gram-positive cocci that are typically found in chains. They do not reproduce by budding, and the brown buff colonies seen in the culture do not align with the typical appearance of Streptococcus in culture.</p>\n<p>Option D: <strong>Aspergillus</strong> is a mold that forms septate hyphae, not yeast-like cells, and does not reproduce by budding. Additionally, Aspergillus forms colonies with a different characteristic appearance, usually described as greenish or fuzzy, rather than brown buff.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c7baa3af44d44625854dc75caba92e9dx800x501.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dce1588841c04035be8f81a66cfbe67ex720x405.JPEG"
    ]
  },
  {
    "text": "A 22-year-old farmer develops an ulcer on his foot with a white powdery substance and multiple discharging sinuses. Microscopy reveals a gram-positive organism with radiating filaments. What is the most likely organism isolated from the discharging sinus?",
    "choices": [
      {
        "id": 1,
        "text": "Nocardia"
      },
      {
        "id": 2,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 3,
        "text": "Mucormycosis"
      },
      {
        "id": 4,
        "text": "Sporothrix schenckii"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Other options:</p>\n<p>Option B:<strong> Staphylococcus aureus</strong> is a common cause of skin and soft tissue infections, but it appears as gram-positive cocci in clusters, not as branching filaments. It would not typically be associated with discharging sinuses and white powdery discharge.</p>\n<p>Option C: <strong>Mucormycosis</strong> is a fungal infection that typically affects immunocompromised individuals, particularly those with diabetes or undergoing chemotherapy. It presents with necrotizing infections but does not exhibit branching filaments in microscopy and is not associated with white powdery discharge from sinuses.</p>\n<p>Option D: <strong>Sporothrix schenckii </strong>is a dimorphic fungus that causes sporotrichosis, typically following exposure to soil or plants. It can cause skin ulcers, but it appears as cigar-shaped yeast under microscopy, not as gram-positive filamentous bacteria.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3a1411686e5743b285c3a499e66f70e9x720x666.PNG"
    ]
  },
  {
    "text": "A middle-aged man with a history of unprotected sexual intercourse presents with complaints of painful urination and itching. On examination, Gram-negative intracellular cocci are observed. What is the most likely causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 2,
        "text": "Neisseria gonorrhoeae"
      },
      {
        "id": 3,
        "text": "Proteus vulgaris"
      },
      {
        "id": 4,
        "text": "Chlamydia trachomatis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><span class=\"notion-enable-hover\" data-token-index=\"0\" data-reactroot=\"\">The above clinical scenario along with the Gram stain showing <strong>gram\u2010negative intracellular diplococci</strong>\u00a0within phagocytes is suggestive of infection by <em><strong>Neisseria gonorrhea</strong></em>.\u00a0</span></p>\n<p><strong>Gonorrhea</strong> is a sexually transmitted disease caused by\u00a0<em><strong>Neisseria gonorrhea</strong></em>. It uses pilli in adhesion to the urethra or other mucosal surfaces. The cocci penetrate the intracellular spaces to reach the subepithelial tissue by the third day of infection. The incubation period is 2-8 days.</p>\n<p>The major symptoms include <strong>vaginal\u00a0discharge, dyspareunia</strong>, and\u00a0<strong>dysuria</strong>, usually without urinary frequency or urgency. The specific symptoms seen in males and females are as follows:</p>\n<p>In female patients:</p>\n<p>About half the female patients remain asymptomatic. But, patients typically present with urethritis, cervical\u00a0discharge, pruritus, dysuria, and intermenstrual bleeding.</p>\n<p>The\u00a0<strong>ectocervix</strong>\u00a0and\u00a0<strong>vagina</strong>\u00a0are\u00a0not usually affected in\u00a0<strong>adults</strong>\u00a0as the\u00a0<strong>stratified squamous epithelium is resistant</strong>\u00a0to infection by the cocci. The\u00a0<strong>acidic pH</strong>\u00a0of vaginal secretions is also protective.\u00a0The\u00a0<strong>principal sites</strong>\u00a0of invasion for\u00a0<strong>gonococcal infection</strong>\u00a0are the\u00a0<strong>columnar</strong>\u00a0and\u00a0<strong>transitional epithelium</strong>.</p>\n<p><strong>Pelvic inflammatory disease</strong>\u00a0and\u00a0<strong>salpingitis</strong>\u00a0may lead to\u00a0<strong>sterility.</strong>\u00a0Other complications are <strong>tubo-ovarian abscesses</strong> and <strong>ectopic pregnancies</strong>. Rarely peritonitis may develop with perihepatic inflammation\u00a0<strong>(Fitz Hugh Curtis syndrome).</strong>\u00a0The patient presents with right upper quadrant pain and tenderness with abnormal liver function tests.</p>\n<p>In male patients :</p>\n<ul>\n<li><strong>Acute urethritis</strong></li>\n<li><strong>Genital discharge:</strong> It is mucopurulent that can be described as that resembling the flow of seed (semen).</li>\n<li><strong>Strictures</strong></li>\n<li><strong>Water-can perineum:</strong> The infection may spread to the periurethral tissues causing abscesses and multiple discharging sinuses.</li>\n</ul>\n<p><strong>Lab diagnosis:</strong></p>\n<p>The discharge is collected and subjected to Gram's stain which reveals\u00a0<strong>gram\u2010negative intracellular diplococci</strong>\u00a0within phagocytes.<span class=\"notion-enable-hover\" data-token-index=\"0\" data-reactroot=\"\"> It is</span>\u00a0non-sporulating, non-motile and\u00a0<span class=\"notion-enable-hover\" data-token-index=\"2\" data-reactroot=\"\"><strong>aerobic\u00a0but may grow anaerobically also</strong>.\u00a0It<em>\u00a0</em><strong>acidifies glucose</strong> but <strong>not maltose</strong> in serum sugars.</span>\u00a0<strong>Stuart's</strong>\u00a0transport medium is used. Cultures can be obtained from\u00a0<strong>chocolate agar</strong>\u00a0or\u00a0<strong>Mueller-Hinton agar</strong>.\u00a0Specifically,\u00a0<strong>Thayer-Martin agar</strong>\u00a0is used to isolate\u00a0<em>Neisseria gonorrheae.\u00a0</em></p>\n<p>Treatment:</p>\n<p>According to\u00a0<strong>CDC guidelines (2021)</strong>, treatment of uncomplicated gonococcal infections is as follows:</p>\n<ul>\n<li>Weight &lt;150 kg \u2013 Ceftriaxone 500 mg intramuscular (IM) in a single dose</li>\n<li>Weight \u2265150 kg \u2013 Ceftriaxone 1 g intramuscular (IM) in a single dose</li>\n</ul>\n<p>Concurrent\u00a0<strong>chlamydial</strong>\u00a0infection must also be treated unless it has been excluded by\u00a0<strong>molecular testing</strong>. First-line drugs used are as follows:</p>\n<ul>\n<li>Oral\u00a0<strong>azithromycin</strong>\u00a0<strong>1g</strong>\u00a0single dose</li>\n<li>Oral\u00a0<strong>doxycycline</strong>\u00a0<strong>100 mg BD</strong>\u00a0for 7 days (non-pregnant patients only)</li>\n</ul>\n<p>The sexual partners of the patient must be treated to reduce the risk of recurrence.\u00a0<strong>Expedited partner therapy</strong>\u00a0refers to the index patient delivering therapy to one's own partners. However, this type of empirical therapy ignores the importance of direct counseling.</p>\n<p>Other options:\u00a0</p>\n<p>Option A: <strong>Staphylococcus aureus</strong> is a gram-positive bacterium that can cause various infections, but it is not typically associated with sexually transmitted infections (STIs) or intracellular gram-negative cocci.</p>\n<p>Option C: <strong>Proteus vulgaris</strong> is a gram-negative bacillus and is not typically associated with sexually transmitted infections. It is more often linked to urinary tract infections but would not appear as gram-negative intracellular cocci.</p>\n<p>Option D: <strong>Chlamydia trachomatis</strong> is another common cause of sexually transmitted infections. It is an obligate intracellular bacterium that is difficult to visualize using standard Gram staining.<br /><br />\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e3e73fcc607e4035862597e214e97917.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient diagnosed with HIV presents with complaints of recurrent diarrhoea. The stool sample reveals only larvae and no ova. Which of the following is the most probable causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Ancylostoma"
      },
      {
        "id": 2,
        "text": "Ascaris"
      },
      {
        "id": 3,
        "text": "Strongyloides"
      },
      {
        "id": 4,
        "text": "Enterobius"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Visceral larva migrans</strong> is caused by the <strong>migration</strong> of larvae of <strong>nonhuman</strong> species of nematodes that infect via the<strong> oral route</strong>.\u00a0</p>\n<p>Etiological agents causing visceral larva migrans:</p>\n<ol>\n<li><strong>Human nematode</strong>: <strong>Ascaris lumbricoides</strong>, Strongyloides stercoralis.</li>\n<li>Zoophilic nematode: <strong>Toxocara canis</strong>, toxocara cati, Angiostrongylus cantoniensis, Angiostrongylus costaricensis, Anisakis.</li>\n<li>Non human nematode: Filarial species, Brugia pahangi, Brugia pate</li>\n</ol>\n<p>Laboratory diagnosis of strongyloidiasis:</p>\n<ul>\n<li>Eosinophilia and<strong> raised IgE levels.</strong></li>\n<li>Microscopic examination of the <strong>direct wet mount</strong> of the stool demonstrating <strong>rhabditiform larvae</strong> forms the definitive diagnosis</li>\n<li>Stool culture and serological tests are also done</li>\n</ul>\n<p>Treatment: <strong>Ivermectin</strong> is the preferred agent in the management of strongyloidiasis.</p>\n<p><strong>Other options:</strong></p>\n<p><strong>Option A: Ancylostoma</strong>\u00a0presents with\u00a0<strong>creeping eruption.\u00a0</strong><strong>Cutaneous larva migrans</strong><strong>\u00a0</strong>or<strong>\u00a0creeping eruption</strong> is caused by nematode larvae that are infected by skin penetration.</p>\n<p><strong>Option B: Ascaris </strong>is a large intestinal worm, and its <strong>ova</strong> are <strong>typically seen in the stool, not larvae</strong>. It is not commonly associated with chronic diarrhoea, especially in immunocompromised patients.\u00a0</p>\n<p><strong>Option D: Enterobius </strong>or pinworm infection presents as\u00a0<strong>itching (pruritus)</strong>\u00a0and\u00a0<strong>restless sleep</strong>\u00a0(due to nocturnal perianal or perineal pruritus)\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3ef7d65ab3c74bc7beae78cae9520885x720x548.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/555bf29d5bee41ce97f3ecb12ca79121x468x321.JPEG"
    ]
  },
  {
    "text": "A young man who has just returned from the USA develops fever, cough, and breathlessness. A chest radiograph shows bilateral hilar lymphadenopathy and mediastinal lymphadenopathy. Culture on Sabouraud Dextrose Agar (SDA) reveals white to light brown puffy colonies. Lactophenol blue staining shows the findings as depicted in the image. What is the most likely causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Cryptococcosis"
      },
      {
        "id": 2,
        "text": "Histoplasmosis"
      },
      {
        "id": 3,
        "text": "Blastomycosis"
      },
      {
        "id": 4,
        "text": "Mucormycosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><br />Option D: <strong>Mucormycosis</strong> typically affects immunocompromised patients and presents with invasive disease, often causing necrotizing infections in the sinuses or lungs. The fungal hyphae seen on Lactophenol blue are broad, non-septate, and ribbon-like, which does not match the culture description here.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/56d7ef49264246ea9ed7095fc1f3b872.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/88740ebe90e44fa9bb015134e80cbeaex1280x852.JPEG",
      "https://cdn1.dailyrounds.org/uploads/441c0e794587449cb99dd12d8b9938ee.JPEG"
    ]
  },
  {
    "text": "A middle-aged man presents with complaints of itching around the perianal region and unilateral lower limb lymphadenopathy. Larvae of approximately 200 microns in size were identified, and these larvae lacked nuclei at their tail tips. What is the most likely causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Wuchereria bancrofti"
      },
      {
        "id": 2,
        "text": "Brugia malayi"
      },
      {
        "id": 3,
        "text": "Brugia timori"
      },
      {
        "id": 4,
        "text": "Mansonella perstans"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Investigations:</p>\n<p>Demonstration of the microfilaria in peripheral blood, chylous urine, hydrocele fluid, etc is done.\u00a0 The specimen of choice is peripheral blood. <strong>Night blood samples</strong> between 10 pm and 4 am are preferred. This is because the microfilaria shows nocturnal periodicity.</p>\n<p><strong>DEC provocation test: </strong>In this test, a small dose of DEC is given 20-50 minutes before sample collection so that the microfilaria appears in the blood even during the <strong>daytime</strong>.\u00a0</p>\n<p>The image below shows the life cycle of\u00a0<em>Wuchereria bancrofti.</em></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/51b66e382f3f4f6689fac92918baaabax720x496.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/24859c24eb36473dbee8455e2c5bc74ex439x319.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/099b6bbf192f46f09982657efe509c94x1280x3830.JPEG"
    ]
  },
  {
    "text": "A middle-aged man presented to the OPD with dysuria and purulent urethral discharge for the last 3 days. Gram stain of the discharge is shown below. He admits to having unprotected sexual intercourse one week ago. What is the most appropriate treatment?",
    "choices": [
      {
        "id": 1,
        "text": "Tab. Acyclovir 500 mg TDS for 1 week"
      },
      {
        "id": 2,
        "text": "Tab. Doxycycline 100 mg BD for 14 days"
      },
      {
        "id": 3,
        "text": "Tab. Cefixime 400 mg Stat"
      },
      {
        "id": 4,
        "text": "Inj. Benzathaine Penicillin 2.4 MU IM Stat"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Other options:</p>\n<p>Option A: <strong>Acyclovir</strong> is given for viral infections. It has no role in gonococcal urethritis</p>\n<p>Option B: <strong>Doxycycline</strong>\u00a0is given alongside Ceftriaxone or cefixime to concurrently treat chlamydial infection along with gonorrhoea.</p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Option D: Benzathine Penicillin was once a treatment option for gonorrhoea, but it is no longer recommended due to widespread resistance.</span></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e69ec681aaa64f33b5c0ebc4b28e826d.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A young man presents with burning and painful micturition. Microscopy showed gram-negative intracellular kidney bean-shaped organisms. Which of the following culture media is used  to isolate the organism?",
    "choices": [
      {
        "id": 1,
        "text": "Blood agar"
      },
      {
        "id": 2,
        "text": "Thayer-Martin media"
      },
      {
        "id": 3,
        "text": "MacConkey agar"
      },
      {
        "id": 4,
        "text": "TCBS agar"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: left;\">The clinical scenario is suggestive of <strong>gonococcal urethritis </strong>caused by\u00a0<em>Neisseria gonorrhoeae</em>.<strong>\u00a0Thayer-Martin\u00a0</strong>and\u00a0<strong>modified Thayer-Martin media</strong> are used for the <strong>culture</strong> of this organism<em>.</em></p>\n<p style=\"text-align: left;\">Gonorrhoea may manifest as a mucopurulent genital discharge which can be described as resembling the '<strong>flow of seed' (semen</strong>). The discharge is collected and subjected to Gram's stain which reveals<strong> gram\u2010negative intracellular diplococci </strong>within phagocytes. <strong>Stuart's media</strong> is used as <strong>transport media </strong>and <strong>Thayer Martin media</strong> is used for <strong>culture.</strong> Thayer-Martin medium contains vancomycin, colistin and nystatin.</p>\n<p>Gonorrhoea is a sexually transmitted disease where infection occurs due to the<strong> adhesion </strong>of gonococci to the urethra or other mucosal surfaces with the help of<strong> pili.</strong> By the third day of infection, the cocci have penetrated intracellular spaces and reached subepithelial tissue. The incubation period ranges from<strong> 2 to 8 days</strong>. The main symptoms are <strong>urethral</strong> <strong>discharge </strong>and <strong>dysuria.</strong></p>\n<p>In <strong>females:</strong> The infection begins in the cervix uteri and urethra and may spread to the Bartholin glands, endometrium, and fallopian tubes. The vaginal mucosa is usually unaffected in adults because the stratified squamous epithelium is resistant to cocci infection and also because vaginal secretions have an acidic pH. Rarely peritonitis may develop with perihepatic inflammation <strong>(Fitz Hugh Curtis syndrome)</strong>.</p>\n<p>In <strong>males:</strong> The disease starts as acute urethritis. This infection has the potential to spread down the urethra and into the prostate, seminal vesicles, and epididymis. Chronic urethritis may lead to stricture formation. Infections in the periurethral tissues can lead to abscesses and multiple discharging sinuses <strong>(watercan perineum)</strong></p>\n<p>Treatment: <strong>Ceftriaxone </strong>(250 mg, IM) single-dose + <strong>azithromycin </strong>1 g PO, single-dose, or<strong> doxycycline</strong> 100 mg PO BD for 7 days.</p>\n<p>The image below shows the Gram-stain of a urethral exudate showing t<strong>ypical intracellular gram-negative diplococci</strong> and pleomorphic extracellular gram-negative organism</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/2ef2c0310ad9419c8b7e3aba5800b7a5.JPEG"
    ]
  },
  {
    "text": "A 35-year-old man presented with high fever, bleeding gums, myalgia, and hepatosplenomegaly. His TLC is 3100, Hb- 11 g/dl, hematocrit- 55%, and platelets - 25,000 cells. What is the most important prognostic factor in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Hematocrit"
      },
      {
        "id": 2,
        "text": "Total Leukocyte Count"
      },
      {
        "id": 3,
        "text": "Hemoglobin"
      },
      {
        "id": 4,
        "text": "Platelets"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical history of a patient with a <strong>fever</strong>, <strong>myalgia</strong>, <strong>gum bleeding, hepatosplenomegaly</strong>, and laboratory investigations showing anaemia, <strong>leukopenia</strong>, <strong>raised hematocrit</strong> and <strong>low platelets</strong> is suggestive of <strong>dengue with warning signs</strong> and <strong>hematocrit</strong> is the most important prognostic factor in this patient.</p>\n<p>Hematocrit is the percentage of red blood cells in a given blood volume, and a <strong>rising hematocrit</strong> is a sign of <strong>hemoconcentration</strong> due to <strong>plasma leakage. </strong>As plasma leakage signifies the severity of the disease, hematocrit is monitored to assess prognosis.</p>\n<p>Dengue is an arbovirus disease transmitted by <em>Aedes aegypti</em> and causes a clinical spectrum:</p>\n<ul>\n<li><strong>Probable dengue</strong>: fever with myalgia, nausea, vomiting, leukopenia or a positive tourniquet test.</li>\n<li><strong>Dengue </strong>with<strong> warning signs</strong>: abdominal pain, tenderness, persistent vomiting, <strong>fluid accumulation</strong> (pleural effusion, ascites), mucosal bleed, <strong>hepatomegaly</strong>(&gt;2cm), rapid <strong>rise</strong> in<strong> hematocrit</strong> and<strong> fall </strong>in <strong>platelet </strong>count</li>\n<li><strong>Severe dengue</strong>: severe plasma leakage causing <strong>dengue shock syndrome</strong>, respiratory distress, severe hemorrhagic manifestations, severe organ involvement (AST or ALT &gt;1000U/L, CNS manifestations, AKI, pancreatitis, DIC)</li>\n</ul>\n<p>Other options:</p>\n<p>Options B and C- Although dengue causes anaemia and leukopenia, they do not determine the prognosis of the disease.</p>\n<p>Option D- <strong>Reduced platelet</strong> count is a <strong>warning sign</strong> but <strong>does</strong> <strong>not correlate</strong> with plasma leakage. Therefore hematocrit monitoring would be a better option.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '075 Microbiology Neet 2024';
        let hierarchy = ["Marrow", "PYQs", "Microbiology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>