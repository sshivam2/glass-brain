<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>33  Lung Pleura Diaphragm - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        DAMS / DQB / Anatomy
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">43</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "id": 50000,
    "choices": [
      {
        "id": 200000,
        "text": "Retrosternal"
      },
      {
        "id": 200001,
        "text": "Posterior and left"
      },
      {
        "id": 200002,
        "text": "Posterior and right"
      },
      {
        "id": 200003,
        "text": "Central"
      }
    ],
    "text": "Commonest location of diaphragmatic (Bochdalek)",
    "unique_key": "Q7798825",
    "question_audio": null,
    "question_video": null,
    "map_id": 34208039,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Posterior and Left The most common location for a diaphragmatic hernia (Bochdalek hernia) is in the posterior and left part of the diaphragm. This type of hernia occurs due to a congenital defect in the diaphragm, typically in the posterior portion, where the diaphragm has not fully formed. The defect is often found on the left side because of the protective position of the liver on the right side, which makes it less prone to such herniation. Therefore, option (B) is the correct answer. Incorrect Options: (A) Retrosternal A retrosternal diaphragmatic hernia, also known as a Morgagni hernia, is much less common compared to the Bochdalek hernia. This type of hernia occurs through a defect in the anterior part of the diaphragm, near the sternum, rather than the posterior side. Morgagni hernias are typically located on the right side of the diaphragm, but they are rarer and less likely to cause complications compared to Bochdalek hernias. Thus, option (A) is incorrect. (C) Posterior and Right Although Bochdalek hernias most commonly occur on the left side, they can occasionally occur on the right side as well. However, this is much less common than left-sided Bochdalek hernias. The diaphragm's right side is protected by the liver, which makes it a less frequent site for the hernia. Therefore, option (C) is incorrect, as the left side is the predominant location. (D) Central A central diaphragmatic hernia is not typical for a Bochdalek hernia. This hernia usually occurs in the posterior part of the diaphragm, but in some cases, the hernia may be more laterally positioned rather than central. Central defects in the diaphragm are generally not associated with Bochdalek hernias,",
    "correct_choice_id": 200001,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/72646001697978511/72646001697978511.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/72646001697978511/72646001697978511.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50001,
    "choices": [
      {
        "id": 200004,
        "text": "Esophagus"
      },
      {
        "id": 200005,
        "text": "Right Phrenic nerve"
      },
      {
        "id": 200006,
        "text": "Subcostal nerve"
      },
      {
        "id": 200007,
        "text": "Left phrenic nerve"
      }
    ],
    "text": "Structure passing through the central tendon of diaphragm is :",
    "unique_key": "Q9836296",
    "question_audio": null,
    "question_video": null,
    "map_id": 34838374,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Right Phrenic Nerve The right phrenic nerve passes through the central tendon of the diaphragm. The phrenic nerves (right and left) are responsible for motor innervation to the diaphragm. While both phrenic nerves pass through the diaphragm, the right phrenic nerve travels through the central tendon and provides motor control to the right side of the diaphragm. It does not pass through the diaphragm's muscular part but instead traverses through the central tendon, which is the fibrous part of the diaphragm. Therefore, option (B) is correct. Incorrect Options: (A) Esophagus The esophagus passes through the diaphragm at the level of the esophageal hiatus, but this hiatus is located in the muscular part of the diaphragm, not the central tendon. The esophagus is not associated with the central tendon of the diaphragm, making option (A) incorrect. (C) Subcostal Nerve The subcostal nerve (the 12th thoracic nerve) passes below the diaphragm and does not traverse through it. The subcostal nerve runs along the inferior border of the 12th rib and provides innervation to the muscles of the abdominal wall and the skin over the lower ribs. Therefore, option (C) is incorrect. (D) Left Phrenic Nerve The left phrenic nerve also passes through the diaphragm, but it does so through the muscular part of the diaphragm, not the central tendon. The left phrenic nerve enters the diaphragm through the left side, but it does not pass through the central tendon,",
    "correct_choice_id": 200005,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/66203161697978608/66203161697978608.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/66203161697978608/66203161697978608.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50002,
    "choices": [
      {
        "id": 200008,
        "text": "Independent pulmonary artery"
      },
      {
        "id": 200009,
        "text": "Independent pulmonary vein"
      },
      {
        "id": 200010,
        "text": "Tertiary bronchiole"
      },
      {
        "id": 200011,
        "text": "Conical segment"
      }
    ],
    "text": "Bronchopulmonary segment contains all except :",
    "unique_key": "Q5564720",
    "question_audio": null,
    "question_video": null,
    "map_id": 34728302,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Independent Pulmonary Vein A bronchopulmonary segment is a functional and anatomical unit of the lung that is supplied by its own pulmonary artery, tertiary bronchiole, and is drained by its own segmental bronchus. However, the pulmonary veins are not segmentally organized in the same way. The pulmonary veins receive blood from multiple bronchopulmonary segments and drain several segments at once, meaning they are not considered to be specific to a single segment. Therefore, option (B) is correct because the independent pulmonary vein does not belong to a single bronchopulmonary segment. Incorrect Options: (A) Independent Pulmonary Artery The independent pulmonary artery is a characteristic of each bronchopulmonary segment. Each segment has its own pulmonary artery branch, which supplies the segment with deoxygenated blood for gas exchange. This is a defining feature of the bronchopulmonary segment, making option (A) incorrect. (C) Tertiary Bronchiole The tertiary bronchiole (also called the segmental bronchus) is an essential structure in each bronchopulmonary segment. It supplies the lung tissue within the segment with air. This is another characteristic feature of a bronchopulmonary segment, making option (C) incorrect. (D) Conical Segment A conical segment is the shape of the bronchopulmonary segment. These segments are pyramid-shaped, with their apex pointing toward the hilum of the lung and the base at the surface of the lung. This anatomical description of the segment's shape supports the structure of bronchopulmonary segments",
    "correct_choice_id": 200009,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/6033601697978643/6033601697978643.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/6033601697978643/6033601697978643.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50003,
    "choices": [
      {
        "id": 200012,
        "text": "Upper apical"
      },
      {
        "id": 200013,
        "text": "Lower apical"
      },
      {
        "id": 200014,
        "text": "Basal"
      },
      {
        "id": 200015,
        "text": "Upper anterior"
      }
    ],
    "text": "The most dependant part of the lung in the supine position \u2013",
    "unique_key": "Q2290766",
    "question_audio": null,
    "question_video": null,
    "map_id": 34363694,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Lower Apical In the supine position, the lower apical part of the lung becomes the most dependent region. This is because gravity shifts the weight of the lung and chest, causing the posterior and lower regions of the lungs to become more dependent in this position. The lower portions of the lung have more gravitational pull in this orientation, so any fluid accumulation or pooling would most likely occur in this area. Therefore, option (B) is the correct answer. Incorrect Options: (A) Upper Apical The upper apical region of the lung is located at the top of the lung and is not the most dependent part in the supine position. In fact, it is the least dependent area in this position. This region is closer to the apex of the lung and is not affected by gravity in the same way as the more inferior parts. Therefore, option (A) is incorrect. (C) Basal The basal portion of the lung, while located at the bottom, does not become the most dependent part in the supine position. The basal region is indeed lower but not as posterior or dependent as the lower apical area when lying down. It does, however, receive some gravitational effect in the supine position. Therefore, option (C) is incorrect. (D) Upper Anterior The upper anterior region of the lung is also located towards the front and upper part of the lung, which makes it less dependent in the supine position. In the supine position, the lower regions, particularly the posterior parts like the lower apical, are more dependent due to gravity.",
    "correct_choice_id": 200013,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/24878881697978850/24878881697978850.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/24878881697978850/24878881697978850.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50004,
    "choices": [
      {
        "id": 200016,
        "text": "Aorta"
      },
      {
        "id": 200017,
        "text": "Azygos vein"
      },
      {
        "id": 200018,
        "text": "Sympathetic trunk"
      },
      {
        "id": 200019,
        "text": "Thoracic duct"
      }
    ],
    "text": "Structures passing through the aortic hiatus of diaphragm are all except-",
    "unique_key": "Q6759943",
    "question_audio": null,
    "question_video": null,
    "map_id": 34352494,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Sympathetic Trunk The sympathetic trunk does not pass through the aortic hiatus of the diaphragm. Instead, the sympathetic trunk lies on the lateral sides of the vertebral column and travels through other openings in the diaphragm, such as the thoracic and lumbar regions, but not through the aortic hiatus. Therefore, option (C) is the correct answer. Incorrect Options: (A) Aorta The aorta passes through the aortic hiatus of the diaphragm at the level of T12. It is the major artery that supplies blood to the lower body and is one of the primary structures that passes through this opening. Therefore, option (A) is incorrect. (B) Azygos Vein The azygos vein also passes through the aortic hiatus, along with the aorta. The azygos vein drains the blood from the posterior walls of the thorax and abdomen, and it enters the superior vena cava. Therefore, option (B) is incorrect. (D) Thoracic Duct The thoracic duct is a lymphatic vessel that drains lymph from the lower half of the body and the left side of the upper body. It passes through the aortic hiatus into the thoracic cavity.",
    "correct_choice_id": 200018,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/46720511697978881/46720511697978881.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/46720511697978881/46720511697978881.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50005,
    "choices": [
      {
        "id": 200020,
        "text": "Supplied by vagus N"
      },
      {
        "id": 200021,
        "text": "Sensitive to pain"
      },
      {
        "id": 200022,
        "text": "Derived from splanchnopleural layer of lateral plate mesoderm"
      },
      {
        "id": 200023,
        "text": "Extends upto T2"
      }
    ],
    "text": "Which of the following about parietal pleura is correct-",
    "unique_key": "Q1700436",
    "question_audio": null,
    "question_video": null,
    "map_id": 34690518,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct answer(B) Sensitive to Pain The parietal pleura is highly sensitive to pain. This is because it is innervated by the somatic nerves, specifically the intercostal nerves and the phrenic nerve, which are responsible for transmitting pain signals. The parietal pleura lines the thoracic cavity and is in direct contact with the chest wall and diaphragm, so it can experience sharp pain, especially in conditions like pleuritis or pleurisy. Therefore, option (B) is the correct answer. Incorrect Options: (A) Supplied by Vagus Nerve The vagus nerve does not innervate the parietal pleura. The vagus nerve primarily innervates the visceral pleura and provides parasympathetic innervation to the lungs. In contrast, the parietal pleura is innervated by somatic nerves, such as the intercostal nerves and the phrenic nerve. Therefore, option (A) is incorrect. (C) Derived from Splanchnopleural Layer of Lateral Plate Mesoderm The parietal pleura is actually derived from the somatopleural layer of the lateral plate mesoderm, not the splanchnopleural layer. The somatopleural layer contributes to the formation of the body wall, including the parietal pleura, while the splanchnopleural layer gives rise to the visceral pleura. Therefore, option (C) is incorrect. (D) Extends up to T2 The parietal pleura does not extend up to T2; it generally extends to the level of the 6th rib anteriorly, 8th rib laterally, and 10th rib posteriorly. The apex of the lung and pleura, however, may reach higher, but the parietal pleura itself does not reach T2 in normal anatomical positioning.",
    "correct_choice_id": 200021,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/53989041697978939/53989041697978939.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/53989041697978939/53989041697978939.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50006,
    "choices": [
      {
        "id": 200024,
        "text": "Lies between two crura of diaphragm"
      },
      {
        "id": 200025,
        "text": "At the level of T12 vertebra"
      },
      {
        "id": 200026,
        "text": "Vagus nerve passes through it"
      },
      {
        "id": 200027,
        "text": "Thoracic duct passes through it"
      }
    ],
    "text": "True statements about esophageal hiatus -",
    "unique_key": "Q8778487",
    "question_audio": null,
    "question_video": null,
    "map_id": 34779912,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Vagus Nerve Passes Through It The esophageal hiatus is an opening in the diaphragm through which the esophagus, vagus nerve, and other structures pass. The vagus nerve (left and right) travels through this hiatus and is important for parasympathetic innervation to the gastrointestinal system. Therefore, option (C) is the correct answer. Incorrect Options: (A) Lies Between Two Crura of Diaphragm While it is true that the esophageal hiatus is located in the diaphragm, it does not lie between the two crura. Instead, it is located slightly to the right of the midline, where it passes through the muscle fibers of the diaphragm, but not directly between the two crura. Therefore, option (A) is incorrect. (B) At the Level of T12 Vertebra The esophageal hiatus is located at the level of T10 vertebra, not T12. The hiatus is at the level of T10 because it corresponds to where the esophagus passes through the diaphragm to enter the abdominal cavity. Therefore, option (B) is incorrect. (D) Thoracic Duct Passes Through It While the thoracic duct does pass through the diaphragm, it does not do so via the esophageal hiatus. Instead, it passes through the aortic hiatus (located at the level of T12).",
    "correct_choice_id": 200026,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/35509521697979034/35509521697979034.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/35509521697979034/35509521697979034.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50007,
    "choices": [
      {
        "id": 200028,
        "text": "Terminal bronchiole"
      },
      {
        "id": 200029,
        "text": "Respiratory bronchiole"
      },
      {
        "id": 200030,
        "text": "Alveolus"
      },
      {
        "id": 200031,
        "text": "Secondary bronchus"
      }
    ],
    "text": "Bronchial artery supplies upto \u2013",
    "unique_key": "Q9476597",
    "question_audio": null,
    "question_video": null,
    "map_id": 34713098,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Respiratory Bronchiole The bronchial arteries primarily supply the structures of the conducting zone of the respiratory system, from the primary bronchi down to the respiratory bronchioles. The respiratory bronchioles are the first parts of the respiratory system where gas exchange begins to take place, but they still receive blood supply from the bronchial arteries. Therefore, option (B) is the correct answer. Incorrect Options: (A) Terminal Bronchiole The terminal bronchioles are located just before the respiratory bronchioles, and while they are part of the conducting zone, they are not directly supplied by the bronchial arteries. Instead, the terminal bronchioles primarily receive blood supply from the pulmonary arteries, not the bronchial arteries. Therefore, option (A) is incorrect. (C) Alveolus The alveoli, where gas exchange occurs, are not supplied by the bronchial arteries. Instead, the alveoli receive their blood supply from the pulmonary circulation (via the pulmonary arteries), which is involved in gas exchange. The bronchial arteries supply the conducting airways but do not extend to the alveoli. Therefore, option (C) is incorrect. (D) Secondary Bronchus The secondary bronchus (also known as the lobar bronchus) is part of the conducting zone and does receive blood supply from the bronchial arteries. However, the bronchial arteries extend beyond the secondary bronchi to supply the respiratory bronchioles as well. Therefore, while the secondary bronchus is supplied by the bronchial arteries, the respiratory bronchiole is the correct final point of supply,",
    "correct_choice_id": 200029,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/62651331697979063/62651331697979063.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/62651331697979063/62651331697979063.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50008,
    "choices": [
      {
        "id": 200032,
        "text": "1 and 2"
      },
      {
        "id": 200033,
        "text": "2 and 3"
      },
      {
        "id": 200034,
        "text": "1 and 3"
      },
      {
        "id": 200035,
        "text": "1 and 4"
      }
    ],
    "text": "Consider the following statements-Venacaval opening of the diaphragm situated at the level of T8 transmit - 1) Inferior vena cava 2) Vagus nerve 3) Branches of the right phrenic nerve 4) Thoracic duct Which of the statements given above are correct ?",
    "unique_key": "Q2103968",
    "question_audio": null,
    "question_video": null,
    "map_id": 34629206,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) 1 and 3. Explanation of the correct response: 1. Inferior vena cava: The inferior vena cava passes through the venacaval opening (caval hiatus) of the diaphragm at the level of T8. This is a key structure that transits this opening, carrying deoxygenated blood from the lower half of the body to the right atrium of the heart. Therefore, this statement is correct. 3. Branches of the right phrenic nerve: The right phrenic nerve also passes through the venacaval opening of the diaphragm at the T8 level. The right phrenic nerve provides motor and sensory innervation to the diaphragm, making this statement correct as well. Incorrect responses: 2. Vagus nerve: The vagus nerve does not pass through the venacaval opening. Instead, it passes through the esophageal hiatus of the diaphragm, at the level of T10. The vagus nerve plays a crucial role in parasympathetic innervation to the thoracic and abdominal viscera. Therefore, this statement is incorrect. 4. Thoracic duct: The thoracic duct passes through the aortic hiatus, not the venacaval opening. The aortic hiatus is located at the level of T12, and the thoracic duct drains lymph from the lower body and left side of the thorax. Since the thoracic duct does not pass through the venacaval opening,",
    "correct_choice_id": 200034,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/29081921697979510/29081921697979510.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/29081921697979510/29081921697979510.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50009,
    "choices": [
      {
        "id": 200036,
        "text": "Azygos vein"
      },
      {
        "id": 200037,
        "text": "Aorta ."
      },
      {
        "id": 200038,
        "text": "Thoracic duct"
      },
      {
        "id": 200039,
        "text": "Greater splanchnic nerve"
      }
    ],
    "text": "Structures that pass from thorax to abdomen behind the diaphragm are all except -",
    "unique_key": "Q3488198",
    "question_audio": null,
    "question_video": null,
    "map_id": 34630810,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) D. Greater splanchnic nerve: The greater splanchnic nerve does not pass behind the diaphragm with the other structures listed. It enters the abdomen via the diaphragmatic crura, which is a muscle of the diaphragm, rather than passing through a specific opening. This nerve carries sympathetic fibers and innervates the abdominal viscera. Therefore, the greater splanchnic nerve is an exception and does not pass behind the diaphragm in the same manner as the other structures listed. Explanation of the incorrect responses: A. Azygos vein: The azygos vein passes behind the diaphragm through the aortic hiatus at the level of T12. This vein drains blood from the posterior walls of the thorax and abdomen and empties into the superior vena cava. Therefore, the azygos vein is correctly listed as passing behind the diaphragm. B. Aorta: The aorta passes through the aortic hiatus of the diaphragm at the level of T12, and it is one of the key structures that travel from the thorax to the abdomen. This includes the blood flow from the left ventricle to the rest of the body, including the abdominal organs. Therefore, the aorta correctly passes behind the diaphragm. C. Thoracic duct: The thoracic duct passes through the aortic hiatus behind the diaphragm at T12, carrying lymph from the left side of the body and draining it into the venous circulation at the junction of the left subclavian and internal jugular veins. Thus, the thoracic duct also passes behind the diaphragm.",
    "correct_choice_id": 200039,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/78074601697979602/78074601697979602.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/78074601697979602/78074601697979602.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50010,
    "choices": [
      {
        "id": 200040,
        "text": "Left Anterior"
      },
      {
        "id": 200041,
        "text": "Right posterior"
      },
      {
        "id": 200042,
        "text": "Right Anterior"
      },
      {
        "id": 200043,
        "text": "Left posterior"
      }
    ],
    "text": "Most common site of Morgagni Hernia is -",
    "unique_key": "Q9156754",
    "question_audio": null,
    "question_video": null,
    "map_id": 34710760,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) C. Right Anterior: Morgagni hernia is a congenital diaphragmatic hernia that typically occurs in the right anterior part of the diaphragm. It is due to a defect in the anterior diaphragm (near the sternocostal triangle) through which abdominal contents, such as the bowel or omentum, can herniate into the thoracic cavity. This hernia is the second most common type of congenital diaphragmatic hernia, with the right anterior location being the most common site. It is more frequent on the right side because the right diaphragm is less tightly fused than the left, making it more prone to herniation. Explanation of the incorrect responses: A. Left Anterior: Left anterior Morgagni hernia is much less common compared to the right side. The left side of the diaphragm has more substantial developmental fusion, which decreases the incidence of hernia formation in this area. Therefore, while possible, it is not the most frequent location for Morgagni hernia. B. Right Posterior: Right posterior Morgagni hernias are rare. The posterior aspect of the diaphragm is more structurally robust, and defects here are less likely to lead to hernia formation. Therefore, it is not the typical site for Morgagni hernias. D. Left Posterior: Left posterior hernias are also uncommon. The diaphragmatic tissue in the posterior region of the diaphragm is more developed, making this area less prone to defects. Consequently, hernias occurring in this region are relatively rare.",
    "correct_choice_id": 200042,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56166501697979637/56166501697979637.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56166501697979637/56166501697979637.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50011,
    "choices": [
      {
        "id": 200044,
        "text": "Internal intercostal"
      },
      {
        "id": 200045,
        "text": "External intercostal"
      },
      {
        "id": 200046,
        "text": "Inner most intercostal"
      },
      {
        "id": 200047,
        "text": "Transversus thoracis"
      }
    ],
    "text": "Pleural tapping in the mid- axillary line, muscle not pierced is\u2013",
    "unique_key": "Q5685068",
    "question_audio": null,
    "question_video": null,
    "map_id": 34608236,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Transversus thoracis. The procedure of pleural tapping (thoracocentesis) is typically performed in the mid-axillary line to remove pleural fluid, and the goal is to avoid damaging underlying muscles. In this location, the muscle that is typically not pierced during the procedure is the transversus thoracis, which is a thin muscle located on the inner surface of the anterior chest wall. It lies deep to the internal intercostals and external intercostals and does not extend significantly into the lateral thoracic area, making it less likely to be punctured in a mid-axillary approach. Incorrect Answers: A. Internal intercostal: The internal intercostal muscles are located between adjacent ribs and are located just deep to the external intercostals. These muscles are involved in forced expiration and would be encountered if a needle were inserted too deeply into the intercostal space, especially if it were in a more anterior position. Therefore, they are likely to be pierced in thoracocentesis if the needle is not properly placed. B. External intercostal: The external intercostals lie more superficially and are involved in inspiration. Although they are less likely to be pierced than the internal intercostals, they are still present in the intercostal spaces and may be encountered during pleural tapping if the needle is not inserted at the correct angle or depth. C. Inner most intercostal: The innermost intercostals are located deep to the internal intercostals and are the most posterior of the intercostal muscles. However, like the internal intercostals, they are in the intercostal space and would be pierced during pleural tapping if the needle is placed incorrectly or too deeply, particularly in a more posterior approach.",
    "correct_choice_id": 200047,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/61095471697979761/61095471697979761.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/61095471697979761/61095471697979761.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50012,
    "choices": [
      {
        "id": 200048,
        "text": "Bronchus"
      },
      {
        "id": 200049,
        "text": "Pulmonary artery"
      },
      {
        "id": 200050,
        "text": "Pulmonary vein"
      },
      {
        "id": 200051,
        "text": "Bronchial artery"
      }
    ],
    "text": "Which of the following is the most cranial structure in the root of left lung?",
    "unique_key": "Q4887339",
    "question_audio": null,
    "question_video": null,
    "map_id": 34965065,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Pulmonary artery. In the root of the left lung, the pulmonary artery is the most cranial structure. The pulmonary artery carries deoxygenated blood from the right ventricle to the lungs for oxygenation. It passes behind the ascending aorta and anterior to the bronchus, making it the most superior (cranial) structure within the root of the left lung. Incorrect Answers: A. Bronchus: The left main bronchus is located inferior to the pulmonary artery in the root of the lung. It is positioned posteriorly to the pulmonary artery and is not the most cranial structure in the root of the left lung. C. Pulmonary vein: The pulmonary veins are situated inferior to both the bronchus and the pulmonary artery in the root of the lung. They carry oxygenated blood from the lungs back to the heart and are located lower down relative to the bronchus and pulmonary artery. D. Bronchial artery: The bronchial arteries supply oxygenated blood to the lung tissue itself, and they are located in the region of the bronchi, but they are not the most cranial structure. They typically run posteriorly to the main bronchus and pulmonary artery.",
    "correct_choice_id": 200049,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/14246081697979830/14246081697979830.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/14246081697979830/14246081697979830.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50013,
    "choices": [
      {
        "id": 200052,
        "text": "It is purely motor nerve"
      },
      {
        "id": 200053,
        "text": "It arise briefly from C4 spinal nerve"
      },
      {
        "id": 200054,
        "text": "It is formed at the lateral order of scalenus anterior"
      },
      {
        "id": 200055,
        "text": "Accessory phrenic is commonly a branch from the nerve to subclavius"
      }
    ],
    "text": "All of the following are true about phrenic nerve, except-",
    "unique_key": "Q8475276",
    "question_audio": null,
    "question_video": null,
    "map_id": 34750095,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) It is purely motor nerve. The phrenic nerve is not purely motor; it is a mixed nerve, containing both motor and sensory fibers. The motor fibers are responsible for controlling the diaphragm for breathing, while the sensory fibers carry sensations from the diaphragm and the pleura to the brain. Thus, the statement that the phrenic nerve is purely motor is incorrect. B. It arises briefly from the C4 spinal nerve This statement is correct. The phrenic nerve is formed by fibers from the cervical spinal nerves C3, C4, and C5, with C4 contributing the most significant portion. The C4 root is often described as a \"primary\" origin of the phrenic nerve, so this statement is accurate. C. It is formed at the lateral border of scalenus anterior This statement is also correct. The phrenic nerve emerges from the cervical plexus and travels down the neck. It lies on the lateral border of the scalenus anterior muscle before descending into the thoracic cavity. This anatomical location is a known feature of the nerve's course. D. Accessory phrenic is commonly a branch from the nerve to subclavius This statement is correct. The accessory phrenic nerve is an additional branch that often arises from the nerve to the subclavius (a branch of the upper trunk of the brachial plexus). It may contribute fibers to the phrenic nerve and assist in diaphragm innervation. Therefore, this statement is true.",
    "correct_choice_id": 200052,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/14151241697980082/14151241697980082.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/14151241697980082/14151241697980082.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50014,
    "choices": [
      {
        "id": 200056,
        "text": "Lies anterior to anterior scalenous muscle"
      },
      {
        "id": 200057,
        "text": "Posterior to brachial plexus"
      },
      {
        "id": 200058,
        "text": "Posterior to subclavian artery"
      },
      {
        "id": 200059,
        "text": "Posterior to hilum left lung"
      }
    ],
    "text": "True about left phrenic nerve-",
    "unique_key": "Q7908718",
    "question_audio": null,
    "question_video": null,
    "map_id": 34431445,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Lies anterior to anterior scalenus muscle. The left phrenic nerve lies anterior to the anterior scalene muscle as it travels down the neck. It descends from the cervical plexus and passes along the front of the anterior scalene muscle, which is a key landmark for the nerve's path. This positioning is consistent with both the left and right phrenic nerves, though the anatomical relationships may slightly differ on each side of the body. Explanation for incorrect options: B. Posterior to brachial plexus: This statement is incorrect. The phrenic nerve lies anterior to the brachial plexus, not posterior. As the phrenic nerve travels down the neck, it runs in front of the roots and trunks of the brachial plexus, which is situated between the anterior and middle scalene muscles. C. Posterior to subclavian artery: This is also incorrect. The left phrenic nerve is anterior to the subclavian artery. As the nerve descends, it passes in front of the subclavian artery, not behind it. This is important in understanding the anatomical relationship between the phrenic nerve and major vascular structures. D. Posterior to hilum of left lung: This statement is incorrect. The left phrenic nerve runs anterior to the hilum of the left lung. It passes along the pericardium and comes into contact with the diaphragm, but it does not pass behind the hilum. The nerve\u2019s path is anterior to the lung structures in the thoracic cavity.",
    "correct_choice_id": 200056,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/9560361697980108/9560361697980108.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/9560361697980108/9560361697980108.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50015,
    "choices": [
      {
        "id": 200060,
        "text": "Thoracic duct"
      },
      {
        "id": 200061,
        "text": "Superior intercostal artery"
      },
      {
        "id": 200062,
        "text": "First posterior intercostal vein"
      },
      {
        "id": 200063,
        "text": "Sympathetic trunk"
      }
    ],
    "text": "All of the following lie between the 1st rib and the apex of the lung, except-",
    "unique_key": "Q6367365",
    "question_audio": null,
    "question_video": null,
    "map_id": 34917047,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Thoracic duct The thoracic duct does not lie between the 1st rib and the apex of the lung. It is the main lymphatic vessel of the body and ascends through the posterior mediastinum, positioned to the right of the midline initially and then crossing to the left at the level of T4-T6 vertebrae. It terminates at the junction of the left subclavian and internal jugular veins. The thoracic duct does not pass through the region between the 1st rib and the apex of the lung, making this the correct answer. Incorrect Responses: (B) Superior intercostal artery This option is incorrect because the superior intercostal artery, a branch of the costocervical trunk, lies in close proximity to the apex of the lung and the 1st rib. It supplies the first two intercostal spaces and is part of the structures located in this region. (C) First posterior intercostal vein This option is incorrect as the first posterior intercostal vein is located between the 1st rib and the apex of the lung. It drains into the brachiocephalic vein or the azygos vein, depending on the side, and is a structure present in the region. (D) Sympathetic trunk This option is incorrect because the sympathetic trunk lies near the vertebral column and runs posterior to the apex of the lung. It is a significant structure within this area, carrying autonomic nervous system fibers.",
    "correct_choice_id": 200060,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/19539681697980230/19539681697980230.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/19539681697980230/19539681697980230.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50016,
    "choices": [
      {
        "id": 200064,
        "text": "T6"
      },
      {
        "id": 200065,
        "text": "T10"
      },
      {
        "id": 200066,
        "text": "T12"
      },
      {
        "id": 200067,
        "text": "T8"
      }
    ],
    "text": "Opening of esophagus into diaphragm is at the level of -",
    "unique_key": "Q4755155",
    "question_audio": null,
    "question_video": null,
    "map_id": 34611288,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) T10 The esophagus passes through the diaphragm at the level of T10, through the esophageal hiatus. This opening is located slightly to the left of the midline and allows the esophagus to transition from the thoracic cavity to the abdominal cavity, connecting with the stomach. The esophageal hiatus also transmits the vagus nerves, which travel with the esophagus as part of the parasympathetic supply to the abdominal organs. This anatomical landmark is a key point of reference in thoracoabdominal surgery and imaging. Incorrect Responses: (A) T6 This option is incorrect because the esophagus is much higher in the thorax at the T6 level, near its continuation from the pharynx at the level of C6. The diaphragm and its openings are located significantly lower than this level. (C) T12 This option is incorrect as T12 corresponds to the level of the aortic hiatus, through which the aorta, thoracic duct, and azygos vein pass. The esophageal hiatus is located above this level at T10. (D) T8 This option is incorrect because T8 corresponds to the level of the caval opening in the diaphragm, which transmits the inferior vena cava and a branch of the right phrenic nerve. The esophageal hiatus is positioned lower at T10.",
    "correct_choice_id": 200065,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60311181697980281/60311181697980281.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60311181697980281/60311181697980281.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50017,
    "choices": [
      {
        "id": 200068,
        "text": "Tertiary bronchiole"
      },
      {
        "id": 200069,
        "text": "Secondary bronchiole"
      },
      {
        "id": 200070,
        "text": "Terminal bronchiole"
      },
      {
        "id": 200071,
        "text": "Bronchi"
      }
    ],
    "text": "Hyaline cartilage of respiratory tree extends upto-",
    "unique_key": "Q1234871",
    "question_audio": null,
    "question_video": null,
    "map_id": 34289952,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Bronchi Hyaline cartilage extends up to the bronchi in the respiratory tree. The bronchial tree is composed of several branches, and the bronchi are the main airways that lead to the lungs. Hyaline cartilage in the form of C-shaped rings or plates provides structural support to keep these airways open, preventing collapse during breathing. As the bronchi transition into smaller bronchioles, the amount of cartilage decreases, and it is absent in the smaller bronchioles. Incorrect Responses: (A) Tertiary bronchiole This option is incorrect because hyaline cartilage does not extend to the tertiary bronchioles. By this level, the cartilage has been mostly replaced by smooth muscle and elastic tissue, as the bronchioles become more involved in regulating airflow and less in structural support. (B) Secondary bronchiole This option is incorrect because, similar to the tertiary bronchioles, secondary bronchioles do not contain hyaline cartilage. Cartilage begins to disappear as the airways branch further and become smaller in diameter. (C) Terminal bronchiole This option is incorrect because hyaline cartilage is not found in the terminal bronchioles. These are the smallest conducting airways, and by this level, the cartilage has been entirely replaced by smooth muscle, which plays a role in regulating airflow.",
    "correct_choice_id": 200071,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/8915521697980331/8915521697980331.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/8915521697980331/8915521697980331.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50018,
    "choices": [
      {
        "id": 200072,
        "text": "6"
      },
      {
        "id": 200073,
        "text": "8"
      },
      {
        "id": 200074,
        "text": "10"
      },
      {
        "id": 200075,
        "text": "12"
      }
    ],
    "text": "Lower border of lung is upto level of rib at mid- axillary line",
    "unique_key": "Q3776753",
    "question_audio": null,
    "question_video": null,
    "map_id": 34870295,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) 8 The lower border of the lung at the mid-axillary line typically corresponds to the level of the 8th rib. The lungs are located in the thoracic cavity, and their lower borders move from the front (anterior) to the sides (lateral) and the back (posterior). At the mid-axillary line, the lower border of the lung reaches the 8th rib, which is an important reference point during clinical examination and imaging, especially for procedures like thoracentesis. Incorrect Responses: (A) 6 This option is incorrect because the lower border of the lung is generally lower than the 6th rib at the mid-axillary line. The 6th rib is located more anteriorly, and it does not accurately represent the lower lung border in this region. (C) 10 This option is incorrect because the 10th rib is located too low for the lower border of the lung at the mid-axillary line. While the lower lung border does reach the 10th rib posteriorly, it is higher at the mid-axillary line, typically around the 8th rib. (D) 12 This option is incorrect because the 12th rib is even lower than the 10th rib and is not where the lower border of the lung reaches in the mid-axillary line. The lung does not extend this far inferiorly at the sides of the chest.",
    "correct_choice_id": 200073,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56021631697980448/56021631697980448.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56021631697980448/56021631697980448.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50019,
    "choices": [
      {
        "id": 200076,
        "text": "Superior & inferior"
      },
      {
        "id": 200077,
        "text": "Anterior & posterior"
      },
      {
        "id": 200078,
        "text": "Medial & lateral"
      },
      {
        "id": 200079,
        "text": "Apical & basal"
      }
    ],
    "text": "Middle lobe of lung contains, segments",
    "unique_key": "Q5984251",
    "question_audio": null,
    "question_video": null,
    "map_id": 34319918,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Medial & lateral The middle lobe of the right lung contains the medial and lateral segments. The middle lobe is unique to the right lung and is situated between the upper and lower lobes. It is divided into these two segments: the medial segment, located towards the center of the lung, and the lateral segment, which is situated on the outer side. These segments are important for lung function and are often referenced in clinical practices such as surgeries or imaging studies. Incorrect Responses: (A) Superior & inferior This option is incorrect because the superior and inferior segments are not found in the middle lobe. These segments are typically associated with the upper and lower lobes of the lung. The middle lobe is specifically divided into medial and lateral segments, not superior and inferior. (B) Anterior & posterior This option is incorrect because the anterior and posterior segments refer to portions of other lobes of the lung, such as the upper lobe or the lower lobe, but not the middle lobe. The middle lobe's segmentation is based on the medial and lateral aspects, not anterior or posterior. (D) Apical & basal This option is incorrect because the apical and basal segments refer to the upper and lower lobes, respectively. The middle lobe, however, does not contain apical or basal segments, as it is specifically divided into medial and lateral segments.",
    "correct_choice_id": 200078,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/67308051697980604/67308051697980604.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/67308051697980604/67308051697980604.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50020,
    "choices": [
      {
        "id": 200080,
        "text": "Heart"
      },
      {
        "id": 200081,
        "text": "Spleen"
      },
      {
        "id": 200082,
        "text": "Lung"
      },
      {
        "id": 200083,
        "text": "Pancreas"
      }
    ],
    "text": "Azygos lobe is found in",
    "unique_key": "Q1360876",
    "question_audio": null,
    "question_video": null,
    "map_id": 34167006,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Lung The azygos lobe is a congenital variation found in the right lung, typically present in about 1% of the population. It occurs when the azygos vein, which normally arches over the lung, causes an indentation or division in the upper lobe of the right lung. This lobe is usually asymptomatic, but it can be seen on radiographic imaging, especially in chest X-rays or CT scans. It is important to recognize the azygos lobe to avoid misinterpretation of radiological images. Incorrect Responses: (A) Heart This option is incorrect because the azygos lobe is not found in the heart. The heart has no such anatomical variation. The azygos lobe is specifically a lung anomaly and does not relate to the structure of the heart. (B) Spleen This option is incorrect because the azygos lobe is not found in the spleen. The spleen is involved in filtration of blood and immune functions, and it does not have a connection with the azygos system or the azygos lobe. (D) Pancreas This option is incorrect because the azygos lobe is not found in the pancreas. The pancreas is a gland involved in digestion and hormone regulation, but it does not have any anatomical structures resembling the azygos lobe.",
    "correct_choice_id": 200082,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60955561697980667/60955561697980667.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60955561697980667/60955561697980667.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50021,
    "choices": [
      {
        "id": 200084,
        "text": "C2, C3, C4"
      },
      {
        "id": 200085,
        "text": "C3,C4,C5"
      },
      {
        "id": 200086,
        "text": "C4,C5,T1"
      },
      {
        "id": 200087,
        "text": "C5,T1,T2"
      }
    ],
    "text": "Root value of phrenic nerve is?",
    "unique_key": "Q9592518",
    "question_audio": null,
    "question_video": null,
    "map_id": 34740277,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) C3, C4, C5 The phrenic nerve originates from the C3, C4, and C5 spinal nerves, with the major contributions coming from C4. It is the primary motor nerve to the diaphragm, which is essential for breathing. The phrenic nerve also provides sensory innervation to parts of the pleura, pericardium, and diaphragm. The mnemonic \"C3, C4, C5 keeps the diaphragm alive\" is often used to remember the root values of the phrenic nerve. Incorrect Responses: (A) C2, C3, C4 This option is incorrect because while the phrenic nerve does involve C3 and C4, it does not originate from C2. The C2 root does not contribute to the phrenic nerve, which is why this combination is incorrect. (C) C4, C5, T1 This option is incorrect because the phrenic nerve does not include contributions from T1. The phrenic nerve specifically arises from the C3, C4, and C5 roots. The T1 root is associated with the brachial plexus and is not involved in the formation of the phrenic nerve. (D) C5, T1, T2 This option is incorrect because, although C5 contributes to some neck and upper limb muscles, it is not a primary contributor to the phrenic nerve. The phrenic nerve arises from C3, C4, and C5, and T1 and T2 do not play a role in its formation.",
    "correct_choice_id": 200085,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60374551697980865/60374551697980865.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60374551697980865/60374551697980865.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50022,
    "choices": [
      {
        "id": 200088,
        "text": "Pseudoglandular"
      },
      {
        "id": 200089,
        "text": "Tubular"
      },
      {
        "id": 200090,
        "text": "Alveolar"
      },
      {
        "id": 200091,
        "text": "Canalicular"
      }
    ],
    "text": "First stage of lung development is?",
    "unique_key": "Q4156898",
    "question_audio": null,
    "question_video": null,
    "map_id": 34018742,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Pseudoglandular The first stage of lung development is the pseudoglandular stage, which occurs between 5 and 17 weeks of embryonic development. During this stage, the lung is characterized by the formation of the bronchial tree and the development of epithelial cells that begin to form a gland-like structure. The lungs are still not capable of gas exchange at this stage, as the airway structures are too primitive, but the foundation for future lung development is laid. This stage sets the groundwork for the next stages, where further differentiation of lung structures occurs. Incorrect Responses: (B) Tubular This option is incorrect because the tubular stage refers to a phase in early lung development where the lung consists of a simple, tubular structure with no branching of the bronchi yet. This stage occurs before the pseudoglandular phase, and thus it is not the first stage of lung development. (C) Alveolar This option is incorrect because the alveolar stage happens much later in lung development, specifically during the last 8 weeks of fetal life and into the postnatal period. During this stage, alveoli (air sacs) form and mature, allowing for gas exchange. The alveolar stage is not the first stage, and occurs much later than the pseudoglandular stage. (D) Canalicular This option is incorrect because the canalicular stage occurs after the pseudoglandular stage, typically between 16 and 25 weeks of fetal development. During this stage, the bronchioles become more defined, and primitive alveoli begin to form. However, it is not the first stage of lung development.",
    "correct_choice_id": 200088,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/40142311697980904/40142311697980904.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/40142311697980904/40142311697980904.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50023,
    "choices": [
      {
        "id": 200092,
        "text": "Bronchus"
      },
      {
        "id": 200093,
        "text": "Superior pulmonary vein"
      },
      {
        "id": 200094,
        "text": "Inferior pulmonary vein"
      },
      {
        "id": 200095,
        "text": "Pulmonary artery"
      }
    ],
    "text": "Most posterior structure seen in root of lung is ?",
    "unique_key": "Q1535839",
    "question_audio": null,
    "question_video": null,
    "map_id": 34212094,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Bronchus In the root of the lung, the bronchus is the most posterior structure. The root of the lung consists of various structures entering and exiting the lung through the hilum. These include the pulmonary artery, pulmonary veins, and the bronchi. The bronchus is situated most posteriorly in the root of the lung, running posterior to the pulmonary artery and veins. This anatomical arrangement is crucial for the proper function and organization of the lung's vascular and air conduction systems. Incorrect Responses: (B) Superior pulmonary vein This option is incorrect because the superior pulmonary vein lies more anteriorly and inferiorly relative to the bronchus in the root of the lung. The veins typically lie in front of the bronchus and artery, making them less posterior compared to the bronchus. (C) Inferior pulmonary vein Similar to the superior pulmonary vein, the inferior pulmonary vein also lies anterior and inferior to the bronchus. It is located towards the lower part of the hilum, and although it is below the bronchus, it is not the most posterior structure. (D) Pulmonary artery The pulmonary artery lies anterior to the bronchus in the root of the lung. It carries deoxygenated blood from the heart to the lungs and is positioned closer to the upper parts of the lung root compared to the bronchus.",
    "correct_choice_id": 200092,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/1129721697981688/1129721697981688.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/1129721697981688/1129721697981688.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50024,
    "choices": [
      {
        "id": 200096,
        "text": "T1 vertebra"
      },
      {
        "id": 200097,
        "text": "1st pair of ribs and their costal cartilage"
      },
      {
        "id": 200098,
        "text": "Superior border of the manubrium"
      },
      {
        "id": 200099,
        "text": "Xiphoid process"
      }
    ],
    "text": "Superior thoracic aperture is bounded by following EXCEPT",
    "unique_key": "Q8540176",
    "question_audio": null,
    "question_video": null,
    "map_id": 34331882,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Xiphoid process The xiphoid process is NOT a boundary of the superior thoracic aperture. The xiphoid process is the lower, cartilaginous part of the sternum and is located at the inferior end of the sternum. It is part of the inferior boundary of the thoracic cavity but is not involved in the formation of the superior thoracic aperture. The superior thoracic aperture is at the top of the thoracic cavity and does not include the xiphoid process in its boundary. Incorrect Responses: (A) T1 vertebra This statement is true. The T1 vertebra forms the posterior boundary of the superior thoracic aperture. It is located at the level of the first thoracic vertebra, which is one of the boundaries of the opening. (B) 1st pair of ribs and their costal cartilage This statement is true. The first pair of ribs, along with their associated costal cartilage, form the lateral boundary of the superior thoracic aperture. The first rib arches over and contributes to the definition of the opening at the top of the thorax. (C) Superior border of the manubrium This statement is true. The superior border of the manubrium of the sternum forms the anterior boundary of the superior thoracic aperture. The manubrium is the upper part of the sternum, and its superior border helps define the opening to the thoracic cavity.",
    "correct_choice_id": 200099,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/47865191697981730/47865191697981730.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/47865191697981730/47865191697981730.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50025,
    "choices": [
      {
        "id": 200100,
        "text": "Arch of aorta"
      },
      {
        "id": 200101,
        "text": "SVC"
      },
      {
        "id": 200102,
        "text": "Pulmonary trunk"
      },
      {
        "id": 200103,
        "text": "Left ventricle"
      }
    ],
    "text": "Which of the following is related to mediastinal part of right lung",
    "unique_key": "Q3915791",
    "question_audio": null,
    "question_video": null,
    "map_id": 34657421,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) SVC The superior vena cava (SVC) is related to the mediastinal part of the right lung. The SVC lies on the right side of the heart and passes vertically down along the right side of the mediastinum. As it descends, it is in close proximity to the right lung, particularly the right upper lobe and right hilum. It drains the venous blood from the upper body (head, neck, and arms) and empties into the right atrium. Therefore, it is the correct structure related to the mediastinal part of the right lung. Incorrect Responses: (A) Arch of aorta This statement is incorrect because the arch of the aorta is located on the left side of the thorax. It arches over from the left ventricle, passing behind the left main bronchus and to the left of the trachea, which is in relation to the left lung. The arch of the aorta does not have a direct relationship with the mediastinal part of the right lung. (C) Pulmonary trunk This statement is incorrect because the pulmonary trunk originates from the right ventricle and bifurcates into the right and left pulmonary arteries. The right pulmonary artery, which is part of the pulmonary trunk, is located posteriorly to the ascending aorta and right atrium, but the pulmonary trunk itself is not directly related to the mediastinal part of the right lung. (D) Left ventricle This statement is incorrect because the left ventricle is located on the left side of the heart and is primarily responsible for pumping oxygenated blood to the body. It does not have a direct relationship with the mediastinal part of the right lung, which is situated on the opposite side of the thoracic cavity.",
    "correct_choice_id": 200101,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56867711697981760/56867711697981760.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/56867711697981760/56867711697981760.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50026,
    "choices": [
      {
        "id": 200104,
        "text": "Oesophageal opening"
      },
      {
        "id": 200105,
        "text": "Paraesophageal opening"
      },
      {
        "id": 200106,
        "text": "Foramen of morgagni"
      },
      {
        "id": 200107,
        "text": "None"
      }
    ],
    "text": "Anterior diaphragnatic hernia is through \u2013",
    "unique_key": "Q7162529",
    "question_audio": null,
    "question_video": null,
    "map_id": 34660220,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Foramen of Morgagni The anterior diaphragmatic hernia typically occurs through the Foramen of Morgagni, which is an opening in the diaphragm located near the xiphoid process and the sternal margin. This foramen is normally a small anatomical defect that allows for the passage of vessels, but in some cases, abdominal organs such as the liver or stomach may herniate into the thoracic cavity through this opening. Anterior diaphragmatic hernias are more common in this location, especially in infants and children. Incorrect Responses: (A) Oesophageal opening This is incorrect because the oesophageal opening (also known as the esophageal hiatus) is an opening in the diaphragm through which the esophagus and vagus nerves pass. While hernias can occur at this site (called a hiatal hernia), it is not considered an anterior diaphragmatic hernia. Hiatal hernias usually involve the stomach or part of the esophagus, and they are not typically classified as anterior diaphragmatic hernias. (B) Paraesophageal opening This is incorrect because the paraesophageal opening is an area near the oesophageal hiatus, and it is a potential site for hernias such as paraesophageal hernias. However, this is not an anterior diaphragmatic hernia, as the paraesophageal hernia refers to the stomach or other abdominal organs moving alongside the esophagus into the thoracic cavity, but not through the anterior diaphragm. (D) None This is incorrect because the Foramen of Morgagni is the correct anatomical site for anterior diaphragmatic hernias, so the \"None\" option does not apply.",
    "correct_choice_id": 200106,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/74898771697981800/74898771697981800.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/74898771697981800/74898771697981800.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50027,
    "choices": [
      {
        "id": 200108,
        "text": "Left atrium"
      },
      {
        "id": 200109,
        "text": "Left ventricle"
      },
      {
        "id": 200110,
        "text": "Right atrium"
      },
      {
        "id": 200111,
        "text": "Right ventricle"
      }
    ],
    "text": "Posterior to sternum is -",
    "unique_key": "Q9613011",
    "question_audio": null,
    "question_video": null,
    "map_id": 34034467,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Right ventricle The right ventricle is located posterior to the sternum in the thoracic cavity. It lies directly behind the xiphoid process and the lower part of the sternum, making it the most anterior chamber of the heart when viewed from the front, but it is situated posteriorly in relation to the sternum. The right ventricle pumps deoxygenated blood to the lungs via the pulmonary artery and is separated from the anterior chest wall by the sternum. Incorrect Responses: (A) Left atrium This is incorrect because the left atrium is located more posteriorly in the chest cavity, but it is not directly behind the sternum. The left atrium is situated on the posterior side of the heart, primarily resting against the vertebral column. It lies more posterior to the left ventricle and is not in direct contact with the sternum. (B) Left ventricle This is incorrect because the left ventricle is located posterior to the right ventricle but anterior to the left atrium and the spine. While the left ventricle is the largest chamber of the heart and is positioned more to the left side of the thorax, it does not lie directly posterior to the sternum, but rather, it is positioned slightly laterally to it. (C) Right atrium This is incorrect because the right atrium is located to the right of the sternum and is superior to the right ventricle, forming part of the anterior surface of the heart. It lies behind the costal cartilage but not directly behind the sternum.",
    "correct_choice_id": 200111,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/50889141697981816/50889141697981816.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/50889141697981816/50889141697981816.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50028,
    "choices": [
      {
        "id": 200112,
        "text": "Scalenus posterior"
      },
      {
        "id": 200113,
        "text": "Serroatus posterior superior"
      },
      {
        "id": 200114,
        "text": "Scalenus medius"
      },
      {
        "id": 200115,
        "text": "None of the above"
      }
    ],
    "text": "Which of following is attached to first rib-",
    "unique_key": "Q3281961",
    "question_audio": null,
    "question_video": null,
    "map_id": 34135437,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Scalenus medius The scalenus medius muscle is attached to the first rib. It is one of the three scalene muscles located in the neck, and its origin is from the transverse processes of the cervical vertebrae (C1 to C7). The muscle inserts into the upper surface of the first rib, making it responsible for the elevation of the first rib during inspiration and contributing to lateral flexion of the neck. This muscle is also important for its role in nerve and vessel passage, with the brachial plexus and subclavian artery passing between the scalenus anterior and scalenus medius. Incorrect Responses: (A) Scalenus posterior This is incorrect because the scalenus posterior does not attach to the first rib. It actually attaches to the second rib and plays a role in elevating the second rib. The scalenus posterior is located behind the scalenus medius, but it does not have any attachment to the first rib. (B) Serratus posterior superior This is incorrect because the serratus posterior superior does not attach to the first rib. Instead, it attaches to the upper ribs (2nd to 5th) and plays a role in elevating these ribs during inspiration. It is not connected to the first rib. (D) None of the above This is incorrect because option (C) is the correct answer. The scalenus medius is the muscle attached to the first rib, so \"None of the above\" is not the right choice.",
    "correct_choice_id": 200114,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/32596911697981854/32596911697981854.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/32596911697981854/32596911697981854.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50029,
    "choices": [
      {
        "id": 200116,
        "text": "Anterior, posterior, medial"
      },
      {
        "id": 200117,
        "text": "Lateral, medial, superior"
      },
      {
        "id": 200118,
        "text": "Apical, anterior, posterior"
      },
      {
        "id": 200119,
        "text": "Basal, medial, lateral"
      }
    ],
    "text": "Which are segments of upper lobe of right lung \u2013",
    "unique_key": "Q1254344",
    "question_audio": null,
    "question_video": null,
    "map_id": 34001984,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Apical, anterior, posterior The upper lobe of the right lung consists of three segments: apical, anterior, and posterior. These segments are located in the superior part of the lung and are involved in air exchange. The apical segment is situated at the top of the lung, the anterior segment is found towards the front, and the posterior segment is located at the back. These segments are distinct for the right lung's upper lobe. Incorrect Responses: (A) Anterior, posterior, medial This is incorrect because while the anterior and posterior segments are part of the upper lobe of the right lung, the medial segment is not present in the upper lobe. The right lung\u2019s upper lobe has apical, anterior, and posterior segments, but not a medial one. (B) Lateral, medial, superior This is incorrect because the lateral and medial segments do not exist in the upper lobe of the right lung. These terms describe segments in other parts of the lung, like the middle lobe (lateral and medial), but they do not correspond to the upper lobe's segments. (D) Basal, medial, lateral This is incorrect because the basal, medial, and lateral segments are part of the lower lobe or middle lobe of the lung, not the upper lobe. The basal segments are in the lower lobe, and lateral and medial are more related to the middle lobe's anatomy.",
    "correct_choice_id": 200118,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/54106681697981920/54106681697981920.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/54106681697981920/54106681697981920.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50030,
    "choices": [
      {
        "id": 200120,
        "text": "Shorter"
      },
      {
        "id": 200121,
        "text": "Wider"
      },
      {
        "id": 200122,
        "text": "More horizontal"
      },
      {
        "id": 200123,
        "text": "In the line of trachea"
      }
    ],
    "text": "Not true about right bronchus",
    "unique_key": "Q5553943",
    "question_audio": null,
    "question_video": null,
    "map_id": 34427715,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) More horizontal The right bronchus is not more horizontal. In fact, it is more vertical compared to the left bronchus. The right bronchus is shorter, wider, and more directly in line with the trachea, making it more vertical and aligned with the trachea. Its more vertical orientation makes it easier for aspirated objects to enter the right lung compared to the left. Incorrect Responses: (A) Shorter This is correct because the right bronchus is indeed shorter than the left bronchus. The right main bronchus branches off more directly from the trachea, making it shorter compared to the left main bronchus. (B) Wider This is correct because the right bronchus is wider than the left. The left bronchus is more narrow due to the space required for the heart, whereas the right bronchus has a larger diameter. (D) In the line of trachea This is correct because the right bronchus is more in the line of the trachea. It branches off at a more direct angle (approximately 20-30 degrees) from the trachea, compared to the left bronchus, which branches at a sharper angle (approximately 45 degrees).",
    "correct_choice_id": 200122,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/69451361697981952/69451361697981952.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/69451361697981952/69451361697981952.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50031,
    "choices": [
      {
        "id": 200124,
        "text": "Longer and narrow"
      },
      {
        "id": 200125,
        "text": "Shorter and narrow"
      },
      {
        "id": 200126,
        "text": "Longer and wider"
      },
      {
        "id": 200127,
        "text": "Shorter and wider"
      }
    ],
    "text": "Left bronchus is",
    "unique_key": "Q5422333",
    "question_audio": null,
    "question_video": null,
    "map_id": 34968484,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Longer and narrow The left bronchus is longer and narrower than the right bronchus. This is due to the anatomical position of the heart, which shifts the left lung and its bronchus more towards the left side. The left bronchus has a more horizontal course and a smaller diameter compared to the right bronchus. It is also more angled as it passes beneath the aortic arch. Incorrect Responses: (B) Shorter and narrow This is incorrect because while the left bronchus is narrower than the right bronchus, it is not shorter. The left bronchus is actually longer than the right, and it passes a more horizontal course due to the heart's position. (C) Longer and wider This is incorrect because the left bronchus is indeed longer, but it is not wider. In fact, the left bronchus is narrower than the right, not wider. The right bronchus is shorter and wider, which allows for easier passage of air into the right lung. (D) Shorter and wider This is incorrect because the left bronchus is longer, not shorter, and it is narrower, not wider. The right bronchus, however, is shorter and wider than the left.",
    "correct_choice_id": 200124,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/18026991697982020/18026991697982020.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/18026991697982020/18026991697982020.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50032,
    "choices": [
      {
        "id": 200128,
        "text": "Pain insensitive"
      },
      {
        "id": 200129,
        "text": "Supplied by phrenic nerves"
      },
      {
        "id": 200130,
        "text": "Has three borders"
      },
      {
        "id": 200131,
        "text": "Develops from splanchnopleural mesoderm"
      }
    ],
    "text": "Not true about visceral pleura",
    "unique_key": "Q4345630",
    "question_audio": null,
    "question_video": null,
    "map_id": 34379242,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Supplied by phrenic nerves The visceral pleura is not supplied by the phrenic nerves. Instead, it is primarily supplied by the autonomic nervous system, particularly the sympathetic nerves. The phrenic nerve primarily supplies the parietal pleura, which is the outer layer of the pleura, especially in the region of the diaphragm. This is the reason why B is the correct answer, as it is not true that the visceral pleura is supplied by the phrenic nerve. Incorrect Responses: (A) Pain insensitive This statement is correct. The visceral pleura is insensitive to pain, as it lacks pain receptors. It is innervated by the autonomic nervous system, which does not transmit pain signals. Pain sensation from the pleura typically arises from the parietal pleura, which is more sensitive to pain and is innervated by somatic nerves. (C) Has three borders This statement is correct. The visceral pleura, like other serous membranes, has three borders: an anterior border, a posterior border, and an inferior border. These borders are continuous with the pleura around the lungs and are involved in the anatomy of the lung's structure and the pleural cavities. (D) Develops from splanchnopleural mesoderm This statement is correct. The visceral pleura develops from the splanchnopleural mesoderm, which is part of the embryonic layer responsible for forming structures related to the internal organs, including the lungs and their pleura.",
    "correct_choice_id": 200129,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/8434701697982035/8434701697982035.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/8434701697982035/8434701697982035.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50033,
    "choices": [
      {
        "id": 200132,
        "text": "Right phrenic nerve"
      },
      {
        "id": 200133,
        "text": "Azygous vein"
      },
      {
        "id": 200134,
        "text": "Gastric nerves"
      },
      {
        "id": 200135,
        "text": "Thoracic duct"
      }
    ],
    "text": "Structure passing through esophageal opening of diaphragm",
    "unique_key": "Q8223641",
    "question_audio": null,
    "question_video": null,
    "map_id": 34499216,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Gastric nerves The esophageal opening of the diaphragm is the point where the esophagus passes through the diaphragm at the level of T10. Along with the esophagus, the gastric nerves, which are part of the vagus nerve and sympathetic nerves, pass through this opening. These nerves provide innervation to the stomach, and they accompany the esophagus as it passes through the diaphragm into the abdomen. Therefore, the correct answer is C. Incorrect Responses: (A) Right phrenic nerve The right phrenic nerve passes through the diaphragm, but it does so at a different location. It travels through the muscle of the diaphragm and does not pass through the esophageal opening. The right phrenic nerve supplies motor and sensory innervation to the diaphragm, but it does not pass through the esophageal opening, making A incorrect. (B) Azygous vein The azygous vein drains blood from the thoracic wall and passes through the diaphragm, but it does so through the aortic opening, not the esophageal opening. The azygous vein drains into the superior vena cava and is not involved with the passage of the esophagus or gastric nerves, so B is incorrect. (D) Thoracic duct The thoracic duct, which drains lymph from the lower body and the left side of the upper body, passes through the aortic opening of the diaphragm, not the esophageal opening. It enters the abdomen alongside other structures such as the aorta and the azygous vein.",
    "correct_choice_id": 200134,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/35206681697982133/35206681697982133.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/35206681697982133/35206681697982133.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50034,
    "choices": [
      {
        "id": 200136,
        "text": "Anterior segment of left lower lobe"
      },
      {
        "id": 200137,
        "text": "Posterior segment of right upper lobe."
      },
      {
        "id": 200138,
        "text": "Lingular segments of left lung"
      },
      {
        "id": 200139,
        "text": "Middle lobe segments of right lung"
      },
      {
        "id": 200140,
        "text": "Medial Basal segment of left lower lobe"
      }
    ],
    "text": "65 years old man is admitted to hospital after suffering cerebral infarction. Despite being maintained on adequate dietary restrictions, the patient experiences an episode of vomiting while lying on his back and subsequently develops pneumonia. Which of the following lung regions is most likely to be affected",
    "unique_key": "Q5663242",
    "question_audio": null,
    "question_video": null,
    "map_id": 34960570,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Posterior segment of right upper lobe & Superior basal (Superior) segment of right lower lobe are most dependent segments in supine position",
    "correct_choice_id": 200137,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/44778481698324559/44778481698324559.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/44778481698324559/44778481698324559.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50035,
    "choices": [
      {
        "id": 200141,
        "text": "Left inferior lobe"
      },
      {
        "id": 200142,
        "text": "Left Upper lobe"
      },
      {
        "id": 200143,
        "text": "Right middle lobe"
      },
      {
        "id": 200144,
        "text": "Right inferior lobe"
      },
      {
        "id": 200145,
        "text": "Carina"
      }
    ],
    "text": "A worried and anxious mother brings her 3 year old baby into the Emergency Department because he aspirated a small metal button off of his shirt. The button is most likely located in the following place:",
    "unique_key": "Q1769597",
    "question_audio": null,
    "question_video": null,
    "map_id": 34657931,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Right inferior lobe (Post. Basal segment) is most dependent segment in erect position",
    "correct_choice_id": 200144,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34707331698324579/34707331698324579.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34707331698324579/34707331698324579.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50036,
    "choices": [
      {
        "id": 200146,
        "text": "Accessory nerve"
      },
      {
        "id": 200147,
        "text": "Inferior thyroid artery"
      },
      {
        "id": 200148,
        "text": "Lung pleura"
      },
      {
        "id": 200149,
        "text": "Ansa cervicalis"
      }
    ],
    "text": "A 25 years old male is brought to the emergency room after being involved in a fight in a nearby bar. His blood pressure is 100/70 mmHg and his heart rate is 104/min. Physical examination reveals a penetrating right-sided neck injury just above the clavicle and lateral to the manubrium sterni. Which of the following structures was most likely injured?",
    "unique_key": "Q3494408",
    "question_audio": null,
    "question_video": null,
    "map_id": 34878888,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Cervical part of Lung pleura will be injured in such position<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/qid%2069836.jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200148,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/33243611698324597/33243611698324597.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/33243611698324597/33243611698324597.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50037,
    "choices": [
      {
        "id": 200150,
        "text": "Club cells"
      },
      {
        "id": 200151,
        "text": "Eosinophils"
      },
      {
        "id": 200152,
        "text": "Type I pneumocytes"
      },
      {
        "id": 200153,
        "text": "Type II pneumocytes"
      },
      {
        "id": 200154,
        "text": "Mast cells"
      },
      {
        "id": 200155,
        "text": "Neutrophils"
      }
    ],
    "text": "A 64 years old man comes to you for evaluation of progressive exertional dyspnea. His past medical history is significant for pneumonia and hypertension. He has a 48-pack-year smoking history. On physical examination, breath sounds are decreased bilaterally and wheezes are heard. A CT scan of his chest reveals emphysematous changes. Which of the following cells most likely contributed to the development of this patient\u2019s lung condition?",
    "unique_key": "Q9581379",
    "question_audio": null,
    "question_video": null,
    "map_id": 34234530,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (F) in response to chronic insult to lung tissue first local cells i.e. Alveolar macrophages release elastase but when the inflammation level is very high and chronic then they recruit the circulating Neutrophils which also release elastase, eventually patient develops Emphysema because these proteases can cause destruction of terminal lung parenchyma (eg. emphysema) when secreted in excess or if left unchecked by deficient antiprotease activity",
    "correct_choice_id": 200155,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/5543041698328391/5543041698328391.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/5543041698328391/5543041698328391.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50038,
    "choices": [
      {
        "id": 200156,
        "text": "Alveolar macrophages"
      },
      {
        "id": 200157,
        "text": "Ciliated epithelium"
      },
      {
        "id": 200158,
        "text": "Club cells"
      },
      {
        "id": 200159,
        "text": "Goblet cells"
      },
      {
        "id": 200160,
        "text": "Type I pneumocytes"
      },
      {
        "id": 200161,
        "text": "Type II pneumocytes"
      }
    ],
    "text": "Physiologist conduct a study to identify the protein constituents present in normal pulmonary secretions. Bronchoalveolar lavage fluid obtained from a 32 years old healthy volunteer is found to contain elastase. This enzyme is most likely derived from which of the following cells?",
    "unique_key": "Q8586109",
    "question_audio": null,
    "question_video": null,
    "map_id": 34603373,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Elastase is produced by Alveolar macrophages.",
    "correct_choice_id": 200156,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/40094901698328411/40094901698328411.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/40094901698328411/40094901698328411.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50039,
    "choices": [
      {
        "id": 200162,
        "text": "Alveolar macrophages"
      },
      {
        "id": 200163,
        "text": "Ciliated epithelium"
      },
      {
        "id": 200164,
        "text": "Club cells"
      },
      {
        "id": 200165,
        "text": "Goblet cells"
      },
      {
        "id": 200166,
        "text": "Type I pneumocytes"
      },
      {
        "id": 200167,
        "text": "Type II pneumocytes"
      }
    ],
    "text": "In regenerative medicine research, a series of animal experiments were conducted to determine pulmonary tissue regeneration capacity. During one experiment, Histologic examination of the massively injured tissues later shows partial recovery of the alveolar epithelial lining. This regenerated tissue is most likely derived from which of the following cell types?",
    "unique_key": "Q6487052",
    "question_audio": null,
    "question_video": null,
    "map_id": 34524674,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (F) Type II pneumocytes secrete surfactant and also help in regeneration of tissue.",
    "correct_choice_id": 200167,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/2152171698328444/2152171698328444.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/2152171698328444/2152171698328444.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50040,
    "choices": [
      {
        "id": 200168,
        "text": "Azygous vein"
      },
      {
        "id": 200169,
        "text": "Aorta"
      },
      {
        "id": 200170,
        "text": "Thoracic duct"
      },
      {
        "id": 200171,
        "text": "Vagus"
      }
    ],
    "text": "In aorta opening all are present except-",
    "unique_key": "Q7002364",
    "question_audio": null,
    "question_video": null,
    "map_id": 34625117,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) In aorta opening structures present are (Mnemonic = ATA) = Option A-A - azygous vein Option B-T - thoracic duct Option C-A - aorta. Option D-The vagus will pass through oesophageal opening.",
    "correct_choice_id": 200171,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/78661651698506640/78661651698506640.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/78661651698506640/78661651698506640.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50041,
    "choices": [
      {
        "id": 200172,
        "text": "Attached to cervical pleura"
      },
      {
        "id": 200173,
        "text": "Developed form Scalenus anterior"
      },
      {
        "id": 200174,
        "text": "Subclavian vein arches over it"
      },
      {
        "id": 200175,
        "text": "Attached to seventh cervical vertebra"
      }
    ],
    "text": "Regarding Sibson\u2019s fascia all are true except-",
    "unique_key": "Q6659217",
    "question_audio": null,
    "question_video": null,
    "map_id": 34457889,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Option A-Sibson\u2019s fascia is Attached to cervical pleura present on apex of lung. Option B-Sibson\u2019s fascia develops from scalenus minimumus. Option C-Subclavian vein arches over Sibson\u2019s fascia. Option D-It is attached superiorly to seventh cervical vertebra.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/9(494).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200173,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/61694361698506706/61694361698506706.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/61694361698506706/61694361698506706.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50042,
    "choices": [
      {
        "id": 200176,
        "text": "Central tendon"
      },
      {
        "id": 200177,
        "text": "Posterolateral"
      },
      {
        "id": 200178,
        "text": "Crural"
      },
      {
        "id": 200179,
        "text": "Anterolateral"
      }
    ],
    "text": "Most common site of Congenital diaphragmatic hernia is",
    "unique_key": "Q4811652",
    "question_audio": null,
    "question_video": null,
    "map_id": 34529839,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Option A,C-Hernia from Central tendon and Crural site are rare. Option B-Most common site of Congenital diaphragmatic hernia/Bochdalek hernia is Posterolateral diaphragm. Option D-Most common site of morgagni hernia is Anterolateral diaphragm.",
    "correct_choice_id": 200177,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/40376631725256691/40376631725256691.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/40376631725256691/40376631725256691.m3u8",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '33  Lung Pleura Diaphragm';
        const quizFilename = '33-lung-pleura-diaphragm-beba29be.html';
        let hierarchy = ["DAMS", "DQB", "Anatomy"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on navigation
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>