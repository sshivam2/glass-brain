<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>274 Obstetrics And Gynecology Aiims 2020 (May And Nov Ini-Cet) - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Obstetrics & Gynecology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">23</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "The following groups of people must be screened for Ca cervix:",
    "choices": [
      {
        "id": 1,
        "text": "More than 65 years old"
      },
      {
        "id": 2,
        "text": "Less than 21 years old"
      },
      {
        "id": 3,
        "text": "21 to 65 year old females"
      },
      {
        "id": 4,
        "text": "Teenagers"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Screening for cervical cancer is done in females aged&nbsp;<strong>21 to 65 years.</strong></p>\n<table style=\"width: 452px;\">\n<tbody>\n<tr>\n<td style=\"width: 137.390625px;\"><strong>Age Group</strong></td>\n<td style=\"width: 294.609375px;\"><strong>Screening Recommendations</strong></td>\n</tr>\n<tr>\n<td style=\"width: 137.390625px;\">&lt;21 years</td>\n<td style=\"width: 294.609375px;\">Do not screen&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 137.390625px;\">21-29 years&nbsp;</td>\n<td style=\"width: 294.609375px;\">Cytologic testing (Pap smear) every 3 years</td>\n</tr>\n<tr>\n<td style=\"width: 137.390625px;\">30-65 years</td>\n<td style=\"width: 294.609375px;\">\n<p>Preferred: Cytologic and HPV co-testing every 5 years&nbsp;</p>\n<p>Alternative: Cytologic testing every 3 years</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 137.390625px;\">&gt;65 years</td>\n<td style=\"width: 294.609375px;\">Discontinue screening if sufficient negative screening results* present, and if there is no history of HSIL, adenocarcinoma in situ, or cancer.</td>\n</tr>\n<tr>\n<td style=\"width: 137.390625px;\">&nbsp;\n<div class=\"page\" title=\"Page 422\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Women who have undergone total hysterectomy with removal of cervix&nbsp;</p>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 294.609375px;\">Discontinue screening</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;*Three consecutive negative cytologic tests or two consecutive negative co-tests within the past 10 years, with the most recent test occurring within the past 5 years</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Oral contraceptives act by all of the following mechanisms except:",
    "choices": [
      {
        "id": 1,
        "text": "Inhibit  implantation"
      },
      {
        "id": 2,
        "text": "Cervical mucus thickening"
      },
      {
        "id": 3,
        "text": "Inhibit ovulation"
      },
      {
        "id": 4,
        "text": "Increase GnRH release"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Oral contraceptive pills </strong>(OCPs)&nbsp;do not cause an increase in GnRH, they <strong>inhibit the release of GnRH.</strong></p>\n<p>OCPs act via the following mechanisms:</p>\n<ul>\n<li><strong>Inhibiting ovulation</strong> - Both estrogen and progesterone act on the hypothalamic-pituitary axis to <strong>inhibit the release of GnRH</strong> (and thus subsequently LH and FSH). Seen in combined oral pills.</li>\n<li><strong>Preventing implantation</strong> - Under the effect of OCPs, <strong>endometrial stroma</strong> undergoes <strong>hypoplasia</strong>, with atrophy of glands. This makes it unfavorable for implantation of the embryo. Seen primarily with mifepristone, but is a secondary mechanism of action with&nbsp;progesterone-only pills as well.</li>\n<li><strong>Cervical mucus </strong>becomes<strong> thick and scanty</strong> under the effect of progesterone. This makes it <strong>difficult</strong> for <strong>sperm</strong> to enter. Seen in progesterone-only pills.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old woman is diagnosed with a high-grade squamous intraepithelial lesion (HSIL) of the cervix and no obvious macroscopic growth. What is the next line of management?",
    "choices": [
      {
        "id": 1,
        "text": "Hysterectomy"
      },
      {
        "id": 2,
        "text": "Conization"
      },
      {
        "id": 3,
        "text": "Colposcopy and biopsy"
      },
      {
        "id": 4,
        "text": "Follow-up after 6 months"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In a woman diagnosed with a&nbsp;<strong>high-grade squamous intraepithelial lesion</strong> (HSIL), the next step in management is to perform a&nbsp;<strong>colposcopy and biopsy.</strong></p>\n<p>Patients who are found to have HSIL are further subjected to biopsy. This is done by&nbsp;<strong>colposcopic study</strong>&nbsp;for the visual inspection with acetic acid (<strong>VIA</strong>) for<strong>&nbsp;aceto-white</strong> <strong>areas</strong>&nbsp;and taking biopsies of abnormal areas.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/26931a1b2b9e4dccb6bfa54c90857433x1280x1886.JPEG"
    ]
  },
  {
    "text": "A patient with 6 weeks amenorrhea and a positive pregnancy test came with complaints of lower abdominal pain, moderate bleeding PV. She was hemodynamically stable. On USG, there was no gestational sac in the uterus. Ovaries were normal and no free fluid in the pouch of Douglas. What is the next line of management?",
    "choices": [
      {
        "id": 1,
        "text": "Declare as complete abortion and follow-up in 15 days"
      },
      {
        "id": 2,
        "text": "Admit and observe"
      },
      {
        "id": 3,
        "text": "Diagnostic laparoscopy"
      },
      {
        "id": 4,
        "text": "Follow-up with beta-HCG"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The patient presents with a history of 6 weeks of <strong>amenorrhea</strong>, a<strong> positive urine pregnancy test</strong>,\u00a0<strong>abdominal pain</strong> and\u00a0<strong>moderate vaginal bleeding</strong>. However, the <strong>ultrasound examination does not reveal a gestational sac</strong> in the uterus, which could indicate either an<strong> ectopic pregnancy</strong> or an <strong>abortion</strong>. In such cases, the next line of management is to <strong>follow up with beta-HCG</strong> (human chorionic gonadotropin) levels.</p>\n<p>Beta-HCG levels<strong> above 1500 mIU/mL</strong> are considered the <strong>discriminatory value</strong>, beyond which a gestational sac should be visible on transvaginal ultrasound.</p>\n<p>If the gestational sac is not visible on ultrasound and the beta-HCG levels are <strong>above 1500 mIU/mL</strong>, it suggests an <strong>ectopic pregnancy</strong>. On the other hand, if the beta-HCG levels are <strong>below 1500 mIU/mL</strong>, they can be <strong>repeated after 48 hours</strong> and interpreted as follows:</p>\n<ul>\n<li><strong>Decreasing HCG levels</strong> between day 1 and day 3 suggest a possible <strong>abortion</strong>.</li>\n<li>If the <strong>HCG levels rise</strong> during this period but does not double, it indicates a likely <strong>ectopic pregnancy</strong>.</li>\n</ul>\n<p><strong>Note</strong>: While some institutions set the discriminatory threshold for HCG levels at \u2265 1500 mIU/mL, others use \u2265 2000 mIU/mL.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A hypertensive pregnant woman with abdominal pain, bleeding per vaginum, and loss of fetal movements. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Abruptio placenta"
      },
      {
        "id": 2,
        "text": "Placenta previa"
      },
      {
        "id": 3,
        "text": "Hydramnios"
      },
      {
        "id": 4,
        "text": "Preterm labour"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical picture with<strong> abdominal pain</strong>, <strong>bleeding per vaginum</strong>, and <strong>loss of fetal movements</strong> in a <strong>hypertensive pregnant woman</strong> points to the diagnosis of <strong>placental abruption.&nbsp;&nbsp;</strong></p>\n<p><strong>Placenta previa</strong> (option B) refers to when the placenta is implanted partially or completely over the internal os and it usually presents with <strong>painless</strong> vaginal bleeding.</p>\n<p><strong>Hydramnios</strong> (option C) refers to a state where the volume of amniotic fluid exceeds 2000mL and it does not present with bleeding per vaginum.&nbsp;</p>\n<p>In <strong>preterm labor</strong> (option D) fetal movements are not compromised.&nbsp;</p>\n<p>Abruptio placenta is the <strong>partial/total placental separation</strong> from its implantation site <strong>before delivery</strong>. The bleeding may be:</p>\n<ul>\n<li><strong>Revealed</strong>&nbsp;(blood dissects downwards between membranes and uterine wall to escape through the cervix)&nbsp;</li>\n<li><strong>Concealed</strong> (blood accumulates between the detached placenta and uterus)</li>\n</ul>\n<p><strong>Hypertension</strong> in pregnancy is the most important risk factor for abruptio placenta.&nbsp;Patients often present with&nbsp;sudden onset abdominal pain, vaginal bleeding,&nbsp;uterine tenderness, and frequent contractions.&nbsp;</p>\n<p>The hemorrhage into decidua basalis causes separation and compression of the placenta. This leads to a <strong>compromise</strong> of circulation to the&nbsp;<strong>fetus</strong>, leading to <strong>fetal</strong> <strong>distress.</strong></p>\n<p>Clinical classification of placental abruption:</p>\n<table style=\"width: 282px;\">\n<tbody>\n<tr>\n<td style=\"width: 248px;\"><strong>Grade 1</strong></td>\n<td style=\"width: 196px;\"><strong>Grade 2</strong></td>\n<td style=\"width: 67px;\"><strong>Grade 3</strong></td>\n</tr>\n<tr>\n<td style=\"width: 248px;\"><strong>Vaginal bleeding</strong> is slight</td>\n<td style=\"width: 196px;\">Vaginal bleeding mild to moderate</td>\n<td style=\"width: 67px;\">Bleeding is moderate to severe or concealed.</td>\n</tr>\n<tr>\n<td style=\"width: 248px;\">\n<p>Uterus irritable, minimal tenderness</p>\n</td>\n<td style=\"width: 196px;\"><strong>Uterine tenderness</strong> is always present</td>\n<td style=\"width: 67px;\">Uterine tenderness is marked.</td>\n</tr>\n<tr>\n<td style=\"width: 248px;\">Maternal BP and fibrinogen unaffected</td>\n<td style=\"width: 196px;\">Maternal pulse increased, BP maintained</td>\n<td style=\"width: 67px;\">Shock is pronounced</td>\n</tr>\n<tr>\n<td style=\"width: 248px;\">FHS good</td>\n<td style=\"width: 196px;\"><strong>Fetal distress present</strong></td>\n<td style=\"width: 67px;\">Fetal death is the rule</td>\n</tr>\n<tr>\n<td style=\"width: 248px;\">Maternal shock absent</td>\n<td style=\"width: 196px;\">Maternal shock absent</td>\n<td style=\"width: 67px;\">Associated coagulation defect or anuria may complicate</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old woman visits an infertility clinic. She has a regular 28-day cycle. How should she be evaluated?",
    "choices": [
      {
        "id": 1,
        "text": "Serum progesterone on day 14"
      },
      {
        "id": 2,
        "text": "Serum progesterone on day 21"
      },
      {
        "id": 3,
        "text": "Serum LH on day 14"
      },
      {
        "id": 4,
        "text": "Serum LH on day 21"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Serum progesterone </strong>on<strong> day 21</strong> should be evaluated in this woman to check for anovulatory cycles.&nbsp;&nbsp;</p>\n<p><strong>Anovulation</strong> is the major cause of female infertility. Therefore, tests are done to rule out anovulatory defects in a woman presenting with infertility.&nbsp;</p>\n<p>After ovulation, the plasma concentration of progesterone increases and reaches its peak during the <strong>mid-luteal</strong> phase. Serum progesterone levels are assessed on <strong>day 8</strong> and <strong>day 21</strong> of a 28-day cycle. If the progesterone value increases from less than 1 ng/mL to greater than 6 ng/mL, it indicates ovulation. Subsequently, as the corpus luteum degenerates, progesterone levels decline.</p>\n<p>If the plasma progesterone level remains low during the mid-luteal phase, it suggests a&nbsp;<strong>corpus luteal phase defect</strong> and indicates the need for hormonal therapy.</p>\n<div class=\"page\" title=\"Page 216\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Daily estimation</strong> of <strong>serum LH</strong>&nbsp;(options C and D) around the midcycle can detect the <strong>LH surge</strong>. Ovulation coincides about 10 to 12 hours after the LH peak.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old woman presents with abnormal uterine bleeding for two months. What is the next line of management?",
    "choices": [
      {
        "id": 1,
        "text": "LNG- IUCD"
      },
      {
        "id": 2,
        "text": "POP for 3 months"
      },
      {
        "id": 3,
        "text": "Hysterectomy"
      },
      {
        "id": 4,
        "text": "Endometrial sampling"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The next line of management in a<strong> 50-year-old woman </strong>with<strong> abnormal uterine bleeding&nbsp;</strong>is&nbsp;<strong>endometrial sampling</strong>.</p>\n<p>Indications for<strong> endometrial sampling</strong>:</p>\n<ul>\n<li>Any <strong>female &gt; 45 years with abnormal uterine bleeding</strong></li>\n<li>A female of age &lt; 45 years having <strong>exposure to excessive estrogen</strong> such as in <strong>PCOD</strong>, severe <strong>obesity</strong>, tamoxifen treatment</li>\n<li>Women with failed medical management and persistent bleeding</li>\n<li>Transvaginal ultrasound findings&nbsp;<strong>&gt;12 mm in premenopausal women</strong> and<strong> &gt; 4 mm in postmenopausal women.</strong></li>\n</ul>\n<p>Endometrial sampling may be done by either curettage or aspiration biopsy by pipelle or vibra aspirator.</p>\n<p>Note: <strong>Transvaginal ultrasound</strong> is a better <strong>first-line</strong> investigation to assess AUB. Since TVS is not included in the options, endometrial sampling is the next best answer. Assessing the reason for AUB and ruling out malignancy in the postmenopausal age group are the initial steps before prescribing any treatment.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with 12 weeks amenorrhea presents with vaginal bleeding. On examination, the cervical os is open and the uterus is of 14 weeks size. USG shows a snowstorm appearance. The next best step in the management is?",
    "choices": [
      {
        "id": 1,
        "text": "Medical management"
      },
      {
        "id": 2,
        "text": "Follow up with beta-hCG"
      },
      {
        "id": 3,
        "text": "Suction and evacuation"
      },
      {
        "id": 4,
        "text": "Hysterectomy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Suction and evacuation</strong> is the treatment of choice. <strong>Hysterectomy </strong>(option D)&nbsp;is done only if there is uncontrolled hemorrhage or perforation during surgical evacuation or if the age of the patient is above 35 years and has completed her family.</p>\n<p>Serum hCG levels (option B) are checked <strong>within 48 hours</strong> of evacuation and are used as a <strong>baseline</strong> for future comparisons. It is then checked <strong>every week till it normalizes</strong>, which usually takes around 4 to 8 weeks. After the hCG values return to normal, a regular follow-up is done <strong>monthly for 6 months.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c859612450c4425b9502ffaf05dbf8a5x720x605.JPEG"
    ]
  },
  {
    "text": "A 45-year-old woman is found to have a fibroid of 14 weeks size. She has no specific symptoms. What is the next step in management?",
    "choices": [
      {
        "id": 1,
        "text": "Hysterectomy"
      },
      {
        "id": 2,
        "text": "Myomectomy"
      },
      {
        "id": 3,
        "text": "Observation"
      },
      {
        "id": 4,
        "text": "Medical management"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In this 45-year-old woman (&gt;40 years) with an <strong>asymptomatic</strong> <strong>fibroid</strong> of 14-week size, the next best step in management would be <strong>observation</strong>.\u00a0</p>\n<p>Fibroids/leiomyomas are slow-growing benign tumours thus regardless of their size asymptomatic fibroids are managed conservatively with observation and annual checkups.\u00a0</p>\n<p><strong>Indications</strong> for the <strong>treatment</strong> of fibroids are:</p>\n<ul>\n<li>Abnormal uterine bleeding</li>\n<li>A rapid increase in the growth of fibroid</li>\n<li>Infertility</li>\n<li>Chronic pelvic pain/ bulk symptoms</li>\n</ul>\n<p>Other options:</p>\n<p>Option A: Hysterectomy is usually reserved as the definitive treatment of choice for women who have <strong>completed</strong> their <strong>family</strong> and <strong>do</strong> <strong>not</strong> wish to <strong>preserve</strong> their <strong>fertility</strong>.</p>\n<div class=\"page\" title=\"Page 177\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option B: Myomectomy is a surgical procedure that involves removing fibroids while preserving the uterus.\u00a0It is indicated in an<strong> infertile woman</strong> or a <strong>woman desirous of childbearing</strong> and wishing to retain the uterus.</p>\n<div class=\"page\" title=\"Page 181\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option D: Medical therapy aims to <strong>control menorrhagia</strong> in cases of <strong>symptomatic fibroids</strong>, improve haemoglobin levels before surgery, and shrink the fibroids before procedures such as myomectomy.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following structures are cut in mediolateral episiotomy except?",
    "choices": [
      {
        "id": 1,
        "text": "Transverse perineal  muscles"
      },
      {
        "id": 2,
        "text": "Obturator muscle"
      },
      {
        "id": 3,
        "text": "Bulbospongiosus"
      },
      {
        "id": 4,
        "text": "Transverse perineal branches of pudendal  nerves"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>All the mentioned structures are cut in mediolateral episiotomy except for the&nbsp;<strong>o</strong><strong>bturator muscle.</strong></p>\n<p><strong>Episiotomy&nbsp;</strong>refers to the surgically planned incision on the perineum and the posterior vaginal wall during&nbsp;the second stage of labor.&nbsp;The objective is to enlarge the vaginal introitus so as to facilitate easy and safe delivery of the fetus and to <strong>minimize overstretching</strong> and <strong>rupture</strong> of the perineal muscles and fascia, which might end up in complete tears.</p>\n<p>In <strong>mediolateral episiotomy</strong>,<em>&nbsp;</em>the incision is made downwards and outwards from the midpoint of the fourchette&nbsp;either to the right or to the left. The other types of episiotomy include median, lateral, and J shaped episiotomy.</p>\n<p>Structures cut in mediolateral&nbsp;episiotomy are:</p>\n<ul>\n<li>Posterior vaginal wall</li>\n<li>Superficial and deep <strong>transverse perineal muscles </strong>(option A)</li>\n<li><strong>Bulbospongiosus</strong> and part of levator ani (option C)</li>\n<li>Fascia covering these muscles</li>\n<li><strong>Transverse perineal branches of&nbsp;pudendal</strong> vessels and <strong>nerves </strong>(option D)</li>\n<li>Subcutaneous tissue and skin</li>\n</ul>\n<p>Differences between midline and mediolateral episiotomy include:</p>\n<table width=\"328\">\n<tbody>\n<tr>\n<td><strong>Midline Episiotomy</strong></td>\n<td><strong>Mediolateral Episiotomy</strong></td>\n</tr>\n<tr>\n<td>Surgical repair is easy</td>\n<td>Surgical repair is difficult</td>\n</tr>\n<tr>\n<td>Blood loss is lesser</td>\n<td>Blood loss is more</td>\n</tr>\n<tr>\n<td>Healing is superior</td>\n<td>Healing is not so good</td>\n</tr>\n<tr>\n<td>Dyspareunia is rare</td>\n<td>Dyspareunia is comparatively more</td>\n</tr>\n<tr>\n<td>\n<p class=\"p1\">Postoperative comfort is maximum</p>\n</td>\n<td>\n<p class=\"p1\">Postoperative discomfort is more</p>\n</td>\n</tr>\n<tr>\n<td>\n<p class=\"p1\">Extension, if occurs, may involve the rectum</p>\n</td>\n<td>\n<p class=\"p1\">Relative safety from rectal involvement from extension&nbsp;</p>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p class=\"p2\">&nbsp;</p>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Raise in ESR during pregnancy is due to?",
    "choices": [
      {
        "id": 1,
        "text": "Albumin"
      },
      {
        "id": 2,
        "text": "Platelet"
      },
      {
        "id": 3,
        "text": "Fibrinogen"
      },
      {
        "id": 4,
        "text": "Anti-thrombin antibody"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Raised ESR</strong>&nbsp;in pregnancy is due to an&nbsp;<strong>increase</strong>&nbsp;in <strong>fibrinogen</strong> and <strong>globulin</strong> levels.</p>\n<p>Pregnancy&nbsp;is a <strong>hypercoagulable state</strong>. The fibrinogen level&nbsp;is raised by 50% during&nbsp;pregnancy.&nbsp;As a result of rise in fibrinogen and globulin level&nbsp;and diminished blood viscosity, <strong>erythrocyte&nbsp;</strong><strong>sedimentation rate (ESR)</strong> gives a much higher&nbsp;value <strong>(fourfold increase)</strong> during pregnancy.</p>\n<p><strong>Total plasma protein&nbsp;increases</strong> during pregnancy. However, due to hemodilution, plasma protein concentration falls. This results in diminished viscosity of&nbsp;the blood and reduced colloid osmotic tension.&nbsp;Because of marked <strong>fall in albumin level</strong>&nbsp;and only slight&nbsp;rise of globulin (mainly alpha-globulin), the normal <strong>albumin: globulin ratio</strong> of 1.7:1 is <strong>diminished&nbsp;</strong>to 1:1.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following criteria is used for diagnosing abdominal pregnancy?",
    "choices": [
      {
        "id": 1,
        "text": "Spiegelberg's criteria"
      },
      {
        "id": 2,
        "text": "Rubin's criteria"
      },
      {
        "id": 3,
        "text": "Studdiford's criteria"
      },
      {
        "id": 4,
        "text": "Godin's criteria"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Studdiford's criteria</strong> is used in the diagnosis of<strong>&nbsp;primary abdominal&nbsp;</strong><strong>pregnancy.</strong>&nbsp;It includes:</p>\n<ul>\n<li>Presence of <strong>normal</strong> tubes and ovaries with no evidence of recent or past injury/pregnancy.</li>\n<li><strong>Absence</strong> of&nbsp;uteroperitoneal fistula.</li>\n<li>Presence of a pregnancy related <strong>exclusively</strong> to the peritoneal surface and early&nbsp;enough to eliminate the possibility of secondary implantation&nbsp;after primary tubal nidation.</li>\n</ul>\n<p>Other options:</p>\n<p>Option A:<strong> Spiegelberg&rsquo;s criteria&nbsp;</strong>is used in the diagnosis of <strong>ovarian pregnancy:</strong></p>\n<ul>\n<li>Tube on the affected side must be <strong>intact.</strong></li>\n<li>The gestation sac must be in the position of the <strong>ovary.</strong></li>\n<li>The gestation sac is connected to the uterus by the <strong>ovarian</strong> ligament.</li>\n<li><strong>Ovarian tissue</strong> must be found on its wall on histological examination.</li>\n</ul>\n<p>Option B:<strong> Rubin's criteria</strong><strong>&nbsp;</strong>is used in the diagnosis of<strong>&nbsp;cervical pregnancy:</strong></p>\n<ul>\n<li>Soft, <strong>enlarged</strong> cervix equal to or larger than the fundus.</li>\n<li>Uterine <strong>bleeding</strong> following amenorrhea,<strong> without</strong> cramping pain.</li>\n<li>Products of conception are entirely confined <strong>within</strong> and firmly attached to endocervix.</li>\n<li>A <strong>closed internal</strong> cervical os and a <strong>partially</strong> opened <strong>external</strong> os.</li>\n</ul>\n<p>Option D:<strong>Godin's sonographic criteria</strong> is used for the diagnosis of&nbsp;a <strong>cesarean scar pregnancy:</strong></p>\n<ul>\n<li><strong>Empty</strong> uterine cavity</li>\n<li><strong>Empty</strong> cervical canal</li>\n<li>A gestational sac in the <strong>anterior</strong> part of the uterine isthmus</li>\n<li><strong>Absence</strong> of healthy myometrium between the bladder and gestational sac</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a component of fetal biophysical profile?",
    "choices": [
      {
        "id": 1,
        "text": "Fetal movement"
      },
      {
        "id": 2,
        "text": "Fetal breathing"
      },
      {
        "id": 3,
        "text": "NST"
      },
      {
        "id": 4,
        "text": "Contraction stress test"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>contraction stress test</strong>&nbsp;is not a component of the biophysical profile.</p>\n<p>Biophysical profile is a multi-parametric&nbsp;<strong>screening test</strong>&nbsp;to assess <strong>uteroplacental insufficiency</strong>. It consists of&nbsp;<strong>five components </strong>and&nbsp;the observations are made for 30 minutes.</p>\n<table style=\"width: 639px; height: 413px;\">\n<tbody>\n<tr>\n<td style=\"width: 171px;\"><strong>Parameters</strong></td>\n<td style=\"width: 370px;\"><strong>Minimal Normal Criteria</strong></td>\n</tr>\n<tr>\n<td style=\"width: 171px;\"><strong>Non-stress Test (NST) &nbsp;</strong></td>\n<td style=\"width: 370px;\">&ge;2 accelerations within 20-40 minutes.</td>\n</tr>\n<tr>\n<td style=\"width: 171px;\"><strong>Fetal breathing movements &nbsp;</strong></td>\n<td style=\"width: 370px;\">&ge; 1 episode of rhythmic breathing lasting &gt; 30 seconds.</td>\n</tr>\n<tr>\n<td style=\"width: 171px;\"><strong>Gross body movements &nbsp;</strong></td>\n<td style=\"width: 370px;\">&ge; 3 discrete body/limb movements</td>\n</tr>\n<tr>\n<td style=\"width: 171px;\"><strong>Fetal muscle tone &nbsp;</strong></td>\n<td style=\"width: 370px;\">&ge; 1 episode of active extension(limb or trunk) with return of flexion.</td>\n</tr>\n<tr>\n<td style=\"width: 171px;\"><strong>Amniotic fluid&nbsp;volume</strong></td>\n<td style=\"width: 370px;\">A pocket of amniotic fluid that measures at least 2 cm in two perpendicular planes (2 &times;2 cm pocket)</td>\n</tr>\n</tbody>\n</table>\n<p>Each parameter has a&nbsp;<strong>maximum score of 2</strong>&nbsp;and a&nbsp;<strong>minimum score of 0.&nbsp;</strong>So the total maximum score will be 10. A <strong>score of 4 or less</strong> indicates fetal <strong>acidemia</strong>.</p>\n<p>Interpretation and management of BPP scores:</p>\n<table style=\"height: 136px; width: 387.719px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 78px; text-align: center; height: 18px;\"><strong>BPP score</strong></td>\n<td style=\"width: 111px; text-align: center; height: 18px;\"><strong>Interpretation</strong></td>\n<td style=\"width: 165.719px; text-align: center; height: 18px;\"><strong>Management</strong></td>\n</tr>\n<tr style=\"height: 47px;\">\n<td style=\"width: 78px; text-align: center; height: 47px;\"><strong>10</strong></td>\n<td style=\"width: 111px; text-align: center; height: 47px;\">Normal, nonasphyxiated fetus</td>\n<td style=\"width: 165.719px; text-align: center; height: 47px;\">Repeat test weekly&nbsp;</td>\n</tr>\n<tr style=\"height: 56px;\">\n<td style=\"width: 78px; text-align: center; height: 56px;\"><strong>8</strong>&nbsp;<strong>with normal AFV</strong></td>\n<td style=\"width: 111px; text-align: center; height: 56px;\">Normal, nonasphyxiated fetus</td>\n<td style=\"width: 165.719px; text-align: center; height: 56px;\">Repeat test weekly</td>\n</tr>\n<tr style=\"height: 53px;\">\n<td style=\"width: 78px; text-align: center; height: 53px;\"><strong>8 with decreased AFV</strong></td>\n<td style=\"width: 111px; text-align: center; height: 53px;\">Suspicion of chronic fetal asphyxia</td>\n<td style=\"width: 165.719px; text-align: center; height: 53px;\">\n<div class=\"page\" title=\"Page 405\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>If &ge;36 weeks, delivery is done</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n</tr>\n<tr style=\"height: 50px;\">\n<td style=\"width: 78px; text-align: center; height: 50px;\"><strong>6</strong></td>\n<td style=\"width: 111px; text-align: center; height: 50px;\">Possible fetal asphyxia</td>\n<td style=\"width: 165.719px; text-align: center; height: 50px;\">\n<p>If AFV is abnormal-Deliver&gt;36 weeks.</p>\n<p>If AFV is normal- deliver&ge; 37 weeks.&nbsp;</p>\n</td>\n</tr>\n<tr style=\"height: 55.0312px;\">\n<td style=\"width: 78px; text-align: center; height: 55.0312px;\"><strong>4</strong></td>\n<td style=\"width: 111px; text-align: center; height: 55.0312px;\">Probable fetal asphyxia</td>\n<td style=\"width: 165.719px; text-align: center; height: 55.0312px;\">\n<div class=\"page\" title=\"Page 405\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>If &ge;32 weeks, deliver</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n</tr>\n<tr style=\"height: 27px;\">\n<td style=\"width: 78px; text-align: center; height: 27px;\"><strong>0-2</strong></td>\n<td style=\"width: 111px; text-align: center; height: 27px;\">Almost certain fetal asphyxia</td>\n<td style=\"width: 165.719px; text-align: center; height: 27px;\">Delivery&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<p><strong>The modified biophysical score&nbsp;</strong>has only 2 components i.e&nbsp;<strong>NST</strong> and <strong>amniotic fluid index </strong>(AFI). It<strong>&nbsp;</strong>is considered abnormal (nonreassuring) when the NST is non-reactive and/or the AFI is &lt;5.</p>\n<p>Note: The <strong>contraction&nbsp;stress test </strong>(oxytocin challenge test)<strong>&nbsp;</strong>is an invasive method to assess fetal well-being during pregnancy. When there is an alteration in FHR in response&nbsp;to uterine contractions, it suggests fetal hypoxia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following can be used for the treatment of PCOD except?",
    "choices": [
      {
        "id": 1,
        "text": "Clomiphine citrate"
      },
      {
        "id": 2,
        "text": "Letrozole"
      },
      {
        "id": 3,
        "text": "Ulipristal"
      },
      {
        "id": 4,
        "text": "Laparoscopic ovarian drilling"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Ulipristal&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:16897,&quot;3&quot;:{&quot;1&quot;:0},&quot;12&quot;:0,&quot;17&quot;:1}\"><strong>Ulipristal</strong>\u00a0is not\u00a0used for the treatment of polycystic ovarian disease (PCOD). It\u00a0is a synthetic progesterone hormone receptor modulator used as an <strong>emergency contraceptive pill</strong>.</span></p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Ulipristal&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:16897,&quot;3&quot;:{&quot;1&quot;:0},&quot;12&quot;:0,&quot;17&quot;:1}\">PCOD is a complex multisystemic endocrine disorder affecting women of reproductive age.\u00a0</span></p>\n<p><strong>Rotterdam criteria</strong>\u00a0is used to diagnose PCOD. The presence of<strong>\u00a0two of the three</strong>\u00a0components of this criteria establishes the diagnosis.</p>\n<div class=\"page\" title=\"Page 326\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>Oligo/amenorrhoea, anovulation, infertility</li>\n<li>Hirsutism/acne</li>\n<li>Ultrasound findings:\n<ul>\n<li>Enlarged ovaries with ovarian volume will be <strong>more than 10 mL</strong></li>\n<li><strong>12 or more </strong>small follicles each of <strong>2-9 mm</strong> in size placed peripherally</li>\n</ul>\n</li>\n</ul>\n<p><strong>Clomiphene</strong>\u00a0(option A) is a selective estrogen receptor modulator that is used as the first line of treatment in managing infertility. Clomiphene with dexamethasone improves the fertility rate. In resistant cases, tamoxifen or <strong>letrozole</strong>\u00a0(an aromatase inhibitor) (option B) can be tried.\u00a0</p>\n</div>\n</div>\n</div>\n<p>Surgical management of PCOD includes <span class=\"Apple-converted-space\"><strong>laparoscopic ovarian drilling </strong>(option D)<strong>. </strong></span>Indications of surgery are:</p>\n<ul>\n<li>Failed medical therapy</li>\n<li>Hyperstimulation occurs</li>\n<li>Infertile women</li>\n<li>Previous pregnancy losses</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a component of the Bishop score?",
    "choices": [
      {
        "id": 1,
        "text": "Cervical length"
      },
      {
        "id": 2,
        "text": "Type of maternal pelvis"
      },
      {
        "id": 3,
        "text": "Cervical position"
      },
      {
        "id": 4,
        "text": "Dilatation of cervix"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The type of maternal pelvis&nbsp;is not a component of the Bishop score.</p>\n<p>The<strong> Bishop score</strong> is a scoring system used to assess&nbsp;labor induction outcomes. It is based on the station of the head, dilation, effacement (or length), position, and consistency of the cervix noted by doing a vaginal examination.</p>\n<p>Note:&nbsp;In the&nbsp;<strong>modified Bishop score</strong>&nbsp;(1991), the effacement is&nbsp;<strong>replaced</strong>&nbsp;by the&nbsp;<strong>cervical length</strong>&nbsp;in cm.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A nursing assistant posted in the obstetric care unit was asked to monitor the progress of labour. After how much dilatation of the cervix, should she start the documentation?",
    "choices": [
      {
        "id": 1,
        "text": "2cm"
      },
      {
        "id": 2,
        "text": "5cm"
      },
      {
        "id": 3,
        "text": "4cm"
      },
      {
        "id": 4,
        "text": "6cm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The WHO Labour Care Guide <strong>begins</strong> the <strong>documentation</strong> of labour progression at <strong>5 cm </strong>of <strong>cervical dilatation</strong>.</p>\n<p>The WHO Labour Care Guide is a tool designed to help health personnel involved in labour care. It aims to\u00a0</p>\n<ul>\n<li>Guide the <strong>monitoring</strong> and help in the <strong>documentation</strong> of the progress of labour.</li>\n<li>Guide the health professionals to offer <strong>supportive</strong> <strong>care</strong> throughout labour.</li>\n<li>Assist doctors in promptly <strong>identifying</strong> and <strong>addressing</strong> emerging <strong>labour</strong> <strong>complications</strong>.</li>\n<li><strong>Prevent</strong> the use of <strong>unnecessary</strong> <strong>interventions</strong> in labour.</li>\n<li>Support <strong>audits</strong> and <strong>quality</strong> <strong>improvement</strong>.</li>\n</ul>\n<p>The differences between the WHO-modified partograph and the <strong>latest WHO Labour Care Guide </strong>are tabulated below:\u00a0</p>\n<table style=\"height: 260px;\" width=\"669\">\n<tbody>\n<tr style=\"height: 39px;\">\n<td style=\"width: 326.5px; height: 39px; text-align: center;\"><strong>WHO modified partograph</strong></td>\n<td style=\"width: 326.5px; height: 39px; text-align: center;\"><strong>WHO Labour Care Guide</strong></td>\n</tr>\n<tr style=\"height: 86px;\">\n<td style=\"width: 326.5px; height: 86px;\">Documentation of labour progression begins at <strong>4 cm</strong> of cervical dilatation.</td>\n<td style=\"width: 326.5px; height: 86px;\">Documentation of labour progression begins at <strong>5 cm</strong> of cervical dilatation.</td>\n</tr>\n<tr style=\"height: 95px;\">\n<td style=\"width: 326.5px; height: 95px;\">Fixed <strong>1 cm/hour \u2018alert\u2019 and \u2018action\u2019</strong> lines</td>\n<td style=\"width: 326.5px; height: 95px;\"><strong>Time-based cut-offs</strong> for <strong>each centimetre</strong> of cervical dilatation to guide the obstetrician to take action. For example, at 5 cm of cervical dilatation, if there is no progress &gt;6 hours, action needs to be taken.</td>\n</tr>\n<tr style=\"height: 87px;\">\n<td style=\"width: 326.5px; height: 87px;\">Monitoring of labour is restricted to the <strong>first stage</strong> only.</td>\n<td style=\"width: 326.5px; height: 87px;\">Monitoring of <strong>the second stage of labour</strong> is included</td>\n</tr>\n<tr style=\"height: 78px;\">\n<td style=\"width: 326.5px; height: 78px;\">No section on supportive care interventions</td>\n<td style=\"width: 326.5px; height: 78px;\">Addition of a section on <strong>supportive care</strong> of the mother- labour companionship, pain relief, oral fluid intake and posture</td>\n</tr>\n<tr style=\"height: 78px;\">\n<td style=\"width: 326.5px; height: 78px;\">Documentation of <strong>strength, duration, and frequency</strong> of uterine contractions</td>\n<td style=\"width: 326.5px; height: 78px;\">Documentation of <strong>only</strong> the <strong>duration and frequency of uterine contractions</strong></td>\n</tr>\n</tbody>\n</table>\n<p><strong>Note</strong>: Previously the answer to the question was 4 cm (according to the modified WHO patograph). However, this information is outdated, therefore the answer to this question has been revised per the latest WHO guidelines.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/719c60870fc947ccaf5225fb3f2ffd2bx724x1024.JPEG"
    ]
  },
  {
    "text": "Identify the grip shown in the image below:",
    "choices": [
      {
        "id": 1,
        "text": "Pawlik's grip"
      },
      {
        "id": 2,
        "text": "Lateral grip"
      },
      {
        "id": 3,
        "text": "Pelvic grip"
      },
      {
        "id": 4,
        "text": "Fundal grip"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The Leopold manoeuvre shown in the image is the <strong>lateral grip</strong>.&nbsp;It assesses&nbsp;<strong>fetal orientation</strong>.</p>\n<p>Leopold's manoeuvres help assess the fetal pole, lie, presenting part, engagement, and attitude of the fetal head. They are as follows:</p>\n<ol>\n<li><strong>Fundal grip </strong>(first Leopold):\n<ul>\n<li>Assesses the uterine&nbsp;<strong>fundus</strong>.</li>\n<li>Helps in identification of <strong>fetal lie</strong> and determination of fetal pole at the fundus.</li>\n<li>The<strong>&nbsp;</strong>breech<strong>&nbsp;</strong>is felt as a<strong>&nbsp;</strong>large, irregular mass.&nbsp;</li>\n<li>The<strong>&nbsp;</strong>head<strong>&nbsp;</strong>feels<strong>&nbsp;</strong>hard and round<strong>&nbsp;</strong>and is<strong>&nbsp;</strong>more mobile.<strong><br /><br /></strong></li>\n</ul>\n</li>\n<li><strong>Lateral grip </strong>(second Leopold):&nbsp;\n<ul>\n<li>Assesses the fetal<strong> orientation</strong>.</li>\n<li>The palms are placed on either side of the maternal abdomen, and gentle but deep pressure is exerted.</li>\n<li>The <strong>back</strong> is felt on one side as a <strong>hard</strong>, resistant structure.</li>\n<li>The <strong>fetal extremities</strong> are felt on the other side as <strong>numerous</strong> small, <strong>irregular, mobile </strong>parts are felt.</li>\n<li>Fetal orientation can be determined by noting whether the back is directed anteriorly, transversely, or posteriorly.</li>\n<li>The <strong>position </strong>of the<strong> anterior shoulder</strong> is mainly assessed by this grip.<br /><br /></li>\n</ul>\n</li>\n<li><strong>Pawlik's grip </strong>/ 1st pelvic grip (third Leopold):\n<ul>\n<li>Assesses the <strong>presenting</strong> <strong>part</strong>.</li>\n<li>The thumb and fingers of one hand grasp the lower portion of the maternal abdomen just above the symphysis pubis.</li>\n<li>If the presenting part is not engaged, a movable mass will be felt,&nbsp;usually the head.<br /><br /></li>\n</ul>\n</li>\n<li><strong>Deep pelvic grip </strong>/ 2nd pelvic grip (fourth Leopold):\n<ul>\n<li>Assesses the <strong>engagement</strong> and attitude of the fetal head.</li>\n<li>The examiner faces the mother's feet, and the fingertips of both hands are positioned on either side of the presenting part.</li>\n<li>They exert inward pressure and then slide along the axis of the pelvic inlet.<br /><br /></li>\n</ul>\n</li>\n</ol>\n<table style=\"width: 622px; height: 303px;\">\n<tbody>\n<tr>\n<td style=\"width: 88px;\"><strong>Leopold</strong></td>\n<td style=\"width: 126.171875px;\"><strong>Grip</strong></td>\n<td style=\"width: 386.828125px;\"><strong>Importance</strong></td>\n</tr>\n<tr>\n<td style=\"width: 88px;\"><strong>First</strong></td>\n<td style=\"width: 126.171875px;\">Fundal</td>\n<td style=\"width: 386.828125px;\">To know which fetal pole occupies the uterine fundus.</td>\n</tr>\n<tr>\n<td style=\"width: 88px;\"><strong>Second</strong></td>\n<td style=\"width: 126.171875px;\">Lateral/Umbilical</td>\n<td style=\"width: 386.828125px;\">To know the fetal back and extremities&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 88px;\"><strong>Third</strong></td>\n<td style=\"width: 126.171875px;\">Pawlik&nbsp;</td>\n<td style=\"width: 386.828125px;\">\n<p>To know the presenting fetal part in respect to the true pelvis</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 88px;\"><strong>Fourth</strong></td>\n<td style=\"width: 126.171875px;\">Pelvic</td>\n<td style=\"width: 386.828125px;\">\n<p>To determine the degree of descent.</p>\n<p>If the head has already descended into the pelvis, the anterior shoulder or the space created by neck may be differentiated readily from the head</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8458a76c48c74ed79c1fe4737080668b.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e215ce79339c433da605c48ea10b4cc7x600x3241.JPEG"
    ]
  },
  {
    "text": "Identify the fetal position in the given image.",
    "choices": [
      {
        "id": 1,
        "text": "Right occipito-posterior"
      },
      {
        "id": 2,
        "text": "Left occipito-anterior"
      },
      {
        "id": 3,
        "text": "Left occipito-posterior"
      },
      {
        "id": 4,
        "text": "Right occipito-anterior"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the given vertex presentation, the fetal position is <strong>right occipitoanterior.</strong></p>\n<p><strong>Fetal position</strong> refers to the relation of the <strong>denominator </strong>(arbitrary <strong>bony</strong> fixed point on the presenting part), with respect to different <strong>quadrants</strong> of the maternal pelvis. In vertex presentation, the denominator is taken as the occiput (which is close to the triangular posterior fontanelle).</p>\n<p>To determine the fetal position the following two steps are followed:</p>\n<ol>\n<li>Determine the <strong>direction</strong> in which the occiput is facing:\n<ul>\n<li>Towards the pubic symphysis - <strong>occipito-anterior</strong></li>\n<li>Towards the sacral promontory - <strong>occipito-posterior</strong></li>\n<li>Midway between pubic symphysis and sacral promontory - <strong>occipito-transverse&nbsp;</strong></li>\n</ul>\n</li>\n<li>Determine if the occiput is facing the <strong>left</strong> or the <strong>right</strong> in relation to the materal pelvis</li>\n</ol>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/83f5f071364a43349a67fb91e84b3fa1.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8feae85a259d42049a433d013700e433x1280x1372.JPEG"
    ]
  },
  {
    "text": "A midwife is examining a pregnant woman in labour when she noticed that the cord is prolapsed. What should be the next immediate step of management?",
    "choices": [
      {
        "id": 1,
        "text": "Gently replace the cord inside the vagina"
      },
      {
        "id": 2,
        "text": "Inform the doctor and shift to OT"
      },
      {
        "id": 3,
        "text": "Put her in Trendelenberg position"
      },
      {
        "id": 4,
        "text": "Do vaginal examination and find the fetal presentation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In this scenario the midwife should put the pregnant women in a <strong>Trendelenburg position</strong> or in an exaggerated and <strong>elevated Sims&rsquo; position</strong> with a pillow or wedge under the hip or thigh.</p>\n<p><strong>Caesarean section</strong> is the recommended<strong> treatment of choice</strong> for cord prolapse. Prior to performing the procedure, several measures can be taken to alleviate cord compression. These measures involve:</p>\n<ul>\n<li>Manually elevating the fetal presenting part using two fingers or the entire hand through the vagina</li>\n<li>Positioning the patient in <strong>steep Trendelenburg, exaggerated Sim's position, or knee-chest position</strong></li>\n<li>Filling the bladder with 500&ndash;700 cc or more of saline (known as the <strong>Vagos method</strong>)</li>\n</ul>\n<p>After the diagnosis of cord prolapse is made, it is crucial <strong>not to attempt cord replacement</strong>. Such attempts are not only ineffective but also result in the inevitable rupture of the membranes, leading to cord prolapse.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0dc37cf41518466b91e256c25f641497x1280x1870.JPEG"
    ]
  },
  {
    "text": "A 45-year-old patient comes with repeated infections of trichomonas vaginitis, her physician advises for a Pap smear. She asks you regarding the purpose of this test. What would be your appropriate response?",
    "choices": [
      {
        "id": 1,
        "text": "It is a screening test for cervical cancer"
      },
      {
        "id": 2,
        "text": "It is a diagnostic test for trichomonas infection"
      },
      {
        "id": 3,
        "text": "It helps to diagnose cancer in her genital tract"
      },
      {
        "id": 4,
        "text": "It helps to diagnose other associated genital infections in her"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>A pap smear is a <strong>screening test</strong> for cervical <strong>cancer</strong>. It is not a diagnostic test (option C). The presence of abnormal cells/ a positive test requires further evaluation by colposcopy, cervical biopsy, or fractional curettage.&nbsp;</p>\n<p>If trichomonas is reported from Pap testing, it should be confirmed by saline microscopic preparation (option B).&nbsp;</p>\n<p>Cervical cancer<strong> screening</strong> should start at <strong>age 21</strong>. Women aged<strong> 21-29</strong> should have a<strong> Pap smear every 3 years</strong>, while women aged<strong> 30-65</strong> should have both <strong>HPV and Pap co-test</strong> every <strong>5 years</strong>.&nbsp;Women should stop having cervical cancer screening after the age of <strong>65 years</strong>. If suspicious PAP, screening till 75 years. HIV+ women should have annual checkups until three consecutive negative tests followed by testing every 3 years for life.</p>\n<p>Pap testing should be done <strong>prior</strong> to <strong>vaginal examination.&nbsp;</strong>Lubricants should not be used and the&nbsp;patient should not be menstruating during the pap test. The patient should not have intercourse 24hrs prior to the test. The ideal <strong>time</strong> is around <strong>ovulation</strong>.&nbsp;</p>\n<p><strong>Procedure</strong>:</p>\n<ul>\n<li>The patient is put in a <strong>dorsal</strong> position, and the labia are parted</li>\n<li><strong>Cusco&rsquo;s</strong> self-retaining <strong>speculum</strong> is introduced</li>\n<li>The <strong>squamocolumnar junction</strong> is scraped with <strong>Ayer&rsquo;s</strong> <strong>spatula</strong>:\n<ul>\n<li>Bifid end - ectocervical sample</li>\n<li>Blunt end - vaginal cytology</li>\n</ul>\n</li>\n<li><strong>Endocervix</strong> is scraped with a <strong>cytobrush</strong></li>\n<li>The sample is spread on <strong>a</strong> <strong>glass slide</strong></li>\n<li>The slide is immediately fixed using <strong>95%</strong> <strong>ethyl</strong> <strong>alcohol</strong></li>\n<li>Stained with Papanicolau stain or short-duration<strong>&nbsp;</strong>Papanicolau stain (SPS).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/af717526ba7c45ce810e6bbe8f7409bex1280x4631.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/61db0cacf41240c59c87765886aff277x1280x2262.JPEG"
    ]
  },
  {
    "text": "Modified Robson's classification class 1 includes:",
    "choices": [
      {
        "id": 1,
        "text": "Nulliparous, singleton, cephalic, induced labour"
      },
      {
        "id": 2,
        "text": "Nulliparous, singleton, cephalic, spontaneous labour"
      },
      {
        "id": 3,
        "text": "Multiparous without previous CS, spontaneous labour"
      },
      {
        "id": 4,
        "text": "Multiparous without previous CS, induced/CS before labour"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Class 1</strong> of modified Robson's classification includes <strong>nullipara</strong>, equal to or <strong>&gt;37</strong> weeks, <strong>single</strong>, <strong>cephalic,</strong> <strong>spontaneous labor</strong>.</p>\n<p>It is the most widely accepted classification system available for analyzing characteristics of delivering women worldwide.&nbsp;It consists of <strong>10 patient population</strong> categories.&nbsp;The basis for these categories include:&nbsp;</p>\n<ul>\n<li>Parity</li>\n<li>Onset of labor and mode of delivery</li>\n<li>Gestational age</li>\n<li>Fetal presentation&nbsp;</li>\n<li>No. of fetuses</li>\n</ul>\n<p>The <strong>modified Robson system</strong> classification is as follows:</p>\n<table style=\"height: 236px; width: 517px;\">\n<tbody>\n<tr style=\"height: 53px;\">\n<td style=\"width: 114.5px; height: 53px;\"><strong>Class 1</strong></td>\n<td style=\"width: 385.5px; height: 53px;\">Nullipara, equal to or &gt;37 weeks, single, cephalic, spontaneous labor</td>\n</tr>\n<tr style=\"height: 54px;\">\n<td style=\"width: 114.5px; height: 54px;\"><strong>Class 2</strong></td>\n<td style=\"width: 385.5px; height: 54px;\">\n<p>Nullipara, equal to or &gt;37 weeks, single, cephalic</p>\n<p>&nbsp;<strong>2a:</strong> induced labor&nbsp; <strong>2b:</strong> CS before labor</p>\n</td>\n</tr>\n<tr style=\"height: 56px;\">\n<td style=\"width: 114.5px; height: 56px;\"><strong>Class 3</strong></td>\n<td style=\"width: 385.5px; height: 56px;\">Multipara, equal to or &gt;37 weeks, single, cephalic, spontaneous labor (excludes previous CS)</td>\n</tr>\n<tr style=\"height: 54px;\">\n<td style=\"width: 114.5px; height: 54px;\"><strong>Class 4</strong></td>\n<td style=\"width: 385.5px; height: 54px;\">Multipara, equal to or &gt;37 weeks, single, cephalic&nbsp; &nbsp;<strong>4a:</strong> induced labor <strong>4b:</strong> CS before labor</td>\n</tr>\n<tr style=\"height: 49px;\">\n<td style=\"width: 114.5px; height: 49px;\"><strong>Class 5</strong></td>\n<td style=\"width: 385.5px; height: 49px;\">Multipara, previous CS, equal to or &gt;37 weeks, single, cephalic</td>\n</tr>\n<tr style=\"height: 49px;\">\n<td style=\"width: 114.5px; height: 49px;\"><strong>Class 6</strong></td>\n<td style=\"width: 385.5px; height: 49px;\">Nullipara, single, breech</td>\n</tr>\n<tr style=\"height: 50px;\">\n<td style=\"width: 114.5px; height: 50px;\"><strong>Class 7</strong></td>\n<td style=\"width: 385.5px; height: 50px;\">Multipara, single, breech (including previous CS)</td>\n</tr>\n<tr style=\"height: 48px;\">\n<td style=\"width: 114.5px; height: 48px;\"><strong>Class 8</strong></td>\n<td style=\"width: 385.5px; height: 48px;\">Multiple pregnancies (with or without previous CS)</td>\n</tr>\n<tr style=\"height: 55.5469px;\">\n<td style=\"width: 114.5px; height: 55.5469px;\"><strong>Class 9</strong></td>\n<td style=\"width: 385.5px; height: 55.5469px;\">Singleton pregnancy, oblique/transverse lie (with or without previous CS)</td>\n</tr>\n<tr style=\"height: 52px;\">\n<td style=\"width: 114.5px; height: 52px;\"><strong>Class 10</strong></td>\n<td style=\"width: 385.5px; height: 52px;\">&nbsp;Single, cephalic &lt;37 weeks (including previous CS)</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A pregnant woman has cramps in her legs. What will you suggest her to relieve the pain?",
    "choices": [
      {
        "id": 1,
        "text": "Extend knee and dorsiflex foot"
      },
      {
        "id": 2,
        "text": "Flex knee and dorsiflex foot"
      },
      {
        "id": 3,
        "text": "Extend knee and plantar flex foot"
      },
      {
        "id": 4,
        "text": "Flex knee and plantar flex foot"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Extension at</strong>&nbsp;the<strong> knee</strong> joint and <strong>dorsiflexion at </strong>the<strong> ankle</strong> joint helps in <strong>stretching the calf muscles</strong> which <strong>relieves the pain</strong>.&nbsp;</p>\n<p><strong>Leg cramps</strong> are minor ailments during pregnancy mostly&nbsp;due to a&nbsp;<strong>deficiency</strong> of diffusible serum <strong>calcium</strong> or <strong>elevation</strong> of serum <strong>phosphorus</strong>. <strong>Management</strong> includes <strong>massaging</strong> <strong>the leg</strong>, stretching exercises, application of local heat, and <strong>supplementation</strong> of vitamin B1 and <strong>calcium</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A woman in labour presented to the ER. A vaginal breech delivery was planned for her. What statement regarding the management is false?",
    "choices": [
      {
        "id": 1,
        "text": "Breech identified for the first time during delivery is a contraindication for vaginal delivery"
      },
      {
        "id": 2,
        "text": "Breech delivery is done in an hospital where a facility for emergency cesarean delivery is available"
      },
      {
        "id": 3,
        "text": "Continous FHR monitoring is required for breech delivery during labour"
      },
      {
        "id": 4,
        "text": "Should be done by a skilled obstetrician"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Breech</strong> identified for the <strong>first time during delivery</strong> is <strong>not a contraindication</strong> for <strong>normal delivery</strong>.&nbsp;</p>\n<p><strong>Vaginal breech delivery</strong> is considered when:</p>\n<ul>\n<li><strong>Fetal weight</strong> is between <strong>1.5 kg</strong> and <strong>3.5 kg</strong></li>\n<li>There is an adequate pelvis</li>\n<li>The presentation is <strong>frank breech</strong></li>\n<li>The <strong>fetal head </strong>is<strong> flexed</strong></li>\n<li>There are no medical or obstetric complications</li>\n<li><strong>Facilities for emergency cesarean section</strong> are available (anesthetists, neonatologists) (option B)</li>\n<li>Facilities for <strong>continuous labor monitoring </strong>are available (option C)</li>\n<li>A <strong>skilled obstetrician </strong>is present (option D)</li>\n<li>Detailed informed consent has been obtained, explaining the risks of vaginal breech delivery</li>\n</ul>\n<p><strong>Cesarean delivery for breech </strong>presentation is considered in the following cases:</p>\n<ul>\n<li>Lack of operator experience</li>\n<li>Patient's request for cesarean delivery</li>\n<li>Prior perinatal death or neonatal birth trauma</li>\n<li>Large fetus: &gt; 3800 to 4000 g</li>\n<li>Severe IUGR, term weight &lt;2.5kg to 2.8kg</li>\n<li>Incomplete breech presentation</li>\n<li>Oligohydramnios</li>\n<li>Fetal anomaly incompatible with vaginal delivery</li>\n<li>Hyperextended head</li>\n<li>Contracted pelvis</li>\n<li>Prior cesarean delivery</li>\n<li>Preterm breech</li>\n<li>Twins, with the first baby in the breech position</li>\n</ul>\n<div class=\"page\" title=\"Page 581\">\n<div class=\"section\">\n<div class=\"layoutArea\">&nbsp;</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '274 Obstetrics And Gynecology Aiims 2020 (May And Nov Ini-Cet)';
        let hierarchy = ["Marrow", "PYQs", "Obstetrics & Gynecology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>