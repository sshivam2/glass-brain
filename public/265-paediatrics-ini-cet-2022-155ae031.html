<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>265 Paediatrics Ini-Cet 2022 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Pediatrics
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">23</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "In neonatal resuscitation, which of the following is the most effective indicator of successful ventilatory effort?",
    "choices": [
      {
        "id": 1,
        "text": "Colour change"
      },
      {
        "id": 2,
        "text": "Rise in heart rate"
      },
      {
        "id": 3,
        "text": "Air entry"
      },
      {
        "id": 4,
        "text": "Chest rise"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">An <strong>increase in the heart rate&nbsp;</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">is the most effective indicator of successful ventilatory effort.&nbsp;The response to neonatal resuscitation at various steps is assessed based on the heart rate.</span></p>\n<p>As soon as a baby is born, the <strong>tone</strong>, <strong>cry</strong>, <strong>breathing efforts</strong>, and <strong>respiratory efforts</strong> are assessed. If the tone is poor, or if the baby is not breathing, the following measures are done immediately - <strong>warming</strong> to maintain the normal temperature, proper positioning of the baby's<strong> airway,</strong> i.e.&nbsp;<strong>sniffing position</strong>&nbsp;with the head slightly extended, clearing of airway <strong>secretions</strong>, and tactile <strong>stimulation.</strong></p>\n<p><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">After the initial steps of neonatal resuscitation, the heart rate of the baby must be assessed. </span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">If the<strong> heart rate </strong>is<strong> &lt; 100 </strong>beats per minute<strong> (bpm)</strong>,</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">&nbsp;<strong>p</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>ositive pressure ventilation&nbsp;</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">is provided along with&nbsp;</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>SPO<sub>2</sub> monitoring </strong>to ensure&nbsp;</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>adequate&nbsp;</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>ventilation.&nbsp;</strong></span></p>\n<p>If the heart rate remains at <strong>&lt; 100 bpm</strong>, ventilation&nbsp;<strong>corrective</strong>&nbsp;<strong>steps</strong> and/or&nbsp;<strong>endotracheal</strong>&nbsp;<strong>intubation </strong>have to be considered. The ventilation corrective steps are as follows and can be remembered with the mnemonic&nbsp;<strong>MRSOPA</strong>.</p>\n<ol>\n<li><strong>M</strong>ask has to be reapplied&nbsp;</li>\n<li><strong>R</strong>eposition head</li>\n<li><strong>S</strong>uction the secretions</li>\n<li><strong>O</strong>pen mouth slightly and ventilate</li>\n<li><strong>P</strong>ressure is increased slightly</li>\n<li><strong>A</strong>irway may be changed</li>\n</ol>\n<p>If the <span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>heart rate </strong>is<strong> &lt; 60 bpm</strong>,</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">&nbsp;</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>chest&nbsp;</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>compressions&nbsp;</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">are initiated over the <strong>lower third of the sternum</strong> at a rate of <strong>90 compressions/min</strong>. The ratio of compressions to ventilation is<strong> 3: 1</strong>&nbsp;(90 compressions: 30 breaths)</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">.<strong>&nbsp;</strong></span></p>\n<p><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\" style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">If the heart rate <strong>still remains &lt;60 bpm</strong>, despite effective compressions and ventilation, then <strong>epinephrine&nbsp;</strong>(<strong>1:10,000</strong> solution at 0.1&ndash;0.3 mL/kg intravenously or 0.5&ndash;1 mL/kg intratracheally) should be administered. The dosage can be <strong>repeated every 3&ndash;5 minutes</strong>. Persistent bradycardia may signify inadequate ventilation or severe cardiac compromise.</span></p>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">The neonatal resuscitation algorithm is given below:&nbsp;</span></div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6f6d0a575be04c37af601f9268827cb2x1280x2558.JPEG"
    ]
  },
  {
    "text": "Which can be used as an alternative to mother's milk in a low birth weight (LBW) baby?",
    "choices": [
      {
        "id": 1,
        "text": "Cow's milk"
      },
      {
        "id": 2,
        "text": "Preterm formula"
      },
      {
        "id": 3,
        "text": "Term formula"
      },
      {
        "id": 4,
        "text": "Human donor milk"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Human donor milk</strong> is the best <strong>alternative to mother's milk</strong> for low birth weight (LBW) babies.</p>\n<p>It is recommended that <strong>all LBW babies</strong> are exclusively fed<strong> breast milk</strong> regardless of the feeding method. This can be achieved through the use of <strong>expressed breast milk</strong> (EBM) from the mother or human donor milk.</p>\n<p>Donor milk offers advantages over <strong>preterm formula</strong>, such as reduced risk of <strong>necrotizing enterocolitis</strong> (NEC) and <strong>feeding intolerance</strong>. However, due to lower protein and micronutrient levels in donor milk, <strong>human milk fortifiers</strong> should be added to meet the nutritional needs of infants.</p>\n<p>In cases where breastfeeding is not feasible or the mother is ill, formula feeds can be utilized. <strong>Term formula feed</strong> (option C) is suitable for infants weighing over <strong>1500 grams</strong> at birth, while <strong>preterm formula feed</strong> (option B) is recommended for <strong>very low birth weight infants</strong>.</p>\n<p>Cow milk (option A) is not preferred as it lacks essential nutrients such as vitamin C, iron, and essential fatty acids. Additionally, its <strong>high protein</strong> and <strong>lactose</strong> content can lead to digestive issues and allergic reactions in infants.</p>\n<p>Once the mother's condition stabilizes or breastfeeding contraindications are resolved, exclusive breastfeeding should be resumed.</p>\n<p>The mode of nutrition of LBW depends on their gestational age. Babies born <strong>before 28 weeks</strong> of gestation receive total parenteral nutrition (<strong>TPN</strong>). Enteral feeding is not initiated at this stage as the gastrointestinal tract is not fully developed.</p>\n<p>Babies born between <strong>28 and 32 weeks</strong> of gestation may exhibit suckling bursts but their coordination of suckling, swallowing, and breathing is not fully developed. Hence, EBM given orally may result in aspiration. EBM is administered through a <strong>nasogastric tube</strong> or orogastric tube.</p>\n<p>As gestational age advances to <strong>32-34 weeks</strong>, the coordination of feeding improves, and EBM can be given with a <strong>paladai</strong> or <strong>Katori</strong> spoon.</p>\n<p>For babies born <strong>after 34 weeks </strong>of gestation, with fully developed coordination, <strong>direct breastfeeding</strong> is possible.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 4-year-old male child with a body weight of 15kg and height of 100cm is admitted with renal failure. His blood urea was 100 mg/dL and serum creatinine was 1 mg/dL. What is the closest calculated eGFR in the patient?",
    "choices": [
      {
        "id": 1,
        "text": "33 ml/min/1.73 m2 BSA"
      },
      {
        "id": 2,
        "text": "40 ml/min/1.73 m2 BSA"
      },
      {
        "id": 3,
        "text": "55 ml/min/1.73 m2 BSA"
      },
      {
        "id": 4,
        "text": "80 ml/min/1.73 m2 BSA"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>eGFR in the 4-year-old child calculated by the modified <strong>Schwartz formula</strong> is <strong>40 ml/min/1.73 m</strong><sup><strong>2</strong>&nbsp;</sup>body surface area (BSA).</p>\n<p>The <strong>modified Schwartz formula</strong> is the most commonly used formula in the <strong>pediatric</strong> age group to estimate creatinine clearance in acute settings. It is based on <strong>serum creatinine</strong>, patient <strong>height</strong>, and an <strong>empirical constant k</strong>. The k value in the modified Schwartz formula is<strong>&nbsp;0.413</strong> for ages <strong>1-17</strong> years. This formula has higher accuracy and precision compared to the original Schwartz formula.</p>\n<p><strong>eGFR = 0.413 x height (cm) / serum creatinine (mg/dL)</strong></p>\n<p>In the given scenario, the height of the patient is 100 cm and serum creatinine is 1mg/dL. Therefore, the closest eGFR is 40 mL/min/1.73 m<sup>2</sup> BSA.</p>\n<p>eGFR in <strong>adults</strong> is calculated using the Modification of Diet in Renal Disease <strong>(MDRD)</strong> equation or the Chronic Kidney Disease Epidemiology Collaboration <strong>(CKD-EPI)</strong> equation. The calculation is based on <strong>age</strong> and <strong>serum creatinine</strong> with specific modifications in <strong>females</strong> and <strong>African Americans</strong>.</p>\n<p>Glomerular filtration rate (GFR) is a measure of kidney function. It can be estimated accurately by quantitating the clearance of a substance filtered across the capillaries but the substance should not be absorbed nor secreted by tubules.</p>\n<p>GFR can be estimated by intravenous injection of radioisotope <strong>technetium</strong> diethylene triamine pentaacetate (Tc-99m DTPA), but it is <strong>expensive</strong> and time-consuming. Therefore <strong>eGFR</strong> is estimated by the clearance of <strong>creatinine</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Adrenocorticotropic hormone is the drug of choice in which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Juvenile myoclonic epilepsy"
      },
      {
        "id": 2,
        "text": "Rolandic epilepsy"
      },
      {
        "id": 3,
        "text": "West syndrome"
      },
      {
        "id": 4,
        "text": "Lennox Gastaut syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Cryptogenic</strong> cases (unknown etiology) have <strong>normal development</strong> prior to onset, while <strong>symptomatic West syndrome</strong>&nbsp;is associated with <strong>preceding developmental delay</strong>&nbsp;owing to perinatal encephalopathies, metabolic disorders, or malformations.</p>\n<p><strong>Hormonal therapy</strong>, such as<strong> ACTH injections</strong> or <strong>oral steroids</strong>, is the <strong>preferred</strong> treatment for West syndrome. The patient's <strong>response</strong> is monitored through <strong>awake and asleep</strong> <strong>EEGs</strong> conducted at 1, 2, and 4th weeks of starting hormonal therapy. Side effects may include hypertension, electrolyte imbalance, infections, hyperglycemia and/or glycosuria, and gastric ulcers.&nbsp;</p>\n<p><strong>Vigabatrin</strong> is a first-line treatment option for <strong>infantile spasms</strong> in patients with <strong>tuberous sclerosis </strong>and is also considered a second-line choice if hormonal therapy has been unsuccessful in other cases of infantile spasms.&nbsp;</p>\n<p>The <strong>ketogenic diet i</strong>s considered a <strong>third-line therapy</strong> for infantile spasms. Other alternative treatment options for spasms include valproate, benzodiazepines (such as nitrazepam and clonazepam), topiramate, lamotrigine, zonisamide, pyridoxine, and intravenous gamma globulin (IVIG).</p>\n<p>Other options:</p>\n<p>Option A: <strong>Juvenile myoclonic epilepsy </strong>(JME)/ Janz syndrome starts in early adolescence and is characterized by <strong>myoclonic jerks</strong> in the <strong>morning</strong>.&nbsp;EEG shows generalized irregula<strong>r 4- to 6-Hz spike-and-wave </strong>activity, particularly <strong>after awakening</strong>. <strong>Valproate</strong> is considered the most effective medication. Lamotrigine, levetiracetam,&nbsp;and&nbsp;topiramate&nbsp;are also approved for JME.</p>\n<p>Option B: <strong>Rolandic epilepsy</strong> is <strong>benign</strong> epilepsy seen in children. They present at night or while awakening. They are <strong>partial seizures</strong> with no loss of consciousness. They resolve in adulthood. Treatment with <strong>carbamazepine</strong> is useful.</p>\n<p>Option D: <strong>Lennox-Gastaut syndrome</strong> is seen in 2-10 years and is characterized by a triad of <strong>developmental delay</strong>, <strong>multiple seizures</strong> (atypical absences, myoclonic, astatic, and tonic seizures), and specific <strong>EEG changes</strong> (<strong>1 to 2 Hz spike</strong> and <strong>slow waves</strong>, polyspike bursts). Treatment with topiramate, clobazam, felbamate, lamotrigine, and valproate is useful.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6bb995ffddb24c82b25435eccd8d7feax439x296.JPEG"
    ]
  },
  {
    "text": "Regarding urinary tract infection (UTI ) in children, which of the following is true?",
    "choices": [
      {
        "id": 1,
        "text": "1,3,4"
      },
      {
        "id": 2,
        "text": "2,4"
      },
      {
        "id": 3,
        "text": "2,3,4"
      },
      {
        "id": 4,
        "text": "1,4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The true statements regarding UTI in children are <strong>b</strong><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Regarding UTI in children which of the following is true :\\n1.mc cause is strep pneumoniae.\\n2.bowel bladder dysfunction increases the risk of recurrence .\\n3.cotrimoxazole not given.\\n4.MCU done in children with recurrence of UTI.&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\"><strong>owel </strong>and<strong> bladder dysfunction</strong> increases the risk of <strong>recurrence</strong>, and <strong>micturating</strong> <strong>cystourethrogram</strong> (MCU) is done in children with <strong>recurrence of UTI</strong>.</span></p>\n<div class=\"page\" title=\"Page 484\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The chief cause of UTI in children is<em><strong> Escherichia coli, </strong></em>others include&nbsp;<em>Klebsiella</em>, <em>Enterobacter</em>, and <em>Staphylococcus saprophyticus.&nbsp;</em>Risk factors for recurrent UTI are age &lt;6 months, obstructive uropathy, <strong>female sex</strong>, vesicoureteric reflux (VUR), <strong>bladder dysfunction</strong>, <strong>constipation,</strong> and repeated catheterization.</p>\n<div class=\"page\" title=\"Page 484\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 484\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Clinical features in neonates include fever, vomiting, diarrhea, poor weight gain, and lethargy. If the child cries during voiding or has a weak urine stream with a palpable bladder, it implies urinary obstruction. High fever (<strong>&gt;39&ordm;C</strong>), persistent vomiting, dehydration, <strong>renal angle tenderness</strong>, or raised <strong>creatinine</strong> is considered a <strong>complicated UTI</strong>.</p>\n<p>A colony count of <strong>&gt;10<sup>5</sup>/mL</strong> of a clean catch sample is considered <strong>significant&nbsp;bacteriuria.</strong>&nbsp;Any colonies on suprapubic aspiration and &gt;50,000/mL on urethral catheterization are considered significant. Patients with <strong>recurrent UTIs</strong> need to be evaluated with <strong>ultrasonography</strong>, <strong>DMSA scan</strong> (dimercaptosuccinic acid), and <strong>MCU</strong>.&nbsp;</p>\n<p>Evaluation following the first episode of UTI is given below:&nbsp;</p>\n<table style=\"height: 93px;\" width=\"375\">\n<tbody>\n<tr>\n<td style=\"width: 179.5px;\">Age</td>\n<td style=\"width: 179.5px;\">Evaluation</td>\n</tr>\n<tr>\n<td style=\"width: 179.5px;\">&lt;1 year</td>\n<td style=\"width: 179.5px;\">USG, MCU, DMSA renal scan</td>\n</tr>\n<tr>\n<td style=\"width: 179.5px;\">1 to 5 years</td>\n<td style=\"width: 179.5px;\">USG, DMSA scan. MCU is done if USG is abnormal</td>\n</tr>\n<tr>\n<td style=\"width: 179.5px;\">&gt;5 years</td>\n<td style=\"width: 179.5px;\">USG. If USG is abnormal,&nbsp; MCU and DMSA are done.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"page\" title=\"Page 485\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 485\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Third-generation cephalosporins</strong> or aminoglycosides are preferred empirical antibiotics for urinary tract infections (UTIs). Treatment duration is 7-10 days for simple UTIs and 10-14 days for complicated UTIs. Asymptomatic bacteriuria doesn't require treatment. Infants &lt;3 months and those with complicated UTIs should receive parenteral antibiotics.&nbsp;</p>\n<p><strong>Cotrimoxazole</strong>, nitrofurantoin, cephalexin, and cefadroxil are given as <strong>prophylaxis</strong> to prevent <strong>recurrent UTIs</strong>. Cotrimoxazole and nitrofurantoin can be given in infants &gt;3 months of age.&nbsp;</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Handedness is seen at the age of ______.",
    "choices": [
      {
        "id": 1,
        "text": "1 year"
      },
      {
        "id": 2,
        "text": "2 years"
      },
      {
        "id": 3,
        "text": "3 years"
      },
      {
        "id": 4,
        "text": "4 years"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<div class=\"page\" title=\"Page 265\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Handedness is seen at the age of <strong>3 years</strong>. The child may become frustrated if attempts are made in changing the hand preference.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following cyanotic heart diseases causes increased pulmonary blood flow?",
    "choices": [
      {
        "id": 1,
        "text": "1,4"
      },
      {
        "id": 2,
        "text": "1,2"
      },
      {
        "id": 3,
        "text": "3,4"
      },
      {
        "id": 4,
        "text": "2,4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The cyanotic congenital heart diseases with increased pulmonary blood flow are <strong>t</strong><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Which of the following cyanotic HD has increased pulmonary blood flow : \\n1.Ebstein anomaly\\n2.Tetralogy of fallot\\n3.TGA\\n4.TAPVC&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\"><strong>ransposition of the great arteries</strong> (TGA) and <strong>t</strong></span><strong>otal</strong> <strong>anomalous&nbsp;pulmonary venous communication&nbsp;</strong>(TAPVC).</p>\n<p>Classification of cyanotic congenital heart diseases based on pulmonary blood flow is as follows:</p>\n<table style=\"width: 364.517px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 246px; height: 18px;\"><strong>Decreased pulmonary blood flow</strong></td>\n<td style=\"width: 269.517px; height: 18px;\"><strong>Increased pulmonary blood flow</strong></td>\n</tr>\n<tr style=\"height: 163.6px;\">\n<td style=\"width: 246px; height: 163.6px;\">\n<p>Tetralogy of Fallot</p>\n<p>Pulmonary atresia&nbsp;with an intact ventricular septum</p>\n<p>Ebstein anomaly</p>\n<p>Isolated right ventricular hypoplasia.</p>\n</td>\n<td style=\"width: 269.517px; height: 163.6px;\">\n<p>Transposition of the great vessels.</p>\n<p>Total anomalous&nbsp;pulmonary venous return (TAPVR)</p>\n<p>Truncus arteriosus</p>\n<p>&nbsp;</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Atrial and ventricular <strong>septal defects</strong> are also associated with increased pulmonary blood flow. However, they are <strong>acyanotic</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An 11-year-old boy was brought to the outpatient clinic with intentional tremors, and poor scholastic performance. His sister has similar complaints. On examination, hepatomegaly is seen. The eye finding is shown in the image. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Wilson's disease"
      },
      {
        "id": 2,
        "text": "Huntington's chorea"
      },
      {
        "id": 3,
        "text": "Glutaric aciduria"
      },
      {
        "id": 4,
        "text": "Hepatitis A"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Other options:</p>\n<p>Option B:&nbsp;<strong>Huntington's chorea&nbsp;</strong>is a&nbsp;<strong>trinucleotide</strong>&nbsp;(CAG)&nbsp;<strong>repeat disorder</strong>&nbsp;with an<strong>&nbsp;autosomal dominant</strong>&nbsp;mode of inheritance. It is characterized by involuntary movements known as&nbsp;<strong>chorea</strong>.</p>\n<p>Option C:&nbsp;<strong>Glutaric aciduria</strong> is an autosomal recessive disease presenting during the <strong>first 6 months</strong> of life. Clinical features are hypotonia and jitteriness at birth, progressive <strong>hyperkinetic movements</strong> (dystonia, choreoathetosis), and may have seizures</p>\n<p>Option D: <strong>Hepatitis A</strong> is a <strong>viral</strong> infection transmitted by the&nbsp;<strong>fecal-oral&nbsp;route</strong>, which is the commonest, parenteral route, and also by sexual transmission.&nbsp;The onset of&nbsp;<strong>jaundice</strong>&nbsp;is preceded by symptoms like&nbsp;nausea,&nbsp;vomiting,&nbsp;anorexia, and mild&nbsp;fever.&nbsp;Hepatitis A&nbsp;<strong>resolves completely</strong>&nbsp;but a relapse may occur in a few cases.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6ff61128c9b34e489fafebb3f2e58aaf.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which alternative method can be used for the procedure shown in the image below?",
    "choices": [
      {
        "id": 1,
        "text": "Head circumference"
      },
      {
        "id": 2,
        "text": "Arm span"
      },
      {
        "id": 3,
        "text": "Crown-rump length"
      },
      {
        "id": 4,
        "text": "Knee height"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\">The procedure shown in the image is the measurement of the <strong>height</strong> of a child using a stadiometer. The&nbsp;alternative method that can be used for the procedure is <strong>arm span</strong>.&nbsp;The proportion of arm span changes with age but is&nbsp;<strong>close</strong> to <strong>height</strong>.</p>\n<p class=\"p1\">For children <strong>older</strong> than <strong>2 years</strong> of age, a <strong>stadiometer</strong> is used to measure their<strong> height</strong>. It is measured with the head in the Frankfurt plane, and the back of the head, thorax, buttocks, and heels all on the same axis as that of the stadiometer.</p>\n<div class=\"page\" title=\"Page 280\"><strong>Arm span</strong> provides an assessment of <strong>proportionality</strong>. It is measured by asking the child to stand, the back against the wall with arms outstretched, and the distance between the <strong>tip</strong> of the <strong>middle fingers</strong> are measured.&nbsp;</div>\n<div class=\"page\" title=\"Page 280\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 44\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The body proportion in a child is assessed by the <strong>ratio</strong> of the <strong>upper segment</strong> (US) and <strong>lower segment</strong> (LS) and by comparing the arm span with height.</p>\n<p>Upper segment: Lower segment ratio</p>\n<table style=\"height: 106px;\" width=\"254\">\n<tbody>\n<tr>\n<td style=\"width: 119.297px;\">Age</td>\n<td style=\"width: 119.304px;\">US: LS ratio</td>\n</tr>\n<tr>\n<td style=\"width: 119.297px;\">Birth</td>\n<td style=\"width: 119.304px;\">1.7</td>\n</tr>\n<tr>\n<td style=\"width: 119.297px;\">3 years</td>\n<td style=\"width: 119.304px;\">1.3</td>\n</tr>\n<tr>\n<td style=\"width: 119.297px;\">7 years</td>\n<td style=\"width: 119.304px;\">1</td>\n</tr>\n</tbody>\n</table>\n<p>A<strong> higher</strong>&nbsp;<strong>US:LS&nbsp;ratio</strong> is associated with bone disorders and conditions involving short-limb dwarfism, such as <strong>Turner syndrome</strong>, whereas a&nbsp;<strong>lower</strong>&nbsp;ratio is associated with hypogonadism and&nbsp;<strong>Marfan</strong> syndrome.</p>\n<div class=\"page\" title=\"Page 280\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 280\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Other options:</p>\n<div class=\"page\" title=\"Page 280\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option-A: <strong>Head circumference</strong> is measured as the maximal circumference along the <strong>supraorbital ridge</strong>&nbsp;in the front and the <strong>occipital prominence</strong>&nbsp;at the back of the head. It is measured using a flexible tape. It reflects the <strong>brain growth</strong> in a child. &nbsp;</p>\n<p>Option-C: <strong>Crown-rump length</strong> is used for the assessment of <strong>fetal growth</strong> as early as <strong>6&ndash;8 weeks</strong> of gestation. This length is used to determine the gestational age in the first trimester.</p>\n<p>Option-D:&nbsp;<strong>Knee height</strong> is the distance from the sole of the foot to the anterior surface of the femoral condyle, with the ankle and knee flexed to right angles. It is used when standing height cannot be measured.&nbsp;</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<p class=\"p1\">&nbsp;</p>\n<p class=\"p1\">&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4c226eaa94324e818c1fd98f2cda0bbe.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A child presents with acute exacerbation of asthma. Which of the following would you do?",
    "choices": [
      {
        "id": 1,
        "text": "3,4"
      },
      {
        "id": 2,
        "text": "1,4"
      },
      {
        "id": 3,
        "text": "1,3,4"
      },
      {
        "id": 4,
        "text": "2,3,4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<table style=\"height: 355px;\" width=\"564\">\n<tbody>\n<tr>\n<td style=\"width: 135.594px;\"><strong>Clinical parameter</strong></td>\n<td style=\"width: 133.375px;\"><strong>Mild</strong></td>\n<td style=\"width: 133.375px;\"><strong>Moderate</strong></td>\n<td style=\"width: 133.656px;\"><strong>Severe</strong></td>\n</tr>\n<tr>\n<td style=\"width: 135.594px;\">Color</td>\n<td style=\"width: 133.375px;\">Normal</td>\n<td style=\"width: 133.375px;\">Normal</td>\n<td style=\"width: 133.656px;\">Pale</td>\n</tr>\n<tr>\n<td style=\"width: 135.594px;\">Sensorium</td>\n<td style=\"width: 133.375px;\">Normal</td>\n<td style=\"width: 133.375px;\">Anxious</td>\n<td style=\"width: 133.656px;\">Agitated</td>\n</tr>\n<tr>\n<td style=\"width: 135.594px;\">Respiratory rate</td>\n<td style=\"width: 133.375px;\">Increased</td>\n<td style=\"width: 133.375px;\">Increased</td>\n<td style=\"width: 133.656px;\">Increased</td>\n</tr>\n<tr>\n<td style=\"width: 135.594px;\">Dyspnea</td>\n<td style=\"width: 133.375px;\">Absent</td>\n<td style=\"width: 133.375px;\">Moderate</td>\n<td style=\"width: 133.656px;\">Severe</td>\n</tr>\n<tr>\n<td style=\"width: 135.594px;\">Use of accessory muscles</td>\n<td style=\"width: 133.375px;\">Nil or minimal</td>\n<td style=\"width: 133.375px;\">Chest indrawing</td>\n<td style=\"width: 133.656px;\">Indrawing, nasal flare</td>\n</tr>\n<tr>\n<td style=\"width: 135.594px;\">Rhonchi</td>\n<td style=\"width: 133.375px;\">Expiratory and/or inspiratory</td>\n<td style=\"width: 133.375px;\">Expiratory and/or inspiratory</td>\n<td style=\"width: 133.656px;\">Expiratory or absent.</td>\n</tr>\n<tr>\n<td style=\"width: 135.594px;\">Oxygen saturation</td>\n<td style=\"width: 133.375px;\">&gt;95%</td>\n<td style=\"width: 133.375px;\">90-95%</td>\n<td style=\"width: 133.656px;\">&nbsp;&lt;90%</td>\n</tr>\n</tbody>\n</table>\n<div class=\"page\" title=\"Page 395\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 394\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>&nbsp;</p>\n<p><strong>Home treatment</strong> for acute exacerbation involves parents administering <strong>short-acting, beta-2-agonists</strong> by <strong>metered-dose inhaler</strong> with/without a spacer and facemask. One puff for every 30&ndash;60 seconds up to a maximum of 10 puffs with monitoring. If symptoms are relieved after inhalation, the child can continue salbutamol inhalation every 4&ndash;6 hours. If there is no improvement or partial improvement, the child should be transferred to a hospital.</p>\n</div>\n</div>\n</div>\n<p>In a child presenting to the&nbsp;<strong>hospital</strong> with severe symptoms, start <strong>inhalation </strong>of&nbsp;<strong>oxygen,&nbsp;</strong><strong>short-acting beta-2-agonists </strong>such as<strong> salbutamol </strong>or<strong> albuterol </strong>that&nbsp;can be used <strong>every 15&ndash;20 minutes&nbsp;for the first hour</strong>&nbsp;and administer&nbsp;<strong>oral prednisolone&nbsp;</strong>(1&ndash;2 mg/kg).&nbsp;Oxygen inhalation is stopped if an oxygen saturation of &gt;95% cannot be maintained.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young man is brought to the hospital with high-grade fever and altered consciousness. On examination, the patient had neck rigidity and pain when bending the neck. A lumbar puncture was performed and it showed a WBC count of 1500 cells/\u03bcL, majority being neutrophils, elevated pressure with protein of 120 mg/dL, and a glucose level of 70 mg/dL (blood glucose level - 300 mg/dL). How will you manage the index case?",
    "choices": [
      {
        "id": 1,
        "text": "Piperacillin+ tazobactum"
      },
      {
        "id": 2,
        "text": "Amphotericin + flucytosine"
      },
      {
        "id": 3,
        "text": "Vancomycin+ ceftriaxone"
      },
      {
        "id": 4,
        "text": "Antitubercular therapy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario with high <strong>fever</strong>,&nbsp;altered consciousness, <strong>neck</strong> <strong>rigidity</strong>, and cerebrospinal fluid <strong>(CSF)</strong> showing <strong>neutrophilic pleocytosis with low sugar</strong>&nbsp;point toward a diagnosis of<strong>&nbsp;bacterial meningitis</strong>. The initial treatment involves the administration of <strong>3rd-generation cephalosporin</strong> like <strong>ceftriaxone</strong>&nbsp;along with <strong>vancomycin</strong> for&nbsp;10&ndash;14 days.&nbsp;</p>\n<p><strong>Hyperglycemia</strong> due to the pathological <strong>stress</strong> from the infection can <strong>mask</strong> the reduced CSF glucose. It can be correctly inferred from <strong>CSF/blood glucose ratio</strong>. A ratio <strong>&lt;0.4</strong>&nbsp;is highly significant for <strong>bacterial</strong> meningitis.</p>\n<p>The most common cause of meningitis in adults over 20 years of age is <em><strong>Streptococcus pneumoniae</strong></em>.&nbsp;</p>\n<p>The classic clinical triad of meningitis includes <strong>fever</strong>, <strong>headache</strong>, and <strong>nuchal rigidity</strong>. Other common symptoms include decreased consciousness, nausea, <strong>vomiting</strong>, photophobia, and seizures. Cutaneous signs such as petechiae, <strong>purpura</strong>, or an erythematous macular rash may be present.</p>\n<p><strong>Kernig's sign</strong> and <strong>Brudzinski's sign</strong>&nbsp;can indicate meningeal irritation. Kernig's sign is positive when there is resistance and pain in extending the knee with the hip flexed at 90 degrees. Brudzinski's sign is positive when there is involuntary flexion of the hips and knees in response to passive neck flexion. However, these signs may <strong>not</strong> be <strong>reliable</strong> in certain patient groups, such as <strong>infants</strong>, <strong>elderly</strong> individuals, or those with <strong>altered mental status</strong>.</p>\n<p>When bacterial meningitis is suspected, <strong>blood cultures</strong> should be obtained, and <strong>empirical antimicrobial therapy</strong> should be initiated without delay. The diagnosis is confirmed by examining cerebrospinal fluid (CSF). <strong>CSF analysis</strong> shows increased polymorphonuclear leukocytes, decreased glucose concentration, increased protein concentration, and increased opening pressure. CSF bacterial cultures and Gram stain are used to identify the causative organism.</p>\n<p>Prompt initiation of empirical antimicrobial therapy is crucial in suspected cases of bacterial meningitis. Commonly used antibiotics include third- or fourth-generation <strong>cephalosporins</strong> (such as ceftriaxone, cefotaxime, or cefepime) that cover <em>Streptococcus pneumoniae</em>, <em>Neisseria meningitidis</em>, and <em>Haemophilus influenzae </em>and&nbsp;<strong>Vancomycin</strong> if there is a high suspicion of methicillin-resistant Staphylococcus aureus (MRSA) infection. <strong>Ampicillin</strong> with <strong>metronidazole</strong> is added when <strong><em>Listeria monocytogenes</em></strong> is suspected, particularly in neonates, pregnant women, individuals over 50 years, and immunocompromised individuals.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following increase the risk of recurrence of febrile seizures?",
    "choices": [
      {
        "id": 1,
        "text": "1,2,4"
      },
      {
        "id": 2,
        "text": "1,4"
      },
      {
        "id": 3,
        "text": "1,2,3"
      },
      {
        "id": 4,
        "text": "1,3,4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Which of the following conditions increase the risk of recurrence of febrile seizures?\\n 1.age&lt;1yr\\n 2.temp 38-39 degree celsius\\n 3.Duration of fever &lt;24hrs\\n 4.Duration of fever &gt;48 hrs&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\"><strong>Age &lt;1 year</strong>,&nbsp;temperature of <strong>38&ndash;39&deg;C (100.4-102.2&ordm;F)</strong>, and <strong>fever</strong>&nbsp;duration of&nbsp;<strong>&lt;24 h </strong>(statement 1,2,3) are the <strong>major risk factors</strong> for the recurrence of febrile seizures.&nbsp;</span></p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Which of the following conditions increase the risk of recurrence of febrile seizures?\\n 1.age&lt;1yr\\n 2.temp 38-39 degree celsius\\n 3.Duration of fever &lt;24hrs\\n 4.Duration of fever &gt;48 hrs&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\"><strong>Minor risk factors</strong> include a&nbsp;family history of <strong>epilepsy</strong>,&nbsp;<strong>male</strong>&nbsp;gender, <strong>daycare</strong>, <strong>complex</strong> febrile seizure, <strong>family history</strong> of <strong>febrile seizures</strong>, and <strong>lower serum sodium</strong> at the time of presentation.</span></p>\n<p><strong>Febrile seizures</strong>&nbsp;occur in children of the age of&nbsp;<strong>6&ndash;60 months</strong>&nbsp;(peak at 12 to 18 months) with a temperature of <strong>38&ordm;C</strong> (<strong>100.4&deg;F) or higher</strong>, without underlying intracranial infections or prior unprovoked seizures.&nbsp;</p>\n<p><strong>Types</strong> of febrile seizures:&nbsp;</p>\n<table style=\"height: 220px;\" width=\"467\">\n<tbody>\n<tr>\n<td style=\"width: 225.5px;\"><strong>Simple febrile seizures</strong></td>\n<td style=\"width: 225.5px;\"><strong>Complex (atypical) febrile seizures</strong></td>\n</tr>\n<tr>\n<td style=\"width: 225.5px;\">Occurs within 24 hours of the onset of fever</td>\n<td style=\"width: 225.5px;\">Can occur at any time during a fever</td>\n</tr>\n<tr>\n<td style=\"width: 225.5px;\">Generalized seizures</td>\n<td style=\"width: 225.5px;\">Focal seizures</td>\n</tr>\n<tr>\n<td style=\"width: 225.5px;\">Duration is &lt;15 min</td>\n<td style=\"width: 225.5px;\">Prolonged</td>\n</tr>\n<tr>\n<td style=\"width: 225.5px;\">No recurrence within 24 hrs of seizures</td>\n<td style=\"width: 225.5px;\">Recurrent</td>\n</tr>\n<tr>\n<td style=\"width: 225.5px;\">The chances of going into epilepsy are 1%</td>\n<td style=\"width: 225.5px;\">The chances of going into epilepsy are 6%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Lumbar puncture</strong> should be performed in the&nbsp;<strong>first episode</strong>&nbsp;of seizures with fever, for all infants&nbsp;<strong>&lt;6 months</strong>&nbsp;of age (to exclude meningitis). Electroencephalogram and neuroimaging are advised for children with suspected epilepsy or neurological abnormalities.&nbsp;</p>\n<p>Treatment with&nbsp;<strong>lorazepam</strong>, diazepam, and midazolam for seizures <strong>lasting more than 5 minutes</strong>.&nbsp;<strong>Rectal diazepam</strong>&nbsp;is prescribed to use at home as rescue medication if febrile seizures last more than 5 minutes. <strong>Buccal or intranasal midazolam</strong> may be used alternatively.&nbsp;</p>\n<p>For<strong> frequently recurring</strong> febrile seizures, <strong>intermittent oral clonazepam</strong> or <strong>diazepam</strong> can be given <strong>during</strong> <strong>febrile illnesses</strong> to reduce the risk of recurrence. Continuous prophylaxis is no longer recommended.&nbsp;</p>\n<p><strong>Antipyretics</strong> can be given but it does not decrease the risk of recurrence. <strong>Chronic antiepileptic therapy</strong> may be considered for children at high risk of developing epilepsy. Screening for and treating <strong>iron deficiency</strong> is recommended as it is associated with an increased risk of febrile seizures.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Choose the most appropriate answer.",
    "choices": [
      {
        "id": 1,
        "text": "Both assertion and reason are independently false statements."
      },
      {
        "id": 2,
        "text": "The assertion is independently a true statement, but the reason is independently a false statement."
      },
      {
        "id": 3,
        "text": "Both assertion and reason are independently true statements, but the reason is not the correct explanation for the assertion."
      },
      {
        "id": 4,
        "text": "Both assertion and reason are independently true statements, and the reason is the correct explanation for the assertion."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct answer is <strong>option C</strong>.</p>\n<p>The&nbsp;<strong>mousy or musty odor</strong> of <strong>urine </strong>in <strong>phenylketonuria</strong> (PKU) is due to the accumulation of phenylalanine metabolites including <strong>phenylpyruvate</strong>, <strong>phenylacetate</strong>, and <strong>phenyl lactate</strong>.</p>\n<p>PKU can lead to <strong>low</strong> levels of <strong>tyrosine</strong>, which is synthesized from phenylalanine. Tyrosine gives rise to catecholamines like dopamine, norepinephrine, and epinephrine. Thus, low levels of tyrosine may lead to a <strong>deficiency</strong> of <strong>dopamine, norepinephrine,</strong> and<strong> epinephrine</strong>. However, this is not the reason for the mousy odor of urine.</p>\n<p>PKU is caused by a deficiency of the enzyme <strong>phenylalanine hydroxylase</strong> (classic PKU) or defects in the enzymes involved in producing tetrahydrobiopterin. These deficiencies impair the conversion of phenylalanine to tyrosine, leading to <strong>elevated</strong> levels of <strong>phenylalanine</strong> and <strong>low</strong> levels of <strong>tyrosine</strong> in the body. The&nbsp;excess phenylalanine in the blood is metabolized to phenyl ketones (<strong>phenylpyruvate</strong>&nbsp;and&nbsp;<strong>phenylacetate</strong>)&nbsp;which are <strong>excreted in the urine</strong>.&nbsp;</p>\n<p>Affected infants initially appear normal at birth. If left untreated, they gradually develop profound <strong>intellectual disability</strong>. Older untreated children may exhibit <strong>hyperactivity</strong>, <strong>autistic behaviors</strong>, and neurologic signs such as <strong>seizures</strong>, spasticity, and tremors. Abnormalities like <strong>microcephaly</strong>, prominent maxillae, and growth retardation are seen. They are also prone to low bone mineral density and <strong>osteopenia</strong>.&nbsp;</p>\n<p>Untreated PKU patients may exhibit <strong>hypopigmentation</strong> (fair hair, light skin color, and blue eyes) due to <strong>low</strong> levels of <strong>tyrosine</strong>, which is necessary for the formation of melanin pigment.&nbsp;</p>\n<p>If a woman with PKU is not following a low-phenylalanine diet during pregnancy, it can lead to <strong>maternal PKU syndrome</strong> in the offspring. This condition is associated with <strong>microcephaly</strong> and <strong>congenital heart disease</strong>.</p>\n<p>The preferred screening method is <strong>tandem mass spectrometry</strong>.&nbsp;If screening is positive, the diagnosis is confirmed by quantitatively measuring phenylalanine levels.&nbsp;</p>\n<p>The primary treatment for PKU is a <strong>low-phenylalanine diet</strong>, which should be initiated as soon as the diagnosis is established.&nbsp;<strong>Lifelong</strong> <strong>restriction</strong> of dietary phenylalanine is recommended. <strong>Tyrosine</strong> becomes an <strong>essential amino acid</strong> in PKU and it needs to be obtained from the diet.&nbsp;</p>\n<p>The series of reactions involving the production of catecholamines is shown in the image below:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b273f7fa0db1436cb77393738b7d2aa3x1279x2161.JPEG"
    ]
  },
  {
    "text": "A child is brought to the casualty with a history of choking. On examination, there is decreased air entry in the left lung. What would be the correct management?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, and 4"
      },
      {
        "id": 2,
        "text": "1 and 2"
      },
      {
        "id": 3,
        "text": "3 and 4"
      },
      {
        "id": 4,
        "text": "1 and 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p style=\"text-align: left;\">A history of<strong> choking</strong> and <strong>reduced breath sounds</strong>&nbsp;over the left lung in a child are suggestive of a foreign body lodged in the left bronchus. The next step in the management of this child is to obtain a <strong>chest x-ray</strong>,<strong>&nbsp;</strong>followed by&nbsp;<strong>bronchoscopic&nbsp;</strong>removal of the foreign body.&nbsp;</p>\n<p style=\"text-align: left;\"><strong>Food items</strong> (nuts, seeds hard candy, gum, bones raw fruits, and vegetables) account for the majority of choking cases in children.&nbsp;The most common site of foreign body lodging is the <strong>bronchus</strong>. Foreign body aspiration into the airway has three stages: immediate symptoms of <strong>coughing</strong> and <strong>choking</strong>, an asymptomatic interval, and later<strong> complications</strong> such as fever, atelectasis, and pneumonia.</p>\n<p style=\"text-align: left;\">When a child presents with a history of choking, <strong>detailed history taking</strong> and&nbsp;<strong>physical examination</strong> of the nose, oral cavity, pharynx, neck, and lungs are necessary.</p>\n<p style=\"text-align: left;\">The next step for suspected foreign body aspiration is to obtain a <strong>chest X-ray</strong>, including the abdomen, despite most foreign bodies being radiolucent. <strong>Secondary findings</strong> on the X-ray can indicate foreign body involvement, such as <strong>air trapping</strong>, <strong>atelectasis</strong>,&nbsp;obstructive <strong>emphysema</strong>, asymmetric&nbsp;hyperinflation, mediastinal shift, or consolidation. While a CT scan has high accuracy, it is not typically performed due to radiation risks.&nbsp;</p>\n<p style=\"text-align: left;\">The treatment of choice for a foreign body in the airway is its <strong>endoscopic removal</strong> with a <strong>rigid instrument,</strong> usually a <strong>bronchoscope,</strong> by a specialist otolaryngologist or pulmonologist. <strong>Bronchoscopy</strong> must be performed even if there is a <strong>high suspicion</strong> of an airway foreign body in spite of negative or inconclusive imaging.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 9-month-old boy presents with progressive pallor and abdominal distension. The Mentzer index was found to be less than 13. What are the investigations to be done in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "1, and 2"
      },
      {
        "id": 2,
        "text": "1, 3, and 4"
      },
      {
        "id": 3,
        "text": "1 and 4"
      },
      {
        "id": 4,
        "text": "1, 2, 3, and 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Hb Electrophoresis</strong> and <strong>HPLC</strong> are used as <strong>screening tests</strong> for thalassemia. <strong>DNA diagnosis</strong> to detect \u03b2-thalassemia mutations is used for <strong>definitive diagnosis</strong>.\u00a0A radiographic image of the skull shows the classic '<strong>crew cut</strong>' appearance.\u00a0</p>\n<p><strong>Blood transfusions</strong> are administered every 3-4 weeks to maintain a pretransfusion hemoglobin level of 9.5-10.5 g/dL.\u00a0Oral iron chelation to prevent iron toxicity is also recommended. <strong>Hematopoietic stem cell transplantation</strong> is the only definitive therapy.\u00a0</p>\n<p>Antenatal counseling and heterozygote screening can be used in the prevention of the condition. \u00a0</p>\n<p><strong>\u03b1-thalassemia</strong> is caused by deficient synthesis of \u03b1-chains. Deletion or malfunction of three\u00a0\u03b1-globin chains can result in <strong>HbH disease</strong>. <strong>Hb Bart's hydrops fetalis</strong> is due to the absence of any normally functioning\u00a0\u03b1-globin genes.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7a2002db86254187911b66e5f9772640x720x546.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1a2fcda0c2c74489b0ad2ad11b3e416dx512x357.PNG"
    ]
  },
  {
    "text": "A child presents with complaints of fever, rash, body ache, and throat ache. He has a history of thorn prick injury a week back. What antibiotics would you give empirically to this child?",
    "choices": [
      {
        "id": 1,
        "text": "Ceftriaxone"
      },
      {
        "id": 2,
        "text": "Amoxicillin+ clavulanate"
      },
      {
        "id": 3,
        "text": "Vancomycin"
      },
      {
        "id": 4,
        "text": "Meropenem"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A child with a history of <strong>fever</strong> with <strong>rash</strong> and throat ache (<strong>sore throat</strong>)&nbsp;following a thorn prick injury could be having scarlet fever caused by <strong>group A <em>Streptococcus</em> (GAS)</strong>.<strong>&nbsp;</strong>This child could be treated empirically with <strong>amoxicillin-clavulanate</strong>.</p>\n<p>GAS commonly presents in children with pharyngitis and rash. It commonly spreads through droplets but can also be <strong>inoculated by a wound&nbsp;</strong>(thorn prick in this case) or burn infected with GAS.</p>\n<p>The rash typically begins as diffuse, erythematous, papular eruptions. <strong>Sandpaper rash</strong> and the <strong>strawberry tongue</strong> are characteristic lesions that develop in the course of the disease<strong>.&nbsp;Pyrogenic exotoxin</strong> (erythrogenic exotoxin) produced by Group A <em>Streptococcus</em> is responsible for scarlet fever.</p>\n<p><strong>Streptococcal rapid antigen detection test</strong> or<strong> throat culture</strong>&nbsp;should be done before starting treatment with antibiotics<strong>.</strong> First-line treatment is by penicillin or amoxicillin for 10 days. Clavulanate can be added to combat any beta-lactamases produced by the bacteria.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child with thalassemia is undergoing multiple blood transfusions. What is the best method to detect iron overload?",
    "choices": [
      {
        "id": 1,
        "text": "Liver iron concentration"
      },
      {
        "id": 2,
        "text": "MRI T2 myocardium"
      },
      {
        "id": 3,
        "text": "Serum ferritin"
      },
      {
        "id": 4,
        "text": "NTBI"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The best method to assess iron overload is <strong>quantitative liver iron</strong> using <strong>T2 MRI</strong>. It eliminates the need for invasive procedures like liver biopsy.\u00a0</p>\n<p>Excessive iron stores resulting from transfusions are a major concern in the management of \u03b2-thalassemia major. Accurate assessment of iron overload is crucial for optimal treatment.</p>\n<p>Quantitative measurement of <strong>cardiac iron by T2 MRI</strong> (option B) is initiated at the age of 10. However, there can be a discrepancy between liver iron and cardiac iron levels due to variations in tissue loading and unloading rates.</p>\n<p>While serial <strong>serum ferritin</strong> levels (option C) can be used as a <strong>screening tool,</strong> they may not accurately reflect quantitative iron stores. Relying solely on serum ferritin levels can lead to undertreatment or overtreatment of iron overload.</p>\n<p>Normally, iron in the plasma is bound to transferrin. But in iron-overload conditions, iron exceeds the iron binding capacity leading to the appearance of <strong>non-transferrin-bound iron </strong>(option D). It can act as an indicator of iron overload, but it is influenced by plasma factors like citrate, uric acid, and albumin. Hence, it cannot be used as a tool to measure quantitative iron overload that can help guide in planning chelation therapies.\u00a0</p>\n<p><strong>Other tests</strong> that help calculate iron overload include\u00a0echocardiography, bone mass densitometry, and testing for endocrinopathy. These tests are done at the time of diagnosis and done yearly to monitor iron overload. Serum ferritin tests can be done every 3 months.\u00a0</p>\n<p><strong>Hypothyroidism</strong>, hypogonadotropic <strong>hypogonadism</strong>, growth hormone deficiency, hypoparathyroidism, and diabetes mellitus are seen due to iron deposition in endocrine organs. Iron deposition in the heart can lead to heart failure, arrhythmias, and cardiac-related mortality.\u00a0</p>\n<p><strong>Iron chelation</strong> therapy is recommended when serum ferritin levels exceed 1,000 ng/mL and/or liver iron concentration is above 5,000 \u00b5g/g dry weight. It is not approved for children under 2 years of age. Three iron chelators are available: deferoxamine, deferasirox, and deferiprone. <strong>Deferoxamine</strong> is administered subcutaneously or <strong>intravenously</strong> due to its poor oral bioavailability. <strong>Deferasirox</strong> is a once-daily <strong>oral</strong> iron chelator. Deferiprone is an oral iron chelator approved as a second-line agent.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "How would you manage a child with status epilepticus?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3, 4"
      },
      {
        "id": 2,
        "text": "2, 1, 4, 3"
      },
      {
        "id": 3,
        "text": "1, 3, 4, 2"
      },
      {
        "id": 4,
        "text": "1, 2, 4, 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Refractory status epilepticus</strong> (SE) refers to SE that does not respond to therapy involving at least <strong>two medications</strong> (such as benzodiazepine and another medication). <strong>Super</strong> <strong>refractory status epilepticus</strong> is SE that does <strong>not resolve</strong> or<strong> recur within 24 hours</strong> or more despite treatment that involves&nbsp;continuous infusions of medications like midazolam or pentobarbital.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f42ff66bd7d645bb8ad72d5de11a837dx1280x2558.JPEG"
    ]
  },
  {
    "text": "A child presents with cold feet and a history of wearing socks even in the summers. On examination, lower limb pulses are diminished as compared to the radial pulse. Prominent radio femoral delay is present. What is the underlying condition?",
    "choices": [
      {
        "id": 1,
        "text": "There is hypertrophy of ductus arteriosus."
      },
      {
        "id": 2,
        "text": "Coarctation distal to the origin of the left subclavian artery"
      },
      {
        "id": 3,
        "text": "Supply is from posterior to anterior thoracic artery."
      },
      {
        "id": 4,
        "text": "Collaterals develop to supply upper limb."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Unless surgically corrected in infancy, coarctation of the aorta results in the development of <strong>collateral circulation</strong>, mainly from branches of the subclavian, superior intercostal, and internal mammary arteries, to create channels for arterial blood to <strong>bypass</strong> the area of <strong>coarctation</strong>.&nbsp;</p>\n<p><strong>Hypertrophy</strong> of the ductus arteriosus (Option A) is <strong>not</strong> typically associated with coarctation of the aorta as it <strong>closes shortly after birth</strong> and is not directly involved in coarctation. The blood supply to the <strong>upper</strong> <strong>limb</strong>&nbsp;is <strong>higher</strong> as the coarctation is distal to the origin of the subclavian artery, therefore <strong>collaterals</strong> do <strong>not develop</strong> to supply the upper limb (Option D).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c012bf5edac944c6b85d2a59498239acx510x688.GIF"
    ]
  },
  {
    "text": "An unconsious child is brought to the casualty. What is the correct sequence of the management?",
    "choices": [
      {
        "id": 1,
        "text": "3-1-2-4-5"
      },
      {
        "id": 2,
        "text": "1-2-3-4-5"
      },
      {
        "id": 3,
        "text": "3-1-2-5-4"
      },
      {
        "id": 4,
        "text": "1-2-4-3-5"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct sequence to provide basic life support is<strong> </strong>to<strong> assess responsiveness, check for breathing</strong><strong>\u00a0</strong>and<strong> pulse, </strong><strong>start bag </strong>and<strong> mask ventilation commence </strong>and then <strong>cardiopulmonary resuscitation (CPR)</strong>.</p>\n<p>In an unresponsive patient, ensure <strong>scene safety</strong> first, then <strong>check for responsiveness</strong>, and activate the emergency response.\u00a0In the presence of two or more rescuers, one remains with the victim while the other activates the emergency response system. Evaluate breathing and pulse within 10 seconds.</p>\n<p>If the person<strong> does not</strong> have a <strong>pulse</strong> and is <strong>not breathing</strong> and there is only <strong>one rescuer</strong>, <strong>start</strong><strong>\u00a0CPR immediately\u00a0</strong>with cycles of<strong> 30 compressions</strong> and <strong>2 breaths</strong> if it is not a witnessed collapse. If it is a witnessed collapse with one rescuer, activate the emergency response system (ERS) if not done already, and retrieve the defibrillator.</p>\n<p>After about <strong>2 minutes</strong>, if still <strong>alone</strong>, activate the emergency response system and retrieve the automated external defibrillator (<strong>AED</strong>). If there are 2 or more rescuers, then one should start CPR while the other retrieves AED. When the second rescuer arrives change the cycle to <strong>2 breaths for every 15 compressions</strong>. Breaths can be provided with the help of a bag and mask.</p>\n<p><span class=\"elementor-icon-list-text\">If the patient has <strong>a pulse</strong> but <strong>no normal breathing</strong> or only gasping, provide\u00a0<strong>1 breath</strong> every <strong>3 to 5\u00a0seconds or about 12 to 20 breaths/min</strong>. Add compressions if pulse remains\u00a0\u226460/min with signs of perfusion. Activate the emergency response system after 2 minutes. Continue rescue breathing, and check pulse every 2 minutes. If no pulse, start CPR.\u00a0</span></p>\n<p><span class=\"elementor-icon-list-text\">When AED arrives, analyze the rhythm. If it is a <strong>shockable rhythm</strong>, give <strong>1 shock</strong>. <strong>Resume CPR</strong> immediately for about 2 minutes.\u00a0 If it is a <strong>non-shockable rhythm</strong>,<strong> resume CPR</strong> immediately for about 2 minutes.\u00a0</span></p>\n<p><span class=\"elementor-icon-list-text\">The image below shows chest compressions in pediatric patients.</span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2b200ea81b4c4699b14b325723a999abx1280x4216.JPEG"
    ]
  },
  {
    "text": "Which of the following statements are true regarding cytomegalovirus (CMV) infection?",
    "choices": [
      {
        "id": 1,
        "text": "3, 4"
      },
      {
        "id": 2,
        "text": "1, 2"
      },
      {
        "id": 3,
        "text": "2, 4"
      },
      {
        "id": 4,
        "text": "1, 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The true statements regarding CMV infection are statements <strong>1 and 3.</strong></p>\n<p>Most CMV transmission occurs in the\u00a0<strong>first\u00a0trimester</strong>. The\u00a0<strong>risk</strong>\u00a0of transmission is high in the\u00a0<strong>third</strong> trimester.</p>\n<p>Only <strong>10%</strong> (statement 2) of the infected babies are <strong>symptomatic</strong>. <strong>Asymptomatic</strong> neonates\u00a0have <strong>lesser</strong> chances of having late <strong>sequelae </strong>(statement 1).\u00a0</p>\n<p>Congenital CMV infection can result from either primary or reactivation infection of the mother. The <strong>rate of transmission </strong>of infection to the fetus in a mother who has a <strong>primary</strong> infection is about <strong>30%</strong> (statement 3) while in a mother with a non-primary infection, it is <strong>1-2%</strong>. However, the <strong>total number of infants</strong> who have acquired an infection from a mother with a <strong>non-primary</strong> infection is 3-4 times more than infants who have acquired an infection from mothers with a primary infection.\u00a0</p>\n<p>The clinical manifestations include hepatosplenomegaly,\u00a0petechial\u00a0rashes,\u00a0jaundice,\u00a0<strong>chorioretinitis</strong>, and\u00a0<strong>microcephaly</strong>. Neuroimaging shows\u00a0<strong>intracranial</strong>\u00a0<strong>periventricular calcifications.\u00a0</strong>One of the long-term sequelae is\u00a0<strong>sensorineural hearing loss.</strong></p>\n<p>The investigation of choice is <strong>PCR</strong>\u00a0or\u00a0<strong>viral culture</strong>. It should be done\u00a0<strong>within the first three weeks of life</strong> (statement 4). After this period, it is difficult to distinguish between a congenital and an acquired infection. Since not all affected infants are viremic at birth, <strong>urine </strong>and/or <strong>saliva</strong> are <strong>more reliable</strong> samples than\u00a0<strong>blood</strong>.\u00a0</p>\n<p>There is\u00a0<strong>no definitive treatment</strong>\u00a0for congenital CMV infection. Treatment with<strong>\u00a0ganciclovir\u00a0</strong>is<strong>\u00a0</strong>indicated only in patients with progressive neurologic disease and deafness.</p>\n<p>Below is the image showing the blueberry muffin rash in CMV affected baby<strong>:</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/02e1c93c48204a64bbcdc767f8231b7ax237x212.JPEG"
    ]
  },
  {
    "text": "The hormone that does not play a role in the growth of the fetus is:",
    "choices": [
      {
        "id": 1,
        "text": "Insulin"
      },
      {
        "id": 2,
        "text": "Growth hormone"
      },
      {
        "id": 3,
        "text": "Thyroxine"
      },
      {
        "id": 4,
        "text": "Glucocorticoids"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 19\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Growth hormone</strong>, despite being present at higher levels in the fetus, does not play a significant role in fetal growth.</p>\n<p>The human fetus produces thyroxine from the 12th week of gestation. <strong>Thyroxine</strong> and <strong>insulin</strong> have an important role in regulating <strong>tissue growth</strong> and <strong>differentiation</strong> of the fetus, particularly during late gestation. <strong>Glucocorticoids</strong> play an important role towards the end of gestation in the\u00a0<strong>prepartum</strong> <strong>maturation</strong> of organs such as the liver, lungs, and gastrointestinal tract.\u00a0</p>\n<p><strong>Insulin-like growth factor</strong> (IGF)-1 and IGF-II also play an important role in fetal growth.\u00a0</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is true regarding the tape shown in the image?",
    "choices": [
      {
        "id": 1,
        "text": "1, 3"
      },
      {
        "id": 2,
        "text": "2, 4"
      },
      {
        "id": 3,
        "text": "2, 3"
      },
      {
        "id": 4,
        "text": "1, 4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The tape shown in the image is <strong>Shakir's tape</strong>. It\u00a0is used to <strong>assess severe acute malnutrition\u00a0</strong>(SAM). It is used by\u00a0<strong>frontline field workers </strong>for nutritional<strong> screening\u00a0</strong>of <strong>malnourished</strong> children and those at risk, aged <strong>6-59 months</strong>.\u00a0</p>\n<p><strong>Shakir's tape</strong> is used for the measurement of <strong>mid-upper arm circumference\u00a0</strong>(MUAC). To locate the midpoint of the left arm, the arm is flexed at the right angle, and the mid-point is marked <strong>halfway between the acromion and olecranon process</strong>.\u00a0Color coding is as follows:</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Red</strong> is <strong>less than 11.5 cm</strong>, which indicates <strong>severe acute malnutrition</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Yellow</strong> is from <strong>11.5 to 12.5 cm</strong>, which indicates <strong>moderate</strong> acute malnutrition</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Green</strong> is from 12.5 to 26.5 cm, indicating <strong>no acute malnutrition</strong>\u00a0</li>\n</ul>\n<p>The presence of any one of the following confers <strong>severe acute malnutrition</strong> in children <strong>6 to 59 months</strong> of age:</p>\n<ul>\n<li><strong>Weight-for-height (length) below -3</strong> standard deviation (&lt;-3SD) on the WHO growth standard</li>\n<li>Presence of <strong>bipedal edema</strong></li>\n<li>Mid-upper arm circumference (<strong>MUAC</strong>) <strong>below 11.5 cm</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c9a84f4021234da999600676b9fd9ecc.PNG"
    ],
    "explanation_images": []
  }
];
        let quizName = '265 Paediatrics Ini-Cet 2022';
        let hierarchy = ["Marrow", "PYQs", "Pediatrics"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>