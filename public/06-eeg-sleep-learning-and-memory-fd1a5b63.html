<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>06 Eeg & Sleep  Learning And Memory - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Physiology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">11</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>Which of the following statements about EEG (Electroencephalogram) is incorrect?</p>",
    "choices": [
      {
        "id": 1,
        "text": "EEG measures the summated version of EPSP and IPSP generated in the brain."
      },
      {
        "id": 2,
        "text": "EEG records the dendritic potentials of pyramidal neurons."
      },
      {
        "id": 3,
        "text": "Positive dendritic potentials are known as EPSP (Excitatory Postsynaptic Potential) and negative dendritic potentials are known as IPSP (Inhibitory Postsynaptic Potential)."
      },
      {
        "id": 4,
        "text": "D) Electrocorticography (ECOG) is the measurement of electrical activity specifically in the cerebral cortex by placing electrodes on the surface of scalp."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<h3><strong>Correct Answer: D) <span class=\"customMeta\" data-dictid=\"4b23e75037169277718776ddc20163\">Electrocorticography</span> (ECOG) is the measurement of electrical activity, specifically in the cerebral cortex, by placing electrodes over the scalp</strong><strong>.</strong></h3>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>Electrocorticography (ECOG) involves placing electrodes <strong>directly on the cerebral cortex</strong>, not over the scalp. It is an<strong> <span class=\"customMeta\" data-dictid=\"1c5272ad3d1692777190e71409d07a\">invasive</span> procedure</strong> requiring craniotomy. It is used to evaluate <strong>epileptogenic foci</strong> in patients with <span class=\"customMeta\" data-dictid=\"3790c638ab16927771970a0a41d3ab\">refractory</span> epilepsy.</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"Blausen.com staff (2014). \"Medical gallery of Blausen Medical 2014\". WikiJournal of Medicine 1 (2). DOI:10.15347/wjm/2014.010. ISSN 2002-4436.\" data-hash=\"\" data-license=\"CC BY 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Intracranial_electrode_grid_for_electrocorticography.png\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/TUgABEdcxQrqeeWyABVh1727327534.png\" width=\"435\" /></p>\n\n<p><strong>Electroencephalogram</strong> - <strong>EEG</strong></p>\n\n<ul>\n\t<li>Electroencephalogram (EEG) is the record of <span class=\"customMeta\" data-dictid=\"f71e485d131692777199151d1076d2\">spontaneous</span> electrical activities generated in the <span class=\"customMeta\" data-dictid=\"ed2f4c790516927771840d0d99e9f4\">cerebral cortex</span> that are picked up from the brain's surface through electrodes placed on designated sites in the scalp. <strong>(Option B\u00a0ruled out)</strong></li>\n</ul>\n\n<ul>\n\t<li>It detects the <span class=\"customMeta\" data-dictid=\"77f797c5e8169277718535480fa7fd\">dendritic</span> potentials of neurons,<strong> primarily <span class=\"customMeta\" data-dictid=\"d3b981dbf916927771961c29f24614\">pyramidal</span> cells </strong>reaching the surface of the scalp.</li>\n</ul>\n\n<ul>\n\t<li>Positive <span class=\"customMeta\" data-dictid=\"77f797c5e8169277718535480fa7fd\">dendritic</span> potential is known as <strong>EPSP</strong>(Excitatory <span class=\"customMeta\" data-dictid=\"978bd0e89f1692777196add72e1254\">Postsynaptic</span> Potential), and negative <span class=\"customMeta\" data-dictid=\"77f797c5e8169277718535480fa7fd\">dendritic</span> potential is known as <strong>IPSP</strong>(Inhibitory <span class=\"customMeta\" data-dictid=\"978bd0e89f1692777196add72e1254\">postsynaptic</span> potential). <strong>(Option C ruled out)</strong></li>\n</ul>\n\n<ul>\n\t<li>EEG captures the <strong>summated value of <span class=\"customMeta\" data-dictid=\"97cf9b39961692777187593dabfab6\">EPSP</span> and IPSP</strong>. <strong>(Option A ruled out)</strong></li>\n</ul>\n\n<ul>\n\t<li>Also, <span class=\"customMeta\" data-dictid=\"149fc70e9a16927771864296cb4e21\">EEG</span> is the recording of <strong>local potential </strong>from the surface of the scalp, it is <strong>not the action potential</strong>.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/TUgABEdcxQrqeeWyABVh1727327534.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/1GJyiwgi5sdafEA47Ulr1745919073.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/r2EYleKXDbEY6bXIhgqW1745920182.mp3"
  },
  {
    "text": "<p>Match the following EEG wave types with their respective frequency ranges and associated activities.</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:609px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Type of Wave</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Frequency Range (Hz)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Activity During</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1) Beta</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>A) 8-13</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>i) Deep sleep</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2) Alpha</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>B) 14-30</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>ii) Relaxation, eyes closed</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>3) Theta</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>C) 2-4</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>iii) Alert and active thinking</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>4) Delta</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>D) 5-7</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>iv) Light sleep, emotional stress in adults</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "choices": [
      {
        "id": 1,
        "text": "1 - B - iii, 2 - A - ii, 3 - D - iv, 4 - C - i"
      },
      {
        "id": 2,
        "text": "1 - C - i, 2 - B - iii, 3 - A - ii, 4 - D - iv"
      },
      {
        "id": 3,
        "text": "1 - B - iii, 2 - D - iv, 3 - A - ii, 4 - C - i"
      },
      {
        "id": 4,
        "text": "1 - A - ii, 2 - C - i, 3 - D - iv, 4 - B - iii"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<h3><strong>Correct Answer: A) 1 - B - iii, 2 - A - ii, 3 - D - iv, 4 - C - i</strong></h3>\n\n<p><strong>Explanation:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Type of Wave</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Frequency Range (Hz)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Activity During</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Beta</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>14-30</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Alert and active thinking</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Alpha</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>8-13</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Relaxation, eyes closed</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Theta</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>5-7</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Light sleep, emotional stress in adults</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Delta</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2-4</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Deep sleep</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/xwdwbJv3gyNklTV4LDW71745920385.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/H7yf9BUWeyh0T7p9uuoJ1745920745.mp3"
  },
  {
    "text": "<p>\u00a0</p>\n\n<p>What type of waves are going to be seen if the patient is evaluated on EEG during deep sleep?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Sleep spindles"
      },
      {
        "id": 2,
        "text": "K-Complexes"
      },
      {
        "id": 3,
        "text": "Theta waves"
      },
      {
        "id": 4,
        "text": "Delta waves"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<h3><strong>Correct Answer: D) <span class=\"customMeta\" data-dictid=\"f7d3133242169277718518c059ad55\">Delta</span> waves</strong></h3>\n\n<h3><br />\n<strong>Explanation:</strong></h3>\n\n<p>The patient is likely to be in <strong>NREM Stage 4 sleep</strong>, known as the deep stage of sleep, characterized by <span class=\"customMeta\" data-dictid=\"f7d3133242169277718518c059ad55\">delta</span> waves (low frequency, high amplitude).</p>\n\n<p style=\"text-align:center\"><img alt=\"Sleep Cycle\" data-author=\"NA\" data-hash=\"581\" data-license=\"CC BY NC SA 4.0\" data-source=\"https://www.opentextbooks.org.hk/ditatopic/27492\" data-tags=\"January2025\" height=\"600\" src=\"https://image.prepladder.com/notes/1GY0hDfOkwmp0hqxpwga1736095734.png\" /></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Stage of Sleep</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Characteristics</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Stage N1 Sleep</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Light sleep, easy to wake up, characterised by <span class=\"customMeta\" data-dictid=\"ccb50023dc1692777200804b8475ca\">theta</span> waves. <strong>(Option C ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Stage N2 Sleep</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Deeper than stage N1, the presence of <span class=\"customMeta\" data-dictid=\"9e5f0b77751692777198ff32ae6295\">sleep spindles</span> and K-complexes, is still relatively easy to wake up. <strong>(Option A</strong><strong> and</strong> <strong>B ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Stage N3 Sleep</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Deepest sleep, <span class=\"customMeta\" data-dictid=\"f7d3133242169277718518c059ad55\">Delta</span> waves (low frequency and high amplitude), very difficult to wake up.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>REM Sleep</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Rapid eye movements, high brain activity, associated with dreaming, <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">Beta</span> wave pattern</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/1GY0hDfOkwmp0hqxpwga1736095734.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/mUTTtW1fyrbnZPIY5LSQ1745860074.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/22JukpjhV69psEynP1nc1745860130.mp3"
  },
  {
    "text": "<p>Which of the following statements about REM and NREM sleep is incorrect?</p>",
    "choices": [
      {
        "id": 1,
        "text": "During NREM sleep, there is an increase in parasympathetic outflow, leading to lower heart rate and blood pressure."
      },
      {
        "id": 2,
        "text": "Muscle tone is completely lost during REM sleep, and the body is effectively paralyzed."
      },
      {
        "id": 3,
        "text": "During deeper stages of NREM sleep, the subject is difficult to arouse by sensory stimuli."
      },
      {
        "id": 4,
        "text": "During REM sleep, the subject is easily aroused by sensory stimuli."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<h3><strong>Correct Answer: D) During <span class=\"customMeta\" data-dictid=\"7bdd34850816927771973c86f95b79\">REM</span> sleep, the subject is easily aroused by <span class=\"customMeta\" data-dictid=\"408bcde7f01692777198acadb8e1c6\">sensory</span> stimuli.</strong></h3>\n\n<h3><strong>Explanation:</strong><br />\nDuring <span class=\"customMeta\" data-dictid=\"7bdd34850816927771973c86f95b79\">REM</span> sleep, it is difficult to arouse the individual from sleep as the<strong> threshold for <span class=\"customMeta\" data-dictid=\"408bcde7f01692777198acadb8e1c6\">sensory</span> <span class=\"customMeta\" data-dictid=\"7d7e9fdf401692777199f2038941b6\">stimuli</span> is raised</strong>. However, the subject is <strong>more likely to wake up spontaneously</strong> from <span class=\"customMeta\" data-dictid=\"7bdd34850816927771973c86f95b79\">REM</span> sleep than at any other stage.</h3>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\u00a0</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>NREM Sleep</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>REM Sleep</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Autonomic Outflow</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Increased <span class=\"customMeta\" data-dictid=\"8f19a37b5916927771941ba9f5ef49\">parasympathetic</span> outflow, leading to lower heart rate and <span class=\"customMeta\" data-dictid=\"263ee5444e1692777183a7e8e704da\">blood pressure</span> <strong>(Option A ruled out)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Increased <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> outflow</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Muscle Tone and Reflexes</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Intact during <span class=\"customMeta\" data-dictid=\"e5f5be62a316927771937064da1866\">NREM</span> sleep</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Complete loss of muscle tone (muscle atonia) during <span class=\"customMeta\" data-dictid=\"7bdd34850816927771973c86f95b79\">REM</span> sleep<strong> </strong><strong>(Option B ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Arousability</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Difficult to arouse in deeper stages (Stages 3 and 4) <strong>(Option C ruled out)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>More difficult to arouse compared to <span class=\"customMeta\" data-dictid=\"e5f5be62a316927771937064da1866\">NREM</span> sleep by <span class=\"customMeta\" data-dictid=\"408bcde7f01692777198acadb8e1c6\">sensory</span> stimuli, but may awaken spontaneously.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Eye Movement </strong></p>\n\n\t\t\t<p><strong>(EOG)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Absence of rapid eye movement</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Presence of rapid eye movement</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Brain Electrical Activity</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Not associated with PGO (Ponto-Geniculo Occipital) spikes</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Associated with PGO spikes</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Dreaming Activity</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Dreams uncertain; memorized if dreams occur</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Vivid dreams; not memorized</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/StVWBF7kfdFfpU6lDKHA1745860238.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/d7DEJEo0ekh6mkRwhEyz1745860345.mp3"
  },
  {
    "text": "<p>A 65-year-old woman presents with severe insomnia, reporting that she has been unable to sleep for several days. Neurological examination reveals a lesion in the basal ganglia and adjacent anterior hypothalamus. Which of the following statements about the mechanisms of sleep is incorrect?</p>",
    "choices": [
      {
        "id": 1,
        "text": "The wake-promoting area is located in the posterior nucleus of the hypothalamus and releases histamine."
      },
      {
        "id": 2,
        "text": "The sleep-promoting area is located in the anterior nucleus of the hypothalamus and releases GABA."
      },
      {
        "id": 3,
        "text": "Decreased levels of adenosine at basal forebrain stimulate the sleep-promotion."
      },
      {
        "id": 4,
        "text": "The awake state has increased NE, serotonin, and reduced levels of acetylcholine, while the opposite is true for the state of sleep"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<h3><strong>Correct Answer: C) Decreased levels of <span class=\"customMeta\" data-dictid=\"d3f6a49b7416927771802124ccddf0\">adenosine</span> at <span class=\"customMeta\" data-dictid=\"923af580cf16927771829606bce2a7\">basal</span> <span class=\"customMeta\" data-dictid=\"a3b45f45fc1692777203eceaf9f4d3\">forebrain</span> stimulate the sleep-promotion.</strong></h3>\n\n<h3><strong>Explanation:</strong><br />\nThe <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> theory posits that sleep is regulated by the buildup of <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> byproducts during wakefulness, primarily adenosine. As <strong>adenosine accumulates, it activates sleep-promoting areas in the brain.</strong></h3>\n\n<h4><strong>Metabolic Theory</strong></h4>\n\n<p>There are 2 centres located in the hypothalamus, which are in constant mutual inhibition.</p>\n\n<ul>\n\t<li><strong>Wake-Promoting Area:</strong> Located in the <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> hypothalamus- <strong>Tuberomammillary <span class=\"customMeta\" data-dictid=\"ff628904401692777193c8a9f9159e\">nucleus</span> </strong>(TMN), releasing histamine. <strong>(Option A ruled out)</strong>\n\n\t<ul>\n\t\t<li>The wake-promoting area stimulates two important <span class=\"customMeta\" data-dictid=\"e6b47028191692777193eb698e43b6\">nuclei</span> of the <span class=\"customMeta\" data-dictid=\"0b6b1f44cb1692777197afef785626\">reticular</span> activating system, i.e., <strong>Raphe <span class=\"customMeta\" data-dictid=\"e6b47028191692777193eb698e43b6\">nuclei</span> (RN)</strong>, which produce <strong>serotonin</strong>, and <strong>Locus <span class=\"customMeta\" data-dictid=\"7ab09b1b141692777184616deb49e2\">coeruleus</span> (LC)</strong>, which produce <strong>non-epinephrine</strong>.</li>\n\t\t<li>These act at the level of the <span class=\"customMeta\" data-dictid=\"0c5f024f21169277720046ac004a34\">thalamus</span> from which all the <span class=\"customMeta\" data-dictid=\"89275101301692777186567d1912a0\">diffuse</span> projections will reach the <span class=\"customMeta\" data-dictid=\"cab8787ce916927771852a7e72f34d\">cortex</span> and the active <span class=\"customMeta\" data-dictid=\"cab8787ce916927771852a7e72f34d\">cortex</span> means the person will remain awake.</li>\n\t\t<li>This active <span class=\"customMeta\" data-dictid=\"cab8787ce916927771852a7e72f34d\">cortex</span> indefinitely produces metabolites with awakeness, <strong>primarily Adenosine</strong>.</li>\n\t\t<li><strong>An increase in adenosine</strong> acts at the level of the <span class=\"customMeta\" data-dictid=\"923af580cf16927771829606bce2a7\">basal</span> <span class=\"customMeta\" data-dictid=\"a3b45f45fc1692777203eceaf9f4d3\">forebrain</span> and <strong>stimulates </strong>the sleep-promoting area.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Sleep-Promoting Area:</strong> Located in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> hypothalamus- <strong>Ventrolateral <span class=\"customMeta\" data-dictid=\"0c1e7a7890169277719690e6275dad\">preoptic</span> <span class=\"customMeta\" data-dictid=\"ff628904401692777193c8a9f9159e\">nucleus</span> </strong>(VLPO), releasing GABA. <strong>(Option B ruled out)</strong></li>\n</ul>\n\n<p style=\"text-align:center\"><img alt=\"Sleep-Promoting Area\" data-author=\"NA\" data-hash=\"582\" data-license=\"NA\" data-source=\"NA\" data-tags=\"January2025\" height=\"507\" src=\"https://image.prepladder.com/notes/JY8DEi3yVGehaDUjGhuT1736095965.png\" width=\"794\" /></p>\n\n<p>\u00a0</p>\n\n<h4><strong>Neurotransmitter Theory</strong><br />\nThe <span class=\"customMeta\" data-dictid=\"e28fd027b416927771932bc23ba0a5\">neurotransmitter</span> theory explains sleep regulation through the balance of different neurotransmitters that promote <span class=\"customMeta\" data-dictid=\"882ef330fb16927772022093f7518f\">wakefulness</span> or sleep.</h4>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Neurotransmitter</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Awake State</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>REM State</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>NREM Sleep</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Norepinephrine & Serotonin</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>High</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Low</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Low</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Acetylcholine</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Low <strong>(Option D ruled out)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>High</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Low</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>GABA & Histamine</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Low GABA, High Histamine</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>High GABA, Low Histamine</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>High GABA, Low Histamine</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/JY8DEi3yVGehaDUjGhuT1736095965.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/RYZiKBopNJ2KhA1TDUXG1745921018.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/1KAcjBDmRpRcDfOi8YhX1745921231.mp3"
  },
  {
    "text": "<p>Match each sleep disorder with the correct stage of sleep in which it most commonly occurs</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Sleep Disorder</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Stage of Sleep</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>a) Somnambulism</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1) Stage 2 NREM</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>b) Nocturnal enuresis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2) REM Sleep</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>c) Narcolepsy</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>3) End of REM Sleep</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>d) Sleep Paralysis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>4) Stage 3 and 4 (NREM)</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "choices": [
      {
        "id": 1,
        "text": "a-4, b-2, c-1, d-3"
      },
      {
        "id": 2,
        "text": "a-4, b-1, c-2, d-3"
      },
      {
        "id": 3,
        "text": "a-3, b-2, c-1, d-4"
      },
      {
        "id": 4,
        "text": "a-3, b-1, c-2, d-4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer B) a-4, b-1, c-2, d-3</strong></p>\n\n<p><br />\n<strong>Explanation:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:606px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Stage of Sleep</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Sleep disorder </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Stage 3 and 4 NREM</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Somnambulism (Sleepwalking):</strong> Occurs during the deeper stages of <span class=\"customMeta\" data-dictid=\"e5f5be62a316927771937064da1866\">NREM</span> sleep, specifically stages 3 and 4.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Nocturnal enuresis: </strong>Occurs in stages 3/4. Common in childhood, due to the failure of <span class=\"customMeta\" data-dictid=\"b00388be25169277719369b3ab059f\">neural</span> regulation of micturition.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Stage 1 & 2 NREM</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Sleep Talking (Somniloquy):</strong> This can occur in any stage of sleep but is most common in stages 1 and 2 of <span class=\"customMeta\" data-dictid=\"e5f5be62a316927771937064da1866\">NREM</span> sleep.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Bruxism (Teeth Grinding): </strong>Primarily occurs during stage 2 of <span class=\"customMeta\" data-dictid=\"e5f5be62a316927771937064da1866\">NREM</span> sleep.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>The transition from stage 3 to 4 NREM</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Night Terrors:</strong> Typically occur during the transition from stage 3 to stage 4 of <span class=\"customMeta\" data-dictid=\"e5f5be62a316927771937064da1866\">NREM</span> sleep. Unlike nightmares, individuals usually do not remember night terrors.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>REM Sleep</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Narcolepsy: </strong>Involves sudden onset of <span class=\"customMeta\" data-dictid=\"7bdd34850816927771973c86f95b79\">REM</span> sleep. Individuals with <span class=\"customMeta\" data-dictid=\"dbfc20ef7d16927771932766891ec8\">narcolepsy</span> often experience excessive daytime sleepiness, sudden muscle weakness (cataplexy), sleep paralysis, and hallucinations at the onset or end of sleep. The disorder is <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to a <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> in the <span class=\"customMeta\" data-dictid=\"e28fd027b416927771932bc23ba0a5\">neurotransmitter</span> <strong>orexin</strong>.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Nightmares:</strong> Occur during <span class=\"customMeta\" data-dictid=\"7bdd34850816927771973c86f95b79\">REM</span> sleep and involve vivid, disturbing dreams that can cause fear and anxiety. Unlike night terrors, <strong>nightmares are often remembered</strong> in detail upon waking. They can be <span class=\"customMeta\" data-dictid=\"3978e9614f1692777200abbe4cfa34\">triggered</span> by stress, anxiety, or trauma.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/vXCqjEWStCGpKX3ya48T1745921513.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/5K7OG265DJcMxNBwSzUV1745921594.mp3"
  },
  {
    "text": "<p>A 55-year-old patient presents with complaints of memory issues. He can recall general knowledge about the world, such as facts about historical events, but has difficulty remembering personal experiences, such as what he had for dinner last night or his activities from last weekend. Based on these symptoms, which of the following best describes the types of explicit memory affected in this patient?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Impaired semantic memory with intact episodic memory"
      },
      {
        "id": 2,
        "text": "Intact semantic memory with impaired episodic memory"
      },
      {
        "id": 3,
        "text": "Impaired procedural memory with intact working memory"
      },
      {
        "id": 4,
        "text": "Intact procedural memory with impaired working memory"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Intact <span class=\"customMeta\" data-dictid=\"8c63481bec169277719894cba92261\">semantic</span> memory with impaired episodic memory</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The patient is able to recall general knowledge and facts about the world (intact <span class=\"customMeta\" data-dictid=\"8c63481bec169277719894cba92261\">semantic</span> memory) but struggles to remember specific personal experiences such as what he had for dinner or activities from last weekend (impaired episodic memory). This distinction is consistent with the described symptoms and aligns with the known functions of <span class=\"customMeta\" data-dictid=\"8c63481bec169277719894cba92261\">semantic</span> and episodic memory.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Explicit memory</strong>, also known as declarative memory, is a type of <span class=\"customMeta\" data-dictid=\"665a939aa01692777191ec9d3ba7db\">long-term memory</span> that involves conscious recollection of information.</p>\n\n<p>It is divided into two main categories:</p>\n\n<ol>\n\t<li><strong>Semantic Memory</strong>:\n\n\t<ul>\n\t\t<li>This refers to the storage of general knowledge about the world.</li>\n\t\t<li>It includes facts, concepts, and ideas that are not tied to specific personal experiences.</li>\n\t\t<li>For instance, knowing that the capital of France is Paris, understanding the rules of mathematics, or recognizing historical dates and events are all parts of <span class=\"customMeta\" data-dictid=\"8c63481bec169277719894cba92261\">semantic</span> memory.</li>\n\t\t<li>The <strong>temporal lobes</strong>, particularly the <strong>anterior and <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> <span class=\"customMeta\" data-dictid=\"637ea4d17516927772003be2b2aae4\">temporal</span> cortex</strong>, are critically involved in the processing and storage of <span class=\"customMeta\" data-dictid=\"8c63481bec169277719894cba92261\">semantic</span> memory.</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p>\u00a0</p>\n\n<ol>\n\t<li><strong>Episodic Memory</strong>:\n\n\t<ul>\n\t\t<li>This involves the recollection of personal experiences and specific events that have occurred at particular times and places.</li>\n\t\t<li>It includes memories of one's own life, such as what you had for dinner last night, a vacation you took last summer, or a conversation you had with a friend.</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>The <strong>hippocampus</strong> and adjacent <strong>medial <span class=\"customMeta\" data-dictid=\"637ea4d17516927772003be2b2aae4\">temporal</span> <span class=\"customMeta\" data-dictid=\"d7dd6ae43c1692777191cf75c0bd58\">lobe</span> structures</strong> are essential for the formation and <span class=\"customMeta\" data-dictid=\"cbe99c8c751692777197bc9fcb503b\">retrieval</span> of episodic memories.</li>\n\t<li>The patient\u2019s difficulty in remembering what he had for dinner or his activities from the previous weekend suggests an <span class=\"customMeta\" data-dictid=\"4885d5d0021692777189aac6dc80f7\">impairment</span> in episodic memory. <strong>(Option A ruled out)</strong></li>\n</ul>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>Procedural memory</strong> is a type of implicit memory related to the performance of tasks, such as riding a bike or playing an instrument.</li>\n\t<li><strong>Working memory </strong>is a <span class=\"customMeta\" data-dictid=\"904d09486e1692777198e653e46672\">short-term memory</span> system involved in the temporary storage and <span class=\"customMeta\" data-dictid=\"fb84ef68cf1692777191f6e12eeebe\">manipulation</span> of information.</li>\n</ul>\n\n<p>The patient's symptoms do not relate to procedural memory or working memory issues but rather to long-term explicit memory. <strong>(Option C and Option D ruled out)</strong></p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/NRbCr3QT5G8kw4Y5ldHV1745921907.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/14hXmhgQ64JT77e5UmDK1745922061.mp3"
  },
  {
    "text": "<p>A 62-year-old woman who had a stroke several months ago reports that she is having difficulty with tasks she used to perform automatically. She struggles to remember how to ride her bicycle, a skill she previously performed with ease. She also mentions difficulty in learning new motor tasks. Based on these symptoms, which type of implicit memory is most likely affected in this patient?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Procedural memory"
      },
      {
        "id": 2,
        "text": "Priming"
      },
      {
        "id": 3,
        "text": "Associative learning"
      },
      {
        "id": 4,
        "text": "Semantic memory"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Procedural memory</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Implicit memory</strong>, also known as non-declarative memory, involves <span class=\"customMeta\" data-dictid=\"6d87fbc02c16927772014ec4cead53\">unconscious</span> memory processes that influence thoughts and behaviors.</p>\n\n<p>\u00a0</p>\n\n<p>Implicit memory is divided into following subcategories:</p>\n\n<ol>\n\t<li><strong>Procedural Memory</strong>:\n\n\t<ul>\n\t\t<li>This type of implicit memory involves the learning and <span class=\"customMeta\" data-dictid=\"b668aed705169277719744b6db8f8e\">retention</span> of motor skills and actions.</li>\n\t\t<li>It enables individuals to perform tasks without conscious thought, such as riding a bicycle, <span class=\"customMeta\" data-dictid=\"f31a3e05441692777201a8ce3ad560\">typing</span> on a keyboard, or playing a musical instrument. <strong> (Option A)</strong></li>\n\t</ul>\n\t</li>\n\t<li><strong>Priming</strong>: (<strong>option B</strong>)\n\t<ul>\n\t\t<li>Priming refers to the <span class=\"customMeta\" data-dictid=\"6d87fbc02c16927772014ec4cead53\">unconscious</span> influence that exposure to a stimulus has on a subsequent response to a different stimulus.</li>\n\t\t<li>It helps with faster recognition or processing of similar <span class=\"customMeta\" data-dictid=\"7d7e9fdf401692777199f2038941b6\">stimuli</span> without conscious awareness.</li>\n\t\t<li>For example, seeing the word \"yellow\" might make it easier to recognize the word \"banana\" shortly afterward. <strong>(Option B ruled out)</strong></li>\n\t</ul>\n\t</li>\n\t<li><strong>Associative Learning</strong>: (<strong>option C)</strong>\u00a0 \u00a0 This type of learning involves forming connections between two <span class=\"customMeta\" data-dictid=\"7d7e9fdf401692777199f2038941b6\">stimuli</span> or between a stimulus and a response. It includes: <strong>(Option C ruled out)</strong>\n\t<ul>\n\t\t<li><strong>Classical Conditioning</strong>:\n\t\t<ol>\n\t\t\t<li>A process where a neutral stimulus becomes associated with a significant stimulus, resulting in a learned response.</li>\n\t\t\t<li>For example, Pavlov\u2019s dogs learned to <span class=\"customMeta\" data-dictid=\"c09b6c06cf1692777198802a7a9667\">salivate</span> at the sound of a bell because it was associated with food.</li>\n\t\t</ol>\n\t\t</li>\n\t\t<li><strong>Operant Conditioning</strong>:\n\t\t<ol>\n\t\t\t<li>A type of learning where behavior is strengthened or weakened by rewards or punishments.</li>\n\t\t\t<li>For example, a rat learning to press a lever to receive food involves <span class=\"customMeta\" data-dictid=\"4eee36f46b16927771945d27438000\">operant</span> conditioning.</li>\n\t\t</ol>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li><strong>Non-Associative Learning</strong>: This involves changes in the strength of a response to a single stimulus due to repeated exposure. It includes:\n\t<ul>\n\t\t<li><strong>Habituation</strong>:\n\t\t<ol>\n\t\t\t<li>A decrease in response to a repeated, <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> stimulus.</li>\n\t\t\t<li>For instance, becoming accustomed to a constant background noise and eventually ignoring it.</li>\n\t\t</ol>\n\t\t</li>\n\t\t<li><strong>Sensitisation</strong>:\n\t\t<ol>\n\t\t\t<li>An increased response to a stimulus following a strong or <span class=\"customMeta\" data-dictid=\"31e5bff13d16927771936b61ba35b7\">noxious</span> stimulus.</li>\n\t\t\t<li>For example, becoming more sensitive to a light touch after being exposed to a painful stimulus.</li>\n\t\t</ol>\n\t\t</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p>\u00a0</p>\n\n<p><strong>Semantic memory (Option D)</strong> is a type of explicit memory that involves the storage and recall of factual information and general knowledge, such as knowing the capital of a country or understanding historical events. The patient's difficulties with motor tasks and learning new skills are not related to <span class=\"customMeta\" data-dictid=\"8c63481bec169277719894cba92261\">semantic</span> memory.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/ylpET4A6ZtuUdySRncI11745922186.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/0q6s3p0foepKIafCGkc51745922330.mp3"
  },
  {
    "text": "<p>Which type of learning involves the process by which humans and animals learn to behave in such a way as to obtain rewards and avoid punishments?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Classical conditioning"
      },
      {
        "id": 2,
        "text": "Operant conditioning"
      },
      {
        "id": 3,
        "text": "Observational learning"
      },
      {
        "id": 4,
        "text": "Habituation"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"4eee36f46b16927771945d27438000\">Operant</span> conditioning</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Operant <span class=\"customMeta\" data-dictid=\"e7e8b232581692777184eaae773f67\">conditioning</span> involves<strong> learning through the consequences of behaviors</strong>. In this type of learning, behaviors are either reinforced (strengthened) or punished (weakened) based on their consequences. B.F. Skinner's experiments with rats in Skinner boxes demonstrated this concept.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Skinner\u2019s experiment:</strong></p>\n\n<ul>\n\t<li>In the experiment, a rat is placed in a chamber with an electrical <span class=\"customMeta\" data-dictid=\"440df3f37a16927771883b385ce82d\">grid</span> on the floor and multiple switches on the wall.</li>\n\t<li>The rat learns that pressing one switch results in an electric shock, while pressing another switch or lever results in food dropping into the box.</li>\n\t<li>Over time, the rat associates pressing the food switch with receiving food, reinforcing this behavior.</li>\n\t<li>Meanwhile, the association with the <span class=\"customMeta\" data-dictid=\"9dfcfd203016927771875d7fe03efb\">electric shock</span> stimulus diminishes in the rat's memory.</li>\n</ul>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"472\" src=\"https://image.prepladder.com/content/rr0ostw2iVlTHJYPI7991727330413.png\" width=\"527\" /></p>\n\n<p>Thus, the rat associates with the stimulus to change the behaviour.</p>\n\n<p><br />\n<strong>Classical <span class=\"customMeta\" data-dictid=\"e7e8b232581692777184eaae773f67\">conditioning</span> (Option A)</strong> is associative learning, where an organism learns to associate two stimuli.</p>\n\n<p style=\"text-align:center\"><img alt=\"Classical conditioning\" data-author=\"NA\" data-hash=\"583\" data-license=\"NA\" data-source=\"NA\" data-tags=\"January2025\" height=\"445\" src=\"https://image.prepladder.com/notes/XDYG193HOjNFQBkp0HZO1736096324.png\" width=\"818\" /></p>\n\n<p><strong>Observational learning (Option C):</strong> Observational learning, described by Albert Bandura, involves learning by observing others and their consequences. While <span class=\"customMeta\" data-dictid=\"1693550d7b1692777194605512542f\">observational learning</span> can lead to behaviour modification, it focuses more on social learning and modelling rather than direct <span class=\"customMeta\" data-dictid=\"126393fcbd16927771979df98a6dfe\">reinforcement</span> or punishment.</p>\n\n<p><br />\n<strong>Habituation (Option D)</strong> is a <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> of non-associative learning where an organism decreases its response to a repeated stimulus that carries no positive or negative consequences. It does not involve learning through consequences or behavioural modification.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/rr0ostw2iVlTHJYPI7991727330413.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/nWSwAYeEEphqqhjj4tS41745861011.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/GasTDBscdJjMfIw1pfKL1745861095.mp3"
  },
  {
    "text": "<p>Which of the following parts of the brain is responsible for working memory?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Prefrontal cortex"
      },
      {
        "id": 2,
        "text": "Neocortex"
      },
      {
        "id": 3,
        "text": "Ventral hippocampus"
      },
      {
        "id": 4,
        "text": "Amygdala"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) <span class=\"customMeta\" data-dictid=\"25bc983c6716927771967f68667610\">Prefrontal</span> cortex</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Working memory</strong> is a type of short-term memory.</p>\n\n<ul>\n\t<li>It typically lasts for about 18-20 seconds before information may fade without rehearsal.</li>\n\t<li>The maximum capacity of working memory is around 7\u00b12 'chunks' of information, such as items like fruits or numbers.</li>\n\t<li>The<strong> <span class=\"customMeta\" data-dictid=\"25bc983c6716927771967f68667610\">prefrontal</span> cortex</strong> is the brain region primarily responsible for working memory.<strong> </strong><strong>(Option A)</strong></li>\n</ul>\n\n<p><strong>Short-term memory: </strong></p>\n\n<ul>\n\t<li>Short-term memory retains information for durations ranging from seconds to several hours.</li>\n\t<li>The <strong>ventral hippocampus</strong>, specifically the CA1 region, is responsible for short-term memory. <strong>(Option C ruled out)</strong></li>\n\t<li>Through rehearsal or repetition, short-term memories can be consolidated into long-term memories.</li>\n</ul>\n\n<p><strong>Long-term memory: </strong></p>\n\n<ul>\n\t<li>Long-term memory retains information for years or even a lifetime.</li>\n\t<li>The <strong>neocortex </strong>serves as the <span class=\"customMeta\" data-dictid=\"1feb2a0a3016927771847db9449f75\">centre</span> for <span class=\"customMeta\" data-dictid=\"665a939aa01692777191ec9d3ba7db\">long-term memory</span> storage. <strong>(Option B ruled out)</strong></li>\n</ul>\n\n<p><br />\n<strong>Amygdala (Option D): </strong>The <span class=\"customMeta\" data-dictid=\"5a3b591e581692777181a270cc1ca1\">amygdala</span> is primarily involved in emotional processing and the formation of emotional memories. Although it interacts with memory systems, it does not handle working memory, which is more closely <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to the <span class=\"customMeta\" data-dictid=\"25bc983c6716927771967f68667610\">prefrontal</span> cortex.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/oyxhjnAC4x188HcHFkBa1745860463.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/kHXgBXeiGqDdM2NRXpxd1745860516.mp3"
  },
  {
    "text": "<p>Which of the following statements about synaptic plasticity and memory formation is false?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Long-term potentiation (LTP) primarily occurs at glutamatergic synapses in the hippocampus"
      },
      {
        "id": 2,
        "text": "Long-Term Depression (LTD) involves a significant influx of calcium into the postsynaptic neuron."
      },
      {
        "id": 3,
        "text": "LTP leads to the phosphorylation of AMPA receptors, enhancing their activity and strengthening the synapse."
      },
      {
        "id": 4,
        "text": "LTD is mediated by metabotropic glutamate receptors and involves dephosphorylation of AMPA receptors, leading to synaptic weakening."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Long-Term Depression (LTD) involves a significant influx of <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> into the <span class=\"customMeta\" data-dictid=\"978bd0e89f1692777196add72e1254\">postsynaptic</span> neuron.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>A significant influx of <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> into the <span class=\"customMeta\" data-dictid=\"978bd0e89f1692777196add72e1254\">postsynaptic</span> <span class=\"customMeta\" data-dictid=\"17d10546871692777193f302d45980\">neuron</span> is seen in the process of <strong>Long-term potentiation</strong> strengthening the synapse.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Mechanism of memory formation:</strong></p>\n\n<p>Memory formation relies on <strong>synaptic plasticity</strong>, which refers to the strengthening or weakening of synapses based on neuronal activity.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Long-term potentiation:</strong></p>\n\n<ul>\n\t<li>Long-term <span class=\"customMeta\" data-dictid=\"b37151676316927771965b0c50d9a0\">potentiation</span> (LTP), a mechanism for memory formation, involves the strengthening of synapses, particularly in the <span class=\"customMeta\" data-dictid=\"7ce110705616927771896c58ac81b5\">hippocampus</span> (CA1) and cerebellum</li>\n\t<li>It primarily occurs at <span class=\"customMeta\" data-dictid=\"62ff9f17e5169277718804ead36311\">glutamatergic</span> synapses in the hippocampus. <strong>(Option A ruled out)</strong></li>\n\t<li>Two key <span class=\"customMeta\" data-dictid=\"ada5fcf7e416927771886ff24152ff\">glutamate</span> receptors, AMPA and NMDA, are involved in LTP.</li>\n\t<li>Glutamate binding to the AMPA <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> causes an influx of sodium ions (Na+) into the <span class=\"customMeta\" data-dictid=\"978bd0e89f1692777196add72e1254\">postsynaptic</span> neuron, leading to depolarisation.</li>\n\t<li>NMDA <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">Receptor</span> and <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">Calcium</span> Influx: The <span class=\"customMeta\" data-dictid=\"dbaf58dd301692777186f2a8d7b3a0\">depolarization</span> caused by AMPA <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> <span class=\"customMeta\" data-dictid=\"ba6b77f29316927771807350f86ce2\">activation</span> is crucial as it removes a <span class=\"customMeta\" data-dictid=\"4d7ed0baae169277719199f6e9ab7b\">magnesium</span> <span class=\"customMeta\" data-dictid=\"4b2f2a6d0a16927771902f60fa9ff7\">ion</span> (Mg2+) block from the <span class=\"customMeta\" data-dictid=\"000b76a37716927771932ba41c5089\">NMDA</span> <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> channel. This removal is key because Mg2+ normally prevents <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> ions (Ca2+) from entering the <span class=\"customMeta\" data-dictid=\"978bd0e89f1692777196add72e1254\">postsynaptic</span> neuron.</li>\n\t<li>Calcium's Role: This influx of Ca2+ initiates a <span class=\"customMeta\" data-dictid=\"6826aa04ef16927771833336e53730\">cascade</span> of events. Firstly, Ca2+ binds with calmodulin, forming a complex that activates <span class=\"customMeta\" data-dictid=\"9863da498e1692777190e1c6515b48\">kinase</span> enzymes.</li>\n\t<li><strong>Kinase Activity and AMPA <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">Receptor</span> Phosphorylation:</strong> Kinases then phosphorylates various proteins, notably the AMPA <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> itself. <span class=\"customMeta\" data-dictid=\"619ba5e99c16927771958308fb8687\">Phosphorylation</span> keeps the AMPA <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> open even after the initial <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> ceases, leading to increased sensitivity and a strengthened synapse. <strong>(Option C ruled out)</strong></li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Long-term depression:</strong></p>\n\n<ul>\n\t<li>Long-Term Depression (LTD) is a process that weakens synapses</li>\n\t<li>LTD involves a smaller influx of <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> ions (Ca2+) compared to LTP.</li>\n\t<li>Metabotropic <span class=\"customMeta\" data-dictid=\"ada5fcf7e416927771886ff24152ff\">glutamate</span> receptors are involved in LTD, unlike the <span class=\"customMeta\" data-dictid=\"000b76a37716927771932ba41c5089\">NMDA</span> receptors in LTP.<strong> </strong>These metabotropic receptors, when activated by glutamate, lead to a low influx of Ca2+ into the <span class=\"customMeta\" data-dictid=\"978bd0e89f1692777196add72e1254\">postsynaptic</span> neuron. This smaller influx is crucial for initiating LTD.</li>\n\t<li>Phosphatase enzymes are activated in LTD due to the low Ca2+ concentration.<strong> </strong>This contrasts with LTP, where a high Ca2+ concentration activates <span class=\"customMeta\" data-dictid=\"9863da498e1692777190e1c6515b48\">kinase</span> enzymes.</li>\n\t<li>Phosphatase activity results in the <span class=\"customMeta\" data-dictid=\"faadc77f171692777186b7a2721322\">dephosphorylation</span> of AMPA receptors, leading to their closure.<strong> </strong><strong>(Option D ruled out)</strong></li>\n</ul>\n\n<p>The <span class=\"customMeta\" data-dictid=\"2b4569285f1692777184282b1ca3f1\">closure</span> of AMPA receptors inhibits the synapse, making it less responsive to stimuli.<strong> </strong>LTD, therefore, serves to weaken specific synapses, potentially filtering out irrelevant information while strengthening relevant ones through LTP.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/eis9Xk8lgMVPWydlN9FY1745860754.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/aJ9s9tlJdlxMhMht4A9h1745860892.mp3"
  }
];
        let quizName = '06 Eeg & Sleep  Learning And Memory';
        const quizFilename = '06-eeg-sleep-learning-and-memory-fd1a5b63.html';
        let hierarchy = ["PrepLadder", "qBank", "Physiology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>