<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>22 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Orthopedics
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">15</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>FRAX is</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Fracture Risk assessment tool"
      },
      {
        "id": 2,
        "text": "Fracture Rehabilitation assessment tool"
      },
      {
        "id": 3,
        "text": "Fracture Reducibility assessment tool"
      },
      {
        "id": 4,
        "text": "Fracture Rehabilitation assessment tool"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option: A) <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">Fracture</span> Risk assessment tool</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>FRAX (Fracture Risk assessment tool):</strong></p>\n\n<ul>\n\t<li><strong>Purpose:</strong>\n\n\t<ul>\n\t\t<li>Predicts the 10-year risk of major osteoporotic fractures and hip fractures.</li>\n\t\t<li>Helps guide treatment decisions in <span class=\"customMeta\" data-dictid=\"4c8be6d6b716927771948551f98378\">osteoporosis</span> management.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Parameters Used:</strong>\n\t<ul>\n\t\t<li><strong>Age:</strong> Older age increases <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk.</li>\n\t\t<li><strong>Sex:</strong> Women generally have a higher risk due to lower bone density.</li>\n\t\t<li><strong>Height and weight</strong></li>\n\t\t<li><strong>Previous fracture:</strong> A history of previous fractures, especially after the age of 50, increases the risk.</li>\n\t\t<li><strong>Parental hip fracture:</strong> A family history of hip fractures in a parent increases the risk.</li>\n\t\t<li><strong>Smoking history:</strong> Smoking is a risk factor for lower <span class=\"customMeta\" data-dictid=\"0b2564673b16927771836152f83121\">bone density</span> and higher <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk.</li>\n\t\t<li><strong>Glucocorticoid use</strong>: Long-term use of corticosteroids weakens bones, increasing <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk.</li>\n\t\t<li><strong>Rheumatoid arthritis:</strong> This <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> condition is associated with increased <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk due to both <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> and the use of medications like steroids.</li>\n\t\t<li><strong>Alcohol consumption:</strong> Excessive alcohol <span class=\"customMeta\" data-dictid=\"6cdcd39cf2169277719068e247e38d\">intake</span> (more than 3 drinks per day) increases <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk.</li>\n\t\t<li><strong>Bone mineral density (BMD): </strong>If available, a BMD measurement at the <span class=\"customMeta\" data-dictid=\"ab8a987431169277720229e09c01d7\">femoral</span> neck or spine can be included to <span class=\"customMeta\" data-dictid=\"428b0fa6f316927771970a5763c505\">refine</span> risk. A lower BMD increases the risk of fractures.</li>\n\t</ul>\n\t</li>\n\t<li>BMD in calculation:\n\t<ul>\n\t\t<li><strong>Without BMD:</strong> FRAX can calculate the <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk using<strong> only the clinical risk factors.</strong></li>\n\t\t<li><strong>With BMD:</strong> FRAX provides a<strong> more accurate risk estimate </strong>by combining clinical factors with the actual BMD value (T-score).</li>\n\t</ul>\n\t</li>\n\t<li>Output:\n\t<ul>\n\t\t<li>The FRAX tool generates a percentage <span class=\"customMeta\" data-dictid=\"f52ac1410416927771969ba21fcb63\">probability</span> of having a major osteoporotic <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> or a hip <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> in the next 10 years, also provides both absolute risk and <span class=\"customMeta\" data-dictid=\"8bbe99007e1692777197cdb196b181\">relative risk</span> compared to the general population.</li>\n\t</ul>\n\t</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 7-year-old child was brought with bow legs and on x-ray of wrist following were the findings. What is the diagnosis?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"707\" src=\"https://image.prepladder.com/content/ksKq0CUKsCVSvOnb1UvF1741087161.png\" width=\"645\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Rickets"
      },
      {
        "id": 2,
        "text": "Scurvy"
      },
      {
        "id": 3,
        "text": "Hypophosphatemia"
      },
      {
        "id": 4,
        "text": "None"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct answer (A)Rickets</strong></p>\n\n<ul>\n\t<li>Rickets is caused by vitamin D deficiency, leading to <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> bone mineralization.</li>\n\t<li>The X-ray shows fraying, cupping, and splaying of the metaphysis, along with widened growth plates, which are hallmark signs.</li>\n\t<li>Clinically, the child presents with bow legs (genu varum) due to weakened bone structure.</li>\n\t<li>Management includes vitamin D and <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> supplementation with dietary improvements.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Radiological Changes:</strong></p>\n\n<ul>\n\t<li>Decreased Calcification: Leads to the thickening of the growth plate.</li>\n\t<li><strong>Fraying:</strong> Initial change is the loss of the normal zone of <span class=\"customMeta\" data-dictid=\"e141602f62169277719672727e4f53\">provisional</span> <span class=\"customMeta\" data-dictid=\"a1ee14c673169277718351bfe6afd4\">calcification</span> adjacent to the metaphysis, which appears as a blurring or frayed appearance of the metaphyseal margin.</li>\n\t<li><strong>Cupping: </strong>Edge of the <span class=\"customMeta\" data-dictid=\"8ccb80bd4d169277719296d80e2193\">metaphysis</span> changes from a <span class=\"customMeta\" data-dictid=\"00ab88c6091692777185ea2685fa40\">convex</span> or flat surface to a more <span class=\"customMeta\" data-dictid=\"9b5c0ed1601692777184e597f453c9\">concave</span> surface, particularly noticeable at the <span class=\"customMeta\" data-dictid=\"5ff25303a01692777186731f6a4f5c\">distal</span> ends of the radius, ulna, and fibula.</li>\n\t<li><strong>Splaying:</strong> Cartilage <span class=\"customMeta\" data-dictid=\"3baac9012a1692777189cb4dc70c04\">hypertrophy</span> leads to the widening of the <span class=\"customMeta\" data-dictid=\"3480d51034169277718862050fed12\">growth plate</span> resulting in the widening (splaying) of the metaphyseal ends.</li>\n\t<li>Generalized reduction in bone density: Osteopenia</li>\n\t<li>Widening of the Metaphysis</li>\n</ul>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"373\" src=\"https://image.prepladder.com/content/MaeIdjipQgcgxAZyLGfV1741060320.png\" width=\"376\" /></p>\n\n<p>\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"287\" src=\"https://image.prepladder.com/content/s0fCIVY3wfk6V83OBIM21741060343.png\" width=\"378\" /></p>\n\n<p>\u00a0</p>\n\n<p><strong>Scurvy (Option B): </strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>X-ray findings include white line of Frankel (dense metaphyseal line), Wimberger's ring (peripheral <span class=\"customMeta\" data-dictid=\"dc486020a916927771874098596bbc\">epiphyseal</span> calcification), and Pelkan spurs (metaphyseal beaks).</li>\n\t<li>Clinically presents with <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> gums, <span class=\"customMeta\" data-dictid=\"7676505f211692777195ec7f257bb9\">perifollicular</span> hemorrhages, and poor wound healing.</li>\n</ul>\n\n<p><strong>Option C: Hypophosphatemia (Vitamin D\u2013resistant Rickets)</strong></p>\n\n<ul>\n\t<li>Can <span class=\"customMeta\" data-dictid=\"efaf9e0192169277719278711f7f74\">mimic</span> <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">rickets</span> radiologically but is associated with low <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> and normal/low calcium.</li>\n\t<li>Typically presents with persistent <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">rickets</span> despite vitamin D therapy.</li>\n\t<li>Not a more common cause than Vitamin D <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">rickets</span> in india</li>\n</ul>\n\n<p><strong>Option D: None</strong></p>\n\n<ul>\n\t<li>Incorrect, as the X-ray and clinical findings clearly indicate rickets.</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/ksKq0CUKsCVSvOnb1UvF1741087161.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/MaeIdjipQgcgxAZyLGfV1741060320.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A child presents with growth failure. Biochemical analysis shows normal ca2+, normal PTH, reduced phosphate, and increased ALP. What is the diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"398\" src=\"https://image.prepladder.com/content/3gmzZKRy4mF5B4X5Nhho1724756905.png\" width=\"892\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Nutritional rickets"
      },
      {
        "id": 2,
        "text": "Hypophosphatemic rickets"
      },
      {
        "id": 3,
        "text": "Type 1 VDDR"
      },
      {
        "id": 4,
        "text": "Type 2 VDDR"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<h3>Correct Option B - Hypophosphatemic Rickets:</h3>\n\n<ul>\n\t<li>The biochemical findings of <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> and increased <span class=\"customMeta\" data-dictid=\"4228218c971692777181ed18105c0d\">ALP</span> with normal <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and normal <span class=\"customMeta\" data-dictid=\"5eff25235516927771968c590529d7\">PTH</span> are characteristic of hypophosphatemic rickets. This condition results from a <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> in <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> reabsorption, leading to low <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> levels despite normal <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and <span class=\"customMeta\" data-dictid=\"3bcd005ca116927771941ae5bca4a8\">parathyroid</span> hormone levels</li>\n</ul>\n\n<p><strong>Incorrect Options</strong></p>\n\n<p><strong>Option A - Nutritional Rickets:</strong></p>\n\n<ul>\n\t<li><strong>Cause</strong>: Typically due to a <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> in vitamin D, calcium, or phosphate.</li>\n\t<li><strong>Biochemical Profile</strong>: Often presents with low calcium, high phosphate, and elevated ALP.</li>\n</ul>\n\n<p><strong>Option C - <span class=\"customMeta\" data-dictid=\"ebcb7136251692777201ef4b5c5718\">Type 1</span> <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">Vitamin D</span> Dependent <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">Rickets</span> (VDDR Type 1):</strong></p>\n\n<ul>\n\t<li><strong>Cause</strong>: Due to a <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> in 1-alpha-hydroxylase enzyme, which converts <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">vitamin D</span> to its active form.</li>\n\t<li><strong>Biochemical Profile</strong>: Typically presents with low calcium, low phosphate, and elevated PTH, along with increased ALP.</li>\n</ul>\n\n<p><strong>Option D -Type 2 <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">Vitamin D</span> Dependent <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">Rickets</span> (VDDR Type 2):</strong></p>\n\n<ul>\n\t<li><strong>Cause</strong>: Due to a <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> that impairs the action of active <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">vitamin D</span> on bone.</li>\n\t<li><strong>Biochemical Profile</strong>: May show normal or high calcium, low phosphate, elevated PTH, and high ALP.</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/content/3gmzZKRy4mF5B4X5Nhho1724756905.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 50-year-old female complains of bone pain for several months. His X-ray skull is given below. What is the most likely diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"376\" src=\"https://image.prepladder.com/content/UOibfx5n2jierhCHm6Ge1747288440.png\" width=\"429\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Osteosarcoma"
      },
      {
        "id": 2,
        "text": "Osteochondroma"
      },
      {
        "id": 3,
        "text": "Paget\u2019s disease"
      },
      {
        "id": 4,
        "text": "Ewing\u2019s sarcoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option: C) Paget\u2019s disease</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Paget\u2019s disease is characterized by the progressive replacement of normal bone with disorganized, vascular, <span class=\"customMeta\" data-dictid=\"b2a22f1dff169277719977c0a8ee4a\">spongy</span> bone, resulting from excessive <span class=\"customMeta\" data-dictid=\"fc8c28347a16927771945680bd00be\">osteoclastic</span> activity followed by increased osteoblastic activity. It presents with a distinctive \"cotton wool\" appearance on an X-ray of the skull.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Clinical Features of Paget\u2019s disease:</strong></p>\n\n<p><strong>Asymptomatic in most cases:</strong> Often discovered incidentally via X-rays or elevated <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"b95c7f7b821692777181df660ee7ff\">alkaline</span> <span class=\"customMeta\" data-dictid=\"65f1c4f3d4169277719505249503e0\">phosphatase</span> (ALP).</p>\n\n<p><strong>Symptoms:</strong></p>\n\n<ul>\n\t<li>Persistent, <span class=\"customMeta\" data-dictid=\"68d37494591692777186d7c7ce4531\">dull</span> aching pain, which worsens at night or in warmth.</li>\n\t<li><strong>Deformities: </strong>\n\t<ul>\n\t\t<li>Lower limb deformities: <span class=\"customMeta\" data-dictid=\"ca6af868811692777200ce067e9db9\">Tibia</span> bows anteriorly, <span class=\"customMeta\" data-dictid=\"512283ec9816927772024c89478b7d\">femur</span> anterolaterally, resulting in a thickened, bent limb.</li>\n\t\t<li>Skull involvement:\n\t\t<ul>\n\t\t\t<li>Enlargement may cause tight-fitting hats.</li>\n\t\t\t<li>Skull base <span class=\"customMeta\" data-dictid=\"13d0edf82916927772021bfc7f9aeb\">flattening</span> (platybasia) - gives a shortened neck appearance.</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"Spinal claudication\" data-author=\"Frederick R. Singer, MD.\" data-hash=\"13007\" data-license=\"CC BY NC ND\" data-source=\"https://www.ncbi.nlm.nih.gov/books/NBK279033/\" data-tags=\"May2025\" height=\"227\" src=\"https://image.prepladder.com/notes/wl9gEfdaj9qbzbcGxCYa1747659395.png\" width=\"162\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p><strong>X-ray Findings in Paget's Disease of Bone: </strong></p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Evangeline Collins\" data-hash=\"\" data-license=\"NA\" data-source=\"https://radiopaedia.org/cases/paget-disease-bone-1\" data-tags=\"\" height=\"282\" src=\"https://image.prepladder.com/content/swMvgBb1k4F4DDvW5VvK1747288501.png\" width=\"125\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p><strong>Flame shaped lucency of <span class=\"customMeta\" data-dictid=\"ca6af868811692777200ce067e9db9\">tibia</span> </strong></p>\n\n<table align=\"center\" cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Disease Phase</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>X-ray Findings</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none\">\n\t\t\t<p><strong>Early (osteolytic) phase</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Localised <span class=\"customMeta\" data-dictid=\"17d9369c3f1692777183b01f1dc72f\">bone resorption</span> often appears as \"flame-shaped\" lesions along the bone shaft. <strong>(Option C)</strong></li>\n\t\t\t\t<li>The skull may show <span class=\"customMeta\" data-dictid=\"4c8be6d6b716927771948551f98378\">osteoporosis</span> circumscripta (well-defined areas of bone loss).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none\">\n\t\t\t<p><strong>Later stages</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Bone thickening and <span class=\"customMeta\" data-dictid=\"dae4dea0581692777198fdef9fa684\">sclerosis</span> with <span class=\"customMeta\" data-dictid=\"28606fa66a169277718407469e7e7c\">coarse</span> trabecular patterns.</li>\n\t\t\t\t<li>Stress fractures are visible as fine cracks on the <span class=\"customMeta\" data-dictid=\"00ab88c6091692777185ea2685fa40\">convex</span> surface of long bones.</li>\n\t\t\t\t<li>Pathological fractures may be present.\u201d</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Looser zones </strong>: Looser zones, also known as pseudofractures, are characteristic of <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> or rickets. These are incomplete fractures due to <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> bone mineralisation.</p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"Panda S, Sharma K\" data-hash=\"\" data-license=\"CC BY NC SA 3.0\" data-source=\"https://openi.nlm.nih.gov/detailedresult?img=PMC3841632_AIAN-16-690-g001&query=&req=4\" data-tags=\"\" height=\"236\" src=\"https://image.prepladder.com/content/V24LsM8C28oI9P9YOUoe1747288501.png\" width=\"427\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p><strong>Sunburst pattern </strong>: This is seen in osteosarcoma, where aggressive bone growth produces a characteristic <span class=\"customMeta\" data-dictid=\"d9873d32e01692777199c6a1f6ecfc\">spiculated</span> appearance due to new bone formation.</p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"Kundu ZS\" data-hash=\"\" data-license=\"CC BY NC SA 3.0\" data-source=\"https://openi.nlm.nih.gov/detailedresult?img=PMC4052020_IJOrtho-48-238-g003&query=sunburst%20appearance&it=xg&req=4&npos=10\" data-tags=\"\" height=\"370\" src=\"https://image.prepladder.com/content/g8hm6KgfYtw4zI2ss1kP1747288501.png\" width=\"292\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p><strong>Ground-glass appearance</strong>: This is typically associated with <span class=\"customMeta\" data-dictid=\"5d6dfa73b316927772028f3cd60f7f\">fibrous</span> dysplasia, where bone appears hazy due to disorganised <span class=\"customMeta\" data-dictid=\"5d6dfa73b316927772028f3cd60f7f\">fibrous</span> tissue replacing normal bone.</p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"van der Wal WA, Unal H, de Rooy JW, Flucke U, Veth RP\" data-hash=\"\" data-license=\"CC BY 2.0\" data-source=\"https://openi.nlm.nih.gov/detailedresult?img=PMC3141698_1752-1947-5-239-1&query=ground%20glass%20appearance%20of%20fibrous%20dysplasia&it=xg&req=4&npos=23\" data-tags=\"\" height=\"352\" src=\"https://image.prepladder.com/content/IWvjMSbky9Dh6gGkvaV41747288501.png\" width=\"230\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p>\u00a0</p>\n\n<p><strong>Osteosarcoma (Options A)</strong> presents<strong> </strong>with symptoms of <strong>persistent knee pain</strong> and <strong>swelling</strong>, with <strong>pain worsening at night</strong> and <strong>not relieved by NSAIDs</strong>. <span class=\"customMeta\" data-dictid=\"754ab07a2e1692777183ed178c883d\">Biopsy</span> shows pleomorphism, large hyperchromatic nuclei, and bizarre giant cells producing unmineralised osteoid</p>\n\n<p><strong>Osteochondroma (Options B) </strong>presents with<strong> </strong>hard mass over the right tibia, <span class=\"customMeta\" data-dictid=\"fe3220767716927771892419444041\">imaging</span> showing a <span class=\"customMeta\" data-dictid=\"3f6a2302971692777198a107e73204\">sessile</span> growth, and a <span class=\"customMeta\" data-dictid=\"754ab07a2e1692777183ed178c883d\">biopsy</span> showing a <strong>cartilage cap</strong></p>\n\n<p><strong>Ewing\u2019s <span class=\"customMeta\" data-dictid=\"82068425041692777198fe3064c370\">sarcoma</span> (Options D) usually affects </strong>patients younger<strong> than 20 years of age </strong>and<strong> </strong> usually arises in the <strong>diaphysis</strong> of long <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> bones</p>",
    "question_images": [
      "https://image.prepladder.com/content/UOibfx5n2jierhCHm6Ge1747288440.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/wl9gEfdaj9qbzbcGxCYa1747659395.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following vitamin deficiencies is seen in rickets?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin A"
      },
      {
        "id": 2,
        "text": "Vitamin B"
      },
      {
        "id": 3,
        "text": "Vitamin C"
      },
      {
        "id": 4,
        "text": "Vitamin D"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option: D) Vitamin D</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Vitamin D <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> is associated with Rickets</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:592px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black\">\n\t\t\t<p><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black\">\n\t\t\t<p><strong>Calcipenic Rickets</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none\">\n\t\t\t<p><strong>Cause</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none\">\n\t\t\t<p>Inadequate <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> <span class=\"customMeta\" data-dictid=\"6cdcd39cf2169277719068e247e38d\">intake</span> <strong>(often vitamin D deficiency)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none\">\n\t\t\t<p><strong>Calcium Status</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none\">\n\t\t\t<p>Low <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> <span class=\"customMeta\" data-dictid=\"5fcb9396d1169277718069dd7fa788\">absorption</span> leads to hypocalcemia</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none\">\n\t\t\t<p><strong>Phosphate Status</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none\">\n\t\t\t<p>Hypophosphatemia due to a decrease in <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> resorption.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none\">\n\t\t\t<p><strong>Pathophysiological Mechanism</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none\">\n\t\t\t<p>Activation of the parathyroid\u2013bone <span class=\"customMeta\" data-dictid=\"3c28fd47f71692777182efbbaa5f6d\">axis</span> for <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> preservation</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none\">\n\t\t\t<p><strong>Associated Conditions</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none\">\n\t\t\t<p>Primarily <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to vitamin D deficiency</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none\">\n\t\t\t<p><strong>Effect on Growth Plate</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none\">\n\t\t\t<p>Reduced <span class=\"customMeta\" data-dictid=\"4bfa3e6f2c1692777181c53b124cf7\">apoptosis</span> of hypertrophic chondrocytes due to hypophosphatemia</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Options A, B & C:</strong> Vitamin A, Vitamin B & Vitamin C are not associated with Rickets.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What treatment would you provide to a 60-year-old female patient who had a Colles' fracture 8 months ago, has a T score of -2.5, attained menopause at 52 years, and is currently not experiencing any symptoms, when she visits the orthopedics outpatient department?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Hormone replacement therapy"
      },
      {
        "id": 2,
        "text": "Alendronate"
      },
      {
        "id": 3,
        "text": "Calcium and vitamin D"
      },
      {
        "id": 4,
        "text": "Repeat DEXA scan after 3 months"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The woman is likely to be suffering from osteoporosis. T score of -2.5 indicates osteoporosis.</p>\n\n<p>In <span class=\"customMeta\" data-dictid=\"c9ba8fa63616927771962d84263e40\">postmenopausal</span> women, bisphosphonates like Alendronate are the first management line.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Osteoporosis: </strong></p>\n\n<ul>\n\t<li>Disorder with low bone mass and structural defects, increasing <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk.</li>\n\t<li>Cancellous regions: More porous; cortices: Thinner.</li>\n\t<li>Loss of bone strength is mainly due to decreased bone mass and structural <span class=\"customMeta\" data-dictid=\"42d710a82c16927771853d21ce8d7f\">connectivity</span> in trabecular bone.</li>\n\t<li><strong>Plain radiographs:</strong> Not sufficient for diagnosis, though signs like trabecular loss and vertebral <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> fractures can suggest osteopenia.</li>\n</ul>\n\n<p><strong>DEXA (Dual-Energy <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> Absorptiometry):</strong></p>\n\n<ul>\n\t<li><strong>T-score:</strong> Standard deviations below the young adult mean.</li>\n\t<li><strong>Z-score:</strong> Standard deviations below the age-matched mean.</li>\n\t<li><strong>WHO <span class=\"customMeta\" data-dictid=\"6d3d1dad201692777200cf2f77c9db\">T-score</span> interpretation:</strong>\n\t<ul>\n\t\t<li><strong>Osteoporosis:</strong> Below -2.5</li>\n\t\t<li><strong>Osteopenia:</strong> Between -1.0 and -2.5</li>\n\t\t<li><strong>Normal bone mass:</strong> Above -1.0</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Drugs used in Osteoporosis:</strong></p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:633px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pharmacological Agent</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mechanism of Action</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Bisphosphonates (Alendronate, Risedronate, Ibandronate) </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Interfere with <span class=\"customMeta\" data-dictid=\"c21bdae5e116927771947204c2076c\">osteoclast</span> activity, leading to decreased bone resorption.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Calcitonin</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Inhibits <span class=\"customMeta\" data-dictid=\"c21bdae5e116927771947204c2076c\">osteoclast</span> activity, reducing bone resorption.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Denosumab</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>It inhibits the RANK ligand, essential for <span class=\"customMeta\" data-dictid=\"c21bdae5e116927771947204c2076c\">osteoclast</span> formation and function.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Estrogen/Raloxifene</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Inhibit <span class=\"customMeta\" data-dictid=\"c21bdae5e116927771947204c2076c\">osteoclast</span> activity and slow bone loss.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Cinacalcet</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Indirectly reduces <span class=\"customMeta\" data-dictid=\"17d9369c3f1692777183b01f1dc72f\">bone resorption</span> by <span class=\"customMeta\" data-dictid=\"ff02aa40d51692777191246d4a9b87\">lowering</span> <span class=\"customMeta\" data-dictid=\"5eff25235516927771968c590529d7\">PTH</span> levels.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Teriparatide</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>A <span class=\"customMeta\" data-dictid=\"b566321fe8169277719716b1cf4df0\">recombinant</span> <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> of <span class=\"customMeta\" data-dictid=\"5eff25235516927771968c590529d7\">PTH</span> stimulates <span class=\"customMeta\" data-dictid=\"8e55f8d71d1692777194a10c3d3d9d\">osteoblast</span> activity.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Strontium Ranelate</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Dual action:</strong> It promotes bone formation by stimulating osteoblasts and decreases <span class=\"customMeta\" data-dictid=\"17d9369c3f1692777183b01f1dc72f\">bone resorption</span> by inhibiting <span class=\"customMeta\" data-dictid=\"c21bdae5e116927771947204c2076c\">osteoclast</span> activity.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Hormone Replacement Therapy (Option A) </strong>Estrogen has been proven to halt the loss of bone mass in <span class=\"customMeta\" data-dictid=\"c9ba8fa63616927771962d84263e40\">postmenopausal</span> women with osteoporosis; however, due to side effects, it is not the first line of management of osteoporosis.</p>\n\n<p><strong>Calcium and <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">Vitamin D</span> (Option C)</strong> alone is not found to be beneficial for the treatment of osteoporosis. They can be used along with <span class=\"customMeta\" data-dictid=\"4c8be6d6b716927771948551f98378\">osteoporosis</span> treatments.</p>\n\n<p><strong>Repeat <span class=\"customMeta\" data-dictid=\"1278e93d90169277718617b64fd8e2\">DEXA</span> scan after 3 Months (Option D) </strong>Since there is a clear-cut diagnosis of <span class=\"customMeta\" data-dictid=\"4c8be6d6b716927771948551f98378\">osteoporosis</span> in this case scenario, along with a history of college <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> 8 months back, alendronate can be started immediately instead of waiting for a repeat <span class=\"customMeta\" data-dictid=\"1278e93d90169277718617b64fd8e2\">DEXA</span> scan after 3 months.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is a characteristic feature observed in osteoporosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Normal calcium and increased ALP"
      },
      {
        "id": 2,
        "text": "Normal calcium and normal ALP"
      },
      {
        "id": 3,
        "text": "Decreased calcium and normal ALP"
      },
      {
        "id": 4,
        "text": "Increased calcium and increased ALP"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option: B) Normal <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and normal ALP</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Osteoporosis occurs due to excessive <span class=\"customMeta\" data-dictid=\"17d9369c3f1692777183b01f1dc72f\">bone resorption</span> compared to bone formation resulting in <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> bone density.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Osteoporosis: </strong></p>\n\n<ul>\n\t<li>Disorder with low bone mass and structural defects, increasing <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk.</li>\n\t<li>Cancellous regions: More porous; cortices: Thinner.</li>\n\t<li>Loss of bone strength is mainly due to decreased bone mass and structural <span class=\"customMeta\" data-dictid=\"42d710a82c16927771853d21ce8d7f\">connectivity</span> in trabecular bone.</li>\n\t<li><strong>Plain radiographs:</strong> Not sufficient for diagnosis, though signs like trabecular loss and vertebral <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> fractures can suggest osteopenia.</li>\n</ul>\n\n<p><strong>Bones affected in osteoporosis:</strong></p>\n\n<ul>\n\t<li><strong>Vertebrae (Spine) (Most common)</strong></li>\n\t<li>Hip (Proximal Femur)</li>\n\t<li><strong>Wrist (Distal Radius) (First fracture)</strong></li>\n\t<li>Ribs</li>\n\t<li>Pelvis</li>\n\t<li>Humerus (Upper Arm)</li>\n\t<li>Tibia and <span class=\"customMeta\" data-dictid=\"9e7e90693316927772027cba1a6018\">Fibula</span> (Lower Leg)</li>\n</ul>\n\n<p><strong>DEXA (Dual-Energy <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> Absorptiometry):</strong></p>\n\n<ul>\n\t<li><strong>T-score:</strong> Standard deviations below the young adult mean.</li>\n\t<li><strong>Z-score:</strong> Standard deviations below the age-matched mean.</li>\n\t<li><strong>WHO <span class=\"customMeta\" data-dictid=\"6d3d1dad201692777200cf2f77c9db\">T-score</span> interpretation:</strong>\n\t<ul>\n\t\t<li><strong>Osteoporosis:</strong> Below -2.5</li>\n\t\t<li><strong>Osteopenia:</strong> Between -1.0 and -2.5</li>\n\t\t<li><strong>Normal bone mass:</strong> Above -1.0</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Additional <span class=\"customMeta\" data-dictid=\"1278e93d90169277718617b64fd8e2\">DEXA</span> Tools:</strong></p>\n\n<ul>\n\t<li><strong>Vertebral <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">Fracture</span> Assessment (VFA):</strong> Assesses for vertebral fractures using a low-resolution <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> spine image.</li>\n\t<li><strong>Trabecular Bone Score (TBS):</strong> Measures bone microarchitecture based on <span class=\"customMeta\" data-dictid=\"683192f6b21692777191ae16feee76\">lumbar</span> spine texture.</li>\n</ul>\n\n<p><strong>Fracture Risk Assessment:</strong></p>\n\n<ul>\n\t<li>Bone density is one risk factor; other tools (FRAX, QFracture) assess <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk based on clinical factors and bone density.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Normal <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and increased <span class=\"customMeta\" data-dictid=\"4228218c971692777181ed18105c0d\">ALP</span> (Option A)</strong>It is observed in Paget\u2019s disease and <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">Rickets</span> or osteomalacia.</p>\n\n<p><strong>Decreased <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and normal <span class=\"customMeta\" data-dictid=\"4228218c971692777181ed18105c0d\">ALP</span> (Option C) </strong>This is seen in hypoparathyroidism, <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> failure, and <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">vitamin D</span> deficiency.</p>\n\n<p><strong>Increased <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and increased <span class=\"customMeta\" data-dictid=\"4228218c971692777181ed18105c0d\">ALP</span> (Option D) </strong>This is seen in primary hyperparathyroidism. In addition to this, they have high <span class=\"customMeta\" data-dictid=\"5eff25235516927771968c590529d7\">PTH</span> levels.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the probable diagnosis for a 5-year-old child who visited the pediatrician due to bilateral knee joint pain, normal bone mineral density, and the provided X-ray image of the joints?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"Francesco Sciacca\" data-hash=\"\" data-license=\"NA\" data-source=\"https://radiopaedia.org/articles/hypovitaminosis-c-scurvy-1\" data-tags=\"\" height=\"408\" src=\"https://image.prepladder.com/content/B7C2143MoaQtKnlJWtR61745392381.png\" width=\"271\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Scurvy"
      },
      {
        "id": 2,
        "text": "Rickets"
      },
      {
        "id": 3,
        "text": "Metaphyseal dysplasia"
      },
      {
        "id": 4,
        "text": "Pycnodysostosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Scurvy</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The child's symptoms of leg pain with <strong>normal bone mineral density</strong> and <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">x-ray</span> showing<strong> White line of frenkel</strong> involving metaphysis, suggest a diagnosis of <strong>scurvy</strong>.</li>\n</ul>\n\n<p><strong>X-ray Findings of Scurvy</strong></p>\n\n<ol>\n\t<li>Characteristic Lines: Specific radiological lines indicative of <span class=\"customMeta\" data-dictid=\"0eff347651169277719862eb775130\">scurvy</span> are observed.\n\t<ul>\n\t\t<li><strong>White Line of Frankel:</strong> Dense line between <span class=\"customMeta\" data-dictid=\"0fa073bd8016927771872ee5b57674\">epiphysis</span> and metaphysis. Due to calcification.</li>\n\t\t<li><strong>Scurvy Line:</strong> Dense line within the metaphysis.</li>\n\t\t<li><strong>Weinberger\u2019s Ring Line: </strong>Dense line within the epiphysis.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Tr\u00fcmmerfeld zone: </strong>Lucent metaphyseal band underlying Frankel line</li>\n\t<li><strong>Pelkan Spurs:</strong> Bone spurs from the <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> border of the metaphysis.</li>\n\t<li>Ground Glass Appearance of the bones.</li>\n\t<li>Subperiosteal Fractures: Fractures may occur beneath the periosteum.</li>\n\t<li>Epiphyseal Fracture Separation.</li>\n</ol>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"Scurvy- X-ray signs\" data-author=\"Francesco Sciacca\" data-hash=\"11713\" data-license=\"NA\" data-source=\"https://radiopaedia.org/articles/hypovitaminosis-c-scurvy-1\" data-tags=\"Scurvy\" height=\"380\" src=\"https://image.prepladder.com/notes/MkMHu69rTgXSnZolqExr1746427969.png\" width=\"429\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p><strong>Incorrect options:</strong></p>\n\n<p><strong>Rickets (Option B):</strong> <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">Rickets</span> is a disorder caused by vitamin D <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> or impaired metabolism, leading to impaired mineralization of growing bones. It typically presents with skeletal deformities, including bowing of the long bones, widening of the wrist and ankle joints, and <span class=\"customMeta\" data-dictid=\"4dbc1c89d216927771979b623fc9f7\">rachitic</span> <span class=\"customMeta\" data-dictid=\"b03d2e290016927771975cb2a45366\">rosary</span> (enlargement of the <span class=\"customMeta\" data-dictid=\"bfa9e996381692777185cdc8709772\">costochondral</span> junction). The <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> findings in <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">rickets</span> include <span class=\"customMeta\" data-dictid=\"4d57ccd00f1692777185c371df0426\">cupping</span> and fraying of the metaphyses, known as \"<strong>cupping and fraying</strong>\" or \"squared-off\" appearance.</p>\n\n<p><strong>Metaphyseal <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> (Option C):</strong> Metaphyseal <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> is a group of rare genetic disorders that primarily affect the metaphyseal regions of long bones. The <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> findings in metaphyseal <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> show characteristic metaphyseal changes, including irregularity, sclerosis, and fragmentation.</p>\n\n<p><strong>Pycnodysostosis (Option D):</strong> Pycnodysostosis is a rare genetic disorder characterized by impaired <span class=\"customMeta\" data-dictid=\"c21bdae5e116927771947204c2076c\">osteoclast</span> function, leading to increased <span class=\"customMeta\" data-dictid=\"0b2564673b16927771836152f83121\">bone density</span> and <span class=\"customMeta\" data-dictid=\"e30073048816927771830d431eabfe\">brittle</span> bones. The <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> findings in pycnodysostosis include <strong>increased bone density</strong>, thickened cortices, and shortened, stubby fingers.</p>",
    "question_images": [
      "https://image.prepladder.com/content/B7C2143MoaQtKnlJWtR61745392381.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/MkMHu69rTgXSnZolqExr1746427969.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Diagnosis of Gout is confirmed by which test?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Serum uric acid level"
      },
      {
        "id": 2,
        "text": "Synovial fluid analysis"
      },
      {
        "id": 3,
        "text": "Urine uric acid levels"
      },
      {
        "id": 4,
        "text": "X-ray changes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"d27f9c7a1b16927771999b1679d949\">Synovial</span> Fluid Analysis</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Gout</strong></p>\n\n<ul>\n\t<li>Inflammatory <span class=\"customMeta\" data-dictid=\"6f74c7bfe0169277718240005b59d1\">arthritis</span> caused by the deposition of monosodium <span class=\"customMeta\" data-dictid=\"41d0fc680516927772019afa9472e5\">urate</span> crystals in joints and tissues due to hyperuricemia</li>\n</ul>\n\n<p><strong>Clinical Presentation:</strong></p>\n\n<ul>\n\t<li><strong>Acute Gouty Attack</strong>- Sudden onset of intense joint pain, typically affecting the big toe, but can also involve other joints such as the ankle, knee, wrist, or elbow</li>\n\t<li><strong>Chronic Gout-</strong> <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">Recurrent</span> attacks of joint inflammation, development of <span class=\"customMeta\" data-dictid=\"23ed22c5821692777200820f6150ac\">tophi</span> (deposits of <span class=\"customMeta\" data-dictid=\"41d0fc680516927772019afa9472e5\">urate</span> crystals) in joints and soft tissues</li>\n</ul>\n\n<p><strong>Diagnosis:</strong></p>\n\n<ul>\n\t<li>Medical History- History of <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> joint pain, sudden onset, and self-limiting nature of attacks.</li>\n\t<li>Physical Examination- Joint examination revealing signs of <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> (redness, swelling, warmth)</li>\n\t<li><strong>Synovial Fluid Analysis</strong>-Detection of monosodium <span class=\"customMeta\" data-dictid=\"41d0fc680516927772019afa9472e5\">urate</span> crystals in <span class=\"customMeta\" data-dictid=\"d27f9c7a1b16927771999b1679d949\">synovial</span> fluid aspirated from an affected joint</li>\n\t<li><strong>Serum <span class=\"customMeta\" data-dictid=\"ffa20262931692777201caef35de16\">Uric</span> Acid Level</strong>- Elevated <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"ffa20262931692777201caef35de16\">uric</span> acid levels (>6.8 mg/dL) may support the diagnosis, but levels can be normal during an <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> attack.</li>\n</ul>\n\n<p><strong>Treatment:</strong></p>\n\n<ul>\n\t<li><strong>Acute Attack</strong>- Nonsteroidal anti-inflammatory drugs (NSAIDs), colchicine, corticosteroids for pain relief and <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> control</li>\n\t<li><strong>Long-term Management</strong>- Lifestyle modifications (dietary changes, weight loss), medications to lower <span class=\"customMeta\" data-dictid=\"ffa20262931692777201caef35de16\">uric</span> acid levels (allopurinol, febuxostat) to prevent further attacks.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Serum <span class=\"customMeta\" data-dictid=\"ffa20262931692777201caef35de16\">Uric</span> Acid Level (Option A): </strong>While elevated <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"ffa20262931692777201caef35de16\">uric</span> acid levels are often seen in individuals with gout, they are not sufficient to confirm the diagnosis on their own.</p>\n\n<p><strong>Urine <span class=\"customMeta\" data-dictid=\"ffa20262931692777201caef35de16\">Uric</span> Acid Levels (Option C): </strong>Urine <span class=\"customMeta\" data-dictid=\"ffa20262931692777201caef35de16\">uric</span> acid levels are not typically used as a <span class=\"customMeta\" data-dictid=\"552e9ef8811692777186997018b858\">diagnostic</span> test for gout. Although increased <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"0f7653c9ef1692777187deaa35f749\">excretion</span> of <span class=\"customMeta\" data-dictid=\"ffa20262931692777201caef35de16\">uric</span> acid may be observed in some cases of gout, it is not a specific or reliable marker for diagnosing the condition.</p>\n\n<p><strong>X-Ray Changes (Option D): </strong>X-ray changes, such as the presence of joint erosions or bone damage, may occur in advanced stages of <span class=\"customMeta\" data-dictid=\"0b216ac0561692777188160d9a8814\">gout</span> or if there have been <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> episodes of <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> over time.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which tumor does not cause <span class=\"marker\">osteomalacia and phosphaturia?</span></p>",
    "choices": [
      {
        "id": 1,
        "text": "Osteosarcoma"
      },
      {
        "id": 2,
        "text": "Hemangiopericytoma"
      },
      {
        "id": 3,
        "text": "Fibrosarcoma"
      },
      {
        "id": 4,
        "text": "Breast carcinoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option</strong>\u00a0<strong>D -\u00a0Breast Carcinoma:</strong></p>\n\n<ul>\n\t<li>Breast carcinoma, or breast cancer, is a <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">malignant</span> tumor that originates in the breast tissue. Unlike the other options, breast <span class=\"customMeta\" data-dictid=\"988c19e3131692777183b6744d1920\">carcinoma</span> is not commonly associated with <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> and phosphaturia. Breast <span class=\"customMeta\" data-dictid=\"988c19e3131692777183b6744d1920\">carcinoma</span> primarily affects the breast tissue and can <span class=\"customMeta\" data-dictid=\"c329085d1b1692777192eda410629f\">metastasize</span> to bones, causing bone-related complications such as bone pain or fractures. However, it does not typically produce FGF23 or directly leads to tumor-induced <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> and phosphaturia.</li>\n</ul>\n\n<p><strong>Incorrect\u00a0Options:</strong></p>\n\n<p><strong>Option\u00a0A -\u00a0Osteosarcoma:</strong> <span class=\"customMeta\" data-dictid=\"54093004eb169277719415bac43a91\">Osteosarcoma</span> is a type of bone cancer that primarily affects the osteoblasts, which are the cells responsible for forming new bone tissue. While <span class=\"customMeta\" data-dictid=\"54093004eb169277719415bac43a91\">osteosarcoma</span> itself does not directly cause <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> and phosphaturia, there have been rare cases where <span class=\"customMeta\" data-dictid=\"54093004eb169277719415bac43a91\">osteosarcoma</span> has been associated with tumor-induced osteomalacia. In these rare cases, the tumor can produce excessive levels of <span class=\"customMeta\" data-dictid=\"3095c5f0fc1692777202eda8060779\">fibroblast</span> growth factor 23 (FGF23), leading to the development of <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> and phosphaturia.</p>\n\n<p><strong>Option\u00a0B -\u00a0Hemangiopericytoma:</strong> <span class=\"customMeta\" data-dictid=\"c32874e8c51692777188afbaed8602\">Hemangiopericytoma</span> is a rare type of tumor that arises from the pericytes, which are specialized cells found around blood vessels. Similar to osteosarcoma, <span class=\"customMeta\" data-dictid=\"c32874e8c51692777188afbaed8602\">hemangiopericytoma</span> itself does not commonly cause <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> and phosphaturia. However, there have been reported cases where <span class=\"customMeta\" data-dictid=\"c32874e8c51692777188afbaed8602\">hemangiopericytoma</span> has been associated with tumor-induced osteomalacia. The tumor can produce elevated levels of FGF23, leading to the development of <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> and phosphaturia.</p>\n\n<p><strong>Option\u00a0C -\u00a0Fibrosarcoma: </strong>Fibrosarcoma is a <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">malignant</span> tumor that originates from <span class=\"customMeta\" data-dictid=\"5d6dfa73b316927772028f3cd60f7f\">fibrous</span> <span class=\"customMeta\" data-dictid=\"67e237a57c16927771859803f93ab3\">connective</span> tissue. Like <span class=\"customMeta\" data-dictid=\"54093004eb169277719415bac43a91\">osteosarcoma</span> and hemangiopericytoma, <span class=\"customMeta\" data-dictid=\"48cc13e5b7169277720261378a054d\">fibrosarcoma</span> itself does not typically cause <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> and phosphaturia. However, there have been rare cases where <span class=\"customMeta\" data-dictid=\"48cc13e5b7169277720261378a054d\">fibrosarcoma</span> has been associated with tumor-induced osteomalacia. The tumor can produce excessive FGF23, resulting in the development of <span class=\"customMeta\" data-dictid=\"fc9f873eb21692777194d3feb4e68d\">osteomalacia</span> and phosphaturia.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 60-year-old patient presents with pain in multiple bones and a history of increased hat size. On examination, some bones feel warm to touch. Biochemical investigations show normal serum calcium, phosphate, and parathyroid hormone (PTH) levels, but markedly elevated alkaline phosphatase (ALP). What is the most likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Paget\u2019s disease of bone"
      },
      {
        "id": 2,
        "text": "Osteosarcoma"
      },
      {
        "id": 3,
        "text": "Multiple myeloma"
      },
      {
        "id": 4,
        "text": "Osteomalacia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Paget\u2019s disease of bone</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>In this patient, <strong>bone pain, increased hat size, warmth over bones, and isolated elevated ALP with normal <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and phosphate</strong> are classic features of <strong>Paget\u2019s disease of bone</strong>, indicating increased <span class=\"customMeta\" data-dictid=\"259c7d2f221692777183ec47febc61\">bone turnover</span> and disorganized remodeling.</p>\n\n<ul>\n\t<li><strong>Paget\u2019s disease of bone</strong> is a disorder of <strong>excessive bone remodeling</strong> with increased <span class=\"customMeta\" data-dictid=\"fc8c28347a16927771945680bd00be\">osteoclastic</span> <span class=\"customMeta\" data-dictid=\"797daba8ca1692777197dc9f8d3a4a\">resorption</span> followed by disorganized osteoblastic bone formation.</li>\n\t<li>Common features:\n\t<ul>\n\t\t<li><strong>Bone pain</strong> and deformities.</li>\n\t\t<li><strong>Increased hat size</strong> from skull thickening.</li>\n\t\t<li><strong>Warmth over affected bones</strong> due to increased vascularity.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Lab pattern:</strong>\n\t<ul>\n\t\t<li><strong>Markedly elevated bone-specific <span class=\"customMeta\" data-dictid=\"b95c7f7b821692777181df660ee7ff\">alkaline</span> <span class=\"customMeta\" data-dictid=\"65f1c4f3d4169277719505249503e0\">phosphatase</span> (BSAP)</strong> \u2014 reflects high osteoblastic activity.</li>\n\t\t<li><strong>Normal <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> calcium, phosphate, and PTH</strong> (unless there is <span class=\"customMeta\" data-dictid=\"3024d9916e16927771896f5b7159b6\">immobilization</span> or fracture).</li>\n\t\t<li><strong>Urinary markers of bone resorption</strong>: hydroxyproline, deoxypyridinoline, C- and N-telopeptides, TRAP, <span class=\"customMeta\" data-dictid=\"56c3b320b41692777183118a784790\">cathepsin</span> K.</li>\n\t\t<li><strong>Possible hyperuricemia</strong> due to increased bone turnover.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Osteosarcoma (Option B):</strong> Presents with <span class=\"customMeta\" data-dictid=\"8fb8df140b1692777191702bbc9358\">localized</span> bone pain, swelling, and destructive lytic\u2013sclerotic lesions on imaging; ALP may be elevated but not as markedly as in Paget\u2019s unless there is associated <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> or tumor activity. No <span class=\"customMeta\" data-dictid=\"89275101301692777186567d1912a0\">diffuse</span> bone involvement or hat size increase.</p>\n\n<p><strong>Multiple <span class=\"customMeta\" data-dictid=\"aa6a0dfcb61692777193561ed10fac\">myeloma</span> (Option C):</strong> Typically shows <span class=\"customMeta\" data-dictid=\"d54da38aaa1692777191560f60c0f9\">lytic</span> bone lesions with <strong>hypercalcemia</strong>, anemia, and <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> dysfunction. ALP is usually <strong>normal or only mildly elevated</strong> because osteoblastic activity is low.</p>\n\n<p><strong>Osteomalacia (Option D):</strong> Due to <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> bone mineralization from vitamin D deficiency; labs show <strong>low calcium, low phosphate, elevated ALP</strong>, and increased PTH \u2014 not the normal calcium/phosphate seen here.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the most likely cause of the noted findings in a 39-year-old male who presents to the clinic for a routine checkup and only exhibits mild generalized weakness without any other symptoms?</p>  <table> \t<tbody> \t\t<tr> \t\t\t<td> \t\t\t<p style=\"text-align: center;\"><strong>Parameters</strong></p> \t\t\t</td> \t\t\t<td> \t\t\t<p style=\"text-align: center;\"><strong>Values</strong></p> \t\t\t</td> \t\t</tr> \t\t<tr> \t\t\t<td> \t\t\t<p>ALP</p> \t\t\t</td> \t\t\t<td> \t\t\t<p>Normal</p> \t\t\t</td> \t\t</tr> \t\t<tr> \t\t\t<td> \t\t\t<p>Calcium</p> \t\t\t</td> \t\t\t<td> \t\t\t<p>High</p> \t\t\t</td> \t\t</tr> \t\t<tr> \t\t\t<td> \t\t\t<p>Phosphate</p> \t\t\t</td> \t\t\t<td> \t\t\t<p>High</p> \t\t\t</td> \t\t</tr> \t\t<tr> \t\t\t<td> \t\t\t<p>PTH</p> \t\t\t</td> \t\t\t<td> \t\t\t<p>Normal</p> \t\t\t</td> \t\t</tr> \t</tbody> </table>",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin D toxicity"
      },
      {
        "id": 2,
        "text": "Hyperparathyroidism"
      },
      {
        "id": 3,
        "text": "Osteoporosis"
      },
      {
        "id": 4,
        "text": "Osteomalacia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a0Vitamin D Toxicity:</strong></p>\n\n<ul>\n\t<li>The combination of <strong>high calcium, high phosphate, and normal <span class=\"customMeta\" data-dictid=\"3bcd005ca116927771941ae5bca4a8\">parathyroid</span> hormone </strong>(PTH) levels in this patient suggests an <strong>excessive <span class=\"customMeta\" data-dictid=\"6cdcd39cf2169277719068e247e38d\">intake</span> or production of <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">vitamin D</span> leading to <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">vitamin D</span> toxicity.</strong></li>\n\t<li>Excessive <span class=\"customMeta\" data-dictid=\"6cdcd39cf2169277719068e247e38d\">intake</span> or production of <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">vitamin D</span> can lead to <strong>increased <span class=\"customMeta\" data-dictid=\"5fcb9396d1169277718069dd7fa788\">absorption</span> of <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> from the intestines, resulting in elevated levels of both <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and phosphate.</strong> The<strong> normal PTH</strong> level indicates that the<strong> <span class=\"customMeta\" data-dictid=\"3bcd005ca116927771941ae5bca4a8\">parathyroid</span> glands are <span class=\"customMeta\" data-dictid=\"bf1b7e7049169277720354c306d716\">functioning</span> properly</strong> and not contributing to the elevated <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> levels.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option B -\u00a0Hyperparathyroidism: </strong>Hyperparathyroidism is characterized by increased <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> of <span class=\"customMeta\" data-dictid=\"3bcd005ca116927771941ae5bca4a8\">parathyroid</span> hormone (PTH), leading to elevated levels of <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and decreased levels of phosphate. In this case, the <span class=\"customMeta\" data-dictid=\"5eff25235516927771968c590529d7\">PTH</span> level is normal, making <span class=\"customMeta\" data-dictid=\"a21c150dc716927771893624a49628\">hyperparathyroidism</span> an incorrect option.</p>\n\n<p><strong>Option C -\u00a0Osteoporosis: </strong>Osteoporosis is a condition characterized by decreased <span class=\"customMeta\" data-dictid=\"0b2564673b16927771836152f83121\">bone density</span> and increased risk of fractures. It does not directly cause elevated <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> levels, making it an incorrect option in this case.</p>\n\n<p><strong>Option D -\u00a0Osteomalacia: </strong>Osteomalacia is a condition characterized by <span class=\"customMeta\" data-dictid=\"f469f168b3169277719839870c0ce5\">softening</span> of the bones due to <span class=\"customMeta\" data-dictid=\"77a4f731501692777202a03bfca9b4\">vitamin D</span> deficiency. It typically presents with low levels of <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> and phosphate, as well as increased <span class=\"customMeta\" data-dictid=\"5eff25235516927771968c590529d7\">PTH</span> levels, which are not consistent with the findings in this patient.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 60 year old woman presents with <span class=\"marker\">low backache and on a lumbar CT</span> the following is seen. What is your diagnosis?</p>\n\n<p><img src=\"https://image.prepladder.com/content/0MiBslpGUmONR8n0Edh71691507116.png\" style=\"height:500px; width:500px\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Spondylolisthesis"
      },
      {
        "id": 2,
        "text": "Discitis"
      },
      {
        "id": 3,
        "text": "Osteoporosis"
      },
      {
        "id": 4,
        "text": "Pott's spine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - Osteoporosis:</strong></p>\n\n<ul>\n\t<li>Osteoporosis is a condition characterized by the loss of bone density, leading to <strong>weakened and <span class=\"customMeta\" data-dictid=\"e30073048816927771830d431eabfe\">brittle</span> bones.</strong> The CT image showing <strong>biconcave vertebrae</strong> is consistent with the <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> fractures commonly seen in osteoporosis. The <strong>cod fish appearance </strong>refers to the vertebral bodies appearing like the skeletal structure of a fish due to the <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> fractures. <span class=\"customMeta\" data-dictid=\"4c8be6d6b716927771948551f98378\">Osteoporosis</span> is more prevalent in <strong>postmenopausal women, making it a likely diagnosis in a 60-year-old woman</strong>.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Options A - Spondylolisthesis</strong>:</p>\n\n<ul>\n\t<li>Spondylolisthesis is a condition characterized by the forward <span class=\"customMeta\" data-dictid=\"5a50cd774d1692777186c56ec68eac\">displacement</span> of one <span class=\"customMeta\" data-dictid=\"89cd4b5bf716927772010247b57941\">vertebra</span> over the <span class=\"customMeta\" data-dictid=\"89cd4b5bf716927772010247b57941\">vertebra</span> below it. It typically presents with symptoms such as low back pain, but the CT image described in the question does not show the characteristic findings associated with spondylolisthesis, such as vertebral slippage.</li>\n</ul>\n\n<p><strong>Options B - Discitis</strong>:</p>\n\n<ul>\n\t<li>Discitis refers to the <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> or infection of the <span class=\"customMeta\" data-dictid=\"95a8e326831692777190c5101eb835\">intervertebral</span> discs. While <span class=\"customMeta\" data-dictid=\"00ffbde4d11692777186e4010e980e\">discitis</span> can cause low back pain, the CT image showing <span class=\"customMeta\" data-dictid=\"896c5b0b3616927771836c801b78c2\">biconcave</span> <span class=\"customMeta\" data-dictid=\"9c0b99fa0816927772010e947b4ef6\">vertebrae</span> is not indicative of this condition. <span class=\"customMeta\" data-dictid=\"00ffbde4d11692777186e4010e980e\">Discitis</span> is often associated with other findings on imaging, such as disc space narrowing or endplate erosion, which are not mentioned in the question.</li>\n</ul>\n\n<p><strong>Options D - Pott's spine</strong>:</p>\n\n<ul>\n\t<li>Pott's spine, also known as <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> tuberculosis. Additional findings, such as <span class=\"customMeta\" data-dictid=\"26866bac6f16927771940c1aedc2e4\">paraspinal</span> <span class=\"customMeta\" data-dictid=\"5618681fbe16927771804370383aaa\">abscess</span> or destruction of the vertebral body, are typically seen in Pott's spine, which are not mentioned in the question.</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/content/0MiBslpGUmONR8n0Edh71691507116.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Albers Schonberg disease is:</p>",
    "choices": [
      {
        "id": 1,
        "text": "Paget"
      },
      {
        "id": 2,
        "text": "Osteogenesis imperfecta"
      },
      {
        "id": 3,
        "text": "Osteoporosis"
      },
      {
        "id": 4,
        "text": "Osteopetrosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option D -\u00a0Osteopetrosis:</strong></p>\n\n<ul>\n\t<li>Albers-Schonberg disease, also known as <strong>osteopetrosis</strong>, is a rare genetic disorder characterized by <strong>increased bone density</strong> due to impaired bone resorption. It results in thickened, <span class=\"customMeta\" data-dictid=\"e30073048816927771830d431eabfe\">brittle</span> bones that are <span class=\"customMeta\" data-dictid=\"607476ab371692777196d0cb2f13bc\">prone</span> to fractures. <span class=\"customMeta\" data-dictid=\"aa5eaa8b7316927771940e3ae8dbe6\">Osteogenesis</span> imperfecta, often known as <strong>brittle bone disease</strong>, is a separate condition characterized by bone <span class=\"customMeta\" data-dictid=\"0f4e78e9121692777203594ba840cc\">fragility</span> and <span class=\"customMeta\" data-dictid=\"6ced8252211692777199ab0cc3f2bb\">susceptibility</span> to fractures.</li>\n</ul>\n\n<p><strong>Incorrect Options: </strong></p>\n\n<p><strong>Option A -\u00a0Paget's Disease: </strong>Paget's disease of bone is a condition characterized by excessive and disorganized bone remodeling, leading to enlarged and weakened bones.</p>\n\n<p><strong>Option B -\u00a0Osteoporosis: </strong>Osteoporosis is a condition characterized by decreased <span class=\"customMeta\" data-dictid=\"0b2564673b16927771836152f83121\">bone density</span> and increased risk of fractures.</p>\n\n<p><strong>Option C -\u00a0Osteogenesis Imperfecta: </strong>Osteogenesis imperfecta is a genetic disorder characterized by fragile bones that easily fracture.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p><span class=\"marker\">A 4-year-old child was brought to the OPD with a painless deformity</span>. A radiograph of the child's legs is shown below. The most common cause of this deformity is____.</p>\n\n<p><img src=\"https://image.prepladder.com/content/Kvhz1o31odjSw6AWAFRt1691479474.png\" style=\"height:267px; width:228px\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Skeletal dysplasia"
      },
      {
        "id": 2,
        "text": "Rickets"
      },
      {
        "id": 3,
        "text": "Scurvy"
      },
      {
        "id": 4,
        "text": "Blount disease"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B -\u00a0Rickets:</strong></p>\n\n<ul>\n\t<li>Rickets is a condition that primarily affects growing children and is caused by a <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> in vitamin D, calcium, or phosphate. It leads to <strong>impaired bone mineralization</strong>, resulting in weakened and softened bones. The deformities commonly associated with <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">rickets</span> include bowed legs (genu varum) or knock knees (genu valgum).</li>\n\t<li>Rickets-related <span class=\"customMeta\" data-dictid=\"7e0d837a391692777188b2820de5f4\">genu</span> varum (bowed legs) typically presents as a <span class=\"customMeta\" data-dictid=\"ce2b48d83d1692777185427cee6c98\">deformity</span> where the legs curve outward, causing a distinct bowing appearance. This <span class=\"customMeta\" data-dictid=\"ce2b48d83d1692777185427cee6c98\">deformity</span> is often painless but can affect a child's <span class=\"customMeta\" data-dictid=\"053afdc7031692777187c2079a86a3\">gait</span> and overall physical development.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option\u00a0A -\u00a0Skeletal Dysplasia:</strong></p>\n\n<ul>\n\t<li>Skeletal <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> refers to a group of disorders characterized by <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> bone development and growth. While skeletal <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> can cause various types of deformities, it is a broad term encompassing multiple specific conditions. Without further details or specific indications from the radiograph, it is difficult to determine if skeletal <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> is the most common cause of the <span class=\"customMeta\" data-dictid=\"ce2b48d83d1692777185427cee6c98\">deformity</span> in this case.</li>\n</ul>\n\n<p><strong>Option C -\u00a0Scurvy:</strong></p>\n\n<ul>\n\t<li>Scurvy is a condition caused by <span class=\"customMeta\" data-dictid=\"964b8993a1169277720279c9c96cd1\">vitamin C</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> and primarily affects <span class=\"customMeta\" data-dictid=\"d215f4a56c16927771842f34a24156\">collagen</span> synthesis. It can lead to various symptoms, including weakness, fatigue, <span class=\"customMeta\" data-dictid=\"09980563461692777188b0de904031\">gum</span> disease, and impaired wound healing. While <span class=\"customMeta\" data-dictid=\"0eff347651169277719862eb775130\">scurvy</span> can cause <span class=\"customMeta\" data-dictid=\"09b955b4f91692777193bd4080e7fc\">musculoskeletal</span> symptoms, such as joint pain and muscle weakness, it is not typically associated with painless deformities of the legs.</li>\n</ul>\n\n<p><strong>Option\u00a0D -\u00a0Blount Disease:</strong></p>\n\n<ul>\n\t<li>Blount disease, also known as <span class=\"customMeta\" data-dictid=\"ca6af868811692777200ce067e9db9\">tibia</span> vara, is a growth disorder that affects the <span class=\"customMeta\" data-dictid=\"ca6af868811692777200ce067e9db9\">tibia</span> (shinbone). It primarily occurs in young children and is characterized by inward bowing of the lower leg, leading to a \"knock-knee\" appearance. Blount disease can cause painless deformities in the legs, but it is less common than <span class=\"customMeta\" data-dictid=\"3bbd4ac09b16927771974d75a8b355\">rickets</span> in the given age group</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/content/Kvhz1o31odjSw6AWAFRt1691479474.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '22 Previous Year Questions';
        const quizFilename = '22-previous-year-questions-164ede96.html';
        let hierarchy = ["PrepLadder", "qBank", "Orthopedics"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>