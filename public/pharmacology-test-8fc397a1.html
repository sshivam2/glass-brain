<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacology Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2021 - 22
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A 45-year-old patient with chronic kidney disease developed secondary hyperparathyroidism for which he was treated appropriately, and was started on cinacalcet. Which of the following best describes the mechanism of action of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "Calcitonin preparation"
      },
      {
        "id": 2,
        "text": "PTH preparation"
      },
      {
        "id": 3,
        "text": "Calcimimetic"
      },
      {
        "id": 4,
        "text": "Vitamin D3 analog"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Cinacalcet is a <strong>calcimimetic</strong> agent.</p>\n<p>It <strong>activates</strong> the calcium-sensing receptor <strong>(CaSR)</strong> in the parathyroids and blocks PTH secretion.</p>\n<p>Cinacalcet is a <strong>type II calcimimetic agent</strong> , it means that it needs either Ca<sup>2+</sup> or some other agonist to activate CaSR.</p>\n<p>It is indicated for <strong>secondary hyperparathyroidism</strong> due to chronic kidney disease and tumor of parathyroid gland.</p>\n<p>Type I calcimimetic agents are those which can activate CaSR directly such as aminoglycoside and polylysine.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient on lithium therapy was started on a drug for hypertension. After few days, he developed coarse tremors and other symptoms suggestive of lithium toxicity. Which of the following anti-hypertensive drug is least likely to be the cause of this toxicity?",
    "choices": [
      {
        "id": 1,
        "text": "Enalapril"
      },
      {
        "id": 2,
        "text": "Furosemide"
      },
      {
        "id": 3,
        "text": "Nifedipine"
      },
      {
        "id": 4,
        "text": "Chlorthalidone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Except for nifedipine, all the other drugs (Enalapril, thiazide, furosemide) causes lithium toxicity.</p>\n<p><strong>Lithium toxicity </strong>occurs with<strong> concomitant use </strong>of&nbsp;</p>\n<ol>\n<li><strong>Thiazide diurertics (chlorthalidone)</strong></li>\n<li>Angiotensin-converting enzyme inhibitors (enalapril)</li>\n<li>Angiotensin II receptor blocker (telmisartan)</li>\n<li>Nonsteroidal anti-inflammatory drugs (indomethacin)</li>\n<li>Tetracyclines (doxycycline)</li>\n<li>Loop diuretics (furosemide)</li>\n</ol>\n<p>These act by<strong> increasing</strong> the<strong> tubular reabsorption of lithium</strong>,<strong>&nbsp;</strong>resulting in decreased excretion of lithium and thereby increasing the serum lithium levels, causing toxicity.</p>\n<p><strong>Lithium toxicity:&nbsp;</strong></p>\n<p>Serum lithium level greater than<strong> 1.5 mEq/L</strong> are&nbsp;considered toxic. Acute intoxication is characterized by vomiting, profuse diarrhea,&nbsp;coarse tremor, ataxia, dysarthria, and convulsions. It may progress to cardiac&nbsp;arrhythmias,&nbsp;coma, and death.</p>\n<p>Treatment is supportive which includes dialysis, continuous cardiac monitoring, intubation if needed.</p>\n<p><strong>Adverse effects of Lithium:</strong></p>\n<p>Central nervous system: Lithium at therapeutic levels cause <strong>fine tremors</strong> and at toxic levels cause <strong>coarse tremors.</strong> Incoordination, ataxia, and slurred speech can occur at peak serum concentrations.</p>\n<p>Lithium enters into the distal tubular cells in kidney via luminal ENaC. However, it accumulates in the distal tubular cells due to the inability of Na+K+ATPase to secrete lithium via basal membrane. Thereby, lithium inhibits GSK-3&szlig;, leading to vasopressin insensitivity, downregulation of aquaporin-2 channels, and <strong>nephrogenic diabetes insipidus. </strong>Patients present with<strong> polyuria and polydipsia.&nbsp;Amiloride </strong>blocks entry of lithium into renal distal tubule ENaCs and is used to treat lithium induced nephrogenic diabetes insipidus.</p>\n<p>Lithium therapy is associated with <strong>hypothyroidism </strong>and <strong>hypercalcemia </strong>related to hyperparathyroidism.&nbsp;Lithium therapy causes significant <strong>weight gain.</strong></p>\n<p><strong>T wave flattening</strong> in ECG occurs in few patients on lithium. At toxic levels, sinus bradycardia, AV block, and cardiac arrhythmias occur.&nbsp;<strong>Allergic reactions</strong> including dermatitis, folliculitis, and vasculitis can occur with lithium use.</p>\n<p>Lithium use in early pregnancy causes <strong>Ebstein anomaly</strong> in the fetus. Fetal lithium exposure is associated with <strong>neonatal goiter, CNS depression, hypotonia (floppy baby syndrome), and cardiac murmur.</strong></p>\n<p>Due to all these adverse effects, patients on lithium therapy should have routine monitoring of serum electrolytes, serum calcium, thyroid profile, renal function tests, ECG, and serum lithium levels.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is true about pegylated-filgrastim?",
    "choices": [
      {
        "id": 1,
        "text": "Duration of action is shorter than normal filgrastim"
      },
      {
        "id": 2,
        "text": "Added advantage is that it can be taken orally"
      },
      {
        "id": 3,
        "text": "It should not be administered in sickle cell patients"
      },
      {
        "id": 4,
        "text": "It is not effective in the treatment of severe neutropenia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: justify;\">Patients with sickle cell anemia should not receive pegylated filgrastim as it can&nbsp;trigger a <strong>sickle cell crisis.</strong></p>\n<p style=\"text-align: justify;\"><strong>Filgrastim&nbsp;</strong>is a recombinant human G-CSF (granulocyte colony-stimulating factor). The pegylated forms of filgrastim, pegfilgrastim, and lipefilgrastim, are longer-acting forms. It is administered subcutaneously or by slow intravenous infusion only.</p>\n<p style=\"text-align: justify;\">Indications of recombinant G-CSF:&nbsp; &nbsp;</p>\n<ul style=\"text-align: justify;\">\n<li>Severe neutropenia after autologous hematopoietic stem cell transplantation</li>\n<li>Severe neutropenia after high dose cancer chemotherapy</li>\n<li>Severe congenital neutropenias</li>\n<li>Neutropenia of patients with <strong>AIDS</strong> receiving <strong>zidovudine</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements are correct regarding the clinical trials?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2 & 5 are correct."
      },
      {
        "id": 2,
        "text": "2, 3 & 5 are correct."
      },
      {
        "id": 3,
        "text": "2 & 4 are correct."
      },
      {
        "id": 4,
        "text": "1 & 5 are correct."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Statements 2 &amp; 4 are correct regarding clinical trials.&nbsp;<strong>Safety</strong> and<strong> tolerability</strong> are tested in <strong>healthy volunteers</strong> in <strong>phase I </strong>of clinical trials.</p>\n<ul>\n<li><strong>Statement 1</strong>- Phases <strong>II</strong> and <strong>III</strong> are randomized controlled trials.</li>\n<li><strong>Statement 3</strong>- Adverse events are determined in phase II<strong>&nbsp;</strong>of clinical trials. Adverse events are confirmed in phase III.</li>\n<li><strong>Statement 5- Phase III </strong>is regarded as a <strong>multisite trial</strong> and phase IV is postmarketing surveillance.</li>\n</ul>\n<p>The below pearl explains the various phases of clinical trials.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly patient is brought to the emergency room in a drowsy state after taking an overdose of his sleeping pills. His medical history includes insomnia for which he was on alprazolam. Which of the following medication will you administer to this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Naloxone"
      },
      {
        "id": 2,
        "text": "Flumazenil"
      },
      {
        "id": 3,
        "text": "Naltrexone"
      },
      {
        "id": 4,
        "text": "Nalmefene"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The patient is presenting with <strong>benzodiazepine</strong> (alprazolam)<strong> overdose. Flumazenil</strong> is the drug of choice for this patient.</p>\n<p><strong>Flumazenil</strong> is a <strong>competitive antagonist</strong> at the benzodiazepine&nbsp;binding site of the GABA<sub>A</sub> receptor. It antagonizes both the agonist (benzodiazepines) and inverse-agonist (beta-carbolines) of this receptor.</p>\n<p>It is primarily indicated for the management of benzodiazepine overdose and the reversal of benzodiazepine anesthesia.&nbsp;</p>\n<p>Other options:</p>\n<p>Option A:&nbsp;<strong>Naloxone</strong> is an opioid antagonist used in the management of <strong>opioid overdose.</strong></p>\n<p>Option C:&nbsp;<strong>Naltrexone</strong>, another opioid antagonist, is used in the management of <strong>alcohol dependence</strong>, prevention of relapse in&nbsp;<strong>opioid deaddiction</strong> after detoxification, and <strong>weight management</strong>. It might cause liver failure.</p>\n<p>Option D:&nbsp;<strong>Nalmefene</strong> is a pure opioid antagonist with higher potency than naloxone. It is used for the treatment of opioid toxicity and substance abuse.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Image of insulin regimen with different preparations of insulin is given below. The yellow curve in the image indicates",
    "choices": [
      {
        "id": 1,
        "text": "Insulin glulisine"
      },
      {
        "id": 2,
        "text": "Insulin degludec"
      },
      {
        "id": 3,
        "text": "Regular insulin"
      },
      {
        "id": 4,
        "text": "NPH insulin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The yellow curve in the image has a duration of action of around 11- 12 hours. Therefore, it indicates <strong>NPH insulin.</strong></p>\n<p>The image shows an insulin regimen consisting of a twice-daily injection of <strong>NPH insulin</strong> (yellow line) providing basal insulin coverage and <strong>regular</strong> <strong>insulin</strong> (blue dashed line) or an <strong>insulin</strong> <strong>analog</strong> (glulisine, apart, and lispro in red) providing mealtime insulin coverage.</p>\n<p>Duration of NPH insulin is around 10-16 hours, insulin degludec is 24-42 hours, regular insulin is 4-6 hours and insulin glulisine is around 3-4 hours.</p>\n<p>Other commonly used insulin regimens are shown in the following image. The letter B indicates breakfast, L indicates lunch, S indicates supper and HS indicates bedtime.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/89e772c50ff7432f87e42692044f9fab.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/424612024cc84f8999ae5ec0a22e2517x1280x884.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/17fa4dd02dcc4822a252ebcf7c1c3e11x1280x884.JPEG"
    ]
  },
  {
    "text": "A patient presents with an amoebic liver abscess. He does not have any diarrhea or blood in his stool. His only complaint is vague abdominal pain. On examination of stool, cysts of Entamoeba histolytica are present. How would you treat this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Albendazole + Metronidazole"
      },
      {
        "id": 2,
        "text": "Metronidazole + Tinidazole"
      },
      {
        "id": 3,
        "text": "Metronidazole + Paromomycin"
      },
      {
        "id": 4,
        "text": "Paromomycin + Albendazole"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>This patient with an <strong>amoebic liver abscess </strong>and <strong>cysts </strong>in stool needs treatment with <strong>metronidazole</strong>\u00a0(or tinidazole) + a <strong>luminal amoebicide </strong>like <strong>paromomycin</strong>, diloxanide furoate, or iodoquinone.</p>\n<p>As metronidazole is so well absorbed in the gut, the levels may not be therapeutic in the colonic lumen. The drug is also less effective against cysts. Therefore, patients with amoebic colitis or amoebic liver abscess should receive a luminal agent in addition.</p>\n<p>Note: <strong>Albendazole</strong> is an <strong>antihelmintic</strong> drug, used to treat <strong>hydatid cyst</strong>, roundworms, hookworm, etc.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following antifungal drugs is matched correctly with its mechanism of action based on the image given below?",
    "choices": [
      {
        "id": 1,
        "text": "A - Flucytosine"
      },
      {
        "id": 2,
        "text": "B - Griseofulvin"
      },
      {
        "id": 3,
        "text": "C - Amphotericin"
      },
      {
        "id": 4,
        "text": "D - Terbinafine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Amphotericin B </strong>is an<strong> amphipathic molecule</strong> and incorporates itself in the cell membrane by actively binding to <strong>ergosterol</strong> (as shown in the image by '<strong>C</strong>'). This results in the formation of <strong>amphotericin-induced pores</strong> which cause leakage of the intracellular contents ultimately resulting in cell death.</p>\n<p>It is a <strong>broad-spectrum antifungal</strong> that can be used against<em> Candida albicans, Cryptococcus neoformans, Blastomyces dermatitidis, Histoplasma capsulatum, Sporothrix schenckii,&nbsp;</em><em>Coccidioides immitis, Aspergillus.</em></p>\n<p><strong>Amphotericin B</strong> also has <strong>antiprotozoal</strong> action along with antifungal properties and is effective against <strong><em>Leishmania</em></strong><em>.</em></p>\n<p><strong>Adverse effects</strong> of amphotericin B include:</p>\n<ul>\n<li>Infusion-related fever and chills</li>\n<li><strong>Azotemia/nephrotoxicity</strong>- all lipid formulations of amphotericin B are less nephrotoxic than conventional amphotericin B</li>\n<li><strong>Renal tubular acidosis&nbsp;</strong></li>\n<li>Renal wasting of potassium and magnesium</li>\n<li>Hypochromic normocytic anemia- due to decreased erythropoietin production from the kidney.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/93bd46631d294c00acd68ec7cf7bcbfb.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "True statement about teduglutide is :",
    "choices": [
      {
        "id": 1,
        "text": "It is a GLP- 2 analogue"
      },
      {
        "id": 2,
        "text": "It\u2019s half life is 6 - 8 hours"
      },
      {
        "id": 3,
        "text": "It is administered orally"
      },
      {
        "id": 4,
        "text": "It is recommended for patients with colorectal cancer"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Teduglutide </strong>is a<strong> GLP-2 analogue.</strong></p>\n<p>It has been recently approved for the <strong>treatment of short bowel syndrome.&nbsp;</strong>Teduglutide binds to enteric neurons and endocrine cells, stimulating the release of a number of hormones such as insulin-like growth factor, this <strong>stimulates mucosal epithelial growth</strong> and enhances fluid absorption.</p>\n<p>The drug has a<strong>&nbsp;t1/2 of 1&ndash;2 hours&nbsp;</strong>and is&nbsp;<strong>administered subcutaneously</strong>&nbsp;once daily. It can potentially cause<strong>&nbsp;bowel cancer,&nbsp;</strong>therefore it is not recommended for patients with active malignancies.</p>\n<p>Note: GLP-1 analogs are used for the treatment of Type II diabetes mellitus.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old female patient with early morning stiffness and chronic pain over small joints was diagnosed with rheumatoid arthritis. She has been on drugs for the past few years, without any improvement. Now, it has been decided to start her on biological agents. Which of the following will not be used in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "IL-17A antagonist"
      },
      {
        "id": 2,
        "text": "IL-1 receptor antagonist"
      },
      {
        "id": 3,
        "text": "IL-6 receptor antagonist"
      },
      {
        "id": 4,
        "text": "TNF-alpha antagonist"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>IL-17A antagonist</strong>&nbsp;is not used in the treatment of rheumatoid arthritis.</p>\n<p>IL-17A antagonists<strong>&nbsp;</strong>(secukinumab, ixekizumab) can be used in the treatment of moderate to severe plaque or scalp <strong>psoriasis</strong>.</p>\n<p>All the other 3 are&nbsp;biological <strong>D</strong>isease <strong>M</strong>odifying <strong>A</strong>nti-<strong>R</strong>heumatoid <strong>Drugs</strong>&nbsp;(<strong>DMARDs</strong>) used in the treatment of rheumatoid arthritis. All biological DMARDs <strong>downregulate the immune system</strong> and can lead to adverse effects like <strong>opportunistic infections</strong> and the flaring of latent TB.</p>\n<p>Other options:</p>\n<p>Option B:&nbsp;IL-1 receptor antagonist - anakinra</p>\n<p>Option C:&nbsp;IL-6 receptor antagonist - tocilizumab and sarilumab</p>\n<p>Option D:&nbsp;TNF&nbsp;&alpha; antagonist - adalimumab, golimumab, etanercept, etc.,</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presented to the casualty with signs of dehydration due to severe vomiting. The intern gave the patient a parenteral medication, following which the patient developed grimacing and abnormal posturing. What could have been the inciting drug for this reaction?",
    "choices": [
      {
        "id": 1,
        "text": "Atropine"
      },
      {
        "id": 2,
        "text": "Ranitidine"
      },
      {
        "id": 3,
        "text": "Metoclopramide"
      },
      {
        "id": 4,
        "text": "Domperidone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario describes the adverse effects characteristic of&nbsp;<strong>metoclopramide</strong>. The most common adverse effects of metoclopramide involve the central nervous system because it crosses the blood-brain&nbsp;barrier (BBB) and <strong>blocks </strong>the<strong> central D2 receptors</strong>.</p>\n<p>The adverse effects include:</p>\n<ul>\n<li>Restlessness</li>\n<li>Drowsiness</li>\n<li>Insomnia</li>\n<li>Anxiety</li>\n<li>Agitation&nbsp;</li>\n<li><strong>Extrapyramidal effects - </strong>acute reaction with high doses and long-term therapy. (due to&nbsp;central dopamine receptor blockade)\n<ul>\n<li>Dystonias</li>\n<li>Akathisia</li>\n<li>Parkinsonian features</li>\n<li>Tardive dyskinesia&nbsp;</li>\n</ul>\n</li>\n</ul>\n<p>Adverse events are more common among the elderly. Long-term use should be avoided unless absolutely necessary.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old man is on an antiglaucoma drug for the past 6 months. He now visits the OPD for a review checkup, and the following finding is observed. Which of the following drugs is most likely to cause this side effect?",
    "choices": [
      {
        "id": 1,
        "text": "Timolol"
      },
      {
        "id": 2,
        "text": "Latanoprost"
      },
      {
        "id": 3,
        "text": "Pilocarpine"
      },
      {
        "id": 4,
        "text": "Acetazolamide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows<strong> iris pigmentation</strong> and it is seen with <strong>topical PGF2&alpha; (prostaglandin) analogs </strong>like<strong> latanoprost.</strong></p>\n<p>Topical PGF2 alpha (prostaglandin) analogs are used as a first-line drug in glaucoma. <strong>Latanoprost</strong> is the<strong>&nbsp;most&nbsp;commonly</strong> used anti-glaucoma medication. Other prostaglandin analogs are travoprost, bimatoprost, tafluprost and unoprostone.</p>\n<p>It decreases intra-ocular pressure by enhancing the outflow of aqueous and by altering the ciliary muscle tension.</p>\n<p>Other adverse effects are eyelash lengthening, allergic conjunctival hyperemia, and orbital fat atrophy.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/81e4f9bef0c5420d8c72c4f0c33d772b.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient presented with palpitations and light-headedness. His ECG is shown below. Which of the following drugs is least likely to cause this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Quinidine"
      },
      {
        "id": 2,
        "text": "Disopyramide"
      },
      {
        "id": 3,
        "text": "Procainamide"
      },
      {
        "id": 4,
        "text": "Lidocaine"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given scenario and the ECG findings (<strong>rapid asynchronous complexes</strong> and an <strong>undulating</strong> <strong>baseline</strong>) point towards a diagnosis of <strong>torsades de pointes.</strong>\u00a0<strong>Lidocaine</strong> use is unlikely to cause this condition.</p>\n<p><strong>Lidocaine</strong> belongs\u00a0to class IB antiarrhythmics.\u00a0It is considered to have the <strong>least arrhythmogenic</strong> potential among antiarrhythmics.</p>\n<p>Among the antiarrhythmics, <strong>class Ia</strong> and <strong>class III</strong> drugs prolong action potential duration and thus <strong>prolong QT interval.</strong> They are also prone to cause torsades de pointes.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/00e9fd31a507460192d5b3caf8c74708.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "You are an intern posted in the surgery department. Your consultant asks you to prescribe a drug for a patient complaining of heartburn. What will you prescribe?",
    "choices": [
      {
        "id": 1,
        "text": "Pantoprazole 40mg OD 30 mins before lunch"
      },
      {
        "id": 2,
        "text": "Omeprazole 20mg OD 30 mins before breakfast"
      },
      {
        "id": 3,
        "text": "Omeprazole 20mg OD 30 mins before dinner"
      },
      {
        "id": 4,
        "text": "Pantoprazole 40mg BD irrespective of meals"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Omeprazole 20mg OD 30 mins before breakfast can be prescribed inthis patient. Heartburns are most effectively treated with<strong>\u00a0proton-pump inhibitors (PPI)\u00a0</strong>like<strong>\u00a0</strong>pantoprazole, omeprazole, and rabeprazole. PPIs should be ideally given <strong>30 minutes\u00a0before breakfast</strong>.</p>\n<p>PPIs are <strong>prodrugs</strong>, when ingested, get absorbed into the systemic circulation. It then diffuses into the parietal cells of the stomach and accumulates in the acidic secretory canaliculi. <strong>Acidic pH </strong>in the parietal cell canaliculi causes <strong>activation</strong> of the PPIs.\u00a0The maximum proton pump (H+ K+ ATPase) activation corresponds to the peak concentration of PPI resulting in maximum efficacy.</p>\n<p>Proton pumps are higher in number after a period of fasting. So, PPIs are usually given in the <strong>mornings before breakfast.</strong>\u00a0Food hinders the absorption of PPIs and decreases their bioavailability. Therefore, PPIs are given on an <strong>empty stomach</strong>, <strong>30 mins before taking food</strong>.</p>\n<p>PPIs are administered orally in <strong>enteric-coated</strong> or <strong>delayed-release</strong> capsules/ granules/ pellets/ oral suspension packets to prevent its degradation by the gastric acid.</p>\n<p>Common dosage of PPIs:</p>\n<ul>\n<li>Pantoprazole 40 mg OD</li>\n<li>Omeprazole 20-40 mg OD</li>\n<li>Rabeprazole 20 mg OD\u00a0</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient is given 200mg of a drug and 150 mg of the drug is excreted in 4 hours. If the elimination of the drug follows first-order kinetics, calculate its half-life?",
    "choices": [
      {
        "id": 1,
        "text": "3 hours"
      },
      {
        "id": 2,
        "text": "45 minutes"
      },
      {
        "id": 3,
        "text": "1 hour"
      },
      {
        "id": 4,
        "text": "2 hours"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The half-life of the given drug is <strong>2 hours.</strong></p>\n<p>In this case, the drug follows first-order kinetics. So&nbsp;the<strong> rate of elimination</strong> of the drug is directly<strong> proportional</strong> to the <strong>drug concentration</strong>. The <strong>half-life of the drug</strong> <strong>remains constant</strong> in first-order kinetics. The <strong>rate of clearance</strong> is also <strong>constant.</strong></p>\n<p>The amount of drug eliminated and the drug that remains after each half-life is given below.</p>\n<table style=\"width: 328px; height: 151.891px;\">\n<tbody>\n<tr style=\"height: 67.1953px;\">\n<td style=\"width: 80.3645px; height: 67.1953px;\"><strong>Half-life</strong></td>\n<td style=\"width: 111.294px; height: 67.1953px;\"><strong>Elimination (%)</strong></td>\n<td style=\"width: 93.7474px; height: 67.1953px;\"><strong><strong>Drug left in the body</strong></strong><strong>(%)</strong></td>\n</tr>\n<tr style=\"height: 17.5px;\">\n<td style=\"width: 80.3645px; height: 17.5px;\">First</td>\n<td style=\"width: 111.294px; height: 17.5px;\">50</td>\n<td style=\"width: 93.7474px; height: 17.5px;\">&nbsp;50</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 80.3645px; height: 22.3984px;\">Second</td>\n<td style=\"width: 111.294px; height: 22.3984px;\">75</td>\n<td style=\"width: 93.7474px; height: 22.3984px;\">&nbsp;25</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 80.3645px; height: 22.3984px;\">Third</td>\n<td style=\"width: 111.294px; height: 22.3984px;\">87.5</td>\n<td style=\"width: 93.7474px; height: 22.3984px;\">&nbsp;12.5</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 80.3645px; height: 22.3984px;\"><strong>Fourth</strong></td>\n<td style=\"width: 111.294px; height: 22.3984px;\"><strong>93.75</strong></td>\n<td style=\"width: 93.7474px; height: 22.3984px;\">&nbsp;<strong>6.25</strong></td>\n</tr>\n</tbody>\n</table>\n<p>In this case, 200 mg was given initially and 150mg is excreted in 4 hours.</p>\n<p>So percentage of drug eliminated in 4 hours = 150/200 x 100 = 75%</p>\n<p>75% of the drug is eliminated in 4 hours. It takes 2 half-lives to eliminate 75% of the drug.</p>\n<p>Hence 4 hours = 2 half-lives. In first-order kinetics, the half-life is always constant.</p>\n<p>Therefore the <strong>half-life of the drug = 2 hours</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presented with lethargy and muscle cramps. He was diagnosed with SIADH. Which of the following drugs can be administered orally for the management of his condition?",
    "choices": [
      {
        "id": 1,
        "text": "Terlipressin"
      },
      {
        "id": 2,
        "text": "Tolvaptan"
      },
      {
        "id": 3,
        "text": "Conivaptan"
      },
      {
        "id": 4,
        "text": "Desmopressin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Tolvaptan</strong> is a selective <strong>oral V2 receptor antagonist</strong>\u00a0that is FDA-approved for and is\u00a0effective in\u00a0clinically significant\u00a0<strong>hyponatremia</strong> associated with<strong> SIADH</strong>.</p>\n<p><strong>SIADH</strong> is a condition where there is an inappropriate release of antidiuretic hormone or arginine vasopressin (AVP) from\u00a0ectopic production of AVP. This may be from lung cancer and other neoplasms, increased release induced by various diseases, drugs, or exogenous administration of AVP.\u00a0It is characterized by <strong>impaired water excretion</strong> leading to <strong>hyponatremia</strong> with<strong> euvolemia</strong> or<strong> hypervolemia.\u00a0</strong></p>\n<p>ADH promotes the reabsorption of water and not the solutes resulting in\u00a0<strong>concentrated urine.</strong> This is depicted as <strong>high urine osmolality</strong>.</p>\n<p>Patients usually present with hyponatremia with a euvolemic status. If hyponatremia develops acutely, signs and symptoms may include mild headache, confusion, anorexia, nausea, vomiting, coma, and convulsions.\u00a0Chronic hyponatremia allows cerebral adaptation, and the patients are asymptomatic despite the hyponatremia.</p>\n<p>Laboratory findings in SIADH:</p>\n<ul>\n<li>Hyponatremia: <strong>serum Na<sup>+</sup>&lt;135 mEq/L</strong></li>\n<li><strong>Urinary loss of Na<sup>+ </sup>&gt;25 mEq per day or &gt;40 mEq/L</strong>\u00a0</li>\n<li><strong>Urinary osmolality is &gt;100 mOsm/kg</strong></li>\n<li>Blood urea nitrogen (BUN) levels are low, usually &lt;10 mg/dL</li>\n<li>Serum K<sup>+</sup> and serum bicarbonate are normal</li>\n</ul>\n<p>Treatment: Hyponatremia should be corrected gradually. Restriction of the total fluid intake.\u00a0Sodium levels can be corrected using <strong>hypertonic saline</strong>.<strong> Tolvaptan</strong> and conivaptan are <strong>vasopressin receptor-2 antagonists</strong> that block the action of anti-diuretic hormones. Other drugs which are useful in the management are <strong>demeclocycline</strong> and <strong>fludrocortisone</strong>.</p>\n<p>Other options:</p>\n<p>Options A and D:<strong> Terlipressin </strong>and <strong>desmopressin</strong> are not used in the treatment of SIADH. SIADH is a condition of inappropriate ADH secretion.\u00a0Since excess vasopressin is the cause of SIADH, giving vasopressin analogs as desmopressin would only<strong> worsen</strong> the condition.\u00a0</p>\n<p>Option C:<strong> Conivaptan</strong> is a nonselective V1a receptor/V2 receptor antagonist that is FDA-approved for the treatment of hospitalized patients with euvolemic and hypervolemic hyponatremia. It is available only for <strong>intravenous</strong> infusion.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following pairs of drugs with their antidotes.",
    "choices": [
      {
        "id": 1,
        "text": "1-b, 2-d, 3-a, 4-c"
      },
      {
        "id": 2,
        "text": "1-b, 2-c, 3-a, 4-d"
      },
      {
        "id": 3,
        "text": "1-b, 2-a, 3-c, 4-d"
      },
      {
        "id": 4,
        "text": "1-b, 2-a, 3-d, 4-c"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Option B </strong>is<strong> correctly matched.</strong></p>\n<table style=\"height: 61px; width: 285px;\">\n<tbody>\n<tr>\n<td style=\"width: 121.367px; text-align: center;\"><strong>Drug\u00a0</strong></td>\n<td style=\"width: 135.414px; text-align: center;\"><strong>Antidote</strong></td>\n</tr>\n<tr>\n<td style=\"width: 121.367px;\"><strong>1</strong>. Heparin</td>\n<td style=\"width: 135.414px;\"><strong>b</strong>. Protamine sulfate</td>\n</tr>\n<tr>\n<td style=\"width: 121.367px;\"><strong>2</strong>. Dabigatran</td>\n<td style=\"width: 135.414px;\"><strong>c</strong>. Idarucizumab</td>\n</tr>\n<tr>\n<td style=\"width: 121.367px;\"><strong>3</strong>. Warfarin</td>\n<td style=\"width: 135.414px;\"><strong>a</strong>.\u00a0Vitamin K</td>\n</tr>\n<tr>\n<td style=\"width: 121.367px;\"><strong>4</strong>. Rivaroxaban</td>\n<td style=\"width: 135.414px;\"><strong>d</strong>. Andexanet alfa</td>\n</tr>\n</tbody>\n</table>\n<p><br />Heparin - Protamine sulfate(1-b) :</p>\n<p><strong>Protamine sulfate</strong> is indicated for the reversal of<strong> heparin overdose</strong>. It binds to <strong>long heparin molecules</strong> with high affinity and neutralizes anticoagulant activity. Therefore, it <strong>completely reverses</strong> the action of unfractionated heparin but only <strong>partially reverses the action</strong> of low-molecular-weight heparin (LMWH). It has no effect on fondaparinux.</p>\n<p>Dabigatran - Idarucizumab (2-c) :</p>\n<p><strong>Idarucizumab</strong>\u00a0is a monoclonal antibody that specifically acts as a <strong>reversal agent </strong>for<strong> dabigatran</strong>. It has a 350 times higher affinity for dabigatran than dabigatran for thrombin. Hence, it forms a complex with dabigatran, which is excreted by the kidneys.</p>\n<p>Warfarin - Vitamin K (3-a) :</p>\n<p><strong>Vitamin K</strong> is given orally as well as intravenously to treat <strong>warfarin toxicity</strong>. It causes the reversal of anticoagulation effects of warfarin by synthesis of vitamin K\u2013dependent coagulation factors (II, VII, IX, X).</p>\n<p>Rivaroxaban - Andexanet alfa (4-d) :</p>\n<p><strong>Andexanet alfa</strong> is a\u00a0recombinant analog of factor Xa and is used as a <strong>reversal agent</strong> for\u00a0<strong>oral factor Xa inhibitors</strong>\u00a0like rivaroxaban, edoxaban, and apixaban.\u00a0It rapidly reverses the action of these drugs and restores thrombin generation. It is given intravenously.</p>\n<p>Note:</p>\n<div>\n<p><strong>Ciraparantag\u00a0</strong>is considered a potential <strong>reversal agent agains</strong>t <strong>all direct </strong><strong>anticoagulants,\u00a0</strong>including dabigatran, rivaroxaban, apixaban, and edoxaban, as well as heparin and LMWH. This drug is in the early stages of development.</p>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The drug of choice for the management of acute  alcohol withdrawal is?",
    "choices": [
      {
        "id": 1,
        "text": "Disulfiram"
      },
      {
        "id": 2,
        "text": "Benzodiazepines"
      },
      {
        "id": 3,
        "text": "Fomepizole"
      },
      {
        "id": 4,
        "text": "Naltrexone"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Benzodiazepines</strong> are the treatment of choice for the management of&nbsp;<strong>acute alcohol withdrawal.&nbsp;</strong>It is used to <strong>prevent the progression</strong> from minor withdrawal&nbsp;symptoms to major ones, such as <strong>seizures</strong> and <strong>delirium tremens</strong>.</p>\n<p>FDA-approved drugs used in the management of alcohol use disorder are:</p>\n<ul>\n<li><strong>Disulfiram:</strong>&nbsp;It inhibits the enzyme <strong>aldehyde dehydrogenase</strong>. It is used as an <strong>aversive drug</strong> and causes adverse effects when taken with alcohol. Therefore, it should not be administered until the patient has abstained&nbsp;from alcohol for at least 12 hours.</li>\n<li><strong>Naltrexone:</strong>&nbsp;It is a&nbsp;&mu;-opioid receptor antagonist. It decreased drinking by decreasing the feeling of reward with alcohol or decreasing craving.</li>\n<li><strong>Acamprosate:</strong>&nbsp;It may act by blocking hyperglutamatergic state and decreases craving.</li>\n<li><strong>Benzodiazepines:</strong>&nbsp;They act by increasing the binding of GABA to GABA<sub>A</sub> receptors. They are the&nbsp;<strong>drugs of choice</strong> for the management of <strong>acute alcohol withdrawal</strong>.</li>\n<li><strong>Fomepizole:</strong>&nbsp;It is used in the management of <strong>methanol poisoning</strong>. It acts by <strong>inhibiting</strong> the enzyme <strong>alcohol dehydrogenase</strong>.</li>\n</ul>\n<p>Other drugs that are commonly used&nbsp; in the management of alcohol use disorder, but not approved by the FDA are:</p>\n<ul>\n<li>Gabapentin: It blocks voltage-gated calcium channels</li>\n<li><strong>Varenicline</strong>: It is a partial or full agonist at central nicotinic AChR subtypes. It is used to decrease alcohol consumption and <strong>smoking cessation</strong>.</li>\n<li class=\"p1\">Nalmefene: It is an antagonist of &mu;- and &kappa;-opioid receptors. It is also used to treat opioid overdose or dependence.</li>\n<li class=\"p1\"><strong>Baclofen</strong>: It is a GABA<sub>B </sub>receptor agonist. It acts as a <strong>skeletal muscle relaxant</strong> and is used in the management of spasticity.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not true about beta-blockers?",
    "choices": [
      {
        "id": 1,
        "text": "Atenolol is longer acting than metoprolol"
      },
      {
        "id": 2,
        "text": "Labetalol has both alpha and beta blocking action"
      },
      {
        "id": 3,
        "text": "Celiprolol undergoes hepatic elimination"
      },
      {
        "id": 4,
        "text": "Nadolol has longest half life"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Celiprolol&nbsp;</strong>is excreted predominantly through the <strong>renal</strong> route. It is excreted unchanged in the urine.</p>\n<p>Option A: Atenolol is longer acting with a longer half-life than metoprolol. It is usually administered once daily.</p>\n<p>Option C: Labetalol is a non-selective &beta;-blocker with &alpha;<sub>1</sub> blocking action similar to carvedilol.</p>\n<p>Option D: Nadolol has the longest half-life of 20 hours and is administered once daily.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following antibiotics bind to the subunit of the ribosome marked by the black arrow and inhibits bacterial protein synthesis?",
    "choices": [
      {
        "id": 1,
        "text": "Chloramphenicol"
      },
      {
        "id": 2,
        "text": "Tetracycline"
      },
      {
        "id": 3,
        "text": "Erythromycin"
      },
      {
        "id": 4,
        "text": "Clindamycin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Tetracycline</strong> binds to the <strong>30S</strong> subunit of the ribosome and <strong>inhibits</strong> bacterial <strong>protein synthesis.</strong></p>\n<p>Protein synthesis is important for maintaining certain vital functions in bacteria. Hence by interrupting the protein synthesis, they act as <strong>bacteriostatic agents</strong>.</p>\n<p>Antibacterial which binds to the<strong> 30s subunit of 70s ribosome.</strong></p>\n<ul>\n<li>Tetracyclines</li>\n<li>Aminoglycosides</li>\n</ul>\n<p>Antibacterials that bind to <strong>50s subunit of 70s ribosome.</strong></p>\n<ul>\n<li>Macrolides</li>\n<li>Clindamycin</li>\n<li>Streptogramins</li>\n<li>Chloramphenicol</li>\n<li>Linezolid</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8601d74ed10f4206ba871098f231f1db.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 20-year-old male patient presents to the emergency department with complaints of breathing difficulty, facial swelling, and palpitations following a bee sting. He was immediately given an intramuscular injection of a drug in 1:1000 dilution. The drug acts on which of the following receptor to improve the patient's breathing difficulty?",
    "choices": [
      {
        "id": 1,
        "text": "Beta 2"
      },
      {
        "id": 2,
        "text": "Beta 1"
      },
      {
        "id": 3,
        "text": "Alpha 2"
      },
      {
        "id": 4,
        "text": "Alpha 1"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The patient's complaints of\u00a0breathing difficulty, facial swelling, and palpitations following a bee sting are suggestive of anaphylactic shock. The <strong>drug\u00a0of choice</strong> for anaphylaxis is <strong>intramuscular adrenaline</strong> (<strong>0.5ml in 1:1000 dilution</strong>). Activation of <strong>beta 2</strong> receptors causes<strong> bronchodilation</strong>. Hence, adrenaline action on the beta 2 receptors improves the breathing difficulty in this patient. Apart from this, beta 2 receptors also inhibit the secretion from mast cells.</p>\n<p><strong>Other options:</strong></p>\n<table style=\"height: 99px;\" width=\"456\">\n<tbody>\n<tr>\n<td style=\"width: 86.28125px;\"><strong>Receptor</strong></td>\n<td style=\"width: 157.734375px;\"><strong>Action</strong></td>\n<td style=\"width: 190.015625px;\"><strong>Use in anaphylaxis treatment\u00a0</strong></td>\n</tr>\n<tr>\n<td style=\"width: 86.28125px;\">Alpha 1 and Alpha 2</td>\n<td style=\"width: 157.734375px;\">Vasoconstriction</td>\n<td style=\"width: 190.015625px;\">Increase in BP</td>\n</tr>\n<tr>\n<td style=\"width: 86.28125px;\">Beta 1</td>\n<td style=\"width: 157.734375px;\">Cardiac stimulation</td>\n<td style=\"width: 190.015625px;\">Increase in BP</td>\n</tr>\n<tr>\n<td style=\"width: 86.28125px;\">Beta 2</td>\n<td style=\"width: 157.734375px;\">Bronchodilation</td>\n<td style=\"width: 190.015625px;\">Reverse bronchoconstriction\u00a0</td>\n</tr>\n</tbody>\n</table>\n<p><br />The net effect of adrenaline on BP: Adrenaline rapidly <strong>increases blood pressure</strong> by reversing vasodilation and improving cardiac output. This is critical for preventing shock and ensuring adequate perfusion to vital organs during anaphylaxis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is true about prasugrel?",
    "choices": [
      {
        "id": 1,
        "text": "It is a reversible inhibitor of ADP receptor"
      },
      {
        "id": 2,
        "text": "Has a slower onset of action than clopidogrel"
      },
      {
        "id": 3,
        "text": "It is contraindicated in cerebrovascular accidents"
      },
      {
        "id": 4,
        "text": "Dose adjustment is needed in renal impairment"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Prasugrel is <strong>contraindicated</strong> in&nbsp;cerebrovascular accidents as it&nbsp;is associated with higher rates of fatal and life-threatening bleeding.&nbsp;</p>\n<p>Option A: It is an <strong>irreversible</strong> inhibitor of the ADP (P2Y<sub>12</sub>) receptor of platelets.</p>\n<p>Option B: It has a <strong>faster</strong> onset of action and produces&nbsp;greater inhibition of platelets than clopidogrel.&nbsp;</p>\n<p>Option D: <strong>Dose adjustment</strong>&nbsp;is<strong> not needed</strong> in moderate hepatic and renal impairment.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following antiretroviral drugs with their important adverse effects.",
    "choices": [
      {
        "id": 1,
        "text": "1-a. 2-c, 3-b, 4-d"
      },
      {
        "id": 2,
        "text": "1-c. 2-a, 3-b, 4-d"
      },
      {
        "id": 3,
        "text": "1-c. 2-b, 3-a, 4-d"
      },
      {
        "id": 4,
        "text": "1-c. 2-d, 3-b, 4-a"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option <strong>B</strong> is correctly matched.</p>\n<table style=\"height: 173px; width: 387.28125px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 149px; text-align: center; height: 18px;\"><strong>Antiretroviral drug</strong></td>\n<td style=\"width: 240.28125px; text-align: center; height: 18px;\"><strong>Adverse effect</strong></td>\n</tr>\n<tr style=\"height: 24px;\">\n<td style=\"width: 149px; height: 24px;\">\n<p><strong>1.\u00a0</strong>Didanosine</p>\n</td>\n<td style=\"width: 240.28125px; height: 24px;\">\n<p><strong>c.\u00a0</strong>Peripheral neuropathy</p>\n</td>\n</tr>\n<tr style=\"height: 45px;\">\n<td style=\"width: 149px; height: 45px;\">\n<p><strong>2.\u00a0</strong>Abacavir</p>\n</td>\n<td style=\"width: 240.28125px; height: 45px;\">\n<p><strong>a.\u00a0</strong>Hypersensitivity syndrome\u00a0</p>\n</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 149px; height: 18px;\">\n<p><strong>3.\u00a0</strong>Indinavir</p>\n</td>\n<td style=\"width: 240.28125px; height: 18px;\">\n<p><strong>b.\u00a0</strong>Nephrolithiasis</p>\n</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 149px; height: 18px;\">\n<p><strong>4.\u00a0</strong>Enfuvirtide</p>\n</td>\n<td style=\"width: 240.28125px; height: 18px;\"><strong>d.\u00a0</strong>Injection-site reactions</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Didanosine</strong>\u00a0is a <strong>nucleoside reverse transcriptase inhibitor</strong> (NRTI) used in the treatment of HIV-1, HIV-2, and HTLV-1. <strong>Peripheral neuropathy</strong> characterized by pain, numbness, and tingling in glove and stock pattern, and <strong>pancreatitis</strong> are the most adverse effects of this drug. <strong>Stavudine</strong>, another NRTI, also causes similar adverse effects.\u00a0</p>\n<p><strong>Abacavir</strong> is also an NRTI approved for the treatment of HIV-1 infection. The most serious adverse effect of abacavir is a <strong>hypersensitivity syndrome</strong> characterized by fever, maculopapular rash, abdominal pain, gastrointestinal upset, malaise, and fatigue.</p>\n<p><strong>Indinavir</strong> is a <strong>protease inhibitor</strong>\u00a0that has a unique adverse effect of <strong>nephrolithiasis</strong> and <strong>crystalluria</strong>. It is also associated with asymptomatic unconjugated <strong>hyperbilirubinemia</strong>, <strong>hyperglycemia</strong>, and insulin resistance.</p>\n<p><strong>Enfuvirtide</strong> is an <strong>entry (fusion) inhibitor</strong> that binds to the transmembrane gp41 of HIV-1 and blocks its entry into the host cells. It is the only approved<strong> parenteral</strong> antiretroviral drug and therefore,<strong> injection-site reactions</strong> like pain, erythema, induration, and nodules/cysts development are most frequently seen.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following anti-tubercular drug is not bactericidal?",
    "choices": [
      {
        "id": 1,
        "text": "Isoniazid"
      },
      {
        "id": 2,
        "text": "Rifapentin"
      },
      {
        "id": 3,
        "text": "Thioacetazone"
      },
      {
        "id": 4,
        "text": "Kanamycin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Thioacetazone</strong>&nbsp;is not a bactericidal drug, it is <strong>bacteriostatic.</strong></p>\n<p>Thioacetazone is never used alone. It is only used as a combination with first-line TB medications, such as isoniazid and rifampicin. It is used primarily to prevent the development of bacteria that are resistant to first-line drugs and to treat patients infected with <strong>drug-resistant TB</strong>.</p>\n<p>It should <strong>never </strong>be used in<strong> HIV patients</strong> as it&nbsp;can cause severe and fatal skin reactions. Side-effects&nbsp;include gastrointestinal disturbances, blurring of vision,&nbsp;hemolytic anemia and urticaria.</p>\n<p><strong>Isoniazid</strong> is a first-line bactericidal drug that is active against both intracellular and&nbsp;extracellular bacilli.</p>\n<p><strong>Rifapentin</strong>&nbsp;is a rifampin congener having a similar&nbsp;mechanism of action. It is a bactericidal drug having a longer half-life than rifampin.</p>\n<p><strong>Kanamycin</strong> is&nbsp;bactericidal and is active against bacilli&nbsp;resistant to streptomycin, INH, and cycloserine.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 2-year-old child diagnosed with bronchial asthma requires bronchodilator therapy. Which of the following device will you prescribe for this child, to avoid oropharyngeal adverse effects?",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\">The device in image 3 is a\u00a0<strong>spacer device </strong>that can be prescribed to<strong>\u00a0</strong><strong>decrease\u00a0</strong>the incidence of propellant-mediated <strong>oropharyngeal adverse effects</strong>.</p>\n<p style=\"text-align: left;\">Spacers reduce the velocity and size of particles entering the upper airways.\u00a0This<strong>\u00a0</strong>reduces the amount of drug depositing in the oropharynx and increases the proportion of drugs inhaled into the lower airways. Thus, a less amount of the drug gets swallowed and absorbed from the GI tract and limits local side effects.\u00a0</p>\n<p style=\"text-align: left;\">Spacer devices are <strong>useful</strong> in delivering inhaled drugs to <strong>children</strong>\u00a0who are not able to use a pMDI alone but can also be used by <strong>adults</strong> for better drug delivery. The image below shows the use of a spacer device with a face mask which is preferred in children younger than 3 years of age.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9d49df501d8440d3bbffd6ee3c455cc4.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dcf1afee41f64b98a0129246c3cb0a72x720x404.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c79334e432384464a4db8f878ca4023bx720x540.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cf3ec9228e96415da2ec3c3932577099x596x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3fe2da00a2b7445d8a99ec027efeab5ax799x533.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2687fee5df024653908a0728befd85afx1024x683.JPEG"
    ]
  },
  {
    "text": "A patient with chronic myeloid leukemia was switched to nilotinib as he showed only partial response to imatinib therapy. What is the mechanism resulting in the loss of response?",
    "choices": [
      {
        "id": 1,
        "text": "Amplification of wild-type kinase gene"
      },
      {
        "id": 2,
        "text": "Increased efflux"
      },
      {
        "id": 3,
        "text": "Point mutations in kinase domain"
      },
      {
        "id": 4,
        "text": "Overexpression of MDR gene"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given scenario is suggestive of the <strong>development</strong> of <strong>resistance</strong> to <strong>imatinib,</strong> which is a <strong>tyrosine kinase inhibitor</strong>. This condition arises due to <strong>point mutations</strong> in three separate regions of the <strong>kinase domain</strong>.</p>\n<p>The contact points between imatinib and the enzyme become sites of mutations in drug-resistant leukemic cells and hence these <strong>mutations prevent tight binding</strong> of the <strong>drug</strong> and lock the enzyme in its open configuration (the configuration in which it has access to the substrate and is enzymatically active).</p>\n<p>Mechanisms other than BCR-ABL kinase mutations play a minor role in resistance to imatinib. They include:</p>\n<ul>\n<li>Amplification of the wild-type kinase gene has been identified in some cases.</li>\n<li>Overexpression of MDR-gene leading to increased drug efflux transporter has been shown experimentally but not implicated in clinical resistance.</li>\n</ul>\n<p>Nilotinib retains inhibitory activity in the presence of most point mutations that confer resistance to imatinib.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young woman is taking regular oral contraceptive pills. Additional contraceptive measures will be required if there is concomitant use of:",
    "choices": [
      {
        "id": 1,
        "text": "Phenytoin"
      },
      {
        "id": 2,
        "text": "Ciprofloxacin"
      },
      {
        "id": 3,
        "text": "Omeprazole"
      },
      {
        "id": 4,
        "text": "Grapefruit juice"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Phenytoin&nbsp;</strong>is an <strong>enzyme inducer </strong>and can cause increased metabolism of oral contraceptive pills (OCPs) leading to <strong>contraceptive failure</strong>. Hence, additional&nbsp;contraceptive measures will be required if there is concomitant use of phenytoin with OCPs.</p>\n<p>Ciprofloxacin, omeprazole, and grapefruit juice are&nbsp;<strong>enzyme inhibitors</strong> that inhibit the degradation of OCPs and <strong>increase</strong> their <strong>duration</strong> of <strong>action.</strong></p>\n<p><strong>CYP450 enzyme inducers:</strong></p>\n<ul>\n<li>Carbamazepine</li>\n<li>Cigarette smoking</li>\n<li>Rifampicin</li>\n<li>Alcohol (chronic)</li>\n<li><strong>Phenytoin</strong></li>\n<li>Phenobarbitone</li>\n</ul>\n<p><strong>CYP 450 enzyme inhibitors:</strong></p>\n<ul>\n<li>Sodium valproate</li>\n<li>SSRIs - fluoxetine, fluvoxamine, paroxetine, sertraline</li>\n<li>Azole antifungals - ketoconazole, itraconazole, fluconazole</li>\n<li>Erythromycin, clarithromycin</li>\n<li><strong>Ciprofloxacin</strong></li>\n<li><strong>Omeprazole</strong></li>\n<li><strong>Grapefruit juice</strong>&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 65-year-old man with a history of chronic kidney disease and creatinine of 4.1mg/dl,  presents to the emergency department with severe pain in his great toe for the past 3 hours. On examination, his big toe of the right foot is red and tender. Joint aspiration shows no white cells but shows needle-shaped negatively birefringent crystals. What is the drug of choice in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Indomethacin"
      },
      {
        "id": 2,
        "text": "Triamcinolone"
      },
      {
        "id": 3,
        "text": "Colchicine"
      },
      {
        "id": 4,
        "text": "Febuxostat"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This elderly patient with a swollen, painful big toe and needle-shaped, negatively birefringent crystals on synovial tap has&nbsp;<strong>acute gout. </strong>Due to coexisting <strong>chronic kidney disease, </strong>the drug of choice in him is <strong>intra-articular steroids </strong>like <strong>triamcinolone </strong>or <strong>methylprednisolone.</strong></p>\n<p>The drug of choice is an acute attack of gout is <strong>NSAIDs </strong>(Non-steroidal anti-inflammatory drugs) like <strong>indomethacin </strong>or the drug <strong>colchicine, </strong>but they are poorly tolerated and should <strong>not </strong>be used in <strong>elderly </strong>patients <strong>with</strong> <strong>chronic kidney </strong>disease.</p>\n<p>Drugs used in the management of gout can be classified as:</p>\n<p>Drugs that <strong>relieve inflammation and pain</strong>- These drugs are useful in the management of <strong>acute attacks of gout</strong>. They are:</p>\n<ul>\n<li><strong>NSAIDs</strong>- They mainly exert their antiinflammatory action by inhibiting cyclooxygenase enzyme (COX).&nbsp;This enzyme converts arachidonic acid to&nbsp;prostanoids, thromboxane A2, and other prostaglandins.&nbsp;</li>\n<li><strong>Colchicine</strong>-&nbsp;It arrests the cell division in G<span class=\"s1\">1 </span>by interfering with microtubule and spindle formation. This results in decreased neutrophil recruitment, decreased neutrophil motility, and decreased release of chemotactic factors.&nbsp;</li>\n<li><strong>Glucocorticoids</strong>- These drugs bind to the nuclear receptors and decrease the transcription of genes for&nbsp;COX-2, inducible NOS (NOS2), inflammatory cytokines, collagenase, etc, that are responsible for inflammation.</li>\n</ul>\n<p>Drugs that inhibit urate formation- These drugs inhibit urate formation by inhibiting the enzyme xanthine oxidase. Eg. allopurinol and febuxostat</p>\n<p>Uricosuric drugs- These drugs increase the excretion of uric acid. Important ones are:</p>\n<ul>\n<li><strong>Probenecid-</strong> it&nbsp;inhibits the reabsorption of uric acid by inhibiting organic acid transporter (OATs), principally URAT-1.</li>\n<li><strong>Benzbromarone</strong>- It increases uric acid secretion by&nbsp;reversibly inhibiting urate&ndash;anion exchanger in the proximal tubule</li>\n<li><strong>Lesinurad</strong>- It&nbsp;inhibits the URAT-1 and OAT-4 transporters, thereby reducing renal uric acid reabsorption.</li>\n</ul>\n<p>Pegloticase and rasburicase catalyze the enzymatic oxidation of uric acid into allantoin. This product is soluble and inactive.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with bronchial asthma was treated with regular inhaled corticosteroids. He is now commenced on theophylline as an add-on therapy. By which of the following mechanism does this drug enhance the effect of corticosteroids?",
    "choices": [
      {
        "id": 1,
        "text": "Phosphodiesterase inhibition"
      },
      {
        "id": 2,
        "text": "Blockade of adenosine receptors"
      },
      {
        "id": 3,
        "text": "Interleukin-10 release"
      },
      {
        "id": 4,
        "text": "Activation of histone deacetylase"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p style=\"text-align: left;\">Theophylline enhances the effect of corticosteroids by activation of histone deacetylase.</p>\n<p style=\"text-align: left;\">Theophylline activates <strong>histone deacetylase-2</strong>. The recruitment of histone deacetylase-2 by glucocorticoid receptors (GRs) switches off inflammatory genes. Through this mechanism, theophylline enhances<strong> </strong>the anti-inflammatory<strong> </strong>effects of corticosteroids.</p>\n<p style=\"text-align: left;\">Theophylline is a methylxanthine drug used in the management of asthma and chronic obstructive pulmonary disease. Its other mechanisms of action are as follows:</p>\n<ul style=\"text-align: left;\">\n<li>Inhibits<strong>\u00a0</strong>phosphodiesterase<strong> </strong>non-selectively, (<strong>PDE3, </strong>PDE4, and PDE5) thereby, increasing cellular cAMP and cGMP,\u00a0causing bronchodilation</li>\n<li>Adenosine causes bronchoconstriction by releasing histamine and leukotrienes. Theophylline antagonizes adenosine<strong> </strong>receptors\u00a0causing bronchodilation</li>\n<li>Increases <strong>IL-10 release</strong>, which has an anti-inflammatory effect</li>\n<li>Decreases gene transcription of pro-inflammatory cytokines</li>\n<li>Promotes apoptosis of granulocytes,\u00a0reducing the inflammatory load in the airways</li>\n</ul>\n<p style=\"text-align: left;\">Theophylline is mainly metabolized by the enzyme CYP1A2 enzyme.<strong>\u00a0</strong>Various\u00a0<strong>drug interactions </strong>of theophylline\u00a0include:</p>\n<ul style=\"text-align: left;\">\n<li>Increased clearance (CYP1A2 enzyme induction) by\u00a0smoking,\u00a0phenytoin,\u00a0<strong>rifampicin</strong>, and phenobarbitone.</li>\n<li>Decreased clearance (CYP1A2 enzyme inhibition) by <strong>erythromycin</strong>, cimetidine, ciprofloxacin,\u00a0<strong>oral contraceptives</strong>, and allopurinol.</li>\n</ul>\n<p style=\"text-align: left;\">Important side effects of this drug due to PDE4 antagonism are nausea, vomiting, and <strong>gastric discomfort</strong>, and those due to adenosine A1 receptor antagonism are diuresis, <strong>cardiac arrhythmias</strong>, and seizures.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A pregnant woman presents to your OPD with severe constipation. After ruling out pathological causes, which of the following is the safest to prescribe?",
    "choices": [
      {
        "id": 1,
        "text": "Senna"
      },
      {
        "id": 2,
        "text": "Bisacodyl"
      },
      {
        "id": 3,
        "text": "Docusates"
      },
      {
        "id": 4,
        "text": "Lactulose"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Lactulose</strong> is safe to use in pregnant women with constipation.</p>\n<p><strong>Constipation in pregnancy:</strong></p>\n<p>Constipation is a common occurrence in pregnancy because of dietary alterations, anatomic impingement of a large uterus on the rectosigmoid, fluid shifts, decreased exercise levels, and reduced mobility. Pregnancy and pregnancy-related constipation increases the risk for developing haemorrhoids.</p>\n<p>Treatment options include</p>\n<ul>\n<li>Dietary changes - increased water intake, increased fibre in diet</li>\n<li>Gentle exercises</li>\n<li>Laxatives - <strong>Lactulose, </strong>an osmotic purgative,<strong>&nbsp;</strong>and <strong>Ispaghula,</strong> a bulk forming agent, are safe to use in pregnancy.&nbsp;</li>\n</ul>\n<p>Senna, bisacodyl, docusates and saline laxatives&rsquo; <strong>safety</strong> is <strong>unknown</strong> and hence it is better to <strong>avoid</strong> them.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old female patient had 6 attacks of migraine in the last month and was treated for the same. She is not able to tolerate the pain during attacks and came to the hospital asking for medication that can prevent these attacks in the future. Which of the following drugs can be used in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Nimodipine"
      },
      {
        "id": 2,
        "text": "Fluoxetine"
      },
      {
        "id": 3,
        "text": "Diltiazem"
      },
      {
        "id": 4,
        "text": "Topiramate"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Topiramate</strong> can be used in this patient to <strong>prevent migraine</strong> attacks.</p>\n<p>In patients with&nbsp;<strong>&ge;4 attacks </strong>of migraine in a<strong> month</strong>, <strong>prophylactic</strong> medications can be used. The various FDA-approved drugs include <strong>propranolol,</strong> timolol, rimegepant, sodium valproate, <strong>topiramate,</strong> eptinezumab, erenumab, fremanezumab, and galcanezumab.</p>\n<p>Drugs used for <strong>prophylaxis</strong> of migraine:</p>\n<ul>\n<li>Beta blockers: Propranolol, metoprolol, timolol, atenolol</li>\n<li>Antidepressants: Amitriptyline, nortriptyline, imipramine</li>\n<li>Anticonvulsants: Valproate, <strong>topiramate</strong></li>\n<li>Serotonin antagonist: Methysergide</li>\n<li>Angiotensin II receptor blocker: Candesartan</li>\n<li>Angiotensin-converting enzyme inhibitor: Lisinopril</li>\n<li>Calcium channel blockers: Flunarizine</li>\n</ul>\n<p>Other modalities of preventive treatment:</p>\n<ul>\n<li><strong>Onabotulinum toxin type A</strong> is used in the prevention of <strong>chronic migraine</strong></li>\n<li>Neuromodulation: A single-pulse transcranial magnetic stimulation (sTMS)&nbsp;is delivered with a hand-held device (FDA approved) that creates a fluctuating magnetic field which triggers an electric current that modifies cortical excitability.</li>\n</ul>\n<p><strong>No role in prophylaxis :</strong></p>\n<ul>\n<li>Calcium channel blockers: Verapamil, nimodipine, diltiazem.&nbsp;</li>\n<li>&alpha;2 adrenergic agonist: Clonidine.&nbsp;</li>\n<li>Selective serotonin reuptake inhibitors: Fluoxetine.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old woman, diagnosed with bipolar disorder is under treatment with lithium for the past 2 months. She now presents with excessive thirst and frequent urination and a diagnosis of nephrogenic diabetes insipidus was made. The administration of desmopressin did not increase the specific gravity of urine. Which is the most appropriate treatment in this case?",
    "choices": [
      {
        "id": 1,
        "text": "Thiazides"
      },
      {
        "id": 2,
        "text": "Amiloride"
      },
      {
        "id": 3,
        "text": "Furosemide"
      },
      {
        "id": 4,
        "text": "Chlorpropamide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The most appropriate treatment for&nbsp;<strong>lithium-induced nephrogenic diabetes insipidus </strong>(NDI)<strong>&nbsp;</strong>is&nbsp;<strong>amiloride.</strong></p>\n<p>Lithium&nbsp;is a <strong>mood stabilizer</strong> with a very narrow therapeutic index hence regular determination of serum concentrations is important. Its use is approved by FDA in acute mania and the prevention of recurrences of bipolar illness in adults or adolescents.</p>\n<p>Important side effects of lithium are-</p>\n<ul>\n<li><strong>Fine&nbsp;</strong>tremors in&nbsp;<strong>therapeutic dose</strong></li>\n<li><strong>Nephrogenic diabetes insipidus</strong></li>\n<li>Hypothyroidism</li>\n<li>T wave flattening</li>\n<li aria-level=\"1\">CNS toxicity manifests as coarse tremors, giddiness, ataxia, motor incoordination, nystagmus, mental confusion, slurred speech, and hyperreflexia.</li>\n</ul>\n<p>The development of NDI is related to the accumulation of Li<sup>+</sup> in<strong> distal tubular cells</strong> and subsequent inhibition of GSK-3&beta;, leading to <strong>vasopressin insensitivity </strong>and downregulation of<strong> aquaporin-2 channels.</strong> Amiloride is a <strong>potassium-sparing diuretic</strong> that <strong>blocks entry of Li<sup>+</sup></strong> into<strong>&nbsp;</strong>collecting duct cells&nbsp;and thus can be used to treat lithium-induced NDI.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 57-year-old woman diagnosed with breast carcinoma was prescribed trastuzumab. Which of the following statements regarding this drug is true?",
    "choices": [
      {
        "id": 1,
        "text": "It is an antibody produced entirely from mouse containing no human component"
      },
      {
        "id": 2,
        "text": "It is a monoclonal antibody produced by injecting HER-2 antigen"
      },
      {
        "id": 3,
        "text": "It is a polyclonal antibody"
      },
      {
        "id": 4,
        "text": "It is a monoclonal antibody containing only human component"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Trastuzumab</strong> is a <strong>humanized monoclonal antibody</strong> against the external domain of <strong>HER2/neu.</strong> In humanized antibodies, all components are identical to human antibodies (95% human component), except the complementary region of the variable chain that <strong>contains sequences</strong> from<strong> other species</strong>.</p>\n<p>It&nbsp;is indicated in the management of <strong>adjuvant therapy</strong> in <strong>early</strong> and <strong>metastatic HER-2 positive breast cancer.</strong>&nbsp;</p>\n<div class=\"page\" title=\"Page 1213\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Human epidermal growth factor receptor 2 tyrosine kinase receptor (<strong>HER-2-TK</strong>) <strong>inhibitors</strong> are:</p>\n<ul>\n<li>Lapatinib</li>\n<li>Neratinib</li>\n</ul>\n<p><strong>Anti-Her-2 monoclonal antibodies</strong> are:</p>\n<ul>\n<li>Trastuzumab</li>\n<li>Pertuzumab</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old female patient presented with the following finding. Her medical history includes hypertension for which she has been taking regular medications for the past 3 months. Which of the following medication is most likely to be associated with this finding?",
    "choices": [
      {
        "id": 1,
        "text": "Enalapril"
      },
      {
        "id": 2,
        "text": "Telmisartan"
      },
      {
        "id": 3,
        "text": "Amlodipine"
      },
      {
        "id": 4,
        "text": "Hydrochlorthiazide"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shows<strong> pitting pedal edema</strong> in a hypertensive patient. <strong>Calcium channel blockers (CCBs)</strong> like <strong>amlodipine</strong> are most likely to be associated with peripheral edema.</p>\n<p>The frequency of CCB- induced peripheral edema is both <strong>drug-specific</strong> (i.e more potent drugs like amlodipine will be associated with higher rates of developing edema) and <strong>dose-dependent</strong> (i.e incidence of edema increases with an increase in drug dosage and chronicity of its usage). It is more common among <strong>females.</strong></p>\n<p>CCB-induced peripheral edema occurs due to a disproportionate decrease in the&nbsp;arteriolar resistance than in the venous circulation, resulting in increased&nbsp;hydrostatic pressure in the precapillary circulation. This leads to a fluid shift&nbsp;into the interstitial compartment causing edema.</p>\n<p>Treatment:</p>\n<ul>\n<li>Dose reduction.</li>\n<li>Interclass switching of CCB - switch to non-dihydropyridines like verapamil, and diltiazem.</li>\n<li>Addition of a venodilator - ACE inhibitor, ARBs, Nitrates.</li>\n<li>Others - compression stockings, avoiding prolonged upright position.</li>\n<li>Definitive treatment would be discontinuation of the CCB and switching to another class of antihypertensives.</li>\n</ul>\n<p>Other options:</p>\n<p>Option A: Common side effects of <strong>ACE inhibitors</strong> like <strong>enalapril </strong>include hypotension, hyperkalemia, dry cough, rashes, urticaria, dysgeusia, gastrointestinal upset, headache, and dizziness.</p>\n<p>Option B:<strong>&nbsp;Telmisartan</strong>, an angiotensin receptor blocker (<strong>ARBs)</strong>, causes adverse effects such as hypotension, hyperkalemia, headache, gastrointestinal upset, and dizziness.</p>\n<p>Option D: Adverse effects of <strong>thiazide diuretics</strong> like <strong>hydrochlorothiazide</strong> are hypokalemia, hyponatremia, hyperglycemia, hyperuricemia, hypercalcemia, rashes,&nbsp;headache, gastrointestinal upset, and dizziness.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8a4bcdecc8194bae9ef8a680f6175771.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Among the following antimuscarinic drugs used in the treatment of overactive bladder, which one shows direct spasmolytic activity on smooth muscles?",
    "choices": [
      {
        "id": 1,
        "text": "Tolterodine"
      },
      {
        "id": 2,
        "text": "Darifenacin"
      },
      {
        "id": 3,
        "text": "Oxybutynin"
      },
      {
        "id": 4,
        "text": "Solifenacin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Oxybutynin</strong> is an antimuscarinic drug indicated in&nbsp;the<strong> overactive bladder </strong>that also exerts a direct spasmolytic action on the smooth muscles of the bladder.&nbsp;</p>\n<p>Direct spasmolytic activity is the direct smooth muscle relaxation effect independent of relaxation caused by antimuscarinic action.&nbsp;</p>\n<p>The most important adverse effects caused by the use of muscarinic antagonists for an overactive bladder are xerostomia (most common reason for discontinuation), blurred vision, and GI side effects like constipation and dyspepsia (due to <strong>blockade of M1, M2 &amp; M3</strong>). Drowsiness, dizziness, and confusion&nbsp;can also occur.</p>\n<p>Tolterodine, darifenacin, and solifenacin are antimuscarinic agents but they do not have the additional direct antispasmodic effect.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A first-year resident administers an intramuscular injection to a patient by the Z track technique. What is the advantage of this technique?",
    "choices": [
      {
        "id": 1,
        "text": "Increase absorption rate"
      },
      {
        "id": 2,
        "text": "Prevent staining of skin"
      },
      {
        "id": 3,
        "text": "Reduce allergic manifestations"
      },
      {
        "id": 4,
        "text": "Longer duration of action"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The advantage of the<strong>&nbsp;'Z-track technique'&nbsp;</strong>for intramuscular administration is that it<strong> prevents skin staining.&nbsp;</strong></p>\n<p>Z-track technique procedure:&nbsp;</p>\n<ol>\n<li>Stretch the skin by pulling it laterally away from the intended point of injection.</li>\n<li>Insert the needle into the site at a 90\u02da angle, aspirate by pulling back to see if the needle has a penetrated vessel.</li>\n<li>If blood is aspirated withdraw the needle, and repeat the procedure at another site with new equipment and medication.</li>\n<li>If no blood is aspirated administer the injection.</li>\n<li>Wait for 10 seconds and then withdraw the needle, and release the skin allowing the displaced tissue to seal the needle track.</li>\n</ol>\n<p><strong>Advantages:</strong>&nbsp;</p>\n<ul>\n<li>The 'Z-track'&nbsp;<strong>prevents leakage</strong> of the medication into the subcutaneous tissue and<strong> skin staining </strong>through the tract to the surface of the skin</li>\n<li><strong>Pain intensity </strong>is also<strong> reduced</strong>&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/23b7eb6ea07e4ccd8689c15d21f4d601x1280x2717.JPEG"
    ]
  },
  {
    "text": "You are posted as an intern in the medicine ward where your consultant asks you to make a list of all the patients who require strict therapeutic drug monitoring. All the following patients will be included in your list, except ______.",
    "choices": [
      {
        "id": 1,
        "text": "1, 2 and 3"
      },
      {
        "id": 2,
        "text": "2, 4 and 5"
      },
      {
        "id": 3,
        "text": "4 and 5"
      },
      {
        "id": 4,
        "text": "5 only"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option B is correct. Thiazide, levodopa, and metformin do not require therapeutic drug monitoring. However, phenytoin and lithium will require strict&nbsp;therapeutic drug monitoring because of their narrow therapeutic window.</p>\n<p><strong>Therapeutic drug monitoring (TDM)</strong> is individualizing drug dosage by maintaining plasma or blood drug concentrations within a targeted therapeutic range or window.</p>\n<p>Indications for TDM:</p>\n<ol>\n<li>Drugs with low safety margins i.e. narrow therapeutic window (e.g. digoxin, <strong>anticonvulsants</strong>, antiarrhythmics, theophylline, aminoglycosides, lithium, TCAs, immunomodulators)</li>\n<li>Drugs with high individual variations (e.g. <strong>lithium</strong>, antidepressants)</li>\n<li>Drugs with potential toxicity used in renal failure patients (e.g. aminoglycosides, vancomycin)</li>\n<li>Poisoning</li>\n<li>Drug therapy failure (e.g. failure of response to antibiotics)</li>\n<li>To check patient compliance (e.g. psycho-pharmacological agents)</li>\n</ol>\n<p>TDM is<strong> not necessary</strong> for</p>\n<ol>\n<li>Drugs whose response is easily measured (eg. <strong>antihypertensives</strong>, <strong>anti-diabetic agents</strong>, oral anticoagulants, inhalational general anesthesia)</li>\n<li>Prodrugs (e.g.<strong> levodopa</strong>)</li>\n<li>Drugs that have long-lasting effects -Hit and run drugs e.g. reserpine, guanethidine, monoamine oxidase inhibitors, omeprazole)</li>\n<li>Irreversible action of drugs (eg. organophosphates, phenoxybenzamine)</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An obese male patient has been recently diagnosed with coronary artery disease and hypertension. He is started on atorvastatin. Which of the following additional medication can be safely prescribed to this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Gemfibrozil"
      },
      {
        "id": 2,
        "text": "Atenolol"
      },
      {
        "id": 3,
        "text": "Digoxin"
      },
      {
        "id": 4,
        "text": "Nicotinic acid"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: left;\"><strong>Atenolol</strong> is a <strong>beta-blocker</strong> and an anti-hypertensive medication that can be <strong>safely</strong> prescribed along <strong>with statins</strong> like atorvastatin because atenolol does not have much interaction with statin metabolism.</p>\n<p style=\"text-align: left;\"><strong>Statins</strong> are hypolipidemic drugs that act by <strong>competitively</strong> <strong>inhibiting</strong> the enzyme <strong>HMG-CoA reductase</strong>. This allows for a compensatory increase in LDL receptors in the liver and thereby <strong>increases LDL catabolism</strong>.\u00a0</p>\n<p style=\"text-align: left;\">They are well tolerated. However, they can cause notable <strong>side effects</strong> such as <strong>myopathy </strong>and <strong>liver injury</strong>. They\u00a0occur commonly when <strong>statins</strong> are <strong>concurrently</strong> given with <strong>nicotinic acid</strong>,\u00a0<strong>gemfibrozil</strong>, or\u00a0<strong>CYP3A4</strong> <strong>inhibitors</strong> such as:</p>\n<ul>\n<li style=\"text-align: left;\"><strong>Macrolide antibiotics (erythromycin/clarithromycin)</strong></li>\n<li style=\"text-align: left;\">Ketoconazole</li>\n<li style=\"text-align: left;\">Cyclosporine</li>\n<li style=\"text-align: left;\">HIV protease inhibitors</li>\n<li style=\"text-align: left;\">Warfarin</li>\n<li style=\"text-align: left;\"><strong>Digoxin</strong></li>\n<li style=\"text-align: left;\">Azole antifungals</li>\n<li style=\"text-align: left;\">Amiodarone</li>\n</ul>\n<p>Other options:\u00a0</p>\n<p style=\"text-align: left;\">Option A: <strong>Gemfibrozil</strong> is a fibrate that<strong> inhibits </strong>the<strong>\u00a0hepatic uptake of statins</strong> by the organic anion transporter OATP1B1 and prevents its metabolism, thereby increasing its bioavailability. Thus, the risk of toxicity of statins increases. Concurrent use of gemfibrozil with statins most commonly causes myopathy (<strong>rhabdomyolysis</strong>).\u00a0</p>\n<p style=\"text-align: left;\">Option C:\u00a0<strong>Digoxin</strong>\u00a0used concurrently with a statin can increase the risk of myopathy.</p>\n<p style=\"text-align: left;\">Option D: <strong>Nicotinic acid</strong> (Niacin) used concurrently with statins can cause myopathy due to inhibition of skeletal muscle cholesterol synthesis.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs cannot be used for pneumonia caused by Pseudomonas?",
    "choices": [
      {
        "id": 1,
        "text": "Ceftazidime"
      },
      {
        "id": 2,
        "text": "Ceftolozane"
      },
      {
        "id": 3,
        "text": "Cefepime"
      },
      {
        "id": 4,
        "text": "Cefpodoxime"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Cefpodoxime</strong> <strong>does not have anti-<em>Psedumonas</em> activity</strong> and so <strong>cannot be used for</strong> pneumonia caused by <em><strong>Pseudomonas</strong></em>.</p>\n<p>The <strong>antipseudomonal cephalosporins</strong> include <strong>ceftazidime</strong>, <strong>ceftolozane</strong>, <strong>cefepime</strong>, and <strong>cefpirome</strong>. <strong>Cefepime</strong> and <strong>cefpirome</strong> also have excellent action against organisms that might be resistant to other cephalosporins such as <em>Enterobacter</em>. Thus, they are also called <strong>fourth-generation cephalosporins</strong>.</p>\n<p>Other cell-wall inhibitors that are active against <em>Pseudomonas</em> are:</p>\n<div class=\"column\">\n<ul>\n<li><strong>Extended-spectrum penicillins:</strong>\n<ul>\n<li>Carboxypenicillins: carbenicillin, ticarcillin&nbsp;</li>\n<li>Ureidopenicillins: piperacillin, mezlocillin</li>\n</ul>\n</li>\n<li><strong>Carbapenams: </strong>imipenem, carbapenem, doripenem</li>\n<li><strong>Monobactum: </strong>aztreonam</li>\n</ul>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with chronic angina was prescribed a new drug, ranolazine. This drug acts by which of the following mechanism?",
    "choices": [
      {
        "id": 1,
        "text": "Inhibit funny currents in SA node"
      },
      {
        "id": 2,
        "text": "Late sodium current inhibition"
      },
      {
        "id": 3,
        "text": "Rho-kinase inhibitor"
      },
      {
        "id": 4,
        "text": "K+ ATP channel agonist"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Ranolazine</strong> acts by\u00a0<strong>late sodium current</strong>\u00a0<strong>inhibition\u00a0</strong>in the heart.\u00a0It is used in the prophylaxis of <strong>angina.</strong></p>\n<p>Late sodium current (I<sub>Na</sub>) facilitates the entry of calcium via the sodium-calcium exchanger. <strong>Inhibition</strong> of\u00a0<strong>I<sub>Na</sub>,</strong> therefore, reduces the intracellular calcium concentration which in turn reduces the diastolic tension and cardiac contractility.</p>\n<p>At higher doses, it may also modify the fatty acid oxidation (<strong>pFOX inhibitor</strong>), which improves the efficiency of cardiac oxygen utilisation but whether this actually occurs at therapeutic doses is still being studied. It also has mild beta-blocking activity.</p>\n<p>Ranolazine is the second-line FDA-approved drug for heart failure. Side effects of ranolazine include dizziness, headache, and postural hypotension.</p>\n<p>Other options:</p>\n<p>Option A:\u00a0<strong>Ivabradine </strong>selectively <strong>blocks the funny current (I<sub>f</sub></strong><strong>) channel\u00a0</strong>involved in the generation of automaticity in the SA node. It reduces heart rate and thereby oxygen demand. It does not have any effect on cardiac contractility. It is an FDA-approved drug for the treatment of <strong>heart failure</strong>. It is also used for treating stable angina.</p>\n<p>Option C:\u00a0<strong>Fasudil</strong>\u00a0acts by<strong> inhibiting</strong> smooth muscle <strong>Rho kinase</strong> and reduces coronary vasospasm.</p>\n<p>Option D:\u00a0<strong>Nicorandil</strong> acts as an agonist at ATP-sensitive potassium (K<sub>ATP</sub>) channels i.e. <strong>potassium channel opener</strong>. It decreases afterload and preload of the heart by its vasodilatory properties at both arterioles and venules. It is used for the treatment of stable angina.</p>\n<p>Note: <strong>Trimetazidine</strong> is a\u00a0<strong>pFOX inhibitor\u00a0</strong>that partially inhibits fatty acid oxidation in the myocardium. Thereby, it decreases the oxygen requirement. It is also used as an anti-anginal agent.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 24-year-old woman was diagnosed with focal seizures and was prescribed ezogabine. What is the mechanism of action of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "Potassium channel opener"
      },
      {
        "id": 2,
        "text": "GABA transaminase inhibitor"
      },
      {
        "id": 3,
        "text": "T- type calcium channel blocker"
      },
      {
        "id": 4,
        "text": "GABA transporter inhibitor"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Ezogabine </strong>is a <strong>potassium channel opener.</strong></p>\n<p><strong>Ezogabine</strong> (retigabine) acts by <strong>opening</strong> <strong>neuronal</strong> <strong>potassium channels</strong>. By opening the K<sup>+</sup> channels, it stabilizes the resting membrane potential and reduces the excitability of the nerve membrane.</p>\n<p>It is used as an adjunctive treatment for focal seizures.</p>\n<p>Serious side effects associated with long-term therapy include <strong>retinal abnormalities</strong> causing visual defects, skin discoloration, QT prolongation, and neuropsychiatric symptoms.</p>\n<p>Other options:</p>\n<p>Option B: <strong>Vigabatrin</strong> irreversibly <strong>inhibits&nbsp;GABA transaminase</strong>, which degrades GABA. Thereby, resulting in increased levels of extracellular GABA at its receptor and enhanced inhibitory GABAergic transmission.</p>\n<p>It is indicated in <strong>refractory focal seizures</strong> with impaired awareness and<strong> infantile spasms&nbsp;</strong>in tuberous sclerosis. Vigabatrin is associated with progressive and permanent bilateral <strong>visual loss.</strong></p>\n<p>Option C: <strong>Ethosuximide inhibits </strong>the <strong>T-type calcium currents</strong> in thalamic neurons. It is the first-line agent for the treatment of generalized <strong>absence seizures.</strong></p>\n<p>Option D:&nbsp;<strong>Tiagabine inhibits</strong> the <strong>GABA transporter GAT-1</strong> and thereby reduces&nbsp;GABA uptake into neurons and glia and prolongs the action of&nbsp;GABA in the synapse. It is also used an adjunct therapy for <strong>focal seizures.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old man was treated for a high-grade soft-tissue sarcoma with radiotherapy. Since he was not responding, he was shifted to chemotherapy. After initiating chemotherapy, he developed erythematous rashes over the areas where radiotherapy was administered earlier. Which of the following drugs is likely to cause this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Vincristine"
      },
      {
        "id": 2,
        "text": "Doxorubicin"
      },
      {
        "id": 3,
        "text": "Cyclophosphamide"
      },
      {
        "id": 4,
        "text": "6-mercaptopurine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Doxorubicin</strong>&nbsp;can result in a <strong>radiation recall reaction</strong>&nbsp;where erythema and desquamation of skin are observed at sites of previous radiation injury.&nbsp;</p>\n<div class=\"ng-star-inserted\">\n<div class=\"table-responsive font-weight-light answer-scroll ng-star-inserted\">\n<p>Radiation recall syndrome is an acute inflammatory response confined to the areas that are previously irradiated, which can be triggered by the administration of chemotherapeutic agents. Studies show that the common drugs causing this phenomenon are:</p>\n<ul>\n<li aria-level=\"1\"><strong>Doxorubicin</strong></li>\n<li aria-level=\"1\">Docetaxel and paclitaxel</li>\n<li aria-level=\"1\">Gemcitabine and capecitabine</li>\n</ul>\n<p><strong>Radiation sensitization -&nbsp;</strong>This is&nbsp;<strong>more common</strong>&nbsp;than radiation recall. This is a period of enhanced sensitivity in the days after irradiation when the reaction to systemically administered drugs and the time interval between the end of radiation and chemotherapy is<strong>&nbsp;&lt;7 days</strong>. Such reactions can be considered radiation enhancement or sensitization.&nbsp;</p>\n<p><strong>Radiation recall -&nbsp;</strong>This is&nbsp;<strong>less</strong>&nbsp;common than radiation sensitization. When the time interval between the end of radiation and chemotherapy is&nbsp;<strong>&gt;7</strong>&nbsp;<strong>days</strong>, months, or even&nbsp;<strong>years</strong>.</p>\n<p dir=\"ltr\">The major side effects of doxorubicin are:&nbsp;</p>\n<ul>\n<li dir=\"ltr\" role=\"presentation\"><strong>Myelosuppression&nbsp;</strong></li>\n<li dir=\"ltr\" role=\"presentation\"><strong>Cardiomyopathy.</strong></li>\n</ul>\n</div>\n</div>\n<div class=\"row mt-3\">\n<div class=\"col-auto\">&nbsp;</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Tafenoquine is used in which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Radical cure of plasmodium vivax"
      },
      {
        "id": 2,
        "text": "Prophylaxis of malaria in pregnancy"
      },
      {
        "id": 3,
        "text": "Treatment of severe falciparum malaria"
      },
      {
        "id": 4,
        "text": "Treatment of malaria in children <2 years"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Tafenoquine</strong> is used in the <strong>radical cure of Plasmodium vivax</strong>. Total eradication of plasmodium species which includes clinical curative and hypnozoites phase are called radical cure.</p>\n<p>Primaquine and tafenoquine (derivative of primaquine) have very high activity against the <strong>latent tissue forms (hypnozoites)</strong> of the species. It is primarily used for the&nbsp;chemoprophylaxis and radical cure of P. vivax and P. ovale&nbsp;infections.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Your friend is planning a trip to the mountains but is concerned because of her history of severe nausea and vomiting while traveling anywhere. Which of the following drugs would be the least effective in managing her condition?",
    "choices": [
      {
        "id": 1,
        "text": "Scopalamine"
      },
      {
        "id": 2,
        "text": "Ondansetron"
      },
      {
        "id": 3,
        "text": "Meclizine"
      },
      {
        "id": 4,
        "text": "Diphenhydramine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Among the given options, ondansetron is the least effective\u00a0in managing motion sickness.</p>\n<p><span data-preserver-spaces=\"true\">Ondansetron is a</span><strong><span data-preserver-spaces=\"true\">\u00a05 HT<sub>3</sub> receptor antagonist</span></strong>. It blocks impulses at the peripheral origin in GIT and does not suppress vomiting caused by motion sickness.\u00a0<span data-preserver-spaces=\"true\">It is most commonly indicated for the treatment of\u00a0</span><strong><span data-preserver-spaces=\"true\">postoperative\u00a0</span></strong><span data-preserver-spaces=\"true\">and <strong>chemotherapy</strong>-<strong>induced</strong></span><strong><span data-preserver-spaces=\"true\">\u00a0nausea </span></strong>and <strong><span data-preserver-spaces=\"true\">vomiting.\u00a0</span></strong></p>\n<p>Drugs used in the treatment of motion sickness are:</p>\n<ul>\n<li><strong><span data-preserver-spaces=\"true\">Anticholinergic</span></strong><span data-preserver-spaces=\"true\">\u00a0agents (muscarinic receptor antagonists) such as\u00a0<strong>scopolamine</strong> (<strong>hyoscine</strong>) and dicyclomine.</span></li>\n<li><strong><span data-preserver-spaces=\"true\">Antihistamines</span></strong> (H1 antagonists)<strong><span data-preserver-spaces=\"true\">\u00a0</span></strong><span data-preserver-spaces=\"true\">are primarily used for treating\u00a0</span><strong><span data-preserver-spaces=\"true\">motion sickness\u00a0</span></strong><span data-preserver-spaces=\"true\">and</span><strong><span data-preserver-spaces=\"true\">\u00a0postoperative emesis.\u00a0\u00a0</span></strong></li>\n</ul>\n<p><span data-preserver-spaces=\"true\"><strong><span data-preserver-spaces=\"true\">Scopolamine transdermal patches\u00a0</span></strong><span data-preserver-spaces=\"true\">should be given\u00a0<strong>prophylactically</strong>\u00a0as it is less effective once symptoms start. It is\u00a0<strong>applied behind the ear</strong>\u00a0at least\u00a0<strong>4-12</strong>\u00a0<strong>hours before</strong>\u00a0an anticipated exposure to motion.\u00a0</span><strong><span data-preserver-spaces=\"true\">Dry</span></strong><span data-preserver-spaces=\"true\">\u00a0</span><strong><span data-preserver-spaces=\"true\">mouth\u00a0</span></strong>and<strong><span data-preserver-spaces=\"true\">\u00a0sedation</span></strong><span data-preserver-spaces=\"true\">\u00a0are common side effects.</span></span></p>\n<p><span data-preserver-spaces=\"true\">First-generation antihistamines such as <strong>promethazine,</strong> dimenhydrinate, chlorpheniramine, <strong>diphenhydramine</strong>, cyclizine, and <strong>meclizine</strong> are effective in controlling nausea and vomiting in motion sickness.\u00a0</span><strong><span data-preserver-spaces=\"true\">Sedation</span></strong><span data-preserver-spaces=\"true\">\u00a0is a common side effect of these drugs. Second-generation antihistamines like cetirizine and fexofenadine are ineffective in the treatment of motion sickness.</span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 58-year-old man was treated with a diuretic for heart failure. He now presents with complaints of hearing impairment and dizziness. Which diuretic is likely to be associated with these side effects?",
    "choices": [
      {
        "id": 1,
        "text": "Furosemide"
      },
      {
        "id": 2,
        "text": "Thiazide"
      },
      {
        "id": 3,
        "text": "Acetazolamide"
      },
      {
        "id": 4,
        "text": "Tolvaptan"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical scenario is suggestive of <strong>drug</strong>-<strong>induced hearing loss</strong>, and <strong>furosemide</strong> is likely to be associated with these side effects, causing <strong>ototoxicity</strong>.</p>\n<p><strong>Loop diuretics</strong> have the potential to cause damage to the ears, resulting in symptoms such as ringing in the ears (tinnitus), <strong>hearing impairment</strong>, <strong>dizziness</strong>, and a feeling of fullness in the ears. The risk of ototoxicity is highest when loop diuretics are <strong>administered rapidly</strong> through an <strong>intravenous route</strong> and lowest when taken orally. To prevent ototoxicity, it is important to avoid infusing furosemide at a rate of more than 4 mg/min.</p>\n<p><strong>Furosemide</strong>\u00a0is a\u00a0<strong>loop diuretic.\u00a0</strong>It acts by\u00a0<strong>inhibiting</strong>\u00a0the<strong>\u00a0Na<sup>+</sup>-K<sup>+</sup>-2Cl<sup>-</sup>\u00a0symporter\u00a0</strong>in the thick ascending limb of the loop of Henle, resulting in increased\u00a0excretion of sodium, potassium,\u00a0and\u00a0chloride.\u00a0It is used in cases of acute pulmonary oedema, cerebral oedema, hypertension, and hypercalcemia of malignancy.</p>\n<p><strong>Hypokalemia, hyperuricemia, hypocalcemia</strong>, and hypomagnesemia are the important side effects.</p>\n<p>Other options:</p>\n<p>Option B:<strong> </strong>Thiazides act on the <strong>DCT</strong>. They inhibit Na<sup><span class=\"s1\">+</span></sup>-Cl<sup><span class=\"s1\">\u2212 </span></sup>symporter present in the distal convoluted tubule. It is used for the treatment of hypertension and chronic oedema. Their adverse effects are as follows:</p>\n<ul>\n<li>Hypotension</li>\n<li>Hyponatremia</li>\n<li>Hypokalemia</li>\n<li>Hypomagnesemia</li>\n<li>Hypochloremia</li>\n<li>Hyperuricemia</li>\n<li>Hypercalcemia</li>\n<li>Decrease glucose tolerance</li>\n<li>May increase the lipid levels</li>\n</ul>\n<p>Option C:<strong> </strong>Carbonic anhydrase inhibitors like <strong>acetazolamide</strong>\u00a0inhibit the\u00a0reabsorption of bicarbonate ions in the proximal convoluted tubule. Used to treat\u00a0<strong>glaucoma</strong>\u00a0and <strong>mountain sickness</strong> and to alkalinize urine. Side effects are acidosis, hypokalaemia,\u00a0fever, rashes, and\u00a0paresthesia. Bone marrow depression is rare but a serious side effect. It is <strong>contraindicated</strong> in <strong>liver disease.</strong></p>\n<div class=\"page\" title=\"Page 646\">Option D:\u00a0Tolvaptan is an orally active nonpeptide <strong>selective V2 receptor antagonist</strong>.\u00a0Its main mechanism of action is to enhance the excretion of free water by the kidneys, which helps <strong>restore normal sodium levels</strong> in the blood. It is a new addition to the <strong>treatment</strong> options for <strong>hyponatremia</strong> caused by congestive heart failure, liver cirrhosis, or syndrome of inappropriate antidiuretic hormone secretion (SIADH).\u00a0The most common side effects of this medication include <strong>increased thirst</strong> and a dry sensation in the mouth. Other possible side effects are fever, gastrointestinal disturbances, and <strong>elevated blood sugar levels</strong>.</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old male diabetic patient was diagnosed with congestive cardiac failure. He was started on digoxin. What will be the therapeutic plasma concentration of this drug?",
    "choices": [
      {
        "id": 1,
        "text": "0.1-0.3 ng/mL"
      },
      {
        "id": 2,
        "text": "0.5-1.4 ng/mL"
      },
      {
        "id": 3,
        "text": "1.6- 2 ng/mL"
      },
      {
        "id": 4,
        "text": "> 2 ng/mL"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The<strong> therapeutic plasma concentration</strong> of digoxin is <strong>0.5-1.4 ng/ml.</strong></p>\n<p><strong>Digoxin </strong>is a<strong> cardiac glycoside</strong>&nbsp;with a <strong>narrow therapeutic index</strong> and is used in the management of heart failure. It <strong>inhibits the&nbsp;Na<span class=\"s1\">+</span>/K<span class=\"s1\">+&nbsp;</span>ATPase</strong> pump in the myocardium leading to increased accumulation of intracellular sodium. Increased intracellular sodium prevents the efflux of calcium ions. This results in <strong>increased intracellular calcium</strong> which increases the contractility of the muscle.</p>\n<p>Pharmacokinetics of digoxin:</p>\n<table>\n<tbody>\n<tr>\n<td>Oral absorption</td>\n<td>60&ndash;80%</td>\n</tr>\n<tr>\n<td><strong>Plasma t&frac12; </strong></td>\n<td><strong>40 hr</strong></td>\n</tr>\n<tr>\n<td><strong>Therapeutic conc.</strong></td>\n<td><strong>0.5&ndash;1.4 ng/ml</strong></td>\n</tr>\n<tr>\n<td><strong>Toxic conc.</strong></td>\n<td><strong>&gt; 2 ng/ml</strong></td>\n</tr>\n<tr>\n<td>Daily maintenance dose</td>\n<td>0.125&ndash;0.5 mg</td>\n</tr>\n<tr>\n<td>Route of elimination &nbsp;</td>\n<td>Renal excretion</td>\n</tr>\n<tr>\n<td>Route of administration</td>\n<td>Oral, IV</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Clinical features of digoxin toxicity:</strong></p>\n<ul>\n<li>CNS manifestations - Drowsiness, neuralgia, headache, confusion, or giddiness</li>\n<li>Ophthalmic manifestations - Visual aberration is an early indication of digitalis toxicity. Yellow-green distortion is the most common. Yellow halos around lights (<strong>xanthopsia</strong>) are seen. Visual acuity is reduced.</li>\n<li>Gastrointestinal manifestations- Nausea, vomiting, anorexia, diarrhea, abdominal pain.</li>\n<li>Cardiac&nbsp;manifestations -&nbsp;Palpitations, dyspnea, syncope, hypotension.&nbsp;The most serious side effect of digoxin is <strong>arrhythmia</strong>. They can present as&nbsp;extreme bradycardia, atrial fibrillation, ventricular extrasystoles, bigeminy, ventricular tachycardia, and fibrillation.</li>\n</ul>\n<p>Digoxin should be discontinued whenever toxicity is suspected.&nbsp;An effective <strong>antidote</strong> for digoxin toxicity is <strong>digibind</strong>, which is an anti-digoxin antibody. Arrhythmias should be treated.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old female patient was diagnosed with parkinsonism. She was commenced on combination therapy with co-careldopa. What is the rationale behind this combination therapy?",
    "choices": [
      {
        "id": 1,
        "text": "To decrease the plasma half life of levodopa"
      },
      {
        "id": 2,
        "text": "To inhibit the metabolism of levodopa in brain"
      },
      {
        "id": 3,
        "text": "To promote the metabolism of levodopa in periphery"
      },
      {
        "id": 4,
        "text": "To reduce the systemic side effects of levodopa"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The rationale behind the combination therapy of<strong> levodopa</strong> with a peripheral DOPA decarboxylase inhibitor like <strong>carbidopa (co-careldopa)</strong> is that inhibition of the metabolism&nbsp;of levodopa (i.e. conversion of levodopa into dopamine) in the peripheral circulation <strong>decreases the systemic side effects</strong> of&nbsp;levodopa, like vomiting.</p>\n<p>Peripheral dopa decarboxylase inhibitors (carbidopa) do not cross the blood-brain barrier. Therefore, they only <strong>inhibit </strong>the<strong> conversion of levodopa</strong> into dopamine in the<strong> periphery</strong> and <strong>not in the brain</strong>. This leads to the increased plasma half-life of levodopa, and therefore, lower doses of levodopa can be prescribed.</p>\n<p>Benefits of combination therapy:</p>\n<ul>\n<li>This therapy inhibits the metabolism of levodopa in the periphery, leading to <strong>increased plasma half-life</strong> of levodopa.</li>\n<li>Combination therapy reduces adverse effects like gastrointestinal side effects, orthostatic hypotension, and cardiac arrhythmias.</li>\n<li>This therapy allows for increased availability of levodopa in the brain.</li>\n<li>Fluctuation in motor control, where the patient is alternately well and disabled, occurs on prolonged therapy with levodopa. This type of \"<strong>on-off</strong>\" effect is <strong>reduced</strong> in combination therapy because of sustained dopamine levels in the brain.</li>\n<li><strong>Pyridoxine</strong> enhances the peripheral metabolism of levodopa. Hence, combination therapy with carbidopa nullifies the interaction of pyridoxine with levodopa metabolism.</li>\n<li><strong>&nbsp;</strong>A<strong> higher&nbsp;degree of improvement</strong> is seen&nbsp;in combination therapy than in monotherapy with levodopa.</li>\n</ul>\n<p>Demerits of combination therapy:</p>\n<p>This therapy decreases the concentration of levodopa in the periphery, but increases the concentration of levodopa reaching the brain.<strong> Involuntary movements </strong>and <strong>behavioral adverse effects</strong> like confusion, hallucinations,&nbsp;nightmares, and delusions are <strong>not reduced </strong>after the addition of carbidopa<strong>. </strong>In fact, they are <strong>increased</strong>&nbsp;in patients who are taking levodopa <strong>with peripheral carboxylase</strong> inhibitors.<strong>&nbsp;</strong>This is because <strong>higher</strong> levels of <strong>dopamine</strong> are formed in CNS.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 23-year-old pregnant woman presented with features suggestive of thyrotoxicosis. Which of the following is not a treatment option for her condition?",
    "choices": [
      {
        "id": 1,
        "text": "Methimazole"
      },
      {
        "id": 2,
        "text": "Propylthiouracil"
      },
      {
        "id": 3,
        "text": "Radioactive iodine"
      },
      {
        "id": 4,
        "text": "Subtotal thyroidectomy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Radioactive iodine therapy</strong> is<strong> contraindicated</strong> during pregnancy and lactation. Therefore, it is not a treatment option in this patient.</p>\n<p>Thyrotoxicosis in pregnancy:</p>\n<p>The <strong>drug of choice</strong> for the treatment of thyrotoxicosis during the<strong> first trimester </strong>of pregnancy is <strong>propylthiouracil (PTU).</strong></p>\n<p>Methimazole and its prodrug (carbimazole) are usually avoided in the first trimester due to <strong>teratogenic risk.</strong>&nbsp;However, methimazole is used for the remainder of the pregnancy due to the concern for <strong>PTU-associated liver failure.</strong>&nbsp;</p>\n<p><strong>Subtotal thyroidectomy</strong> can be performed during the <strong>mid-trimester.</strong></p>\n<p><strong>Radioactive iodine </strong>crosses the placenta and causes the destruction of the fetal thyroid. Therefore, it&nbsp;is<strong> contraindicated</strong> during pregnancy and lactation.</p>\n<p>Treatment of thyrotoxicosis in pregnancy</p>\n<table style=\"height: 108px; width: 381px;\">\n<tbody>\n<tr style=\"height: 46px;\">\n<td style=\"width: 137.828125px; height: 46px; text-align: center;\"><strong>Trimester</strong></td>\n<td style=\"width: 227.1875px; height: 46px; text-align: center;\"><strong>Treatment for thyrotoxicosis</strong></td>\n</tr>\n<tr style=\"height: 46px;\">\n<td style=\"width: 137.828125px; height: 46px;\"><strong>First trimester</strong></td>\n<td style=\"width: 227.1875px; height: 46px;\">\n<ul>\n<li>Propylthiouracil</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 64px;\">\n<td style=\"width: 137.828125px; height: 64px;\"><strong>Second trimester</strong></td>\n<td style=\"width: 227.1875px; height: 64px;\">\n<ul>\n<li>Methimazole</li>\n<li>Subtotal thyroidectomy</li>\n</ul>\n</td>\n</tr>\n<tr>\n<td style=\"width: 137.828125px;\"><strong>Third trimester</strong></td>\n<td style=\"width: 227.1875px;\">\n<ul>\n<li>Methimazole</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A schizophrenic patient was initiated on haloperidol therapy. Two days later, he presented to the hospital with a deviation of eyes, inability to open mouth, and torticollis. What is the first-line management of this case?",
    "choices": [
      {
        "id": 1,
        "text": "Diphenhydramine"
      },
      {
        "id": 2,
        "text": "Propranolol"
      },
      {
        "id": 3,
        "text": "Dantrolene"
      },
      {
        "id": 4,
        "text": "Lorazepam"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: justify;\">The given scenario of deviation of the eyes (<strong>oculogyric crisis</strong>),\u00a0inability to open the mouth (<strong>trismus</strong>), asymmetric position of the head and neck (<strong>torticollis</strong>) are pointing towards a diagnosis of haloperidol-induced <strong>acute dystonia</strong>. The first-line treatment for antipsychotic-induced acute dystonia is <strong>diphenhydramine.</strong></p>\n<p style=\"text-align: justify;\"><strong>Acute muscular dystonia:</strong></p>\n<p style=\"text-align: justify;\">This is an extrapyramidal symptom (EPS) that occurs due to the <strong>antagonism of</strong> dopamine <strong>D2</strong> receptors.</p>\n<p style=\"text-align: justify;\">Acute dystonia is more commonly associated with high potency <strong>typical antipsychotics</strong> like <strong>haloperidol</strong> and occurs within\u00a01 to 5 days of initiation of therapy.\u00a0</p>\n<p style=\"text-align: justify;\">It occurs most commonly among <strong>younger</strong> patients and is characterized by <strong>muscle spasms</strong> involving linguo-facial muscles causing torticollis, locked jaw or trismus, grimacing, tongue thrusting, and oculogyric crisis in severe form.</p>\n<p style=\"text-align: justify;\">Treatment:</p>\n<ol>\n<li>Anticholinergic agents like <strong>benztropine</strong>\u00a0or<strong> diphenhydramine</strong>, by blocking striatal cholinergic receptors, balance the dopaminergic activity and is given as <strong>first-line treatment</strong> for dystonia.\u00a0</li>\n<li><strong>Benzodiazepines (diazepam)</strong> antagonizes the excitatory dopaminergic neurons by their GABA agonist action and are used in<strong> refractory</strong> cases or when anticholinergic use is contraindicated.</li>\n</ol>\n<p>Other options:</p>\n<p>Option B: Propranolol is used for the management of <strong>akathisia.</strong></p>\n<p>Option C: Dantrolene is used in the management of <strong>neuroleptic malignant syndrome.</strong></p>\n<p>Option D: Lorazepam is used for treating anxiety disorders, alcohol withdrawal, and anesthetic medication.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 45-year-old man has chronic hypertension since 10 years. He has tried three different drugs A, B, and C to control his hypertension over the years. The graph below shows the relationship between the log[Dose] and the response of three drugs A, B, and C. Which of the following options is true in regards to the drugs' efficacy?",
    "choices": [
      {
        "id": 1,
        "text": "A = B > C"
      },
      {
        "id": 2,
        "text": "A > B > C"
      },
      {
        "id": 3,
        "text": "A > B = C"
      },
      {
        "id": 4,
        "text": "C > A = B"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the log dose-response curve, the <strong>perpendicular height</strong> represents the drug efficacy.</p>\n<p>Therefore, Drug C has the least efficacy.&nbsp;Both Drug A&nbsp;and Drug B have the highest efficacy that is the maximum effect produced by the drug. Thus, in the above image, the efficacy is <strong>Drug A = Drug B &gt; Drug C.</strong></p>\n<p>Efficacy:</p>\n<ul>\n<li>It is defined as the<strong> maximum effect produced</strong> by the drug.</li>\n<li>It reflects the capacity of the drug to activate a receptor and produce the response.</li>\n<li>In the log dose-response curve, the <strong>perpendicular height</strong> represents the drug efficacy. Thus, in the above image, the efficacy is Drug A = Drug B &gt; Drug C.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b0ed7ef4cf7b427aa1e538ade0f69af8.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/31dc380ad3314fbc84b8312c08dd272cx1280x1165.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/322b8f3ab83e486784da84d544735a56x1280x1147.JPEG"
    ]
  }
];
        let quizName = 'Pharmacology Test';
        const quizFilename = 'pharmacology-test-8fc397a1.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2021 - 22"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>