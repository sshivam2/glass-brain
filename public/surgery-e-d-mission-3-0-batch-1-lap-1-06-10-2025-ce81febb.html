<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surgery E&D - Mission 3 0 (Batch 1, Lap 1) - 06-10-2025 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Cerebellum / Mock Test / E&D Mision 3.0
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">60</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "id": 94610,
    "choices": [
      {
        "id": 376648,
        "text": "<p><span style=\"font-size:14.0pt;\">It is lined entirely by squamous epithelium</span></p>"
      },
      {
        "id": 376649,
        "text": "<p><span style=\"font-size:14.0pt;\">Belsey fat pad represents the gastro-esophageal junction on endoscopy</span></p>"
      },
      {
        "id": 376650,
        "text": "<p><span style=\"font-size:14.0pt;\">The cervical esophagus is accessed via a left neck incision</span></p>"
      },
      {
        "id": 376651,
        "text": "<p><span style=\"font-size:14.0pt;\">The left bronchus causes an indentation at 25 cm from the upper incisors</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is incorrect about esophageal anatomy?</span></p>",
    "unique_key": "Q7990984",
    "question_audio": null,
    "question_video": null,
    "map_id": 34945473,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B)&nbsp;Belsey fat pad represents the gastro-esophageal&nbsp; junction on endoscopy</strong></span></p>",
    "correct_choice_id": 376649,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94611,
    "choices": [
      {
        "id": 376652,
        "text": "<p><span style=\"font-size:14.0pt;\">24-hour pH study in GERD</span></p>"
      },
      {
        "id": 376653,
        "text": "<p><span style=\"font-size:14.0pt;\">Esophageal manometry in motility disorders</span></p>"
      },
      {
        "id": 376654,
        "text": "<p><span style=\"font-size:14.0pt;\">24-hour pH study in motility disorders</span></p>"
      },
      {
        "id": 376655,
        "text": "<p><span style=\"font-size:14.0pt;\">Esophageal manometry in hiatus hernia</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the investigation and its role.</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_KK3OrVe.png\" width=\"544\" height=\"397\"></span></p>",
    "unique_key": "Q6690715",
    "question_audio": null,
    "question_video": null,
    "map_id": 34945574,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) 24-hour pH study in GERD</strong></span></p>",
    "correct_choice_id": 376652,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94612,
    "choices": [
      {
        "id": 376656,
        "text": "<p><span style=\"font-size:14.0pt;\">Gastric Antral Vascular Ectasia (GAVE)</span></p>"
      },
      {
        "id": 376657,
        "text": "<p><span style=\"font-size:14.0pt;\">Esophageal varices</span></p>"
      },
      {
        "id": 376658,
        "text": "<p><span style=\"font-size:14.0pt;\">CA esophagus</span></p>"
      },
      {
        "id": 376659,
        "text": "<p><span style=\"font-size:14.0pt;\">Barrett\u2019s esophagus</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the likely pathology on endoscopy in the image shown.</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_cQfZOGY.png\" width=\"380\" height=\"365\"></span></p>",
    "unique_key": "Q1689117",
    "question_audio": null,
    "question_video": null,
    "map_id": 34945825,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Barrett\u2019s esophagus</strong></span></p>",
    "correct_choice_id": 376659,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94613,
    "choices": [
      {
        "id": 376660,
        "text": "<p><span style=\"font-size:14.0pt;\">The next step in management is an upper GI scopy</span></p>"
      },
      {
        "id": 376661,
        "text": "<p><span style=\"font-size:14.0pt;\">It is common in middle-aged women compared to men</span></p>"
      },
      {
        "id": 376662,
        "text": "<p><span style=\"font-size:14.0pt;\">It may lead to regurgitation and weight loss</span></p>"
      },
      {
        "id": 376663,
        "text": "<p><span style=\"font-size:14.0pt;\">Botox has no role in its management</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 55-year-old patient presents with dysphagia to solids and liquids. A barium study is shown below. Which of these is incorrect about the condition?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_LnzUWU5.png\" width=\"342\" height=\"257\"></span></p>",
    "unique_key": "Q2667365",
    "question_audio": null,
    "question_video": null,
    "map_id": 34945876,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) It is common in middle-aged women compared to men</strong></span></p>",
    "correct_choice_id": 376661,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94614,
    "choices": [
      {
        "id": 376664,
        "text": "<p><span style=\"font-size:14.0pt;\">Floppy Nissen fundoplication, GERD</span></p>"
      },
      {
        "id": 376665,
        "text": "<p><span style=\"font-size:14.0pt;\">Floppy Nissen fundoplication, Achalasia</span></p>"
      },
      {
        "id": 376666,
        "text": "<p><span style=\"font-size:14.0pt;\">Toupet fundoplication, GERD</span></p>"
      },
      {
        "id": 376667,
        "text": "<p><span style=\"font-size:14.0pt;\">Dor fundoplication, GERD</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the procedure and its most common indication.</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_zzJHdsu.png\" width=\"260\" height=\"346\"></span></p>",
    "unique_key": "Q8270984",
    "question_audio": null,
    "question_video": null,
    "map_id": 34945877,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C)&nbsp;Toupet fundoplication, GERD</strong></span></p>",
    "correct_choice_id": 376666,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94615,
    "choices": [
      {
        "id": 376668,
        "text": "<p><span style=\"font-size:14.0pt;\">It involves cutting the adventitia but sparing the mucosa</span></p>"
      },
      {
        "id": 376669,
        "text": "<p><span style=\"font-size:14.0pt;\">It is preferred for type 3 achalasia</span></p>"
      },
      {
        "id": 376670,
        "text": "<p><span style=\"font-size:14.0pt;\">It extends a minimum of 6&nbsp;cm in the esophagus and 2&nbsp;cm into the gastric cardia</span></p>"
      },
      {
        "id": 376671,
        "text": "<p><span style=\"font-size:14.0pt;\">It can be used for distal esophageal spasm treatment</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is incorrect about the procedure shown in the image below?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_4hylaDo.png\" width=\"509\" height=\"242\"></span></p>",
    "unique_key": "Q8972647",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946048,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A)&nbsp;It involves cutting the adventitia but sparing the mucosa</strong></span></p>",
    "correct_choice_id": 376668,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94616,
    "choices": [
      {
        "id": 376672,
        "text": "<p><span style=\"font-size:14.0pt;\">I, II and III are correct</span></p>"
      },
      {
        "id": 376673,
        "text": "<p><span style=\"font-size:14.0pt;\">II, III, IV are correct</span></p>"
      },
      {
        "id": 376674,
        "text": "<p><span style=\"font-size:14.0pt;\">II, IV are correct</span></p>"
      },
      {
        "id": 376675,
        "text": "<p><span style=\"font-size:14.0pt;\">All are correct</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of the following can be seen in congenital hypertrophic pyloric stenosis?</span></p><ol style=\"list-style-type:lower-roman;\"><li><span style=\"font-size:14.0pt;\">Projectile vomiting</span></li><li><span style=\"font-size:14.0pt;\">Palpable upper abdominal mass in a relaxed child</span></li><li><span style=\"font-size:14.0pt;\">Visible peristalsis in the abdomen from left to right on test feed</span></li><li><span style=\"font-size:14.0pt;\">Occurrence of vomiting within few days of birth</span></li></ol>",
    "unique_key": "Q4549161",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946149,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) I, II and III are correct</strong></span></p>",
    "correct_choice_id": 376672,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94617,
    "choices": [
      {
        "id": 376676,
        "text": "<p><span style=\"font-size:14.0pt;\">Forrest grade 1 b</span></p>"
      },
      {
        "id": 376677,
        "text": "<p><span style=\"font-size:14.0pt;\">Johnson grade 1 b</span></p>"
      },
      {
        "id": 376678,
        "text": "<p><span style=\"font-size:14.0pt;\">Forrest grade 2 b</span></p>"
      },
      {
        "id": 376679,
        "text": "<p><span style=\"font-size:14.0pt;\">Johnson grade 2 b</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the classification and the grade of bleeding peptic ulcer?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_7L5933c.png\" width=\"242\" height=\"259\"></span></p>",
    "unique_key": "Q7316584",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946170,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C)&nbsp;Johnson grade 2 b</strong></span></p>",
    "correct_choice_id": 376678,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94618,
    "choices": [
      {
        "id": 376680,
        "text": "<p><span style=\"font-size:14.0pt;\">Sister Mary Joseph nodule: Paraumbilical nodule</span></p>"
      },
      {
        "id": 376681,
        "text": "<p><span style=\"font-size:14.0pt;\">Troisier\u2019s sign: Left supraclavicular lymph node</span></p>"
      },
      {
        "id": 376682,
        "text": "<p><span style=\"font-size:14.0pt;\">Trousseau syndrome: Left axillary lymph node</span></p>"
      },
      {
        "id": 376683,
        "text": "<p><span style=\"font-size:14.0pt;\">Pylorus mass: Non-bilious vomiting</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 65-year-old male with early satiety and weight loss, was diagnosed with gastric carcinoma. Which of these findings is incorrect?</span></p>",
    "unique_key": "Q3255823",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946191,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C)&nbsp;Trousseau syndrome: Left axillary lymph node</strong></span></p>",
    "correct_choice_id": 376682,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94619,
    "choices": [
      {
        "id": 376684,
        "text": "<p><span style=\"font-size:14.0pt;\">Chronic gastritis</span></p>"
      },
      {
        "id": 376685,
        "text": "<p><span style=\"font-size:14.0pt;\">Duodenal ulcer</span></p>"
      },
      {
        "id": 376686,
        "text": "<p><span style=\"font-size:14.0pt;\">Adenocarcinoma of stomach</span></p>"
      },
      {
        "id": 376687,
        "text": "<p><span style=\"font-size:14.0pt;\">Duodenal adenocarcinoma</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">All of these pathologies occur due to H. Pylori infection of stomach except:</span></p>",
    "unique_key": "Q2500139",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946252,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Duodenal adenocarcinoma</strong></span></p>",
    "correct_choice_id": 376687,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94620,
    "choices": [
      {
        "id": 376688,
        "text": "<p><span style=\"font-size:14.0pt;\">Adhesive obstruction, X ray abdomen</span></p>"
      },
      {
        "id": 376689,
        "text": "<p><span style=\"font-size:14.0pt;\">Paralytic ileus, X ray abdomen</span></p>"
      },
      {
        "id": 376690,
        "text": "<p><span style=\"font-size:14.0pt;\">Bowel injury, CECT abdomen</span></p>"
      },
      {
        "id": 376691,
        "text": "<p><span style=\"font-size:14.0pt;\">Pelvic abscess, USG abdomen</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A patient underwent open appendectomy for perforated appendix in emergency. On post-operative day 2, patient experienced bilious vomiting and distension of abdomen. Her BP and HR were normal. Peristaltic sounds are weak. What is the likely diagnosis and the next step?&nbsp;</span></p>",
    "unique_key": "Q5121825",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946253,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Paralytic ileus, X ray abdomen</strong></span></p>",
    "correct_choice_id": 376689,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94621,
    "choices": [
      {
        "id": 376692,
        "text": "<p><span style=\"font-size:14.0pt;\">Reflux gastritis</span></p>"
      },
      {
        "id": 376693,
        "text": "<p><span style=\"font-size:14.0pt;\">Dumping syndrome</span></p>"
      },
      {
        "id": 376694,
        "text": "<p><span style=\"font-size:14.0pt;\">Vitamin B12 deficiency</span></p>"
      },
      {
        "id": 376695,
        "text": "<p><span style=\"font-size:14.0pt;\">Iron deficiency anemia</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A patient has undergone surgery for morbid obesity as shown in the image below. 3 months after this surgery, the patient presents with dizziness and sweating whenever he has a large meal. What could this condition be?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_qmdWMFc.png\" width=\"429\" height=\"479\"></span></p>",
    "unique_key": "Q2065110",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946274,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B)&nbsp;Dumping syndrome</strong></span></p>",
    "correct_choice_id": 376693,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94622,
    "choices": [
      {
        "id": 376696,
        "text": "<p><span style=\"font-size:14.0pt;\">Vertical sleeve gastrectomy</span></p>"
      },
      {
        "id": 376697,
        "text": "<p><span style=\"font-size:14.0pt;\">SADI-sleeve</span></p>"
      },
      {
        "id": 376698,
        "text": "<p><span style=\"font-size:14.0pt;\">Duodenal switch</span></p>"
      },
      {
        "id": 376699,
        "text": "<p><span style=\"font-size:14.0pt;\">Total gastrectomy</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of the following is not a bariatric gastric surgery?</span></p>",
    "unique_key": "Q2256279",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946275,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Total gastrectomy</strong></span></p>",
    "correct_choice_id": 376699,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94623,
    "choices": [
      {
        "id": 376700,
        "text": "<p><span style=\"font-size:14.0pt;\">Antibiotics&nbsp;</span></p>"
      },
      {
        "id": 376701,
        "text": "<p><span style=\"font-size:14.0pt;\">Laparotomy and sigmoidectomy</span></p>"
      },
      {
        "id": 376702,
        "text": "<p><span style=\"font-size:14.0pt;\">Laparotomy and diverticulectomy</span></p>"
      },
      {
        "id": 376703,
        "text": "<p><span style=\"font-size:14.0pt;\">Right hemicolectomy</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 35-year-old female is brought to the casualty with severe abdominal pain, high fever and diarrhoea. She is a known case of sigmoid diverticular disease. She undergoes imaging and is found to have a large collections in the pelvis and paracolic gutters. What is her treatment?</span></p>",
    "unique_key": "Q3090251",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946414,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Laparotomy and sigmoidectomy</strong></span></p>",
    "correct_choice_id": 376701,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94624,
    "choices": [
      {
        "id": 376704,
        "text": "<p><span style=\"font-size:14.0pt;\">Primary repair</span></p>"
      },
      {
        "id": 376705,
        "text": "<p><span style=\"font-size:14.0pt;\">Omental patch repair</span></p>"
      },
      {
        "id": 376706,
        "text": "<p><span style=\"font-size:14.0pt;\">Resection and anastomosis</span></p>"
      },
      {
        "id": 376707,
        "text": "<p><span style=\"font-size:14.0pt;\">Stoma creation</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 45-year-old female with a history of migraine was taking regular NSAIDs. She experienced a sudden onset of abdominal pain with vomiting. Examination revealed generalized tenderness. X ray abdomen was done, and diagnosis was made. Patient was taken for surgery and the following was seen. What will be done for this finding intraoperatively?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_Onsu457.png\" width=\"281\" height=\"239\"></span></p>",
    "unique_key": "Q2706089",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946415,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Omental patch repair</strong></span></p>",
    "correct_choice_id": 376705,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94625,
    "choices": [
      {
        "id": 376708,
        "text": "<p><span style=\"font-size:14.0pt;\">CA stomach</span></p>"
      },
      {
        "id": 376709,
        "text": "<p><span style=\"font-size:14.0pt;\">CA esophagus</span></p>"
      },
      {
        "id": 376710,
        "text": "<p><span style=\"font-size:14.0pt;\">Hemobilia</span></p>"
      },
      {
        "id": 376711,
        "text": "<p><span style=\"font-size:14.0pt;\">CA colon</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 45-year-old man came with complaints of dark-colored stools to the OPD. After undergoing endoscopy, the patient was diagnosed with an upper GI bleed. All of the following are likely causes except:</span></p>",
    "unique_key": "Q8050467",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946516,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) CA colon</strong></span></p>",
    "correct_choice_id": 376711,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94626,
    "choices": [
      {
        "id": 376712,
        "text": "<p><span style=\"font-size:14.0pt;\">Adenomatous polyposis</span></p>"
      },
      {
        "id": 376713,
        "text": "<p><span style=\"font-size:14.0pt;\">Hamartomatous polyposis</span></p>"
      },
      {
        "id": 376714,
        "text": "<p><span style=\"font-size:14.0pt;\">Inflammatory polyposis</span></p>"
      },
      {
        "id": 376715,
        "text": "<p><span style=\"font-size:14.0pt;\">Attenuated adenomatous polyposis</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the polyposis syndrome associated with this abnormality.</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_dcgahPH.png\" width=\"360\" height=\"227\"></span></p>",
    "unique_key": "Q2328083",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946587,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Hamartomatous polyposis</strong></span></p>",
    "correct_choice_id": 376713,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94627,
    "choices": [
      {
        "id": 376716,
        "text": "<p><span style=\"font-size:14.0pt;\">The disease may be infectious or autoimmune in origin</span></p>"
      },
      {
        "id": 376717,
        "text": "<p><span style=\"font-size:14.0pt;\">The disease can involve any part of GIT from mouth to anus</span></p>"
      },
      {
        "id": 376718,
        "text": "<p><span style=\"font-size:14.0pt;\">Granulomas are likely to be seen on biopsy of the ulcers</span></p>"
      },
      {
        "id": 376719,
        "text": "<p><span style=\"font-size:14.0pt;\">The diseases are surgically curable</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A young female presents with RIF pain and non-bloody diarrhoea for 2 months. Her stool exam reveals pus cells. She undergoes an ileo-colonoscopy and is found to have ileal ulcers.&nbsp; The doctor is considering two differentials for her. Which of these is incorrect?</span></p>",
    "unique_key": "Q6372580",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946608,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) The diseases are surgically curable</strong></span></p>",
    "correct_choice_id": 376719,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94628,
    "choices": [
      {
        "id": 376720,
        "text": "<p><span style=\"font-size:14.0pt;\">1 and 3</span></p>"
      },
      {
        "id": 376721,
        "text": "<p><span style=\"font-size:14.0pt;\">1, 3 and 4</span></p>"
      },
      {
        "id": 376722,
        "text": "<p><span style=\"font-size:14.0pt;\">1, 2 and 4</span></p>"
      },
      {
        "id": 376723,
        "text": "<p><span style=\"font-size:14.0pt;\">1, 2, 3 and 4</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these vessels are ligated at the root in a right hemicolectomy for CA cecum?</span></p><ol><li><span style=\"font-size:14.0pt;\">Ileocolic artery</span></li><li><span style=\"font-size:14.0pt;\">Superior mesenteric artery</span></li><li><span style=\"font-size:14.0pt;\">Right colic artery</span></li><li><span style=\"font-size:14.0pt;\">Middle colic artery</span></li></ol>",
    "unique_key": "Q2054925",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946629,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) 1 and 3</strong></span></p>",
    "correct_choice_id": 376720,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94629,
    "choices": [
      {
        "id": 376724,
        "text": "<p><span style=\"font-size:14.0pt;\">Parasympathetic - bladder dysfunction and retrograde ejaculation.</span></p>"
      },
      {
        "id": 376725,
        "text": "<p><span style=\"font-size:14.0pt;\">Parasympathetic - bladder dysfunction and impotence.</span></p>"
      },
      {
        "id": 376726,
        "text": "<p><span style=\"font-size:14.0pt;\">Sympathetic - retrograde ejaculation and bladder dysfunction.</span></p>"
      },
      {
        "id": 376727,
        "text": "<p><span style=\"font-size:14.0pt;\">Sympathetic - Impotence</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 52-year-old man undergoes an abdominoperineal resection for rectal carcinoma. During the procedure, there is notable difficulty during the lateral pelvic dissection, and postoperative assessments suggest possible nerve damage. What complication is most likely to arise if there were an injury to the Nervi Erigentes during the dissection?</span></p>",
    "unique_key": "Q6358789",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946630,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B)&nbsp;Parasympathetic - bladder dysfunction and impotence.</strong></span></p>",
    "correct_choice_id": 376725,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94631,
    "choices": [
      {
        "id": 376732,
        "text": "<p><span style=\"font-size:14.0pt;\">Barron\u2019s ligating kit</span></p>"
      },
      {
        "id": 376733,
        "text": "<p><span style=\"font-size:14.0pt;\">Circular Stapler for hemorrhoids</span></p>"
      },
      {
        "id": 376734,
        "text": "<p><span style=\"font-size:14.0pt;\">Hemorrhoidectomy kit</span></p>"
      },
      {
        "id": 376735,
        "text": "<p><span style=\"font-size:14.0pt;\">Fistula surgery kit</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A patient with a history of hematochezia undergoes a procedure using the device as shown. Identify the device.</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_JhLusRh.png\" width=\"452\" height=\"406\"></span></p>",
    "unique_key": "Q2808445",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946682,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) Barron\u2019s ligating kit</strong></span></p>",
    "correct_choice_id": 376732,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94632,
    "choices": [
      {
        "id": 376736,
        "text": "<p><span style=\"font-size:14.0pt;\">High pressure enema</span></p>"
      },
      {
        "id": 376737,
        "text": "<p><span style=\"font-size:14.0pt;\">Surgery</span></p>"
      },
      {
        "id": 376738,
        "text": "<p><span style=\"font-size:14.0pt;\">Passage of the flatus tube</span></p>"
      },
      {
        "id": 376739,
        "text": "<p><span style=\"font-size:14.0pt;\">Wait and watch</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A one-year-old child is brought with colicky abdominal pain and peri-umbilical lump which periodically disappears. Imaging reveals the following. X ray shows pneumoperitoneum. What is the next step?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_pJD9iqd.png\" width=\"354\" height=\"299\"></span></p>",
    "unique_key": "Q3380544",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946683,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Surgery</strong></span></p>",
    "correct_choice_id": 376737,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94633,
    "choices": [
      {
        "id": 376740,
        "text": "<p><span style=\"font-size:14.0pt;\">All of the above</span></p>"
      },
      {
        "id": 376741,
        "text": "<p><span style=\"font-size:14.0pt;\">I, II, III are correct</span></p>"
      },
      {
        "id": 376742,
        "text": "<p><span style=\"font-size:14.0pt;\">I, III, IV are correct</span></p>"
      },
      {
        "id": 376743,
        "text": "<p><span style=\"font-size:14.0pt;\">I, II, IV are correct</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">An appendicectomy was being performed on a patient with appendicitis. However, the surgeon was not able to localise the appendix after the initial gridiron incision. So, he planned to convert the incision to the Rutherford Morrison incision. Which muscles will he need to cut further in this case?&nbsp;</span></p><ol style=\"list-style-type:upper-roman;\"><li><span style=\"font-size:14.0pt;\">External oblique</span></li><li><span style=\"font-size:14.0pt;\">Internal oblique</span></li><li><span style=\"font-size:14.0pt;\">Rectus abdominis</span></li><li><span style=\"font-size:14.0pt;\">Transversus abdominis</span></li></ol>",
    "unique_key": "Q8685025",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946684,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) I, II, IV are correct</strong></span></p>",
    "correct_choice_id": 376743,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94634,
    "choices": [
      {
        "id": 376744,
        "text": "<p><span style=\"font-size:14.0pt;\">Rebound tenderness: 1 point</span></p>"
      },
      {
        "id": 376745,
        "text": "<p><span style=\"font-size:14.0pt;\">Fever: 1 point</span></p>"
      },
      {
        "id": 376746,
        "text": "<p><span style=\"font-size:14.0pt;\">Vomiting: 1 point</span></p>"
      },
      {
        "id": 376747,
        "text": "<p><span style=\"font-size:14.0pt;\">Pain starting in the right iliac fossa: 1 point</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is not a correctly scored component of the Alvarado score for acute appendicitis?</span></p>",
    "unique_key": "Q3107219",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946685,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Pain starting in the right iliac fossa: 1 point</strong></span></p>",
    "correct_choice_id": 376747,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94636,
    "choices": [
      {
        "id": 376752,
        "text": "<p><span style=\"font-size:14.0pt;\">Ripstein procedure&nbsp;</span></p>"
      },
      {
        "id": 376753,
        "text": "<p><span style=\"font-size:14.0pt;\">Thiersch procedure&nbsp;</span></p>"
      },
      {
        "id": 376754,
        "text": "<p><span style=\"font-size:14.0pt;\">Delorme\u2019s repair</span></p>"
      },
      {
        "id": 376755,
        "text": "<p><span style=\"font-size:14.0pt;\">Altemeier repair</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 75-year-old male patient with paralysis was operated on for rectal prolapse as shown in the image. Which of the following procedures is done?&nbsp;</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_SeNbFSR.png\" width=\"189\" height=\"247\"></span></p>",
    "unique_key": "Q9399263",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946687,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C) Delorme\u2019s repair</strong></span></p>",
    "correct_choice_id": 376754,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94637,
    "choices": [
      {
        "id": 376756,
        "text": "<p><span style=\"font-size:14.0pt;\">Posterior wall of inguinal canal is weak and formed by fascia transversalis</span></p>"
      },
      {
        "id": 376757,
        "text": "<p><span style=\"font-size:14.0pt;\">Roof of the inguinal canal is formed by the conjoint muscle</span></p>"
      },
      {
        "id": 376758,
        "text": "<p><span style=\"font-size:14.0pt;\">The medial wall of Hasselbach\u2019s triangle is formed by the inferior epigastric vessels</span></p>"
      },
      {
        "id": 376759,
        "text": "<p><span style=\"font-size:14.0pt;\">Congenital inguinal hernias are always of the indirect type</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the incorrect statement about inguinal anatomy.</span></p>",
    "unique_key": "Q8924581",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946728,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C) The medial wall of Hasselbach\u2019s triangle is formed by the inferior epigastric vessels</strong></span></p>",
    "correct_choice_id": 376758,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94639,
    "choices": [
      {
        "id": 376764,
        "text": "<p><span style=\"font-size:14.0pt;\">Direct, indirect as well as femoral hernias are separately denoted</span></p>"
      },
      {
        "id": 376765,
        "text": "<p><span style=\"font-size:14.0pt;\">The occurrence of hernia after previous repair is accounted for</span></p>"
      },
      {
        "id": 376766,
        "text": "<p><span style=\"font-size:14.0pt;\">The defect is assessed based on finger breadth&nbsp;</span></p>"
      },
      {
        "id": 376767,
        "text": "<p><span style=\"font-size:14.0pt;\">The type of content is included</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">According to European hernia society classification (EHS) for groin hernia, which of these is incorrect?</span></p>",
    "unique_key": "Q2563126",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946730,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D)&nbsp;The type of content is included</strong></span></p>",
    "correct_choice_id": 376767,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94640,
    "choices": [
      {
        "id": 376768,
        "text": "<p><span style=\"font-size:14.0pt;\">Onlay, Polypropylene</span></p>"
      },
      {
        "id": 376769,
        "text": "<p><span style=\"font-size:14.0pt;\">Sublay, Polypropylene</span></p>"
      },
      {
        "id": 376770,
        "text": "<p><span style=\"font-size:14.0pt;\">IPOM, Polypropylene</span></p>"
      },
      {
        "id": 376771,
        "text": "<p><span style=\"font-size:14.0pt;\">IPOM, Composite</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the technique of mesh placement and the type of mesh commonly used here.</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_u4ghuK2.png\" width=\"284\" height=\"244\"></span></p>",
    "unique_key": "Q9800753",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946731,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D)&nbsp;IPOM, Composite</strong></span></p>",
    "correct_choice_id": 376771,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94641,
    "choices": [
      {
        "id": 376772,
        "text": "<p><span style=\"font-size:14.0pt;\">Internal sphincter injury doesn\u2019t lead to fecal incontinence if the external sphincter is intact</span></p>"
      },
      {
        "id": 376773,
        "text": "<p><span style=\"font-size:14.0pt;\">Perianal abscess arises from glands in the inter-sphincteric plane</span></p>"
      },
      {
        "id": 376774,
        "text": "<p><span style=\"font-size:14.0pt;\">Internal hemorrhoids originate above the dentate line&nbsp;</span></p>"
      },
      {
        "id": 376775,
        "text": "<p><span style=\"font-size:14.0pt;\">Anal fissure is a mucosal tear above the dentate line</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the incorrect statement about anal canal disorders.</span></p>",
    "unique_key": "Q6934031",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946832,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Anal fissure is a mucosal tear above the dentate line</strong></span></p>",
    "correct_choice_id": 376775,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94642,
    "choices": [
      {
        "id": 376776,
        "text": "<p><span style=\"font-size:14.0pt;\">Adenocarcinoma of the stomach</span></p>"
      },
      {
        "id": 376777,
        "text": "<p><span style=\"font-size:14.0pt;\">GIST of the stomach</span></p>"
      },
      {
        "id": 376778,
        "text": "<p><span style=\"font-size:14.0pt;\">Intractable peptic ulcer disease</span></p>"
      },
      {
        "id": 376779,
        "text": "<p><span style=\"font-size:14.0pt;\">All of the above</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">The procedure shown in the image is performed for which of these indications?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_BmE92x5.png\" width=\"247\" height=\"347\"></span></p>",
    "unique_key": "Q8677288",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946892,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) Adenocarcinoma of the stomach</strong></span></p>",
    "correct_choice_id": 376776,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94644,
    "choices": [
      {
        "id": 376784,
        "text": "<p><span style=\"font-size:14.0pt;\">Perforated peptic ulcer, Graham\u2019s patch repair</span></p>"
      },
      {
        "id": 376785,
        "text": "<p><span style=\"font-size:14.0pt;\">Acute pancreatitis, Conservative management</span></p>"
      },
      {
        "id": 376786,
        "text": "<p><span style=\"font-size:14.0pt;\">Spontaneous perforation of the esophagus, Surgery</span></p>"
      },
      {
        "id": 376787,
        "text": "<p><span style=\"font-size:14.0pt;\">Mallory Weiss tear, UGI endoscopy</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A middle\u2011aged man complains of upper abdominal pain after a heavy meal. There is tenderness in the upper abdomen and on X-ray, widening of the mediastinum is seen with pneumomediastinum. What is the likely diagnosis and the management?</span></p>",
    "unique_key": "Q6721183",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946894,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C) Spontaneous perforation of the esophagus, Surgery</strong></span></p>",
    "correct_choice_id": 376786,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94647,
    "choices": [
      {
        "id": 376796,
        "text": "<p><span style=\"font-size:14.0pt;\">Crohn\u2019s disease: Montreal and Vienna</span></p>"
      },
      {
        "id": 376797,
        "text": "<p><span style=\"font-size:14.0pt;\">Achalasia- LA classification</span></p>"
      },
      {
        "id": 376798,
        "text": "<p><span style=\"font-size:14.0pt;\">Colorectal cancer- Dukes staging</span></p>"
      },
      {
        "id": 376799,
        "text": "<p><span style=\"font-size:14.0pt;\">HNPCC/Lynch- Amsterdam 2 criteria</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is incorrectly paired?</span></p>",
    "unique_key": "Q6045462",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946916,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Achalasia- LA classification</strong></span></p>",
    "correct_choice_id": 376797,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94649,
    "choices": [
      {
        "id": 376804,
        "text": "<p><span style=\"font-size:14.0pt;\">Type I hydatid cyst typically appears as a unilocular fluid-filled lesion with a double wall on imaging</span></p>"
      },
      {
        "id": 376805,
        "text": "<p><span style=\"font-size:14.0pt;\">Rupture of the cyst may lead to anaphylactic shock</span></p>"
      },
      {
        "id": 376806,
        "text": "<p><span style=\"font-size:14.0pt;\">Treatment is necessary in calcified hydatid cysts to prevent recurrence</span></p>"
      },
      {
        "id": 376807,
        "text": "<p><span style=\"font-size:14.0pt;\">PAIR (Puncture-Aspiration-Injection-Reaspiration) is an appropriate treatment modality for uncomplicated cysts</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 14-year-old girl is incidentally found to have a lesion on CT imaging. It is a well-defined calcified, cystic lesion in the liver as shown. All of the following statements regarding the disease are correct except:</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_3IfYiLh.png\" width=\"437\" height=\"315\"></span></p>",
    "unique_key": "Q2386762",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946917,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C) Treatment is necessary in calcified hydatid cysts to prevent recurrence</strong></span></p>",
    "correct_choice_id": 376806,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94651,
    "choices": [
      {
        "id": 376812,
        "text": "<p><span style=\"font-size:14.0pt;\">King\u2019s College criteria</span></p>"
      },
      {
        "id": 376813,
        "text": "<p><span style=\"font-size:14.0pt;\">Barcelona clinic</span></p>"
      },
      {
        "id": 376814,
        "text": "<p><span style=\"font-size:14.0pt;\">Milan criteria</span></p>"
      },
      {
        "id": 376815,
        "text": "<p><span style=\"font-size:14.0pt;\">CLIP and OKUDA</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 55-year-old male patient who is a known case of alcohol induced liver disease presented in OPD with pain in abdomen and unintentional weight loss. AST/ALT are normal, alpha fetoprotein is raised. A CECT reveals a rapidly enhancing liver lesion. Which of these staging systems and criteria are not used in this case to determine the treatment?</span></p>",
    "unique_key": "Q6524893",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946918,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) King\u2019s College criteria</strong></span></p>",
    "correct_choice_id": 376812,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94653,
    "choices": [
      {
        "id": 376820,
        "text": "<p><span style=\"font-size:14.0pt;\">1 and 2</span></p>"
      },
      {
        "id": 376821,
        "text": "<p><span style=\"font-size:14.0pt;\">1, 2, 3</span></p>"
      },
      {
        "id": 376822,
        "text": "<p><span style=\"font-size:14.0pt;\">2, 3, 4</span></p>"
      },
      {
        "id": 376823,
        "text": "<p><span style=\"font-size:14.0pt;\">All of the above</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of the below are risk factors for the development of gall bladder and biliary stones?</span></p><p><span style=\"font-size:14.0pt;\">1. Short bowel syndrome</span></p><p><span style=\"font-size:14.0pt;\">2. Oral contraceptives</span></p><p><span style=\"font-size:14.0pt;\">3. Impaired gall bladder motility</span></p><p><span style=\"font-size:14.0pt;\">4. Clonorchis Sinensis</span></p>",
    "unique_key": "Q8776257",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946940,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) All of the above</strong></span></p>",
    "correct_choice_id": 376823,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94654,
    "choices": [
      {
        "id": 376824,
        "text": "<p><span style=\"font-size:14.0pt;\">Rouviere\u2019s sulcus</span></p>"
      },
      {
        "id": 376825,
        "text": "<p><span style=\"font-size:14.0pt;\">Cystic artery</span></p>"
      },
      {
        "id": 376826,
        "text": "<p><span style=\"font-size:14.0pt;\">Cystic duct</span></p>"
      },
      {
        "id": 376827,
        "text": "<p><span style=\"font-size:14.0pt;\">Common bile duct</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify this marked structure in lap cholecystectomy.</span></p><p>&nbsp;</p><p><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_AWRpYvS.png\" width=\"539\" height=\"318\"></p>",
    "unique_key": "Q5067071",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946941,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B)&nbsp;Cystic artery</strong></span></p>",
    "correct_choice_id": 376825,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94655,
    "choices": [
      {
        "id": 376828,
        "text": "<p><span style=\"font-size:14.0pt;\">The most common location of cholangiocarcinoma is hilum</span></p>"
      },
      {
        "id": 376829,
        "text": "<p><span style=\"font-size:14.0pt;\">Incidentally detect gall bladder cancer post cholecystectomy requires re-operation if invading muscularis</span></p>"
      },
      {
        "id": 376830,
        "text": "<p><span style=\"font-size:14.0pt;\">CA 19.9 is an associated tumor marker</span></p>"
      },
      {
        "id": 376831,
        "text": "<p><span style=\"font-size:14.0pt;\">Surgical cure is possible in 90% cases of CA GB</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is incorrect about biliary tract malignancies?</span></p>",
    "unique_key": "Q6873863",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946942,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Surgical cure is possible in 90% cases of CA GB</strong></span></p>",
    "correct_choice_id": 376831,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94657,
    "choices": [
      {
        "id": 376836,
        "text": "<p><span style=\"font-size:14.0pt;\">The next diagnostic step would be MRCP</span></p>"
      },
      {
        "id": 376837,
        "text": "<p><span style=\"font-size:14.0pt;\">Laparoscopic cholecystectomy is not a must in the management of the condition</span></p>"
      },
      {
        "id": 376838,
        "text": "<p><span style=\"font-size:14.0pt;\">If untreated, it may lead to high-grade fever and hypotension</span></p>"
      },
      {
        "id": 376839,
        "text": "<p><span style=\"font-size:14.0pt;\">CBD exploration with choledocho-duodenostomy may be needed in select cases</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 35-year-old lady presents to the emergency department with abdominal pain. An abdominal ultrasound reveals the presence of multiple gallstones with no evidence of wall thickening. The bile duct diameter is measured as 12 mm, along with Intrahepatic biliary dilation, and serum bilirubin levels are elevated at 2.8 mg%. The patient's alkaline phosphatase levels are significantly elevated at 680. Which of these is incorrect?</span></p>",
    "unique_key": "Q8975935",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946944,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Laparoscopic cholecystectomy is not a must in the management of the condition</strong></span></p>",
    "correct_choice_id": 376837,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94658,
    "choices": [
      {
        "id": 376840,
        "text": "<p><span style=\"font-size:14.0pt;\">Bismuth&nbsp;</span></p>"
      },
      {
        "id": 376841,
        "text": "<p><span style=\"font-size:14.0pt;\">Strassberg</span></p>"
      },
      {
        "id": 376842,
        "text": "<p><span style=\"font-size:14.0pt;\">Hannover</span></p>"
      },
      {
        "id": 376843,
        "text": "<p><span style=\"font-size:14.0pt;\">Stewart Way</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is not a system of classification of acute bile duct injury?</span></p>",
    "unique_key": "Q7502236",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946945,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) Bismuth</strong></span></p>",
    "correct_choice_id": 376840,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94660,
    "choices": [
      {
        "id": 376848,
        "text": "<p><span style=\"font-size:14.0pt;\">Side-viewing endoscope</span></p>"
      },
      {
        "id": 376849,
        "text": "<p><span style=\"font-size:14.0pt;\">Choledochoscope</span></p>"
      },
      {
        "id": 376850,
        "text": "<p><span style=\"font-size:14.0pt;\">USG guided</span></p>"
      },
      {
        "id": 376851,
        "text": "<p><span style=\"font-size:14.0pt;\">Open surgery</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">The device shown in the image is placed in the CBD with the aid of?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_S2q1FXC.png\" width=\"344\" height=\"344\"></span></p>",
    "unique_key": "Q7354161",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946956,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Open surgery</strong></span></p>",
    "correct_choice_id": 376851,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94661,
    "choices": [
      {
        "id": 376852,
        "text": "<p><span style=\"font-size:14.0pt;\">It can control bleeding from gastric varices</span></p>"
      },
      {
        "id": 376853,
        "text": "<p><span style=\"font-size:14.0pt;\">It is inserted orally</span></p>"
      },
      {
        "id": 376854,
        "text": "<p><span style=\"font-size:14.0pt;\">It can be used for 1-2 weeks</span></p>"
      },
      {
        "id": 376855,
        "text": "<p><span style=\"font-size:14.0pt;\">It lacks an esophageal aspiration port</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the incorrect feature of the tube shown in the image.</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_gJlFQRx.png\" width=\"475\" height=\"241\"></span></p>",
    "unique_key": "Q3300016",
    "question_audio": null,
    "question_video": null,
    "map_id": 34946977,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C) It can be used for 1-2 weeks</strong></span></p>",
    "correct_choice_id": 376854,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94665,
    "choices": [
      {
        "id": 376864,
        "text": "<p><span style=\"font-size:14.0pt;\">Iatrogenic splenic rupture</span></p>"
      },
      {
        "id": 376865,
        "text": "<p><span style=\"font-size:14.0pt;\">Immune thrombocytopenia purpura</span></p>"
      },
      {
        "id": 376866,
        "text": "<p><span style=\"font-size:14.0pt;\">Symptomatic hypersplenism</span></p>"
      },
      {
        "id": 376867,
        "text": "<p><span style=\"font-size:14.0pt;\">Bone marrow failure</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of the following is not an indication for splenectomy?</span></p>",
    "unique_key": "Q1392006",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947079,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Bone marrow failure</strong></span></p>",
    "correct_choice_id": 376867,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94666,
    "choices": [
      {
        "id": 376868,
        "text": "<p><span style=\"font-size:14.0pt;\">Serum amylase levels increase earlier than lipase</span></p>"
      },
      {
        "id": 376869,
        "text": "<p><span style=\"font-size:14.0pt;\">CECT is done within 3 days of symptoms for diagnosis</span></p>"
      },
      {
        "id": 376870,
        "text": "<p><span style=\"font-size:14.0pt;\">Serum Lipase levels reflect the severity</span></p>"
      },
      {
        "id": 376871,
        "text": "<p><span style=\"font-size:14.0pt;\">Presence of acute fluid collection for more than 2 weeks is known as acute pseudocyst of pancreas</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is true about acute pancreatitis?</span></p>",
    "unique_key": "Q2470285",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947135,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) Serum amylase levels increase earlier than lipase</strong></span></p>",
    "correct_choice_id": 376868,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94667,
    "choices": [
      {
        "id": 376872,
        "text": "<p><span style=\"font-size:14.0pt;\">BUN</span></p>"
      },
      {
        "id": 376873,
        "text": "<p><span style=\"font-size:14.0pt;\">SIRS</span></p>"
      },
      {
        "id": 376874,
        "text": "<p><span style=\"font-size:14.0pt;\">Impaired mental status</span></p>"
      },
      {
        "id": 376875,
        "text": "<p><span style=\"font-size:14.0pt;\">PT (prothrombin time) increase&nbsp;</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">All of the following are a part of the BISAP score except?</span></p>",
    "unique_key": "Q7196867",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947136,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) PT (prothrombin time) increase&nbsp;</strong></span></p>",
    "correct_choice_id": 376875,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94669,
    "choices": [
      {
        "id": 376880,
        "text": "<p><span style=\"font-size:14.0pt;\">1 and 3</span></p>"
      },
      {
        "id": 376881,
        "text": "<p><span style=\"font-size:14.0pt;\">1 and 4</span></p>"
      },
      {
        "id": 376882,
        "text": "<p><span style=\"font-size:14.0pt;\">2 and 3</span></p>"
      },
      {
        "id": 376883,
        "text": "<p><span style=\"font-size:14.0pt;\">2 and 4</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of the following statements about inguinal hernias are true?</span></p><ol><li><span style=\"font-size:14.0pt;\">Medial border of the triangle of doom is bound by gonadal vessels</span></li><li><span style=\"font-size:14.0pt;\">Medial border of the triangle of doom is bound by Vas deferens</span></li><li><span style=\"font-size:14.0pt;\">Medial border of myopectineal orifice is bound by rectus abdominis.</span></li><li><span style=\"font-size:14.0pt;\">Medial border of myopectineal orifice is bound by iliopsoas</span></li></ol>",
    "unique_key": "Q6692517",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947138,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C)&nbsp;2 and 3</strong></span></p>",
    "correct_choice_id": 376882,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94670,
    "choices": [
      {
        "id": 376884,
        "text": "<p><span style=\"font-size:14.0pt;\">Periampullary CA</span></p>"
      },
      {
        "id": 376885,
        "text": "<p><span style=\"font-size:14.0pt;\">Chronic calcific pancreatitis</span></p>"
      },
      {
        "id": 376886,
        "text": "<p><span style=\"font-size:14.0pt;\">Distal cholangiocarcinoma</span></p>"
      },
      {
        "id": 376887,
        "text": "<p><span style=\"font-size:14.0pt;\">Chronic ductal pancreatitis</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">The following procedure is performed for the management of:</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_VSwrr2n.png\" width=\"386\" height=\"406\"></span></p>",
    "unique_key": "Q6761416",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947139,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) Chronic ductal pancreatitis</strong></span></p>",
    "correct_choice_id": 376887,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94671,
    "choices": [
      {
        "id": 376888,
        "text": "<p><span style=\"font-size:14.0pt;\">Lipase</span></p>"
      },
      {
        "id": 376889,
        "text": "<p><span style=\"font-size:14.0pt;\">Elastase</span></p>"
      },
      {
        "id": 376890,
        "text": "<p><span style=\"font-size:14.0pt;\">Calprotectin</span></p>"
      },
      {
        "id": 376891,
        "text": "<p><span style=\"font-size:14.0pt;\">Bile acids</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A patient who is a known alcoholic presented with complaints of chronic pain in the epigastric region with occasional flare-ups of the pain over a background discomfort. He also complains of greasy stools that stick to the pan. He has recently also developed diabetes. Which substance in stools can be measured to test for pancreatic function in this case?</span></p>",
    "unique_key": "Q7722263",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947140,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B)&nbsp;Elastase</strong></span></p>",
    "correct_choice_id": 376889,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94672,
    "choices": [
      {
        "id": 376892,
        "text": "<p><span style=\"font-size:14.0pt;\">Most likely malignant</span></p>"
      },
      {
        "id": 376893,
        "text": "<p><span style=\"font-size:14.0pt;\">Symptoms are often due to the release of catecholamines</span></p>"
      },
      {
        "id": 376894,
        "text": "<p><span style=\"font-size:14.0pt;\">Somatostatin receptor scintigraphy is not very sensitive</span></p>"
      },
      {
        "id": 376895,
        "text": "<p><span style=\"font-size:14.0pt;\">Surgery of choice is enucleation</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">All of the following are true about insulinoma except?</span></p>",
    "unique_key": "Q7358212",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947141,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. A) Most likely malignant</strong></span></p>",
    "correct_choice_id": 376892,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94674,
    "choices": [
      {
        "id": 376900,
        "text": "<p><span style=\"font-size:14.0pt;\">Serum Chromogranin A</span></p>"
      },
      {
        "id": 376901,
        "text": "<p><span style=\"font-size:14.0pt;\">Fasting gastrin</span></p>"
      },
      {
        "id": 376902,
        "text": "<p><span style=\"font-size:14.0pt;\">Fasting Insulin</span></p>"
      },
      {
        "id": 376903,
        "text": "<p><span style=\"font-size:14.0pt;\">Fasting Glucagon</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 55-year-old female recently diagnosed diabetic presents to OPD with rash as shown in the image. She is also suffering from clinical depression and is under medications. What blood investigation will you advise?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_zSTIxpl.png\" width=\"367\" height=\"299\"></span></p>",
    "unique_key": "Q4381843",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947143,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D)&nbsp;Fasting Glucagon</strong></span></p>",
    "correct_choice_id": 376903,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94675,
    "choices": [
      {
        "id": 376904,
        "text": "<p><span style=\"font-size:14.0pt;\">Banding has lower rebleed risk than sclerotherapy</span></p>"
      },
      {
        "id": 376905,
        "text": "<p><span style=\"font-size:14.0pt;\">All visible varices should be banded/sclerosed</span></p>"
      },
      {
        "id": 376906,
        "text": "<p><span style=\"font-size:14.0pt;\">If the&nbsp;patient has rebleed, another attempt at endoscopic management may be done</span></p>"
      },
      {
        "id": 376907,
        "text": "<p><span style=\"font-size:14.0pt;\">Gastric varices are managed by cyanoacrylate glue injection</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is incorrect regarding endoscopic management of variceal bleed?&nbsp;</span></p>",
    "unique_key": "Q8972116",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947144,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B)&nbsp;All visible varices should be banded/sclerosed</strong></span></p>",
    "correct_choice_id": 376905,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94677,
    "choices": [
      {
        "id": 376912,
        "text": "<p><span style=\"font-size:14.0pt;\">Immediate craniotomy</span></p>"
      },
      {
        "id": 376913,
        "text": "<p><span style=\"font-size:14.0pt;\">Observe</span></p>"
      },
      {
        "id": 376914,
        "text": "<p><span style=\"font-size:14.0pt;\">MRI brain</span></p>"
      },
      {
        "id": 376915,
        "text": "<p><span style=\"font-size:14.0pt;\">Mannitol IV</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 50 year old male presented with head trauma during a cricket game. He had transient loss of consciousness, but is currently lucid. CT brain shows the following. The next step is:</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_r9Q0GPn.png\" width=\"420\" height=\"420\"></span></p>",
    "unique_key": "Q2365879",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947246,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Observe</strong></span></p>",
    "correct_choice_id": 376913,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94678,
    "choices": [
      {
        "id": 376916,
        "text": "<p><span style=\"font-size:14.0pt;\">CECT</span></p>"
      },
      {
        "id": 376917,
        "text": "<p><span style=\"font-size:14.0pt;\">Exploratory Laparotomy</span></p>"
      },
      {
        "id": 376918,
        "text": "<p><span style=\"font-size:14.0pt;\">Detailed abdominal sonogram</span></p>"
      },
      {
        "id": 376919,
        "text": "<p><span style=\"font-size:14.0pt;\">Start vasopressors</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A young patient suffered from penetrating trauma to the abdomen and was brought to the Emergency room. He is unstable with a blood pressure of 90/60 mm of Hg. Basic resuscitation is done with Intravenous fluids. He is not improving despite Intravenous fluids. Wound evaluation reveals a peritoneal breach. The next step is?</span></p>",
    "unique_key": "Q9472913",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947247,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Exploratory Laparotomy</strong></span></p>",
    "correct_choice_id": 376917,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94680,
    "choices": [
      {
        "id": 376924,
        "text": "<p><span style=\"font-size:14.0pt;\">Cardiac tamponade following penetrating trauma warrants surgical exploration</span></p>"
      },
      {
        "id": 376925,
        "text": "<p><span style=\"font-size:14.0pt;\">eFAST is useful in unstable patients</span></p>"
      },
      {
        "id": 376926,
        "text": "<p><span style=\"font-size:14.0pt;\">Splenic injury is categorised on CECT by AAST grading</span></p>"
      },
      {
        "id": 376927,
        "text": "<p><span style=\"font-size:14.0pt;\">Flail chest is commonly managed by thoracotomy</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of the following statements is incorrect about traumatic injuries to torso?</span></p>",
    "unique_key": "Q9058320",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947249,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D)&nbsp;Flail chest is commonly managed by thoracotomy</strong></span></p>",
    "correct_choice_id": 376927,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94681,
    "choices": [
      {
        "id": 376928,
        "text": "<p><span style=\"font-size:14.0pt;\">8</span></p>"
      },
      {
        "id": 376929,
        "text": "<p><span style=\"font-size:14.0pt;\">9</span></p>"
      },
      {
        "id": 376930,
        "text": "<p><span style=\"font-size:14.0pt;\">10</span></p>"
      },
      {
        "id": 376931,
        "text": "<p><span style=\"font-size:14.0pt;\">11</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A road traffic accident patient is confused, opens his eyes on painful stimuli, flexes one limb on painful stimuli, and can localize the stimulus with the other limb. Both his pupils are reactive to light. His Glasgow Coma Scale- Pupillary (GCS-P) score is?</span></p>",
    "unique_key": "Q1498601",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947250,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. D) 11</strong></span></p>",
    "correct_choice_id": 376931,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94682,
    "choices": [
      {
        "id": 376932,
        "text": "<p><span style=\"font-size:14.0pt;\">Needle decompression in the 5th intercostal space</span></p>"
      },
      {
        "id": 376933,
        "text": "<p><span style=\"font-size:14.0pt;\">Tube thoracostomy in the 5th intercostal space</span></p>"
      },
      {
        "id": 376934,
        "text": "<p><span style=\"font-size:14.0pt;\">Endotracheal intubation</span></p>"
      },
      {
        "id": 376935,
        "text": "<p><span style=\"font-size:14.0pt;\">Emergency thoracotomy</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">An adult male, following a road traffic accident, was brought to the emergency with respiratory distress. On clinical evaluation, the breath sounds were absent on the right side. His O2 saturation is 96%, Pulse 110/minute, and BP 90/60 mm of Hg. The condition improved with fluid resuscitation. Chest X-Ray showed the following. What is the next step in the management of this patient?</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_El39PRG.png\" width=\"382\" height=\"331\"></span></p>",
    "unique_key": "Q5534311",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947351,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Tube thoracostomy in the 5th intercostal space</strong></span></p>",
    "correct_choice_id": 376933,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94684,
    "choices": [
      {
        "id": 376940,
        "text": "<p><span style=\"font-size:14.0pt;\">Grade I&nbsp;</span></p>"
      },
      {
        "id": 376941,
        "text": "<p><span style=\"font-size:14.0pt;\">Grade II</span></p>"
      },
      {
        "id": 376942,
        "text": "<p><span style=\"font-size:14.0pt;\">Grade III</span></p>"
      },
      {
        "id": 376943,
        "text": "<p><span style=\"font-size:14.0pt;\">Grade IV</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">A 55-year-old male presents with complaints of pain in the calf muscles after walking for a certain distance. He is able to walk with a limp as the pain is bearable. Based on Boyd\u2019s classification, what is the most likely diagnosis?</span></p>",
    "unique_key": "Q1809912",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947523,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B)&nbsp;Grade II</strong></span></p>",
    "correct_choice_id": 376941,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94685,
    "choices": [
      {
        "id": 376944,
        "text": "<p><span style=\"font-size:14.0pt;\">Affects young male smokers</span></p>"
      },
      {
        "id": 376945,
        "text": "<p><span style=\"font-size:14.0pt;\">Is associated with DVT</span></p>"
      },
      {
        "id": 376946,
        "text": "<p><span style=\"font-size:14.0pt;\">Raynaud\u2019s phenomenon is seen</span></p>"
      },
      {
        "id": 376947,
        "text": "<p><span style=\"font-size:14.0pt;\">Occlusion of crural arteries like anterior tibial in lower limb is seen</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Which of these is incorrect about Buerger\u2019s disease?</span></p>",
    "unique_key": "Q9708454",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947524,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) Is associated with DVT</strong></span></p>",
    "correct_choice_id": 376945,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94686,
    "choices": [
      {
        "id": 376948,
        "text": "<p><span style=\"font-size:14.0pt;\">Artery</span></p>"
      },
      {
        "id": 376949,
        "text": "<p><span style=\"font-size:14.0pt;\">Vein</span></p>"
      },
      {
        "id": 376950,
        "text": "<p><span style=\"font-size:14.0pt;\">Lymphatic</span></p>"
      },
      {
        "id": 376951,
        "text": "<p><span style=\"font-size:14.0pt;\">Cardiovascular</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the affected system responsible for limb swelling shown in the image.</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_B2htH8d.png\" width=\"305\" height=\"342\"></span></p>",
    "unique_key": "Q9688315",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947665,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C) Lymphatic</strong></span></p>",
    "correct_choice_id": 376950,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94687,
    "choices": [
      {
        "id": 376952,
        "text": "<p><span style=\"font-size:14.0pt;\">C3: Edema.</span></p>"
      },
      {
        "id": 376953,
        "text": "<p><span style=\"font-size:14.0pt;\">C4a: Lipodermasclerosis</span></p>"
      },
      {
        "id": 376954,
        "text": "<p><span style=\"font-size:14.0pt;\">C4b: Atrophie blanche</span></p>"
      },
      {
        "id": 376955,
        "text": "<p><span style=\"font-size:14.0pt;\">C4c: Corona phlebectatica</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">Identify the mismatch in C stage of CEAP classification of varicose veins.</span></p>",
    "unique_key": "Q2054448",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947666,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. B) C4a: Lipodermasclerosis</strong></span></p>",
    "correct_choice_id": 376953,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  },
  {
    "id": 94688,
    "choices": [
      {
        "id": 376956,
        "text": "<p><span style=\"font-size:14.0pt;\">It is called the Tessari technique of foam sclerotherapy.</span></p>"
      },
      {
        "id": 376957,
        "text": "<p><span style=\"font-size:14.0pt;\">A common sclerosant used is sodium tetradecyl sulphate.</span></p>"
      },
      {
        "id": 376958,
        "text": "<p><span style=\"font-size:14.0pt;\">Ratio of sclerosant to air is 1:7-1:8.</span></p>"
      },
      {
        "id": 376959,
        "text": "<p><span style=\"font-size:14.0pt;\">Its efficacy is usually lower than endothermal ablation.</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:14.0pt;\">All of the following are true regarding the following technique for varicose veins treatment except:</span></p><p>&nbsp;</p><p><span style=\"font-size:14.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/image_c6frFca.png\" width=\"443\" height=\"461\"></span></p>",
    "unique_key": "Q2321639",
    "question_audio": null,
    "question_video": null,
    "map_id": 34947667,
    "difficulty_level": "intermediate",
    "subjects_id": [
      12
    ],
    "solution": "<p><span style=\"font-size:14.0pt;\"><strong>Ans. C) Ratio of sclerosant to air is 1:7-1:8.</strong></span></p>",
    "correct_choice_id": 376958,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": "",
    "video_explanation_heading": "",
    "solution_media_position": "bottom",
    "tags": []
  }
];
        let quizName = 'Surgery E&D - Mission 3 0 (Batch 1, Lap 1) - 06-10-2025';
        const quizFilename = 'surgery-e-d-mission-3-0-batch-1-lap-1-06-10-2025-ce81febb.html';
        let hierarchy = ["Cerebellum", "Mock Test", "E&D Mision 3.0"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>