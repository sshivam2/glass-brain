<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>02 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pediatrics
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">14</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>While evaluating a 3-year-old with short stature, height is measured at 90cm and the lower segment is 45 cm. What is the likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Achondroplasia"
      },
      {
        "id": 2,
        "text": "Congenital hypothyroidism"
      },
      {
        "id": 3,
        "text": "Rickets"
      },
      {
        "id": 4,
        "text": "Spondyloepiphyseal dysplasia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) <span class=\"customMeta\" data-dictid=\"2b7a3c33741692777199442aa6fb48\">Spondyloepiphyseal</span> <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> </strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>In the given scenario, the upper segment: lower segment ratio of the child is 1:1 signifying upper segment <span class=\"customMeta\" data-dictid=\"89170298ec1692777198eac32ce789\">short stature</span> which is seen in <strong>spondyloepiphyseal dysplasia.</strong><strong> </strong></p>\n\n<p>The normal US: LS ratio for a 3-year-old child is 1.3: 1.</p>\n\n<p>Here the height of the child is 90cm with LS = 45cm.</p>\n\n<p>Hence the US = 45cm.</p>\n\n<p>US: LS = 1:1.</p>\n\n<p>This means that the upper segment is shorter than normal.</p>\n\n<ul>\n\t<li><strong>Spondyloepiphyseal <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> </strong>causes short-trunk <span class=\"customMeta\" data-dictid=\"adc6945ae81692777186b584a8a68b\">dwarfism</span> involving the <span class=\"customMeta\" data-dictid=\"9c0b99fa0816927772010e947b4ef6\">vertebrae</span> and <span class=\"customMeta\" data-dictid=\"bdbac654081692777196f9aab116f0\">proximal</span> <span class=\"customMeta\" data-dictid=\"dc486020a916927771874098596bbc\">epiphyseal</span> centres.</li>\n\t<li>The <span class=\"customMeta\" data-dictid=\"5ff25303a01692777186731f6a4f5c\">distal</span> <span class=\"customMeta\" data-dictid=\"5db2714d031692777187a796d80157\">epiphyses</span> are spared in this condition.</li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:717px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Proportionate <span class=\"customMeta\" data-dictid=\"89170298ec1692777198eac32ce789\">Short Stature</span> </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Conditions Causing <span class=\"customMeta\" data-dictid=\"89170298ec1692777198eac32ce789\">Short Stature</span> with US > LS </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Conditions Causing <span class=\"customMeta\" data-dictid=\"89170298ec1692777198eac32ce789\">Short Stature</span> with US < LS</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Growth hormone deficiency</li>\n\t\t\t\t<li>Genetic syndromes: Noonan syndrome, Prader-Willi syndrome, 3M syndrome</li>\n\t\t\t\t<li>Environmental pollutants: Lead, calcium, hexachlorobenzene, polychlorinated biphenyl</li>\n\t\t\t\t<li>Family history</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Achondroplasia <strong>(Option A)</strong></li>\n\t\t\t\t<li>Congenital <span class=\"customMeta\" data-dictid=\"8d4d1904791692777189941782330d\">hypothyroidism</span> <strong>(Option B)</strong></li>\n\t\t\t\t<li>Turner syndrome</li>\n\t\t\t\t<li>Diastrophic dysplasia</li>\n\t\t\t\t<li>Rickets <strong>(Option C)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Spondyliepiphyseal <span class=\"customMeta\" data-dictid=\"984733db481692777186757cce6e6b\">dysplasia</span> (Option D)</strong></li>\n\t\t\t\t<li>Morquio syndrome</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>At which of the following ages does maximum brain growth occur?</p>",
    "choices": [
      {
        "id": 1,
        "text": "1 year"
      },
      {
        "id": 2,
        "text": "2 years"
      },
      {
        "id": 3,
        "text": "3 years"
      },
      {
        "id": 4,
        "text": "4 years"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option</strong> <strong>A - 1 year:</strong></p>\n\n<ul>\n\t<li>The first year of life is marked by the most rapid brain growth. By the end of the first year, the brain reaches about 60% of its adult size. This period is critical for neurodevelopment, with significant increases in brain volume and <span class=\"customMeta\" data-dictid=\"b00388be25169277719369b3ab059f\">neural</span> connections.</li>\n</ul>\n\n<p><strong>Incorrect options:</strong></p>\n\n<p><strong>Option B -</strong> <strong>2 years</strong>:</p>\n\n<ul>\n\t<li>Brain growth continues, but the rate slows down after the first year. By 2 years of age, the brain is approximately 75% of its adult size, but the most intense phase of growth has already occurred.</li>\n</ul>\n\n<p><strong>Option C -</strong> <strong>3 years</strong>:</p>\n\n<ul>\n\t<li>By 3 years, the brain is about 80-85% of its adult size. Growth is still significant, but it is not as rapid as during the first year.</li>\n</ul>\n\n<p><strong>Option D -</strong> <strong>4 years</strong>:</p>\n\n<ul>\n\t<li>The brain's growth rate further decreases, reaching around 90% of its adult size by this age. Most brain development in terms of structure is completed, but functional <span class=\"customMeta\" data-dictid=\"76948f718016927771924774ade7e9\">maturation</span> continues.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 10 year old child presented to the clinic with complaints of recurrent infection. Physical examination shows low height for age and Z line score is <-2SD. The parents also have a history of incorrect feeding method. What is the appropriate term for the above mentioned condition?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Stunting"
      },
      {
        "id": 2,
        "text": "Wasting"
      },
      {
        "id": 3,
        "text": "Malnutrition"
      },
      {
        "id": 4,
        "text": "Kwashiorkor"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a0Stunting: </strong></p>\n\n<ul>\n\t<li>This is the correct answer. Stunting, or chronic malnutrition, is defined as low height-for-age. This condition is a result of long-term nutritional deprivation, often exacerbated by <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> infections. A Z-score of less than -2 standard deviations (SD) below the <span class=\"customMeta\" data-dictid=\"979385c98a1692777192fb1721a16e\">median</span> of the World Health Organization's child growth standards is indicative of stunting. The history of incorrect <span class=\"customMeta\" data-dictid=\"11a5eea407169277720251b8446fa7\">feeding</span> method provided by the parents further supports this diagnosis.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option B - Wasting: </strong>Wasting, or <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> malnutrition, is defined as low weight-for-height. It's a sign of recent and severe weight loss, which does not seem to be the case with the child described in the question.</p>\n\n<p><strong>Option C - Malnutrition: </strong>While the child is indeed malnourished, this term is broad and doesn't specify the type of malnutrition. In this case, the child's low height-for-age and Z-score of <-2SD indicate stunting, a specific <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> of malnutrition.</p>\n\n<p><strong>Option D - Kwashiorkor: </strong>Kwashiorkor is a <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> of severe <span class=\"customMeta\" data-dictid=\"cbd2d1fd521692777191d00c1a4ede\">malnutrition</span> characterized by <span class=\"customMeta\" data-dictid=\"18b452e75916927771864c9ad533e1\">edema</span> (swelling), discolored hair, and dermatosis. It's typically caused by a diet high in carbohydrates but deficient in protein. The question does not provide any information suggesting the child has these symptoms.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following is the best sign to indicate adequate growth in an infant with a birth weight of 2.8 kg?<br />\n<br />\n\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Increase in length of 25 cm in the first year"
      },
      {
        "id": 2,
        "text": "Weight gain of 300 grams per month till 1 year"
      },
      {
        "id": 3,
        "text": "Anterior fontanelle closure by 6 months of age"
      },
      {
        "id": 4,
        "text": "Weight under the 75th percentile and height under the 25th percentile"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Increase in length of 25 cm in the first year</strong></p>\n\n<p><strong>Explanation: </strong>The best indicator of adequate growth in an infant is an <strong>increase in length of 25 cm in the first year.</strong></p>\n\n<ul>\n\t<li>Normal length at birth: 50cm.</li>\n\t<li><strong>In the first year, there is an increase of 25cm</strong>, so at 1 year the height is 75cm.</li>\n\t<li>In the second year there is an increase of 10-15cm, so at 2 years the height is 85-90cm.</li>\n\t<li>There is a steady increase of 6cm/year till 12 years.</li>\n\t<li>Height <strong>doubles</strong> by <strong>4</strong> years</li>\n\t<li>Height <strong>triples </strong>by <strong>12</strong> years</li>\n\t<li>Half of adult height in a normal child (80-85cm) is achieved by 2 years (18-24 months).</li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:400px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\"><strong>Age</strong></td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\"><strong>Length</strong></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>At birth</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>50cm</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>By 3 months</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>60cm</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>By 9 months</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>70cm</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>By 1 year<strong> </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>75cm</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>At 2 years</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>90cm</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>At 4-4.5 years</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>100cm</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Weech's formula</strong> to estimate the expected weight and height of children using age as a variable.</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>For <1 year : </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>x + 9 \u00f7 2 (</strong> Where x is age in months )</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>For 1-6 years : </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>2x + 8 (</strong> Where x is age in years )</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>For 7-12 years : </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>7x - 5 \u00f7 2 (</strong> Where x is age in years )</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Weight gain of 300 grams per month till 1 year (Option B): </strong>In the first few months, weight gain typically varies from 20-40 grams per day, and after 4 months, it increases to approximately 400 grams per month, with doubling at 5 months and<strong> tripling by 1 year. </strong></p>\n\n<p><strong>Anterior fontanelle closure by 6 months of age (Option C): </strong>The anterior fontanelle typically closes <strong>between 9 and 18 months,</strong> not by 6 months, making it an unreliable indicator for growth.</p>\n\n<p><strong>Weight under the 75th percentile and height under the 25th percentile (Option D):</strong> Percentiles are used to compare an infant\u2019s growth measurements with a reference population. However, being under the 75th percentile for weight and under the 25th percentile for height does not guarantee adequate growth.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 6-year-old child is brought for evaluation of short stature. His height is comparable with his parent\u2019s height and his bone age corresponds to his chronological age. What is the diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Familial short stature"
      },
      {
        "id": 2,
        "text": "Constitutional delay"
      },
      {
        "id": 3,
        "text": "Undernutrition"
      },
      {
        "id": 4,
        "text": "Growth hormone deficiency"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer A - <span class=\"customMeta\" data-dictid=\"5dda3cc2ab1692777202b3b3c65bea\">Familial</span> short stature</strong></p>\n\n<ul>\n\t<li>The clinical presentation indicates<strong> <span class=\"customMeta\" data-dictid=\"5dda3cc2ab1692777202b3b3c65bea\">familial</span> short stature,</strong> which is characterized by<strong> height below the 3rd <span class=\"customMeta\" data-dictid=\"8b22fa5ed1169277719587132297ce\">percentile</span> for age and sex but is normal according to the child's genetic potential</strong>, as determined by parental heights.</li>\n\t<li>Key features supporting this diagnosis include <span class=\"customMeta\" data-dictid=\"627954967a1692777183a81869cece\">bone age</span> <span class=\"customMeta\" data-dictid=\"75e8739695169277719138884fec36\">matching</span> chronological age and height being consistent with parental heights, <strong>suggesting genetic rather than <span class=\"customMeta\" data-dictid=\"c0c247b89916927771948bc5e6d39c\">pathological</span> short stature</strong>.</li>\n</ul>\n\n<p><strong>Characteristics of <span class=\"customMeta\" data-dictid=\"5dda3cc2ab1692777202b3b3c65bea\">Familial</span> Short Stature:</strong></p>\n\n<ul>\n\t<li>Child's height is <3rd <span class=\"customMeta\" data-dictid=\"8b22fa5ed1169277719587132297ce\">percentile</span> of expected according to age & sex, but is normal as per his target height</li>\n\t<li>Child has normal puberty</li>\n\t<li>Family history of short stature</li>\n\t<li>Bone age = chronological age</li>\n</ul>\n\n<p><strong>Constitutional delay (Option B): </strong>In constitutional growth delay, the child presents with delayed <span class=\"customMeta\" data-dictid=\"627954967a1692777183a81869cece\">bone age</span> and delayed puberty, unlike this case where <span class=\"customMeta\" data-dictid=\"627954967a1692777183a81869cece\">bone age</span> matches chronological age. Most of these children tend to eventually grow to approximately the same height as their parents.</p>\n\n<p><strong>Undernutrition (Option C):</strong> <span class=\"customMeta\" data-dictid=\"7c17e12a67169277720128c4a0e287\">Undernutrition</span> shows evidence of poor weight gain and delayed bone age, which are absent in this case. Nutritional <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> would affect both growth and skeletal maturation, leading to <span class=\"customMeta\" data-dictid=\"59dd49e97716927771865a831bfec9\">discrepancy</span> between <span class=\"customMeta\" data-dictid=\"627954967a1692777183a81869cece\">bone age</span> and chronological age.</p>\n\n<p><strong>Growth hormone <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> (Option D): </strong>Growth hormone deficiency, also known as <span class=\"customMeta\" data-dictid=\"adc6945ae81692777186b584a8a68b\">dwarfism</span> or <span class=\"customMeta\" data-dictid=\"b775f0c475169277719593c573f6ff\">pituitary</span> dwarfism, typically presents with severe growth failure, delayed bone age, and height that is significantly below parental heights.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Gonadal growth corresponds with _____.</p>",
    "choices": [
      {
        "id": 1,
        "text": "Brain"
      },
      {
        "id": 2,
        "text": "Skeletal system"
      },
      {
        "id": 3,
        "text": "Lymphoid growth"
      },
      {
        "id": 4,
        "text": "Dental growth"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer B - Skeletal system</strong></p>\n\n<ul>\n\t<li>Gonadal growth corresponds with <strong>skeletal growth</strong>, particularly during puberty</li>\n\t<li>Estrogen in females and <span class=\"customMeta\" data-dictid=\"e54a6646c1169277720031d162bd75\">testosterone</span> in males play a significant role in developing secondary sexual characteristics and contribute to the growth and <span class=\"customMeta\" data-dictid=\"76948f718016927771924774ade7e9\">maturation</span> of the skeleton</li>\n\t<li>This hormonal influence leads to changes in bone structure and overall height</li>\n</ul>\n\n<p><strong>Brain</strong> <strong>(Option A) </strong>growth follows a different pattern, with rapid growth occurring primarily in early childhood and reaching almost adult size by age 6 years. This pattern differs significantly from gonadal development.</p>\n\n<p><strong>Lymphoid growth (Option C)</strong> follows a unique pattern with peak development occurring before <span class=\"customMeta\" data-dictid=\"c284c4252f16927771963c07a95e13\">puberty</span> and then involuting, unlike gonadal growth which accelerates during puberty. <span class=\"customMeta\" data-dictid=\"32599f889a169277719169e3483e62\">Lymphoid</span> tissue reaches 200% of adult size during childhood.</p>\n\n<p><strong>Dental growth (Option D)</strong> follows its own distinct timeline with two separate periods of development - primary and permanent dentition. This pattern does not correspond with gonadal development patterns.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which alternative method can be used for the procedure shown in the image below?</p>\n\n<p><img alt=\"HM\" data-author=\"\" data-hash=\"12431\" data-license=\"\" data-source=\"\" data-tags=\"May2025\" src=\"https://image.prepladder.com/notes/TnXoCXR1DVEJgw7fHys71746705085.png\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Head circumference"
      },
      {
        "id": 2,
        "text": "Arm span"
      },
      {
        "id": 3,
        "text": "Crown-rump length"
      },
      {
        "id": 4,
        "text": "Knee height"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The procedure shown in the image is <strong>height measurement in a child with a stadiometer</strong>. The alternative method for the procedure shown is <strong>arm span</strong>.</p>\n\n<p>\u00a0</p>\n\n<p>Ideally, height is measured using an <strong>infantometer </strong>in children <2 years of age, and a<strong> <span class=\"customMeta\" data-dictid=\"4f7c108f291692777199bd0971bcda\">stadiometer</span> </strong>is used in children >2 years of age.</p>\n\n<p>In conditions such as <span class=\"customMeta\" data-dictid=\"a3e3b052331692777198750eaae63a\">scoliosis</span> where a <span class=\"customMeta\" data-dictid=\"4f7c108f291692777199bd0971bcda\">stadiometer</span> cannot be used, alternatives such as <strong>arm span </strong>and<strong> upper segment to lower segment (US:LS) ratio </strong>are some of the reliable alternatives.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Arm span:</strong></p>\n\n<ul>\n\t<li>Measured on arms outstretched at 90 degrees to the body from the tip of the <span class=\"customMeta\" data-dictid=\"5897c96aa21692777192593dc37a0c\">middle finger</span> of one hand to the tip of the <span class=\"customMeta\" data-dictid=\"5897c96aa21692777192593dc37a0c\">middle finger</span> of the other hand.</li>\n\t<li>Arm span is<strong> shorter than the length by 2.5 cm at birth, equals height at 11 years, and after that is slightly (usually, <1 cm) greater than height.</strong></li>\n</ul>\n\n<p><strong>Head <span class=\"customMeta\" data-dictid=\"0e190b1ed716927771848781259060\">circumference</span> </strong><strong>(Option A)</strong> used to monitor the growth of the brain and skull in children <strong>up to 2 years of age.</strong> It is measured along the <span class=\"customMeta\" data-dictid=\"def2c960811692777199bc4d0e9bf9\">supraorbital</span> ridge in the front and the <span class=\"customMeta\" data-dictid=\"77dc7a0ab81692777194dba7ab78ab\">occipital</span> <span class=\"customMeta\" data-dictid=\"ebc4d593fd1692777196b50a4faad4\">prominence</span> at the back using a flexible tape. While it reflects brain growth, it does not provide an accurate estimation of height, making it unsuitable for this purpose.</p>\n\n<p><strong>Crown-rump length </strong><strong>(Option C)</strong> is a <span class=\"customMeta\" data-dictid=\"d554413593169277719693b8e38638\">prenatal</span> measurement used during early pregnancy to assess <strong>fetal growth</strong> and estimate gestational age, typically<strong> from 6-8 weeks of gestation</strong>. This measurement is specific to fetuses and cannot be applied to children for height estimation.</p>\n\n<p><strong>Knee height </strong><strong>(Option D)</strong><strong> </strong>is used to estimate height in individuals who cannot stand, such as <strong>bedridden or wheelchair-bound adults.</strong> It involves measuring the distance from the sole of the foot to the <span class=\"customMeta\" data-dictid=\"ab8a987431169277720229e09c01d7\">femoral</span> condyle.</p>\n\n<p>\u00a0</p>\n\n<p><br />\n\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/TnXoCXR1DVEJgw7fHys71746705085.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which is the first primary tooth to erupt?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Upper central incisor"
      },
      {
        "id": 2,
        "text": "Lower central incisor"
      },
      {
        "id": 3,
        "text": "Upper canine"
      },
      {
        "id": 4,
        "text": "Lower canine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Lower central incisor</strong></p>\n\n<ul>\n\t<li>The first primary tooth to erupt is the <strong>lower central incisor</strong>.</li>\n</ul>\n\n<table align=\"center\" cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Primary <span class=\"customMeta\" data-dictid=\"76e17c45ef16927771851bc19cfc04\">Dentition</span> </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Time of <span class=\"customMeta\" data-dictid=\"e8c6da34eb169277718752e1060128\">eruption</span> </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Lower <span class=\"customMeta\" data-dictid=\"c4e7f8b0af169277718441693484da\">central incisor</span> </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>6 months</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Upper <span class=\"customMeta\" data-dictid=\"c4e7f8b0af169277718441693484da\">central incisor</span> (Option A)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">7 months</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">Upper <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> incisor</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">8 months</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">Lower <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> incisor</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">9 months</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">1st Molar</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">1 year</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Canine (Option C & D)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">1.5 years</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">2nd Molar</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">2 years</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<ul>\n</ul>\n\n<ul>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A child is brought to the paediatrician with short stature. On evaluation, growth hormone levels are found to be high and insulin-like growth factor (IGF-1) levels are low. Which among the following could be the abnormality here?</p>",
    "choices": [
      {
        "id": 1,
        "text": "GH deficiency"
      },
      {
        "id": 2,
        "text": "GHRH deficiency"
      },
      {
        "id": 3,
        "text": "GH receptor anomaly"
      },
      {
        "id": 4,
        "text": "IGF-1 deficiency"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer C - GH <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> anomaly</strong></p>\n\n<p>The raised levels of growth hormone and low levels of IGF-1 suggest <strong>growth hormone</strong> <strong>insensitivity </strong>which is due to <strong>GH <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> anomaly.</strong></p>\n\n<ul>\n\t<li>GH stimulates the liver to produce insulin-like growth factor 1 (IGF-1), which in turn promotes the growth of bones and tissues.</li>\n\t<li>If there is a GH-receptor <span class=\"customMeta\" data-dictid=\"50a440f85816927771817d2fe50984\">anomaly</span> in the liver, leads to GH insensitivity.</li>\n\t<li>Hene, IGF-1 is not sufficiently produced <span class=\"customMeta\" data-dictid=\"ff02aa40d51692777191246d4a9b87\">lowering</span> its concentration in the body.</li>\n</ul>\n\n<p><strong>Growth Hormone <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">Receptor</span> anomalies:</strong></p>\n\n<ul>\n\t<li>Laron syndrome: <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">Mutation</span> of the GH <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> leading to growth hormone insensitivity.</li>\n\t<li>The GH <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> has an extracellular, transmembrane, and <span class=\"customMeta\" data-dictid=\"a621be29da16927771901bc91014d1\">intracellular</span> domain.</li>\n\t<li>Mutation of the <span class=\"customMeta\" data-dictid=\"ba366417791692777187229d34e597\">extracellular</span> domain\n\t<ul>\n\t\t<li>Affects the binding of the hormone</li>\n\t\t<li>GH-binding protein activity is low</li>\n\t</ul>\n\t</li>\n\t<li>Mutation of the <span class=\"customMeta\" data-dictid=\"f0c8d0b3871692777200426e503319\">transmembrane</span> domain:\n\t<ul>\n\t\t<li>Affects the anchoring of the <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> to the <span class=\"customMeta\" data-dictid=\"a0e40688fa169277719572bdb48c92\">plasma</span> membrane</li>\n\t\t<li>Normal or high GH-binding protein</li>\n\t</ul>\n\t</li>\n\t<li>Mutation of the <span class=\"customMeta\" data-dictid=\"a621be29da16927771901bc91014d1\">intracellular</span> domain:\n\t<ul>\n\t\t<li>Interferes with JAK/STAT signalling</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>GH <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> (Option A)</strong>: If the child had GH deficiency, both GH and IGF-1 levels would typically be low.</p>\n\n<p><strong>GHRH <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> (Option B)</strong>: Growth hormone-releasing hormone (GHRH) <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> would typically lead to low GH <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> because GHRH stimulates the release of GH.</p>\n\n<p><strong>IGF-1 <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> (Option D)</strong>: Low IGF-1 levels can cause short stature, but the presence of high GH levels suggests that the issue lies not in the production of IGF-1 but in the action of GH itself.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 16-month-old boy weighs 8 kg. A WHO growth chart (weight-for-age) is provided below. What is the most appropriate advice for this child?</p>\n\n<p style=\"text-align: center;\"><img alt=\"Growth Chart - Question \" data-author=\"\" data-hash=\"12005\" data-license=\"\" data-source=\"\" data-tags=\"May2025\" height=\"288\" src=\"https://image.prepladder.com/notes/SFiOmwC3lSDEt1D6KNOf1746446435.png\" width=\"593\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "No malnutrition - assure the mother"
      },
      {
        "id": 2,
        "text": "Mild malnutrition - home treatment"
      },
      {
        "id": 3,
        "text": "Severe malnutrition - refer to nutrition rehabilitation centre"
      },
      {
        "id": 4,
        "text": "Moderate malnutrition - teach the mother how to feed"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer D - Moderate <span class=\"customMeta\" data-dictid=\"cbd2d1fd521692777191d00c1a4ede\">malnutrition</span> - teach the mother how to feed</strong></p>\n\n<ul>\n\t<li>The child's <strong>weight for age</strong> falls between <strong>-2 SD and -3 SD</strong> on the <span class=\"customMeta\" data-dictid=\"3af16edcee1692777188b643aeb7d6\">growth chart</span> <strong>(Moderately underweight).</strong> This child's weight is below the average range for his age, indicating some degree of malnutrition. However, it is not severe enough to warrant immediate referral to a <span class=\"customMeta\" data-dictid=\"05bef24e711692777193a154b462b4\">nutrition</span> rehabilitation center.</li>\n\t<li>Instead, the focus should be on<strong> educating the mother or caregiver on proper <span class=\"customMeta\" data-dictid=\"11a5eea407169277720251b8446fa7\">feeding</span> practices </strong>and providing guidance on improving the child's nutritional intake. This may involve promoting a balanced diet, ensuring adequate <span class=\"customMeta\" data-dictid=\"5f526a682c16927771831cac5b3711\">calorie</span> and nutrient intake, and addressing any <span class=\"customMeta\" data-dictid=\"11a5eea407169277720251b8446fa7\">feeding</span> difficulties or challenges.</li>\n</ul>\n\n<p><strong>WHO Growth Charts</strong></p>\n\n<ul>\n\t<li>Designed specifically to track the growth and development of children<strong> under 5 years of age</strong> globally.</li>\n\t<li>Growth charts are derived from the <strong>Multicentre Growth Reference Study (MGRS)</strong> carried out by the WHO. This study was a community-based, multi-country initiative that took place in Brazil, Ghana, India, Norway, Oman, and the United States.</li>\n\t<li>Features: Provide accurate references for weight, length, and head circumference, reflecting normal growth patterns in children.</li>\n</ul>\n\n<p><strong>Percentile Curves</strong>: The <span class=\"customMeta\" data-dictid=\"3af16edcee1692777188b643aeb7d6\">growth chart</span> displays curves representing percentiles (3rd, 15th, 50th, 85th, and 97th).</p>\n\n<ul>\n\t<li><strong>3rd Percentile: </strong>Lower end of normal growth.</li>\n\t<li><strong>50th Percentile: </strong>Median or average growth.</li>\n\t<li><strong>97th Percentile: </strong>Higher end of normal growth.</li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"WHO growth chart\" data-author=\"Seong Hwan Shin, Emma StJoseph, Khalid Mannan, Khalid Khan\" data-hash=\"12007\" data-license=\"CC BY-NC-ND\" data-source=\"https://www.researchgate.net/figure/Growth-chart-of-patients-weight-illustrated-on-WHO-official-chart_fig3_330825596\" data-tags=\"May2025\" height=\"417\" src=\"https://image.prepladder.com/notes/aHq430p05emiLzUoeNwT1746446460.png\" width=\"583\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/SFiOmwC3lSDEt1D6KNOf1746446435.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/aHq430p05emiLzUoeNwT1746446460.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A <span class=\"marker\">3-year-old child</span> is brought to the OPD for a regular check-up. His growth chart shows a <span class=\"marker\">BMI between the 85th and 95th percentile</span>. <span class=\"marker\">Which of the following categories would you place him in?</span></p>",
    "choices": [
      {
        "id": 1,
        "text": "Moderate wasting"
      },
      {
        "id": 2,
        "text": "Severe acute malnutrition"
      },
      {
        "id": 3,
        "text": "Overweight"
      },
      {
        "id": 4,
        "text": "Obese"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - Overweight:</strong></p>\n\n<ul>\n\t<li>In children, <span class=\"customMeta\" data-dictid=\"765e9149d01692777183c3989c6590\">BMI</span> is calculated using age, sex, height, and weight, and the result is plotted on a <span class=\"customMeta\" data-dictid=\"3af16edcee1692777188b643aeb7d6\">growth chart</span> to determine the child\u2019s <span class=\"customMeta\" data-dictid=\"765e9149d01692777183c3989c6590\">BMI</span> percentile.</li>\n\t<li>BMI percentiles in children are classified as follows:\n\t<ul>\n\t\t<li>Underweight: Less than\u00a05th percentile</li>\n\t\t<li>Healthy weight: 5th <span class=\"customMeta\" data-dictid=\"8b22fa5ed1169277719587132297ce\">percentile</span> to less than\u00a085th percentile</li>\n\t\t<li>Overweight: 85th <span class=\"customMeta\" data-dictid=\"8b22fa5ed1169277719587132297ce\">percentile</span> to less than\u00a095th percentile</li>\n\t\t<li>Obese: Equal to or greater than\u00a095th percentile</li>\n\t</ul>\n\t</li>\n\t<li>In this case, the child\u2019s <span class=\"customMeta\" data-dictid=\"765e9149d01692777183c3989c6590\">BMI</span> falls between\u00a085th and 95th percentile, which places him in the <span class=\"customMeta\" data-dictid=\"e01b899fb61692777194fb4270ce6f\">overweight</span> category. This means that the child\u2019s weight is higher than what is considered healthy for his age, sex, and height.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<ul>\n\t<li><strong>Options A, B and D: </strong>The <span class=\"customMeta\" data-dictid=\"765e9149d01692777183c3989c6590\">BMI</span> in the given clinical scenario does not fit into any of these categories.\u00a0</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A mother expresses concern about her child's <span class=\"marker\">unwillingness to eat properly</span>. Her <span class=\"marker\">15-month-old</span> son's <span class=\"marker\">length falls 2 standard deviations below the median for his age</span>. What is the <span class=\"marker\">most probable medical condition</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Acute malnutrition"
      },
      {
        "id": 2,
        "text": "Severe wasting"
      },
      {
        "id": 3,
        "text": "Moderately underweight"
      },
      {
        "id": 4,
        "text": "Moderate stunting"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option D - Moderate stunting:</strong></p>\n\n<ul>\n\t<li>Stunting is defined as a length-for-age more than two standard deviations below the WHO\u00a0Child Growth Standards median. This indicates that the child has not grown adequately in height and is considered short for age. In this case, the child\u2019s length-for-age is \u2264 -2 SD below the median, which indicates moderate stunting.</li>\n\t<li>The reluctance to take feeds appropriately may be one reason for the child\u2019s stunted growth. Poor nutrition, frequent infections, and inadequate <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> can also contribute to stunting.</li>\n\t<li>Stunting is associated with impaired cognitive development, poor school performance, and <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> economic productivity in adulthood</li>\n</ul>\n\n<p style=\"text-align:center\"><img src=\"https://image.prepladder.com/content/LzevpWCxxK6WQIiCZHLH1701755986.png\" style=\"height:500px; width:500px\" /></p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">Acute</span> malnutrition:</strong> <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">Acute</span> <span class=\"customMeta\" data-dictid=\"cbd2d1fd521692777191d00c1a4ede\">malnutrition</span> refers to a recent and severe <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> of energy, protein, and other nutrients that can lead to <span class=\"customMeta\" data-dictid=\"9971eacaaf1692777202d2ece15a2a\">wasting</span> and/or edema. The child in this scenario is not showing signs of <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> malnutrition.</p>\n\n<p><strong>Option B - Severe wasting:</strong> Severe <span class=\"customMeta\" data-dictid=\"9971eacaaf1692777202d2ece15a2a\">wasting</span> is defined as a weight-for-height greater than three standard deviations below the WHO Child Growth Standards median. The child\u2019s weight is not provided in the scenario.</p>\n\n<p><strong>Option C - Moderately underweight:</strong> Moderately underweight is defined as a weight-for-age greater than two standard deviations below the WHO Child Growth Standards median. The child\u2019s weight is not provided in the scenario.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/LzevpWCxxK6WQIiCZHLH1701755986.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>How many primary teeth does a 3-year-old child have?</p>",
    "choices": [
      {
        "id": 1,
        "text": "20"
      },
      {
        "id": 2,
        "text": "24"
      },
      {
        "id": 3,
        "text": "16"
      },
      {
        "id": 4,
        "text": "32"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - 20:</strong></p>\n\n<ul>\n\t<li>An average child develops a full set of 20 primary <span class=\"customMeta\" data-dictid=\"17dfb015d2169277720023db8fe9e5\">teeth</span> by age 3.</li>\n\t<li>The primary <span class=\"customMeta\" data-dictid=\"17dfb015d2169277720023db8fe9e5\">teeth</span> begin to shed between the ages of 6 and 7, and permanent <span class=\"customMeta\" data-dictid=\"17dfb015d2169277720023db8fe9e5\">teeth</span> appear.</li>\n\t<li>By age 21, the average person develops 32 teeth, 16 on the <span class=\"customMeta\" data-dictid=\"8678aea7a91692777201d5e5e4d325\">upper jaw</span> and 16 on the lower jaw.</li>\n</ul>\n\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:100%\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p><strong>Primary <span class=\"customMeta\" data-dictid=\"76e17c45ef16927771851bc19cfc04\">Dentition</span> (milk/temporary teeth)</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p><strong>Secondary <span class=\"customMeta\" data-dictid=\"76e17c45ef16927771851bc19cfc04\">Dentition</span> (permanent teeth)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>Begin at</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>6 months</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>6 years</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>1 tooth to erupt</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>Lower central incisor</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>1<sup>st</sup> molar</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>Last tooth</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>Second molar</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>3<sup>rd</sup> molar (or) wisdom tooth</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>Completes at</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>2.5-3 years</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>12 years except for the 3rd molar (18-25 years)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>Total no. of teeth</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>20</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>28-32</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>Teeth in each <span class=\"customMeta\" data-dictid=\"3a757d7c1216927771968223be411d\">quadrant</span> (ICPM)</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>I C P M</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>I C P M</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>2 1 0 2</p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>2 1 2 3</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Incorrect Options</strong></p>\n\n<ul>\n\t<li><strong>Options B, C, and D </strong>can be ruled out based on the above explanation.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Where would you place the pulse oximeter to measure preductal oxygen saturation in an infant born 3 minutes ago?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Left upper limb"
      },
      {
        "id": 2,
        "text": "Left lower limb"
      },
      {
        "id": 3,
        "text": "Right upper limb"
      },
      {
        "id": 4,
        "text": "Right lower limb"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer:\u00a0</strong><strong>C) Right upper limb</strong></p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<h3><strong>Explanation:</strong></h3>\n\n<p>\u00a0</p>\n\n<p><strong>Preductal Saturation:</strong></p>\n\n<ul>\n\t<li>\n\t<p>Refers to the <span class=\"customMeta\" data-dictid=\"b98c3a8ea216927771949889d9505f\">oxygen saturation</span> <strong>before blood passes through the <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus</strong>.</p>\n\t</li>\n\t<li>\n\t<p>The <strong>right <span class=\"customMeta\" data-dictid=\"0bc1ae5070169277720193a2852d9c\">upper limb</span> (right hand)</strong> receives blood directly from the <strong>aorta before the <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus</strong>, hence it reflects <strong>preductal oxygenation</strong>.</p>\n\t</li>\n\t<li>\n\t<p>In contrast, the <strong>lower limbs and left upper limb</strong> may receive blood that is <strong>postductal</strong>, especially if the <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> is still patent.</p>\n\t</li>\n</ul>\n\n<p><strong>Clinical Relevance:</strong></p>\n\n<ul>\n\t<li>\n\t<p><strong>Preductal SpO\u2082</strong> is important during the first minutes after birth to assess the baby's transition from <span class=\"customMeta\" data-dictid=\"f375a3584316927772020efa386e3e\">fetal</span> to <span class=\"customMeta\" data-dictid=\"77493a5b781692777193df12530299\">neonatal</span> circulation.</p>\n\t</li>\n\t<li>\n\t<p><strong>Target preductal SpO\u2082</strong> increases gradually over the first 10 minutes of life:</p>\n\n\t<ul>\n\t\t<li>\n\t\t<p>~60\u201365% at 1 min</p>\n\t\t</li>\n\t\t<li>\n\t\t<p>~85\u201395% by 10 min</p>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Left <span class=\"customMeta\" data-dictid=\"0bc1ae5070169277720193a2852d9c\">upper limb</span> (Option A):\u00a0</strong>This limb may receive postductal blood due to the\u00a0anatomical position of the\u00a0ductus arteriosus and is unreliable for preductal measurement.</p>\n\n<p><strong>Left <span class=\"customMeta\" data-dictid=\"cbc1f41317169277719185421a8e5a\">lower limb</span> (Option B):\u00a0</strong>Postductal, as it receives blood <span class=\"customMeta\" data-dictid=\"5ff25303a01692777186731f6a4f5c\">distal</span> to the <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus.</p>\n\n<p><strong>Right <span class=\"customMeta\" data-dictid=\"cbc1f41317169277719185421a8e5a\">lower limb</span> (Option D):\u00a0</strong>Also postductal; not appropriate for assessing preductal oxygenation.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '02 Previous Year Questions';
        let hierarchy = ["PrepLadder", "qBank", "Pediatrics"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>