<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>09 Sympatholytics Html Html Html - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pharmacology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">13</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>A 45-year-old hypertensive patient presents to the emergency department with severe chest pain and a rapid heartbeat. His blood pressure is 180/120mmHg. To manage his condition, a Phentolamine is administered. Later, he experiences an allergic reaction, and epinephrine is given to treat this condition. Which of the following best describes the Vasomotor reversal of Dale?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Epinephrine administration after phentolamine causes an increased blood pressure."
      },
      {
        "id": 2,
        "text": "Epinephrine administration after phentolamine causes decreased blood pressure."
      },
      {
        "id": 3,
        "text": "Epinephrine administration after phentolamine causes an increased heart rate."
      },
      {
        "id": 4,
        "text": "Epinephrine administration after phentolamine causes decrease in heart rate."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer: B) <span class=\"customMeta\" data-dictid=\"76baf6616a169277718738f8790ab9\">Epinephrine</span> administration after <span class=\"customMeta\" data-dictid=\"4b193b485f169277719585706f10f3\">phentolamine</span> causes decreased blood pressure.</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>\n\t<p>Phentolamine is a non-selective alpha-adrenergic <span class=\"customMeta\" data-dictid=\"adecdf9cb2169277718363b8a0e491\">blocker</span> that blocks alpha-1 and alpha-2 receptors, causing <span class=\"customMeta\" data-dictid=\"7aa9f8d34616927772018c11493bbc\">vasodilation</span> and decreased <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> resistance.</p>\n\t</li>\n\t<li>\n\t<p>When <span class=\"customMeta\" data-dictid=\"76baf6616a169277718738f8790ab9\">epinephrine</span> (which acts on both <span class=\"customMeta\" data-dictid=\"a9268f2e1d16927771814cfef69cf4\">alpha</span> and <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> receptors) is administered <strong>after</strong> <span class=\"customMeta\" data-dictid=\"4b193b485f169277719585706f10f3\">phentolamine</span> blockade, <span class=\"customMeta\" data-dictid=\"a9268f2e1d16927771814cfef69cf4\">alpha</span> receptors are blocked, so epinephrine\u2019s alpha-mediated <span class=\"customMeta\" data-dictid=\"3f0b42b17016927772014c586d44b7\">vasoconstriction</span> is blocked.</p>\n\t</li>\n\t<li>\n\t<p>Therefore, epinephrine\u2019s beta-2 mediated <span class=\"customMeta\" data-dictid=\"7aa9f8d34616927772018c11493bbc\">vasodilation</span> predominates, causing <strong>vasodilation and a decrease in blood pressure</strong> (paradoxical hypotension).</p>\n\t</li>\n\t<li>\n\t<p>This phenomenon is called the <strong>Vasomotor <span class=\"customMeta\" data-dictid=\"82343f61171692777197b4a08bc719\">reversal</span> of Dale</strong> or the \"epinephrine reversal\" phenomenon.</p>\n\t</li>\n\t<li>\n\t<p>The heart rate usually increases due to beta-1 <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> by <span class=\"customMeta\" data-dictid=\"76baf6616a169277718738f8790ab9\">epinephrine</span> and <span class=\"customMeta\" data-dictid=\"20f478f55f1692777197e351415f8f\">reflex</span> <span class=\"customMeta\" data-dictid=\"af1cd978a41692777200da2f67bf22\">tachycardia</span> secondary to decreased blood pressure.</p>\n\t</li>\n\t<li>\n\t<p><strong>Vasomotor <span class=\"customMeta\" data-dictid=\"82343f61171692777197b4a08bc719\">reversal</span> of Dale (Epinephrine reversal)</strong></p>\n\t</li>\n</ul>\n\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Aspect</th>\n\t\t\t<th>Details</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>Definition</td>\n\t\t\t<td>Paradoxical decrease in <span class=\"customMeta\" data-dictid=\"263ee5444e1692777183a7e8e704da\">blood pressure</span> when <span class=\"customMeta\" data-dictid=\"76baf6616a169277718738f8790ab9\">epinephrine</span> is administered after alpha-blockade</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Mechanism</td>\n\t\t\t<td>Alpha <span class=\"customMeta\" data-dictid=\"70d039f1401692777183bb2f23a21a\">blockade</span> by drugs like <span class=\"customMeta\" data-dictid=\"4b193b485f169277719585706f10f3\">phentolamine</span> blocks vasoconstrictive alpha-1 receptors; epinephrine\u2019s beta-2 <span class=\"customMeta\" data-dictid=\"7aa9f8d34616927772018c11493bbc\">vasodilation</span> dominates</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Clinical significance</td>\n\t\t\t<td>Important to recognize during treatment involving <span class=\"customMeta\" data-dictid=\"a9268f2e1d16927771814cfef69cf4\">alpha</span> blockers and catecholamines</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Effect on blood pressure</td>\n\t\t\t<td>Decrease due to unopposed beta-2 vasodilation</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Effect on heart rate</td>\n\t\t\t<td>Increased due to beta-1 <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> and <span class=\"customMeta\" data-dictid=\"20f478f55f1692777197e351415f8f\">reflex</span> tachycardia</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Historical note</td>\n\t\t\t<td>Described by Dale, illustrating <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> interplay in <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> tone regulation</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Epinephrine administration after <span class=\"customMeta\" data-dictid=\"4b193b485f169277719585706f10f3\">phentolamine</span> causes an increased <span class=\"customMeta\" data-dictid=\"263ee5444e1692777183a7e8e704da\">blood pressure</span> (Option A):</strong> Incorrect because <span class=\"customMeta\" data-dictid=\"a9268f2e1d16927771814cfef69cf4\">alpha</span> receptors are blocked, so <span class=\"customMeta\" data-dictid=\"3f0b42b17016927772014c586d44b7\">vasoconstriction</span> is prevented and BP decreases.</p>\n\n<p><strong>Epinephrine administration after <span class=\"customMeta\" data-dictid=\"4b193b485f169277719585706f10f3\">phentolamine</span> causes an increased heart rate (Option C): </strong>Incorrect as a description of <span class=\"customMeta\" data-dictid=\"bd99ec780c16927772018a45db80c2\">vasomotor</span> reversal; HR does increase but the key feature is BP decrease.</p>\n\n<p><strong>Epinephrine administration after <span class=\"customMeta\" data-dictid=\"4b193b485f169277719585706f10f3\">phentolamine</span> causes decrease in heart rate (Option D):</strong> Incorrect because heart rate increases due to beta-1 <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> and <span class=\"customMeta\" data-dictid=\"20f478f55f1692777197e351415f8f\">reflex</span> tachycardia.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/QoDF2t6uwJBnERUW32zM1747212857.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/4zBGOOHyFvxJsBToZ0Zw1747212763.mp3"
  },
  {
    "text": "<p>A 58-year-old patient presents with poorly controlled hypertension despite being on multiple antihypertensive medications. The physician initiates Clonidine therapy to help manage the patient's blood pressure. Which of the following is TRUE regarding the mechanism of action of Clonidine?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Antagonises \u03b12-adrenergic receptors."
      },
      {
        "id": 2,
        "text": "Stimulates \u03b11-adrenergic receptors."
      },
      {
        "id": 3,
        "text": "Inhibits RAAS."
      },
      {
        "id": 4,
        "text": "Stimulates \u03b12-adrenergic receptors."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct answer: D) Stimulates \u03b12-adrenergic receptors.</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>\u00a0</p>\n\n<p>Clonidine reduces <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> outflow from the <span class=\"customMeta\" data-dictid=\"e1a4a12fb416927771841c46faf6fb\">CNS</span> by agonising \u03b12-adrenergic receptors.</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:625px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mechanism of action</strong></p>\n\t\t\t</td>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"994\" src=\"https://image.prepladder.com/content/9D7GyFGwKxi0eJlYns5d1734421284.png\" width=\"654\" /></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Uses</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Hypertension</li>\n\t\t\t\t<li>Diabetic diarrhoea</li>\n\t\t\t\t<li>Addiction withdrawal</li>\n\t\t\t\t<li>Menopausal hot flashes</li>\n\t\t\t\t<li>Diagnosing hypertension</li>\n\t\t\t\t<li>Suspected pheochromocytoma</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Atrial fibrillation</li>\n\t\t\t\t<li>ADHD</li>\n\t\t\t\t<li>Tourette syndrome</li>\n\t\t\t\t<li>Hyperhidrosis</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/9D7GyFGwKxi0eJlYns5d1734421284.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/71XePZqm5RyxX2YIEX3U1747213006.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/AddUObrfRfjYEKsFbkpt1747212936.mp3"
  },
  {
    "text": "<p>What is the preferred medication for managing a hypertensive crisis caused by the sudden withdrawal of Clonidine?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Intravenous labetalol"
      },
      {
        "id": 2,
        "text": "Phentolamine"
      },
      {
        "id": 3,
        "text": "Nitroglycerin"
      },
      {
        "id": 4,
        "text": "Amlodipine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Phentolamine</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Clonidine is commonly used to manage hypertension</li>\n\t<li>Sudden discontinuation of clonidine can lead to a withdrawal syndrome characterized by various symptoms, including headache, apprehension, tremors, <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> pain, sweating, and tachycardia</li>\n\t<li>This syndrome typically occurs 18 to 36 hours after stopping the medication and is associated with increased <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> discharge, as evidenced by elevated <span class=\"customMeta\" data-dictid=\"a0e40688fa169277719572bdb48c92\">plasma</span> and <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> concentrations of catecholamines and metabolites</li>\n\t<li>In the management of a <span class=\"customMeta\" data-dictid=\"dd2daa0c6216927771893c9cab82d9\">hypertensive</span> crisis, promptly resume Clonidine administration, and <span class=\"customMeta\" data-dictid=\"4b193b485f169277719585706f10f3\">Phentolamine</span> is considered the drug of choice for a <span class=\"customMeta\" data-dictid=\"dd2daa0c6216927771893c9cab82d9\">hypertensive</span> crisis</li>\n\t<li>Common side effects include dry eyes and mouth due to its <span class=\"customMeta\" data-dictid=\"0c922f341d1692777181ff01d9031a\">antimuscarinic</span> properties, sedation, hypotension, and <span class=\"customMeta\" data-dictid=\"5cc2a2112e16927771874c5d97065a\">erectile</span> dysfunction</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/4Xs1IsialVD22gyoznVY1747213127.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/SxFXyrz4gMG43fuPde2a1747213070.mp3"
  },
  {
    "text": "<p>A 32-year-old pregnant woman with chronic hypertension presents to her obstetrician's office for a routine prenatal visit. She has been managed with methyldopa for hypertension control. Which adverse effect should the physician monitor for during her treatment?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Hyperkalemia"
      },
      {
        "id": 2,
        "text": "Hypertensive crisis"
      },
      {
        "id": 3,
        "text": "Hyperglycemia"
      },
      {
        "id": 4,
        "text": "Hemolytic anemia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct answer: D) <span class=\"customMeta\" data-dictid=\"d30ae941d516927771889351160b00\">Hemolytic</span> anemia</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Methyldopa, a centrally acting <span class=\"customMeta\" data-dictid=\"9b0b5104321692777199b85bdba462\">sympatholytic</span> agent, is utilized in <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> management, particularly during pregnancy and in patients with <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> insufficiency</li>\n\t<li>Damage to red blood cells (Warm <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">Antibody</span> <span class=\"customMeta\" data-dictid=\"d30ae941d516927771889351160b00\">Hemolytic</span> Anemia) occurs when alpha-methyldopa attaches to the <span class=\"customMeta\" data-dictid=\"8790b4667016927771979066e8958c\">RBC</span> surface, rendering the <span class=\"customMeta\" data-dictid=\"8790b4667016927771979066e8958c\">RBC</span> antigenic</li>\n\t<li>This <span class=\"customMeta\" data-dictid=\"ccd357daaf16927771825777ea6a0d\">attachment</span> triggers the production of antibodies (IgG), which target and destroy the RBCs and is classified as a <span class=\"customMeta\" data-dictid=\"bd04ba63bc1692777201f54e0ee060\">Type II</span> <span class=\"customMeta\" data-dictid=\"2c7e1ce33316927771892ce1da8276\">Hypersensitivity</span> reaction</li>\n\t<li><strong>Regular monitoring</strong>, including Coombs' test for <span class=\"customMeta\" data-dictid=\"d30ae941d516927771889351160b00\">hemolytic</span> <span class=\"customMeta\" data-dictid=\"53bee2a41216927771814d7ec3a67f\">anemia</span> and liver function tests, is imperative for the early <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">detection</span> of adverse events</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:612px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Category</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Details</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mechanism of Action</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Centrally converted to <span class=\"customMeta\" data-dictid=\"bc09155adc169277719248f9543785\">methyl</span> norepinephrine, exerting alpha-2 <span class=\"customMeta\" data-dictid=\"5d95021636169277718061efafd18d\">agonistic</span> action in the CNS, reducing <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> outflow.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Uses</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Management of hypertension, particularly in pregnant women or those with <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> insufficiency.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Side Effects</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Nausea, Diarrhea, Headache, Dizziness, Sedation, Dry mouth, Rash. Rare complications include Coombs-positive <span class=\"customMeta\" data-dictid=\"d30ae941d516927771889351160b00\">hemolytic</span> anaemia, lupus-like syndrome, myocarditis, pancreatitis, hepatotoxicity, and immune thrombocytopenia.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/v2b4LAQvjaOhhdWNgIES1747213249.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/PFyR1r06a0Uinl0N5Tti1747213190.mp3"
  },
  {
    "text": "<p>A 52-year-old male with severe episodic hypertension, headaches, palpitations, and elevated urinary metanephrines is diagnosed with pheochromocytoma. What is the drug of choice to manage hypertension and symptoms before surgery?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Propranolol"
      },
      {
        "id": 2,
        "text": "Phenoxybenzamine"
      },
      {
        "id": 3,
        "text": "Metoprolol"
      },
      {
        "id": 4,
        "text": "Prazosin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer: B) Phenoxybenzamine</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Phenoxybenzamine is utilized to manage <span class=\"customMeta\" data-dictid=\"cd15fe58221692777194fbb9eec8d1\">paroxysmal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> and <span class=\"customMeta\" data-dictid=\"8fab5233721692777199fc0bcd1210\">sweating</span> caused by conditions like pheochromocytoma.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Class </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mechanism of Action</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Side Effects</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Nonselective, <span class=\"customMeta\" data-dictid=\"ee77d507701692777190bfcf47b497\">irreversible</span> alpha-adrenergic <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> antagonists</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Forms <span class=\"customMeta\" data-dictid=\"d7f598a3db1692777185bf93a6e6fa\">covalent</span> bonds, likely with <span class=\"customMeta\" data-dictid=\"dabfa103741692777185dac756c49b\">cysteine</span> residues, within alpha-adrenergic receptors, reducing <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> effects <span class=\"customMeta\" data-dictid=\"f3063c1d8b169277719018bf869980\">induced</span> by catecholamines. Results in decreased <span class=\"customMeta\" data-dictid=\"3f0b42b17016927772014c586d44b7\">vasoconstriction</span> and <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> resistance.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Postural hypotension, palpitations, <span class=\"customMeta\" data-dictid=\"31c5d0e75f16927771938d8e2daa4c\">nasal</span> congestion, miosis, <span class=\"customMeta\" data-dictid=\"f03ca2d2a716927771901227bc175a\">inhibition</span> of ejaculation.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Prazosin can be used as an alternative, but the drug of choice for <span class=\"customMeta\" data-dictid=\"b0bdeae6a516927771954bdda95083\">pheochromocytoma</span> is Phenoxybenzamine.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/9XhsLgYnBPILD9mSc4xM1747213388.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/n6y8ZuGoCtQqDfcriGjM1747213322.mp3"
  },
  {
    "text": "<p>During the surgical excision of a pheochromocytoma, a continuous IV infusion of an alpha blocker was used to prevent the intraoperative rise of blood pressure due to catecholamine spillage into the bloodstream from the tumor. Match the alpha-blockers with their appropriate class.</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>a. Phenoxybenzamine</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1. Alpha 1 selective</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>b. Prazosin</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2. Alpha Non-selective and reversible</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>c. Phentolamine</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>3. Alpha 2 selective</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>d. Yohimbine</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>4. Alpha Non-selective and irreversible</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "choices": [
      {
        "id": 1,
        "text": "a-2, b-3, c-1, d-4"
      },
      {
        "id": 2,
        "text": "a-4, b-1, c-2, d-3"
      },
      {
        "id": 3,
        "text": "a-1, b-3, c-2, d-4"
      },
      {
        "id": 4,
        "text": "a-3, b-2, c-4, d-1"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer: B) a-4, b-1, c-2, d-3</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Classification of Alpha-blockers based on their <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> binding:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:623px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>TYPES</strong></p>\n\t\t\t</td>\n\t\t\t<td colspan=\"4\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>DRUGS</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Non-competitive + <span class=\"customMeta\" data-dictid=\"ee77d507701692777190bfcf47b497\">irreversible</span> type</strong></p>\n\t\t\t</td>\n\t\t\t<td colspan=\"4\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Phenoxybenzamine</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"7\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t\u00a0\n\t\t\t<p><strong>Competitive + <span class=\"customMeta\" data-dictid=\"a4488d66fc16927771975d043c4ccc\">reversible</span> type</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\u00a0\n\t\t\t<p><strong>Non-selective</strong></p>\n\t\t\t</td>\n\t\t\t<td colspan=\"3\" rowspan=\"3\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Phentolamine</p>\n\n\t\t\t<p>Ergotamine</p>\n\n\t\t\t<p>Ergotoxine</p>\n\n\t\t\t<p>Chlorpromazine</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"4\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t\u00a0\n\t\t\t<p><strong>Alpha 1 selective</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Drugs</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>LOCATION</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>EFFECTS</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Alpha 1 a</strong></p>\n\n\t\t\t<p>Tamsulosin</p>\n\n\t\t\t<p>Silodosin</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Internal Urethral Sphincter</p>\n\n\t\t\t<p>Iris</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Ejaculation failure/retrograde ejaculation, miosis, increased <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> outflow</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Alpha 1 b</strong></p>\n\n\t\t\t<p>Alfuzosin</p>\n\n\t\t\t<p>Doxazosin</p>\n\n\t\t\t<p>Prazosin</p>\n\n\t\t\t<p>Terazosin</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Vascular Smooth Muscle</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Vasodilatation, <span class=\"customMeta\" data-dictid=\"20f478f55f1692777197e351415f8f\">reflex</span> tachycardia, <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> <span class=\"customMeta\" data-dictid=\"1c745475f51692777188c744487e6f\">GFR</span> (thus leading to <span class=\"customMeta\" data-dictid=\"15d91786931692777197c8932c8000\">RAAS</span> activation)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Alpha 2 selective</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Yohimbine</p>\n\n\t\t\t<p>Idoxazon</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Central Nervous System</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Penile <span class=\"customMeta\" data-dictid=\"322d94cd5816927771872f3d8d132b\">erection</span> (used in depression with sexual dysfunction)</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/l1VuOrOAJWpchj5JAoFt1747213538.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/5J2SbJCJQDyPv39kuTaB1747213468.mp3"
  },
  {
    "text": "<p>A 58-year-old man with benign prostate hypertrophy was recently prescribed Prazosin. Which side effects should the patient be informed about before starting the medication?</p>\n\n<ol>\n\t<li>Postural hypotension</li>\n\t<li>Retrograde ejaculation</li>\n\t<li>Floppy iris syndrome</li>\n\t<li>Reflex bradycardia</li>\n</ol>",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2"
      },
      {
        "id": 2,
        "text": "1 and 3"
      },
      {
        "id": 3,
        "text": "1, 2 and 4"
      },
      {
        "id": 4,
        "text": "1, 2 and 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct answer: D</strong>)<strong> 1, 2 and 3</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Postural <span class=\"customMeta\" data-dictid=\"9402185d4b1692777189cb62891ff1\">hypotension</span> (1):</strong><br />\n\tDue to \u03b11B <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> <span class=\"customMeta\" data-dictid=\"70d039f1401692777183bb2f23a21a\">blockade</span> in <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> smooth muscle \u2192 <span class=\"customMeta\" data-dictid=\"7aa9f8d34616927772018c11493bbc\">vasodilation</span> \u2192 sudden drop in BP on standing (first-dose effect).<br />\n\t\u00a0</li>\n\t<li><strong>Retrograde <span class=\"customMeta\" data-dictid=\"9ee9011df41692777187bfb1eea894\">ejaculation</span> (2):</strong><br />\n\t\u03b11A <span class=\"customMeta\" data-dictid=\"70d039f1401692777183bb2f23a21a\">blockade</span> at the internal urethral <span class=\"customMeta\" data-dictid=\"1a73a42f071692777199a59120f494\">sphincter</span> \u2192 <span class=\"customMeta\" data-dictid=\"1a73a42f071692777199a59120f494\">sphincter</span> fails to close during <span class=\"customMeta\" data-dictid=\"9ee9011df41692777187bfb1eea894\">ejaculation</span> \u2192 <span class=\"customMeta\" data-dictid=\"613e5acf29169277719839af208a78\">semen</span> flows backward into the bladder.<br />\n\t\u00a0</li>\n\t<li><strong>Floppy <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> syndrome (3):</strong><br />\n\t\u03b11 <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> <span class=\"customMeta\" data-dictid=\"70d039f1401692777183bb2f23a21a\">blockade</span> in <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> <span class=\"customMeta\" data-dictid=\"34cb72fd361692777186bfa0354926\">dilator</span> muscle \u2192 leads to poor <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> <span class=\"customMeta\" data-dictid=\"d141b433d2169277718681e3ff6bc3\">dilation</span> and billowing of the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> during eye surgery (noted especially in patients undergoing <span class=\"customMeta\" data-dictid=\"781e6a5a991692777183252720baad\">cataract</span> surgery).<br />\n\t\u00a0</li>\n\t<li><strong>Reflex <span class=\"customMeta\" data-dictid=\"c933e533971692777183b764d960d0\">bradycardia</span> (4):</strong><br />\n\t<strong>Incorrect</strong>: Prazosin typically causes <strong>reflex tachycardia</strong>, not bradycardia. When <span class=\"customMeta\" data-dictid=\"7aa9f8d34616927772018c11493bbc\">vasodilation</span> causes a fall in BP, <span class=\"customMeta\" data-dictid=\"97e403e33d169277718223c8d638e3\">baroreceptor</span> reflexes increase <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> output \u2192 <strong>tachycardia</strong>. <span class=\"customMeta\" data-dictid=\"c933e533971692777183b764d960d0\">Bradycardia</span> is more common with drugs that increase <span class=\"customMeta\" data-dictid=\"5fb29f3cd516927772017bd29c2581\">vagal</span> tone (e.g., clonidine, \u03b2-blockers).<br />\n\t\u00a0</li>\n</ul>\n\n<p><strong>Prazosin in BPH and Related Side Effects:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:600px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Aspect</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Details</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Drug Class</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Selective \u03b11-adrenergic <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> blocker</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mechanism</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u03b11A <span class=\"customMeta\" data-dictid=\"70d039f1401692777183bb2f23a21a\">blockade</span> \u2192 relaxes <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> neck/prostate smooth muscle</p>\n\n\t\t\t<p>\u03b11B <span class=\"customMeta\" data-dictid=\"70d039f1401692777183bb2f23a21a\">blockade</span> \u2192 vasodilation</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Uses</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>BPH</p>\n\n\t\t\t<p>Hypertension</p>\n\n\t\t\t<p>Raynaud\u2019s disease</p>\n\n\t\t\t<p>Scorpion bite</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Bladder/Prostate Effect</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u2193 Outlet resistance \u2192 better <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> flow</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Vascular Effect</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u2193 Peripheral resistance \u2192 \u2193 BP</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Adverse Effects</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Postural hypotension</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Common; occurs with first dose</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Reflex tachycardia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Compensatory response to hypotension</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Retrograde ejaculation</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Due to <span class=\"customMeta\" data-dictid=\"5bc49d94df16927771975eae86de9f\">relaxation</span> of internal urethral sphincter</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Floppy <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> syndrome</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Seen during eye surgery; risk increases with chronic use</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/kbnp69VqlqjygJ4SJTKD1747213772.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/pmXSn7yMLFipTB3ciHMj1747213669.mp3"
  },
  {
    "text": "<p>A 40-year-old man with a recent history of myocardial infarction was started on Beta blocker as a secondary prophylaxis of MI. Which of the following beta blockers is most cardioselective?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Metoprolol"
      },
      {
        "id": 2,
        "text": "Propranolol"
      },
      {
        "id": 3,
        "text": "Labetalol"
      },
      {
        "id": 4,
        "text": "Tilisolol."
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct answer: A) </strong><strong>Metoprolol</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Metoprolol is a second-generation/cardioselective \ud835\udec3-blocker used as a secondary <span class=\"customMeta\" data-dictid=\"bc36e9b9381692777196b5f9a2f79c\">prophylaxis</span> for myocardial infarction. It helps prevent reinfarction and arrhythmias.</li>\n\t<li>It is more potent in <span class=\"customMeta\" data-dictid=\"9dc12b322016927771830dff673eeb\">blocking</span> \ud835\udec31-receptor (cardiac muscle) than \ud835\udec32-receptor (bronchial muscles).</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Classification of \ud835\udec3-blockers:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:662px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>First generation(Older / <span class=\"customMeta\" data-dictid=\"9996ef505516927771937fe4ef1222\">non</span> selective)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Second generation </strong></p>\n\n\t\t\t<p><strong>(Cardioselective)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Third generation </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"4\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Propranolol <strong> </strong><strong>(Option B)</strong></p>\n\n\t\t\t<p>Sotalol</p>\n\n\t\t\t<p>Pindolol (100% bioavailability)</p>\n\n\t\t\t<p>Timolol</p>\n\n\t\t\t<p>Nadolol (Maximum t1/2)</p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"4\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Metoprolol (Option A)</strong></p>\n\n\t\t\t<p>Esmolol (Minimum t1/2)</p>\n\n\t\t\t<p>Atenolol</p>\n\n\t\t\t<p><strong>Bisoprolol</strong></p>\n\n\t\t\t<p>Acebutolol</p>\n\t\t\t<br />\n\t\t\t\u00a0</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>With alpha-blocking activity</strong></p>\n\n\t\t\t<p>Labetalol <strong>(Option C)</strong></p>\n\n\t\t\t<p>Celiprolol</p>\n\n\t\t\t<p>Nebivolol (NO-releasing property)</p>\n\n\t\t\t<p>Betaxolol</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>With <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> channel blockade</strong></p>\n\n\t\t\t<p>Carvedilol (maximum <span class=\"customMeta\" data-dictid=\"a0e40688fa169277719572bdb48c92\">plasma</span> protein binding )</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>With <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> 2 agonism </strong></p>\n\n\t\t\t<p>Bopindolol</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>With K+ channel opening action</strong></p>\n\n\t\t\t<p>Tilisolol <strong>(Option D)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/9J3KdvzG4qI2sRYMxztw1747213885.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/m99DUDXUUlZkfubHzESj1747213836.mp3"
  },
  {
    "text": "<p>A 38-year-old female patient who was on propranolol developed bradycardia and was admitted to the cardiac ICU. On discharge, her medication was changed from propranolol to another beta-blocker, which has intrinsic sympathomimetic activity and membrane-stabilizing properties.Which of the following drugs was most likely prescribed?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Carvedilol"
      },
      {
        "id": 2,
        "text": "Metoprolol"
      },
      {
        "id": 3,
        "text": "Pindolol"
      },
      {
        "id": 4,
        "text": "Propranolol"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) <span class=\"customMeta\" data-dictid=\"955180bd1f16927771956ee574752d\">Pindolol</span> </strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Pindolol is a potent, non-selective <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> <span class=\"customMeta\" data-dictid=\"adecdf9cb2169277718363b8a0e491\">blocker</span> with\n\t<ul>\n\t\t<li>Intrinsic <span class=\"customMeta\" data-dictid=\"504306528f1692777199a0b2437267\">sympathomimetic</span> activity</li>\n\t\t<li>Membrane stabilizing property</li>\n\t\t<li>Lower risk for <span class=\"customMeta\" data-dictid=\"a4812dcf9b169277719756aaf48b7c\">rebound</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> when medication is stopped</li>\n\t</ul>\n\t</li>\n</ul>\n\n<ul>\n\t<li>As it has a <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> activity, it does not cause bradycardia; thus, it is safe for <span class=\"customMeta\" data-dictid=\"e2b5f013011692777183ea1b11ed9c\">cardiovascular</span> conditions</li>\n\t<li><strong>It also blocks sodium channels on the heart muscle\u2019s membrane, hence exhibiting a <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> stabilizing action, and thus, it can be used in</strong>\n\t<ul>\n\t\t<li><strong>Atrial fibrillation</strong></li>\n\t\t<li><strong>Ventricular fibrillation</strong></li>\n\t</ul>\n\t</li>\n</ul>\n\n<ul>\n\t<li>It also blocks sodium channels in neurons, leading to decreased nerve conduction.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:642px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"3\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Non selective \ud835\udec31 + \ud835\udec32 <span class=\"customMeta\" data-dictid=\"adecdf9cb2169277718363b8a0e491\">blocker</span> </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Cardioselective \ud835\udec31 <span class=\"customMeta\" data-dictid=\"adecdf9cb2169277718363b8a0e491\">blocker</span> </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Without ISA</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>With ISA</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>With \u0251 <span class=\"customMeta\" data-dictid=\"9dc12b322016927771830dff673eeb\">blocking</span> activity</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\u00a0\n\t\t\t<ul>\n\t\t\t\t<li>Metoprolol <strong>(Option B)</strong></li>\n\t\t\t\t<li>Esmolol</li>\n\t\t\t\t<li>Atenolol</li>\n\t\t\t\t<li>Bisoprolol</li>\n\t\t\t\t<li>Acebutolol</li>\n\t\t\t\t<li>Betaxolol</li>\n\t\t\t\t<li>Nebivolol</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Propranolol</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>(Option D)</strong><strong> </strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Sotalol</li>\n\t\t\t\t<li>Timolol</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Pindolol</li>\n\t\t\t\t<li>Celiprolol</li>\n\t\t\t\t<li>Oxprenolol</li>\n\t\t\t\t<li>Penbutolol</li>\n\t\t\t\t<li>Pindolol</li>\n\t\t\t\t<li>Bopindolol</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Labetalol</li>\n\t\t\t\t<li>Carvedilol <strong>(Option A)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>ISA: <span class=\"customMeta\" data-dictid=\"a6795c876e169277719057a1099465\">intrinsic</span> <span class=\"customMeta\" data-dictid=\"504306528f1692777199a0b2437267\">sympathomimetic</span> action</p>\n\n<p>\u00a0</p>\n\n<p><strong>Beta-blockers with <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> stabilizing activity (MSA) are:</strong></p>\n\n<ul>\n\t<li>Propranolol (Maximum MSA)</li>\n\t<li>Metoprolol</li>\n\t<li>Sotalol</li>\n\t<li>Labetalol</li>\n\t<li>Acebutolol</li>\n\t<li>Pindolol</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Carvedilol (Option A):\u00a0</strong>It has multiple mechanisms of action, namely, \ud835\udec31 + \ud835\udec32 + \ud835\udf701 <span class=\"customMeta\" data-dictid=\"70d039f1401692777183bb2f23a21a\">blockade</span> and <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">Calcium</span> channel blocker. It is used as a <span class=\"customMeta\" data-dictid=\"51ae2c971016927771839f0c787a6f\">cardioprotective</span> agent in congestive <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> failure.</p>\n\n<p><strong>Metoprolol (Option B): </strong>It is the <span class=\"customMeta\" data-dictid=\"39d75b82061692777196b150ea9c8a\">prototype</span> <span class=\"customMeta\" data-dictid=\"6cb715f13316927771834ca73fae4a\">cardioselective</span> \ud835\udec31 blocker, which may be used in <span class=\"customMeta\" data-dictid=\"a5603ff98316927771865d7ae41f16\">diabetic</span> patients receiving oral <span class=\"customMeta\" data-dictid=\"78c658d4ed1692777189098c7544b9\">hypoglycemia</span> (beta blockers are usually contraindicated). It is also used in people intolerant to propranolol, which causes cold hands and feet.</p>\n\n<p><strong>Propranolol (Option D): </strong>It is a non-selective <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> <span class=\"customMeta\" data-dictid=\"adecdf9cb2169277718363b8a0e491\">blocker</span> without <span class=\"customMeta\" data-dictid=\"a6795c876e169277719057a1099465\">intrinsic</span> <span class=\"customMeta\" data-dictid=\"504306528f1692777199a0b2437267\">sympathomimetic</span> activity, and <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> stabilizing property is present only at high doses.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/NrvKgV0zpQVuKMLX64Qv1747214023.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/uFpD16DI0ZxiF6LDvqIW1747213957.mp3"
  },
  {
    "text": "<p>A 63-year-old male has complained of tremors in his hands for the past two years. Physical examination reveals bilateral symmetric tremors predominantly in his hands, which worsen with intentional movements and are relieved by rest. Which of the following is the drug of choice in essential tremors?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Propranolol"
      },
      {
        "id": 2,
        "text": "Levodopa"
      },
      {
        "id": 3,
        "text": "Diazepam"
      },
      {
        "id": 4,
        "text": "Gabapentin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Propranolol</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p>Essential <span class=\"customMeta\" data-dictid=\"bb6d2476421692777200c2af1ac0c8\">tremor</span> is seen in the hands and arms bilaterally and is symmetric. It can be elicited with the arms suspended against gravity in a fixed <span class=\"customMeta\" data-dictid=\"115643fed616927771961316effc71\">posture</span> and during goal-directed activity. It is relieved by alcohol. Propranolol(beta-blocker) is the drug of choice.</p>\n\n<p><strong>Uses of beta-blockers:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Drug of choice</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Migraine prophylaxis</li>\n\t\t\t\t<li>Essential tremors</li>\n\t\t\t\t<li>Aortic <span class=\"customMeta\" data-dictid=\"e42da316b916927771860f0ba81c19\">dissection</span> if they also have hypertension</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"8\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Other Uses</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"8\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Hypertension-second-line drugs</li>\n\t\t\t\t<li>Stable angina: Decrease the frequency of attacks and increase exercise tolerance.</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Cardiac arrhythmias: Used in both <span class=\"customMeta\" data-dictid=\"619efd9f7b169277719928c9441919\">supraventricular</span> and <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> arrhythmias.</li>\n\t\t\t\t<li>Congestive heart failure: Decreases mortality.</li>\n\t\t\t\t<li>Thyrotoxicosis: <span class=\"customMeta\" data-dictid=\"082f7143eb1692777196df69a3b6cb\">Propranolol</span> controls the <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> symptoms</li>\n\t\t\t\t<li>Glaucoma: <span class=\"customMeta\" data-dictid=\"44f66117c1169277720085f515550a\">Timolol</span> and Betaxolol are used.</li>\n\t\t\t\t<li>Hypertrophic <span class=\"customMeta\" data-dictid=\"6e6dd7aed216927771831ebdf9703c\">Cardiomyopathy</span> (Improve <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> output).</li>\n\t\t\t\t<li>Myocardial <span class=\"customMeta\" data-dictid=\"77aed446d2169277719007f42bf052\">infarction</span> (Ml): Secondary <span class=\"customMeta\" data-dictid=\"bc36e9b9381692777196b5f9a2f79c\">prophylaxis</span> of Ml and myocardial <span class=\"customMeta\" data-dictid=\"53d0f40d261692777198244a05ec72\">salvage</span> during evolution of Ml (decreases mortality).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/5mheM6etI7fWCywhVR6e1747214131.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/B2zAuKF3txpBiuSOtwsi1747214079.mp3"
  },
  {
    "text": "<p>A 45-year-old female with a history of hypertension on metoprolol presents for a routine follow-up. She mentions experiencing fatigue and occasional dizziness. She also notes episodes of constipation. Which of the following is NOT an adverse effect of beta blockers?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Hyperkalemia"
      },
      {
        "id": 2,
        "text": "Hyperglycemia"
      },
      {
        "id": 3,
        "text": "Bronchospasm"
      },
      {
        "id": 4,
        "text": "Retrograde ejaculation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) <span class=\"customMeta\" data-dictid=\"e38ca8e6931692777197ee6a68ac56\">Retrograde</span> <span class=\"customMeta\" data-dictid=\"9ee9011df41692777187bfb1eea894\">ejaculation</span> </strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Retrograde <span class=\"customMeta\" data-dictid=\"9ee9011df41692777187bfb1eea894\">ejaculation</span> is a <span class=\"customMeta\" data-dictid=\"79506a117416927771988bbe7a8302\">side effect</span> of alpha-blockers</p>\n\n<p><strong>The <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> side effects of <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> blockers include</strong></p>\n\n<ul>\n\t<li>Beta-blocker withdrawal can lead to the <span class=\"customMeta\" data-dictid=\"cc7b2f64b11692777196c8e39b7611\">precipitation</span> of an <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> MI.</li>\n\t<li>Negative <span class=\"customMeta\" data-dictid=\"59e3d661b51692777184a2d67aec94\">chronotropic</span> effects include the development of <span class=\"customMeta\" data-dictid=\"b0046463171692777198e0beea83e7\">sinus</span> <span class=\"customMeta\" data-dictid=\"c933e533971692777183b764d960d0\">bradycardia</span> and heart block.</li>\n\t<li>Heart failure may exacerbate symptoms in patients with <span class=\"customMeta\" data-dictid=\"da8747dcd51692777185e1ed0554cc\">decompensated</span> <span class=\"customMeta\" data-dictid=\"1a5e87d16716927771888f364bce89\">heart failure</span> or preexisting myocardial dysfunction.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>The <span class=\"customMeta\" data-dictid=\"d675b675261692777187c0339a476b\">extracardiac</span> side effects include</strong></p>\n\n<ul>\n\t<li>Increased <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> resistance; hence, they are contraindicated in patients with <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> due to bronchospasm.</li>\n\t<li>Exacerbation of <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> disease and worsen <span class=\"customMeta\" data-dictid=\"f01241cd50169277718482b7ac00eb\">claudication</span> and <span class=\"customMeta\" data-dictid=\"eba5ba77ec169277719688fab52fb0\">precipitate</span> Raynaud's disease.</li>\n\t<li>In Hypoglycemia, Beta-blockers mask the signs seen in a <span class=\"customMeta\" data-dictid=\"6bffb538c616927771895e03011a28\">hypoglycemic</span> patient, such as tachycardia.</li>\n\t<li>Hyperkalemia\u00a0</li>\n\t<li>Depression, fatigue, and sexual <span class=\"customMeta\" data-dictid=\"3662597407169277718640a12868f5\">dysfunction</span> such as <span class=\"customMeta\" data-dictid=\"5cc2a2112e16927771874c5d97065a\">erectile</span> dysfunction.</li>\n\t<li>Weight gain</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/DMl77mUQq2hR6r9HphAr1747214313.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/UStndTnSjdDjHInoClTh1747214224.mp3"
  },
  {
    "text": "<p>Which of the following calcium channel blockers can cause heart blockage when combined with beta-blockers in patients with heart failure?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Nimodipine"
      },
      {
        "id": 2,
        "text": "Nifedipine"
      },
      {
        "id": 3,
        "text": "Amlodipine"
      },
      {
        "id": 4,
        "text": "Diltiazem"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Diltiazem</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>\u00a0</p>\n\n<p>Diltiazem, which is a non-dihydropyridine <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> channel blocker, can cause <span class=\"customMeta\" data-dictid=\"c933e533971692777183b764d960d0\">bradycardia</span> and <span class=\"customMeta\" data-dictid=\"40b788dd6916927771888a3ea6872f\">heart block</span> when used in combination with beta-blockers in patients with heart failure.</p>\n\n<ul>\n\t<li>A <strong>non-dihydropyridine</strong> <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> channel <span class=\"customMeta\" data-dictid=\"adecdf9cb2169277718363b8a0e491\">blocker</span> (i.e., <a href=\"https://www.uptodate.com/contents/diltiazem-drug-information?topicRef=3869&source=see_link\">diltiazem</a>, <a href=\"https://www.uptodate.com/contents/verapamil-drug-information?topicRef=3869&source=see_link\">verapamil</a>) should not be simultaneously prescribed with a <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> <span class=\"customMeta\" data-dictid=\"adecdf9cb2169277718363b8a0e491\">blocker</span> since both classes have negative <span class=\"customMeta\" data-dictid=\"d44f29df6116927771902150f69464\">inotropic</span> and <span class=\"customMeta\" data-dictid=\"59e3d661b51692777184a2d67aec94\">chronotropic</span> effects and can lead to <strong>bradycardia and heart block.</strong></li>\n\t<li><strong>Dihydropyridine </strong>calcium channel blockers (e.g., Nifedipine, Nimodipine, and Amlodipine), when added to beta-blockers, <strong>increase heart rate and decrease blood pressure, resulting in an augmented symptom benefit compared with either drug class alone.</strong></li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>DHP <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">Calcium</span> Channel Blockers</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Non-DHP <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">Calcium</span> Channel Blockers</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Examples</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Amlodipine, Nifedipine, Felodipine</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Diltiazem, Verapamil</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Mechanism of Action</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Primarily block L-type <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> channels in <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> smooth muscle</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Block L-type <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> channels in the heart</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Uses</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Hypertension</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Angina, rate control in arrhythmias</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Side Effects</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Peripheral edema, flushing, headache</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Bradycardia, heart block, dizziness</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0\n<table>\n\t<tbody>\n\t</tbody>\n</table>\n</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/HUOtxdV10wtHrZhmOHkS1747214430.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/HtBmnljk93f1GNfEzAxj1747214376.mp3"
  },
  {
    "text": "<p>Which of the following symptoms of hypoglycemia is NOT masked by propranolol?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Tremors"
      },
      {
        "id": 2,
        "text": "Palpitations"
      },
      {
        "id": 3,
        "text": "Tachycardia"
      },
      {
        "id": 4,
        "text": "Sweating"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) <span class=\"customMeta\" data-dictid=\"8fab5233721692777199fc0bcd1210\">Sweating</span> </strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>Sweating, a symptom of hypoglycemia, is caused by <span class=\"customMeta\" data-dictid=\"8656dac49a16927771846b41f8cf19\">cholinergic</span> receptors and is not inhibited by <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> blockers.</p>\n\n<ul>\n\t<li>Prolonged <span class=\"customMeta\" data-dictid=\"082f7143eb1692777196df69a3b6cb\">propranolol</span> therapy may impair carbohydrate tolerance in prediabetics by decreasing <span class=\"customMeta\" data-dictid=\"b47c9c6144169277719010eaa1a0ee\">insulin</span> release, leading to <span class=\"customMeta\" data-dictid=\"c52b35ebb01692777189131c97fbba\">hyperglycemia</span> and diabetes.</li>\n\t<li>In diabetics, <span class=\"customMeta\" data-dictid=\"082f7143eb1692777196df69a3b6cb\">propranolol</span> is avoided because of the risk of <span class=\"customMeta\" data-dictid=\"6bffb538c616927771895e03011a28\">hypoglycemic</span> episodes, as <span class=\"customMeta\" data-dictid=\"0e0596a13f169277718805afad1bcb\">glycogenolysis</span> in the heart, skeletal muscles, and liver that occurs due to <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> is attenuated.</li>\n\t<li>In <span class=\"customMeta\" data-dictid=\"a5603ff98316927771865d7ae41f16\">diabetic</span> patients, <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> blockers mask the signs of <span class=\"customMeta\" data-dictid=\"78c658d4ed1692777189098c7544b9\">hypoglycemia</span> mediated through <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> (tachycardia, tremor, palpitations) <strong>(Option A, B, C ruled out)</strong>. Patients fail to recognise key symptoms of a <span class=\"customMeta\" data-dictid=\"6bffb538c616927771895e03011a28\">hypoglycemic</span> state and <span class=\"customMeta\" data-dictid=\"bc4fd945b61692777193cadcf42cfb\">neglect</span> getting appropriate treatment.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/WX2sxpCUtaD920XIlbun1747214599.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/SC9g4M6PsIhYF8RlS3ix1747214531.mp3"
  }
];
        let quizName = '09 Sympatholytics Html Html Html';
        const quizFilename = '09-sympatholytics-html-html-html-2707f12a.html';
        let hierarchy = ["PrepLadder", "qBank", "Pharmacology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>