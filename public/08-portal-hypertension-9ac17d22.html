<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>08 Portal Hypertension - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Surgery
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">14</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>A 45-year-old female who recently underwent bone marrow transplantation presents with abdominal pain and swelling. The clinical features resonate with hepatic veno-occlusive disease and a transvenous hepatic biopsy confirms the diagnosis. Which of the following symptoms is NOT a part of the clinical triad of hepatic veno-occlusive disease?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Tender hepatomegaly"
      },
      {
        "id": 2,
        "text": "Hyperbilirubinemia (jaundice)"
      },
      {
        "id": 3,
        "text": "Retention of fluid (ascites)"
      },
      {
        "id": 4,
        "text": "Portal hypertension"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<h4><strong>Correct Answer: D.</strong> <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">Portal</span> hypertension<br />\n<strong>Explanation:</strong></h4>\n\n<ul>\n\t<li>\n\t<h4>The clinical <span class=\"customMeta\" data-dictid=\"1a0a43d74e16927772004473a05ae3\">triad</span> of veno-occlusive disease includes tender hepatomegaly, <span class=\"customMeta\" data-dictid=\"cab274fa4f1692777189f9b6dad514\">hyperbilirubinemia</span> (jaundice), and <span class=\"customMeta\" data-dictid=\"b668aed705169277719744b6db8f8e\">retention</span> of fluid (ascites).</h4>\n\t</li>\n\t<li>\n\t<h4>While <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> can be a <span class=\"customMeta\" data-dictid=\"8a6b09beac1692777184b08a2b5766\">complication</span> of VOD,<strong> </strong>it is not part of the clinical triad.</h4>\n\t</li>\n</ul>\n\n<p><strong>Hepatic veno-occlusive disease / <span class=\"customMeta\" data-dictid=\"00e480945216927771982870470f92\">Sinusoidal</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">Obstruction</span> Syndrome</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:608px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Definition</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Hepatic <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> outflow <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> caused by endothelial <span class=\"customMeta\" data-dictid=\"dae4dea0581692777198fdef9fa684\">sclerosis</span> of <span class=\"customMeta\" data-dictid=\"bce6a4863a1692777199d020c31df4\">sublobular</span> <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> veins and venules</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Etiology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>The most common cause in Western countries:</strong> <span class=\"customMeta\" data-dictid=\"5b9831f3aa169277718395d7361df6\">Bone marrow</span> transplantation</li>\n\t\t\t\t<li><strong>Chemotherapy agents:</strong> Cytarabine, Thioguanine, Gemtuzumab, Ozogamicin</li>\n\t\t\t\t<li><strong>Immunosuppressive agents:</strong> Azathioprine</li>\n\t\t\t\t<li><strong>Consumption of bush teas:</strong> <span class=\"customMeta\" data-dictid=\"6de8e14b321692777185737c5a72ad\">Crotalaria</span> and <span class=\"customMeta\" data-dictid=\"1d330db16c1692777198c2af01de29\">Senecio</span> (contain <span class=\"customMeta\" data-dictid=\"f07830b2ef16927771961be1ed141e\">pyrrolizidine</span> alkaloids)</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Clinical Features (Triad)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Tender hepatomegaly</li>\n\t\t\t\t<li>Hyperbilirubinemia (jaundice)</li>\n\t\t\t\t<li>Retention of fluid (ascites)</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Investigation of choice:</strong> Biopsy</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Management</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>SSPCS (Side-to-side portocaval shunt):</strong> Only if <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> outflow <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> with <span class=\"customMeta\" data-dictid=\"b1fef54dba1692777190ee3669e3e0\">IVC</span> sparing</li>\n\t\t\t\t<li><strong>Liver transplantation:</strong> For <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> failure</li>\n\t\t\t\t<li><strong>Defibrotide:</strong> Improves survival</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/hkAyxLHFSUWNrheitD8S1744899723.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/PzzYWJcF0SPy1fpuqreY1744899777.mp3"
  },
  {
    "text": "<p>Which of the following is a pre-sinusoidal cause of portal hypertension?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Cirrhosis"
      },
      {
        "id": 2,
        "text": "Budd-Chiari syndrome"
      },
      {
        "id": 3,
        "text": "Congestive cardiac failure"
      },
      {
        "id": 4,
        "text": "Schistosomiasis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) </strong>Schistosomiasis</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Schistosomiasis</strong> is a <strong>pre-sinusoidal intrahepatic</strong> cause of <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> hypertension.</p>\n\n<p>\u00a0</p>\n\n<p>The causes of <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> can be classified based on the location of the obstruction:</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:544px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pre-sinusoidal</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Sinusoidal</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Post-sinusoidal</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Extrahepatic</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Portal <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> thrombosis</li>\n\t\t\t\t<li>Splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> thrombosis</li>\n\t\t\t\t<li>Myelofibrosis</li>\n\t\t\t\t<li>Arterioportal shunt</li>\n\t\t\t\t<li>Tropical splenomegaly</li>\n\t\t\t</ul>\n\t\t\t\u00a0\n\n\t\t\t<p><strong>Intrahepatic</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Schistosomiasis</strong></li>\n\t\t\t\t<li>Congenital <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> fibrosis</li>\n\t\t\t\t<li>Portal <span class=\"customMeta\" data-dictid=\"669bdcb3111692777190e018ae930e\">infiltration</span> (e.g., sarcoidosis)</li>\n\t\t\t\t<li>Drugs and toxins</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Cirrhosis</strong></li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>(Option A)</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Hepatic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> <span class=\"customMeta\" data-dictid=\"896c5469811692777194e64e7ccef7\">occlusion</span> (<strong>Budd-Chiari syndrome</strong>)</li>\n\t\t\t\t<li>Veno-occlusive disease</li>\n\t\t\t\t<li><strong>Congestive <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> failure</strong></li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>(Option B and C)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/75Ecg7joIjKue8I8DjDS1744898144.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/q4OuYRf2NVyKi6MjIsix1744898192.mp3"
  },
  {
    "text": "<p>A 52-year-old man presents to the emergency department with worsening abdominal distension and visible abdominal veins. He has a history of chronic alcohol abuse and has been experiencing increasing fatigue and jaundice.</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"CC BY 4.0\" data-source=\"https://www.emcurious.com/blog-1/2014/8/14/sccag1lmon4addtu6be8gb9udjttc9\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/PCZ7NrSIOEtCjv5kf7Li1739940051.png\" width=\"3878\" /></p>\n\n<p>Which of the following vessels is involved in this condition?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Left gastric vein"
      },
      {
        "id": 2,
        "text": "Superior and inferior epigastric vein"
      },
      {
        "id": 3,
        "text": "Superior mesenteric vein"
      },
      {
        "id": 4,
        "text": "Inferior vena cava"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: (B) </strong>Superior and <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> epigastric vein</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Caput medusae is a clinical sign associated with <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> hypertension</strong>. It occurs due to increased pressure in the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> system, resulting in the development of <span class=\"customMeta\" data-dictid=\"2b87f64333169277718751772e06ef\">engorged</span> veins around the umbilicus. It usually forms<strong> a <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> between the <span class=\"customMeta\" data-dictid=\"a68186fa3d1692777194d7b1b06fdc\">paraumbilical</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> and the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> and superior epigastric vein</strong>.</p>\n\n<p>\u00a0</p>\n\n<p>Sites of <span class=\"customMeta\" data-dictid=\"e2218202be1692777196fa2a021f5e\">portosystemic</span> anastomosis:</p>\n\n<p><img alt=\"\" data-author=\"HUD\u00c1K, Radovan \u2013 KACHL\u00cdK, David\" data-hash=\"\" data-license=\"CC BY-SA 4.0\" data-source=\"https://www.wikilectures.eu/w/File:Porto_caval_anastomosis.png\" data-tags=\"\" height=\"2618\" src=\"https://image.prepladder.com/content/uvkxa4QR7iEfid2uN9321739940210.png\" width=\"4167\" /></p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"1041\" src=\"https://image.prepladder.com/content/8MF5HK0QwJP4zUreCZsh1739940247.png\" width=\"2927\" /></p>",
    "question_images": [
      "https://image.prepladder.com/content/PCZ7NrSIOEtCjv5kf7Li1739940051.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/uvkxa4QR7iEfid2uN9321739940210.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/eclwhTrgcycyGn9Qi5uD1744898278.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/a59TkzSIs2lINarAIpNU1744898334.mp3"
  },
  {
    "text": "<p>A 55-year-old man with a history of cirrhosis presents to the emergency department with hematemesis and melena. He is hypotensive and tachycardic. Which of the following is the most appropriate initial step in management?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Order an urgent upper endoscopy"
      },
      {
        "id": 2,
        "text": "Administer a proton pump inhibitor"
      },
      {
        "id": 3,
        "text": "Request a CT scan of the abdomen"
      },
      {
        "id": 4,
        "text": "Initiate fluid resuscitation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Initiate fluid resuscitation</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The immediate priority in managing <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> is stabilizing the patient's condition. This involves the airway, breathing, and circulation.</li>\n\t<li>Establishing <span class=\"customMeta\" data-dictid=\"27b78a96071692777190f4dfb93430\">intravenous</span> access with <strong>large-bore cannulae allows for rapid fluid resuscitation</strong>, ideally with blood transfusions, to restore <span class=\"customMeta\" data-dictid=\"f3739d892c1692777184b2e134615c\">circulatory</span> volume and address hypotension.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"1265\" src=\"https://image.prepladder.com/content/alnzdcAjnKUdgL69orGE1739940313.png\" width=\"2511\" /></p>\n\n<ul>\n\t<li><strong>Option A)</strong> While <span class=\"customMeta\" data-dictid=\"a9e7c4b7051692777187a218b539d7\">endoscopy</span> is crucial for diagnosis and <span class=\"customMeta\" data-dictid=\"32b854324a1692777185c6c79fdc99\">definitive</span> treatment of <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding, it should only be performed after the patient is hemodynamically stable.</li>\n\t<li><strong>Option B)</strong> Proton pump inhibitors reduce <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> acid <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> but have no role in the initial management of <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding.</li>\n\t<li><strong>Option C)</strong> CT <span class=\"customMeta\" data-dictid=\"c497b556951692777198b599e4ba86\">scanning</span> can help evaluate the liver and <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> vein, but it is not a priority during the initial <span class=\"customMeta\" data-dictid=\"d343b06c7f1692777197edaea107af\">resuscitation</span> phase.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/alnzdcAjnKUdgL69orGE1739940313.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/sSRg0UmYGxI5rH4Do4Kh1744898420.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/ri8BSqxoNMn2kgF5qRa41744898483.mp3"
  },
  {
    "text": "<p>Which of the following statements is true about the image below?</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/kLka4Mkgd4ADuzvA0fSQ1739940352.png\" width=\"4167\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Technically difficult to perform"
      },
      {
        "id": 2,
        "text": "Decreased chances of perforation"
      },
      {
        "id": 3,
        "text": "Always preferred over ligation"
      },
      {
        "id": 4,
        "text": "Lack of depth perception is present"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: (D) </strong>Lack of <span class=\"customMeta\" data-dictid=\"86dca0a89d169277718659b013c630\">depth perception</span> is present</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The image is a procedure of <strong>Endoscopic sclerotherapy</strong> commonly done in the case of <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding. A double-channel <span class=\"customMeta\" data-dictid=\"e3a3b038c216927771875644f31cc5\">endoscope</span> equipped with a bridge is essential for performing sclerotherapy. The bridge facilitates <span class=\"customMeta\" data-dictid=\"bdc0a4cb9016927771995488a2b961\">suction</span> during the <span class=\"customMeta\" data-dictid=\"3509997646169277719014053aa74d\">injection</span> process and enhances the maneuverability of the needle. The sclerosants commonly used include <strong>Sodium Tetradecyl Sulfate, <span class=\"customMeta\" data-dictid=\"d80f2fac5e169277718713e503a310\">ethanolamine</span> oleate</strong>, etc.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Treatment of Choice to Control Bleeding:</strong></p>\n\n<ul>\n\t<li><strong>Endoscopic <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">Variceal</span> <span class=\"customMeta\" data-dictid=\"dcfb6667ee1692777191f00c3df2df\">Ligation</span> (EVL)</strong> is preferred over <span class=\"customMeta\" data-dictid=\"35ca8c2d5f16927771879351e8f97e\">endoscopic</span> <span class=\"customMeta\" data-dictid=\"c6eed7f30016927771988ace779458\">sclerotherapy</span> for controlling <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> from <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> hemorrhage. (Option C)</li>\n\t<li><strong>EVL</strong> is technically more challenging to perform but carries a lower risk of <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"23b5d65f051692777195987380382d\">perforation</span> compared to sclerotherapy.</li>\n\t<li><strong>Endoscopic sclerotherapy</strong>, while easier to perform,(Option A) has a higher risk of <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"23b5d65f051692777195987380382d\">perforation</span> (Option B) due to <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> <span class=\"customMeta\" data-dictid=\"86dca0a89d169277718659b013c630\">depth perception</span> during the procedure. (Option D)</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"1413\" src=\"https://image.prepladder.com/content/QRh1MxnsNXFduiJ8OYnj1739940401.png\" width=\"2239\" /></p>",
    "question_images": [
      "https://image.prepladder.com/content/kLka4Mkgd4ADuzvA0fSQ1739940352.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/QRh1MxnsNXFduiJ8OYnj1739940401.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/NM7IqTJP2jnqM44071k81744898616.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/vlKT4EMKtNyMe6SQHwCZ1744898694.mp3"
  },
  {
    "text": "<p>Identify the tube shown in the following image used in the management of portal hypertension.</p>\n\n<p><img alt=\"\" data-author=\"Olek Remesz\" data-hash=\"\" data-license=\"CC-BY-SA-3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Sengstaken-Blakemore_scheme_numbered.svg\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/J6gAA5FX6x4pJLyJCdhV1739940439.png\" width=\"3711\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Sengstaken-Blakemore tube"
      },
      {
        "id": 2,
        "text": "Minnesota tube"
      },
      {
        "id": 3,
        "text": "Linton-Nachlas tube"
      },
      {
        "id": 4,
        "text": "Nasogastric (Ryle's) tube"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A</strong>. Sengstaken-Blakemore tube</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>The Sengstaken-Blakemore tube</strong> is used to manage <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding.</p>\n\n<ul>\n\t<li>The tube is inserted through the nose or mouth and carefully advanced into the stomach.</li>\n\t<li>Once in position, the balloons are sequentially inflated to apply pressure on the <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> varices, effectively controlling hemorrhage.</li>\n\t<li>This intervention is temporary and used in the emergency setting until <span class=\"customMeta\" data-dictid=\"32b854324a1692777185c6c79fdc99\">definitive</span> treatments, such as <span class=\"customMeta\" data-dictid=\"35ca8c2d5f16927771879351e8f97e\">endoscopic</span> procedures, can be performed.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>The tube has 3 lumens and 2 inflatable balloons:</p>\n\n<p><strong>Lumens</strong>:</p>\n\n<ul>\n\t<li><strong>Gastric <span class=\"customMeta\" data-dictid=\"831d67ad8a1692777182763ca62e4b\">Aspiration</span> Lumen</strong>: This <span class=\"customMeta\" data-dictid=\"e87def492e1692777191eda63cfc5e\">lumen</span> allows for the <span class=\"customMeta\" data-dictid=\"dd824a31e71692777186c7f8168998\">drainage</span> of <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> contents. It helps to monitor and manage any <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> from the stomach.</li>\n\t<li><strong>Gastric Balloon Lumen</strong>: This <span class=\"customMeta\" data-dictid=\"e87def492e1692777191eda63cfc5e\">lumen</span> is connected to the <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> balloon and is used to inflate it with air or saline, anchoring the tube in place within the stomach.</li>\n\t<li><strong>Esophageal Balloon Lumen</strong>: This <span class=\"customMeta\" data-dictid=\"e87def492e1692777191eda63cfc5e\">lumen</span> is connected to the <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> balloon and is used to inflate it, applying pressure to the <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"c3b47c6c6b16927772018ebcc5b5a9\">varices</span> to stop bleeding.</li>\n</ul>\n\n<p><strong>Balloons</strong>:</p>\n\n<ul>\n\t<li><strong>Gastric Balloon</strong>: Positioned in the stomach, this balloon is inflated to <span class=\"customMeta\" data-dictid=\"517e55e7781692777181b4d509dbdd\">anchor</span> the tube and to apply pressure to the area of <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> if necessary.</li>\n\t<li><strong>Esophageal Balloon</strong>: This balloon is inflated within the <span class=\"customMeta\" data-dictid=\"6a729a105a169277718788389dbeab\">esophagus</span> to exert pressure directly on the <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> varices, helping to control hemorrhage.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"Olek Remesz\" data-hash=\"\" data-license=\"CC-BY-SA-3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Sengstaken-Blakemore_scheme_EN.svg\" data-tags=\"\" height=\"2247\" src=\"https://image.prepladder.com/content/lahj2xXengxXObLEtDBJ1739940483.png\" width=\"2282\" /></p>\n\n<ul>\n\t<li><strong>Option B</strong>: The Minnesota tube is similar to the <span class=\"customMeta\" data-dictid=\"43526c91e816927771986814712086\">Sengstaken-Blakemore tube</span> but with an additional <span class=\"customMeta\" data-dictid=\"e87def492e1692777191eda63cfc5e\">lumen</span> for the <span class=\"customMeta\" data-dictid=\"bdc0a4cb9016927771995488a2b961\">suction</span> of <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> secretions.</li>\n\t<li><strong>Option C: </strong>The Linton-Nachlas tube is used for the <span class=\"customMeta\" data-dictid=\"46a5e63f281692777185d3f56ea186\">decompression</span> of the stomach and the prevention of <span class=\"customMeta\" data-dictid=\"831d67ad8a1692777182763ca62e4b\">aspiration</span> in cases of massive upper <span class=\"customMeta\" data-dictid=\"b3a647ce2516927771881427f56c1d\">gastrointestinal</span> hemorrhage. It is not commonly used for <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"c3b47c6c6b16927772018ebcc5b5a9\">varices</span> but rather for general <span class=\"customMeta\" data-dictid=\"46a5e63f281692777185d3f56ea186\">decompression</span> and <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> control in the stomach.</li>\n\t<li><strong>Option D: </strong>Nasogastric (Ryle's) tube is used for <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> decompression, feeding, and administering medications. It is not designed for controlling <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding.</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/content/J6gAA5FX6x4pJLyJCdhV1739940439.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/lahj2xXengxXObLEtDBJ1739940483.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/oUlYnS0Ey5oJ7IyAtCDj1744898834.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/WUkZ9TPClKKLXfhTMApZ1744898891.mp3"
  },
  {
    "text": "<p>A 60-year-old patient with refractory ascites secondary to cirrhosis undergoes Transjugular intrahepatic portosystemic shunt placement. Two days post-procedure, the patient develops severe dyspnea, peripheral edema, jugular venous distension, and hypotension. A Doppler ultrasound reveals a patent shunt. Which of the following is the most likely cause of the patient's symptoms?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Right heart failure"
      },
      {
        "id": 2,
        "text": "Hepatorenal syndrome"
      },
      {
        "id": 3,
        "text": "Pulmonary hypertension"
      },
      {
        "id": 4,
        "text": "Porto-pulmonary hypertension"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A. </strong>Right heart failure</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Post-TIPSS, the increased <span class=\"customMeta\" data-dictid=\"628ed9c26316927771964889249b3b\">preload</span> from the diverted <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> can overwhelm the right heart, leading to <span class=\"customMeta\" data-dictid=\"72421e3a581692777197a98d00066c\">right heart</span> failure.</li>\n\t<li>This presents as severe dyspnea, <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> edema, <span class=\"customMeta\" data-dictid=\"af7ff6c5fd1692777190f88c20b21b\">jugular</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> distension, and hypotension.</li>\n\t<li>The management includes the use of diuretics to reduce fluid overload.</li>\n</ul>\n\n<p><strong>TIPSS (Transjugular <span class=\"customMeta\" data-dictid=\"98421c7e5e1692777190d261d75f8a\">Intrahepatic</span> Porto <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">Systemic</span> Shunt) </strong></p>\n\n<ul>\n\t<li>It is a nonselective <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> used to treat complications of <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> hypertension.</li>\n\t<li>The liver is accessed through the <span class=\"customMeta\" data-dictid=\"af7ff6c5fd1692777190f88c20b21b\">Jugular</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> and the <span class=\"customMeta\" data-dictid=\"cb33defbb316927771991b2ef81ec3\">stent</span> is placed to create a channel between the right <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">Hepatic</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> and the right branch of the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> vein.</li>\n\t<li>Reduces <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> pressure by diverting blood flow.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Indications</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Contraindications</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"5\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Variceal bleeding</li>\n\t\t\t\t<li>Refractory ascites</li>\n\t\t\t\t<li>Hepatic hydrothorax</li>\n\t\t\t\t<li>Budd Chiari Syndrome</li>\n\t\t\t\t<li>Portal <span class=\"customMeta\" data-dictid=\"dd2daa0c6216927771893c9cab82d9\">Hypertensive</span> gastropathy</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td rowspan=\"5\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Severe <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> encephalopathy</li>\n\t\t\t\t<li>Severe heart failure</li>\n\t\t\t\t<li>Severe <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> hypertension</li>\n\t\t\t\t<li>Uncontrolled <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> infection</li>\n\t\t\t\t<li>Polycystic liver disease</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><img alt=\"\" data-author=\"R. Torrance Andrews, MD\" data-hash=\"\" data-license=\"CC BY 1.0\" data-source=\"https://en.wikipedia.org/wiki/Transjugular_intrahepatic_portosystemic_shunt#/media/File:Tips_schematic.JPG\" data-tags=\"\" height=\"4533\" src=\"https://image.prepladder.com/content/X5G2Z5K7IsDyXcCiLTgv1739940545.png\" width=\"4167\" /></p>\n\n<p><strong>Option B:</strong></p>\n\n<ul>\n\t<li>The <span class=\"customMeta\" data-dictid=\"9d718b233816927771881fe77e3390\">hepatorenal</span> syndrome occurs in advanced liver disease characterized by <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> failure due to altered <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"33dfead74b1692777195931780bd9e\">perfusion</span> without structural <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> damage.</li>\n\t<li>It presents with <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"3662597407169277718640a12868f5\">dysfunction</span> (e.g., oliguria, elevated <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> creatinine) rather than severe dyspnea, <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> edema, and <span class=\"customMeta\" data-dictid=\"af7ff6c5fd1692777190f88c20b21b\">jugular</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> distension.</li>\n</ul>\n\n<p><strong>Option C</strong>:</p>\n\n<ul>\n\t<li>Pulmonary <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> can occur in liver disease but is less likely to cause <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> severe dyspnea, <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> edema, and <span class=\"customMeta\" data-dictid=\"af7ff6c5fd1692777190f88c20b21b\">jugular</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> distension immediately post-TIPSS.</li>\n\t<li>This condition usually develops gradually and presents with symptoms like fatigue, chest pain, and <span class=\"customMeta\" data-dictid=\"c92aa64edb16927771867805a38cc6\">dyspnea</span> on exertion.</li>\n</ul>\n\n<p><strong>Option D</strong>: Porto-pulmonary <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> develops over time and is characterized by increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> pressure.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/X5G2Z5K7IsDyXcCiLTgv1739940545.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/jUHWVwJ6SBphQPF33ZFL1744898994.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/YCGDgWyA4JlKlC1KX7001744899059.mp3"
  },
  {
    "text": "<p>Which of the following complications is most likely to occur after the creation of a side-to-side portocaval shunt (SSPCS)?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Encephalopathy"
      },
      {
        "id": 2,
        "text": "Renal failure"
      },
      {
        "id": 3,
        "text": "Recurrent variceal bleeding"
      },
      {
        "id": 4,
        "text": "Portal vein thrombosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A. Encephalopathy</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li><strong>Encephalopathy</strong> is a common <span class=\"customMeta\" data-dictid=\"8a6b09beac1692777184b08a2b5766\">complication</span> following the creation of a non-selective <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> like the side-to-side portocaval <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> (SSPCS).</li>\n\t<li>This is because the <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> allows <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> blood which contains toxins, to <span class=\"customMeta\" data-dictid=\"4fc6b3ee501692777183061d4f55ff\">bypass</span> the liver and enter the <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"337d16dac5169277718474b97f6e4a\">circulation</span> directly, leading to <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> encephalopathy.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Non-Selective Shunts:</strong></p>\n\n<ul>\n\t<li>Non-selective shunts are <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> procedures used to manage <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> by diverting <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> from the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> system directly into the <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> circulation, bypassing the liver.</li>\n\t<li>This reduces <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> pressure and decreases complications like <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding.</li>\n\t<li>However, they also reduce <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> blood flow, potentially leading to liver <span class=\"customMeta\" data-dictid=\"0f670d10711692777190af4b12fac9\">ischemia</span> and worsening <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> function.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Side-to-side portocaval <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">Shunt</span> (SSPCS)</strong> involves a side-to-side <span class=\"customMeta\" data-dictid=\"7fb96d08421692777181e532c3c653\">anastomosis</span> between the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> and the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> cava.</p>\n\n<ul>\n\t<li>Used for conditions such as Budd-Chiari syndrome, veno-occlusive disease, and <span class=\"customMeta\" data-dictid=\"3790c638ab16927771970a0a41d3ab\">refractory</span> ascites.</li>\n\t<li>Most widely performed <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> due to its effectiveness in reducing <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> pressure.</li>\n\t<li>High risk of <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> <span class=\"customMeta\" data-dictid=\"b37b211cbc169277718725f07b5473\">encephalopathy</span> due to the <span class=\"customMeta\" data-dictid=\"73224cf5e516927771862db3f8f2f2\">diversion</span> of blood away from the liver, reducing its <span class=\"customMeta\" data-dictid=\"a14911da6d1692777186ec6f3025a1\">detoxification</span> capacity.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Other Non-Selective Shunts:</strong></p>\n\n<ol>\n\t<li><strong>Eck Fistula</strong> is an end-to-side portocaval <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> where the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> is divided, and its <span class=\"customMeta\" data-dictid=\"bdbac654081692777196f9aab116f0\">proximal</span> part is sutured to the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> cava.</li>\n\t<li><strong>Interposition Grafts</strong> - A <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> <span class=\"customMeta\" data-dictid=\"a283380a9a1692777188549537a964\">graft</span> is used to connect the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> to the <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> circulation.\n\t<ul>\n\t\t<li>Types include portocaval, <span class=\"customMeta\" data-dictid=\"8b9c596da11692777192bf15dc07cf\">mesocaval</span> (superior mesenteric <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> to <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> cava), and mesorenal (superior mesenteric <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> to left <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> vein) grafts.</li>\n\t\t<li>Used when a direct <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> is not feasible or preferred.</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/cQgKlSI6fjaVm9WSDJj91739940633.png\" width=\"4167\" /></p>\n\n<p>IVC - <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">Inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">Vena</span> Cava; P/C - Porto-caval; M/C - Meso-caval; M/R - Meso-renal; PV - <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">Portal</span> Vein; SMV - Superior Mesenteric Vein; SV - Splenic Vein;</p>\n\n<p>Left RV - Left <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">Renal</span> Vein</p>\n\n<ol>\n\t<li>Proximal <span class=\"customMeta\" data-dictid=\"e244a577831692777199eecf7e9f47\">Splenorenal</span> <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">Shunt</span> (PSRS) or Linton\u2019s Shunt\n\t<ul>\n\t\t<li>After a splenectomy, the <span class=\"customMeta\" data-dictid=\"bdbac654081692777196f9aab116f0\">proximal</span> part of the splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> is sutured to the left <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> vein.</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p><img alt=\"\" data-author=\"Lillegard, Joseph & Hanna, Angela & McKenzie, T & Moir, Christopher & Ishitani, M & Nagorney, David\" data-hash=\"\" data-license=\"CC BY\" data-source=\"https://www.researchgate.net/figure/The-four-types-of-shunts-used-in-our-series-PV-portal-vein-CV-cardiac-vein-SV_fig1_44596901\" data-tags=\"\" height=\"3239\" src=\"https://image.prepladder.com/content/Ty7uhJDRGCpTSkQz20wP1739940681.png\" width=\"4167\" /></p>\n\n<p><strong>Option B</strong>: While <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> failure can occur in advanced liver disease, it is not a direct <span class=\"customMeta\" data-dictid=\"8a6b09beac1692777184b08a2b5766\">complication</span> of SSPCS. <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">Renal</span> failure is more associated with <span class=\"customMeta\" data-dictid=\"9d718b233816927771881fe77e3390\">hepatorenal</span> syndrome in the context of <span class=\"customMeta\" data-dictid=\"3e6e56aa3b1692777184226d2104e4\">cirrhosis</span> and severe liver dysfunction.</p>\n\n<p><strong>Option C: </strong>SSPCS is designed to reduce <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> pressure and prevent <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding. Therefore, <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> is less likely to occur after the procedure.</p>\n\n<p><strong>Option D: </strong>While possible, <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> <span class=\"customMeta\" data-dictid=\"3e745919391692777200fae21b7251\">thrombosis</span> is not the most common <span class=\"customMeta\" data-dictid=\"8a6b09beac1692777184b08a2b5766\">complication</span> of SSPCS.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/cQgKlSI6fjaVm9WSDJj91739940633.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/sK9FNosR6NuGVoliKEqM1744899121.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Ewc9PINUoobpwBrOPmra1744899191.mp3"
  },
  {
    "text": "<p>Which selective shunt procedure is associated with the preservation of portal perfusion to the liver while effectively decompressing varices?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Distal splenorenal shunt (DSRS)"
      },
      {
        "id": 2,
        "text": "Proximal splenorenal shunt (PSRS)"
      },
      {
        "id": 3,
        "text": "Side-to-side portocaval shunt (SSPCS)"
      },
      {
        "id": 4,
        "text": "Interposition grafts"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A. </strong>Distal <span class=\"customMeta\" data-dictid=\"e244a577831692777199eecf7e9f47\">splenorenal</span> <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> (DSRS)</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Selective Shunts:</strong></p>\n\n<p>Selective shunts are designed to divert blood from specific parts of the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> system, preserving some <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"33dfead74b1692777195931780bd9e\">perfusion</span> and reducing the risk of <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> encephalopathy.</p>\n\n<ol>\n\t<li><strong>Distal <span class=\"customMeta\" data-dictid=\"e244a577831692777199eecf7e9f47\">Splenorenal</span> <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">Shunt</span> (DSRS) or Warren Shunt</strong>\n\n\t<ul>\n\t\t<li>The <span class=\"customMeta\" data-dictid=\"5ff25303a01692777186731f6a4f5c\">distal</span> part of the splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> is anastomosed to the left <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> vein.</li>\n\t\t<li>Selectively decompresses the <span class=\"customMeta\" data-dictid=\"6a4861c8d71692777199aeb1d55c85\">spleen</span> and <span class=\"customMeta\" data-dictid=\"9f47bfb9a616927771887db45c89c7\">gastroesophageal</span> <span class=\"customMeta\" data-dictid=\"9f0942c0b51692777190ee876713e5\">junction</span> <span class=\"customMeta\" data-dictid=\"c3b47c6c6b16927772018ebcc5b5a9\">varices</span> while maintaining <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> flow.</li>\n\t\t<li>Lower risk of <span class=\"customMeta\" data-dictid=\"b37b211cbc169277718725f07b5473\">encephalopathy</span> compared to non-selective shunts.</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"Lillegard, Joseph & Hanna, Angela & McKenzie, T & Moir, Christopher & Ishitani, M & Nagorney, David\" data-hash=\"\" data-license=\"CC BY\" data-source=\"https://www.researchgate.net/figure/The-four-types-of-shunts-used-in-our-series-PV-portal-vein-CV-cardiac-vein-SV_fig1_44596901\" data-tags=\"\" height=\"3382\" src=\"https://image.prepladder.com/content/p1HKlo4p0fWWD7fboeHi1739940967.png\" width=\"4167\" /></p>\n\n<ol>\n\t<li><strong>Inokuchi Shunt</strong>\n\n\t<ul>\n\t\t<li>Involves an <span class=\"customMeta\" data-dictid=\"2839e3c3931692777190488ac47fc1\">interposition</span> <span class=\"customMeta\" data-dictid=\"a283380a9a1692777188549537a964\">graft</span> between the left <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> and the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> cava.</li>\n\t\t<li>Used for selectively draining the <span class=\"customMeta\" data-dictid=\"9f47bfb9a616927771887db45c89c7\">gastroesophageal</span> junction, particularly in patients with <span class=\"customMeta\" data-dictid=\"9f47bfb9a616927771887db45c89c7\">gastroesophageal</span> varices.</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p><br />\n<br />\n\u00a0</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/iIRjC9fD4WQISsEp5lKG1739941017.png\" width=\"4167\" /></p>\n\n<p><strong>Option B:</strong> <span class=\"customMeta\" data-dictid=\"bdbac654081692777196f9aab116f0\">Proximal</span> <span class=\"customMeta\" data-dictid=\"e244a577831692777199eecf7e9f47\">splenorenal</span> <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> (PSRS), after splenectomy, connects the <span class=\"customMeta\" data-dictid=\"bdbac654081692777196f9aab116f0\">proximal</span> splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> to the left <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> but does not specifically focus on preserving <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"33dfead74b1692777195931780bd9e\">perfusion</span> to the liver.</p>\n\n<p><strong>Option C:</strong> Side-to-side portocaval <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> (SSPCS) diverts a significant portion of <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> to the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> cava, reducing <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> pressure but not preserving liver perfusion.</p>\n\n<p><strong>Option D: </strong>Interposition grafts are non-selective shunts that can be used to connect the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> to the <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> circulation.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/p1HKlo4p0fWWD7fboeHi1739940967.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/rqeKdcNXQplGLczPT2aG1744899256.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/GzswIkWnSLMOCi9S1HKU1744899303.mp3"
  },
  {
    "text": "<p>In a patient with Budd Chiari Syndrome, which of the following imaging findings is most indicative of chronic disease?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Enlarged caudate lobe"
      },
      {
        "id": 2,
        "text": "Ascites"
      },
      {
        "id": 3,
        "text": "Hepatic vein thrombosis"
      },
      {
        "id": 4,
        "text": "Splenomegaly"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A. </strong>Enlarged <span class=\"customMeta\" data-dictid=\"1d14ed8c1216927771832ccea0c79f\">caudate</span> lobe</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The enlarged <span class=\"customMeta\" data-dictid=\"1d14ed8c1216927771832ccea0c79f\">caudate</span> <span class=\"customMeta\" data-dictid=\"d7dd6ae43c1692777191cf75c0bd58\">lobe</span> is a hallmark of chronic Budd Chiari Syndrome.</li>\n\t<li>The <span class=\"customMeta\" data-dictid=\"1d14ed8c1216927771832ccea0c79f\">caudate</span> <span class=\"customMeta\" data-dictid=\"d7dd6ae43c1692777191cf75c0bd58\">lobe</span> has its own <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> <span class=\"customMeta\" data-dictid=\"dd824a31e71692777186c7f8168998\">drainage</span> directly into the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> cava, allowing it to remain <span class=\"customMeta\" data-dictid=\"915ca56f53169277720296a38e3e8e\">viable</span> and potentially enlarge when the rest of the liver is affected by <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> outflow obstruction.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"Aakunuri, Akhil & Mandhala, Saikrishna & Srija, Billakuduru & Kumar, Bavu\" data-hash=\"\" data-license=\"CC BY-NC-ND 4.0\" data-source=\"https://www.researchgate.net/figure/a-and-b-Computed-tomography-scan-shows-hepatomegaly-with-caudate-lobe-hypertrophy-and_fig1_355572034\" data-tags=\"\" height=\"1674\" src=\"https://image.prepladder.com/content/GibAQwOXcfNGDI0q5rzm1739941122.png\" width=\"4167\" /></p>\n\n<p><strong>Budd-Chiari Syndrome</strong> is characterized by <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> outflow obstruction, leading to liver congestion, ischemia, and damage.</p>\n\n<ol>\n\t<li><strong>Etiology: </strong>\n\n\t<ul>\n\t\t<li>The most common cause is <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> thrombosis. Other causes include <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> <span class=\"customMeta\" data-dictid=\"67544ba6ef16927771835d4641cc8f\">cava</span> obstruction.</li>\n\t\t<li>Risk Factors: <span class=\"customMeta\" data-dictid=\"7fd466a9c016927771962d5b061b0f\">Polycythemia</span> vera, thrombophilic disorders, and malignancies are significant risk factors.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Clinical Features</strong>\n\t<ul>\n\t\t<li>The characteristic <span class=\"customMeta\" data-dictid=\"1a0a43d74e16927772004473a05ae3\">triad</span> includes ascites, hepatomegaly, and <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> pain.</li>\n\t\t<li>Jaundice, encephalopathy, anorexia, and fatigue may occur if <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> failure develops.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Diagnosis and Treatment</strong>\n\t<ul>\n\t\t<li>Venography is the investigation of choice, showing <span class=\"customMeta\" data-dictid=\"87bbbfb59516927771992f5372ca87\">spider</span> web collaterals if the <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> veins are involved, or <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> <span class=\"customMeta\" data-dictid=\"4009c092e41692777183cc5e9db4e4\">cavography</span> if the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> <span class=\"customMeta\" data-dictid=\"67544ba6ef16927771835d4641cc8f\">cava</span> is obstructed.</li>\n\t\t<li>Treatment includes anticoagulants, <span class=\"customMeta\" data-dictid=\"7e7b9c1b1816927772000af22608df\">thrombolysis</span> (if within the window period), and <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> intervention. In cases of liver failure, liver <span class=\"customMeta\" data-dictid=\"ee9f07b0a81692777200e416e4e5d7\">transplantation</span> is the treatment of choice.</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p>\u00a0</p>\n\n<p><strong>Option B:</strong> <span class=\"customMeta\" data-dictid=\"a1146fb9d8169277718250cf1224a8\">Ascites</span> can occur in both <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> and chronic Budd Chiari Syndrome and is not specific to the chronic stage of the disease.</p>\n\n<p><strong>Option C:</strong> While <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> <span class=\"customMeta\" data-dictid=\"3e745919391692777200fae21b7251\">thrombosis</span> is a key feature of Budd-Chiari Syndrome, it can be present in both <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> and chronic stages and does not specifically indicate chronicity.</p>\n\n<p><strong>Option D:</strong> <span class=\"customMeta\" data-dictid=\"b3eb52fe3b1692777199de8465eea8\">Splenomegaly</span> is a common finding due to <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> but can be seen in both <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> and chronic phases, thus not specifically indicative of chronic disease.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/GibAQwOXcfNGDI0q5rzm1739941122.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/dcLWnDrTjUveiGB8ipVn1744899367.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/8z0jLalRg9voAQ82DCKv1744899425.mp3"
  },
  {
    "text": "<p>A 12-year-old boy presents with a history of recurrent episodes of gastrointestinal bleeding. He has no history of liver disease, jaundice, or ascites. Physical examination reveals moderate splenomegaly but no hepatomegaly. Doppler ultrasound of the abdomen shows obstruction at the confluence of the splenic vein and the superior mesenteric vein. What is the most likely diagnosis?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Cirrhosis"
      },
      {
        "id": 2,
        "text": "Non-Cirrhotic Portal Fibrosis (NCPF)"
      },
      {
        "id": 3,
        "text": "Extrahepatic Portal Vein Obstruction (EHPVO)"
      },
      {
        "id": 4,
        "text": "Budd-Chiari Syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<h4><strong>Correct Answer: C. </strong>Extrahepatic <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">Portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">Vein</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">Obstruction</span> (EHPVO)</h4>\n\n<h4><strong>Explanation:</strong><br />\nExtrahepatic <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">Portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">Vein</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">Obstruction</span> (EHPVO) is characterized by <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> of the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> outside the liver, commonly at the <span class=\"customMeta\" data-dictid=\"88204184f916927771840c8ffcea6b\">confluence</span> of the <strong>splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> and superior mesenteric vein</strong>. It is often seen in younger patients 1st to 2nd decade of life and can present with <span class=\"customMeta\" data-dictid=\"b3a647ce2516927771881427f56c1d\">gastrointestinal</span> <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> and <span class=\"customMeta\" data-dictid=\"b3eb52fe3b1692777199de8465eea8\">splenomegaly</span> without signs of liver disease.</h4>\n\n<ul>\n\t<li><strong>Option A: Cirrhosis</strong> typically presents with signs of liver disease, such as jaundice, ascites, and hepatomegaly, none of which are present in this patient.</li>\n\t<li><strong>Option B: Non-Cirrhotic <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">Portal</span> <span class=\"customMeta\" data-dictid=\"21e2d5a70616927772021fcdec0ca9\">Fibrosis</span> (NCPF)</strong> involves the<strong> <span class=\"customMeta\" data-dictid=\"98421c7e5e1692777190d261d75f8a\">intrahepatic</span> branches of the <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> </strong>and typically presents in the<strong> 2nd to 4th decades of life</strong>, with more severe splenomegaly. It is associated with certain substances such as <strong>Vinyl chloride, Arsenic, and Copper.</strong></li>\n\t<li><strong>Option D: Budd-Chiari Syndrome</strong> involves <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> of the <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> veins, often presenting with hepatomegaly, ascites, and liver dysfunction, which are not seen in this patient.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/xlaEiWHmzI3Ka8yf6HBd1744899559.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/rO0gmePtsn3RxwiWUNS11744899634.mp3"
  },
  {
    "text": "<p>A 45-year-old man presents to the emergency department with a 3-day history of left upper quadrant abdominal pain and nausea. He has a history of chronic pancreatitis due to alcohol abuse. Physical examination reveals tenderness in the left upper quadrant and splenomegaly. Abdominal CT scan without contrast shows a thrombus in the splenic vein. What type of varices are likely to be seen on endoscopic examination?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Esophageal varices"
      },
      {
        "id": 2,
        "text": "Gastric varices"
      },
      {
        "id": 3,
        "text": "Esophageal and gastric varices, with esophageal predominant"
      },
      {
        "id": 4,
        "text": "Duodenal varices"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Answer: B) <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">Gastric</span> varices</strong></p>\n\n<p><strong>Explanation: </strong><br />\nThis clinical scenario is typical of <strong>splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> <span class=\"customMeta\" data-dictid=\"3e745919391692777200fae21b7251\">thrombosis</span> (SVT)</strong>, a condition often associated with chronic pancreatitis. The patient's history of chronic pancreatitis, left upper <span class=\"customMeta\" data-dictid=\"3a757d7c1216927771968223be411d\">quadrant</span> pain, splenomegaly, and the CT finding of a <span class=\"customMeta\" data-dictid=\"56c933e0d41692777200b713c46640\">thrombus</span> in the splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> all point to this diagnosis.</p>\n\n<p>Splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> <span class=\"customMeta\" data-dictid=\"3e745919391692777200fae21b7251\">thrombosis</span> <strong>predominantly shows <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> varices</strong> on endoscopy.</p>\n\n<p><strong>Splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> thrombosis</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:608px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Etiology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Pancreatic disorders <strong>(most common)</strong>:</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Acute or chronic pancreatitis</li>\n\t\t\t\t<li>Pancreatic cancer</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Abdominal trauma or surgery</li>\n\t\t\t\t<li>Hypercoagulable states</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pathophysiology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Obstruction of splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> leading to increased pressure in splenic circulation</li>\n\t\t\t\t<li>Development of <span class=\"customMeta\" data-dictid=\"4de12d1ef31692777184db1d11c6bd\">collateral</span> <span class=\"customMeta\" data-dictid=\"337d16dac5169277718474b97f6e4a\">circulation</span> (left-sided <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> hypertension)</li>\n\t\t\t\t<li>Formation of <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> (<strong>predominantly</strong>) and <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> varices</li>\n\t\t\t\t<li>Splenomegaly due to congestion</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>CT or <span class=\"customMeta\" data-dictid=\"7ce7bcb2f316927771938e0bea7f4d\">MRI</span> showing splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> occlusion</li>\n\t\t\t\t<li>Endoscopic ultrasound</li>\n\t\t\t\t<li>Angiography (less commonly used)</li>\n\t\t\t\t<li><strong>Clinical signs</strong>: splenomegaly, <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> varices, normal liver function</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Treat underlying cause (e.g., pancreatitis)</li>\n\t\t\t\t<li>Anticoagulant therapy using LMWH</li>\n\t\t\t\t<li>Splenectomy for <span class=\"customMeta\" data-dictid=\"509310d4411692777199f2ffdb7769\">symptomatic</span> patients or those with <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> varices</li>\n\t\t\t\t<li>Endoscopic management of <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> varices</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Option A:</strong> <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">Esophageal</span> <span class=\"customMeta\" data-dictid=\"c3b47c6c6b16927772018ebcc5b5a9\">varices</span> are more commonly associated with <span class=\"customMeta\" data-dictid=\"3e6e56aa3b1692777184226d2104e4\">cirrhosis</span> and generalized <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> hypertension, rather than isolated splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> thrombosis.</p>\n\n<p><strong>Option C: </strong>While it's possible to have both <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> and <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> varices, the predominance of <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"c3b47c6c6b16927772018ebcc5b5a9\">varices</span> is more characteristic of <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> (as seen in cirrhosis) rather than splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> thrombosis.</p>\n\n<p><strong>Option D: </strong>Duodenal <span class=\"customMeta\" data-dictid=\"c3b47c6c6b16927772018ebcc5b5a9\">varices</span> are rare and usually associated with generalized <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> or <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> thrombosis, not isolated splenic <span class=\"customMeta\" data-dictid=\"75ddd4cc7016927772012e0acd424d\">vein</span> thrombosis.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/0RLtHsLnzraNHUfInIwk1744899833.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/09qX5Zt9H1FfLxmSKWIm1744899883.mp3"
  },
  {
    "text": "<p>A 60-year-old male with a history of cirrhosis presents with recurrent esophageal variceal bleeding that has not responded to endoscopic treatments. The patient is scheduled for a Sugiura procedure. Which of the following components is NOT part of the Sugiura procedure?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Splenectomy"
      },
      {
        "id": 2,
        "text": "Esophagogastric devascularization"
      },
      {
        "id": 3,
        "text": "Intraesophageal portacaval shunt"
      },
      {
        "id": 4,
        "text": "Esophageal transection"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<h4><strong>Correct Answer: C.</strong> Intraesophageal <span class=\"customMeta\" data-dictid=\"10fa5e4ce91692777196dc4c23a534\">portacaval</span> shunt<br />\n<strong>Explanation:</strong><br />\nThe <span class=\"customMeta\" data-dictid=\"b416c60bb21692777199f84435003f\">Sugiura procedure</span> includes:</h4>\n\n<ul>\n\t<li>Splenectomy</li>\n\t<li>Esophagogastric devascularization</li>\n\t<li>Esophageal transection</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"Lu, Cheng-Lin & Cao, Ya-Juan & Cheng, Hao & Pan, Yi-Ming & Bao, Shan-Hua & Xie, Min.\" data-hash=\"\" data-license=\"CC BY 2.5\" data-source=\"https://www.researchgate.net/figure/The-schema-showed-the-details-of-surgical-procedures_fig1_303748754\" data-tags=\"\" height=\"1766\" src=\"https://image.prepladder.com/content/u2pmYnUimddLi94QjfjC1739941179.png\" width=\"4167\" /></p>\n\n<p><strong>Sugiura procedure</strong> is used to manage <strong>recurrent <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding</strong> that does not improve on conventional treatment protocols.</p>\n\n<p>The <span class=\"customMeta\" data-dictid=\"b416c60bb21692777199f84435003f\">Sugiura procedure</span> is a <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> technique used to manage <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> varices, often due to <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> from liver cirrhosis. It involves two main components:</p>\n\n<p>1. <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">Esophageal</span> Devascularization: This part of the procedure involves surgically cutting off the blood supply to the <span class=\"customMeta\" data-dictid=\"6a729a105a169277718788389dbeab\">esophagus</span> to reduce the pressure in the <span class=\"customMeta\" data-dictid=\"c3b47c6c6b16927772018ebcc5b5a9\">varices</span> and prevent bleeding.</p>\n\n<p>2. <span class=\"customMeta\" data-dictid=\"9f47bfb9a616927771887db45c89c7\">Gastroesophageal</span> Decompression: In this step, the procedure may also include diverting <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> away from the <span class=\"customMeta\" data-dictid=\"192677035a169277718780b4d6dbbb\">esophageal</span> varices, such as creating a <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> or performing other <span class=\"customMeta\" data-dictid=\"46a5e63f281692777185d3f56ea186\">decompression</span> techniques</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/u2pmYnUimddLi94QjfjC1739941179.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/GTf3jpnQvHFd86zLrSZH1744899940.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/iD2Y7ZGa7uYGwezP4kEC1744899987.mp3"
  },
  {
    "text": "<p>A 48-year-old male is diagnosed with portal hypertension. Hepatic venous pressure gradient (HVPG) measurements are taken to assess the severity of his portal hypertension. Based on the prognostic values of HVPG, what are the cut-off HVPG values for clinically significant portal hypertension and increased risk of acute variceal bleeding respectively?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "\u22656 mm Hg, \u226510mm Hg"
      },
      {
        "id": 2,
        "text": "\u22658 mm Hg, \u226512 mm Hg"
      },
      {
        "id": 3,
        "text": "\u226510 mm Hg, \u226512 mm Hg"
      },
      {
        "id": 4,
        "text": "\u226516 mm Hg, \u226518 mm Hg"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<h4><strong>Correct Answer: C.</strong> \u226510 mm Hg, \u226512 mm Hg</h4>\n\n<h4><strong>Explanation:</strong></h4>\n\n<ul>\n\t<li>\n\t<h4>Clinically significant <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> is defined by an HVPG of \u226510 mm Hg.</h4>\n\t</li>\n\t<li>\n\t<h4>HVPG of \u226512 <span class=\"customMeta\" data-dictid=\"66ae2626ae169277719278edf9936d\">mm Hg</span> is associated with an increased risk of <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding.</h4>\n\t</li>\n\t<li>\n\t<h4>These cut-off values are used to evaluate the <span class=\"customMeta\" data-dictid=\"e580b4033e169277719609af594c16\">prognosis</span> of patients with chronic liver disease and <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> hypertension.</h4>\n\t</li>\n</ul>\n\n<p><strong>Prognostic value of HPVG in patients of Chronic Liver Disease & <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">Portal</span> HTN</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>HVPG-Values</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Significance</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1-5 mm Hg</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Normal</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>6-10 mm Hg</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Preclinical <span class=\"customMeta\" data-dictid=\"00e480945216927771982870470f92\">sinusoidal</span> <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> hypertension</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u226510 mm Hg</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Clinically significant <span class=\"customMeta\" data-dictid=\"a74252404f1692777196d3f24bde2d\">portal</span> hypertension</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u226512 mm Hg</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Increased risk for <span class=\"customMeta\" data-dictid=\"e73553a3a5169277719787fd5f4680\">rupture</span> of varices</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u226516 mm Hg</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Increased risk of mortality</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u226520 mm Hg</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Treatment failure and mortality in <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"d4607865bb1692777201a35341db81\">variceal</span> bleeding</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/zOFgjk2fOuvUKfTFtR8M1744900039.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Tz49ZZQdxPk3OKgNSE2V1744900120.mp3"
  }
];
        let quizName = '08 Portal Hypertension';
        const quizFilename = '08-portal-hypertension-9ac17d22.html';
        let hierarchy = ["PrepLadder", "qBank", "Surgery"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>