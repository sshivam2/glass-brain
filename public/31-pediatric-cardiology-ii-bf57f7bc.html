<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>31 Pediatric Cardiology-Ii - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pediatrics
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">11</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>Which of the following is not a component of Tetralogy of Fallot (ToF)?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary stenosis"
      },
      {
        "id": 2,
        "text": "Ventricular septal defect (VSD)"
      },
      {
        "id": 3,
        "text": "Left ventricular hypertrophy"
      },
      {
        "id": 4,
        "text": "Overriding aorta"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy</strong> is not a feature of <span class=\"customMeta\" data-dictid=\"225bbf4bd416927772003bf64ffa1f\">Tetralogy</span> of Fallot.</li>\n\t<li>The condition is associated with <strong>right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy</strong>, and not left.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Components of <span class=\"customMeta\" data-dictid=\"225bbf4bd416927772003bf64ffa1f\">Tetralogy</span> of Fallot:</strong></p>\n\n<ul>\n\t<li><strong>Pulmonary Stenosis</strong>: <strong>(Option A ruled out)</strong>\n\n\t<ul>\n\t\t<li>Narrowing of the <span class=\"customMeta\" data-dictid=\"3aa5abc2fa169277719488e088076d\">pathway</span> from the right <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> to the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery, possibly affecting the infundibulum, valve, or main <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Ventricular Septal <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">Defect</span> (VSD)</strong>: <strong>(Option B ruled out)</strong>\n\t<ul>\n\t\t<li>A large hole between the right and left ventricles, usually misaligned, allowing <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> blood flow.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Overriding Aorta</strong>: <strong>(Option D ruled out)</strong>\n\t<ul>\n\t\t<li>The <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> is positioned over the septum, receiving blood from both ventricles.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">Ventricular</span> Hypertrophy</strong>: <strong>(Option C)</strong>\n\t<ul>\n\t\t<li>Thickening of the right <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> wall due to the extra effort required to pump blood.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/1kfLYyY7W1zveTud2cCu1744032866.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/KvyaqHyVZObkcFSshlF01744032913.mp3"
  },
  {
    "text": "<p>A 2-month-old infant with Tetralogy of Fallot presents with severe cyanosis from birth and a loud systolic ejection murmur at the left sternal border. The cyanosis worsens with closure of the ductus arteriosus. What is the most likely severity of pulmonary stenosis in this infant?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Mild"
      },
      {
        "id": 2,
        "text": "Moderate"
      },
      {
        "id": 3,
        "text": "Severe"
      },
      {
        "id": 4,
        "text": "Pulmonary atresia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Severe.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Severe <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"0c9567c6cb16927771996c6bc2b21e\">stenosis</span> results in severe <span class=\"customMeta\" data-dictid=\"f3b66d8ec4169277718566066add68\">cyanosis</span> from birth and worsens with the <span class=\"customMeta\" data-dictid=\"2b4569285f1692777184282b1ca3f1\">closure</span> of the <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus.</p>\n\n<p><strong>General Clinical Features of ToF:</strong></p>\n\n<ul>\n\t<li><strong>Cyanosis:</strong>\n\n\t<ul>\n\t\t<li><strong>Directly <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to the degree of <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> stenosis.</strong></li>\n\t\t<li>Ranges from mild to severe based on the extent of RVOT (right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> outflow tract) obstruction.</li>\n\t\t<li>Older, untreated children may show dusky skin, gray sclerae, and clubbing.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Hypercyanotic Spells (Tet Spells):</strong>\n\t<ul>\n\t\t<li>Sudden increase in cyanosis, often <span class=\"customMeta\" data-dictid=\"3978e9614f1692777200abbe4cfa34\">triggered</span> by crying or agitation.</li>\n\t\t<li>Symptoms include irritability, restlessness, rapid breathing, and severe cases like <span class=\"customMeta\" data-dictid=\"9f04fb3f2f1692777199272e3daf84\">syncope</span> or convulsions.</li>\n\t\t<li>Commonly occurs in the morning or after intense crying.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Murmurs:</strong>\n\t<ul>\n\t\t<li>Loud, harsh <span class=\"customMeta\" data-dictid=\"cf69f5256416927771991c21f264ae\">systolic</span> <span class=\"customMeta\" data-dictid=\"3b69bda4d21692777187109c85a27e\">ejection</span> <span class=\"customMeta\" data-dictid=\"da6b4ea38d169277719384b53c8f45\">murmur</span> at the left sternal border, radiating to the lungs.</li>\n\t\t<li>Murmur intensity may vary, louder with moderate stenosis, and diminishes during <span class=\"customMeta\" data-dictid=\"b66a596cc316927772009d4981a4b4\">tet</span> spells.</li>\n\t\t<li>A <span class=\"customMeta\" data-dictid=\"4b9829051f1692777185296e9b484a\">continuous murmur</span> may indicate <span class=\"customMeta\" data-dictid=\"4de12d1ef31692777184db1d11c6bd\">collateral</span> vessels.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Additional Findings:</strong>\n\t<ul>\n\t\t<li>Palpable <span class=\"customMeta\" data-dictid=\"cf69f5256416927771991c21f264ae\">systolic</span> <span class=\"customMeta\" data-dictid=\"7deb9070e81692777200227c178c2f\">thrill</span> along the left sternal border.</li>\n\t\t<li>Single or soft S2 due to a stenotic <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> valve.</li>\n\t\t<li>Prominent right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> impulse.</li>\n\t\t<li>Bulging of the left <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> <span class=\"customMeta\" data-dictid=\"06e0403a9c16927771846fde1c53f8\">chest wall</span> in older children due to RV hypertrophy.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Impact of <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">Pulmonary</span> <span class=\"customMeta\" data-dictid=\"0c9567c6cb16927771996c6bc2b21e\">Stenosis</span> Severity on Clinical Presentation:</strong></p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Pulmonary <span class=\"customMeta\" data-dictid=\"0c9567c6cb16927771996c6bc2b21e\">Stenosis</span> Severity</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Clinical Presentation</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mild </strong><strong>(Option A ruled out)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Initial <span class=\"customMeta\" data-dictid=\"1a5e87d16716927771888f364bce89\">heart failure</span> symptoms due to left-to-right shunt.</li>\n\t\t\t\t<li>Cyanosis may appear later as RV <span class=\"customMeta\" data-dictid=\"3baac9012a1692777189cb4dc70c04\">hypertrophy</span> worsens.</li>\n\t\t\t\t<li>Increased risk of <span class=\"customMeta\" data-dictid=\"53e6ce71271692777189c8c4b90fe5\">hypercyanotic</span> spells.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Moderate </strong><strong>(Option B ruled out)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Inferred presentation: increased <span class=\"customMeta\" data-dictid=\"f3b66d8ec4169277718566066add68\">cyanosis</span> as <span class=\"customMeta\" data-dictid=\"76f010f4161692777191f3a1a5d5c4\">left-to-right shunt</span> decreases.</li>\n\t\t\t\t<li>Systolic <span class=\"customMeta\" data-dictid=\"da6b4ea38d169277719384b53c8f45\">murmur</span> becomes louder, longer, and harsher.</li>\n\t\t\t\t<li>Softer <span class=\"customMeta\" data-dictid=\"5ebe3b1fbd1692777196b3ced12100\">pulmonic</span> component of the <span class=\"customMeta\" data-dictid=\"ddbe945c10169277719841fa6a7fa2\">second heart sound</span> (S2).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Severe </strong><strong>(Option C)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Early <span class=\"customMeta\" data-dictid=\"77493a5b781692777193df12530299\">neonatal</span> <span class=\"customMeta\" data-dictid=\"f3b66d8ec4169277718566066add68\">cyanosis</span> due to restricted <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> blood flow.</li>\n\t\t\t\t<li>Right-to-left <span class=\"customMeta\" data-dictid=\"950826ab361692777198366a25dfbf\">shunt</span> causing <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> deoxygenation.</li>\n\t\t\t\t<li>Potential reliance on <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus; <span class=\"customMeta\" data-dictid=\"2b4569285f1692777184282b1ca3f1\">closure</span> can lead to severe <span class=\"customMeta\" data-dictid=\"f3b66d8ec4169277718566066add68\">cyanosis</span> and <span class=\"customMeta\" data-dictid=\"f3739d892c1692777184b2e134615c\">circulatory</span> collapse.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pulmonary <span class=\"customMeta\" data-dictid=\"5c10d19e4416927771829871a1737f\">Atresia</span> (Extreme) </strong><strong>(Option D ruled out)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Complete absence of <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> valve; entire RV output directed into the aorta.</li>\n\t\t\t\t<li>Pulmonary <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> depends on <span class=\"customMeta\" data-dictid=\"4de12d1ef31692777184db1d11c6bd\">collateral</span> vessels (MAPCAs) or a persistent <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus.</li>\n\t\t\t\t<li>Severity of <span class=\"customMeta\" data-dictid=\"f3b66d8ec4169277718566066add68\">cyanosis</span> and <span class=\"customMeta\" data-dictid=\"e580b4033e169277719609af594c16\">prognosis</span> depends on the development of <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> arteries.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Key Points</strong>:</p>\n\n<ul>\n\t<li>Clinical presentation varies widely based on the combination and severity of the four defining defects of ToF.</li>\n\t<li>Pulmonary <span class=\"customMeta\" data-dictid=\"0c9567c6cb16927771996c6bc2b21e\">stenosis</span> is the primary <span class=\"customMeta\" data-dictid=\"bcfc89f2a11692777186843c557356\">determinant</span> of the clinical manifestations in ToF.</li>\n</ul>\n\n<p><br />\n\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/dxvwqro5qdl92su8ZXKN1744032981.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/L9v1adLFEg71M9BTpSMe1744033070.mp3"
  },
  {
    "text": "<p>A 6-month-old infant presents with cyanotic spells and a chest x-ray as shown below. Which of the following investigations is considered the gold standard for diagnosing and characterizing this condition?</p>\n\n<p style=\"text-align:center\"><img alt=\"-\" data-author=\"Apostolopoulou, Sotiria & Manginas, Athanassios & Kelekis, Nikolaos & Noutsias, Michel.\" data-hash=\"1046\" data-license=\"CC BY 4.0\" data-source=\"https://www.researchgate.net/figure/Chest-radiograph-of-child-with-TOF-showing-the-classical-boot-shaped-heart-due-to-the_fig2_330217070\" data-tags=\"March2025\" src=\"https://image.prepladder.com/notes/5vpY9kaAF4DK0qVVoiAQ1742189822.png\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Electrocardiogram (ECG)"
      },
      {
        "id": 2,
        "text": "Chest X-Ray"
      },
      {
        "id": 3,
        "text": "Cardiac Catheterization"
      },
      {
        "id": 4,
        "text": "Echocardiography"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Echocardiography</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Echocardiography</strong> is the gold standard for diagnosing and characterizing Tetralogy of Fallot.</li>\n\t<li>It provides detailed information about the aortic override, RVOT obstruction, and the sizes of related structures such as the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> <span class=\"customMeta\" data-dictid=\"2889a63cdd1692777181f9102ed608\">annulus</span> and the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> arteries.</li>\n</ul>\n\n<p>I<strong>nvestigation of ToF</strong></p>\n\n<ul>\n\t<li><strong>Physical Examination:</strong>\n\n\t<ul>\n\t\t<li>Cyanosis, clubbing, heart murmur, intensity/character of murmur, presence of thrill</li>\n\t</ul>\n\t</li>\n\t<li><strong>Chest X-ray: </strong><strong>(Option B ruled out)</strong>\n\t<ul>\n\t\t<li>Enlarged right ventricle, <strong>\"boot-shaped\" heart</strong>, decreased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> markings, right-sided aortic <span class=\"customMeta\" data-dictid=\"9a89dd67841692777182ee412af263\">arch</span> (20% of cases)</li>\n\t</ul>\n\t</li>\n\t<li><strong>Electrocardiogram (ECG): </strong><strong>(Option A ruled out)</strong>\n\t<ul>\n\t\t<li>Right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"3baac9012a1692777189cb4dc70c04\">hypertrophy</span> (RVH), dominant R wave in V1/V2, RSR' pattern, tall P waves indicating right atrial enlargement</li>\n\t</ul>\n\t</li>\n\t<li><strong>Echocardiography:</strong> (Gold standard)<strong> (Option D)</strong>\n\t<ul>\n\t\t<li>Assessment of:\n\t\t<ul>\n\t\t\t<li>Aortic override</li>\n\t\t\t<li>RVOT obstruction</li>\n\t\t\t<li>Size of <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> annulus, main <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery, <span class=\"customMeta\" data-dictid=\"bdbac654081692777196f9aab116f0\">proximal</span> branch <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> arteries</li>\n\t\t\t<li>Presence of patent <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus (PDA)</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li><strong>Cardiac Catheterization:\u00a0</strong><strong>(Option C ruled out)</strong>\n\t<ul>\n\t\t<li>Indications:\n\t\t<ul>\n\t\t\t<li>Conclusive <span class=\"customMeta\" data-dictid=\"9e99effc421692777181b02606e021\">anatomy</span> information needed</li>\n\t\t\t<li>Suspicion of <span class=\"customMeta\" data-dictid=\"bc8bc758371692777185eff2ccabb7\">coronary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> anomalies</li>\n\t\t\t<li>ToF with <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> atresia</li>\n\t\t\t<li>Measure pressures and oxygen saturations</li>\n\t\t\t<li>Perform interventions (e.g., Blalock-Taussig shunt)</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Treatment of ToF:</strong></p>\n\n<ul>\n\t<li><strong>Management of Tet Spells</strong>\n\n\t<ul>\n\t\t<li>Immediate interventions:\n\t\t<ul>\n\t\t\t<li>Knee-chest position</li>\n\t\t\t<li>Oxygen administration</li>\n\t\t\t<li>Morphine for sedation</li>\n\t\t\t<li>Intravenous fluids</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li><strong>Surgical Repair</strong>\n\t<ul>\n\t\t<li><strong>Complete Repair</strong>\n\t\t<ul>\n\t\t\t<li>Procedure: Close VSD, relieve RVOT obstruction</li>\n\t\t\t<li>Approach: Transatrial-transpulmonary</li>\n\t\t\t<li>Considerations: Minimizing <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"80feaae4b31692777190ea1ba3fc25\">insufficiency</span> with smaller patches</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li><strong>Palliative Shunts</strong>\n\t\t<ul>\n\t\t\t<li><strong>Blalock-Taussig Shunt</strong>: Connects <span class=\"customMeta\" data-dictid=\"9562c879be1692777199afcb12fa54\">subclavian</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> to <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery</li>\n\t\t\t<li><strong>Central Shunt</strong>: Connects <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> to main <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/5vpY9kaAF4DK0qVVoiAQ1742189822.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/z49NiSssByPODWX6n6tu1744033120.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/IaD8OelLLXy0XfWmmnZn1744113794.mp3"
  },
  {
    "text": "<p>A 10-year-old patient presents with symptoms suggestive of rheumatic fever. According to the modified Jones criteria, which of the following is considered a major criterion for diagnosing rheumatic fever for a low risk population ?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Arthralgia"
      },
      {
        "id": 2,
        "text": "Elevated ESR"
      },
      {
        "id": 3,
        "text": "Fever"
      },
      {
        "id": 4,
        "text": "Carditis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Carditis</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Carditis</strong> is one of the major criteria in the modified Jones criteria for diagnosing rheumatic fever.</li>\n\t<li>It involves <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> of the heart and is a significant sign of rheumatic fever.</li>\n</ul>\n\n<p><strong>Diagnosis of Initial ARF:</strong></p>\n\n<ul>\n\t<li>2 Major Manifestations, or</li>\n\t<li>1 Major Manifestation plus 2 Minor Manifestations</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Modified Jones Criteria for Diagnosing Rheumatic Fever</strong></p>\n\n<p><strong>Historical Background:</strong></p>\n\n<ul>\n\t<li>Original Jones criteria established in 1944.</li>\n\t<li>Significant updates in 1992 and later.</li>\n</ul>\n\n<p><strong>Key Components:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:450px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Criteria Type</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Components</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Major Criteria</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ol>\n\t\t\t\t<li>Carditis <strong>(Option D)</strong></li>\n\t\t\t\t<li>Polyarthritis</li>\n\t\t\t\t<li>Chorea</li>\n\t\t\t\t<li>Erythema marginatum</li>\n\t\t\t\t<li>Subcutaneous nodules</li>\n\t\t\t</ol>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Minor Criteria</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ol>\n\t\t\t\t<li>Fever <strong>(Option C\u00a0ruled out)</strong></li>\n\t\t\t\t<li>Arthralgia <strong>(Option A ruled out)</strong></li>\n\t\t\t\t<li>Elevated <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> phase reactants (e.g., ESR, CRP) <strong>(Option B ruled out)</strong></li>\n\t\t\t\t<li>Prolonged PR interval on ECG</li>\n\t\t\t</ol>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Major Criteria</strong></p>\n\n<p><strong>Low-risk Population</strong></p>\n\n<ul>\n\t<li>Carditis (clinical or subclinical)</li>\n\t<li>Arthritis (polyarthritis only)</li>\n\t<li>Chorea</li>\n\t<li>Erythema marginatum</li>\n\t<li>Subcutaneous nodule</li>\n</ul>\n\n<p><strong>Moderate- to High-risk Population</strong></p>\n\n<ul>\n\t<li>Carditis (clinical or subclinical)</li>\n\t<li>Arthritis (polyarthritis, polyarthralgia, and/or monoarthritis)</li>\n\t<li>Chorea</li>\n\t<li>Erythema marginatum</li>\n\t<li>Subcutaneous nodule</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Supporting Evidence:</strong></p>\n\n<ul>\n\t<li>Importance of clinical history, including:\n\t<ul>\n\t\t<li>Previous episodes of <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> rheumatic fever</li>\n\t\t<li>Presence of streptococcal infection</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Echocardiographic Findings:</strong></p>\n\n<ul>\n\t<li>Recent adaptations include <strong>echocardiographic criteria to assess rheumatic heart disease (RHD).</strong></li>\n\t<li>Focus on <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> abnormalities and functional implications.</li>\n\t<li>World Heart Federation (WHF) guidelines provide specific criteria for diagnosing definite and <span class=\"customMeta\" data-dictid=\"2d896c605a1692777183d769916056\">borderline</span> RHD.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/587odzAp6Ot33ifVcBp21744113892.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Itq5Db0GvJD21LjAdOXn1744113973.mp3"
  },
  {
    "text": "<p>A 10-year-old boy with an ideal weight for his age presents with a history of acute rheumatic fever (ARF) and is being considered for secondary prophylaxis to prevent recurrence. What is the recommended regimen of benzathine penicillin for this patient, assuming he has no carditis?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "600,000 units every 4 weeks"
      },
      {
        "id": 2,
        "text": "1.2 million units every 3 weeks"
      },
      {
        "id": 3,
        "text": "1.2 million units every 2 weeks"
      },
      {
        "id": 4,
        "text": "600,000 units every 2 weeks"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) 1.2 million units every 3 weeks</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>To determine the recommended <span class=\"customMeta\" data-dictid=\"988bd8e7c71692777197b9f1d5d5ca\">regimen</span> of <span class=\"customMeta\" data-dictid=\"b81b3b03a21692777182c4a1cd4bbe\">benzathine penicillin</span> for a 10-year-old boy with a history of <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> rheumatic fever (ARF) who has no carditis, we need to ist calculate the ideal weight for his age.</p>\n\n<p><strong>According to the formula:</strong></p>\n\n<ul>\n\t<li><strong>For an age group of 7-12 years: </strong>We calculate weight by (7x\u22125)/2, where x is the age in years</li>\n\t<li>For a 10-year-old boy:</li>\n\t<li>Ideal weight=(7\u00d710\u22125)/2=(70\u22125)/2=65/2=32.5 kg.</li>\n\t<li>The standard <span class=\"customMeta\" data-dictid=\"988bd8e7c71692777197b9f1d5d5ca\">regimen</span> for patients over 30 kg with no <span class=\"customMeta\" data-dictid=\"7b028d193416927771835d48b193f9\">carditis</span> is 1.2 million units of <span class=\"customMeta\" data-dictid=\"b81b3b03a21692777182c4a1cd4bbe\">benzathine penicillin</span> every 3 weeks.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Rheumatic Fever Prevention Strategies</strong></p>\n\n<p><strong>Primordial Prevention:</strong></p>\n\n<ul>\n\t<li>Address social determinants to reduce Group A <span class=\"customMeta\" data-dictid=\"9562e26acc16927771995a2028dd05\">Streptococcus</span> (GAS) transmission.</li>\n</ul>\n\n<p><strong>Primary Prevention:</strong></p>\n\n<ul>\n\t<li><strong>Diagnosis & Treatment</strong>: Use <span class=\"customMeta\" data-dictid=\"7f576b591a1692777195da1639d0fe\">penicillin</span> antibiotics for GAS infections to prevent <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> rheumatic fever (ARF).</li>\n\t<li><strong>School Programs</strong>: Implement early <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">detection</span> and treatment of GAS <span class=\"customMeta\" data-dictid=\"32a1e3c77516927771956ec2bbac4c\">pharyngitis</span> in schools.</li>\n</ul>\n\n<p><strong>Secondary Prevention:</strong></p>\n\n<ul>\n\t<li><strong>Prophylaxis</strong>: Administer continuous <span class=\"customMeta\" data-dictid=\"b81b3b03a21692777182c4a1cd4bbe\">benzathine penicillin</span> to prevent <span class=\"customMeta\" data-dictid=\"48093996911692777182dcce1e92b7\">ARF</span> recurrence.</li>\n\t<li><strong>Management</strong>: Detect and manage rheumatic heart disease (RHD) early to avoid complications.</li>\n</ul>\n\n<p><strong>Role of Benzathine Penicillin:</strong></p>\n\n<ul>\n\t<li><strong>Effectiveness:</strong> Prevents <span class=\"customMeta\" data-dictid=\"1d849ebc9b1692777197d4af1fa8d2\">recurrence</span> of rheumatic fever by eliminating Group A streptococci, reducing the risk of heart damage.</li>\n\t<li><strong>Administration:</strong>\n\t<ul>\n\t\t<li><strong>Dosage:</strong>\n\t\t<ul>\n\t\t\t<li><strong>>30 kg:</strong> 1.2 million units every 3 weeks. <strong>(Option B)</strong></li>\n\t\t\t<li><strong><30 kg (high <span class=\"customMeta\" data-dictid=\"f86aae0bd61692777196f91458c9dd\">prevalence</span> areas):</strong> 6 lakh units every 2 weeks.</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li><strong>Duration:</strong>\n\t<ul>\n\t\t<li><strong>Without Carditis:</strong> 5 years after the last episode or until 18 years of age, whichever is longer.</li>\n\t\t<li><strong>With Carditis:</strong> 10 years after the last episode or until 25 years of age, whichever is longer.</li>\n\t\t<li><strong>With Established RHD/Valve Surgery:</strong> Lifelong or until 40 years of age.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Tertiary Prevention:</strong></p>\n\n<ul>\n\t<li><strong>Medical Treatment</strong>: Provide heart surgery and chronic treatment for managing chronic RHD.</li>\n</ul>\n\n<p><strong>Community-Based Programs:</strong></p>\n\n<ul>\n\t<li>Combine prevention strategies to reduce the RHD burden.</li>\n\t<li>More evaluations are needed, especially in low- and middle-income countries, to improve <span class=\"customMeta\" data-dictid=\"f42f73407916927771969cb688f953\">public health</span> strategies and policies.</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/0DyrnCA5Wx7ZqcscOH7Y1744114131.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/nwtB0ymYMX2v77loOEXj1744114181.mp3"
  },
  {
    "text": "<p>An 8-day-old neonate has severe cyanosis and is in respiratory distress shortly after birth. Chest X-ray is as shown below. An echocardiogram is performed and shows pulmonary veins draining into the right atrium via an abnormal venous connection. Which of the following is the most likely diagnosis?</p>\n\n<p><img alt=\"-\" data-author=\"Case courtesy of Dr Aditya Shetty\" data-hash=\"1047\" data-license=\"Open access\" data-source=\"https://wikem.org/wiki/File:Tapvrsnowman.jpeg\" data-tags=\"March2025\" src=\"https://image.prepladder.com/notes/7eFYErjN93qAqljMZyKa1742189823.png\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Total Anomalous Pulmonary Venous Connection"
      },
      {
        "id": 2,
        "text": "Truncus Arteriosus"
      },
      {
        "id": 3,
        "text": "Transposition of the Great Arteries"
      },
      {
        "id": 4,
        "text": "Coarctation of the Aorta"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Total <span class=\"customMeta\" data-dictid=\"11b0cdbdbd1692777181cffbe7aa1b\">Anomalous</span> <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">Pulmonary</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">Venous</span> Connection</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>Onset of symptoms within a few weeks of birth and figure of 8 or snowman appearance on the chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> suggest Total <span class=\"customMeta\" data-dictid=\"11b0cdbdbd1692777181cffbe7aa1b\">Anomalous</span> <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">Pulmonary</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">Venous</span> Connection.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Total <span class=\"customMeta\" data-dictid=\"11b0cdbdbd1692777181cffbe7aa1b\">Anomalous</span> <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">Pulmonary</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">Venous</span> Connection:</strong></p>\n\n<p>Pulmonary veins drain into the right <span class=\"customMeta\" data-dictid=\"a8d33da8541692777182ec6983d9a2\">atrium</span> directly or indirectly via an <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> connection.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Sites of <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> connection:</strong></p>\n\n<ul>\n\t<li>Supracardiac- superior <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> cava</li>\n\t<li>Cardiac-coronary sinus, right atrium</li>\n\t<li>Infracardiac</li>\n\t<li>Mixed</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Clinical presentation:</strong></p>\n\n<p>Cyanosis and congestive <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> failure</p>\n\n<p>\u00a0</p>\n\n<p><strong>Diagnosis:</strong></p>\n\n<ul>\n\t<li><strong>Chest X-ray: </strong>\n\n\t<ul>\n\t\t<li><strong>Snowman or figure-8 configuration.</strong></li>\n\t\t<li>Cardiomegaly and increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"05493772261692777201c10c4ee537\">vascularity</span> are evident</li>\n\t</ul>\n\t</li>\n\t<li>ECG: Right <span class=\"customMeta\" data-dictid=\"3c28fd47f71692777182efbbaa5f6d\">axis</span> <span class=\"customMeta\" data-dictid=\"fa328dbc09169277718631e23a772f\">deviation</span> and right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy.</li>\n\t<li>Others: Echocardiography, CT, MRI.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Treatment: </strong>Surgery</p>\n\n<p>\u00a0</p>\n\n<p><strong>Truncus Arteriosus (Option B): </strong></p>\n\n<ul>\n\t<li>A single arterial trunk (truncus arteriosus) originates from the heart, delivering blood to the systemic, pulmonary, and <span class=\"customMeta\" data-dictid=\"bc8bc758371692777185eff2ccabb7\">coronary</span> circulations.</li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> shows cardiomegaly, increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> markings, and fullness at the <span class=\"customMeta\" data-dictid=\"41621596221692777200ad9bb50bc5\">truncal</span> root.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Transposition of the Great Arteries (Option C): </strong></p>\n\n<ul>\n\t<li>The main <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> arises from the left <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> and the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> from the right ventricle<strong>. </strong></li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> shows egg-on-string appearance.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Coarctation of the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">Aorta</span> (Option D):</strong></p>\n\n<ul>\n\t<li>Varying degrees of <span class=\"customMeta\" data-dictid=\"46aee94b0a16927771845967ac94d1\">coarctation</span> occur at any point from the <span class=\"customMeta\" data-dictid=\"a6260fa86416927772008d36bd7e5f\">transverse</span> <span class=\"customMeta\" data-dictid=\"9a89dd67841692777182ee412af263\">arch</span> to the <span class=\"customMeta\" data-dictid=\"837bfc230c16927771892ece07f94b\">iliac</span> bifurcation.</li>\n\t<li>It is an <span class=\"customMeta\" data-dictid=\"dcc1f29e6c1692777180277cf3a03e\">acyanotic</span> heart disease.</li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">x-ray</span> shows rib notching.</li>\n\t<li>Other <span class=\"customMeta\" data-dictid=\"dcc1f29e6c1692777180277cf3a03e\">acyanotic</span> <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> heart diseases are atrial septal defect, <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> septal defect, patent <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus, <span class=\"customMeta\" data-dictid=\"0bd8f938c61692777199735c80b2e9\">subaortic</span> membrane, valvar aortic stenosis, and <span class=\"customMeta\" data-dictid=\"95a82230d6169277719988dbab95bb\">supravalvar</span> aortic stenosis.</li>\n</ul>\n\n<p><br />\n\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/7eFYErjN93qAqljMZyKa1742189823.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/HnbDfPq7lIkmIjS2zd441744114227.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/glya7pq7XFMPfu9OMasi1744114286.mp3"
  },
  {
    "text": "<p>A neonate has cyanosis and is short of breath shortly after birth. On auscultation grade II ejection systolic murmur is heard. X-ray is taken as shown below. Which of the following congenital heart conditions is most likely associated with this radiographic finding?</p>\n\n<p><img alt=\"-\" data-author=\"Mwamanenge, Naomi & Mariki, Haika & Mkony, Martha & Manji, Karim\" data-hash=\"1048\" data-license=\"CC BY 4.0\" data-source=\"https://www.researchgate.net/figure/Chest-X-ray-showing-cardiomegaly-with-egg-on-a-string-shape-feature-suggestive-of_fig3_369490118\" data-tags=\"March2025\" src=\"https://image.prepladder.com/notes/vzT6Cf5W7Qw61uKDW2Xy1742189824.png\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Hypoplastic Left Heart Syndrome"
      },
      {
        "id": 2,
        "text": "Truncus Arteriosus"
      },
      {
        "id": 3,
        "text": "Transposition of the Great Arteries"
      },
      {
        "id": 4,
        "text": "Ebstein's Anomaly"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) <span class=\"customMeta\" data-dictid=\"ca580d88d51692777200a2792a4b06\">Transposition</span> of the Great Arteries</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Rapid onset of symptoms immediately after birth and <strong>egg-on-string appearance</strong> on the chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> suggest <span class=\"customMeta\" data-dictid=\"ca580d88d51692777200a2792a4b06\">transposition</span> of the great arteries.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Transposition of the Great Arteries:</strong></p>\n\n<p>The main <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> arises from the left <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> and the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> arises from the right ventricle<strong>.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Pathophysiology:</strong></p>\n\n<ul>\n\t<li>Oxygenated <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> blood recirculates in the lungs and <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> blood recirculates in the <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> circulation.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Clinical presentation:</strong></p>\n\n<p>Classified as:</p>\n\n<ul>\n\t<li><strong>With intact <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> septum:</strong>\n\n\t<ul>\n\t\t<li>Cyanotic at birth</li>\n\t\t<li>Rapid breathing</li>\n\t\t<li>Congestive <span class=\"customMeta\" data-dictid=\"1a5e87d16716927771888f364bce89\">heart failure</span> secondary to <span class=\"customMeta\" data-dictid=\"9f81027f0116927771892823259e5d\">hypoxemia</span> within few days of life</li>\n\t\t<li>Normal S2, single S2. <span class=\"customMeta\" data-dictid=\"d4ae50897e16927771884b5c46ba7d\">Grade</span> I to II <span class=\"customMeta\" data-dictid=\"3b69bda4d21692777187109c85a27e\">ejection</span> <span class=\"customMeta\" data-dictid=\"cf69f5256416927771991c21f264ae\">systolic</span> murmur.</li>\n\t</ul>\n\t</li>\n\t<li><strong>With VSD:</strong>\n\t<ul>\n\t\t<li>Degree of <span class=\"customMeta\" data-dictid=\"f3b66d8ec4169277718566066add68\">cyanosis</span> is determined by the severity of VSD.</li>\n\t\t<li>Apical third sound gallop, <span class=\"customMeta\" data-dictid=\"b825d986e21692777192406626fe87\">mid-diastolic</span> rumble. <span class=\"customMeta\" data-dictid=\"d4ae50897e16927771884b5c46ba7d\">Grade</span> II-IV <span class=\"customMeta\" data-dictid=\"3b69bda4d21692777187109c85a27e\">ejection</span> <span class=\"customMeta\" data-dictid=\"cf69f5256416927771991c21f264ae\">systolic</span> murmur.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Investigation:</strong></p>\n\n<ul>\n\t<li><strong>Chest X-ray: </strong>\n\n\t<ul>\n\t\t<li><strong>Mild <span class=\"customMeta\" data-dictid=\"5098fe73d116927771838b3dad7c36\">cardiomegaly</span> + narrow <span class=\"customMeta\" data-dictid=\"be2aea1ed01692777192b46ee482a3\">mediastinum</span> = egg-shaped heart</strong><strong> (Option C)</strong></li>\n\t\t<li>Plethoric lung fields</li>\n\t</ul>\n\t</li>\n\t<li><strong>ECG:</strong>\n\t<ul>\n\t\t<li>Intact septum: Right <span class=\"customMeta\" data-dictid=\"3c28fd47f71692777182efbbaa5f6d\">axis</span> <span class=\"customMeta\" data-dictid=\"fa328dbc09169277718631e23a772f\">deviation</span> and right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy.</li>\n\t\t<li>With VSD: Right <span class=\"customMeta\" data-dictid=\"3c28fd47f71692777182efbbaa5f6d\">axis</span> <span class=\"customMeta\" data-dictid=\"fa328dbc09169277718631e23a772f\">deviation</span> with biventricular, right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> or left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Others:</strong> Echocardiography, CT, MRI</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Treatment:</strong></p>\n\n<ul>\n\t<li><strong>Infusion of <span class=\"customMeta\" data-dictid=\"42815e46071692777196c90c46f78b\">prostaglandin</span> E1:</strong> Maintain <span class=\"customMeta\" data-dictid=\"8c660f0c321692777194046901e354\">patency</span> of the <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus and improve oxygenation.</li>\n\t<li><strong>Rashkind balloon atrial septostomy</strong></li>\n\t<li><strong>Arterial switch (Jatene) procedure</strong>: Surgery of choice in neonates with TGA and an intact <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> septum.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Hypoplastic <span class=\"customMeta\" data-dictid=\"9a065f288c1692777191f5b93fa49b\">Left Heart</span> Syndrome (Option A): </strong></p>\n\n<ul>\n\t<li>The left side of the heart has different levels of underdevelopment, including <span class=\"customMeta\" data-dictid=\"0c9567c6cb16927771996c6bc2b21e\">stenosis</span> or <span class=\"customMeta\" data-dictid=\"5c10d19e4416927771829871a1737f\">atresia</span> of the aortic and <span class=\"customMeta\" data-dictid=\"d93de7238d16927771922b27cb6086\">mitral</span> valves, along with <span class=\"customMeta\" data-dictid=\"35c595890e1692777189a68438427a\">hypoplasia</span> of the left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"ddba4206eb169277718335596e86da\">cavity</span> and <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> aorta.</li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">x-ray</span> shows an enlarged <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> <span class=\"customMeta\" data-dictid=\"980c8bc3ce1692777198a4c20033fd\">silhouette</span> and increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> markings.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Truncus Arteriosus (Option B): </strong></p>\n\n<ul>\n\t<li>A single arterial trunk (truncus arteriosus) originates from the heart, delivering blood to the systemic, pulmonary, and <span class=\"customMeta\" data-dictid=\"bc8bc758371692777185eff2ccabb7\">coronary</span> circulations.</li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> shows cardiomegaly, increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> markings, and fullness at the <span class=\"customMeta\" data-dictid=\"41621596221692777200ad9bb50bc5\">truncal</span> root.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Ebstein's <span class=\"customMeta\" data-dictid=\"50a440f85816927771817d2fe50984\">Anomaly</span> (Option D):</strong></p>\n\n<ul>\n\t<li>Downward displacement/prolapse of the <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">tricuspid</span> <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> and part of the right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> volume becomes part of the right <span class=\"customMeta\" data-dictid=\"a8d33da8541692777182ec6983d9a2\">atrium</span> (atrialization of the right ventricle).</li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">x-ray</span> shows <strong>a box-shaped heart due to </strong>right <span class=\"customMeta\" data-dictid=\"425c9b69db1692777182955542b3b0\">atrial enlargement</span> and right <span class=\"customMeta\" data-dictid=\"a8d33da8541692777182ec6983d9a2\">atrium</span> forming the <span class=\"customMeta\" data-dictid=\"72421e3a581692777197a98d00066c\">right heart</span> border.</li>\n</ul>\n\n<p><br />\n\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/vzT6Cf5W7Qw61uKDW2Xy1742189824.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/qMYWLe9vrH78PyiYH82k1744114332.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/3bBYxtZIcjWjtSU4TBU01744114377.mp3"
  },
  {
    "text": "<p>Which congenital cardiac anomaly is associated with CATCH 22 or chromosome 22q11 deletion?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Hypoplastic Left Heart Syndrome"
      },
      {
        "id": 2,
        "text": "Truncus Arteriosus"
      },
      {
        "id": 3,
        "text": "Transposition of the Great Arteries"
      },
      {
        "id": 4,
        "text": "Coarctation of the Aorta"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"1b87e4855b16927772008ed8e29e8c\">Truncus</span> Arteriosus </strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>Truncus arteriosus is a <span class=\"customMeta\" data-dictid=\"380578d6a21692777185fcd0f94fa4\">conotruncal</span> heart <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> that may be associated with <strong>DiGeorge syndrome</strong>, which is related to a <span class=\"customMeta\" data-dictid=\"cf1e8ec6121692777185eba2630061\">deletion</span> of a significant portion of <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 22q11.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Truncus Arteriosus:</strong></p>\n\n<p><strong>Pathophysiology:</strong></p>\n\n<ul>\n\t<li>A single arterial trunk (truncus arteriosus) originates from the heart and supplies the systemic, pulmonary, and <span class=\"customMeta\" data-dictid=\"bc8bc758371692777185eff2ccabb7\">coronary</span> circulations.</li>\n\t<li>VSD is always present.</li>\n\t<li>Truncus receives blood from both the right and left ventricles</li>\n\t<li>Associated with <strong>DiGeorge syndrome</strong> (deletion of a large region of <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 22q11 or CATCH 22). <strong>(Option B)</strong></li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>CATCH 22:</strong></p>\n\n<ul>\n\t<li><strong>22 signifying the chromosomal <span class=\"customMeta\" data-dictid=\"e7ed1a964716927771801ab913204a\">abnormality</span> found on the 22nd chromosome.</strong>\n\n\t<ul>\n\t\t<li><strong>C</strong>ardiac <span class=\"customMeta\" data-dictid=\"e7ed1a964716927771801ab913204a\">abnormality</span> (Truncus arteriosus)</li>\n\t\t<li><strong>A</strong>bnormal facies</li>\n\t\t<li><strong>T</strong>hymic <span class=\"customMeta\" data-dictid=\"5dff4943631692777181b8974b302b\">aplasia</span> or hypoplasia</li>\n\t\t<li><strong>C</strong>left palate</li>\n\t\t<li><strong>H</strong>ypocalcemia/hypoparathyroidism</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Hypoplastic <span class=\"customMeta\" data-dictid=\"9a065f288c1692777191f5b93fa49b\">Left Heart</span> Syndrome (Option A): </strong></p>\n\n<ul>\n\t<li>The left side of the heart has different levels of underdevelopment, including <span class=\"customMeta\" data-dictid=\"0c9567c6cb16927771996c6bc2b21e\">stenosis</span> or <span class=\"customMeta\" data-dictid=\"5c10d19e4416927771829871a1737f\">atresia</span> of the aortic and <span class=\"customMeta\" data-dictid=\"d93de7238d16927771922b27cb6086\">mitral</span> valves, along with <span class=\"customMeta\" data-dictid=\"35c595890e1692777189a68438427a\">hypoplasia</span> of the left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"ddba4206eb169277718335596e86da\">cavity</span> and <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> aorta.</li>\n\t<li>It is associated with Jacobsen syndrome.</li>\n\t<li>The gene implicated is JAM3 on the 11th chromosome</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Transposition of the Great Arteries (Option C): </strong></p>\n\n<ul>\n\t<li>The main <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> arises from the left <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> and the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> from the right ventricle<strong>.</strong></li>\n\t<li>It is associated with Kabuki syndrome.</li>\n\t<li>The gene implicated is MLL2 on the 12th chromosome.</li>\n</ul>\n\n<p><br />\n\u00a0</p>\n\n<p><strong>Coarctation of the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">Aorta</span> (Option D):</strong></p>\n\n<ul>\n\t<li>Varying degrees of <span class=\"customMeta\" data-dictid=\"46aee94b0a16927771845967ac94d1\">coarctation</span> occur at any point from the <span class=\"customMeta\" data-dictid=\"a6260fa86416927772008d36bd7e5f\">transverse</span> <span class=\"customMeta\" data-dictid=\"9a89dd67841692777182ee412af263\">arch</span> to the <span class=\"customMeta\" data-dictid=\"837bfc230c16927771892ece07f94b\">iliac</span> bifurcation.</li>\n\t<li>It is associated with Kabuki syndrome.</li>\n\t<li>The gene implicated is MLL2 on the 12th chromosome.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/iH9wYTP19LurxhTwcbH81744114422.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/kRlCkdpCQXpH7kYbsvdg1744114468.mp3"
  },
  {
    "text": "<p>A 14-year-old boy presents with leg pain during physical activity. He is found to have a radio-femoral delay and murmur is heard on the shoulder region. A part of the chest X-ray is shown below. Which of the following conditions is most likely responsible for these findings?</p>\n\n<p><img alt=\"-\" data-author=\"Ohlow, Marc-Alexander & Lauer, Bernward\" data-hash=\"1049\" data-license=\"CC BY NC SA 3.0\" data-source=\"https://www.researchgate.net/figure/Chest-radiography-Rib-notching-white-arrows_fig1_259879230\" data-tags=\"March2025\" src=\"https://image.prepladder.com/notes/nArbfijoUfE9IUekUVBk1742189826.png\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Ventricular Septal Defect"
      },
      {
        "id": 2,
        "text": "Atrial Septal Defect"
      },
      {
        "id": 3,
        "text": "Patent Ductus Arteriosus"
      },
      {
        "id": 4,
        "text": "Coarctation of the Aorta"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) <span class=\"customMeta\" data-dictid=\"46aee94b0a16927771845967ac94d1\">Coarctation</span> of the Aorta</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li>Coarctation of the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> involves narrowing of the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> leading to decreased <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> (leg pain during exertion), radio-femoral delay, and <span class=\"customMeta\" data-dictid=\"da6b4ea38d169277719384b53c8f45\">murmur</span> in the shoulder region due to <span class=\"customMeta\" data-dictid=\"4de12d1ef31692777184db1d11c6bd\">collateral</span> formation.</li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> shows notching of the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> border of the ribs due to pressure <span class=\"customMeta\" data-dictid=\"8f88b9c691169277718754ca072062\">erosion</span> by enlarged <span class=\"customMeta\" data-dictid=\"4de12d1ef31692777184db1d11c6bd\">collateral</span> vessels.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Coarctation of the Aorta:</strong></p>\n\n<ul>\n\t<li>Constrictions of the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> of varying degrees at any point from the <span class=\"customMeta\" data-dictid=\"a6260fa86416927772008d36bd7e5f\">transverse</span> <span class=\"customMeta\" data-dictid=\"9a89dd67841692777182ee412af263\">arch</span> to the <span class=\"customMeta\" data-dictid=\"837bfc230c16927771892ece07f94b\">iliac</span> bifurcation.</li>\n\t<li>Juxtaductal coarctation- 98% occurrence</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Clinical presentation:</strong></p>\n\n<ul>\n\t<li>Differential cyanosis</li>\n\t<li>Heart failure in severe cases</li>\n\t<li>Weakness or pain/claudication (or both) in the legs after exercise</li>\n\t<li>Radio-femoral delay: Disparity in <span class=\"customMeta\" data-dictid=\"1e3e250f171692777196358cb28804\">pulsation</span> and BP in the arms and legs</li>\n\t<li>Systolic or continuous murmurs are heard over the left and right sides of the chest laterally and posteriorly due to <span class=\"customMeta\" data-dictid=\"4de12d1ef31692777184db1d11c6bd\">collateral</span> blood flow.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Investigation:</strong></p>\n\n<ul>\n\t<li>Chest x-ray:\n\t<ul>\n\t\t<li>The enlarged left <span class=\"customMeta\" data-dictid=\"9562c879be1692777199afcb12fa54\">subclavian</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> produces a prominent shadow in the left superior mediastinum.</li>\n\t\t<li><strong>Notching of the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> border of the ribs</strong> from pressure <span class=\"customMeta\" data-dictid=\"8f88b9c691169277718754ca072062\">erosion</span> by enlarged <span class=\"customMeta\" data-dictid=\"4de12d1ef31692777184db1d11c6bd\">collateral</span> vessels (Common in late childhood after 1st decade of life)</li>\n\t\t<li>Descending <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> has an area of post-stenotic dilation.</li>\n\t</ul>\n\t</li>\n\t<li>ECG, echocardiography, colour Doppler, CT, and MRI.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Treatment:</strong></p>\n\n<ul>\n\t<li>Infusion of <span class=\"customMeta\" data-dictid=\"42815e46071692777196c90c46f78b\">prostaglandin</span> E1 to reopen the <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> and reestablish adequate lower-extremity blood flow.</li>\n\t<li>Surgical repair</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Hypoplastic <span class=\"customMeta\" data-dictid=\"9a065f288c1692777191f5b93fa49b\">Left Heart</span> Syndrome (Option A): </strong></p>\n\n<ul>\n\t<li>The left side of the heart has different levels of underdevelopment, including <span class=\"customMeta\" data-dictid=\"0c9567c6cb16927771996c6bc2b21e\">stenosis</span> or <span class=\"customMeta\" data-dictid=\"5c10d19e4416927771829871a1737f\">atresia</span> of the aortic and <span class=\"customMeta\" data-dictid=\"d93de7238d16927771922b27cb6086\">mitral</span> valves, along with <span class=\"customMeta\" data-dictid=\"35c595890e1692777189a68438427a\">hypoplasia</span> of the left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"ddba4206eb169277718335596e86da\">cavity</span> and <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> aorta.</li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">x-ray</span> shows an enlarged <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> <span class=\"customMeta\" data-dictid=\"980c8bc3ce1692777198a4c20033fd\">silhouette</span> and increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> markings.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Truncus Arteriosus (Option B): </strong></p>\n\n<ul>\n\t<li>A single arterial trunk (truncus arteriosus) originates from the heart, delivering blood to the systemic, pulmonary, and <span class=\"customMeta\" data-dictid=\"bc8bc758371692777185eff2ccabb7\">coronary</span> circulations.</li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> shows cardiomegaly, increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> markings, and fullness at the <span class=\"customMeta\" data-dictid=\"41621596221692777200ad9bb50bc5\">truncal</span> root.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Transposition of the Great Arteries (Option C): </strong></p>\n\n<ul>\n\t<li>The main <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> arises from the left <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> and the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> from the right ventricle<strong>. </strong></li>\n\t<li>Chest <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> shows egg-on-string appearance.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:698px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Acyanotic <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> heart defects</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Ventricular Septal <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">Defect</span> (Option A)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Atrial Septal <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">Defect</span> (Option B)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Patent <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">Ductus</span> Arteriosus (Option C)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Pathologyphy-siology</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Abnormal opening/defect in the <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> septum.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Abnormal opening/defect in the atrial septum.</p>\n\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Failure of <span class=\"customMeta\" data-dictid=\"2b4569285f1692777184282b1ca3f1\">closure</span> of <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> areterious (vessel that connects the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> to the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> in a developing fetus).</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Chest X-ray</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Minimal <span class=\"customMeta\" data-dictid=\"5098fe73d116927771838b3dad7c36\">cardiomegaly</span> and a <span class=\"customMeta\" data-dictid=\"2d896c605a1692777183d769916056\">borderline</span> increase in <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> vasculature</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Enlarged right <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> and atrium, depending on the size of the shunt. Increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> vascularity.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Prominent <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> with increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> markings and/or prominent aortic knob.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/nArbfijoUfE9IUekUVBk1742189826.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/QC92egCP8bR7oeTPVVAq1744114519.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/rm6KmFOezPN6YMflhC7z1744114570.mp3"
  },
  {
    "text": "<p>A 6-month-old infant presents with cyanosis, difficulty breathing, and prominent 'a' waves in the jugular pulse. The ECG shows left axis deviation and left ventricular hypertrophy. What is the underlying pathophysiology?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "No RA-RV communication"
      },
      {
        "id": 2,
        "text": "Obstructed pulmonary outflow with intact septum."
      },
      {
        "id": 3,
        "text": "Ventricular septal defect and pulmonary stenosis."
      },
      {
        "id": 4,
        "text": "Underdeveloped left heart."
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) No RA-RV communication</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>This describes <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">tricuspid</span> <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> atresia.</li>\n\t<li>In this condition, the <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">tricuspid</span> <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> is absent or malformed, preventing <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> from the right <span class=\"customMeta\" data-dictid=\"a8d33da8541692777182ec6983d9a2\">atrium</span> (RA) to the right <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> (RV).</li>\n\t<li>Blood instead flows through an atrial septal <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> (ASD) into the left <span class=\"customMeta\" data-dictid=\"a8d33da8541692777182ec6983d9a2\">atrium</span> (LA) and then to the left <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> (LV).</li>\n\t<li>The LV becomes hypertrophied due to handling increased <span class=\"customMeta\" data-dictid=\"b9b690b70c16927771833aae799b33\">blood volume</span> and pressure</li>\n</ul>\n\n<p><strong>Tricuspid Atresia</strong></p>\n\n<p><strong>Definition:</strong></p>\n\n<p>A <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> condition characterized by the absence of the <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">tricuspid</span> valve, leading to a hypoplastic (underdeveloped) right ventricle. <strong>(Option D ruled out).</strong></p>\n\n<p><strong>Clinical Presentation:</strong></p>\n\n<ul>\n\t<li>Depends on <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> blood flow, which may be diminished or increased.</li>\n\t<li>Diminished <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> blood flow:\n\t<ul>\n\t\t<li>Constitutes 90% of cases.</li>\n\t\t<li>Symptoms and physical signs are similar to <span class=\"customMeta\" data-dictid=\"225bbf4bd416927772003bf64ffa1f\">Tetralogy</span> of Fallot (TOF).</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Features Suggesting <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">Tricuspid</span> Atresia:</strong></p>\n\n<ul>\n\t<li><strong>Apical Impulse:</strong>\n\n\t<ul>\n\t\t<li>Left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> type of <span class=\"customMeta\" data-dictid=\"c6223a27fb169277718147405290e1\">apical</span> impulse.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Jugular <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">Venous</span> Pulse:</strong>\n\t<ul>\n\t\t<li>Prominent large 'a' waves.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Liver:</strong>\n\t<ul>\n\t\t<li>Enlarged with <span class=\"customMeta\" data-dictid=\"46f491f18c1692777196fb409699bc\">presystolic</span> pulsations (a waves).</li>\n\t</ul>\n\t</li>\n\t<li><strong>Electrocardiogram (ECG):</strong>\n\t<ul>\n\t\t<li>Characterized by left <span class=\"customMeta\" data-dictid=\"3c28fd47f71692777182efbbaa5f6d\">axis</span> deviation.</li>\n\t\t<li>Left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy.</li>\n\t\t<li>Mean QRS <span class=\"customMeta\" data-dictid=\"3c28fd47f71692777182efbbaa5f6d\">axis</span> around \u201445\u00b0.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Immediate Treatment:</strong></p>\n\n<ul>\n\t<li><strong>PGE (Prostaglandin E1) Infusion:</strong>\n\n\t<ul>\n\t\t<li>Medication: <span class=\"customMeta\" data-dictid=\"b4c5da81b016927771816ec51f5ac2\">Alprostadil</span> infusion.</li>\n\t\t<li>Purpose: Keeps the <span class=\"customMeta\" data-dictid=\"7a6864e97b169277718602072817ee\">ductus</span> arteriosus patent to allow <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> from the <span class=\"customMeta\" data-dictid=\"ce68eab48a1692777181c719b4344e\">aorta</span> into the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Definitive Treatment:</strong></p>\n\n<p><strong>Series of <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">Surgical</span> Procedures:</strong></p>\n\n<ul>\n\t<li><strong>Modified Blalock-Taussig Shunt:</strong>\n\n\t<ul>\n\t\t<li>Purpose: Improve <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> blood flow.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Glenn Shunt:</strong>\n\t<ul>\n\t\t<li>Procedure: Connects the superior <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> <span class=\"customMeta\" data-dictid=\"67544ba6ef16927771835d4641cc8f\">cava</span> (SVC) directly to the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery.</li>\n\t\t<li>Purpose: Prevents overloading of the <span class=\"customMeta\" data-dictid=\"9a065f288c1692777191f5b93fa49b\">left heart</span> chambers and increases <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> blood flow.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Fontan Shunt:</strong>\n\t<ul>\n\t\t<li>Procedure: Connects the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> <span class=\"customMeta\" data-dictid=\"67544ba6ef16927771835d4641cc8f\">cava</span> (IVC) directly to the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery.</li>\n\t\t<li>Purpose: Diverts <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> directly to the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> artery, bypassing the right heart.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Obstructed <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> outflow with intact <span class=\"customMeta\" data-dictid=\"d783117d991692777198108af42c05\">septum</span> (Option B): </strong></p>\n\n<ul>\n\t<li>This describes <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"5c10d19e4416927771829871a1737f\">atresia</span> with an intact <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> septum.</li>\n\t<li>The left side of the heart does not typically show left <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Ventricular septal <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> and <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"0c9567c6cb16927771996c6bc2b21e\">stenosis</span> (Option C):</strong></p>\n\n<ul>\n\t<li>This describes <span class=\"customMeta\" data-dictid=\"225bbf4bd416927772003bf64ffa1f\">tetralogy</span> of Fallot.</li>\n\t<li>The <span class=\"customMeta\" data-dictid=\"40ebcbf95e169277718613d7c2d999\">ECG</span> typically shows right <span class=\"customMeta\" data-dictid=\"3c28fd47f71692777182efbbaa5f6d\">axis</span> <span class=\"customMeta\" data-dictid=\"fa328dbc09169277718631e23a772f\">deviation</span> and right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> hypertrophy.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/48AL4HmYvCM93boMfoZH1744114619.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/j7elhXvxnfHdrpOfMA4o1744114668.mp3"
  },
  {
    "text": "<p>A 3-day-old infant has cyanosis shortly after birth.The mother has a history of Bipolar disorder. On examination, the infant has a prominent pansystolic murmur best heard along the left lower sternal border. The infant's ECG image is shown below. Which of the following is the most likely diagnosis?</p>\n\n<p><img alt=\"-\" data-author=\"Steven Fruitsmaak\" data-hash=\"1050\" data-license=\"CC BY SA 3.0\" data-source=\"https://en.wikipedia.org/wiki/Ebstein%27s_anomaly#/media/File:Ebstein's_anomaly_ECG.png\" data-tags=\"March2025\" height=\"432\" src=\"https://image.prepladder.com/notes/sdShy7qp8NQlEnibGxSd1742189827.png\" width=\"668\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Tetralogy of Fallot"
      },
      {
        "id": 2,
        "text": "Atrialization of the Right ventricle"
      },
      {
        "id": 3,
        "text": "Transposition of the Great vessels"
      },
      {
        "id": 4,
        "text": "Ventricular Septal Defect"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Atrialization of the Right ventricle</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The clinical presentation of <span class=\"customMeta\" data-dictid=\"f3b66d8ec4169277718566066add68\">cyanosis</span> at birth, <span class=\"customMeta\" data-dictid=\"529e0aff291692777194cbe766b6de\">pansystolic</span> <span class=\"customMeta\" data-dictid=\"da6b4ea38d169277719384b53c8f45\">murmur</span> due to <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">tricuspid</span> regurgitation, mother\u2019s history of <span class=\"customMeta\" data-dictid=\"df4ae006fe1692777183604169e9b2\">Bipolar</span> (Lithium exposed pregnancy), and the characteristic Himalayan P wave on <span class=\"customMeta\" data-dictid=\"40ebcbf95e169277718613d7c2d999\">ECG</span> is most consistent with Atrialization of the right ventricle.</p>\n\n<ul>\n\t<li>This condition is also known as <strong>Ebstein's Anomaly.</strong></li>\n</ul>\n\n<p><strong>Ebstein's Anomaly:</strong></p>\n\n<ul>\n\t<li>Associated with<strong> <span class=\"customMeta\" data-dictid=\"42659effea16927771919c6224e529\">Lithium</span> exposure during pregnancy.</strong></li>\n\t<li><strong>Pathophysiology:</strong>\n\t<ul>\n\t\t<li>Downward displacement/prolapse of the <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">tricuspid</span> valve.</li>\n\t\t<li>Part of the right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> volume becomes part of the right atrium<strong> (atrialization of the right ventricle).</strong></li>\n\t</ul>\n\t</li>\n\t<li><strong>Consequences:</strong>\n\t<ul>\n\t\t<li><strong>Tricuspid Regurgitation: </strong>Prolapsed <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> \u2192 Blood from the right <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> regurgitates into the right atrium.</li>\n\t\t<li><strong>RVOT (Right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">Ventricular</span> Outflow Tract) Obstruction: </strong>Prolapsed <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> partly occludes <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> towards the <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> \u2192 Cyanosis.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Features:</strong>\n\t<ul>\n\t\t<li>Cyanosis at birth or during the <span class=\"customMeta\" data-dictid=\"77493a5b781692777193df12530299\">neonatal</span> period.</li>\n\t\t<li>Pansystolic murmur: Due to <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">tricuspid</span> regurgitation.</li>\n\t\t<li>Quadruple Rhythm: <span class=\"customMeta\" data-dictid=\"863f5457381692777190f05632a8b2\">Irregular</span> <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> in the right heart, RVOT obstruction, and <span class=\"customMeta\" data-dictid=\"3ab13cdf64169277720085e2ebef1c\">tricuspid</span> <span class=\"customMeta\" data-dictid=\"9e495cf9cf16927771975bf315a060\">regurgitation</span> \u2192 Multiple added sounds and <span class=\"customMeta\" data-dictid=\"3b69bda4d21692777187109c85a27e\">ejection</span> clicks.</li>\n\t</ul>\n\t</li>\n\t<li><strong>X-Ray Findings:</strong>\n\t<ul>\n\t\t<li>Right <span class=\"customMeta\" data-dictid=\"425c9b69db1692777182955542b3b0\">atrial enlargement</span> due to <span class=\"customMeta\" data-dictid=\"9e495cf9cf16927771975bf315a060\">regurgitation</span> from the right <span class=\"customMeta\" data-dictid=\"707de303e516927772011cb80f4028\">ventricle</span> and atrialization of the right ventricle.</li>\n\t\t<li>RA forms the <span class=\"customMeta\" data-dictid=\"72421e3a581692777197a98d00066c\">right heart</span> border, which displaces laterally and appears on <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> as <strong>a box-shaped heart.</strong></li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><img alt=\"-\" data-author=\"Dr Vincent Tatco\" data-hash=\"1052\" data-license=\"CC BY-SA 3.0\" data-source=\"https://www.wikidoc.org/index.php/File:Ebstein-anomaly-7.jpg\" data-tags=\"March2025\" height=\"342\" src=\"https://image.prepladder.com/notes/rgeZ2ucK8vVdMujRImqO1742189830.png\" width=\"637\" /></p>\n\n<ul>\n\t<li><strong>ECG:</strong> <strong>Himalayan P Waves</strong></li>\n</ul>\n\n<p><img alt=\"-\" data-author=\"Steven Fruitsmaak\" data-hash=\"1051\" data-license=\"CC BY SA 3.0\" data-source=\"https://en.wikipedia.org/wiki/Ebstein%27s_anomaly#/media/File:Ebstein's_anomaly_ECG.png\" data-tags=\"March2025\" height=\"415\" src=\"https://image.prepladder.com/notes/h9TpsxoNuWNxxbjD0IxU1742189828.png\" width=\"636\" /></p>\n\n<p>\u00a0</p>\n\n<p><strong>Tetralogy of Fallot (Option A): </strong></p>\n\n<ul>\n\t<li>Characterized by cyanosis, a <span class=\"customMeta\" data-dictid=\"cf69f5256416927771991c21f264ae\">systolic</span> <span class=\"customMeta\" data-dictid=\"3b69bda4d21692777187109c85a27e\">ejection</span> murmur, and right <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> outflow <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> obstruction. <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> typically shows a boot-shaped heart.</li>\n</ul>\n\n<p><strong>Transposition of the Great Arteries (Option C): </strong></p>\n\n<ul>\n\t<li>Presents with severe cyanosis, often with a <span class=\"customMeta\" data-dictid=\"cf69f5256416927771991c21f264ae\">systolic</span> <span class=\"customMeta\" data-dictid=\"da6b4ea38d169277719384b53c8f45\">murmur</span> if there is associated outflow obstruction.</li>\n\t<li>X-ray findings usually show an \"egg-on-a-string\" appearance.</li>\n</ul>\n\n<p><strong>Ventricular Septal <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">Defect</span> (Option D): </strong></p>\n\n<ul>\n\t<li>Presents with a <span class=\"customMeta\" data-dictid=\"529e0aff291692777194cbe766b6de\">pansystolic</span> <span class=\"customMeta\" data-dictid=\"da6b4ea38d169277719384b53c8f45\">murmur</span> and may cause <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> overcirculation, but the <span class=\"customMeta\" data-dictid=\"fd0c8ab494169277720227102dc79a\">X-ray</span> findings would generally show an enlarged heart with increased <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> markings.</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/sdShy7qp8NQlEnibGxSd1742189827.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/rgeZ2ucK8vVdMujRImqO1742189830.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/enSOK4XcCgBbXMaekyG21744114812.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/UsAMLDS87ZB1NaBfJiUz1744114929.mp3"
  }
];
        let quizName = '31 Pediatric Cardiology-Ii';
        const quizFilename = '31-pediatric-cardiology-ii-bf57f7bc.html';
        let hierarchy = ["PrepLadder", "qBank", "Pediatrics"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>