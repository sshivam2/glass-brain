<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>56 Parkinsonism And Parkinson'S Disease - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Medicine
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">19</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>A 60-year-old man presents with a 1-year history of progressive unsteadiness while walking, slurred speech, and frequent falls. He also reports urinary urgency and mild orthostatic dizziness. Neurological examination reveals cerebellar signs including dysmetria and truncal ataxia. MRI is shown below. Which of the following is the most likely diagnosis?\u00a0</p>\n\n<p>\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"Hot cross bun \" data-author=\"Argarrett\" data-hash=\"9028\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Hot_cross_buns_in_MSA-C.png\" data-tags=\"\" height=\"351\" src=\"https://image.prepladder.com/notes/aXnjQQLLAV0P9h11ZlZ71744333695.png\" width=\"334\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Parkinson disease"
      },
      {
        "id": 2,
        "text": "Progressive supranuclear gaze palsy"
      },
      {
        "id": 3,
        "text": "Multi-system atrophy"
      },
      {
        "id": 4,
        "text": "Spinocerebellar ataxia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C: Multi system atrophy\u00a0</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>The patient has combination of Basal <span class=\"customMeta\" data-dictid=\"f2804c808516927771887dda93e56c\">ganglia</span> features with <span class=\"customMeta\" data-dictid=\"bd1c98736616927771820954b0a744\">autonomic</span> <span class=\"customMeta\" data-dictid=\"80feaae4b31692777190ea1ba3fc25\">insufficiency</span> and cerebellar signs. MRI finding shows\u00a0<strong>widened <span class=\"customMeta\" data-dictid=\"1a36f9a67916927772030999960bd3\">folia</span> and fissures of <span class=\"customMeta\" data-dictid=\"a9c41a58d816927771847775d63d96\">cerebellum</span> due to its <span class=\"customMeta\" data-dictid=\"97ff5253fb169277718224c7b0faf8\">atrophy</span> and\u00a0</strong>cross-shaped pattern in <span class=\"customMeta\" data-dictid=\"5e4684038e16927771967a14f73f37\">pons</span> due to the <span class=\"customMeta\" data-dictid=\"df4f1758e2169277718697ae66f3dd\">degeneration</span> of <span class=\"customMeta\" data-dictid=\"a533b2d59f1692777196694dbb1b2a\">pontine</span> neurons and <span class=\"customMeta\" data-dictid=\"a6260fa86416927772008d36bd7e5f\">transverse</span> <span class=\"customMeta\" data-dictid=\"b32e60f29a16927771963de1f70fd5\">pontocerebellar</span> fibres. This is seen in MSA-C\u00a0</p>\n\n<p><strong>Multiple-system <span class=\"customMeta\" data-dictid=\"97ff5253fb169277718224c7b0faf8\">atrophy</span> (MSA) </strong></p>\n\n<ul>\n\t<li>Autonomic failure (orthostatic <span class=\"customMeta\" data-dictid=\"9402185d4b1692777189cb62891ff1\">hypotension</span> (OH) or <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> issues) + <span class=\"customMeta\" data-dictid=\"79e3ef49fd16927771947736a23989\">parkinsonism</span> (MSA-p) or cerebellar problems (MSA-c)</li>\n\t<li>Loss of neurons and presence of <span class=\"customMeta\" data-dictid=\"e985987c6d16927771882fad2f33bc\">gliosis</span> in the brainstem, cerebellum, and <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> cord</li>\n\t<li>Glial cytoplasmic inclusions <span class=\"customMeta\" data-dictid=\"b29a1a16ab1692777199ede1c6e28b\">stain</span> positively (for Lewy bodies) and are mainly found in oligodendrocytes</li>\n</ul>\n\n<p><strong>MSA-p:</strong></p>\n\n<ul>\n\t<li>More symmetric motor issues than Parkinson\u2019s disease (PD)</li>\n\t<li>Resting tremors are less prominent</li>\n\t<li>Poor or short-lived response to levodopa</li>\n</ul>\n\n<p><strong>MRI:</strong></p>\n\n<ul>\n\t<li>In MSA-p: Iron deposition in the brain\u2019s <span class=\"customMeta\" data-dictid=\"99ffd110d21692777199613e666d8c\">striatum</span> - T2 dark area\u00a0</li>\n\t<li>In MSA-c:\n\t<ul>\n\t\t<li>Cerebellar <span class=\"customMeta\" data-dictid=\"97ff5253fb169277718224c7b0faf8\">atrophy</span> with a \u201c<strong>hot cross bun</strong>\u201d sign in the <strong>pons</strong> (T2 hyperintensity) in advanced stages\u00a0</li>\n\t</ul>\n\t</li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"Hot cross bun \" data-author=\"Argarrett\" data-hash=\"9028\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Hot_cross_buns_in_MSA-C.png\" data-tags=\"\" height=\"388\" src=\"https://image.prepladder.com/notes/aXnjQQLLAV0P9h11ZlZ71744333695.png\" width=\"369\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/aXnjQQLLAV0P9h11ZlZ71744333695.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/aXnjQQLLAV0P9h11ZlZ71744333695.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/lxOKM9RrHUIXe00keKdI1751921233.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/nJgV7tToJC0Vd38kOpsM1751921684.mp3"
  },
  {
    "text": "<p>Which of the following pathological features is seen in Frontotemporal dementia?\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "\u03b1-synuclein-positive Lewy bodies"
      },
      {
        "id": 2,
        "text": "\u03b2-amyloid plaques and neurofibrillary tangles"
      },
      {
        "id": 3,
        "text": "Tau-positive neuronal inclusions"
      },
      {
        "id": 4,
        "text": "Prion protein accumulation in the brain"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Correct answer is <strong>C: Frontotemporal dementia\u00a0</strong></p>\n\n<ul>\n\t<li>\n\t<p><strong>Frontotemporal <span class=\"customMeta\" data-dictid=\"41cc5ad93c169277718553c6b948a3\">dementia</span> </strong>\u00a0is often a <strong>tauopathy</strong>, characterized by the accumulation of <strong>hyperphosphorylated <span class=\"customMeta\" data-dictid=\"349c5a4f5d169277720062d348498a\">tau</span> protein</strong> in neurons and glia.</p>\n\t</li>\n\t<li>\n\t<p>Other tauopathies include <strong>progressive <span class=\"customMeta\" data-dictid=\"5ef5f7d035169277719997649dc97a\">supranuclear</span> <span class=\"customMeta\" data-dictid=\"f3e67cebd51692777194f5257898e4\">palsy</span> </strong>and <strong>corticobasal <span class=\"customMeta\" data-dictid=\"df4f1758e2169277718697ae66f3dd\">degeneration</span> </strong>.</p>\n\t</li>\n\t<li>\n\t<p>Alzheimer\u2019s disease shows both <strong>\u03b2-amyloid plaques</strong> and <strong>tau tangles</strong>.</p>\n\t</li>\n\t<li>\n\t<p><strong>Lewy body dementia</strong> is an \u03b1-synucleinopathy.</p>\n\t</li>\n\t<li>\n\t<p><strong>Creutzfeldt-Jakob disease</strong> involves <span class=\"customMeta\" data-dictid=\"20553f38d21692777196e9fc4ea9cf\">prion</span> protein accumulation.</p>\n\t</li>\n\t<li>\n\t<p>Tau and \u03b1-syn protein <span class=\"customMeta\" data-dictid=\"a00e90be0416927771803afbbf099b\">aggregation</span> leads to neurotoxicity, resulting in: <span class=\"customMeta\" data-dictid=\"5c4592475a1692777199991c761d11\">synaptic</span> <span class=\"customMeta\" data-dictid=\"3662597407169277718640a12868f5\">dysfunction</span> and neuronal loss</p>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<h3><strong>Tauopathies</strong></h3>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<h3><strong>Synucleinopathies</strong></h3>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Neurodegenerative diseases are caused by <span class=\"customMeta\" data-dictid=\"349c5a4f5d169277720062d348498a\">tau</span> protein aggregation.</li>\n\t\t\t\t<li>This leads to neurodegeneration, affecting <span class=\"customMeta\" data-dictid=\"66a72871741692777184da29e3ed5d\">cognition</span> and motor function.</li>\n\t\t\t\t<li>Tau aggregates spread through cell-to-cell transmission, advancing disease progression.</li>\n\t\t\t</ul>\n\t\t\t\u00a0\n\n\t\t\t<p><strong>Common Tauopathies:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Alzheimer\u2019s Disease (AD)</strong></li>\n\t\t\t\t<li>Pick\u2019s Disease (PiD)</li>\n\t\t\t\t<li>Progressive <span class=\"customMeta\" data-dictid=\"5ef5f7d035169277719997649dc97a\">Supranuclear</span> <span class=\"customMeta\" data-dictid=\"f3e67cebd51692777194f5257898e4\">Palsy</span> (PSP)</li>\n\t\t\t\t<li>Corticobasal <span class=\"customMeta\" data-dictid=\"df4f1758e2169277718697ae66f3dd\">Degeneration</span> (CBD):</li>\n\t\t\t\t<li>Chronic Traumatic Encephalopathy (CTE)</li>\n\t\t\t</ul>\n\t\t\t\u00a0\n\n\t\t\t<p><strong>Pathological Classification:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Tauopathies are categorised by <span class=\"customMeta\" data-dictid=\"349c5a4f5d169277720062d348498a\">tau</span> isoforms: 3R, 4R, and 3R/4R.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Neurodegenerative diseases marked by \u03b1-synuclein protein aggregation.</li>\n\t\t\t\t<li>\u03b1-Syn aggregates cause neurodegeneration, <span class=\"customMeta\" data-dictid=\"ad56eb6e551692777199ae4ce59798\">spreading</span> through the brain and contributing to disease progression.</li>\n\t\t\t</ul>\n\t\t\t\u00a0\n\n\t\t\t<p><strong>Common Synucleinopathies:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Parkinson\u2019s Disease (PD)</strong></li>\n\t\t\t\t<li><strong>Dementia with Lewy Bodies (DLB)</strong></li>\n\t\t\t\t<li><strong>Multiple System Atrophy (MSA)</strong></li>\n\t\t\t</ul>\n\t\t\t\u00a0\n\n\t\t\t<p><strong>Neuropathological Findings:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Neuronal inclusions, astrocytic pathology, and glial inclusions in the affected areas.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<ul>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/56Ps4lLKut8oVVK1jqki1752023691.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/9howKoqsEkwgxx0G2AJM1752023748.mp3"
  },
  {
    "text": "<p>A 70-year-old man with advanced Parkinson's disease is considered for deep brain stimulation after experiencing significant motor fluctuations and dyskinesias despite optimal medication therapy. Which of the following brain structures is most commonly targeted in DBS to improve tremor, bradykinesia, and rigidity?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Ventral Intermediate Nucleus of the Thalamus"
      },
      {
        "id": 2,
        "text": "Subthalamic Nucleus"
      },
      {
        "id": 3,
        "text": "Globus Pallidus Internus"
      },
      {
        "id": 4,
        "text": "Caudate Nucleus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Subthalamic Nucleus\u00a0</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>STN <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> has been shown to improve tremor, bradykinesia, and <span class=\"customMeta\" data-dictid=\"9ab07bba3016927771976de44bf865\">rigidity</span> in patients with Parkinson's disease.</p>\n\n<p><strong>Targeted Brain Structures in DBS\u00a0</strong></p>\n\n<ul>\n\t<li><strong>Subthalamic Nucleus (STN)</strong>: Improves tremor, bradykinesia, and rigidity.</li>\n\t<li><strong>Globus Pallidus Internus (GPi)</strong>: Reduces dyskinesias and enhances overall motor function.</li>\n\t<li><strong>Ventral Intermediate Nucleus of the Thalamus</strong>: Primarily used for <span class=\"customMeta\" data-dictid=\"bb6d2476421692777200c2af1ac0c8\">tremor</span> reduction.</li>\n</ul>\n\n<p><strong>Indications:</strong></p>\n\n<ul>\n\t<li><strong>Patient Profile</strong>: Indicated for patients with advanced Parkinson's disease experiencing significant motor fluctuations or dyskinesias despite <span class=\"customMeta\" data-dictid=\"208cf74d74169277719486afd05eb3\">optimal</span> medical therapy.</li>\n\t<li><strong>Quality of Life</strong>: Can significantly enhance the quality of life by improving <span class=\"customMeta\" data-dictid=\"098b60fa37169277719232147d5fb7\">motor control</span> and reducing medication side effects.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/lgscVRW5DPxwemmmmw1I1752023591.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/dgBaoQHRWW2nKStjdQek1752023988.mp3"
  },
  {
    "text": "<p>Which of the following is correct about istradefylline?\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "COMT inhibitor"
      },
      {
        "id": 2,
        "text": "Anticholinergic drug"
      },
      {
        "id": 3,
        "text": "Adenosine A2A receptor antagonists"
      },
      {
        "id": 4,
        "text": "Dopamine agonists"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Adenosine A2A <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> antagonists</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>\n\t<p>A2A receptors are located in the <strong>indirect pathway</strong> of the <span class=\"customMeta\" data-dictid=\"923af580cf16927771829606bce2a7\">basal</span> ganglia.</p>\n\t</li>\n\t<li>\n\t<p><strong>By <span class=\"customMeta\" data-dictid=\"9dc12b322016927771830dff673eeb\">blocking</span> A2A, istradefylline enhances motor activity and helps reduce the <span class=\"customMeta\" data-dictid=\"1b6bd49bf11692777190214aa47f99\">inhibitory</span> output from the <span class=\"customMeta\" data-dictid=\"86c230abe316927771889bbef8df5d\">globus</span> pallidus interna (GPi) \u2192 facilitating movement\u00a0</strong></p>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:100%\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><strong>Drug class</strong></td>\n\t\t\t<td><strong>Example\u00a0</strong></td>\n\t\t\t<td><strong>Effect on off Time\u00a0</strong></td>\n\t\t\t<td><strong>Notes\u00a0</strong></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>COMT Inhibitors\u00a0</td>\n\t\t\t<td>Entacapone, Opicapone\u00a0</td>\n\t\t\t<td>\u2605\u2605\u2605\u2605</td>\n\t\t\t<td>Best with levodopa\u00a0</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>MAO-B Inhibitors\u00a0</td>\n\t\t\t<td>Rasagiline, Safinamide</td>\n\t\t\t<td>\u2605\u2605 -\u00a0\u2605\u2605\u2605</td>\n\t\t\t<td>Mild-Moderate effect\u00a0</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Dopamine Agonists\u00a0</td>\n\t\t\t<td>Pramipexole, Rotigotine\u00a0</td>\n\t\t\t<td>\u2605\u2605\u2605</td>\n\t\t\t<td>Useful in younger patients\u00a0</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Istradefylline\u00a0</td>\n\t\t\t<td>Istradefylline\u00a0</td>\n\t\t\t<td>\u2605\u2605</td>\n\t\t\t<td>Non-dopaminergic</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Duodopa/DBS\u00a0</td>\n\t\t\t<td>-</td>\n\t\t\t<td>\u2605\u2605\u2605\u2605\u2605</td>\n\t\t\t<td>For advanced PD\u00a0</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/HxiK81meAH3PkoCTw1oB1752023107.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/W5rAAAS5SyiB5Mj0f5Lq1752023448.mp3"
  },
  {
    "text": "<p>A 65-year-old man with Parkinson's disease is currently on levodopa with carbidopa but is experiencing significant motor fluctuations and \"wearing off\" between doses. His neurologist is considering adding a medication to improve his overall motor function. Which of the following is a commonly used dopamine agonist that could be added to his treatment regimen?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Ropinirole"
      },
      {
        "id": 2,
        "text": "Selegiline"
      },
      {
        "id": 3,
        "text": "Entacapone"
      },
      {
        "id": 4,
        "text": "Trihexyphenidyl"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Ropinirole</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Ropinirole is a non-ergot-derived <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> <span class=\"customMeta\" data-dictid=\"7d8d28cda71692777180c89a3c86ce\">agonist</span> that can be used to enhance motor function and address \"wearing off\" symptoms in Parkinson's disease patients.</p>\n\n<p><strong>Selegiline (Option B)</strong>: This is a MAO-B <span class=\"customMeta\" data-dictid=\"b5fb56a28b1692777190396ae8b625\">inhibitor</span> that can provide some <span class=\"customMeta\" data-dictid=\"509310d4411692777199f2ffdb7769\">symptomatic</span> relief but is not classified as a <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> agonist. This option is incorrect because it does not fit the category of <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> agonists.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Entacapone (Option C)</strong>: This is a COMT <span class=\"customMeta\" data-dictid=\"b5fb56a28b1692777190396ae8b625\">inhibitor</span> used to prolong the effects of <span class=\"customMeta\" data-dictid=\"398108f4501692777191f60f958fb2\">levodopa</span> but is not a <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> agonist. This option is incorrect as it does not meet the requirement of being a <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> agonist.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Trihexyphenidyl (Option D)</strong>: This is an <span class=\"customMeta\" data-dictid=\"9b4dbbb3321692777181e6fe172b88\">anticholinergic</span> medication primarily used for <span class=\"customMeta\" data-dictid=\"bb6d2476421692777200c2af1ac0c8\">tremor</span> control but is not a <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> agonist. This option is incorrect as it does not belong to the category of <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> agonists.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/UlCd0al054c5zlBe1zLU1752022872.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/gbsCKwlzdaY3HM5154O11752022967.mp3"
  },
  {
    "text": "<p>A 70-year-old man with a diagnosis of Parkinson's disease has been experiencing increased motor fluctuations despite being on a stable dose of levodopa for the past two years. He reports that his symptoms improve shortly after taking his medication but then return before his next dose is due. The physician considers adding a medication to help extend the effect of his current treatment. Which of the following is the most appropriate addition to his regimen?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Dopamine agonist"
      },
      {
        "id": 2,
        "text": "COMT inhibitor"
      },
      {
        "id": 3,
        "text": "Anticholinergic agent"
      },
      {
        "id": 4,
        "text": "Beta blocker"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) COMT inhibitor</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>COMT inhibitors, such as entacapone, block the <span class=\"customMeta\" data-dictid=\"903370f259169277718385f6060dd7\">breakdown</span> of levodopa, thereby extending its duration of action and addressing the \"wearing off\" phenomenon.</p>\n\n<p><strong>Dopamine <span class=\"customMeta\" data-dictid=\"7d8d28cda71692777180c89a3c86ce\">agonist</span> (Option A)</strong>: These medications <span class=\"customMeta\" data-dictid=\"efaf9e0192169277719278711f7f74\">mimic</span> <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> effects in the brain and can be used in Parkinson's treatment but do not specifically address the issue of \"wearing off\" associated with <span class=\"customMeta\" data-dictid=\"398108f4501692777191f60f958fb2\">levodopa</span> therapy. This option is incorrect as it does not directly prolong the effect of levodopa.</p>\n\n<p><strong>Anticholinergic agent (Option C)</strong>: These medications can help with tremors in early PD but are not effective in managing motor fluctuations or \"wearing off\" associated with levodopa. This option is incorrect as it does not address the patient\u2019s specific issue.</p>\n\n<p><strong>Beta-blocker (Option D)</strong>: Beta-blockers are used for managing symptoms like tremors or <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> but do not have an effect on extending levodopa's duration of action or reducing \"wearing off.\"</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/0amMAv0wSIxoyx66gVZq1751997210.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/suE3XeIkg1L0qmoX2nyJ1751997805.mp3"
  },
  {
    "text": "<p>A 68-year-old woman presents with a 1-year history of progressive difficulty controlling her right arm. She reports that her arm occasionally moves on its own, and she has trouble performing simple tasks like buttoning her shirt. On examination, she has dystonic posturing of the right hand, mild bradykinesia, and intermittent myoclonic jerks. Her cognitive function appears intact except for mild apraxia. What is the most likely diagnosis?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Parkinson's disease"
      },
      {
        "id": 2,
        "text": "Corticobasal syndrome"
      },
      {
        "id": 3,
        "text": "Multiple system atrophy"
      },
      {
        "id": 4,
        "text": "Progressive supranuclear palsy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Corticobasal syndrome</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>A neurodegenerative condition involving parkinsonism, dystonia, myoclonus, and <span class=\"customMeta\" data-dictid=\"721937292f1692777185048f04ce29\">cortical</span> features such as <span class=\"customMeta\" data-dictid=\"e00c5660cc1692777181c7684c8e90\">apraxia</span> and the alien limb phenomenon. This option is correct as the patient's symptoms, including dystonia, myoclonus, and alien limb, are classic for corticobasal syndrome.</p>\n\n<p><strong>Corticobasal Degeneration/Syndrome (CBD):</strong></p>\n\n<ul>\n\t<li><strong>Less common <span class=\"customMeta\" data-dictid=\"af42cffef41692777194ceaa162eeb\">Parkinsonian</span> syndrome</strong>:\n\n\t<ul>\n\t\t<li>CBD is less frequent compared to Multiple System <span class=\"customMeta\" data-dictid=\"97ff5253fb169277718224c7b0faf8\">Atrophy</span> (MSA) or Progressive <span class=\"customMeta\" data-dictid=\"5ef5f7d035169277719997649dc97a\">Supranuclear</span> <span class=\"customMeta\" data-dictid=\"f3e67cebd51692777194f5257898e4\">Palsy</span> (PSP)</li>\n\t</ul>\n\t</li>\n\t<li><strong>Variable clinical features</strong>:\n\t<ul>\n\t\t<li><strong>Parkinsonism</strong>: Includes tremor, rigidity, and <span class=\"customMeta\" data-dictid=\"4f6882021f1692777183fa4ca2038d\">bradykinesia</span> (slow movements)</li>\n\t\t<li><strong>Dystonia</strong>: <span class=\"customMeta\" data-dictid=\"42b110efe11692777190ea5720c867\">Involuntary</span> muscle contractions causing <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> postures or movements</li>\n\t\t<li><strong>Myoclonus</strong>: Sudden, brief, <span class=\"customMeta\" data-dictid=\"42b110efe11692777190ea5720c867\">involuntary</span> muscle jerks</li>\n\t\t<li><strong>Alien limb phenomenon</strong>: A limb acts independently of conscious control</li>\n\t\t<li><strong>Cortical symptoms</strong>:\n\t\t<ul>\n\t\t\t<li><strong>Dementia</strong>: Cognitive decline in memory, thinking, and reasoning</li>\n\t\t\t<li><strong>Apraxia</strong>: Difficulty performing learned movements despite normal physical ability</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li><strong>Prominent <span class=\"customMeta\" data-dictid=\"721937292f1692777185048f04ce29\">cortical</span> symptoms</strong>:\n\t<ul>\n\t\t<li>Dementia and <span class=\"customMeta\" data-dictid=\"e00c5660cc1692777181c7684c8e90\">apraxia</span> may be the sole presenting features</li>\n\t</ul>\n\t</li>\n\t<li><strong>CBD as a tauopathy</strong>:\n\t<ul>\n\t\t<li>Characterised by the <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> accumulation of <span class=\"customMeta\" data-dictid=\"349c5a4f5d169277720062d348498a\">tau</span> protein in the brain</li>\n\t\t<li>Distinguishes CBD from Parkinson's disease and MSA, which involve alpha-synuclein protein</li>\n\t</ul>\n\t</li>\n\t<li><strong>Widespread <span class=\"customMeta\" data-dictid=\"349c5a4f5d169277720062d348498a\">tau</span> deposition</strong>:\n\t<ul>\n\t\t<li>Tau protein builds up throughout the brain</li>\n\t</ul>\n\t</li>\n\t<li><strong>Limited treatment options</strong>:\n\t<ul>\n\t\t<li>No cure is available and management focuses on symptom relief</li>\n\t</ul>\n\t</li>\n\t<li><strong>Similar survival rates</strong>:\n\t<ul>\n\t\t<li>Life <span class=\"customMeta\" data-dictid=\"9332897b901692777187ae9cd44351\">expectancy</span> in CBD is comparable to <span class=\"customMeta\" data-dictid=\"8eaf44c2761692777193433c559be7\">MSA</span> and PSP</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Parkinson's disease (Option A)</strong>: A neurodegenerative disorder primarily characterised by tremor, bradykinesia, rigidity, and postural instability. This option is incorrect as the presence of alien limb phenomenon and <span class=\"customMeta\" data-dictid=\"e00c5660cc1692777181c7684c8e90\">apraxia</span> points more towards corticobasal syndrome.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Multiple system <span class=\"customMeta\" data-dictid=\"97ff5253fb169277718224c7b0faf8\">atrophy</span> (Option C)</strong>: A <span class=\"customMeta\" data-dictid=\"af42cffef41692777194ceaa162eeb\">Parkinsonian</span> syndrome with features of <span class=\"customMeta\" data-dictid=\"bd1c98736616927771820954b0a744\">autonomic</span> dysfunction, such as <span class=\"customMeta\" data-dictid=\"32742bce4316927771941ff62a9db7\">orthostatic</span> hypotension, and cerebellar signs. This is incorrect as there is no mention of <span class=\"customMeta\" data-dictid=\"bd1c98736616927771820954b0a744\">autonomic</span> or cerebellar <span class=\"customMeta\" data-dictid=\"3662597407169277718640a12868f5\">dysfunction</span> in the patient.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Progressive <span class=\"customMeta\" data-dictid=\"5ef5f7d035169277719997649dc97a\">supranuclear</span> <span class=\"customMeta\" data-dictid=\"f3e67cebd51692777194f5257898e4\">palsy</span> (Option D)</strong>: A disorder that presents with early postural instability, vertical gaze palsy, and parkinsonism. This option is incorrect because the patient does not display the characteristic eye movement abnormalities seen in PSP.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/7O5LnWJ7JO6cReXnIarq1751996693.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/SxvqIpH87xR3rTVhUcPl1751996872.mp3"
  },
  {
    "text": "<p>A 65-year-old man presents with his family, who report that over the past year, he has developed significant personality changes. He has become socially inappropriate, often acting impulsively and showing a lack of empathy. He also struggles to initiate tasks and frequently forgets appointments. On examination, his language production is impaired, though his comprehension remains intact. What is the most likely diagnosis?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Alzheimer's disease"
      },
      {
        "id": 2,
        "text": "Vascular dementia"
      },
      {
        "id": 3,
        "text": "Frontotemporal dementia"
      },
      {
        "id": 4,
        "text": "Lewy body dementia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Frontotemporal <span class=\"customMeta\" data-dictid=\"41cc5ad93c169277718553c6b948a3\">dementia</span> </strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Patient is having neurodegenerative disorder affecting the <span class=\"customMeta\" data-dictid=\"35aa36279d16927772031c7ce8d6e5\">frontal</span> <span class=\"customMeta\" data-dictid=\"d7dd6ae43c1692777191cf75c0bd58\">lobe</span> leading to personality changes, disinhibition, difficulty initiating tasks. Impaired language (esp. <span class=\"customMeta\" data-dictid=\"8c63481bec169277719894cba92261\">semantic</span> dementia), loss of empathy, poor emotional processing are features of <span class=\"customMeta\" data-dictid=\"637ea4d17516927772003be2b2aae4\">temporal</span> <span class=\"customMeta\" data-dictid=\"d7dd6ae43c1692777191cf75c0bd58\">lobe</span> involvement.\u00a0</p>\n\n<p><strong>Alzheimer's disease (Option A) </strong>has 4A: aphasia, apraxia, anosoagnosia, amnesia.\u00a0<strong>\u00a0</strong></p>\n\n<p><strong>Vascular <span class=\"customMeta\" data-dictid=\"41cc5ad93c169277718553c6b948a3\">dementia</span> (Option B)</strong>: Usually presents with a <strong>stepwise decline</strong> in cognitive function and may include <span class=\"customMeta\" data-dictid=\"da6db7b0e21692777203c4075458d3\">focal</span> neurological deficits. This is incorrect as the patient's symptoms are not consistent with the stepwise deterioration typical of <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> dementia.</p>\n\n<p><strong>Lewy body <span class=\"customMeta\" data-dictid=\"41cc5ad93c169277718553c6b948a3\">dementia</span> (Option D)</strong>: Characterised by visual hallucinations, cognitive fluctuations, and parkinsonism. This is incorrect as the patient does not show the hallucinations or motor symptoms associated with this condition.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/QLgOGbEL5quBBuwlrv8q1751996163.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/lUnNbPtMjtHe263XN3Xz1751996442.mp3"
  },
  {
    "text": "<p>A 65-year-old male presents with frequent, unexplained falls . On examination, impaired downward gaze, neck hyperextension, and square wave jerks in his eye movements are present. MRI head is shown below. Diagnosis is?\u00a0</p>\n\n<p style=\"\"><img alt=\"Humming bird sign\" data-author=\"R. Shukla, M. Sinha, R. Kumar, Dilip Singh\" data-hash=\"9029\" data-license=\"NA\" data-source=\"https://www.semanticscholar.org/paper/%E2%80%98Hummingbird%E2%80%99-sign-in-progressive-supranuclear-Shukla-Sinha/0cb1f7674d95dc688b6b981599e7fe7484e52388\" data-tags=\"\" height=\"267\" src=\"https://image.prepladder.com/notes/J0Whbu6aC3xPMRDJgBkq1744334024.png\" width=\"772\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Multiple system atrophy"
      },
      {
        "id": 2,
        "text": "Progressive supranuclear gaze palsy"
      },
      {
        "id": 3,
        "text": "Huntington chorea"
      },
      {
        "id": 4,
        "text": "Parkinson disease"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B: Progressive <span class=\"customMeta\" data-dictid=\"5ef5f7d035169277719997649dc97a\">supranuclear</span> gaze palsy\u00a0</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:\u00a0</strong></p>\n\n<p>The key word in this case with <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> falls is impaired downward gaze with <span class=\"customMeta\" data-dictid=\"ff26d4882916927771982f44522ae5\">square wave jerks</span> in eyes. MRI brain shows humming bird sign. Diagnosis is PSP.</p>\n\n<p>MSA is ruled at it has <span class=\"customMeta\" data-dictid=\"bd1c98736616927771820954b0a744\">autonomic</span> <span class=\"customMeta\" data-dictid=\"80feaae4b31692777190ea1ba3fc25\">insufficiency</span> with or without cerebellar features. HD presents with Chorea and dementia. PD presents with <span class=\"customMeta\" data-dictid=\"4f6882021f1692777183fa4ca2038d\">bradykinesia</span> with resting tremors and rigidity.\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/J0Whbu6aC3xPMRDJgBkq1744334024.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/GzZxbFA4E3gBJjvPptIM1751924745.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/xNgjjXCYoPpXDV0nxX9P1751924944.mp3"
  },
  {
    "text": "<p>60 year old man with multiple system atrophy is having dizzy spells and tilt table test is positive. MRI head is shown below. Which of the following is most appropriate treatment for this case?\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"Hot cross bun \" data-author=\"Argarrett\" data-hash=\"9028\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Hot_cross_buns_in_MSA-C.png\" data-tags=\"\" height=\"308\" src=\"https://image.prepladder.com/notes/aXnjQQLLAV0P9h11ZlZ71744333695.png\" width=\"293\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Tertrabenazine"
      },
      {
        "id": 2,
        "text": "Levodopa plus Carbidopa"
      },
      {
        "id": 3,
        "text": "Midodrine"
      },
      {
        "id": 4,
        "text": "Hydrocortisone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Midodrine</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/aXnjQQLLAV0P9h11ZlZ71744333695.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/muym8vpUYz7CeMaNkm301751923797.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/7Ua1goTVq0TLRpOIPueY1751924005.mp3"
  },
  {
    "text": "<p>Which of the following is a must have criteria for diagnosis of Parkinson disease ?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Bradykinesia"
      },
      {
        "id": 2,
        "text": "Cog wheel rigidity"
      },
      {
        "id": 3,
        "text": "Postural instability"
      },
      {
        "id": 4,
        "text": "Tremors that worsen with goal directed activity"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Bradykinesia\u00a0</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Must have criteria for diagnosis of PD is Bradykinesia\u00a0 and\u00a0progressive reduction in speed and <span class=\"customMeta\" data-dictid=\"4c75de951316927771819cdfdbdd6a\">amplitude</span> during continued movement (e.g., finger tapping or hand opening-closing). Tremors that worsen with goal directed activity are a <strong>feature of essential tremors. </strong>Cog wheel <span class=\"customMeta\" data-dictid=\"9ab07bba3016927771976de44bf865\">rigidity</span> and postural <span class=\"customMeta\" data-dictid=\"acb259200b16927771908888d1377c\">instability</span> can be present in Atypical <span class=\"customMeta\" data-dictid=\"79e3ef49fd16927771947736a23989\">parkinsonism</span> also.\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/Fy0VByCpc0oFiEHtsmJ51751833768.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/DFPejTB1BboSNbVtEGiF1751833860.mp3"
  },
  {
    "text": "<p>Which of the following is not correct about managment of Parkinson disease?\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Rotigotine is ergot derived D2 receptor agonist"
      },
      {
        "id": 2,
        "text": "Entacapone reduces wearing off phenomenon with levodopa"
      },
      {
        "id": 3,
        "text": "Amantadine reduces levodopa induced peak dose dyskinesias"
      },
      {
        "id": 4,
        "text": "Istradefylline is adjunct to levodopa to reduce off time"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A)\u00a0Rotigotine is <span class=\"customMeta\" data-dictid=\"7b92596c2b169277718740ce4cb575\">ergot</span> derived D2 <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> agonist</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li>\n\t<p><strong>Option A is incorrect</strong> because <strong>Rotigotine is NOT ergot-derived</strong>.\u00a0<strong>Rotigotine</strong> is a <strong>non-ergot</strong> <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> <span class=\"customMeta\" data-dictid=\"7d8d28cda71692777180c89a3c86ce\">agonist</span> that acts on <strong>D2/D3 receptors</strong> and is delivered via a <strong>transdermal patch</strong>.</p>\n\t</li>\n\t<li>\n\t<p><strong>Entacapone</strong> is a COMT <span class=\"customMeta\" data-dictid=\"b5fb56a28b1692777190396ae8b625\">inhibitor</span> that helps reduce <strong>\"wearing-off\"</strong> by prolonging levodopa\u2019s effect.</p>\n\t</li>\n\t<li>\n\t<p><strong>Amantadine</strong> is effective in reducing <strong>peak-dose dyskinesias</strong> due to NMDA <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> antagonism.</p>\n\t</li>\n\t<li>\n\t<p><strong>Istradefylline</strong>, a selective <span class=\"customMeta\" data-dictid=\"d3f6a49b7416927771802124ccddf0\">adenosine</span> A2A antagonist, is used <strong>as <span class=\"customMeta\" data-dictid=\"e405fcd2f2169277718034536f004a\">adjunct</span> to levodopa</strong> to reduce <strong>OFF time</strong>.</p>\n\t</li>\n</ul>\n\n<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/0hUlJ4BQI6bkcuMe1KFB1751919284.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/BLt2RTUH7BG2o5N1Dl7q1751919499.mp3"
  },
  {
    "text": "<p>Which gene is responsible for development of\u00a0juvenile-onset Parkinson\u2019s disease?\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "PARK-GBA"
      },
      {
        "id": 2,
        "text": "PARK-LRRK2"
      },
      {
        "id": 3,
        "text": "PARK-Parkin"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) PARK-Parkin </strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>PARK-Parkin</strong> mutations are the most common genetic cause of juvenile-onset Parkinson\u2019s disease.</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:590px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Genetic Causes of Parkinson\u2019s Disease</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Classical PD</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>PARK-SNCA</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Missense mutations cause classical Parkinsonism.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>PARK-LRRK2</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Clinically typical PD.</p>\n\n\t\t\t<p>Most common gene causing PD in Ashkenazi Jews and North African Berber Arabs.</p>\n\n\t\t\t<p>Most common gene responsible for <strong>sporadic cases. </strong><strong>(Option B ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>PARK-VPS35</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Clinically typical PD.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>PARK-GBA (glucocerebrosidase gene)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Clinically typical PD\u2014possibly faster <span class=\"customMeta\" data-dictid=\"3c305b384216927771969ca4166493\">progression</span> and greater risk of cognitive impairment.</p>\n\n\t\t\t<p><strong>Most common genetic</strong> association with PD. <strong>(Option A ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Early-onset PD</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>PARK-Parkin</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Often presents with dystonia, typically in a leg.</p>\n\n\t\t\t<p>Most common gene <strong>responsible for juvenile-onset PD.</strong><strong> (Option C)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>PARK-PINK1</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Often presents with psychiatric features.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>PARK-DJ1</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>-</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/hriHeDrw7pGsgdwbvxLe1751917477.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/IVTUe71sJYGLINDxJikg1751917765.mp3"
  },
  {
    "text": "<p>Which of the following is not a clinical feature of atypical parkinsonism?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Slow ocular saccades"
      },
      {
        "id": 2,
        "text": "Resting pill rolling tremor"
      },
      {
        "id": 3,
        "text": "Early gait impairment"
      },
      {
        "id": 4,
        "text": "Poor response to Levodopa"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Resting tremor</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>Atypical <span class=\"customMeta\" data-dictid=\"79e3ef49fd16927771947736a23989\">parkinsonism</span> usually lacks a resting tremor. Hence, the correct answer is here is resting tremor.</p>\n\n<p><strong>Atypical Parkinson\u2019s- presentation</strong></p>\n\n<ul>\n\t<li>Atypical <span class=\"customMeta\" data-dictid=\"79e3ef49fd16927771947736a23989\">parkinsonism</span> refers to a group of neurodegenerative conditions that are usually associated with more widespread <span class=\"customMeta\" data-dictid=\"54e0888a6616927771945a99208287\">pathology</span> than found in Parkinson\u2019s disease</li>\n\t<li>There may be <span class=\"customMeta\" data-dictid=\"df4f1758e2169277718697ae66f3dd\">degeneration</span> of the striatum, <span class=\"customMeta\" data-dictid=\"86c230abe316927771889bbef8df5d\">globus</span> pallidus, cerebellum, and brainstem, as well as the SNc)</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Symptoms and signs of <span class=\"customMeta\" data-dictid=\"06123ff61a1692777182e19b790ebc\">atypical</span> Parkinsonism:</strong></p>\n\n<ul>\n\t<li>Early speech impairment</li>\n\t<li>Early <span class=\"customMeta\" data-dictid=\"053afdc7031692777187c2079a86a3\">gait</span> <span class=\"customMeta\" data-dictid=\"4885d5d0021692777189aac6dc80f7\">impairment</span> <strong>(Option C ruled out)</strong></li>\n\t<li>Absent resting tremor<strong> (Option B)</strong></li>\n\t<li>Lack of motor asymmetry</li>\n\t<li>Early falls</li>\n\t<li>Poor or no response to an adequate trial of <span class=\"customMeta\" data-dictid=\"398108f4501692777191f60f958fb2\">levodopa</span> <strong>(Option D ruled out)</strong></li>\n\t<li>More aggressive clinical course</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Atypical Parkinsonian syndromes</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Multiple-system <span class=\"customMeta\" data-dictid=\"97ff5253fb169277718224c7b0faf8\">atrophy</span> (MSA)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Cerebellar type (MSA-c) Prominent cerebellar sign.</li>\n\t\t\t\t<li>Parkinson type (MSA-p)</li>\n\t\t\t\t<li>Autonomic <span class=\"customMeta\" data-dictid=\"3662597407169277718640a12868f5\">dysfunction</span> - <span class=\"customMeta\" data-dictid=\"32742bce4316927771941ff62a9db7\">orthostatic</span> hypotension</li>\n\t\t\t</ul>\n\n\t\t\t<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"484\" src=\"https://image.prepladder.com/content/0i6tzGOoKlB1jfVKJKg71740585488.png\" width=\"480\" /></p>\n\n\t\t\t<p><strong>The hot cross <span class=\"customMeta\" data-dictid=\"eeb0ec7e661692777183f957a8794b\">bun</span> sign refers to the MRI appearance of the <span class=\"customMeta\" data-dictid=\"5e4684038e16927771967a14f73f37\">pons</span> when T2 hyperintensity forms a cross on <span class=\"customMeta\" data-dictid=\"01591f7f591692777182ef8aa2360c\">axial</span> images, representing selective <span class=\"customMeta\" data-dictid=\"df4f1758e2169277718697ae66f3dd\">degeneration</span> of <span class=\"customMeta\" data-dictid=\"a6260fa86416927772008d36bd7e5f\">transverse</span> <span class=\"customMeta\" data-dictid=\"b32e60f29a16927771963de1f70fd5\">pontocerebellar</span> tracts and <span class=\"customMeta\" data-dictid=\"979385c98a1692777192fb1721a16e\">median</span> <span class=\"customMeta\" data-dictid=\"a533b2d59f1692777196694dbb1b2a\">pontine</span> <span class=\"customMeta\" data-dictid=\"127f1d277616927771975f15621776\">raphe</span> nuclei</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Progressive <span class=\"customMeta\" data-dictid=\"5ef5f7d035169277719997649dc97a\">supranuclear</span> palsy</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Slow <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> saccades, <span class=\"customMeta\" data-dictid=\"819ddea9e51692777187cdff06b437\">eyelid</span> apraxia, and restricted vertical eye movements with particular <strong>impairment of downward gaze</strong> <strong>(Option A ruled out)</strong></li>\n\t\t\t\t<li>Hyperextension of the neck with early <span class=\"customMeta\" data-dictid=\"053afdc7031692777187c2079a86a3\">gait</span> <span class=\"customMeta\" data-dictid=\"4586eccbe71692777186e577e31829\">disturbance</span> and falls</li>\n\t\t\t\t<li>In later stages, speech and <span class=\"customMeta\" data-dictid=\"1788e0d4301692777199d457616bd4\">swallowing</span> difficulty and cognitive <span class=\"customMeta\" data-dictid=\"4885d5d0021692777189aac6dc80f7\">impairment</span> are present</li>\n\t\t\t</ul>\n\t\t\t<img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"442\" src=\"https://image.prepladder.com/content/aa5DMIrXaHDwPqsDO06i1740585459.png\" width=\"480\" />\n\t\t\t<p><strong>The hummingbird sign (green dotted) refers to the <span class=\"customMeta\" data-dictid=\"97ff5253fb169277718224c7b0faf8\">atrophy</span> of the <span class=\"customMeta\" data-dictid=\"d26464df7216927771923483619265\">midbrain</span> <span class=\"customMeta\" data-dictid=\"179c453c141692777200a24c41363a\">tegmentum</span> with preserved pons. The appearance resembling the head and body of a hummingbird)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/0i6tzGOoKlB1jfVKJKg71740585488.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/oLeVbYzCDXEDYefR9xC51751916539.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/kJJq54KTFkmPdmZiIOAR1751916794.mp3"
  },
  {
    "text": "<p>A 15-year-old boy is brought by his parents due to sudden onset of involuntary movements of his hands, difficulty in writing, and behavioral changes such as irritability and poor concentration affecting school performance and attendance. On examination, choreiform movements in hands are noted along with pallor. Work up shows elevated transaminases and increased PT and urine examination showing proteinuria and glucosuria. Which of the following is first differential diagnosis for this patient?\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Wilson\u2019s Disease"
      },
      {
        "id": 2,
        "text": "Syndenham Chorea"
      },
      {
        "id": 3,
        "text": "Huntington\u2019s Disease"
      },
      {
        "id": 4,
        "text": "Spinocerebellar Ataxia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Wilson\u2019s Disease</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>This adolescent presents with neuropsychiatric symptoms (chorea, tremor, irritability), <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> involvement (elevated transaminases, increased PT), and <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> defects (proteinuria, glucosuria), all hallmark features of Wilson disease due to <span class=\"customMeta\" data-dictid=\"7b5fb2b56416927771858f02fd5508\">copper</span> accumulation. Suggested work up is <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"d0297935661692777184085cf7e86f\">ceruloplasmin</span> with 24 hour <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"7b5fb2b56416927771858f02fd5508\">copper</span> levels.\u00a0<br />\nSydenham <span class=\"customMeta\" data-dictid=\"46ce506e9d1692777184f7a4a276ad\">chorea</span> typically occurs after a streptococcal infection and is not associated with liver or <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> dysfunction.<br />\nHuntington\u2019s disease is usually adult-onset <span class=\"customMeta\" data-dictid=\"46ce506e9d1692777184f7a4a276ad\">chorea</span> with <span class=\"customMeta\" data-dictid=\"41cc5ad93c169277718553c6b948a3\">dementia</span> and lacks liver or <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> findings.<br />\nSpinocerebellar <span class=\"customMeta\" data-dictid=\"0842a8a59f1692777182f44d334dda\">ataxia</span> presents with progressive <span class=\"customMeta\" data-dictid=\"0842a8a59f1692777182f44d334dda\">ataxia</span> but not with <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> or <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> derangements or <span class=\"customMeta\" data-dictid=\"46ce506e9d1692777184f7a4a276ad\">chorea</span> at this age.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/lpAd53xeEeYbwrYfJM5G1751915222.mp3",
    "explanation_audio_hin": ""
  },
  {
    "text": "<p>\u00a0Which of the following medications is least likely to contribute to the development of drug induced parkinsonism?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Haloperidol"
      },
      {
        "id": 2,
        "text": "Risperidone"
      },
      {
        "id": 3,
        "text": "Domperidone"
      },
      {
        "id": 4,
        "text": "Metoclopramide"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Domperidone</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Domperidone is a <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> <span class=\"customMeta\" data-dictid=\"adecdf9cb2169277718363b8a0e491\">blocker</span> but does not cross the blood-brain barrier, making it less likely to cause drug-induced Parkinsonism compared to other dopamine-blocking agents.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Drugs frequently cause Parkinsonism.</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Drug Class</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Examples</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Typical antipsychotics</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Chlorpromazine, Prochlorperazine, Perphenazine, Fluphenazine, Promethazine, Haloperidol, Pimozide, Sulpiride</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Atypical antipsychotics</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Risperidone, Olanzapine, Ziprasidone, Aripiprazole</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Dopamine depleters</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Reserpine, Tetrabenazine</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Calcium-channel blockers</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Flunarizine, Cinnarizine</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Antiemetics</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Metoclopramide, Levosulpiride, Clebopride</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Drugs infrequently cause Parkinsonism</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:599px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Drug class</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Examples</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Atypical antipsychotics</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Clozapine, Quetiapine</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Mood stabilizer</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Lithium</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Antiemetics</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Domperidone, Itopride</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Antidepressants</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>SSRI: Citalopram, Fluoxetine, Paroxetine, Sertraline</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Antiepileptic drugs</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>Valproic Acid, Phenytoin</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><br />\n\u00a0</p>\n\n<p><strong>Management of drug-induced Parkinsonism:</strong></p>\n\n<p><strong>First-Line Management</strong>: Stop, reduce, or switch the offending drug, if possible, under medical supervision.</p>\n\n<p><strong>Anticholinergic Drugs</strong>:</p>\n\n<ul>\n\t<li>Options like benzatropine, trihexyphenidyl, and procyclidine can help manage symptoms.</li>\n\t<li><strong>Caution</strong>: Best avoided in older adults due to risks of confusion and worsening <span class=\"customMeta\" data-dictid=\"d93ab38f5316927772001828e5e817\">tardive</span> dyskinesia.</li>\n</ul>\n\n<p><strong>Alternative (Younger Patients)</strong>: Amantadine</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/2qgVX8Vua5v58LsPUoDM1751913757.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/CRfdlCTNp2mvT34qToI51751913978.mp3"
  },
  {
    "text": "<p>A 68-year-old man presents with difficulty in initiating movements like getting out of a chair or toilet seat . He experiences a resting tremor in his right hand and has noticed a decline in his balance, leading to several near falls. His Family members notice that he does not do activitites that he once liked. He is at risk of developing all of the following except?\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "REM sleep disorders"
      },
      {
        "id": 2,
        "text": "Decreased sweating"
      },
      {
        "id": 3,
        "text": "Restless leg syndrome"
      },
      {
        "id": 4,
        "text": "Urinary urgency"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Decreased sweating</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The patient is presenting with symptoms consistent with Parkinson's disease\u00a0</li>\n\t<li>In Parkinson's disease, patients are more likely to experience increased sweating, along with a range of other non-motor symptoms such as REM disorders, restless leg syndrome, and <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> urgency.</li>\n</ul>\n\n<p><br />\n\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Category</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Non-Motor Symptoms</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Autonomic Dysfunction</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<ul>\n\t\t\t\t<li>Neurogenic <span class=\"customMeta\" data-dictid=\"32742bce4316927771941ff62a9db7\">orthostatic</span> hypotension</li>\n\t\t\t\t<li>Increased sweating</li>\n\t\t\t\t<li>Oily skin</li>\n\t\t\t\t<li>Constipation</li>\n\t\t\t\t<li>Sexual dysfunction</li>\n\t\t\t\t<li>Urinary urgency</li>\n\t\t\t\t<li>Dysphagia</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Neuropsychiatric Symptoms</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<ul>\n\t\t\t\t<li>Dementia (advanced disease)</li>\n\t\t\t\t<li>Executive/visuospatial dysfunction</li>\n\t\t\t\t<li>Visual hallucinations</li>\n\t\t\t\t<li>Delusions</li>\n\t\t\t\t<li>Sleep disorders\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Insomnia</li>\n\t\t\t\t\t<li>Restless leg syndrome</li>\n\t\t\t\t\t<li>REM disorders</li>\n\t\t\t\t\t<li>Daytime sleepiness with sleep attacks</li>\n\t\t\t\t\t<li>Vivid dreams</li>\n\t\t\t\t\t<li>Sleep <span class=\"customMeta\" data-dictid=\"c3bbd691781692777203582ec44b8c\">fragmentation</span> (night awakenings)</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Depression</li>\n\t\t\t\t<li>Anxiety</li>\n\t\t\t\t<li>Apathy</li>\n\t\t\t\t<li>Anosmia</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/9HCjKFW6Utamlmdf9iP71751837155.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/jKrAF58CypWMYmzBx1031751837613.mp3"
  },
  {
    "text": "<p>Which of the following indicates that patient is having atypical parkinsonism?\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Tremors that disappear on goal directed activity"
      },
      {
        "id": 2,
        "text": "Recurrent falls due to downward gaze palsy"
      },
      {
        "id": 3,
        "text": "Pill rolling tremors with low frequency"
      },
      {
        "id": 4,
        "text": "Bradykinesia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B)</strong>\u00a0Recurrent falls due to downward gaze palsy</p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:\u00a0</strong></p>\n\n<p>Recurrent falls due to downward gaze <span class=\"customMeta\" data-dictid=\"f3e67cebd51692777194f5257898e4\">palsy</span> is a feature of Progressive <span class=\"customMeta\" data-dictid=\"5ef5f7d035169277719997649dc97a\">supranuclear</span> gaze palsy. It is <span class=\"customMeta\" data-dictid=\"06123ff61a1692777182e19b790ebc\">atypical</span> parkinsonism. Tremors that disappear on goal directed activity implies resting tremors which are seen in PD. Low frequency means frequency less than 8 Hz. PD has pill rolling tremors that 4-6 Hz frequency and are asymetrical. Bradykinesia is a must have criteria for consindering diagnosis of PD.\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/f4IipWB66KUxlPSpM3S21751836216.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/NIaGoABneSn3MqQ1lSTw1751836421.mp3"
  },
  {
    "text": "<p>Involvement of the marked area of brain will result in which of the following disease?\u00a0</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"849\" src=\"https://image.prepladder.com/content/ozHbnU5fDKfCTH18SBhX1751882412.png\" width=\"1000\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Weber syndrome"
      },
      {
        "id": 2,
        "text": "Parkinson disease"
      },
      {
        "id": 3,
        "text": "Nonthangel syndrome"
      },
      {
        "id": 4,
        "text": "Perinaud syndrome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Parkinson disease\u00a0</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The area marked is Substania <span class=\"customMeta\" data-dictid=\"f2fc45b6181692777193ed78c4835a\">nigra</span> <span class=\"customMeta\" data-dictid=\"4bc4237fe3169277719497604c0f00\">pars</span> compacta.\u00a0Degeneration of <span class=\"customMeta\" data-dictid=\"6aec63ba2e1692777186e5809a7376\">dopaminergic</span> neurons occurs in the <span class=\"customMeta\" data-dictid=\"4bc4237fe3169277719497604c0f00\">pars</span> compacta that\u00a0leads to <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> <span class=\"customMeta\" data-dictid=\"9194a239ed1692777186bfe41c0e87\">dopamine</span> levels in the <span class=\"customMeta\" data-dictid=\"99ffd110d21692777199613e666d8c\">striatum</span> (caudate + putamen). The hallmark <span class=\"customMeta\" data-dictid=\"d69566338f1692777189ff10521054\">histopathology</span> includes:\u00a0<strong>loss of <span class=\"customMeta\" data-dictid=\"85dafbf32f1692777195b9d9f035d8\">pigmented</span> neurons in SNpc</strong>.</li>\n\t<li>Histopathological examination shows <span class=\"customMeta\" data-dictid=\"4c05b8138d16927771911348e3ada9\">lewy bodies</span> (intracytoplasmic <span class=\"customMeta\" data-dictid=\"91bc3a9b3e16927771871bcff74db7\">eosinophilic</span> inclusions made of \u03b1-synuclein).</li>\n\t<li>The area <span class=\"customMeta\" data-dictid=\"9ccb2fd2f31692777201e231bfda74\">ventral</span> to arrow position is <span class=\"customMeta\" data-dictid=\"0650f5ca7c169277719911f2ee3df8\">substantia</span> <span class=\"customMeta\" data-dictid=\"f2fc45b6181692777193ed78c4835a\">nigra</span> <span class=\"customMeta\" data-dictid=\"4bc4237fe3169277719497604c0f00\">pars</span> reticulata\u00a0is\u00a0GABAergic and is\u00a0involved in output pathways from the <span class=\"customMeta\" data-dictid=\"923af580cf16927771829606bce2a7\">basal</span> ganglia. SNpr may be functionally affected later, but not the focus of neurodegeneration.</li>\n\t<li>Weber syndrome occurs due to involvement of <span class=\"customMeta\" data-dictid=\"653381031a1692777185f2d7287a66\">crus</span> <span class=\"customMeta\" data-dictid=\"5a4a970c4b1692777184108b0b09c8\">cerebri</span> which are present anteriorly in this image. For Perinaud, the <span class=\"customMeta\" data-dictid=\"d5e7bb15851692777191b39417c26a\">lesion</span> is <span class=\"customMeta\" data-dictid=\"625865ca38169277719560ce44c14a\">pinealoma</span> that will affect the most <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> part of this diagram.\u00a0</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/ozHbnU5fDKfCTH18SBhX1751882412.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/7m1BWa2Y74ifIICo38hW1751835232.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/HC3CfzzcW1FcevtUwUTe1751835312.mp3"
  }
];
        let quizName = '56 Parkinsonism And Parkinson Disease';
        const quizFilename = '56-parkinsonism-and-parkinson-s-disease-94b25ae3.html';
        let hierarchy = ["PrepLadder", "qBank", "Medicine"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>