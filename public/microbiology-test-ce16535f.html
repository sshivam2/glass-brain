<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microbiology Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / FMGE Test Series Subject / 2024
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">30</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Based on the disease shown in the image, which of the following specimens would the filarial worms be absent?",
    "choices": [
      {
        "id": 1,
        "text": "Blood"
      },
      {
        "id": 2,
        "text": "Saliva"
      },
      {
        "id": 3,
        "text": "Urine"
      },
      {
        "id": 4,
        "text": "Hydrocoele fluid"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image is suggestive of <strong>lymphatic f</strong><strong>ilariasis,</strong>&nbsp;and the filarial worms<strong> cannot</strong> be demonstrated in <strong>saliva</strong>.</p>\n<p>Lymphatic filariasis occurs due to the transmission of <strong>W.bancrofti</strong> by the bite of <strong>Culex</strong> mosquitoes. The third stage larval forms from the mosquito enter the lymphatics and lymph nodes where they develop into adult worms. The adult worms become sexually mature and mate to release microfilariae which enter the peripheral circulation.</p>\n<p>The disease&nbsp;<strong>initially</strong>&nbsp;causes&nbsp;<strong>acute attacks</strong>&nbsp;of&nbsp;<strong>lymphangitis</strong>&nbsp;and&nbsp;<strong>lymphadenitis</strong>. Early treatment may even cure the disease.&nbsp;The&nbsp;<strong>lymphedema</strong>&nbsp;may gradually worsen&nbsp;and get associated with the thickening of the skin and fibrosis of lymph vessels or blockage by adult worms.&nbsp;<strong>Hydrocele</strong>&nbsp;is another common manifestation that occurs due to lymphatic obstruction.</p>\n<p>Microfilaria can be <strong>demonstrated</strong> in <strong>blood</strong>, <strong>chylous urine</strong>,&nbsp;exudate of lymph varix, and <strong>hydrocele fluid</strong>, however,&nbsp;<strong>peripheral blood</strong> is the <strong>preferred choice</strong>. The examination of a <strong>thick </strong>and<strong> thin blood smear </strong>stained with<strong> Giemsa stain</strong> shows the microfilaria. Other methods are by examining the unstained blood under a microscope for the actively motile microfilariae and by acridine orange-microhematocrit tube technique.</p>\n<p>The<strong> best time</strong> to <strong>collect the blood samples</strong> is at<strong> night</strong>, between 10 pm and 4 am as they are <strong>nocturnally periodic</strong>.</p>\n<p><strong>DEC provocation test:&nbsp;</strong>In this test, a small dose of DEC is given 20-50 minutes before sample collection so that the microfilaria appears in the blood even during the&nbsp;<strong>daytime</strong>.&nbsp;</p>\n<p>The image below shows the life cycle of&nbsp;<em>Wuchereria bancrofti.</em></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3edc18c302ce404da548fd5469f57276.png"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/60e6d14e93db4330a9efb5ff94ae0b2dx513x435.GIF"
    ]
  },
  {
    "text": "A farmer with a history of flea bite in a godown presents with the features of high fever, painful inguinal lymphadenopathy, vomiting and diarrhea and hypotension. Smears prepared from the discharge of these swellings revealed bacteria with bipolar staining. Which stain will help in the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Neisser stain"
      },
      {
        "id": 2,
        "text": "Wayson\u2019s stain"
      },
      {
        "id": 3,
        "text": "Albert\u2019s stain"
      },
      {
        "id": 4,
        "text": "Mc fadyeans stain"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario of fever, chills, lymphadenopathy, and a smear showing <strong>bipolar staining</strong> of bacteria is highly suggestive of&nbsp;<strong>bubonic plague</strong>&nbsp;caused by&nbsp;<em><strong>Yersinia pestis</strong></em>. The stain used for this organism is the&nbsp;<strong>Wayson stain</strong>&nbsp;containing methylene blue.</p>\n<p><strong>Plague&nbsp;</strong>is a zoonotic disease caused by&nbsp;<em><strong>Yersinia pestis</strong></em>.&nbsp;It is a gram-negative, non-motile, coccobacillus. The reservoirs of infection are&nbsp;<strong>wild rodents</strong>&nbsp;like&nbsp;field mice, gerbils, skunks, etc. In India, the&nbsp;<strong>gerbil</strong>&nbsp;(<strong>Tatera indica)</strong>&nbsp;is the main reservoir. The important vector of plague is rat flea (<em><strong>Xenopsylla cheopis</strong>).</em></p>\n<p>Humans acquire the disease by the bite of an infected flea, by direct contact with the tissues of the infected animal, or by droplet infection from cases of pneumonic plague.&nbsp;</p>\n<p class=\"p1\">Human plague mainly presents as:</p>\n<p class=\"p1\"><strong>Bubonic plague</strong>- This is the&nbsp;<strong>most common</strong>&nbsp;type of disease. The patient develops a sudden fever, chills, headache,&nbsp;and painful lymphadenitis. Within a few days, the&nbsp;<strong>lymph nodes</strong>&nbsp;in the&nbsp;<strong>groin</strong>, axilla, or neck enlarge and are called&nbsp;<strong>buboes</strong>. This is followed by the suppuration of the buboes. Bubonic plague cannot spread from person to person as the bacilli are locked up in the buboes and do not find a way or easy exit.</p>\n<p class=\"p1\"><strong>Pneumonic plague-&nbsp;</strong>It develops as a complication of bubonic-septicemic plague.&nbsp;</p>\n<p class=\"p1\"><strong>Septicemic plague-&nbsp;</strong>It occurs when the infection spreads to the blood.</p>\n<p class=\"p1\">Laboratory diagnosis- Microscopy reveals bacteria that show characteristic&nbsp;<strong>bipolar staining</strong>&nbsp;or&nbsp;<strong>safety pin appearance</strong>&nbsp;when stained with Wayson's stain.<strong>&nbsp;Antibodies&nbsp;</strong>to the&nbsp;<strong>F1</strong>&nbsp;<strong>antigen</strong>&nbsp;of the bacteria can also be demonstrated by passive hemagglutination. PCR is used for a rapid presumptive diagnosis.</p>\n<p class=\"p1\">Treatment-&nbsp;Streptomycin, doxycycline, and chloramphenicol can be used.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presents with the following skin lesion. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Erysipelas"
      },
      {
        "id": 2,
        "text": "Staphylococcal scalded skin syndrome"
      },
      {
        "id": 3,
        "text": "Gas gangrene"
      },
      {
        "id": 4,
        "text": "Erysipeloid"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image shows a skin lesion that is red, edematous, and well-demarcated from the surrounding skin. These features are suggestive of\u00a0<strong>erysipelas</strong>.\u00a0</p>\n<p>Erysipelas is a skin infection involving <strong>superficial lymphatics</strong>. It is caused by<strong>\u00a0<em>Streptococcus pyogenes</em>\u00a0</strong><em>(\u03b2-Hemolytic Group A Streptococci)</em>. It presents with\u00a0<strong>raised, erythematous sharply demarcated</strong>\u00a0rapidly spreading skin lesions, along with systemic symptoms. <strong>Legs</strong> and <strong>face</strong> are the most common sites affected.</p>\n<p>Other options:</p>\n<p>Option B: <strong>Staphylococcal scalded skin syndrome\u00a0</strong>(SSSS) is caused by the exfoliative toxin and presents with <strong>peeling</strong> of the affected skin. <strong>Separation</strong>\u00a0of\u00a0the normal\u2010looking\u00a0<strong>epidermis</strong>\u00a0from the dermis, by a\u00a0<strong>shearing</strong>\u00a0force, indicating a\u00a0<strong>plane</strong>\u00a0of cleavage is called the Nikolsky sign. Thus,\u00a0<strong>Nikolsky's sign</strong>\u00a0is\u00a0<strong>positive</strong>\u00a0in SSSS.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/738ca95be72f4b52b26e764075ce6bcc.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/433e2205ec0a4592abc496c3b54ff142x1279x1103.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0796290e7af7482e9fa33fd939eb5f22x1200x960.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/492094bef5a0440aa534124d1da035dex720x1136.PNG"
    ]
  },
  {
    "text": "A 6-year-old boy presents with lower abdominal pain and diarrhea. The stool examination finding is shown below. Which of the following is most likely to cause this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Giardia lamblia"
      },
      {
        "id": 2,
        "text": "Shigella dysenteriae"
      },
      {
        "id": 3,
        "text": "Entamoeba histolytica"
      },
      {
        "id": 4,
        "text": "Campylobacter jejuni"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario is suggestive of <strong>amoebic dysentery </strong>caused by\u00a0<strong>Entamoeba histolytica </strong>and the given image shows hematophagous trophozoite of <strong>Entamoeba histolytica.</strong></p>\n<p><strong>Clinical features of intestinal amebiasis:</strong></p>\n<ul>\n<li>Acute intestinal amebiasis- dysentery, lower abdominal discomfort, and flatulence.</li>\n<li>Chronic amebiasis- low-grade symptoms such as occasional diarrhea, weight loss, and fatigue.</li>\n</ul>\n<p>A granulomatous lesion called an ameboma may form in the cecal or rectosigmoid areas of the colon which can resemble an adenocarcinoma of the colon.</p>\n<p>Option A - Giardia is often\u00a0<strong>asymptomatic</strong>, but in some cases can lead to fat malabsorption, dull epigastric pain, and flatulence.</p>\n<p>Option B - Shigella causes bacillary dysentery which is characterised by\u00a0<strong>fever</strong>\u00a0and\u00a0<strong>generalised abdominal tenderness</strong>.</p>\n<p>Option D - Campylobacter presents with\u00a0<strong>fever</strong>, pain, and\u00a0<strong>watery diarrhea</strong>. The stool contains leucocytes and blood.</p>\n<p>Metronidazole is used in the treatment of <strong>amoebiasis </strong>like amoebic colitis and amoebic liver abscess. It\u00a0is well absorbed from the small intestine and only a small amount of the unabsorbed drug reaches the colon, which is <strong>insufficient</strong> to kill the cysts.</p>\n<p>Hence,\u00a0<strong>luminal agents </strong>like diloxanide furoate, nitazoxanide or iodoquinol\u00a0are required for the <strong>eradication of cysts</strong> and trophozoites in the intestine.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d93f5f98cc7041b3bd378518425a561c.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which organism has the following cell wall structure?",
    "choices": [
      {
        "id": 1,
        "text": "Gram-positive organism"
      },
      {
        "id": 2,
        "text": "Gram-negative organism"
      },
      {
        "id": 3,
        "text": "Fungi"
      },
      {
        "id": 4,
        "text": "Mycobacteria"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The presence of<strong> teichoic acid</strong> and<strong> lipoteichoic acid\u00a0</strong>with a\u00a0thick\u00a0peptidoglycan layer is a feature of <strong>gram-positive bacteria.\u00a0</strong></p>\n<table style=\"height: 345px;\" width=\"321\">\n<tbody>\n<tr>\n<td style=\"width: 141.984375px;\">\u00a0</td>\n<td style=\"width: 76.234375px;\"><strong>Gram positive</strong></td>\n<td style=\"width: 80.8125px;\"><strong>Gram negative</strong></td>\n</tr>\n<tr>\n<td style=\"width: 141.984375px;\">Teichoic acid, lipoteichoic acid</td>\n<td style=\"width: 76.234375px;\">Present</td>\n<td style=\"width: 80.8125px;\">Absent</td>\n</tr>\n<tr>\n<td style=\"width: 141.984375px;\">Thickness (Peptidoglycan)</td>\n<td style=\"width: 76.234375px;\">Thicker</td>\n<td style=\"width: 80.8125px;\">Thinner</td>\n</tr>\n<tr>\n<td style=\"width: 141.984375px;\">Variety of amino acids</td>\n<td style=\"width: 76.234375px;\">Few</td>\n<td style=\"width: 80.8125px;\">Several</td>\n</tr>\n<tr>\n<td style=\"width: 141.984375px;\">Aromatic and sulfur-containing amino acids</td>\n<td style=\"width: 76.234375px;\">Absent</td>\n<td style=\"width: 80.8125px;\">Present</td>\n</tr>\n<tr>\n<td style=\"width: 141.984375px;\">Lipopolysaccharides and outer membrane</td>\n<td style=\"width: 76.234375px;\">Absent</td>\n<td style=\"width: 80.8125px;\">Present</td>\n</tr>\n</tbody>\n</table>\n<p>Other options:</p>\n<p>Option C: Fungi possess rigid cell walls containing chitin, mannan, and other similar polysaccharides.</p>\n<p>Option D: The mycobacterial cell wall is rich in <strong>lipids</strong>\u00a0called <strong>mycolic acids</strong>. They also contain proteins and polysaccharides. Lipoteichoic acid is not present.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a91a32f9092e4423be721f3549d023c8.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/31c5f14c238446cc80c4d50622f548d9x1280x1114.JPEG"
    ]
  },
  {
    "text": "The incubation period of hepatitis B ranges from?",
    "choices": [
      {
        "id": 1,
        "text": "1-5 days"
      },
      {
        "id": 2,
        "text": "7-10 days"
      },
      {
        "id": 3,
        "text": "10-30 days"
      },
      {
        "id": 4,
        "text": "50-150 days"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<div class=\"page\" title=\"Page 1603\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 1602\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The incubation period of Hepatitis B ranges from <strong>50-150 days.</strong></p>\n<p>\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 15-year-old boy presents with painful intermittent swelling of knee and elbow joints with recurrent throat infections in the recent past. An ASO titre is to be measured for diagnosis. Which type of test is used to measure ASO titre?",
    "choices": [
      {
        "id": 1,
        "text": "Tube agglutination test"
      },
      {
        "id": 2,
        "text": "Precipitation test"
      },
      {
        "id": 3,
        "text": "Latex agglutination test"
      },
      {
        "id": 4,
        "text": "Complement fixation test"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>ASO(<strong>Anti-streptolysin O</strong>) is measured by the <strong>latex agglutination test</strong>.(Option C)</p>\n<p>The given clinical scenario of painful intermittent swelling of multiple joints (<strong>migratory polyarthritis</strong>) with a recent history of <strong>recurrent throat infections</strong> is suggestive of <strong>acute rheumatic fever</strong>.\u00a0Group A \u03b2-hemolytic streptococci such as <strong><em>streptococcus pyogenes</em></strong> produce hemolysins such as <strong>streptolysin-O</strong> and <strong>streptolysin-S</strong>. They cause RBC membrane lysis which is responsible for <strong>\u03b2-hemolysis</strong> in blood agar.\u00a0</p>\n<p>Antibodies against these hemolysins are formed in the body whose titre is used as a standard marker for <strong>retrospective diagnosis</strong> of streptococcal infections.\u00a0An <strong>ASO titer</strong> of <strong>&gt;200 IU/mL</strong> is diagnostic of most streptococcal infections except <strong>pyoderma</strong> and <strong>post-streptococcal glomerulonephritis (PSGN)</strong>. It was previously detected by a <strong>neutralisation</strong> <strong>test </strong>but is now completely replaced by the <strong>latex agglutination </strong>and<strong> nephelometry </strong>methods.</p>\n<p>In latex agglutination tests, <strong>polystyrene latex particles</strong> (0.8\u20131 \u03bcm in diameter) are used as <strong>carrier molecules </strong>capable of <strong>adsorbing</strong> several types of <strong>antigens</strong>. A drop of the <strong>patient\u2019s serum </strong>(containing antibody) is added to a <strong>drop of latex solution</strong> coated with the antigen and the card is rotated for uniform mixing. A positive result is indicated by the formation of <strong>visible clumps</strong>. It is a simple, <strong>rapid card test.</strong></p>\n<p><strong>Anti-DNase-B</strong> antibody titer of more than <strong>300\u2013350 IU/ mL</strong> is diagnostic of <strong>PSGN</strong> and <strong>pyoderma</strong>.\u00a0</p>\n<p>Other options -</p>\n<p>Option A) Tube agglutination test - Examples are -\u00a0</p>\n<ul>\n<li><strong>Widal test</strong> for typhoid fever</li>\n<li><strong>Standard agglutination test</strong>(SAT) for acute brucellosis</li>\n<li>Coomb\u2019s antiglobulin test</li>\n<li><strong>All heterophile antibody</strong> tests \u00a0 \u00a0 \u00a0\u00a0</li>\n</ul>\n<p>Option B) Precipitation test examples are -</p>\n<ul>\n<li>Slide flocculation tests of syphilis - <strong>VDRL</strong> and <strong>RPR</strong> tests</li>\n<li>Elek\u2019s gel precipitation test - Detecting<strong> toxigenic strains</strong> of diphtheria\u00a0</li>\n</ul>\n<p>Option D) An example of a complement fixation test is the <strong>Wasserman test</strong>, formerly used for serological diagnosis of <strong>syphilis</strong>. \u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presents with blisters on the hand and axillary lymphadenopathy. What history will you enquire about with this patient?",
    "choices": [
      {
        "id": 1,
        "text": "History of exposure to rat"
      },
      {
        "id": 2,
        "text": "History of exposure to cat"
      },
      {
        "id": 3,
        "text": "History of similar complaint in family members"
      },
      {
        "id": 4,
        "text": "History of tick bite"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Patient with blister&nbsp;on the hand followed by axillary lymphadenopathy is more suggestive of <strong>Cat scratch disease</strong>, a disease caused by <strong><em>Bartonella henselae,</em></strong>&nbsp;hence we should ask about the history of <strong>exposure to cat</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/79d9f951c90043738ab30c2f9e0f4784x600x890.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f164b3acd21d457fb39df957f0ccceb9x1279x859.PNG"
    ]
  },
  {
    "text": "A child presents with a fever, hepatosplenomegaly and a rash. The characteristic 'owl eye' inclusion bodies are noted on further evaluation. Which of the following is the best specimen to diagnose this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Blood"
      },
      {
        "id": 2,
        "text": "Urine"
      },
      {
        "id": 3,
        "text": "Cerebrospinal fluid"
      },
      {
        "id": 4,
        "text": "None of these"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given scenario of a child with <strong>fever, hepatosplenomegaly </strong>and <strong>rash </strong>along with <strong>o</strong><strong>wl\u2019s eye inclusion bodies</strong> are intranuclear basophilic inclusion bodies seen in Congenital <strong>c</strong><strong>ytomegalovirus</strong> infection. Congenital CMV infection is diagnosed by detection of virus in the saliva or <strong>urine</strong> (saliva &gt; urine), within the first two weeks of life.\u00a0If culture is required then urine samples are better than saliva. PCR assays can be used to detect small amounts of CMV DNA in the urine.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b7f8eca580cf425b8dde6c1454b276b4x510x480.GIF"
    ]
  },
  {
    "text": "Specific binding of the HIV to the CD4 receptor occurs via which of these structures?",
    "choices": [
      {
        "id": 1,
        "text": "gp120"
      },
      {
        "id": 2,
        "text": "gp41"
      },
      {
        "id": 3,
        "text": "CCR5"
      },
      {
        "id": 4,
        "text": "CXCR4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>specific binding</strong> of the <strong>HIV</strong> to the <strong>CD4 receptor</strong> is by the envelope glycoprotein <strong>gp120</strong>.</p>\n<p>Other options:</p>\n<p>Option B - <strong>Cell fusion</strong> occurs via binding to <strong>gp41</strong>.&nbsp;Cell fusion is&nbsp;essential for infection to take place.</p>\n<p>Options C and D - Binding to CD4 receptor requires the participation of&nbsp;<strong>co-receptors</strong>, <strong>CXCR 4</strong> for<strong> T cell - tropic HIV strains</strong> and <strong>CCR 5</strong> for <strong>macrophage-tropic strains</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f5439a80767b4dc0a95cdd925e7a9358x1279x1152.JPEG"
    ]
  },
  {
    "text": "A 24-year-old female presents with a history of progressive breathlessness and difficulty in breathing since 3 months. A chest X-ray shows a cavitary lesion in the lower lobe of the lung. Lobectomy was done and the histopathology image is given below. What is the most probable causative agent?",
    "choices": [
      {
        "id": 1,
        "text": "Strongyloides stercoralis"
      },
      {
        "id": 2,
        "text": "Fasciola hepatica"
      },
      {
        "id": 3,
        "text": "Echinococcus granulosus"
      },
      {
        "id": 4,
        "text": "Taenia Saginata"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario and the histological slide are suggestive of&nbsp;<strong>hydatid disease </strong>of the<strong> lung</strong>&nbsp;caused by&nbsp;<strong><em>Echinococcus granulosus</em></strong>.</p>\n<p><strong>Hydatid disease&nbsp;</strong>most commonly occurs in the <strong>liver</strong>, the second most common being the <strong>lungs</strong>. The clinical features of <strong>hydatid disease </strong>of the<strong> lung</strong>&nbsp;include&nbsp;<strong>breathlessness, cough, hemoptysis</strong>,&nbsp;<strong>chest pain</strong>, and<strong>&nbsp;</strong>even<strong>&nbsp;pneumothorax</strong>. Treatment includes <strong>wedge resection</strong> or <strong>lobectomy</strong> and administration of albendazole. <strong>Pre</strong> and <strong>postoperative</strong> chemotherapy with <strong>albendazole</strong> is recommended for <strong>2 years</strong> after curative surgery.</p>\n<p><strong>Casoni&rsquo;s test&nbsp;</strong>is a&nbsp;<strong>type I hypersensitivity&nbsp;</strong>reaction<strong>&nbsp;</strong>used in the diagnosis of&nbsp;<strong>hydatid</strong>&nbsp;<strong>disease</strong>. It&nbsp;involves the <strong>intradermal</strong> injection of 0.25 ml of sterilized fluid from hydatid cysts/human cysts on the forearm. An equal volume of saline is injected into the other forearm as control. It is observed for the next 30 minutes and again after 1-2 days. The fluid used for the test is sterilized by&nbsp;<strong>Seitz</strong>&nbsp;<strong>filtration.&nbsp;</strong>A&nbsp;<strong>wheal</strong>&nbsp;response at the injection site occurring within 20 minutes is considered&nbsp;<strong>positive.&nbsp;</strong>It is followed by a secondary reaction 8 hours later. The test is not often used nowadays due to its non-specificity.</p>\n<p>The hydatid cyst wall consists of<strong> 3 layers</strong>:</p>\n<ul>\n<li><strong>Pericyst</strong>- the outer dense fibrous capsule that is formed as a result of host inflammatory response.</li>\n<li><strong>Ectocyst</strong>- the intermediate layer consisting of acellular, chitinous, laminated hyaline material.</li>\n<li><strong>Endocyst</strong>- the inner germinal layer that is cellular and consists of a number of nuclei embedded in protoplasmic mass and is extremely thin. It is the vital layer of the cyst and it is the site of asexual reproduction giving rise to brood capsules with scolices.</li>\n</ul>\n<p>The below image shows the histology of hydatid cyst.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e626a7d9b9f34b70a92c7c5939c1cb93.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7fba0f063f3942da8957d599586cc02ex960x540.JPEG"
    ]
  },
  {
    "text": "A truck driver came with complaints of a painless indurated genital ulcer after unsafe intercourse. He is suspected to have a hard chancre. Motility of the most likely causative organism can be detected by which of the following microscopes?",
    "choices": [
      {
        "id": 1,
        "text": "Dark field microscope"
      },
      {
        "id": 2,
        "text": "Electron microscope"
      },
      {
        "id": 3,
        "text": "Light microscope"
      },
      {
        "id": 4,
        "text": "Fluorescent microscope"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Hard chancre</strong> /&nbsp;<strong>syphilitic chancre </strong>is&nbsp;caused by&nbsp;<strong>Treponema pallidum.&nbsp;</strong>The motility of the organism can be demonstrated by <strong>dark ground/ field</strong> <strong>microscopy</strong>.&nbsp;</p>\n<p>Dark ground microscopy can be used&nbsp;to diagnose&nbsp;<strong>syphilis</strong>&nbsp;when an active chancre or condyloma lata is present to visualize&nbsp;<em>Treponema pallidum</em>.&nbsp;Dark-field microscopy images have a&nbsp;<strong>dark background</strong>&nbsp;with a&nbsp;<strong>refractile organism</strong>.&nbsp;The dark ground microscope has an optical system that&nbsp;<strong>enhances</strong>&nbsp;the<strong>&nbsp;contrast</strong>&nbsp;of&nbsp;<strong>unstained</strong>&nbsp;bodies. It is generally less sensitive.</p>\n<p>The image given below shows&nbsp;<strong><em>Treponema pallidum</em>&nbsp;</strong>demonstrated by dark ground microscopy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9f6df25d035e48d3a1d110abd3a8a652x720x841.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2e7c68231faa4d51bb815fec95cf1257x1279x1216.JPEG"
    ]
  },
  {
    "text": "An unknown disease of suspected infectious origin has come up in your town. As a microbiologist, you collect the relevant samples and detect the etiological cause. Which of the following types of PCR would you do?",
    "choices": [
      {
        "id": 1,
        "text": "Real time PCR"
      },
      {
        "id": 2,
        "text": "Nested PCR"
      },
      {
        "id": 3,
        "text": "Reverse transcriptase PCR"
      },
      {
        "id": 4,
        "text": "Multiplex PCR"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Multiplex PCR can be used to identify an unknown infectious agent.</p>\n<p><strong>Types of PCR</strong><strong>:</strong></p>\n<ul>\n<li><strong>Multiplex PCR:</strong> Primers to more than one pathogen are used simultaneously and hence multiple products are obtained.&nbsp;</li>\n<li><strong>Nested PCR:</strong> It involves the sequential use of two primer sets. The first primer set is used for amplification and the amplicon obtained is then used as a target sequence for second amplification. This ensures specificity. Used in GeneXpert to detect Mycobacterium TB and resistance to rifampicin.</li>\n<li><strong>Quantitative PCR</strong>: Apart from just detecting the target sequences, it also tells the number of such target sequences. We can quantify the HIV viral load with this technique.</li>\n<li><strong>Reverse transcriptase PCR</strong>: The enzyme reverse transcriptase (RT) is used to synthesize a complimentary copy of DNA (cDNA) from RNA and this cDNA is then used as a template for PCR. Unlike conventional PCR which can only amplify DNA, this one can even amplify RNA. It is used to detect H1N1 from the Nasopharyngeal swab.</li>\n<li><strong>Real-time PCR:</strong> This helps quantify the PCR and gives an estimate of the pathogen DNA load in the specimen. It uses fluorescent dyes or specific DNA probes. It is also known as qPCR (Quantitative PCR).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A researcher is studying the cell wall synthesis of a Gram-positive bacterium. During the experiment, they discovered a mutation that disrupts the enzyme transpeptidase. Which antibiotic does this mutation confer resistance to?",
    "choices": [
      {
        "id": 1,
        "text": "Vancomycin"
      },
      {
        "id": 2,
        "text": "Bacitracin"
      },
      {
        "id": 3,
        "text": "Penicillin"
      },
      {
        "id": 4,
        "text": "Daptomycin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Penicillin </strong>and other <strong>beta-lactam</strong> antibiotics inhibit the enzyme <strong>transpeptidase</strong>, which is responsible for <strong>cross-linking peptidoglycan strands</strong>. A mutation disrupting this enzyme would lead to <strong>resistance to penicillin</strong>.</p>\n<p><strong>Vancomycin </strong>inhibits cell wall synthesis by binding to the <strong>D-Ala-D-Ala</strong> terminus of peptidoglycan precursors, preventing their incorporation into the cell wall, rather than directly affecting the transpeptidase enzyme.</p>\n<p><strong>Bacitracin</strong> interferes with the<strong> dephosphorylation of bactoprenol</strong>, a carrier molecule that transports peptidoglycan precursors across the cell membrane.</p>\n<p><strong>Daptomycin </strong>disrupts<strong> cell membrane function</strong> rather than inhibiting cell wall synthesis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following are acid-fast staining organisms?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3, 4, 5"
      },
      {
        "id": 2,
        "text": "1, 3 , 6"
      },
      {
        "id": 3,
        "text": "1, 2, 3"
      },
      {
        "id": 4,
        "text": "3, 4, 5, 6"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Nocardia</strong>, <em><strong>Mycobacterium leprae</strong></em>, and <em><strong>Cytoisospora belli</strong></em>&nbsp;are <strong>acid-fast staining</strong> organisms.</p>\n<p>Acid-fast staining is based on the principle that tubercle bacilli <strong>resist decolourization</strong> with acids after staining with <strong>aniline dyes</strong>. Acid fastness is attributed to the variety of fatty acids, alcohols, and lipids in the tubercle bacilli. Acid-fast organisms usually contain <strong>mycolic acid</strong>, which is acid-fast in the free state.&nbsp; The steps to carry out acid-fast staining as modified by Ziehl and Neelsen are:</p>\n<ol>\n<li>The slide is stained with <strong>carbolfuchsin</strong> along with the application of <strong>heat</strong>.</li>\n<li>It is then decolourized with <strong>20% sulphuric acid</strong>. Later <strong>methylene blue</strong> is used for <strong>counterstaining</strong>.</li>\n<li>The acid-fast bacteria <strong>retain</strong> the fuchsin colour, while other organisms take up the counterstain.</li>\n</ol>\n<p>The genus <strong>Nocardia</strong> are aerobic organisms and <strong>weakly acid-fast</strong> positive rods. They stain with carbolfuchsin and retain it when <strong>1-4% sulfuric acid</strong> is used.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d5bb84dc9a0c4e39802ca0afeb4d0249x720x666.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cb75f30561ca485c9793ec774800981dx1200x900.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cb1583706fb345659bde2abfd203dafex700x714.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ef882a995b5141d6a7c6cbfcf9f5632dx512x296.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8c914253098548b18a673a6414d4a5ebx800x600.JPEG"
    ]
  },
  {
    "text": "A young intravenous drug abuser presents with a 1-week history of malaise, fatigue, and rigors. On examination, a high-pitched murmur was heard loudest at the fourth intercostal space in the parasternal region and a cutaneous lesion as seen in the image below was observed. What is the likely causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Streptococcus sanguinis"
      },
      {
        "id": 2,
        "text": "Enterococcus faecium"
      },
      {
        "id": 3,
        "text": "Coxiella burnetii"
      },
      {
        "id": 4,
        "text": "Staphylococcus aureus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The likely diagnosis in this patient is <strong>infective endocarditis</strong>. The&nbsp;most common cause of this disease in <strong>intravenous drug</strong> users is <em><strong>Staphylococcus aureus.</strong></em></p>\n<p>Infective endocarditis is caused due to an infection of cardiac valves. The most common causative organism is <em><strong>Staphylococcus aureus.</strong></em></p>\n<p>Infective endocarditis in patients who inject drugs commonly affects the <strong>tricuspid valve.&nbsp;</strong>In the case of tricuspid regurgitation patients present with <strong>high-pitched murmur</strong> heard loudest at the <strong>fourth intercostal space</strong> in the parasternal region.</p>\n<p>The image in the vignette is of <strong>Osler's nodes</strong>. Osler nodes are <strong>painful</strong>, with <strong>raised lesions</strong> of the fingers, toe, and feet. They are peripheral lesions seen in patients with infective endocarditis.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/85cb3dc4861f4146929f05295fba9414.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The following slide is given as a spotter in your microbiology practical examination. Identify the following organism.",
    "choices": [
      {
        "id": 1,
        "text": "Mycobacteria"
      },
      {
        "id": 2,
        "text": "Nocardia"
      },
      {
        "id": 3,
        "text": "Actinomyces"
      },
      {
        "id": 4,
        "text": "Corynebacterium"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows&nbsp;pink<strong> non-branching acid-fast bacilli</strong>&nbsp;on a blue background. These findings are consistent with<strong>&nbsp;</strong>the staining characteristics of <strong>mycobacteria</strong>. The stain used is the <strong>Ziehl-Neelsen stain.</strong>&nbsp;</p>\n<p><em><strong>Nocardia</strong></em> is partially&nbsp;<strong>acid-fast </strong>and&nbsp;appears as <strong>branching filaments.</strong></p>\n<p><em>Actinomyces</em> and <em>Corynebacterium</em> are <strong>non-acid-fast.</strong></p>\n<p>The image below<strong>&nbsp;</strong>shows <em>Nocardia&nbsp;</em>stained using an acid fast staining technique.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4791f4288acf49c8ba7a40c648b39918.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1afc227efd4c4caab4c862cd30d6d737x720x501.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/04f6afcd0f024dbbad620fb7f59e820ax305x235.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dfdfa4e8cbe2459eb59843248b4de506x1280x2413.JPEG"
    ]
  },
  {
    "text": "A 10-year-old boy returned from a birthday party and began vomiting 4-5 hours later, followed by a few episodes of loose stools but had no fever. Other children who had attended the party reported a similar illness. Food samples were collected and sent for toxin detection by a test based on the following principle. This test is known as:",
    "choices": [
      {
        "id": 1,
        "text": "Cassette ELISA"
      },
      {
        "id": 2,
        "text": "Sandwich ELISA"
      },
      {
        "id": 3,
        "text": "Competitive ELISA"
      },
      {
        "id": 4,
        "text": "Indirect ELISA"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows <strong>Sandwich<span id=\"Reverse_ELISA\" class=\"mw-headline\">&nbsp;ELISA</span></strong><span id=\"Reverse_ELISA\" class=\"mw-headline\">.&nbsp;</span>The above clinical scenario is suggestive of <strong>food poisoning</strong> caused by <em><strong>Staphylococcus aureus</strong></em>.</p>\n<p>The symptoms of&nbsp;food poisoning caused by <em>S&nbsp;aureus</em> appear within 1-8 hours. Multiple people are exposed to the pathogen from a common source and present with vomiting, loose stools but no fever. Foods from outbreaks of food poisoning is examined for the presence of <strong>staphylococcal enterotoxin A (SEA)</strong> by a <strong>sandwich ELISA</strong>.</p>\n<p><strong><span id=\"Reverse_ELISA\" class=\"mw-headline\">ELISA</span></strong>&nbsp;<span id=\"Reverse_ELISA\" class=\"mw-headline\">(</span><span id=\"Reverse_ELISA\" class=\"mw-headline\">Enzyme-linked immunosorbent assay)&nbsp;</span>involves the use of an <strong>immunosorbent</strong>, which is an absorbing material that is specific for one of the components of the reaction, either the <strong>antigen or antibody</strong>. This may be a <strong>particulate</strong> phase (cellulose or agarose), or a <strong>solid</strong> phase (polystyrene, polyvinyl, or polycarbonate tubes or microwells). ELISA is done using <strong>96-well microtitre plates</strong> suitable for automation.</p>\n<p><strong>Sandwich ELISA</strong> is used for antigen detection in the patient samples. The <strong>antigen is sandwiched between two layers of antibodies</strong> - capture and detection antibodies.</p>\n<p><span class=\"mw-headline\">The following <strong>steps</strong> are followed in <strong>Sandwich ELISA</strong>:</span></p>\n<div class=\"page\" title=\"Page 149\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ol>\n<li>The<strong> capture</strong>&nbsp;<strong>antibody</strong> is immobilized on a microtiter well.</li>\n<li>A sample containing <strong>antigen</strong> is added and allowed to react with the immobilized antibody.</li>\n<li>After the well is washed, a second <strong>enzyme-linked antibody</strong> (Detecting antibody) specific to the antigen is added and allowed to react with the bound antigen.</li>\n<li>After any free second antibody is removed by washing, the&nbsp;<strong>substrate</strong> is added. This substrate is converted by the enzyme to detectable colored form and the <strong>colored reaction product</strong> is measured.</li>\n</ol>\n</div>\n</div>\n</div>\n</div>\n<p>Other options:</p>\n<p><strong>Cassette ELISA</strong>: Here, each specimen is tested in a separate disposable cassette and gives rapid results (10-15 minutes). There is no need for microplate washers or readers and the result can be read visually. Example: Dot Blot Assay used for the detection of HIV type 1 and 2 antibodies.</p>\n<p><strong>Competitive ELISA</strong>: Both the unknown antigen (sample) and the known antigen (standard) compete with each other for a fixed amount of antibody.</p>\n<p><strong>Indirect ELISA</strong>: Antibody in the sample can be detected or quantitatively measured using this method.&nbsp;Serum or some other sample containing primary antibody (Ab1) is added to an antigen-coated microtiter well and allowed to react. Enzyme-conjugated secondary anti-isotype antibody (Ab2) is added which binds to the primary antibody.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b3f3baa0943b4ff8aceba98d57edfd13.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/57b1a572d7fe4fca99c30005e0b633d1x1280x2225.JPEG"
    ]
  },
  {
    "text": "A 70-year-old woman was diagnosed with right leg cellulitis and was admitted to the hospital for 3 days. She was prescribed clindamycin. Two days after her discharge, she developed diarrhea and abdominal pain. Her temperature was 38.8 degrees Celcius. Her blood reports are given below. What is the most probable etiological agent?",
    "choices": [
      {
        "id": 1,
        "text": "Clostridium difficile"
      },
      {
        "id": 2,
        "text": "Escherichia coli"
      },
      {
        "id": 3,
        "text": "Norovirus"
      },
      {
        "id": 4,
        "text": "Rotavirus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical vignette of a patient with hospital-acquired diarrhea (nosocomial) following antibiotic administration is suggestive of <strong>pseudomembranous colitis</strong> due to\u00a0<strong><em>Clostridium difficile.</em>\u00a0</strong></p>\n<p>Clostridium difficile is the <strong>most common cause of infectious diarrhea</strong> in nosocomial infection.\u00a0</p>\n<p><span data-preserver-spaces=\"true\">It is the <strong>most common antibiotic-associated diarrhea</strong>. It is commonly seen in individuals who receive a prolonged antibiotic course, which causes a change in the composition of gastrointestinal microbial flora, leading to colonization of C. difficile.</span></p>\n<p><strong><span data-preserver-spaces=\"true\">Clinical features:</span></strong></p>\n<ul>\n<li><span data-preserver-spaces=\"true\">Lower abdominal pain with loose watery diarrhea.</span></li>\n<li>Fever, leukocytosis</li>\n<li><span data-preserver-spaces=\"true\">In some patients, the disease may progress to life-threatening pseudomembranous colitis</span></li>\n</ul>\n<p><strong><span data-preserver-spaces=\"true\">Investigations</span></strong><span data-preserver-spaces=\"true\">:</span></p>\n<ul>\n<li>Nucleic acid amplification tests, including polymerase chain reaction assays, for C. difficile toxin A or B gene in stool\u00a0</li>\n<li>Stool culture in selective media</li>\n<li>Demonstrating toxin by cell cytotoxin cultures</li>\n<li>Toxin gene identification by enzyme immunoassay</li>\n<li>Colonoscopy or sigmoidoscopy\u00a0<span data-preserver-spaces=\"true\">reveals a characteristic</span><strong><span data-preserver-spaces=\"true\">\u00a0pseudomembrane.</span></strong></li>\n</ul>\n<p>Nucleic acid amplification tests, including PCR assays, for C. difficile toxin A or B gene in stool, have now been approved for diagnostic purposes and appear to be both rapid and sensitive while retaining high specificity.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 5 yr old boy presents with headache, fever and vomiting. On examination, multiple small vesicles are present on the posterior pharyngeal wall.  He is diagnosed with herpangina and is started on supportive therapy. Whats is herpangina caused by?",
    "choices": [
      {
        "id": 1,
        "text": "Enteroviruses"
      },
      {
        "id": 2,
        "text": "Rhinoviruses"
      },
      {
        "id": 3,
        "text": "Myxoviruses"
      },
      {
        "id": 4,
        "text": "Rhabdoviruses"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 536\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Herpangina is caused by<strong> Coxsackie A virus</strong>,&nbsp;a large <strong>subgroup </strong>of the<strong> enteroviruses.</strong></p>\n<p><strong>Herpangina</strong> or <strong>vesicular pharyngitis</strong> is a common clinical manifestation of <strong>coxsackie A infection</strong> in children, but it can also be caused by <strong>Coxsackievirus B</strong>&nbsp;virus, echoviruses or enterovirus 71.&nbsp;The lesions are <strong>small</strong> <strong>vesicles</strong> on the fauces and the posterior pharyngeal wall that break down to form ulcers.&nbsp;</p>\n<p>&nbsp;</p>\n<p>The image shows palatal ulcers in herpangina.&nbsp;</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3acc6d965cb14ad4977aaf111b655f92x1280x1183.JPEG"
    ]
  },
  {
    "text": "The milk ring test is found to be positive for a sample of milk. Which organism has it most likely been contaminated with?",
    "choices": [
      {
        "id": 1,
        "text": "Brucella"
      },
      {
        "id": 2,
        "text": "Bordetella"
      },
      {
        "id": 3,
        "text": "Bacillus"
      },
      {
        "id": 4,
        "text": "Burkholderia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Milk ring test </strong>(MRT) is <strong>positive</strong> for <strong><em>Brucella</em>.&nbsp;</strong>It is used for the detection of infected animals in dairy farms.&nbsp;</p>\n<p>A sample of <strong>whole milk</strong> is mixed with a drop of <strong><em>Brucella</em> antigen</strong> and incubated at <strong>70 &deg;C for 40&ndash;50 min</strong>.</p>\n<p>If antibodies are present in the milk, the bacilli are agglutinated and rise with the cream to form a <strong>blue ring at the top</strong>, leaving the rest of the milk unstained (<strong>MRT positive</strong>).&nbsp;If antibodies are absent, the solution remains <strong>uniformly blue (MRT negative)</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f746e2d6df3441e08f72097d85d4acedx1280x1680.JPEG"
    ]
  },
  {
    "text": "Identify the organism & the stain used from the image given below :",
    "choices": [
      {
        "id": 1,
        "text": "Corynebacterium diphtheriae - Albert\u2019s stain"
      },
      {
        "id": 2,
        "text": "Helicobacter pylori - modified Giemsa stain"
      },
      {
        "id": 3,
        "text": "Treponema pallidum - Fontana\u2019s silver impregnation"
      },
      {
        "id": 4,
        "text": "Helicobacter pylori - Warthin-Starry stain"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given image shows <strong>Helicobacter pylori</strong> under&nbsp;<strong>Warthin-Starry stain.</strong></p>\n<div class=\"page\" title=\"Page 2\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><span data-preserver-spaces=\"true\">H.pylori is a&nbsp;<strong>gram-negative</strong>&nbsp;motile rod with <strong>lophotrichous flagella</strong>.&nbsp;The <strong>gastric&nbsp;antrum</strong>&nbsp;is the commonest site of colonization. Infection is confined to the gastric mucosa in the stomach or in areas of gastric metaplasia and heteroplasia in the duodenum.&nbsp;</span></p>\n<p><span data-preserver-spaces=\"true\">In some patients, H.pylori causes&nbsp;<strong>mild acute gastritis</strong>&nbsp;lasting for about two weeks. In others, it can cause&nbsp;<strong>peptic ulcer disease</strong>&nbsp;which in later stages may lead to&nbsp;<strong>chronic atrophic gastritis</strong>. This is a risk factor for gastric malignancies like&nbsp;<strong>adenocarcinoma</strong>&nbsp;and&nbsp;<strong>mucosa-associated lymphoid tissue (MALT) lymphomas</strong>.&nbsp;</span></p>\n<p><span data-preserver-spaces=\"true\">The <strong>urea breath test</strong> is a&nbsp;<strong>rapid diagnostic procedure</strong>&nbsp;used to identify infection, as H.pylori&nbsp;has a unique feature of the production of <strong>urease</strong>.</span></p>\n<p><span data-preserver-spaces=\"true\">The given image shows&nbsp;<em>H.pylori&nbsp;</em>on gastric mucosa stained with Warthin-Starry silver stain.&nbsp;The bacteria are&nbsp;<strong>present</strong>&nbsp;only in the<strong>&nbsp;mucus overlying the gastric mucosa</strong>&nbsp;and&nbsp;do not actually invade the mucosa.</span></p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/cbf7f128e75a4b458f82cb582bff8896.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/89da76b0f61343948b990a2b2bfa72c7x1280x1156.JPEG"
    ]
  },
  {
    "text": "Which of the following bacteria demonstrates tumbling type of motility at 25 \u00b0C, but is non-motile at 37 \u00b0C?",
    "choices": [
      {
        "id": 1,
        "text": "Listeria monocytogenes"
      },
      {
        "id": 2,
        "text": "Treponema pallidum"
      },
      {
        "id": 3,
        "text": "Clostridium tetani"
      },
      {
        "id": 4,
        "text": "Vibrio cholera"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><em><strong>Listeria monocytogenes</strong></em> demonstrates&nbsp;<strong>tumbling</strong> end-over-end motility at <strong>22&ndash;28 &deg;C</strong> but becomes non-motile at 37 &deg;C.&nbsp;</p>\n<p>Listeria monocytogenes is a gram-positive bacillus. These rods are facultatively intracellular and move&nbsp;from cell to cell using the host cell actin framework. It can grow&nbsp;at<strong>&nbsp;low refrigeration temperatures</strong>. They show tumbling motility at&nbsp;25&deg;C.&nbsp;But, at 37&deg;C, it is non-motile because the&nbsp;<strong>peritrichous</strong>&nbsp;<strong>flagella</strong>&nbsp;are produced by the bacillus optimally between 20&deg;C&nbsp;and 30&deg;C.</p>\n<p>The image below shows the tumbling motility of&nbsp;<em>L. monocytogenes.</em></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/463c39a05dd44991985fe914e7e222bex720x734.GIF"
    ]
  },
  {
    "text": "A 35-year-old lady presented with itchy vaginal discharge. Microscopic examination revealed organisms as shown. Which of the following is true regarding the infection?",
    "choices": [
      {
        "id": 1,
        "text": "The organism shows jerky motility with its 2 flagella"
      },
      {
        "id": 2,
        "text": "Presents as fishy odor and curdy precipitate"
      },
      {
        "id": 3,
        "text": "Green kit is used for syndromic treatment"
      },
      {
        "id": 4,
        "text": "Partner treatment is not necessary"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above scenario of a patient with <strong>itchy vaginal</strong> discharge with the presence of <strong>flagellated trophozoites</strong> on <strong>microscopy</strong> indicated a diagnosis of trichomonas vaginalis. <strong>Green kit</strong> containing <strong>secnidazole</strong> is used for the syndrome treatment of <strong>trichomonas vaginalis.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3e844ccf82e543598c7cb6171ae5b669.jpg"
    ],
    "explanation_images": []
  },
  {
    "text": "A 2 year old child is brought to the OPD with oral and perioral lesions as seen in the image below. Similar lesions were also found on his palms and soles. What is the probable causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Coxsackie virus"
      },
      {
        "id": 2,
        "text": "Molluscum contagiosum"
      },
      {
        "id": 3,
        "text": "Parvovirus B19"
      },
      {
        "id": 4,
        "text": "Streptococcus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario and the image are suggestive of<strong> hand, foot, and mouth disease</strong> that is caused by <strong>coxsackie A virus</strong>.</p>\n<p><strong>Hand, foot, and mouth disease </strong>initially begins with fever and sore throat following which blisters develop over the oral cavity, hands and feet.</p>\n<p>It usually occurs in children but may also occur in adults. It is a self limiting disease and subsides in 1-2 weeks.</p>\n<p>The following images show lesions affecting hands and feet:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/46f8d758d5734e71be82126c8dac8dbb.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/21b9868b8519401c8f7bc78bdf97c16dx186x179.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/98a06a09e79840a2b3d3b7556a80c6f5x202x270.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9ec51305e7b54855b34a3f459969cc2fx381x150.JPEG"
    ]
  },
  {
    "text": "Which among the following is a high-level disinfectant?",
    "choices": [
      {
        "id": 1,
        "text": "Isopropyl alcohol"
      },
      {
        "id": 2,
        "text": "Glutaraldehyde"
      },
      {
        "id": 3,
        "text": "Iodophores"
      },
      {
        "id": 4,
        "text": "Benzalkonium chloride"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Glutaraldehyde&nbsp;</strong>is an example of a&nbsp;<strong>high-level</strong> disinfectant.</p>\n<p><strong>High-level</strong> disinfectant- This is a chemical that kills all microbial pathogens except a large number of spores. It may have some activity against a smaller number of spores if the contact time is increased. Eg- <strong>Glutaraldehyde, hydrogen peroxide</strong>.</p>\n<p><strong>Intermediate</strong> level disinfectant: A chemical that kills all microbial pathogens including mycobacteria and&nbsp;non enveloped viruses except spores. Eg- <strong>Alcohol, iodophors</strong>.</p>\n<p><strong>Low-level </strong>disinfectants:They kill only vegetative bacteria, fungi, and lipid enveloped viruses, e.g&nbsp;<strong>Benzalkonium chloride</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 9-month-old baby was brought with complaints of loose stools for 2 weeks. Which of the following organisms is likely to cause this disease?",
    "choices": [
      {
        "id": 1,
        "text": "Enteropathogenic E.coli"
      },
      {
        "id": 2,
        "text": "Enterohemorrhagic E.coli"
      },
      {
        "id": 3,
        "text": "Enterotoxigenic E.coli"
      },
      {
        "id": 4,
        "text": "Enteroinvasive E.coli"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Enteropathogenic<em>\u00a0E. coli</em> </strong>(EPEC)\u00a0causes\u00a0<strong>infantile bacterial diarrhea.\u00a0</strong>It is\u00a0nontoxigenic and noninvasive.</p>\n<p><em>E. coli</em> is the second most common cause of diarrhea in the pediatric age group. Rotavirus is the most common cause. EPEC causes <strong>persistent watery diarrhea</strong> which is <strong>self-limiting</strong>.</p>\n<p>EPEC adheres to the mucosal cells of the <strong>small\u00a0bowel</strong>\u00a0and causes <strong>loss of microvilli</strong> (effacement). This leads to\u00a0formation of <strong>filamentous actin pedestals</strong> or cuplike structures and occasionally may cause entry of the EPEC into the mucosal cells.</p>\n<p><strong>Pathogenicity</strong> requires the presence of two important <strong>factors</strong>:</p>\n<ul>\n<li><strong>\u00a0Bundle forming pilus</strong> encoded by plasmid containing EPEC adherence factor (EAF).</li>\n<li>\u00a0Chromosomal\u00a0locus of enterocyte\u00a0effacement <strong>(LEE) pathogenecity island</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8f7cf2620a754b9faf47e8c15baff78bx1280x1181.JPEG"
    ]
  },
  {
    "text": "The structure of which of the following viruses is depicted in this image?",
    "choices": [
      {
        "id": 1,
        "text": "Measles virus"
      },
      {
        "id": 2,
        "text": "Influenza virus"
      },
      {
        "id": 3,
        "text": "Human immunodeficiency virus"
      },
      {
        "id": 4,
        "text": "Coronavirus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The virus depicted in the above image is the <strong>influenza</strong> virus.</p>\n<p>The<strong> influenza virus</strong> is a&nbsp;segmented,&nbsp;<strong>negative-sense</strong>/negative-strand <strong>RNA virus.&nbsp;</strong>It belongs to the family of orthomyxoviruses. The <strong>hemagglutinin</strong> and <strong>neuraminidase</strong> receptors are present as two different spikes on the envelope.&nbsp;</p>\n<p>Influenza viruses are classified into A, B, and C serotypes depending on the antigenic structure. Patients infected with the influenza virus present with a wide range of symptoms such as fever, headache, and myalgia to full-blown pneumonia.</p>\n<p>The structure of the influenza virus is shown in the image below:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a2e872dc535241cc8f8f2d4cd528ff15.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/90830248a38a434493c4b6a45a567ccbx1279x1476.JPEG"
    ]
  },
  {
    "text": "A 50 year old man came with complaints of nausea, vomiting, dizziness and blurring of vision of sudden onset.  There were  no associated co-morbidities. On probing, history of ingestion of home- canned beans is present. Patient had developed descending flaccid paralysis on 2nd day. A diagnosis of botulism is made. Which category of bio-terrorism  does the causative agent belongs to?",
    "choices": [
      {
        "id": 1,
        "text": "Category D"
      },
      {
        "id": 2,
        "text": "Category A"
      },
      {
        "id": 3,
        "text": "Category B"
      },
      {
        "id": 4,
        "text": "Category C"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Botulism is caused by <strong>Clostridium Botulinum</strong> and it belongs to <strong>Category A of bio- terrorism agents.</strong></p>\n<p>The botulinum toxin is highly potent, with 1 gram capable of killing 1 million people if dispersed effectively.</p>\n<p>The toxin <strong>inhibits</strong> the release of acetylcholine by preventing its vesicle fusion with the motor neuron membrane, resulting in <strong>flaccid paralysis</strong>. Transmission can occur via <strong>contaminated food, aerosolized toxin, or growth in wounds</strong>, with the latter two relevant for bioterrorism.</p>\n<p><strong>\u00a0</strong>Patients initially develop <strong>multiple cranial nerve palsies,</strong> followed by <strong>descending flaccid paralysis. </strong>Severe cases may involve complete muscular collapse, loss of gag reflex, and respiratory failure, requiring weeks to months of ventilator support.</p>\n<p>The diagnosis is suspected based on clinical presentation and <strong>mouse bio-assay</strong> and <strong>immune-assay. </strong>Treatment is <strong>mainly supportive</strong>.</p>\n<p><strong>Bioterrorism</strong> is the deliberate release of an agent by attackers that causes one or more of a variety of different diseases. The agents of bioterrorism are classified into <strong>3 categories</strong>:</p>\n<ul>\n<li><strong>Category A</strong> bioterrorism agents are those which are easily transmitted from one person to the other and are associated with high mortality rates and thus have the potential to cause major public health impacts. Examples include Bacillus anthracis, Clostridium botulinum, and Yersinia pestis.</li>\n<li><strong>Category B</strong> bioterrorism agents are those which are moderately easy to disseminate and are associated with moderate morbidity and low mortality rates. Examples include Coxiella burnetti and Brucella.</li>\n<li><strong>Category C</strong> bioterrorism agents are those which are emerging pathogens that could be engineered for mass dissemination in the future due to ease of availability, high mortality and morbidity rates, and ease of production and dissemination. Examples include Nipah and Hanta viruses.\u00a0</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A chronic asthmatic patient who is on inhaled steroids presents with a history of a burning sensation on eating hot or spicy food and the following findings are seen. What is the most possible diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Candida infection"
      },
      {
        "id": 2,
        "text": "Burning mouth syndrome"
      },
      {
        "id": 3,
        "text": "Geographical tongue"
      },
      {
        "id": 4,
        "text": "Oral Lichen Planus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical vignette of oral steroid use along with a lesion on the tongue points towards a diagnosis of<strong> candida infection.</strong></p>\n<p><strong>Erythematous (atrophic) candidiasis</strong> appears as a red, raw-looking lesion. It may or may not be related to pseudo membranes. On the tongue, there is a loss of the lingual papillae, leaving a smooth area. It can occur<strong> after long-term corticosteroids</strong> or antibiotics usage or those with HIV. Other names for this condition include\u00a0<strong>acute atrophic oral candidiasis</strong> and <strong>antibiotic sore tongue.</strong></p>\n<p><strong>Cutaneous</strong>\u00a0and\u00a0<strong>mucosal</strong>\u00a0infections manifest as\u00a0<strong>thrush</strong>\u00a0affecting the tongue, lips, gums, and palate. It is seen as a patchy to confluent\u00a0<strong>whitish pseudomembranous</strong> lesion and is commonly associated with\u00a0<strong>AIDS</strong>.\u00a0Candida may also invade the vaginal mucosa leading to <strong>vulvovaginitis</strong>, and the nails, and around the nail plate leading to <strong>onychomycosis</strong>. Mucocutaneous manifestations are managed with <strong>topical nystatin</strong> or <strong>oral ketoconazole</strong>.</p>\n<p>Other options:</p>\n<p><strong>Burning mouth syndrome (BMS) </strong>is a burning sensation in the mouth with no underlying dental or medical cause where no related signs of disease are found in the mouth.</p>\n<p><strong>Migratory glossitis\u00a0</strong>/ <strong>geographic tongue</strong> is due to the rapid loss and regrowth of filiform papillae of the tongue. It is a benign inflammatory condition of the tongue associated with <strong>psoriasis\u00a0</strong>and reactive arthritis.\u00a0<strong>Geographic tongue</strong>, though consistent with the clinical image is not the best fit considering the clinical history. It is usually asymptomatic but can be occasionally associated with a sore tongue.</p>\n<p><strong>Oral lichen planus</strong> is associated with <strong>Wickham striae</strong> in the oral cavity. They are fine white lines in a <strong>lacy or fern-like pattern</strong> that cross the plaques in lichen planus.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/00acade10ec8464daf2aad5c63ae8fc2.PNG"
    ],
    "explanation_images": []
  }
];
        let quizName = 'Microbiology Test';
        let hierarchy = ["Marrow", "FMGE Test Series Subject", "2024"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>