<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instruments Mini Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2020-21
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A patient suffering from leprosy is prescribed a Jaipur foot prosthesis in the rehabilitation center. Which of the following statements is true about this prosthesis?",
    "choices": [
      {
        "id": 1,
        "text": "Restricted mobility"
      },
      {
        "id": 2,
        "text": "Squatting is not possible"
      },
      {
        "id": 3,
        "text": "Inversion and eversion are not possible"
      },
      {
        "id": 4,
        "text": "Possible to walk on uneven ground"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>It is possible to <strong>walk</strong> on <strong>uneven grounds</strong> with<strong> Jaipur foot</strong>&nbsp;<strong>prosthesis</strong> as subtalar movements (inversion and eversion) are present.</p>\n<p>Different types of foot prostheses are:</p>\n<ul>\n<li>Jaipur foot</li>\n<li>Solid ankle cushion heel <strong>(SACH)</strong></li>\n<li>Stationary attachment flexible endoskeleton <strong>(SAFE)</strong>, similar to Jaipur foot.</li>\n</ul>\n<table style=\"height: 310px; width: 376px;\">\n<tbody>\n<tr style=\"height: 36px;\">\n<td style=\"width: 141.921875px; height: 36px;\"><strong>Prosthesis</strong>&nbsp;</td>\n<td style=\"width: 108.078125px; height: 36px;\"><strong>SACH</strong></td>\n<td style=\"width: 107px; height: 36px;\"><strong>Jaipur foot&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 53px;\">\n<td style=\"width: 141.921875px; height: 53px;\">Appearance</td>\n<td style=\"width: 108.078125px; height: 53px;\">Does not look normal</td>\n<td style=\"width: 107px; height: 53px;\">Looks normal</td>\n</tr>\n<tr style=\"height: 33px;\">\n<td style=\"width: 141.921875px; height: 33px;\">Walking barefoot</td>\n<td style=\"width: 108.078125px; height: 33px;\">Not possible</td>\n<td style=\"width: 107px; height: 33px;\">Possible</td>\n</tr>\n<tr style=\"height: 27px;\">\n<td style=\"width: 141.921875px; height: 27px;\">Mobility</td>\n<td style=\"width: 108.078125px; height: 27px;\">Restricted</td>\n<td style=\"width: 107px; height: 27px;\">Allowed</td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 141.921875px; height: 36px;\">Dorsiflexion</td>\n<td style=\"width: 108.078125px; height: 36px;\">Absent</td>\n<td style=\"width: 107px; height: 36px;\">Present</td>\n</tr>\n<tr style=\"height: 0px;\">\n<td style=\"width: 141.921875px; height: 0px;\">\n<p>Inversion/Eversion</p>\n</td>\n<td style=\"width: 108.078125px; height: 0px;\">\n<p>Absent</p>\n</td>\n<td style=\"width: 107px; height: 0px;\">Present</td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 141.921875px; height: 36px;\">Squatting</td>\n<td style=\"width: 108.078125px; height: 36px;\">Not possible</td>\n<td style=\"width: 107px; height: 36px;\">Possible</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 141.921875px; height: 18px;\">Cost</td>\n<td style=\"width: 108.078125px; height: 18px;\">High</td>\n<td style=\"width: 107px; height: 18px;\">Low</td>\n</tr>\n</tbody>\n</table>\n<p>The above features make the&nbsp;<strong>Jaipur foot</strong>&nbsp;<strong>more suitable </strong>for&nbsp;the<strong> Indian scenario</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d521cf4faa3242c79096edce7c99cd4bx1280x1164.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/841c018cddb24b13bf76439e8318ec9cx1280x1164.JPEG"
    ]
  },
  {
    "text": "Which of the following is false regarding the instrument shown in the image?",
    "choices": [
      {
        "id": 1,
        "text": "It is used to irrigate the maxillary sinus"
      },
      {
        "id": 2,
        "text": "Direction of the tip is indicated by the hook outside"
      },
      {
        "id": 3,
        "text": "It is used for Trephination"
      },
      {
        "id": 4,
        "text": "It can be used for irrigation in Caldwell Luc  operation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The instrument is Rose's sinus douching cannula and it is not used for trephination (also known as trepanning or burr holing).</p>\n<p><strong>Rose&rsquo;s sinus douching cannula</strong>&nbsp;is used in the irrigation of maxillary sinus, which should already have a nasoantral window due to intranasal antrostomy or Caldwell&ndash;Luc operation.</p>\n<p>The direction of the tip is indicated by the hook outside.</p>\n<p><strong>Note:</strong></p>\n<p><strong>Trephination</strong>&nbsp;(also known as trepanning or burr holing) is a surgical intervention where a hole is drilled, incised, or scraped into the skull using simple surgical tools. Trephination of frontal sinus is done for acute frontal sinusitis if there is persistence or exacerbation of pain or pyrexia in spite of medical treatment for 48 h or if the lid swelling is increasing and threatening orbital cellulitis.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/090f027ec37242f9812b6756243304cc.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the instrument given in the image.",
    "choices": [
      {
        "id": 1,
        "text": "Mollison\u2019s mastoid retractor"
      },
      {
        "id": 2,
        "text": "Doyen's mouth gag"
      },
      {
        "id": 3,
        "text": "Lempert\u2019s endaural retractor"
      },
      {
        "id": 4,
        "text": "Jansen\u2019s mastoid retractor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image depicts <strong>Doyen's mouth gag </strong>used to keep the mouth open for intraoral surgery. It can be used when retraction of the tongue is not required or desirable.</p>\n<p>It is applied on one side of the mouth on molar teeth.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/31e352e5f97a41e0a5a0cfde498afb08.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cc8769169ba349839338ceccede45204x1280x1008.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/56a59f83e0c641c9a719e4d1a2c17e18x1280x1008.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d7d702e7afae4d4aaa40ca29008d307ex600x469.JPEG"
    ]
  },
  {
    "text": "Which among the following is false regarding the insertion of the tube shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Length to be inserted should be measured from angle of mouth to ear to xiphisternum"
      },
      {
        "id": 2,
        "text": "Severe midface trauma is a contraindication"
      },
      {
        "id": 3,
        "text": "Patient should be seated in upright position"
      },
      {
        "id": 4,
        "text": "Can be used for identification of cancer cells"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image is that of a nasogastric tube/ Ryles tube.&nbsp;The commonly used method to determine the length of a nasogastric tube is the <strong>NEX method</strong>: the tip of the nose to ear to xiphisternum.</p>\n<p>NEX method:</p>\n<ul>\n<li>Nose&ndash;Ear&ndash;Xiphisternum&nbsp;</li>\n<li>The tube length should be estimated before insertion.</li>\n<li>Place the exit port of the tube at the&nbsp;<strong>tip of the nose</strong>. Extend tube to the&nbsp;<strong>earlobe</strong>, and then to <strong>xiphisternum.</strong></li>\n</ul>\n<p>Indications:</p>\n<ul>\n<li>Aspiration of gastric fluid</li>\n<li>Identification of esophagus and stomach on chest X-ray</li>\n<li>Administration of radiographic contrast to GIT</li>\n<li>Gastric lavage cytology to identify cancer cells in gastric cancer patients</li>\n<li>Gastric decompression</li>\n<li>Feeding</li>\n<li>Administration of medication</li>\n<li>Bowel irrigation</li>\n</ul>\n<p>Inserting a Ryle's tube:</p>\n<p>Ryle's tube is inserted in the<strong> sitting position </strong>with the <strong>neck slightly flexed</strong>.</p>\n<p>Confirmation of the correct position is done by the following:</p>\n<ul>\n<li>Auscultation in the epigastric area while injecting a bolus of air</li>\n<li>X-ray chest</li>\n<li>Colorimetric capnography</li>\n</ul>\n<p>Approximate length<strong>: 120-125 </strong>cm</p>\n<p>The markings indicate the traversing of the tube through various parts of the GIT:</p>\n<ol>\n<li>40 cm: Cardia of the stomach</li>\n<li>50 cm: Body of the stomach</li>\n<li>60 cm: Pylorus</li>\n<li>70 cm: Duodenum</li>\n</ol>\n<p>Contraindications:</p>\n<p>Absolute:</p>\n<ul>\n<li>Severe midface trauma</li>\n<li>Recent nasal surgery</li>\n</ul>\n<p>Relative:</p>\n<ul>\n<li>Coagulation abnormality</li>\n<li>Esophageal varices (NG tube can be used for lower grade varices)</li>\n<li>Recent banding of esophageal varices</li>\n<li>Anastomoses in stomach and esophagus</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0ccf0356bfe94a5aa786cb26d8ea8f72.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is the color code of a 14F foley's catheter?",
    "choices": [
      {
        "id": 1,
        "text": "Green"
      },
      {
        "id": 2,
        "text": "Yellow"
      },
      {
        "id": 3,
        "text": "Red"
      },
      {
        "id": 4,
        "text": "Blue"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The colour code of a 14F foley's catheter is green.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following IV cannulae are preferably used in pediatric patients?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2"
      },
      {
        "id": 2,
        "text": "3 and 4"
      },
      {
        "id": 3,
        "text": "1 and 3"
      },
      {
        "id": 4,
        "text": "1 and 4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>3 (<strong>22G</strong>) and 4 (<strong>24G</strong>) can be used in <strong>pediatric patients.</strong></p>\n<p>In the above image, the cannulae numbered 1 to 4 are respectively,</p>\n<ol>\n<li><strong>18G</strong> - green,</li>\n<li><strong>20G</strong> - pink,</li>\n<li><strong>22G</strong> - blue,</li>\n<li><strong>24G</strong> - yellow.</li>\n</ol>\n<p>1 (<strong>18G</strong>) and 2 (<strong>20G</strong>) are used in <strong>adults</strong> for <strong>rapid fluid transfusion</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1cbeb7f9d9e24fa18543fe56455b11df.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The device shown in the given image is used for the monitoring of:",
    "choices": [
      {
        "id": 1,
        "text": "Oxygen content of the blood."
      },
      {
        "id": 2,
        "text": "Oxygen saturation."
      },
      {
        "id": 3,
        "text": "Partial pressure of oxygen."
      },
      {
        "id": 4,
        "text": "Partial pressure of carbon dioxide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image depicts a <strong>pulse oximeter</strong>. Pulse oximetry is used for <strong>monitoring pulse rate and oxygen saturation</strong> of a patient.</p>\n<p>A small sensor is placed on the finger, toe, earlobe, or another convenient place.</p>\n<p>The <strong>relative absorption of light by oxyhemoglobin</strong> (HbO) and deoxyhemoglobin is assessed by <strong>measuring the amount of red and infrared light emerging from tissues</strong> traversed by light rays and processed by the device, producing an oxygen saturation level.</p>\n<p>Pulse oximetry does <strong>not measure the absolute content or the partial pressures of oxygen or carbon dioxide</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bf03b9065c444de1a4851f504bfcee44.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The instrument shown in the image is used for _______",
    "choices": [
      {
        "id": 1,
        "text": "Measuring the degree of heterophoria"
      },
      {
        "id": 2,
        "text": "Testing color vision"
      },
      {
        "id": 3,
        "text": "Refining the power and axis of cylindrical lens"
      },
      {
        "id": 4,
        "text": "Measuring intraocular pressure"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows an<strong> anomaloscope,</strong> which is used for <strong>testing colour vision.</strong></p>\n<p>An anomaloscope is based on a <strong>colour match</strong>. On one side, you have a <strong>yellow color</strong> which can be adjusted in <strong>brightness</strong>. The other side consists of a <strong>red and a green light</strong> whereas the proportion of mixture is variable.</p>\n<p><strong>Jackson\u2019s cross cylinder (flip-cross technique);</strong>\u00a0used to refine the\u00a0<strong>power and axis of the cylindrical lens </strong>is shown below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6355239fc4e64a0fb5f35bb5d161065a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0372a10f374844d4aefab1e3ef7e451dx720x518.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2b49efb09e644acf8fbc80f860d08f16x600x695.JPEG"
    ]
  },
  {
    "text": "The apparatus shown below is used to estimate:",
    "choices": [
      {
        "id": 1,
        "text": "Free non-residual chlorine"
      },
      {
        "id": 2,
        "text": "Combined chlorine"
      },
      {
        "id": 3,
        "text": "Coliform count"
      },
      {
        "id": 4,
        "text": "Chlorine demand"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given image is that of\u00a0<strong>Horrock\u2019s apparatus</strong>\u00a0which is used to determine the <strong>chlorine demand</strong> of water.</p>\n<p>It consists of:</p>\n<ul>\n<li>6 white cups\u00a0of 200 ml each</li>\n<li>1 black cup\u00a0with a circular mark inside</li>\n<li>2 metal spoons -each holds 2g of bleaching powder</li>\n<li>7 glass stirring rods and 1 special pipette</li>\n<li>Two droppers</li>\n<li>Starch-iodide indicator solution</li>\n</ul>\n<div class=\"page\" title=\"Page 796\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The dose of bleaching powder required for disinfection of water can be calculated using this apparatus.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/873615f744184a04ac3ccc68ea52db3d.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the gas represented by the pin index shown in the image below.",
    "choices": [
      {
        "id": 1,
        "text": "Oxygen"
      },
      {
        "id": 2,
        "text": "Nitrous oxide"
      },
      {
        "id": 3,
        "text": "Air"
      },
      {
        "id": 4,
        "text": "Carbon Dioxide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given pin index of <strong>3, 5</strong> is specific for <strong>nitrous oxide</strong>.</p>\n<p>The Pin Index Safety System (PISS)&nbsp;facilitates the proper connection between a particular gas cylinder and the delivery system&nbsp;of the gases. It is designed to <strong>prevent incorrect connections</strong> between gas cylinders in the anesthesia workstation.</p>\n<p>The pin index of other gases is mentioned in the pearl below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3519bc549f234fa9bcc8223e3926c63d.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which among the following statements is false regarding the instrument shown in the image?",
    "choices": [
      {
        "id": 1,
        "text": "It is used to remove the products of conception"
      },
      {
        "id": 2,
        "text": "It is to be introduced with the blades open"
      },
      {
        "id": 3,
        "text": "Absence of catch minimizes uterine injury"
      },
      {
        "id": 4,
        "text": "It prevents the crushing of the conceptus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows <strong>ovum forceps</strong>.\u00a0It is to be introduced with the blades closed, to open up inside the uterine cavity, to grasp the products, and to take out the instrument with a slight rotatory movement.</p>\n<p>The rotatory movements not only facilitate detachment of the products from the uterine wall but also minimize the injury of the uterine wall if accidentally grasped.</p>\n<p><strong>Ovum Forceps</strong></p>\n<p>Identification - has got <strong>no catch</strong> and the blades are slightly bent and fenestrated. The absence of catch <strong>minimizes uterine injury</strong> if accidentally caught.</p>\n<p>It prevents the\u00a0<strong>crushing of the conceptus</strong>.</p>\n<p>The image given below shows a\u00a0<strong>sponge holding forceps.</strong> It is used to:</p>\n<ul>\n<li>Clean skin with a swab dipped in antiseptic solution during all operations</li>\n<li>Removing the laminated membrane and the daughter cysts during operation of the Hydatid cyst.</li>\n<li>Hold the fundus and Hartmann\u2019s pouch of gall bladder during cholecystectomy</li>\n<li>Swab an abscess cavity.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/84f3484984e646f49e7b7946ec1a27eb.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5b48fa2b6b674a0cbdc1753932d0c525x512x384.JPEG"
    ]
  },
  {
    "text": "Which among the following statements is false regarding the suture material shown in the image?",
    "choices": [
      {
        "id": 1,
        "text": "Can be used for securing drains externally"
      },
      {
        "id": 2,
        "text": "Braided and multifilamented"
      },
      {
        "id": 3,
        "text": "Can be used with vascular prosthesis"
      },
      {
        "id": 4,
        "text": "Absorbed slowly over 1 to 2 years"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image is that of silk suture material. Silk is black colored, multifilament, natural, braided, and non-absorbable suture material derived from the cocoon of the silkworm larva.</p>\n<p>Silk is not suitable for use with a vascular prosthesis or in tissues requiring prolonged approximation under stress. It is unsuitable for routine skin closure as there is an increased risk of infection and tissue reaction. It can be used for securing drains externally. Fibrous encapsulation of the suture occurs in 1 to 2 weeks and it is absorbed slowly over 1 to 2 years.</p>\n<p>Vicryl is violet colored absorbable suture material:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/27b24f9ef463420b9654402f4310a717.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5d33be97449342c5a89692d99693fd84x508x705.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/262cdabfad8b4c66b96fbff3b2be93f7x720x540.JPEG"
    ]
  },
  {
    "text": "The instrument shown in the image is used for _______",
    "choices": [
      {
        "id": 1,
        "text": "Measuring corneal thickness"
      },
      {
        "id": 2,
        "text": "Measuring intraocular pressure"
      },
      {
        "id": 3,
        "text": "Measuring proptosis"
      },
      {
        "id": 4,
        "text": "Measuring axial length"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shows\u00a0Hertel's exophthalmometer used to measure proptosis.</p>\n<p><strong>Exophthalmometry</strong>: measures protrusion of the apex of the cornea from the outer orbital margin (with the eyes looking straight ahead).</p>\n<p>An <strong>absolute protrusion of &gt;20 mm</strong> or a <strong>difference of </strong>&gt;<strong>2 mm between the two eyes </strong>is labeled as <strong>proptosis</strong>.</p>\n<p>Instruments used to measure proptosis:</p>\n<ul>\n<li><strong>Luedde exophthalmometer</strong></li>\n<li><strong>Hertel\u2019s exophthalmometer</strong>: The most common instrument used. Its advantage is that it <strong>measures both eyes simultaneously</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/39de294d8eb64acfa3a5febdffb2b77c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/30f24b33144b46329840ed753ec5025ax1280x951.JPEG"
    ]
  },
  {
    "text": "A 60-year-old patient is being taken up for a cervical discectomy. The surgeon had planned a posterior approach that required the patient to lie in a prone position under anesthesia. What is the advantage of the armored endotracheal tube required for this procedure?",
    "choices": [
      {
        "id": 1,
        "text": "Longer length"
      },
      {
        "id": 2,
        "text": "LASER resistance"
      },
      {
        "id": 3,
        "text": "Less kinking"
      },
      {
        "id": 4,
        "text": "Double lumen"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The advantage of an armored&nbsp;endotracheal tube is <strong>less kinking</strong>.</p>\n<p>Armored tubes (a.k.a. reinforced tubes,&nbsp;flexo-metallic tubes) are flexible, spiral wound tubes that are reinforced with&nbsp;metal coils. This minimizes kinking of the tube.</p>\n<p>They are useful in surgeries of <strong>head</strong> <strong>and</strong> <strong>neck</strong> and surgeries performed with the patient in the <strong>prone</strong> <strong>position</strong>.<br /><strong><br />Armored or Flexo-metallic endotracheal tube:</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e441c9d4f5c947ada75a996b1398509bx1280x1251.JPEG"
    ]
  },
  {
    "text": "The instrument in the given image is used to take the sample from:",
    "choices": [
      {
        "id": 1,
        "text": "Vaginal mucosa"
      },
      {
        "id": 2,
        "text": "Ectocervix"
      },
      {
        "id": 3,
        "text": "Endocervix"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The instrument in the given image is a\u00a0<strong>cytobrush</strong> which is used to take sample from the endocervix for Pap smear.</p>\n<p>Ayre\u2019s spatula is used to take sample from squamocolumnar junction.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1eaccfb5a7944b36aef5f9494c23d738.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which among the following statements is false regarding the scalpel blade shown below?",
    "choices": [
      {
        "id": 1,
        "text": "It can be used for dermatosurgery"
      },
      {
        "id": 2,
        "text": "It can be used for excision of sebaceous cyst"
      },
      {
        "id": 3,
        "text": "It is preferred for arteriotomy"
      },
      {
        "id": 4,
        "text": "It is used for incision and drainage"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The blade shown in the image is of the <strong>size 15 </strong>and is used for minor surgical procedures.</p>\n<p>The 11-blade is used for arteriotomy.</p>\n<p>Identification of 15-blade:</p>\n<ul>\n<li>Sharp tip</li>\n<li>Cutting edge: small and curved</li>\n</ul>\n<p>The 22-blade is often used for abdominal incisions.</p>\n<p>Uses of 15-scalpel blade:</p>\n<ul>\n<li>To make precise skin incisions in dermatosurgery</li>\n<li>Minor surgical procedures</li>\n<li>Select ocular procedures (15C blade)</li>\n<li>Select plastic surgery procedures (15C blade)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/976d7f8210f44e06829f68603fbdda8e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/99dc4525dff6421b94ce3d61c4b4039ex1280x1667.JPEG"
    ]
  },
  {
    "text": "Identify the instrument shown in the image below:",
    "choices": [
      {
        "id": 1,
        "text": "Suction cannula"
      },
      {
        "id": 2,
        "text": "Karman syringe"
      },
      {
        "id": 3,
        "text": "Gastric lavage aspirator"
      },
      {
        "id": 4,
        "text": "Mucus sucker"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above image shows disposable <strong>mucus</strong> <strong>sucker</strong>.</p>\n<p>It sucks out the mucus from the naso-oropharynx following the delivery of the head of the baby. Suction of oral cavity to be done before that of nose.</p>\n<p>The mucus should be sucked prior to the respiratory attempt, else the mucus may enter and block the tracheobronchial tree leading to <strong>asphyxia neonatorum.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d0d178346cb64f8fa6cc52ed39eb976c.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the instrument.",
    "choices": [
      {
        "id": 1,
        "text": "Evisceration spatula"
      },
      {
        "id": 2,
        "text": "Enucleation spoon"
      },
      {
        "id": 3,
        "text": "Chalazion clamp"
      },
      {
        "id": 4,
        "text": "Bone punch"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image is that of an <strong>enucleation spoon</strong>. This is identified by the <strong>central cleavage</strong> that engages the optic nerve in enucleation.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/000a61c4e91e45e7883c46f88bf906bc.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fe68252a67eb4119bd153087b976d528x1280x1227.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0bfc8291472b44eba0657118d2279130x1280x1439.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/550af3d01a1f4bc7b2c247183b8e0fd9x1280x1044.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0e3fc39ec5f5494bb00ff3648f522cd5x1280x1411.JPEG"
    ]
  },
  {
    "text": "The following instrument is:",
    "choices": [
      {
        "id": 1,
        "text": "Ballenger swivel knife"
      },
      {
        "id": 2,
        "text": "Killian\u2019s nasal gouge"
      },
      {
        "id": 3,
        "text": "Eves\u2019 tonsil snare"
      },
      {
        "id": 4,
        "text": "Leighton tonsillotome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 470\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The image is of a <strong>Ballenger swivel knife. </strong>It is used in the removal of septal cartilage in <strong>SMR</strong> (Submucosal resection) operation.</p>\n<p>The blade of the knife revolves automatically and changes direction when cutting the cartilage anteroposteriorly downwards and posteroanteriorly.&nbsp;Different sizes of blades are present. It can be used to harvest septal cartilage as a graft for reconstruction.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/99b940fd91a347de99166237a31367b1.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/22b299d5d9f94fb4bdf66512f88be916x1280x883.JPEG"
    ]
  },
  {
    "text": "Identify the following instrument.",
    "choices": [
      {
        "id": 1,
        "text": "Tilley\u2019s forceps"
      },
      {
        "id": 2,
        "text": "Asch\u2019s forceps"
      },
      {
        "id": 3,
        "text": "Walsham's forceps"
      },
      {
        "id": 4,
        "text": "Citelli\u2019s forceps"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows <strong>Walsham's forceps</strong>.\u00a0Walsham forceps are mainly used to reduce<strong>\u00a0the nasal bone fracture.</strong></p>\n<p>Other options:</p>\n<ul>\n<li><strong>Tilley\u2019s forceps</strong> are used for nasal packing, ear dressing, removal of foreign bodies from the nose. It has a box joint.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d6e425d080b545148dfe9bfb6826d7a4.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9f6db62248c149df8f84a71498e7c25bx720x403.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/80dad816f1b54098861a03dc7c64328bx1280x664.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/73b2d4fe58e44d51819896448d234282x1280x1056.JPEG"
    ]
  },
  {
    "text": "Which among the following statements is false regarding the device shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Spores of bacillus stearothermophilus act as control"
      },
      {
        "id": 2,
        "text": "Uses dry heat"
      },
      {
        "id": 3,
        "text": "Holding period 160 degree Celsius for 2 hours"
      },
      {
        "id": 4,
        "text": "Used to sterilise glassware"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image is that of a hot air oven.&nbsp;<strong>Spores of Clostridium tetani</strong> act as a control in a hot air oven.</p>\n<p><strong>Hot air oven: </strong></p>\n<ul>\n<li>It is a method of sterilization by<strong> dry heat.</strong></li>\n<li>Holding period of <strong>160&deg;C for 2 hours</strong> is used to sterilize glassware, swabs, glass syringes, scalpel, forceps, scissors.</li>\n<li>Cutting instruments in ophthalmic surgery &ndash; <strong>2 hours at 150&deg;C</strong>.</li>\n<li><strong>Spores of Clostridium tetani</strong> act as a control.</li>\n</ul>\n<p><strong>Autoclave machine:</strong></p>\n<ul>\n<li>Sterilization by <strong>moist heat.</strong></li>\n<li><strong>High penetrative power</strong></li>\n<li>Temperature - <strong>121&deg;C for 15 min</strong></li>\n<li><strong>Spores of Bacillus stearothermophilus</strong> acts as a&nbsp;<strong>control.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/344d3708031b467fa96ccdf379c552ca.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/13d4e8c7ae594766ab0f24dee013e96cx720x958.PNG"
    ]
  },
  {
    "text": "Which among the following is used in the study of corneal endothelium?",
    "choices": [
      {
        "id": 1,
        "text": "Pachymeter"
      },
      {
        "id": 2,
        "text": "Ophthalmometer"
      },
      {
        "id": 3,
        "text": "Keratometer"
      },
      {
        "id": 4,
        "text": "Specular microscopy"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Specular microscopy</strong> is the study of the <strong>corneal endothelium</strong> under very high magnification (100 times greater than slit-lamp biomicroscopy).</p>\n<p>The endothelium can be analyzed for cellular size, shape, density,&nbsp;and distribution. The healthy endothelial cell is a regular hexagon, and the normal cell density in a young adult is about 3000 cells/mm<sup>2</sup>.</p>\n<p>A <strong>keratometer (ophthalmometer)</strong> measures the <strong>curvature of the anterior surface of the cornea</strong> at two points about 1.25 mm on either side of its center.</p>\n<p>A <strong>pachymeter</strong> measures the <strong>corneal thickness.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old man with chronic sinusitis undergoes the following procedure to relieve him of his symptoms. Which of the following instruments is required to carry out this procedure?",
    "choices": [
      {
        "id": 1,
        "text": "Tilley\u2013Lichtwiz trocar"
      },
      {
        "id": 2,
        "text": "Tilley\u2019s harpoon"
      },
      {
        "id": 3,
        "text": "Nasal snare"
      },
      {
        "id": 4,
        "text": "Tilley\u2019s antral burr"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 423\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 1550\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The procedure is <strong>proof puncture (antral lavage)</strong> which uses <strong>Tilley-Lichwitz trocar and cannula</strong>. They are used for the puncture of the lateral wall of the inferior meatus at a point 1.5-2.0cm from the anterior end of the inferior turbinate, near the attachment of concha with the lateral wall.</p>\n<p>Tilley&ndash;Lichtwiz trocar and cannula:</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4b9ca648d5de4b63a579a2ac2518ed5f.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1175a1f638654449809a98e5f0c9709bx1280x745.JPEG"
    ]
  },
  {
    "text": "Identify the instrument shown below:",
    "choices": [
      {
        "id": 1,
        "text": "Minnesota tube"
      },
      {
        "id": 2,
        "text": "Sengstaken Blakemore tube"
      },
      {
        "id": 3,
        "text": "Linton nachlas tube"
      },
      {
        "id": 4,
        "text": "Ryle\u2019s tube"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows a Sengstaken-Blakemore tube.</p>\n<p><strong>Sengstaken-Blakemore tube</strong> has 3 lumen.</p>\n<p>It has ports for gastric and esophageal balloons and a gastric aspiration port.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7b39f88554f6429194bd699213da201f.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/23bd9aa8dddd446b9c3542f5671ab2a0x1280x1216.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9e0404828b594ac9bff81956e60e56fdx1280x1126.JPEG"
    ]
  },
  {
    "text": "Identify the given instrument shown below.",
    "choices": [
      {
        "id": 1,
        "text": "Malleolar screw"
      },
      {
        "id": 2,
        "text": "Cancellous screw"
      },
      {
        "id": 3,
        "text": "Cortical screw"
      },
      {
        "id": 4,
        "text": "Steinmann pin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given instrument is a <strong>cortical screw.</strong></p>\n<p>Identification points for the screws are:</p>\n<ul>\n<li>Cortical screw: Threaded whole length, <strong>smaller thread, low pitch</strong>, compression produced by <strong>over drilling proximal cortex</strong></li>\n<li>Cancellous screw: <strong>Larger thread, high pitch</strong>, compression by <strong>partial threading </strong>with a<strong> blunt tip</strong></li>\n<li>Malleolar screw: Modified cancellous screw with a&nbsp;<strong>sharp-pointed tip</strong></li>\n</ul>\n<p>Most orthopedic implants are made of <strong>titanium</strong>-based alloys because they are highly resistant to corrosion.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/eb69d048e9424960ac07a7a9118d7c14.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2fe729782c1644d8a16c6fb7869213b1x387x480.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/95bd3c4b7cad46abbbc4dc7bf0604beex387x480.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6ce83eebe4214e00944f9c08212f52dex387x480.JPEG"
    ]
  },
  {
    "text": "Identify the correct statement regarding the instrument shown below.",
    "choices": [
      {
        "id": 1,
        "text": "It is a blunt-type spinal needle."
      },
      {
        "id": 2,
        "text": "It splits the dura."
      },
      {
        "id": 3,
        "text": "The incidence of post-dural puncture headache is high."
      },
      {
        "id": 4,
        "text": "It is technically more challenging to use."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shown is the<strong>&nbsp;Quincke needle</strong>&nbsp;that is used in <strong>spinal anesthesia</strong>. Its use is associated with a high incidence of <strong>post-dural puncture headache (PDPH)</strong> due to CSF leak.</p>\n<p>The Quincke needle is a <strong>cutting needle</strong> with an end injection.</p>\n<p>Types of <strong>spinal needles</strong>:</p>\n<table style=\"width: 345.833px; height: 467px;\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr style=\"height: 55px;\">\n<td style=\"width: 161px; height: 55px;\" valign=\"top\">\n<p><strong>Cutting needle</strong></p>\n</td>\n<td style=\"width: 176.833px; height: 55px;\" valign=\"top\">\n<p><strong>Non-cutting (splitting, pencil point, blunt) needle</strong></p>\n</td>\n</tr>\n<tr style=\"height: 62.96875px;\">\n<td style=\"width: 161px; height: 62.9688px;\" valign=\"top\">\n<p>Cut the dura</p>\n</td>\n<td style=\"width: 176.833px; height: 62.9688px;\" valign=\"top\">\n<p>Split the dura</p>\n</td>\n</tr>\n<tr style=\"height: 121px;\">\n<td style=\"width: 161px; height: 121px;\" valign=\"top\">\n<p>Hence,&nbsp;<strong>higher incidence</strong> of post-dural puncture headache (PDPH) due to CSF leak</p>\n</td>\n<td style=\"width: 176.833px; height: 121px;\" valign=\"top\">\n<p>Hence, lower incidence of PDPH</p>\n</td>\n</tr>\n<tr style=\"height: 121px;\">\n<td style=\"width: 161px; height: 121px;\" valign=\"top\">\n<p><strong>Technically less challenging</strong> as loss of resistance is well appreciated during lumbar puncture</p>\n</td>\n<td style=\"width: 176.833px; height: 121px;\" valign=\"top\">\n<p>Technically more challenging as loss of resistance is not well appreciated</p>\n</td>\n</tr>\n<tr style=\"height: 77px;\">\n<td style=\"width: 161px; height: 77px;\" valign=\"top\">\n<p>E.g.<strong>&nbsp;Quincke-Babcock, Pitkin</strong></p>\n</td>\n<td style=\"width: 176.833px; height: 77px;\" valign=\"top\">\n<p>E.g.<strong>&nbsp;Whitacre, Sprotte</strong></p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>The illustration given below shows the tips of various spinal needles.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/db7f12d660f04fd7a5cdcd1b0cc13f52.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4ba3388cd5174558a29592da218e6f78x1024x700.jpeg",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9465fea696a44140948749a8f1701118x1024x700.jpeg",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/36fe42c0bb254976a6f25b382bd450ccx473x352.PNG"
    ]
  },
  {
    "text": "The following instrument is used for all except:",
    "choices": [
      {
        "id": 1,
        "text": "Removal of embedded IUD"
      },
      {
        "id": 2,
        "text": "Check curettage after MTP"
      },
      {
        "id": 3,
        "text": "Uterine length measurement"
      },
      {
        "id": 4,
        "text": "Blunt curettage in abortions"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p class=\"p1\">The image shows a <strong>double-ended&nbsp;uterine curette </strong>with a sharp and a blunt end. It is not used in uterine length measurement.</p>\n<p class=\"p1\">Uterine length measurement is done with a&nbsp;<strong>uterine sound </strong>which is&nbsp;given below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/53962ca27db5469ea2d9e2835931db94.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/55f2a924490043fbb5000c349a7b19c4x1280x819.JPEG"
    ]
  },
  {
    "text": "The instrument shown below is used for liver biopsy. Which of the following is the most common complication associated with the procedure?",
    "choices": [
      {
        "id": 1,
        "text": "Pain"
      },
      {
        "id": 2,
        "text": "Free intraperitoneal bleed"
      },
      {
        "id": 3,
        "text": "Hemobilia"
      },
      {
        "id": 4,
        "text": "Bile peritonitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given instrument is a liver biopsy<strong>&nbsp;</strong>needle. It has a bifid needle. The most common complication of liver biopsy is pain.</p>\n<p>Pain is most common at the biopsy site or right shoulder (often indicates subcapsular hematoma). In most patients pain is relieved by analgesics.</p>\n<p>Liver biopsy:</p>\n<ul>\n<li>Indications\n<ul>\n<li>Evaluation of abnormal LFT</li>\n<li>Suspected hepatic neoplasm</li>\n<li>Diagnosis of cholestatic liver disease</li>\n<li>Evaluation of infiltrative or granulomatous disease</li>\n<li>Following a case of liver transplantation</li>\n<li>To evaluate unexplained jaundice or suspected drug reaction</li>\n</ul>\n</li>\n<li>Contraindications\n<ul>\n<li>Increased prothrombin time (PT), INR&gt; 1.6</li>\n<li>Thrombocytopenia</li>\n<li>Ascites</li>\n<li>Difficult body habitus</li>\n<li>Suspected hemangioma</li>\n<li>Suspected echinococcal infection</li>\n<li>Uncooperative patient</li>\n</ul>\n</li>\n<li>Complications\n<ul>\n<li>Pain (most common)</li>\n<li>Bleeding: Intraperitoneal, intrahepatic, subcapsular, hemobilia</li>\n<li>Bile peritonitis</li>\n<li>Bacteremia</li>\n<li>Sepsis and abscess formation</li>\n<li>Pneumothorax</li>\n<li>Haemothorax</li>\n<li>Arteriovenous fistula</li>\n</ul>\n</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/90241c16a6914821b475a94ccf749885.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which among the following statements is false regarding the instrument shown below?",
    "choices": [
      {
        "id": 1,
        "text": "If used early reduces cardiac output"
      },
      {
        "id": 2,
        "text": "It is to be removed 48 hours after birth"
      },
      {
        "id": 3,
        "text": "Delayed clamping should be avoided in Rh- pregnancy"
      },
      {
        "id": 4,
        "text": "Increases iron stores in the baby"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows an <strong>umbilical cord clamp</strong>. It should <strong>be kept in place until it falls off</strong> with the detached stump of the umbilical cord.</p>\n<p>It is made of plastic and supplied in a <strong>sterile pack.</strong> It <strong>occludes</strong> the <strong>umbilical</strong> <strong>vessels</strong> effectively. In preterm infants, delayed clamping may improve transitional circulation, establish better red blood cell volume, reduce the need for blood transfusion and <strong>reduce</strong> the <strong>risk</strong> of <strong>necrotizing</strong> <strong>enterocolitis</strong> and <strong>intraventricular</strong> <strong>haemorrhage</strong>. It should be <strong>delayed</strong> by <strong>30-60 seconds</strong> after birth.</p>\n<p>Other options:</p>\n<p>Option A: If performed <strong>early</strong> <strong>reduces</strong> <strong>cardiac</strong> <strong>output</strong> owing to <strong>reduced</strong> <strong>preload</strong> to the left ventricle whereas if performed <strong>late</strong> permits <strong>sufficient</strong> <strong>aeration</strong> of the <strong>lung</strong> and improved / <strong>smoother</strong> <strong>transitioning</strong> to a <strong>better</strong> <strong>cardiac</strong> <strong>output</strong>.</p>\n<p>Option C:<strong> Early</strong> <strong>cord</strong> <strong>clamping</strong> is <strong>advised</strong> in <strong>Rh</strong>-<strong>negative</strong> <strong>pregnancy</strong>, babies with asphyxia, or infants of diabetic mothers. Early clamping can also reduce the need for phototherapy due to hyperbilirubinemia.\u00a0</p>\n<p>Option D: Delayed umbilical cord clamping in term infants will <strong>increase haemoglobin</strong> levels at birth and <strong>improve</strong> <strong>iron</strong> stores for the <strong>first few months</strong>. This may have a favourable effect on developmental outcomes.</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/354d6dca4aeb4d92aeea3dc30af350b8.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The instrument shown in the image is used for:",
    "choices": [
      {
        "id": 1,
        "text": "Correcting asynctilism"
      },
      {
        "id": 2,
        "text": "Delivery of occipitotransverse position in platypelloid pelvis"
      },
      {
        "id": 3,
        "text": "Delivery of after coming head in breech delivery"
      },
      {
        "id": 4,
        "text": "Outlet forceps used to provide traction force"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The image shows<strong>\u00a0Wrigley's forceps,</strong> which is an <strong>outlet forceps</strong> used to <strong>provide traction force</strong>.</p>\n<p><strong>\u00a0Wrigley's forceps</strong>\u00a0are used exclusively in outlet forceps operations for the extraction of the head. It is used to provide traction force. The instrument is light and short due to a reduction in the length of the shanks and handles. It has a marked cephalic curve with a slight pelvic curve.\u00a0Outlet forceps are used when:</p>\n<ul>\n<li>The fetal scalp is visible without separating the labia</li>\n<li>The fetal skull has reached the pelvic floor, at or on the perineum</li>\n<li>The sagittal suture is in the anteroposterior diameter or right or left occiput anterior or posterior position (rotation does not exceed 45\u00b0)</li>\n</ul>\n<p>Other options:</p>\n<p>Option A:\u00a0<strong>Kielland forceps\u00a0</strong>are used in correcting <strong>asynctilism</strong>.</p>\n<p>Option B:\u00a0<strong>Barton forceps\u00a0</strong>are\u00a0used for delivery of <strong>occipitotransverse positions</strong> in a platypelloid pelvis.</p>\n<p>Option C:\u00a0<strong>Piper forceps\u00a0</strong>have a distinct perineal curve and allows for application to the\u00a0<strong>after-coming head </strong>in <strong>breech delivery.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/abb23716627e419497c85ac0f8ea11a8.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The instrument shown below is used for:",
    "choices": [
      {
        "id": 1,
        "text": "Creating pneumoperitoneum"
      },
      {
        "id": 2,
        "text": "Arthrocentesis"
      },
      {
        "id": 3,
        "text": "Bone marrow biopsy"
      },
      {
        "id": 4,
        "text": "Liver biopsy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given instrument is <strong>Veress Needle</strong>.\u00a0It is used to produce a <strong>pneumoperitoneum</strong> in\u00a0<strong>direct puncture laparoscopy.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1d47959a1d29461bbca91e5d33f148b3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e11c12fd974b4d4ea796acb0994e429bx1280x964.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1fd8eff4edb74ac0b40aeb2e3e78ccb3x281x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2c5b304fff6e4e68b934c7b67767a750x720x368.JPEG"
    ]
  },
  {
    "text": "What is the most effective circuit for anaesthesia under spontaneous breathing?",
    "choices": [
      {
        "id": 1,
        "text": "Mapleson A"
      },
      {
        "id": 2,
        "text": "Mapleson B"
      },
      {
        "id": 3,
        "text": "Mapleson C"
      },
      {
        "id": 4,
        "text": "Mapleson D"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most effective circuit for anesthesia under <strong>spontaneous</strong> breathing is <strong>Mapleson A</strong> or <strong>Magill's circuit</strong>.</p>\n<p>When the Mapleson A circuit is used for spontaneous ventilation, the fresh gas flow rate of the circuit is closest to the physiological minute ventilation of the patient. Hence it is preferred over other circuits.<br /><br /></p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the given instrument.",
    "choices": [
      {
        "id": 1,
        "text": "Wedge osteotome"
      },
      {
        "id": 2,
        "text": "Kocher\u2019s thyroid dissector"
      },
      {
        "id": 3,
        "text": "Periosteal elevator"
      },
      {
        "id": 4,
        "text": "Uterine curette"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows <strong>Kocher&rsquo;s thyroid dissector</strong> which is used during a thyroidectomy to<strong> dissect </strong>the<strong> upper pole </strong>of the thyroid.</p>\n<p>The instrument is blunt and therefore damage to the superior thyroid artery or external laryngeal nerve is unlikely.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/967f9ef2df634de68b00c378a8d0b1d1.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Currently, the kata thermometer is used to measure only:",
    "choices": [
      {
        "id": 1,
        "text": "Humidity of air"
      },
      {
        "id": 2,
        "text": "Low air velocities"
      },
      {
        "id": 3,
        "text": "Direction of air flow"
      },
      {
        "id": 4,
        "text": "Cooling power of air"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A <strong>kata thermometer</strong> was originally devised to measure the cooling power of air but is now only used to measure <strong>low air velocities</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the device shown in the image:",
    "choices": [
      {
        "id": 1,
        "text": "Knuckle bender splint"
      },
      {
        "id": 2,
        "text": "Dynamic finger splint"
      },
      {
        "id": 3,
        "text": "Colle's cast"
      },
      {
        "id": 4,
        "text": "Cock-up splint"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image shows a knuckle bender splint used for claw hand (ulnar nerve palsy).</p>\n<p>Other options:</p>\n<ul>\n<li>Dynamic finger splint:</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/00bf5d5a90624fb8994024f5be1f9637.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b4097bb9a3aa4a9ba3d409acd0469620x1280x1395.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fc4bcbbd76c649d4a5e41694b7380ad5x1280x1162.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c65a816655d04d219fde4f2a7a2f1bc8x1280x1075.JPEG"
    ]
  },
  {
    "text": "The  instrument shown in the image is used in :",
    "choices": [
      {
        "id": 1,
        "text": "Hysterectomy"
      },
      {
        "id": 2,
        "text": "Hysterosalpingography"
      },
      {
        "id": 3,
        "text": "Open myomectomy"
      },
      {
        "id": 4,
        "text": "Laparoscopic myomectomy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p class=\"p1\">The given image shows a <strong>Bonney's myomectomy clamp</strong> which is used in <strong>open myomectomy</strong>.</p>\n<p class=\"p1\">It has two sets of finger grips and a locking rachet mechanism.</p>\n<p class=\"p1\">It helps in controlling hemorrhage during the surgery. The clamp should be applied from the pubic end of the abdominal wound and round ligaments that contain uterine vessels should be gripped.</p>\n<p class=\"p1\"><strong>Doyen Myoma Screw </strong>is also used in<strong> open myomectomy</strong>.</p>\n<p class=\"p1\">Other options:</p>\n<p class=\"p1\"><strong>Hysterosalpingography (HSG)</strong> is an imaging technique used to visualise the uterine cavity and fallopian tubes by injecting a radiopaque dye.10-15ml of the dye is injected using a Leech-Wilkinson cannula, Rubin's cannula, or Foley's catheter. If the tubes are patent, the dye will spill out of the tubal ostia and smear the adjacent bowel.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6c718f6c528f4c50ac0c253e7866fcc0.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5e95f2bd2ec442f3a060d86522706686x1279x796.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b800645d3b66410496c50100808a277dx600x468.JPEG"
    ]
  },
  {
    "text": "Identify the instrument used in thyroid surgery, shown below.",
    "choices": [
      {
        "id": 1,
        "text": "Travers retractor"
      },
      {
        "id": 2,
        "text": "Spencer Wells retractor"
      },
      {
        "id": 3,
        "text": "Joll retractor"
      },
      {
        "id": 4,
        "text": "Dyball retractor"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The instrument shown in the image above is Joll retractor. Joll retractor is a <strong>self-retaining retractor </strong>used in<strong> thyroid </strong>surgery.</p>\n<p><strong>Travers retractor</strong> is a<strong> self-retaining</strong> retractor used for <strong>herniorrhaphy</strong>, groin dissection for varicose veins, and femoral embolectomy.</p>\n<p>Travers Retractor:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/db11d4eddd804270ad00d0684553b6c3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/01f56088863349fcbfae75461bd1a8aax1280x859.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ecbc33dfd035487b9a632124f1b48750x1280x966.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/da360363ebe740348e668b4cf0895475x400x400.PNG"
    ]
  },
  {
    "text": "Which among the following statements is false regarding the instrument shown below?",
    "choices": [
      {
        "id": 1,
        "text": "It is the safest in procedures close to vital structures"
      },
      {
        "id": 2,
        "text": "It can be used for coagulation"
      },
      {
        "id": 3,
        "text": "It can be used for cutting"
      },
      {
        "id": 4,
        "text": "There is more thermal dissipation of current"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>From the <strong>single-tipped electrode</strong> in the cautery image shown below, we can identify the instrument is a <strong>unipolar cautery.&nbsp;</strong>The false statement is option A. Due to a&nbsp;<strong>high thermal spread</strong>&nbsp;in<strong> unipolar cautery</strong>, it is <strong>not the safest</strong> instrument during procedures<strong> close to vital structures.</strong> The vitals structures are at risk of thermal injury with this instrument.&nbsp;</p>\n<p><strong>Electrosurgery</strong> is the use of high-frequency currents to cut or coagulate tissue during surgery. It can be performed using:</p>\n<ul>\n<li><strong>Monopolar</strong> or <strong>unipolar</strong> cautery:&nbsp;consists of a <strong>single electrode tip</strong></li>\n<li><strong>Bipolar</strong> cautery: consists of&nbsp;<strong>two electrode tips</strong> in the form of <strong>scissors, graspers</strong>, etc.&nbsp;</li>\n</ul>\n<p>Other options</p>\n<p>Option B: It is true that <strong>unipolar cautery </strong>can be <strong>used for coagulating tissue</strong>. The two main settings in unipolar and bipolar cautery are:</p>\n<ul>\n<li>Coagulation mode: Blue button in the&nbsp;image above.</li>\n<li>Cutting mode: Yellow button&nbsp;in the&nbsp;image above</li>\n</ul>\n<p>In the <strong>coagulation</strong> mode, a <strong>high-voltage current</strong> is produced that spreads over a <strong>greater surface area.</strong> This helps to produce a <strong>dehydration effect</strong> on the tissues and is very useful when trying to <strong>stop the bleeding</strong> from nicked vessels during surgery.&nbsp;</p>\n<p>Option C: It is true, as mentioned above<strong>&nbsp;</strong>that <strong>unipolar cautery</strong> can be used for <strong>cutting tissue.</strong>&nbsp;Cutting mode produces&nbsp;a <strong>low voltage current</strong> that acts on a<strong> smaller surface area</strong>. This makes it <strong>more effective in heating</strong> the tissue than in the coagulation mode. The <strong>thermal spread</strong> will also be <strong>less</strong> than the coagulation mode, making it safer.&nbsp;</p>\n<p>Option D: It is<strong> true</strong> that <strong>monopolar cautery </strong>produces <strong>more thermal dissipation </strong>of <strong>current.&nbsp;</strong></p>\n<p>The image below shows the unipolar and bipolar cautery-</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8c334873be16493aac8aafac0b4f4eab.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9aa68f4dba1e47aeb48acb787dc25444x1280x2599.JPEG"
    ]
  },
  {
    "text": "Identify the instrument given below:",
    "choices": [
      {
        "id": 1,
        "text": "Babcock\u2019s forceps"
      },
      {
        "id": 2,
        "text": "Allis tissue forceps"
      },
      {
        "id": 3,
        "text": "Lane\u2019s tissue holding forceps"
      },
      {
        "id": 4,
        "text": "Kocher\u2019s hemostatic forceps"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows Allis tissue forceps.</p>\n<p><strong>Allis tissue forceps</strong></p>\n<ul>\n<li>Distal blades are not opposing each other</li>\n<li>The tip has got teeth in each blade which are opposing</li>\n<li>Lock in the proximal part</li>\n</ul>\n<p><strong>Uses:</strong></p>\n<ul>\n<li>Hold Skin flaps, Fascia, Aponeurosis, Bladder wall.</li>\n</ul>\n<p>Image below shows <strong>Babcock\u2019s forceps</strong> where:</p>\n<ul>\n<li>The distal part of distal blade is curved with a triangular fenestra which allows soft tissues to bulge out.</li>\n<li>The tip is nontraumatic with transverse serrations on it.</li>\n<li>It has got a lock in the proximal part.</li>\n</ul>\n<p>Uses:</p>\n<ul>\n<li>Hold any part of Bowel, Fallopian tube, Appendix, Ureter, Cord, etc.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5f9b850822664bf0b7dbb198784635ff.JPEG"
    ],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/2e66ac15f41c42e6a7298a76133acc3fx607x242.PNG",
      "https://cdn1.dailyrounds.org/uploads/d2546ad9477d4783855891745d93cbc4x610x305.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/df3afcee8d9f4e8db4f2887b620b4e18x1280x960.JPEG"
    ]
  },
  {
    "text": "Identify the function of the instrument shown in the image below:",
    "choices": [
      {
        "id": 1,
        "text": "Drainage of urine"
      },
      {
        "id": 2,
        "text": "Dilation of cervix"
      },
      {
        "id": 3,
        "text": "Measurement of cervical length"
      },
      {
        "id": 4,
        "text": "Insufflation of dye in hysterosalpingography"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The instrument shown is a Hegar\u2019s double ended dilator that is used to dilate the cervix in procedures such as dilatation and curettage.</p>\n<p><strong>Other options</strong>:</p>\n<p>Metal catheter used to drain urine is shown below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9a57e5cfae91482f8a9ea51083ac9d96.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1a5758db0d6b492ba8268bf9d1b7ad93x360x270.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a4516c2212874dc1812236e41ee60a32x360x220.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1a5226c19436405ea5bd7dbd5dc0c4dax360x145.JPEG"
    ]
  },
  {
    "text": "What is the following instrument used to measure?",
    "choices": [
      {
        "id": 1,
        "text": "Humidity"
      },
      {
        "id": 2,
        "text": "Air velocity"
      },
      {
        "id": 3,
        "text": "Radiant heat"
      },
      {
        "id": 4,
        "text": "Air pollution index"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image given is that of an <strong>Assmann psychrometer</strong> which is used to measure <strong>humidity.</strong></p>\n<p>They consists of two thermometers each inside a double tube for minimizing radiative heating.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fde9eb03dbce4743815f877b7934331b.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the instrument given below.",
    "choices": [
      {
        "id": 1,
        "text": "Cuffed tracheostomy tube"
      },
      {
        "id": 2,
        "text": "Single-lumen uncuffed tracheostomy tube"
      },
      {
        "id": 3,
        "text": "Fuller\u2019s tracheostomy tube"
      },
      {
        "id": 4,
        "text": "Jackson\u2019s tracheostomy tube"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The instrument shown in the image is <strong>Jackson&rsquo;s double-lumen metal tracheostomy tube</strong>.</p>\n<p>It has an outer tube, an inner tube, and an obturator (not shown in the image). The outer tube is not split, the inner tube can be fixed to the shield of the outer tube by a lock.</p>\n<p>Other options:</p>\n<ul>\n<li>Cuffed tracheostomy tube:</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ecc2f90fa68940048b72465f500ca64d.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e46742e0a767456489ed71a7d851b0dex1280x960.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/80659ca9368347d78b0e5ad5f0f3e2a9x642x483.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e17a112ffefb47c2997d64c5c8bf9cf8x642x483.JPEG"
    ]
  },
  {
    "text": "The equipment shown in the picture below is used to treat ____________",
    "choices": [
      {
        "id": 1,
        "text": "Fracture tibia"
      },
      {
        "id": 2,
        "text": "Fracture neck of humerus"
      },
      {
        "id": 3,
        "text": "Fracture lateral malleolus"
      },
      {
        "id": 4,
        "text": "Shaft of femur fracture"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The image shows Thomas splint which is used in the treatment of fracture shaft of the femur.</p>\n<p>It is also used as a first-aid measure.</p>\n<p>It is used for the transportation of injured patients and in joint diseases like tuberculosis of the knee.</p>\n<p>Identification:</p>\n<ul>\n<li>It has a padded metal oval ring set at an angle of 120 degree to inner bar</li>\n<li>It has two sidebars, the outer bar is longer than inner bar</li>\n<li>Distal end is w shaped.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a4a912e671b84604a9f177c8507d0262.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/288ef67d692547a194e4e1933b7fde7cx1280x1895.JPEG"
    ]
  },
  {
    "text": "Identify the condenser in the following image.",
    "choices": [
      {
        "id": 1,
        "text": "Above the stage"
      },
      {
        "id": 2,
        "text": "Below the stage"
      },
      {
        "id": 3,
        "text": "Near the eyepiece"
      },
      {
        "id": 4,
        "text": "Above the objective lenses"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This is a modern <strong>compound microscope,</strong> and the condenser is located<strong> below the stage.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7ff62277586e4d888e78c475ea63dc96.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/abe685cceae541b586b31df0d6b9d8d7x600x619.JPEG"
    ]
  },
  {
    "text": "Identify the procedure shown in the image performed in a patient prior to undergoing cataract surgery:",
    "choices": [
      {
        "id": 1,
        "text": "Slit lamp biomicroscopy"
      },
      {
        "id": 2,
        "text": "Humphrey field analyser"
      },
      {
        "id": 3,
        "text": "Optical coherence biometry"
      },
      {
        "id": 4,
        "text": "A-scan ultrasonographic biometry"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given image shows <strong>A-scan ultrasonography</strong>. It is used for determining the <strong>axial length</strong> and can be acquired by direct contact (as shown in the image) or by using a water bath over the eye (immersion ultrasonography).</p>\n<p>The sound beam must be aligned with the visual axis for maximal precision. Each reflecting surface is represented by a spike on the oscilloscope monitor.</p>\n<p>The most widely used formula for intraocular lens power calculation is the Sanders-Retzlaff-Kraff formula, given by</p>\n<p><strong>E\u00a0= A - 2.5L - 0.9K</strong></p>\n<p>The value of L, which is the <strong>axial length</strong> of the eyeball is calculated using the\u00a0<strong>A-scan ultrasonographic biometry</strong></p>\n<p>E is the emmetropic power designated for the eye\u00a0</p>\n<ul>\n<li>A is a <strong>constant</strong> which is specific for each lens type.</li>\n<li>L is the <strong>axial length of the eyeball in mm</strong> determined using the <strong>A-scan ultrasonography.</strong></li>\n<li>K is the <strong>average corneal curvature</strong>, which is determined by <strong>keratometry</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/000c317fd2bc46b8a7f60c0dce9d8c30.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is true regarding the mirrors used at two ends of the instrument given in the image?",
    "choices": [
      {
        "id": 1,
        "text": "Plane at both ends"
      },
      {
        "id": 2,
        "text": "Plane at one and concave at other end"
      },
      {
        "id": 3,
        "text": "Plane at one and convex at other end"
      },
      {
        "id": 4,
        "text": "Convex at one end and concave at other"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image is of the\u00a0<strong>Priestley-Smith retinoscope. </strong>It\u00a0is a mirror retinoscope and has a <strong>plane mirror at one end and concave at other</strong>.</p>\n<p>It has a central hole of about 2.5mm anteriorly and 4mm posteriorly.</p>\n<p>Retinoscopy is also called a skiascopy/ shadow test. It is used to <strong>estimate refraction</strong> objectively. The instruments used are:</p>\n<ul>\n<li>Priestley-Smith retinoscope</li>\n<li>Streak retinoscope: It is self-illuminated and projects a streak rather than a circle of light.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1144dbe9202540b1b8ec621f3291af16.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The instrument shown below is placed in front of the left eye with cylinders in the horizontal direction. The patient is asked to fixate on a point source of light. The patient sees a vertical line and a white light. The white light is seen on the right side of the line. What does this indicate?",
    "choices": [
      {
        "id": 1,
        "text": "Exophoria"
      },
      {
        "id": 2,
        "text": "Esophoria"
      },
      {
        "id": 3,
        "text": "Orthophoria"
      },
      {
        "id": 4,
        "text": "Hypophoria"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above instrument is a Maddox rod. It consists of a series of fused cylindrical red glass rods. It is used to <strong>measure the degree of heterophoria or heterotropia in cases of torsional diplopia. </strong>The given test result is suggestive of esophoria.</p>\n<p><strong>Maddox Rod Test:</strong></p>\n<ul>\n<li>It involves the use of a <strong>Maddox rod and the Maddox tangent scale.</strong></li>\n<li>It uses a specially constructed device, consisting of a series of parallel cylinders, that converts a point source of light into a line image.</li>\n<li>A patient is asked to fix on a point light 6 meters away.</li>\n<li>The optical properties of the cylinders cause the streak of light to be situated 90&deg; to the orientation of the parallel cylinders.</li>\n<li>Because fusion is precluded by the Maddox rod, heterophorias, and heterotopias cannot be differentiated.</li>\n<li>The Maddox rod can be used to test for horizontal and vertical deviations, and when used in conjunction with another Maddox rod, for cyclo-deviations.</li>\n</ul>\n<p><strong>Interpretation of the Test:</strong></p>\n<ul>\n<li>To test for horizontal deviations, the Maddox rod is placed in front of one eye (for this example, <strong>the left eye</strong>) with the <strong>cylinders in the horizontal direction.</strong></li>\n<li>The patient fixates a point source of light and then sees a <strong>vertical line with the left eye and white light with the right eye</strong>.</li>\n<li>If the light superimposes the line, orthophoria is present.</li>\n<li>If&nbsp;<strong>the light is on the left side of the line,</strong> it is an<strong> exo-deviation; </strong>and if the light was <strong>on the right side of the line</strong>, an <strong>esodeviation </strong>would be present.</li>\n</ul>\n<p><strong>Orthophoria:</strong>&nbsp;Perfect ocular alignment in the absence of any stimulus for fusion</p>\n<p><strong>Hypophoria:</strong>&nbsp;Downward imbalance</p>\n<p><strong>Hyperphoria</strong>: Upward imbalance</p>\n<p><strong>Exophoria:</strong>&nbsp;Outward imbalance</p>\n<p><strong>Esophoria:</strong>&nbsp;Small inward imbalance</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a198efebdb5247aeabe5dc151ba786f7.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a62c9ad5b9c445cda09ed55dc2211aefx1280x2324.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bbda8d0fba604192aed707639ecc42a2x1280x2108.JPEG"
    ]
  },
  {
    "text": "Identify the instrument given below.",
    "choices": [
      {
        "id": 1,
        "text": "Periosteal elevator"
      },
      {
        "id": 2,
        "text": "Bone curette"
      },
      {
        "id": 3,
        "text": "Osteotome"
      },
      {
        "id": 4,
        "text": "Bone nibbler"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The instrument given is a <strong>periosteal</strong> <strong>elevator</strong>.\u00a0</p>\n<p>Other bone handling instruments include bone curette, bone, and plate holding forceps, osteotome, bone nibbler, etc.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/68ee9ca1e80b466a95e150194618ffa8.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The instrument shown in the image below is used to ____________",
    "choices": [
      {
        "id": 1,
        "text": "Measure corneal thickness"
      },
      {
        "id": 2,
        "text": "Assess visual field defects"
      },
      {
        "id": 3,
        "text": "Test colour vision"
      },
      {
        "id": 4,
        "text": "Measure visual evoked potential"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows a <strong>pachymeter</strong> used to <strong>measure corneal thickness</strong>. The corneal thickness indirectly <strong>reflects endothelial function</strong>. Ultrasonic pachymeters are more reliable than optical pachymeters.</p>\n<p>Indications of pachymetry include the following:</p>\n<ul>\n<li>Assessment of corneal thickness before and after refractive surgery</li>\n<li>Monitoring keratoconus and thickness of transplanted corneas</li>\n<li>Assess corneal edema</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c59155d40b9b4b51b7a54b6a72753d7a.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the laryngoscopic blade given in the image below.",
    "choices": [
      {
        "id": 1,
        "text": "Miller"
      },
      {
        "id": 2,
        "text": "Macintosh"
      },
      {
        "id": 3,
        "text": "Wisconsin"
      },
      {
        "id": 4,
        "text": "Magill"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image is that of the <strong>Macintosh</strong> laryngoscopic blade, an instrument that allows for laryngeal examination and tracheal intubation. It is the most commonly used laryngoscopic blade for endotracheal intubation in <strong>adults</strong>.</p>\n<p>Laryngoscopic blades can be:</p>\n<ul>\n<li><strong>Curved&nbsp; - </strong>Macintosh</li>\n<li><strong>Straight - </strong>Miller</li>\n</ul>\n<p>Miller is the most commonly used blade in&nbsp;infants.</p>\n<p>Advantage of curved blade:</p>\n<ul>\n<li>Greater room available for the passage for an endotracheal tube</li>\n<li>Less damage to the teeth</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/27ad332ec36e4a3685e2b0cdf19b21f8.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/44094f916ee84a1489955d2e3436093fx1280x2145.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/47e035b71b4c4a4f8f3f6854bbbfcf23x720x635.PNG"
    ]
  }
];
        let quizName = 'Instruments Mini Test';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2020-21"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>