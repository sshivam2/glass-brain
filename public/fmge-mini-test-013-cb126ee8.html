<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fmge Mini Test - 013 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / FMGE Mini Test Series / 2022
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">30</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the following nerve does not innervate the muscles of gluteal region?",
    "choices": [
      {
        "id": 1,
        "text": "Nerve to quadratus femoris"
      },
      {
        "id": 2,
        "text": "Nerve to obturator internus"
      },
      {
        "id": 3,
        "text": "Sciatic nerve"
      },
      {
        "id": 4,
        "text": "Nerve to piriformis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>sciatic nerve</strong> does not innervate the muscles of the gluteal region.</p>\n<p>It is the largest nerve of the body and is made up of <strong>L4 to S3</strong> spinal nerves of sacral plexus. It leaves the pelvis through the <strong>greater sciatic foramen, inferior </strong>to&nbsp;the piriformis. It descends in the posterior thigh and divides into the tibial and common peroneal nerves proximal to the knee joint.</p>\n<p>Tibial component of the sciatic nerve supplies:</p>\n<ul>\n<li>Semimembranosus</li>\n<li>Semitendinosus</li>\n<li>Ischial part of adductor magnus</li>\n<li>Long head of biceps femoris</li>\n</ul>\n<p>The&nbsp;<strong>common fibular component</strong> of the sciatic nerve supplies short head of biceps femoris.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/396af7719dd947f0b61e537b2b1e6bf0x1280x1989.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d59846f4350e4756aaaee4751075083ax1280x2026.JPEG"
    ]
  },
  {
    "text": "If the contractility of the heart is decreased, which of the following is seen",
    "choices": [
      {
        "id": 1,
        "text": "End diastolic volume and pressure curve shifts to left without change in slope"
      },
      {
        "id": 2,
        "text": "Slope changes in ESV pressure curve"
      },
      {
        "id": 3,
        "text": "End systolic volume and pressure curve shifts to left without change in slope"
      },
      {
        "id": 4,
        "text": "Slope changes in EDV and pressure curve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>If the <strong>contractility</strong> of the heart is <strong>decreased</strong>, <strong>slope changes </strong>in the<strong> ESV pressure curve</strong> are seen.&nbsp;</p>\n<p>To answer this question, we will first understand the volume-pressure diagram and the end-systolic pressure-volume relationship (ESPVR) during cardiac cycle.&nbsp;</p>\n<p><strong>Volume-pressure diagram during the cardiac cycle</strong></p>\n<p>The volume pressure diagram plots the changes in the pressure and volume in the<strong> left ventricle</strong> that occurs during the cardiac cycle. The <strong>x-axis</strong> shows the changes in ventricular <strong>volume,</strong> while the <strong>y-axis</strong> shows the changes in ventricular <strong>pressure.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9499b8e6649542cb88781f17312c95a4x1280x1596.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/76202439afbd4b4f88576c49193b05c2x1280x1316.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e8152288950741fcb3748d8010af752dx1280x1259.JPEG"
    ]
  },
  {
    "text": "Which metalloprotein is responsible for the metabolism of artificial flovours and additives ?",
    "choices": [
      {
        "id": 1,
        "text": "Tryptophan pyrrolase"
      },
      {
        "id": 2,
        "text": "Xanthine oxidase"
      },
      {
        "id": 3,
        "text": "Superoxide dismutase"
      },
      {
        "id": 4,
        "text": "Cytochrome P450"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Cytochrome P450</strong> is involved in the metabolism of <strong>flavour/colour additives</strong> which are examples of <strong>xenobiotics.</strong></p>\n<p><strong>Hydroxylation of xenobiotics</strong> is done by <strong>Cytochrome P450</strong>.The members of the cytochrome P450 family generate Fe = O3+. This is a powerful oxidant that participates in the reduction and neutralization of a broad range of xenobiotics via the two-electron reduction of O2.</p>\n<p>Cytochrome p450 is a&nbsp;<strong>heme-containing monooxygenase</strong>. It is located mainly in the endoplasmic reticulum in the liver and intestine but is also found in the mitochondria in some tissues.&nbsp;&nbsp;</p>\n<p>Micro&shy;somal cytochrome P450 in the endoplasmic reticulum of the liver&nbsp;<strong>detoxifies xenobiotics</strong>&nbsp;like drugs, carcinogens, and pesti&shy;cides. The cytochrome P450 monooxygenase system hydroxylates these toxins, using&nbsp;<strong>NADPH</strong>&nbsp;as the source of&nbsp;<strong>reducing equivalents</strong>. The purpose is to activate or inactivate a drug or to make a toxic compound more soluble, thus facilitating excretion.</p>\n<p>Mitochondrial cytochrome P450 systems are found in steroidogenic tissues such as the adrenal cortex, testis, ovary, and placenta and are concerned with the&nbsp;<strong>biosynthesis of steroid hormones and cholesterol</strong>.</p>\n<div class=\"page\" title=\"Page 148\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 568\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Naturally occurring compounds in foods such as grapefruit also affect cytochrome P450. Grapefruit contains furanocoumarins, which inhibit cytochrome P450 and affect the metabolism of many drugs like statins, omeprazole, antihistamines and benzodiazepenes.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 1-year-old child was diagnosed to have Kasabach-Merritt syndrome. What is this condition associated with?",
    "choices": [
      {
        "id": 1,
        "text": "Thrombotic thrombocytopenic purpura"
      },
      {
        "id": 2,
        "text": "Disseminated intravascular coagulation"
      },
      {
        "id": 3,
        "text": "Immune thrombocytopenic purpura"
      },
      {
        "id": 4,
        "text": "Hemolytic uremic syndrome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Kasabach&ndash;Merritt</strong> syndrome is associated with <strong>DIC</strong> (disseminated intravascular coagulation).&nbsp;This syndrome is characterised by the following <strong>features</strong>:</p>\n<ul>\n<li>Rapidly growing vascular tumour</li>\n<li>Thrombocytopenia</li>\n<li>Microangiopathic haemolytic anaemia</li>\n<li>Consumptive coagulopathy</li>\n</ul>\n<p>An unusual form of DIC occurs in association with giant hemangiomas. In this type, <strong>stasis</strong> and recurrent <strong>trauma</strong> to the fragile <strong>blood vessels</strong> cause <strong>thrombi</strong> to <strong>form</strong> within the neoplasm.</p>\n<p>The image given below shows a reddish-blue lesion covering the lower part of the abdomen. It is&nbsp;a&nbsp;caverno-capillary haemangioma seen in&nbsp;Kasabach&ndash;Merritt syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/02cca95d7a514aeaa95e2e5c8161135ex982x550.JPEG"
    ]
  },
  {
    "text": "Match the following images with the corresponding Streptococcal skin/soft tissue infection.",
    "choices": [
      {
        "id": 1,
        "text": "1-D, 2-C, 3-B, 4-A"
      },
      {
        "id": 2,
        "text": "1-B, 2-D, 3-A, 4-C"
      },
      {
        "id": 3,
        "text": "1-C, 2-A, 3-B, 4-D"
      },
      {
        "id": 4,
        "text": "1-B, 2-D, 3-C, 4-A"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The images are matched as follows :</p>\n<table style=\"height: 160px;\" width=\"359\">\n<tbody>\n<tr>\n<td style=\"width: 171px;\"><strong>Column A&nbsp;(From the thumbnail image)</strong></td>\n<td style=\"width: 172px;\"><strong>Column B&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 171px;\">1</td>\n<td style=\"width: 172px;\">D - Myositis</td>\n</tr>\n<tr>\n<td style=\"width: 171px;\">2</td>\n<td style=\"width: 172px;\">C - Impetigo</td>\n</tr>\n<tr>\n<td style=\"width: 171px;\">3&nbsp;</td>\n<td style=\"width: 172px;\">\n<p>B - Erysipelas</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 171px;\">4&nbsp;</td>\n<td style=\"width: 172px;\">A - Cellulitis</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Myositis</strong> :&nbsp;</p>\n<p>Fulminant, invasive S. pyogenes infections with streptococcal toxic shock syndrome are characterized by shock, bacteremia, respiratory failure, and multiorgan failure. Death occurs in about 30% of patients. The infections tend to occur after minor trauma in otherwise healthy persons with several presentations of soft tissue infection. These include necrotizing fasciitis, <strong>myositis</strong>, and infections at other soft tissue sites.</p>\n<p><strong>Impetigo :&nbsp;</strong></p>\n<p>Local infection of superficial layers of skin, especially in children, is called impetigo. It consists of superficial vesicles that break down and eroded areas whose denuded surface is covered with pus and later is encrusted.&nbsp;</p>\n<p><strong>Erysipelas :</strong></p>\n<p>If the portal of entry of&nbsp;S. pyogenes, &beta;-Hemolytic Group A Streptococci is the skin, erysipelas results. Lesions are raised and characteristically red. There is massive brawny edema and a rapidly advancing, sharply demarcated margin of infection.</p>\n<p><strong>Cellulitis :</strong></p>\n<p>Streptococcal cellulitis is an acute, rapidly spreading infection of the skin and subcutaneous tissues. It follows infection associated with mild trauma, burns, wounds, or surgical incisions. Pain, tenderness, swelling, and erythema occur. Cellulitis is differentiated from erysipelas by two clinical findings: In cellulitis, the lesion is <strong>not raised</strong>, and the line between the involved and uninvolved tissue is <strong>indistinct</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/cfacb7d328ee4831bffaee10b57da042.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs used in the emergency management of asthma does not act by bronchodilation?",
    "choices": [
      {
        "id": 1,
        "text": "Salbutamol"
      },
      {
        "id": 2,
        "text": "Ipratropium"
      },
      {
        "id": 3,
        "text": "Deriphylline"
      },
      {
        "id": 4,
        "text": "Hydrocortisone"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Hydrocortisone</strong>&nbsp;does not act by bronchodilation while all other drugs mentioned act by bronchodilation.</p>\n<p>Mechanism of action of Corticosteroids in an acute asthma attack:</p>\n<ul>\n<li><strong>Increases responsiveness to Beta-2 agonists</strong></li>\n<li><strong>Decreases mucous secretion</strong></li>\n<li><strong>Decreases inflammatory cell response.</strong></li>\n</ul>\n<p>Steroids increase the transcription of beta 2 receptor genes and hence increases responsiveness to beta-2 agonists. Beta-2 agonists, on the other hand,&nbsp;increase the effect of steroids by enhancing the action of glucocorticoid receptors.</p>\n<p>Other options:</p>\n<p><span class=\"s1\"><strong>&beta;<sub>2&nbsp;</sub></strong>selective&nbsp;<strong>agonists</strong>&nbsp;like salbutamol, terbutaline, salmeterol, formoterol, etc, cause<strong> r</strong></span><strong>elaxation</strong>&nbsp;of the<strong> tracheal and bronchial smooth muscles</strong> by&nbsp;<strong>&beta;<sub><span class=\"s1\">2&nbsp;</span></sub></strong><span class=\"s1\"><strong>receptor agonist action.</strong></span></p>\n<p><strong>Ipratropium bromide</strong>&nbsp;acts by&nbsp;<strong>antagonizing muscarinic receptors</strong>&nbsp;in&nbsp;<strong>bronchial smooth muscle</strong>, thereby causing bronchodilation.</p>\n<p>Theophyllines(e.g deriphylline) increases the effects of steroids by activating enzyme histone deacetylase which is the target for steroids as well.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient is brought to the primary health center with a history of snakebite. The area of the bite is painful and appears red and swollen. From his description, the snake that bit him had a triangular head with a V-shaped mark as shown in the image below. All of the following statements regarding this snake bite are true except?",
    "choices": [
      {
        "id": 1,
        "text": "Does not cause renal failure"
      },
      {
        "id": 2,
        "text": "Death is due to shock and haemorrhage"
      },
      {
        "id": 3,
        "text": "Persistent bleeding from bite site is noticed"
      },
      {
        "id": 4,
        "text": "Bleeding and clotting time are prolonged"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>From the patient's description and the image, the snake is most likely <strong>Russell's viper</strong>. The victims of Russell's viper may become oliguric within a few hours of the bite suggesting <strong>renal ischemia</strong>.</p>\n<p>The Russell's viper has a flat and triangular head with a <strong>V-shaped mark</strong>, white in color, with the angle of the V pointing forwards. Along the <strong>back</strong>, it has <strong>three rows</strong> of <strong>diamond-shaped spots</strong>. Other points of identification include broad plates on its belly, the small scales on the head, and a shield beneath the tail divided into two rows. It is commonly found throughout India.</p>\n<div class=\"page\" title=\"Page 588\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Russell's viper venom contains two proteases that activate the <strong>blood-clotting cascade.</strong>&nbsp;Though<strong> more than half</strong> the victims have minimal or <strong>no poisoning,</strong> few develop serious generalized poisoning. At the spot where venom is injected, the patient develops <strong>severe pain</strong>&nbsp;and the area around the bite becomes red and painful. <strong>Persistent bleeding</strong> from the&nbsp;<strong>bite site</strong> is a constant feature. Blisters begin to appear in some hours which progressively involves the entire limb. Skin temperature is raised. Intravascular hemolysis may lead to <strong>hemoglobinuria</strong> which progresses to <strong>renal failure.</strong></p>\n<p>Since the venom affects the blood-clotting cascade, the <strong>bleeding</strong> and <strong>clotting time</strong> are usually <strong>prolonged</strong>. Patients may develop hemorrhagic syndrome due to bleeding from various sites like gums, rectum, etc. Death is usually due to <strong>hemorrhagic shock.</strong></p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3af516663f7143899f0899d0dd8538c3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/993430518db348588944f49bb7b89ebbx1280x1259.JPEG"
    ]
  },
  {
    "text": "A 15-year-old boy presented with difficulty in breathing through the nose and epistaxis. On evaluation, he was diagnosed with a nasopharyngeal angiofibroma. Which of the following is true regarding the disease?",
    "choices": [
      {
        "id": 1,
        "text": "Blood supply is from the internal maxillary artery"
      },
      {
        "id": 2,
        "text": "More common in females"
      },
      {
        "id": 3,
        "text": "Biopsy is the investigation of choice"
      },
      {
        "id": 4,
        "text": "Rhinolalia aperta is a clinical feature"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>The blood supply&nbsp;</strong>of nasopharyngeal angiofibroma is most commonly from the ipsilateral <strong>internal maxillary artery</strong>.&nbsp;</p>\n<p><strong>Angiofibroma</strong> is the most common<strong> benign tumor</strong> of the nasopharynx<strong>,&nbsp;</strong>commonly affecting&nbsp;<strong>young males</strong>. It originates from the <strong>fibrovascular stroma</strong> on the posterolateral wall of the nasal cavity close to the <strong>area </strong>of the<strong> sphenopalatine foramen&nbsp;</strong>and the pterygoid base.</p>\n<p>It is a histologically benign but<strong> locally aggressive</strong>&nbsp;tumor that grows at the back of the nasal cavity. Blood supply is most commonly from the ipsilateral&nbsp;<strong>internal maxillary artery</strong>&nbsp;or&nbsp;sphenopalatine artery. It encroaches by expanding into surrounding areas like the nasal cavity, sphenoidal sinus, pterygopalatine fossa, maxillary sinus, orbit, and cranial cavity.</p>\n<p><strong>Clinical features</strong> include:</p>\n<ol>\n<li style=\"font-weight: 400;\" aria-level=\"2\">Difficulty breathing through the nose</li>\n<li style=\"font-weight: 400;\" aria-level=\"2\">Epistaxis</li>\n<li style=\"font-weight: 400;\" aria-level=\"2\"><strong>Rhinolalia clausa (hyponasal speech)</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"2\">Bulging of the soft palate&nbsp;</li>\n<li>Underdeveloped secondary sexual characters</li>\n</ol>\n<div class=\"page\" title=\"Page 4\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Tumour diagnosis is based on the characteristic findings on CT, MRI, and angiography.&nbsp;<strong>Biopsy </strong>should <strong>not </strong>be undertaken as it is a <strong>highly vascular tumour&nbsp;</strong>and can lead to severe bleeding.</p>\n<p>Endoscopic resection is preferred in tumours that are limited to nasal cavity, nasopharynx, sphenoid sinus and pterygopalatine fossa. Further extensions are managed with excision of the tumor by:&nbsp;</p>\n</div>\n</div>\n</div>\n</div>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Wilson&rsquo;s trans-palatal approach</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Lateral rhinotomy</li>\n</ul>\n<p>Radiation can be used in cases of intracranial extension.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Retinoscopy done at 1 m without cycloplegia exhibits \u2018\u2019with movement.\u2019\u2019 All of the following refractive errors are possible except __________.",
    "choices": [
      {
        "id": 1,
        "text": "1D myopia"
      },
      {
        "id": 2,
        "text": "Hypermetropia"
      },
      {
        "id": 3,
        "text": "0.5D myopia"
      },
      {
        "id": 4,
        "text": "Emmetropia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>A patient with 1 D myopia would exhibit no movement of red reflex when retinoscopy is done from a distance of 1m without cycloplegia.</strong></p>\n<p>Interpretation of retinoscopy done at 1m without cycloplegia:</p>\n<p>No movement - myopia of 1D.<br />With movement - emmetropia, hypermetropia, myopia less than 1D.<br />Against movement - myopia more than 1D.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f4e70887aa4a4e989f7e1c7cf92af57ax1280x3324.JPEG"
    ]
  },
  {
    "text": "A study to determine the association between maternal smoking during pregnancy and low birth weight is being carried out. It involves obtaining smoking histories from pregnant women during their antenatal visits and then subsequently assessing the birth weight of their babies soon after delivery. What type of study is this?",
    "choices": [
      {
        "id": 1,
        "text": "Prosprective Cohort"
      },
      {
        "id": 2,
        "text": "Retrospective Cohort"
      },
      {
        "id": 3,
        "text": "Case control"
      },
      {
        "id": 4,
        "text": "Cross sectional"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">The study of choice is </span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>a prospective cohort study.</strong></span></div>\n<div><strong>A prospective cohort study</strong> is a study in which the <strong>outcome has not yet occurred</strong> at the time that the investigations begin. They begin in the present and continue into the future.</div>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">This study is a prospective cohort study because the subjects (pregnant women) were categorized on the basis of exposure or lack of exposure to a risk factor -smoking during pregnancy. They were followed to determine if the outcome- the low birth weight of the babies occurred or not. </span></div>\n<div>The design of a prospective cohort is shown below.</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8f391022577a432882f37243dae2c1d4x720x743.JPEG"
    ]
  },
  {
    "text": "A 28-year-old male is positive for SARS-COV-2. A total of 30 people have been in contact with the patient and show no symptoms or signs of COVID-19. What is the time duration for which they must be quarantined?",
    "choices": [
      {
        "id": 1,
        "text": "Minimum incubation period"
      },
      {
        "id": 2,
        "text": "Maximum incubation period"
      },
      {
        "id": 3,
        "text": "Period of communicability"
      },
      {
        "id": 4,
        "text": "Median incubation period"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Quarantine is the <strong>limitation</strong> in freedom of movement of healthy contacts of cases, who have been exposed for a period that lasts as much as the <strong>maximal incubation period of the disease</strong>.</p>\n<ul>\n<li>It is a primary level of prevention, under specific protection.</li>\n<li>Types of quarantine\n<ul>\n<li>Absolute: complete limitation of movement</li>\n<li>Modified: selective partial limitation of movement</li>\n<li>Segregation: observation of a group of persons in a population after separation.</li>\n<li></li>\n</ul>\n</li>\n</ul>\n<table style=\"height: 703px; width: 507px;\">\n<tbody>\n<tr>\n<td style=\"width: 151px; text-align: center;\"><strong>Mild</strong></td>\n<td style=\"width: 168px; text-align: center;\"><strong>Moderate</strong></td>\n<td style=\"width: 164px; text-align: center;\"><strong>Severe</strong></td>\n</tr>\n<tr>\n<td style=\"width: 151px;\">\n<p style=\"text-align: center;\">Fever</p>\n<p style=\"text-align: center;\">URTI<br /><br /></p>\n</td>\n<td style=\"width: 168px; text-align: center;\">\n<p>Pneumonia with no signs of severe disease</p>\n<p>(RR &ge; 24 SpO2 &lt;94%)<br /><br /></p>\n</td>\n<td style=\"width: 164px; text-align: center;\">\n<p>Respiratory distress</p>\n<p>(RR &ge; 30 SpO2 &lt;90%)<br /><br /></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 151px; text-align: center;\">Admit to COVID Care Centre/Home Quarantine</td>\n<td style=\"width: 168px; text-align: center;\">Admit to Dedicated COVID Health Centre (DCHC)</td>\n<td style=\"width: 164px; text-align: center;\">Admit to Dedicated COVID Hospital</td>\n</tr>\n<tr>\n<td style=\"width: 151px;\">\n<p style=\"text-align: center;\">Symptomatic Management</p>\n<p style=\"text-align: center;\">Can consider HCQ for those having high-risk features for severe disease <br /><br /></p>\n</td>\n<td style=\"width: 168px;\">\n<p style=\"text-align: center;\">Oxygen: Target 92-96 % SpO2</p>\n<p style=\"text-align: center;\">Awake proning (if hypoxia with &gt;4L O2)</p>\n<p style=\"text-align: center;\">Daily monitoring(CBC and RFT, LFT, Absolute lymphocyte count, ECG )</p>\n<p style=\"text-align: center;\">48 hourly Monitoring(CRP, D- dimer &amp; Ferritin)</p>\n<p style=\"text-align: center;\"><br />Tab HCQ 400mg BD x1 Day, followed by 400mg OD x4 Days</p>\n<p style=\"text-align: center;\">Anticoagulation (UFH or LMWH)<br />Enoxaparin 40mg SC OD</p>\n<p style=\"text-align: center;\">IV Methylprednisolone 0.5 to 1mg/kg for 3-5 days</p>\n<p style=\"text-align: center;\">Investigational therapies: Convalescent Plasma 200ml/day for every 24 hours;<br />Inj.Remdesivir - (not recommended by WHO)</p>\n</td>\n<td style=\"width: 164px;\">\n<p style=\"text-align: center;\">CPAP or NIV</p>\n<p style=\"text-align: center;\">Intubation if needed</p>\n<p style=\"text-align: center;\">Prone ventilation considered in refractory hypoxemia</p>\n<p style=\"text-align: center;\">IV Methylprednisolone 1 to 2mg/kg/day for 7 days</p>\n<p style=\"text-align: center;\">High prophylactic dose of Anticoagulation (UFH or LMWH) Enoxaparin 40mg SC BD</p>\n<p style=\"text-align: center;\">Sepsis/ Septic Shock: managed according to their protocol</p>\n<p style=\"text-align: center;\">Sedation or Nutrition therapy</p>\n<p style=\"text-align: center;\"><br />Investigational therapies:<br />Inj.Tocilizumab 8mg/kg one dose, repeated after 12 to 24 hour if no improvement occurs with the first dose.<br /><br /></p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the name of the program whose logo is depicted below?",
    "choices": [
      {
        "id": 1,
        "text": "Integrated child development scheme"
      },
      {
        "id": 2,
        "text": "Prime Minister\u2019s Overarching Scheme for Holistic Nourishment"
      },
      {
        "id": 3,
        "text": "Prevention of Parent to Child Transmission"
      },
      {
        "id": 4,
        "text": "Janani Shishu Suraksha Karyakaram"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows the logo of the&nbsp;<strong>Prime Minister&rsquo;s Overarching Scheme for Holistic Nourishment</strong>&nbsp;(POSHAN) Abhiyaan.</p>\n<p><strong>POSHAN</strong> Abhiyaan /<strong>National Nutrition Mission</strong>( <strong>NNM</strong>) is a flagship program of the <strong>Ministry of Women and Child Development (MWCD)</strong>, with a goal to achieve an improvement in<strong>&nbsp;</strong>the<strong> nutritional status</strong> of children in the first 1000 days of life, pregnant women, and lactating mothers. This program was implemented in March 2018.</p>\n<p>NNM targets to reduce <strong>stunting, underweight, </strong>and<strong> low birth weight by 2% per annum</strong>.&nbsp;The target for the reduction in <strong>anemia</strong> among <strong>young children, </strong>and<strong> adolescent girls is 3% per annum.&nbsp;</strong>The four pillars of POSHAN are:</p>\n<ol>\n<li>Ensuring access to quality services.</li>\n<li>Ensuring convergence of multiple programs and schemes</li>\n<li>Leveraging technology (ICDS-CAS)</li>\n<li>Jan Andolan.</li>\n</ol>\n<p>&nbsp;The following image depicts the targets of this mission:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ee592eedd36147adbfe423f35b3c49b0.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/facf88750a1b46c4896bc72132703314x928x649.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e0864be68b1c47edbd92d4e6761c1ce8x214x192.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ab1563667e3642c39971a8ac5f0eca26x720x775.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b711619e56044c6aaff0a397ea0f4f20x761x751.JPEG"
    ]
  },
  {
    "text": "A 45-year-old chronic alcoholic is brought to the hospital due to fever and abdominal pain. He was diagnosed to have a cirrhotic liver 2 years back. The ascitic fluid shows a neutrophil count of 360 cell/ microliter. Which of the following is the drug of choice in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Cefotaxime"
      },
      {
        "id": 2,
        "text": "Metronidazole"
      },
      {
        "id": 3,
        "text": "Amoxicillin"
      },
      {
        "id": 4,
        "text": "Vancomycin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This patient&rsquo;s clinical features are suggestive of <strong>spontaneous bacterial peritonitis (SBP).&nbsp;</strong>The drug of choice in this patient is <strong>cefotaxime</strong>.</p>\n<p>SBP is&nbsp;characterized by spontaneous infection of the ascitic fluid without an intraabdominal source. It is commonly seen in adults in association with liver cirrhosis. The pathogens involved are<em>&nbsp;<strong>Escherichia coli</strong>,&nbsp;</em>streptococci, enterococci, and pneumococci.&nbsp;</p>\n<p>In a patient with ascites, SBP presents with fever and acute abdominal pain. On examination, tachycardia, tachypnea, and signs of peritonitis are seen. Hepatic encephalopathy and gastrointestinal bleeding may also occur.&nbsp;</p>\n<p>Diagnosis is by <strong>paracentesis </strong>and an ascitic fluid <strong>neutrophil count of &gt;250/mm3 </strong>is&nbsp;suggestive of spontaneous bacterial peritonitis. Ascitic fluid culture may reveal pathogenic organisms.</p>\n<p>Management is mainly by <strong>third-generation cephalosporins</strong> such as cefotaxime. Albumin infusion can be given as it decreases the risk of renal failure and improves patient survival. Early diagnosis and treatment improve the prognosis.&nbsp;In patients who have had an episode of SBP and recovered, once-weekly administration of antibiotics is used as prophylaxis for recurrent SBP.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The medial medullary syndrome is associated with the involvement of",
    "choices": [
      {
        "id": 1,
        "text": "Vertebral artery"
      },
      {
        "id": 2,
        "text": "Anterior inferior cerebellar artery"
      },
      {
        "id": 3,
        "text": "Posterior cerebral artery"
      },
      {
        "id": 4,
        "text": "Posterior inferior cerebellar artery"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The medial medullary syndrome (Dejerine syndrome) occurs due to the involvement of <strong>vertebral artery</strong>, anterior spinal artery, or basilar artery.</p>\n<p>Other options:</p>\n<ul>\n<li>Anterior inferior cerebellar artery (<strong>AICA</strong>) involvement can cause lateral inferior pontine syndrome (AICA syndrome)</li>\n<li>Posterior cerebral artery<strong>&nbsp;</strong>(<strong>PCA</strong>): The infarction in the distribution of the penetrating branches of PCA can cause Weber&rsquo;s syndrome.</li>\n<li>Posterior inferior cerebellar artery (<strong>PICA</strong>): involvement can cause the lateral medullary syndrome of Wallenberg.</li>\n</ul>\n<p><strong>Medial medullary syndrome</strong>:</p>\n<ul>\n<li><strong>Ipsilateral manifestation</strong>:&nbsp;Paralysis with atrophy of one-half half the tongue due to the involvement of the ipsilateral XII nerve.</li>\n<li><strong>Contralateral manifestation</strong>:&nbsp;Paralysis of arm and leg, sparing face; impaired tactile and proprioceptive sense over one-half the body due to the involvement of the contralateral pyramidal tract and medial lemniscus.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 62-year-old male patient presented with nausea, vomiting, and constipation. He also has excess thirst and polyuria. On examination, he has an altered mental state. His past medical history is significant for lung cancer, which is now in remission.  His blood reports reveal elevated serum calcium levels and low serum parathyroid hormone. What is the most common type of underlying lung cancer in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Small cell lung cancer"
      },
      {
        "id": 2,
        "text": "Squamous cell carcinoma"
      },
      {
        "id": 3,
        "text": "Adenocarcinoma"
      },
      {
        "id": 4,
        "text": "Non-small cell lung cancer"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario depicts the symptoms of <strong>h</strong><strong>ypercalcemia</strong> as a <strong>paraneoplastic syndrome</strong> in association with underlying <strong>s</strong><strong>quamous cell carcinoma</strong> of the<strong> lung.</strong></p>\n<div><strong>Hypercalcemia</strong> results\u00a0from ectopic production of parathyroid hormone (PTH) or PTH-related peptides. It\u00a0is the most common life-threatening\u00a0metabolic complication of malignancy, primarily occurring with <strong>squamous cell carcinoma of the lung. </strong></div>\n<p>Clinical manifestation of <strong>hypercalcemia</strong>:</p>\n<ul>\n<li>Renal - polyuria, polydipsia, nephrolithiasis</li>\n<li>Central nervous system - lethargy, altered mental status, stupor, coma</li>\n<li>Gastrointestinal - Nausea, vomiting, anorexia, abdominal pain, constipation, peptic ulcer disease, pancreatitis</li>\n<li>Cardiac - bradycardia, AV block, short QT interval</li>\n<li>Skeletal - bone pain, pathological fractures</li>\n</ul>\n<p>Treatment:</p>\n<ol>\n<li>Volume expansion by intravenous normal saline (4-6L)</li>\n<li>Intravenous Bisphosphonates (Zoledronic acid, pamidronate)</li>\n<li>Others - Denosumab, gallium nitrate, steroids.</li>\n</ol>\n<p>Paraneoplastic syndromes -\u00a0may be the presenting finding or the\u00a0<strong>first sign of recurrence </strong>of malignancy.</p>\n<p><strong>Paraneoplastic syndromes associated with Lung cancer:</strong></p>\n<div>\n<table style=\"height: 224px; width: 356.671875px;\">\n<tbody>\n<tr style=\"height: 82px;\">\n<td style=\"width: 140px; height: 82px;\">Squamous cell carcinoma (SCC)</td>\n<td style=\"width: 204.671875px; height: 82px;\">\n<ul>\n<li>Hypercalcemia</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 208px;\">\n<td style=\"width: 140px; height: 208px;\">Small cell lung cancer (SCLC)</td>\n<td style=\"width: 204.671875px; height: 208px;\"><br />\n<ul>\n<li>Syndrome of inappropriate\u00a0secretion of antidiuretic hormone (SIADH)\u00a0</li>\n<li>Cushing's syndrome</li>\n<li>Eaton- Lambert syndrome</li>\n<li>Retinal blindness</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 100px;\">\n<td style=\"width: 140px; height: 100px;\">Adenocarcinoma\u00a0</td>\n<td style=\"width: 204.671875px; height: 100px;\">\n<ul>\n<li>Hypertrophic primary osteoarthropathy</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 68px;\">\n<td style=\"width: 140px; height: 68px;\">Non-small cell lung cancer\u00a0(NSCLC)</td>\n<td style=\"width: 204.671875px; height: 68px;\">\n<ul>\n<li>\u00a0Clubbing</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with marfanoid habitus, hyperparathyroidism, and neuromas of the tongue presents with a cervical mass.  The most likely cause of the cervical mass is_______.",
    "choices": [
      {
        "id": 1,
        "text": "Papillary carcinoma"
      },
      {
        "id": 2,
        "text": "Paraganglioma"
      },
      {
        "id": 3,
        "text": "Medullary carcinoma"
      },
      {
        "id": 4,
        "text": "Lymphoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most likely diagnosis is medullary carcinoma of the thyroid which occurs in the setting of MEN 2B.</p>\n<p>Medullary carcinoma is seen in both in MEN 2A and 2B. The&nbsp;<em>RET</em>&nbsp;gene is abnormally activated. In&nbsp;Hirschsprung disease, it is deactivated.</p>\n<p>MEN 2B: It is characterized by multiple mucosal neuromas, a marfanoid appearance, medullary thyroid carcinoma, pheochromocytoma, gastrointestinal ganglioneuromatosis, and thickened corneal nerves. This rare syndrome is inherited in an autosomal-dominant pattern.</p>\n<p>Medullary carcinomas arising in the&nbsp;<strong>context of MEN-2B</strong>&nbsp;are generally&nbsp;<strong>more aggressive and metastasize more frequently.</strong></p>\n<p><strong>MEN syndromes:</strong></p>\n<ul>\n<li>The MEN syndromes are a group of inherited diseases, resulting in proliferative lesions (hyperplasia, adenomas, and carcinomas) of multiple endocrine organs.</li>\n<li>Tumors occur at a younger age than sporadic tumors.</li>\n<li>Tumors arise in multiple endocrine organs, either synchronously (at the same time) or metachronously (at different times).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 25-year-old morbidly obese male patient presented with complaints of severe abdominal pain and urinary disturbances. His urine microscopy shows the following type of crystals and an ultrasound of the kidney revealed a renal stone of size 2.5 cm. What is the treatment of choice?",
    "choices": [
      {
        "id": 1,
        "text": "Extracorporeal shockwave lithotripsy (ESWL)"
      },
      {
        "id": 2,
        "text": "Percutaneous nephrolithotomy (PCNL)"
      },
      {
        "id": 3,
        "text": "Open surgery"
      },
      {
        "id": 4,
        "text": "Ureteroscopy assisted removal"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><span data-preserver-spaces=\"true\"><strong>Urine microscopy</strong> shows&nbsp;<strong>h</strong></span><strong><span data-preserver-spaces=\"true\">exagonal crystals</span></strong><span data-preserver-spaces=\"true\">, typical of&nbsp;</span><strong><span data-preserver-spaces=\"true\">cystine stones&nbsp;</span></strong><span data-preserver-spaces=\"true\">that are</span><strong><span data-preserver-spaces=\"true\">&nbsp;radio-opaque&nbsp;</span></strong><span data-preserver-spaces=\"true\">(due to high sulfur content)</span><strong><span data-preserver-spaces=\"true\">.&nbsp;</span></strong><span data-preserver-spaces=\"true\">The treatment of choice for renal calculi of size<strong> 2.5 cm</strong> is<strong>&nbsp;percutaneous nephrolithotomy (PCNL).</strong></span></p>\n<p><strong>PCNL</strong>&nbsp;is the treatment of choice for large renal stones of a diameter more than 2cm. PCNL is indicated in the following types of renal calculi:</p>\n<ul>\n<li>Staghorn calculi</li>\n<li>Multiple stones</li>\n<li>Proximal ureteral stone: &gt;1 cm</li>\n<li>Morbidly obese individuals in whom ESWL is contraindicated</li>\n</ul>\n<p><strong>Technique:&nbsp;</strong>Endoscopic instruments are passed into the kidney using a percutaneous technique and stones are removed.</p>\n<p class=\"p1\"><strong>Complications</strong>&nbsp;of percutaneous nephrolithotomy include:</p>\n<ul>\n<li><strong>Haemorrhage</strong>&nbsp;from the punctured renal parenchyma</li>\n<li><strong>Perforation of the collecting system</strong>&nbsp;with extravasation of saline irrigant</li>\n<li><strong>Perforation of the colon or pleural cavity</strong>&nbsp;during placement of the percutaneous track</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a9019e07f7064b57b8d2254eda580b4b.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/064c4210e4d047d9a8d5a73a7816f798x720x782.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3a0e9b1f9b2d410bb9eb75427f29a656x1280x1688.JPEG"
    ]
  },
  {
    "text": "A 45-year-old patient presents to the emergency room with abdominal pain and severe non-bilious vomiting. He was treated for upper abdominal pain 5 weeks ago.  CT scan reveals a pancreatic pseudocyst of size 8 cm in close proximity to the stomach with secondary pressure effects.  What is the best treatment option for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Cystogastrostomy"
      },
      {
        "id": 2,
        "text": "Roux-en-Y cystojejunostomy"
      },
      {
        "id": 3,
        "text": "Percutaneous drainage"
      },
      {
        "id": 4,
        "text": "Observation and symptomatic management"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The best treatment option for this patient would be to perform a <strong>cystogastrostomy</strong> since the size of the tumor is <strong>greater than 6 cm</strong> and in close proximity to the stomach.</p>\n<p>Interventions in pseudocyst are required when:</p>\n<ul>\n<li>Complicated by infection</li>\n<li>Presence of a&nbsp;<strong>mass effect</strong>&nbsp;</li>\n<li>Diameter increasing in size or <strong>greater than 6 cm</strong></li>\n<li><strong>Recurrence</strong> following the previous resection</li>\n</ul>\n<p><strong>Endoscopic drainage&nbsp;</strong>is usually&nbsp;<strong>curative.&nbsp;</strong></p>\n<table width=\"418\">\n<tbody>\n<tr>\n<td>\n<p><strong>Feature</strong></p>\n</td>\n<td>\n<p><strong>Treatment approach</strong></p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Close contact (&lt;1 cm) with the stomach</p>\n</td>\n<td>\n<p>Transgastric drainage</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Close contact (&lt;1 cm) with the duodenum</p>\n</td>\n<td>\n<p>Transduodenal drainage</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Communicating with the main pancreatic duct</p>\n</td>\n<td>\n<p>Transpapillary drainage</p>\n</td>\n</tr>\n<tr>\n<td>\n<p>Pancreatic duct stricture associated with a pancreatic pseudocyst</p>\n</td>\n<td>\n<p>Endoscopic dilation and stent placement</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Surgical drainage is done if endoscopy is contraindicated or has failed.</p>\n<p>In this <strong>cystogastrostomy</strong>, an <strong>anterior gastrostomy</strong> is performed. Once the pseudocyst is located, it is drained through the posterior wall of the stomach using a linear stapler. The defect in the anterior wall of the stomach is closed in two layers.</p>\n<p>The image shows the procedure involved in&nbsp;cystogastrostomy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2fe284373a134d4f83c2bfd02f75ee3ex720x851.JPEG"
    ]
  },
  {
    "text": "A 35-year-old woman is brought into casualty with a history of swelling in the right groin for the past 6 months. On examination, a reducible hernia is present in the right groin with no features of strangulation. What is the next step in the management of the patient?",
    "choices": [
      {
        "id": 1,
        "text": "Exploratory laparatomy"
      },
      {
        "id": 2,
        "text": "Reduce the swelling and do elective surgery later"
      },
      {
        "id": 3,
        "text": "Reduce the swelling and later observe"
      },
      {
        "id": 4,
        "text": "Do a CT abdomen"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>As this patient is asymptomatic now and has no features of obstruction or strangulation and is a reducible hernia, the best option is to reduce the swelling and do elective surgery later.</p>\n<p><strong>Emergency </strong>Surgery should be offerred ,if there are features of</p>\n<ul>\n<li><strong>strangulation</strong></li>\n<li><strong>bowel obstruction&nbsp;</strong></li>\n<li><strong>bowel infarction</strong></li>\n</ul>\n<p>Elective surgery should be given for</p>\n<ul>\n<li>all femoral hernias which has high risk of strangulation,</li>\n<li>increasing size of the swelling,</li>\n<li>increasing difficulty in reduction of the swelling&nbsp;</li>\n<li>young patients who might have high risk of complications later in life.</li>\n</ul>\n<p>Note:</p>\n<p>Any patient who presents with acute pain in a hernia, particularly if irreducible, should be offered surgery .</p>\n<p>In most irreducible hernia cases , after giving adequate analgesia the hernia will reduce due to muscle&nbsp;relaxation.</p>\n<p>In the elderly, if the hernia is asymptomatic, small in size,can be reduced easily and is not causing anxiety then observation alone is enough.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 54-year-old female patient presents with abdominal pain and bilious vomiting. She had a history of abdominal hysterectomy 2 years back. On examination, abdomen auscultation revealed hyperechoic bowel sounds. Investigations showed air within the biliary tree. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Gallstone ileus"
      },
      {
        "id": 2,
        "text": "Adhesive intestinal obstruction"
      },
      {
        "id": 3,
        "text": "Ischemic enterocolitis"
      },
      {
        "id": 4,
        "text": "Diverticulitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario showing clinical features of intestinal obstruction along with radiographic features of <strong>pneumobilia</strong> (air within the biliary tree) is suggestive of a diagnosis of <strong>gallstone ileus</strong>.</p>\n<p>Gallstone ileus is a condition that occurs secondary to the erosion of the gallbladder wall. This erosion causes a fistula to the duodenum. Through this, a large gallstone can pass from the gallbladder to the duodenum. The most common site of impaction of the gallstone is the distal ileum, where it may cause intestinal obstruction.</p>\n<p>Patients present with features of mechanical small bowel obstruction such as continuous or intermittent pain abdomen, bilious vomiting, and hyperechoic bowel sounds.</p>\n<p><strong>Rigler&rsquo;s triad</strong> is a characteristic radiological feature seen in gallstone ileus and consists of:</p>\n<ul>\n<li>Pneumobilia - air present in the intestine passes into the biliary tree through the fistula</li>\n<li>Features of small bowel obstruction</li>\n<li>Ectopic gall stone - usually in the right iliac fossa</li>\n</ul>\n<p>Plain X-rays show air-fluid levels consistent with a small bowel obstruction and pneumobilia can be visualized on CT imaging.</p>\n<p><strong>Managemen</strong>t: Predominantly surgical management by an explorative laparotomy to relieve the bowel obstruction. The stone is milked away from the site of impacted and then crushed or removed.&nbsp;</p>\n<p>&nbsp;</p>\n<p><strong>Other options</strong>: Adhesive intestinal obstruction (Option B) results mostly after any abdominal surgery or any cause for peritoneal irritation, the features are consistent with bowel obstruction but there is no pneumobilia.</p>\n<p>Ischaemic colitis (Option B) is usually diagnosed on contrast-enhanced CT abdomen where there may be bowel wall thickening, signs of vascular insufficiency, and pericolic fluid or fat stranding.</p>\n<p>Diverticulitis (Option D) is also diagnosed on CT abdomen showing bright bowel outpouching, which may be complicated by infection and abscess formation.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 25-year-old lady complains of thick curdy white vaginal discharge with itching and burning. What is the route of administration of the first non-azole drug approved to treat this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Oral"
      },
      {
        "id": 2,
        "text": "Intradermal"
      },
      {
        "id": 3,
        "text": "Intravenous"
      },
      {
        "id": 4,
        "text": "Topical"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical history of thick curdy white vaginal discharge with itching and burning are suggestive of <strong>vulvovaginal candidiasis.</strong> The first and the only non-azole antifungal approved for the treatment of vulvovaginal candidiasis is <strong>Ibrexafungerp.</strong> The route of administration of this drug is <strong>oral.</strong></p>\n<p><strong>Ibrexafungerp</strong> is a triterpenoid antifungal agent that acts by <strong>inhibiting glucan synthase</strong>. Glucan synthase is an enzyme involved in the formation of 1,3-beta-D-glucan which is an essential component of the fungal cell wall.</p>\n<p>The recommended dosage is 600 mg orally as 2 divided doses 12 hrs apart. Contraindications include pregnancy and hypersensitivity to ibrexafungerp. The most frequent adverse reactions are diarrhea, nausea, abdominal pain, dizziness, and vomiting.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Magnesium sulphate has no role in:",
    "choices": [
      {
        "id": 1,
        "text": "Prevention of Seizures in severe pre-eclampsia"
      },
      {
        "id": 2,
        "text": "Prevention of recurrent seizures in eclampsia"
      },
      {
        "id": 3,
        "text": "Prevention of RDS in premature baby"
      },
      {
        "id": 4,
        "text": "Reducing contractility of uterus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Magnesium sulphate has <strong>no role </strong>in the prevention of respiratory distress syndrome (RDS) in a premature baby.</p>\n<p>Magnesium sulfate administered parenterally is an effective <strong>anticonvulsant</strong> that avoids producing central nervous system depression. It may be given intravenously by continuous infusion or intramuscularly by intermittent injection.&nbsp;Magnesium sulfate has a neuroprotective effect</p>\n<p>It reduces contractility of the uterus and can be used as a <strong>tocolytic</strong>.</p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Very-low-birthweight neonates whose mothers were treated with magnesium sulfate for preterm labor or preeclampsia were found to have a reduced incidence of cerebral palsy at 3 years. MgSo4 is a membrane stabilizer and a neuroprotector by reducing motor endplate sensitivity to Ach&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:33555261,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;6&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;7&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;8&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;11&quot;:4,&quot;12&quot;:0,&quot;28&quot;:1}\">MgSo4 is a <strong>membrane stabilizer</strong> and a <strong>neuroprotector</strong> by reducing motor endplate sensitivity to Ach. Very low-birthweight neonates whose mothers were treated with magnesium sulfate for preterm labor or preeclampsia were found to have a reduced incidence of cerebral palsy at 3 years.&nbsp;</span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 25-year-old woman presented with a history of sexual assault followed by amenorrhea. Her urine pregnancy test was positive. Which of the following is the most likely maturation index of her vaginal epithelium?",
    "choices": [
      {
        "id": 1,
        "text": "0/95/5"
      },
      {
        "id": 2,
        "text": "100/0/0"
      },
      {
        "id": 3,
        "text": "80/20/0"
      },
      {
        "id": 4,
        "text": "0/40/60"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most likely maturation index of vaginal epithelium in a pregnant woman is <strong>0/95/5</strong>.</p>\n<p>The maturation index\u00a0is also known as the <strong>karyopyknotic index</strong>. It is the ratio of mature squamous (superficial) cells to the intermediate and parabasal cells, expressed in percentage. It is expressed in <strong>three numbers </strong>expressing each of these cell types in <strong>percentages</strong>, in the format of\u00a0<strong>parabasal cells/intermediate cells/superficial cells</strong>.\u00a0</p>\n<p>Parabasal cells are round small and basophilic. Intermediate cells are transparent and basophilic. Superficial cells are thin, large, and acidophilic.</p>\n<p>A significant shift in the maturation index can be seen from birth to menopause. It correlates with the hormonal status of the vaginal epithelium.\u00a0In the <strong>proliferative </strong>(estrogenic) phase of the menstrual cycle, the ratio of superficial cells is <strong>more than 25</strong> percent. And the ratio is <strong>low</strong> in the secretory (progestational) phase of the menstrual cycle and <strong>pregnancy</strong>.\u00a0Parabasal cells are predominant in the postmenopausal phase.</p>\n<p>In<strong> pregnancy</strong>, the most likely maturation index is <strong>0/95/5</strong>. During<strong> pregnancy</strong>, if the ratio of superficial cells is <strong>more than 10</strong> percent it denotes the <strong>progesterone deficiency</strong>.</p>\n<p>The most likely shift of the maturation index from birth to menopause is:</p>\n<table style=\"height: 203px; width: 371.484px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 122px; height: 18px;\"><strong>\u00a0Stage</strong></td>\n<td style=\"width: 191.484px; height: 18px;\">\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 <strong>Maturation index</strong><br />(parabasal/intermediate/superficial)</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 122px; height: 18px;\">At birth\u00a0</td>\n<td style=\"width: 191.484px; height: 18px;\">0/95/5</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 122px; height: 18px;\">Childhood\u00a0 \u00a0</td>\n<td style=\"width: 191.484px; height: 18px;\">80/20/0</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 122px; height: 18px;\" colspan=\"2\">Reproductive period</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 122px; height: 18px;\">preovulatory\u00a0</td>\n<td style=\"width: 191.484px; height: 18px;\">0/40/60</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 122px; height: 18px;\">mild secretory\u00a0</td>\n<td style=\"width: 191.484px; height: 18px;\">0/70/30</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 122px; height: 18px;\"><strong>pregnancy\u00a0 </strong></td>\n<td style=\"width: 191.484px; height: 18px;\"><strong>0/95/5</strong></td>\n</tr>\n<tr style=\"height: 31px;\">\n<td style=\"width: 122px; height: 31px;\">postpartum\u00a0 \u00a0</td>\n<td style=\"width: 191.484px; height: 31px;\">100/0/0\u00a0 \u00a0</td>\n</tr>\n<tr style=\"height: 34px;\">\n<td style=\"width: 122px; height: 34px;\">Postmenopausal\u00a0</td>\n<td style=\"width: 191.484px; height: 34px;\">100/0/0</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "False statement regarding Down\u2019s syndrome is?",
    "choices": [
      {
        "id": 1,
        "text": "Most common cardiovascular lesion is endocardial cushion defect"
      },
      {
        "id": 2,
        "text": "It is the most common genetic cause of intellectual disability"
      },
      {
        "id": 3,
        "text": "Most common cause of intestinal obstruction is intussusception"
      },
      {
        "id": 4,
        "text": "AML is more common during first 3 years of life"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Most common cause of intestinal obstruction in Down&rsquo;s syndrome is&nbsp;duodenal atresia.&nbsp;</p>\n<p><strong>Clinical features of Down&rsquo;s&nbsp;syndrome:</strong>&nbsp;(Mnemonic:&nbsp;I C A PROBLEM Somewhere)&nbsp;</p>\n<ul>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"1\" data-aria-level=\"1\">Intellectual disability/Incurved or short fifth finger with clinodactyly&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"2\" data-aria-level=\"1\">Congenital heart disease&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Acute&nbsp;megakaryoblastic&nbsp;leukemia/Alzheimer's disease/Atlantoaxial instability/Atresia of the duodenum&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Protruding tongue&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Round face</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Occiput flat/Open wide fontanelle/Open mouth&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Brachycephalic/Brushfield's spots&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Low (depressed) nasal bridge&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Epicanthal fold/Ears low set and dysplastic&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Mongoloid slant (oblique palpebral fissure)&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"3\" data-aria-level=\"1\">Simian palmar crease and&nbsp;wider gap between first and second toes&nbsp;</li>\n</ul>\n<p><strong>Note:&nbsp;</strong></p>\n<ul>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"4\" data-aria-level=\"1\">Down&rsquo;s syndrome is the most common genetic cause of intellectual disability.&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"4\" data-aria-level=\"1\">Most common cause of intestinal obstruction in Down syndrome is&nbsp;duodenal atresia&nbsp;(double-bubble sign).&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"4\" data-aria-level=\"1\">Children with Down's syndrome have an increased risk of developing leukemias, including acute lymphoblastic leukemia (ALL) and acute myeloid leukemia (AML).&nbsp;&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"4\" data-aria-level=\"1\">AML&nbsp;is more common during the&nbsp;first 3 years of life.&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"4\" data-aria-level=\"1\">Most common AML&nbsp;associated with Down Syndrome is&nbsp;acute&nbsp;megakaryoblastic&nbsp;leukemia (AML).&nbsp;&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"4\" data-aria-level=\"1\">Most common hematological manifestation in Downs syndrome is&nbsp;transient abnormal&nbsp;myelopoiesis&nbsp;(TAM).&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"1\" aria-setsize=\"-1\" data-aria-posinset=\"4\" data-aria-level=\"1\">Brushfield's spots are whitish speckling on iris seen in light-skinned people.&nbsp;</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old boy is brought to the casualty following a fall on an outstretched hand. He complains of pain in his left elbow. Examination reveals tenderness and swelling over his left elbow. An X-ray of the patient is given below. Which of the following statements is true with respect to this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Vascular injury commonly involves the brachial artery"
      },
      {
        "id": 2,
        "text": "Ulnar nerve  is most commonly injured in the extension-type"
      },
      {
        "id": 3,
        "text": "Almost all injuries are of the flexion-type"
      },
      {
        "id": 4,
        "text": "Cubitus valgus is the most common angular deformity"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical features and x-ray showing <strong>posterior fat pad sign</strong> are suggestive of <strong>supracondylar fracture</strong> of the humerus where vascular injury commonly involves the <strong>brachial artery</strong>.</p>\n<p><strong>Supracondylar fracture of humerus:</strong></p>\n<p>It is most commonly seen in children of 5-7 years. The extension type is seen in 98% of the cases while the rest are flexion type<strong>. </strong>The\u00a0mechanism of injury involved is usually a fall on an outstretched hand with an elbow in full extension.\u00a0<span class=\"s1\"><strong>Gartland classification</strong></span><span class=\"s1\">\u00a0is used for the classification of supracondylar fractures and is of four types.</span></p>\n<p class=\"p1\">On examination:</p>\n<p>There may be an <strong>S-shaped</strong> deformity at the elbow. If the proximal fracture fragment is sharp and has penetrated the muscles and fascia, a dimple may be seen on the skin above the elbow (<strong>dimple sign</strong>).\u00a0<strong>The three-point bony relationship is maintained</strong>\u00a0in supracondylar fracture.</p>\n<p><strong>Radiology</strong>:\u00a0\u00a0</p>\n<ul>\n<li>An undisplaced\u00a0fracture may show a <strong>triangular lucency\u00a0</strong>like a sail of a yacht (<strong>sail sign</strong>), also called a\u00a0<strong>fat pad sign</strong>. This is due to the fat pad around the elbow being pushed forward by hematoma.</li>\n<li><strong>Baumann\u2019s angle</strong>\u00a0is the angle between the horizontal line of the elbow and the line drawn through the lateral epiphysis and long axis of the arm. It is normally less than 5 degrees and is checked with the other arm.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bb6b0d94afc34f15b3f09c3130644ee3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b0ef55603fcc47658d8b36539c16f865x1279x1357.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5392ce5d61824b2eb633d565a3165a69x1280x1602.JPEG"
    ]
  },
  {
    "text": "A 40-year-old man was brought to the emergency department after a road traffic accident, and an eFAST was performed. What is the additional view incorporated to this imaging modality?",
    "choices": [
      {
        "id": 1,
        "text": "Subxiphoid view"
      },
      {
        "id": 2,
        "text": "Right flank view"
      },
      {
        "id": 3,
        "text": "Anterior pleural view"
      },
      {
        "id": 4,
        "text": "Pelvic view"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Focussed Assessment with Sonography for Trauma\u00a0</strong>(FAST) is extended into the thoracic cavities and peri\u00adcardium (<strong>eFAST</strong>), where <strong>anterior pleural views</strong> are incorporated. It is a technique in which ultrasonography is used to assess the presence of free fluid in the abdominal cavity.\u00a0</p>\n<p>It is a rapid, non-invasive bedside test for detecting free fluid in the abdomen using sonography used to assess patients for potential thoracoabdominal injuries.\u00a0</p>\n<p>The patient is placed in a supine position. With a 3.5-5.0 MHz convex\u00a0transducer the following\u00a0regions are scanned :</p>\n<ul>\n<li>Subxiphoid transverse view(also called subcostal view or pericardial view)</li>\n<li>Right upper quadrant view (also called right flank view or perihepatic view)</li>\n<li>Left upper quadrant view (also called Perisplenic or left flank view)\u00a0</li>\n<li>Suprapubic view or Pelvic view</li>\n</ul>\n<p>An extended FAST or eFAST scan incorporates the Anterior pleural views to assess the anterior thorax.</p>\n<p>Drawbacks of FAST:</p>\n<ul>\n<li>Does not reliably detect less than 100 mL of free blood</li>\n<li>Does not directly identify hollow viscus injury or penetrating trauma</li>\n<li>Often requires supplementing with other investigations</li>\n<li>Does not assess the retroperitoneum</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a likely symptom of a panic attack?",
    "choices": [
      {
        "id": 1,
        "text": "Palpitations"
      },
      {
        "id": 2,
        "text": "Fear of dying"
      },
      {
        "id": 3,
        "text": "Chest discomfort"
      },
      {
        "id": 4,
        "text": "Suicide attempt"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>A suicide attempt is not a likely symptom of a panic attack.</p>\n<p>A panic attack is an abrupt surge of intense fear or intense discomfort that may last from minutes to hours. Recurrent panic attacks are termed&nbsp;<strong>panic disorders. </strong></p>\n<p style=\"text-align: left;\">Panic attacks can occur in other disorders, particu&shy;larly in specific <strong>phobias</strong>, social phobias, and <strong>post-traumatic stress disorder</strong>.&nbsp;</p>\n<div class=\"page\" title=\"Page 412\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Unexpected panic attacks occur at any time and are not associated with any identifiable situational trigger. Attacks in patients with social and specific pho&shy;bias are usually expected in response to a specific stimulus.</p>\n<p>Some panic attacks do not fit into unexpected or expected attacks, and these attacks are referred to as situationally predisposed panic attacks. They may or may not occur on exposure to a specific trigger, or may occur immediately after exposure or after a considerable period of time.</p>\n</div>\n</div>\n</div>\n<p><strong>Four or more</strong> of the following should be present to label it a panic attack:</p>\n<ul>\n<li>Palpitations, pounding heart, or accelerated heart rate.</li>\n<li>Sweating.</li>\n<li>Trembling or shaking</li>\n<li>Sensations of shortness of breath or smothering</li>\n<li>Feelings of choking</li>\n<li>Chest pain or discomfort.</li>\n<li>Nausea or abdominal distress.</li>\n<li>Dizziness, unsteady, light-headed, or faint</li>\n<li>Chills or heat sensations</li>\n<li>Paresthesias</li>\n<li><strong>Derealization (feelings of unreality)</strong> or depersonalization (feeling detached from oneself)</li>\n<li>Fear of losing control or \"going crazy.\"</li>\n<li>Fear of dying</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Inhalational agent to be avoided in a patient with pneumothorax is ______",
    "choices": [
      {
        "id": 1,
        "text": "Halothane"
      },
      {
        "id": 2,
        "text": "Sevoflurane"
      },
      {
        "id": 3,
        "text": "Desflurane"
      },
      {
        "id": 4,
        "text": "Nitrous oxide"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Inhalational agent to be avoided in a patient with pneumothorax is<strong> nitrous oxide</strong>.</p>\n<p>Nitrous oxide has the <strong>potential to expand air containing cavities</strong> as it can diffuse into and accumulate in them. Hence it should be avoided in patients with pneumothorax.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 16-year-old boy presents to your clinic with complaints of itchy rashes on his body for the past two weeks. He lives in a school hostel room. After obtaining a thorough history, you perform microscopy of the skin scraping from the interdigital web space, findings of which are shown below. Which of the following statement/s are incorrect regarding the suspected diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2 are incorrect"
      },
      {
        "id": 2,
        "text": "3 and 4 are incorrect"
      },
      {
        "id": 3,
        "text": "2, 3, and 5 are incorrect"
      },
      {
        "id": 4,
        "text": "3 and 5 are incorrect"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical vignette is strongly suggestive of <strong>scabies</strong>. It is caused by the itch mite also called <strong>Sarcoptes scabiei</strong>. Among the given options, statements 3 and 5 are incorrect.&nbsp;</p>\n<p>The pathogenesis of scabies includes infestation by Sarcoptes scabiei. They are obligate human ectoparasites as they die within a day if they do not find a suitable host. On finding a suitable host, <strong>gravid female mites burrow</strong> into the <strong>superficial epidermis</strong> and lay eggs. These eggs hatch into <strong>six-legged larvae</strong> that evolve into <strong>eight-legged nymphs</strong>. The symptoms such as <strong>rash</strong> and<strong> itching</strong> are due to<strong> immune reactions</strong> to the <strong>excretory products</strong> of the mites in the skin.&nbsp;</p>\n<p>Scabies is transmitted by <strong>direct skin-to-skin contact</strong> and less frequently via <strong>contaminated clothes and bedding</strong>. They are seen more commonly in overcrowded areas, hostels, and schools, especially in unhygienic environments.&nbsp;</p>\n<div class=\"page\" title=\"Page 3371\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Clinically, these patients present with <strong>superficial excoriated papules</strong> or <strong>vesicles</strong> that are intensely <strong>pruritic</strong>. They are usually present on the volar surface of the wrists, interdigital spaces, penis, scrotum, navel, and skin folds and creases in the axillae, buttocks, and thigh regions. Burrows may be visualized in the superficial dermis in the abovementioned regions. Pruritis is typically intense and increases after showers and during the night.&nbsp;</p>\n</div>\n</div>\n</div>\n<p>Immunodeficient individuals may develop a widespread form known as <strong>crusted scabies</strong> or <strong>Norwegian scabies</strong>. Although they may be infected with thousands of mites, they might not have intense pruritis due to muted immune response. Characteristic burrows are typically absent, instead, they present with thick keratotic crusts and scaly plaques.&nbsp;</p>\n<p>Diagnosis is established considering the characteristic history and by dermatoscopic imaging or microscopy of the <strong>skin scrapings</strong> or&nbsp;cellophane tape lifted from lesions.&nbsp;</p>\n<p><strong>Permethrin cream - 5%</strong> is the treatment of choice. It is preferred over&nbsp;1% lindane preparation and ivermectin. These preparations are applied once, all over the body below the jawline, following a bath. It should be washed off with soap and water after 8-14 hours. Oral ivermectin may be given in the dose of 200&nbsp;&mu;g/kg once in healthy adults and in two doses one-two weeks apart in patients with widespread, crusted scabies. Supportive treatment with antihistamines, calamine lotion, and topical steroids may help treat the associated pruritis.&nbsp;</p>\n<div class=\"page\" title=\"Page 3371\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>It is imperative to<strong> treat close contacts simultaneously</strong> and <strong>wash bedding and clothing</strong> to prevent reinfestations.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/446e2c66b29f4980938ba1cfd99dda1e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A radiation oncologist uses radiotherapy as part of the treatment protocol for various tumors. This treatment modality is found to be least effective in which among the following tumors?",
    "choices": [
      {
        "id": 1,
        "text": "Melanoma"
      },
      {
        "id": 2,
        "text": "Seminoma"
      },
      {
        "id": 3,
        "text": "Myeloma"
      },
      {
        "id": 4,
        "text": "Ewing's sarcoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Radiotherapy is least effective in <strong>melanoma</strong> as it is a highly <strong>radioresistant tumor.</strong></p>\n<p>Apoptosis occurs in response to radiation in some but not all cells. No meaningful apoptosis occurs in very radioresistant tumors like melanoma and glioblastoma.</p>\n<p>Seminoma is a highly radiosensitive tumor and hence radiotherapy is commonly used for treatment.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Fmge Mini Test - 013';
        let hierarchy = ["Marrow", "FMGE Mini Test Series", "2022"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>