<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radiology Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2021 - 22
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A 45-year-old woman was referred by a dentist after she was found to have loss of lamina dura in the tooth. Her radiograph is given below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Multiple myeloma"
      },
      {
        "id": 2,
        "text": "Hyperparathyroidism"
      },
      {
        "id": 3,
        "text": "Eosinophilic granuloma"
      },
      {
        "id": 4,
        "text": "Paget's disease"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The X-ray of the skull shows multiple <strong>radiolucent lytic lesions</strong> with a&nbsp;<strong>salt and pepper</strong> <strong>appearance</strong>/pepperpot appearance<strong>. </strong>The clinical scenario and X-ray features are suggestive of <strong>hyperparathyroidism</strong>.</p>\n<p><strong>Radiological features</strong> of hyperparathyroidism:</p>\n<ul>\n<li>Sub-periosteal cortical resorption of middle phalanges\n<ul>\n<li>Pathognomonic feature&nbsp;</li>\n<li>Seen especially in the second and third fingers</li>\n<li>Also visualized in the lateral end of the clavicle and symphysis pubis</li>\n</ul>\n</li>\n<li><strong>Loss</strong> of <strong>lamina dura</strong>&nbsp;\n<ul>\n<li>Thin cortical bone of tooth socket surrounding teeth</li>\n<li>Seen as a thin white line</li>\n</ul>\n</li>\n<li><strong>Brown&rsquo;s tumor</strong>\n<ul>\n<li>Expansile lytic lesion generally affecting maxilla/mandible</li>\n</ul>\n</li>\n<li>Salt and pepper appearance of the skull</li>\n<li>Generalized osteopenia, thinning of cortices, and indistinct bony trabeculae</li>\n</ul>\n<p>A radiograph showing&nbsp;subperiosteal cortical resorption&nbsp;is given below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/40e46db0bd7543a28195886fb327f01d.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8c5723f33ee74d16985d65277949648bx720x865.PNG"
    ]
  },
  {
    "text": "A 35-year-old man presented to the outpatient department with dysphagia. Barium swallow was done and it showed the following finding in the lower end of the esophagus. The most probable cause is",
    "choices": [
      {
        "id": 1,
        "text": "Achalasia cardia"
      },
      {
        "id": 2,
        "text": "Gastroesophageal reflux disease"
      },
      {
        "id": 3,
        "text": "Schatzki ring"
      },
      {
        "id": 4,
        "text": "Foreign body"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most probable diagnosis, in this case, is<strong>&nbsp;<strong>Schatzki&rsquo;s ring.</strong></strong></p>\n<p>Schatzki&rsquo;s ring is a <strong>thin submucosal circumferential ring</strong> in the lower esophagus at the squamocolumnar junction. It is often associated with hiatal hernia. The patient experiences brief episodes of dysphagia during hurried ingestion of solid foods.</p>\n<p>The <strong>presence of a ring&nbsp;</strong>in the esophagus, with or without hiatal hernia, can be visualized on <strong>barium swallow.</strong></p>\n<p>Treatment:</p>\n<p>For symptomatic patients who do not have reflux, the best form of treatment consists of <strong>esophageal dilation </strong>for relief of the obstructive symptoms. In patients who have proven reflux and a mechanically defective sphincter, <strong>an antireflux procedure</strong> is done to obtain relief and avoid repeated dilation.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f7fa6a5290394bf6b68c11c0fe83a337.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A middle-aged woman comes to your clinic due to recurrent episodes of cough productive of large amounts of sputum for 2 years. She is a non-smoker. Lung examination reveals wheezes with crackles bilaterally. A transverse section of the CT lung is given in the image below. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary tuberculosis"
      },
      {
        "id": 2,
        "text": "Bronchiectasis"
      },
      {
        "id": 3,
        "text": "Chronic obstructive pulmonary disease"
      },
      {
        "id": 4,
        "text": "Bronchial asthma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical scenario of <strong>repeated chest infections </strong>with the presence of <strong>large amounts of sputum </strong>in a non-smoker point to the diagnosis of<strong> bronchiectasis. </strong>The CT scan showing the <strong>signet ring sign</strong> is specific for <strong>bronchiectasis</strong>.</p>\n<p><strong>Bronchiectasis</strong> refers to the <strong>irreversible</strong> dilatation of bronchi due to <strong>recurrent cycles</strong>&nbsp;of infection, inflammation, and tissue damage. Development of the disease requires an infectious insult in combination with impaired bacterial clearance (eg, impaired immune defenses, structural airway defect).</p>\n<p>Bronchiectasis is commonly associated with <strong>Kartagener syndrome, </strong>cystic fibrosis, and<strong> allergic bronchopulmonary aspergillosis</strong>.</p>\n<p>Clinically, patients present with persistent productive cough and production of thick tenacious sputum. On examination, there will be clubbing, wheeze, and crackles.</p>\n<p>A chest X-ray shows tram track appearance due to the dilated airways.&nbsp;<strong>Chest CT</strong> is the best method for the diagnosis of bronchiectasis.&nbsp;CT findings include:</p>\n<ul>\n<li><strong>Tram track appearance</strong></li>\n<li><strong>Signet ring sign</strong></li>\n<li>Lack of bronchial tapering</li>\n<li><strong>Tree-in-bud pattern</strong> - It occurs due to the thickening of the dilated airways along with the inspissated secretions.</li>\n<li>Cysts originating from the bronchial wall (pronounced in cystic bronchiectasis)</li>\n</ul>\n<p>The image given below shows the signet ring sign (arrows) seen in bronchiectasis:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/98cc8995fe354abaa0d5962f5c68dd4e.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2a951d0e7a1d442295c2ca3269558daex720x900.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/49642fae82914b418ae5694d1c5cb66fx500x426.JPEG"
    ]
  },
  {
    "text": "Which of the following is the classic CT appearance seen in patients with acute subdural hematoma?",
    "choices": [
      {
        "id": 1,
        "text": "Lentiform hyperdense lesion"
      },
      {
        "id": 2,
        "text": "Crescent-shaped hypodense lesion"
      },
      {
        "id": 3,
        "text": "Crescent-shaped hyperdense lesion"
      },
      {
        "id": 4,
        "text": "Biconcave hypodense lesion"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A<strong> crescent-shaped hyperdense lesion </strong>that <strong>crosses the suture lines&nbsp;</strong>on axial<strong> CT</strong> is indicative of <strong>acute subdural hematoma</strong>/hemorrhage.</p>\n<p>Subdural hemorrhage (SDH)&nbsp;is a collection of blood between the&nbsp;dura&nbsp;and the&nbsp;arachnoid&nbsp;layers of the meninges. Most commonly, it results from the <strong>rupture of cortical bridging veins</strong>.&nbsp;</p>\n<p><strong>Non-contrast CT</strong> is the <strong>investigation of choice</strong>. Radiographic features of subdural hemorrhage are:</p>\n<ul>\n<li>Typically unilateral</li>\n<li>Crescent-like distribution (<strong>concavo-convex</strong>) around the periphery of the brain</li>\n<li>Not limited by sutures and can fill dural reflections</li>\n<li><strong>Chronic </strong>subdural hemorrhage: Crescent-shaped<strong> hypodense </strong>lesion<strong>&nbsp;</strong>on axial CT</li>\n<li><strong>Acute </strong>subdural hemorrhage:<strong> Hyperdense </strong>collections on CT</li>\n</ul>\n<p>A <strong>lentiform </strong>(lens-shaped)<strong> hyperdense </strong>lesion that <strong>does not cross suture lines&nbsp;</strong>on axial CT is suggestive of an&nbsp;<strong>epidural hemorrhage.</strong></p>\n<p>The image given below shows a subdural hematoma with a crescent-shaped hyperdense lesion on CT:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0b36cb791c90411ba7d0a1a1ef844ef4x1230x1236.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/86cf0269cb09457e80b59fada464fecbx1168x1238.PNG"
    ]
  },
  {
    "text": "A 60-year-old man presents with a 5-day history of cough and fever. Chest X-ray shows obliteration of the right cardiac border. Which anatomical site is likely involved in the pathology?",
    "choices": [
      {
        "id": 1,
        "text": "Right lower lobe"
      },
      {
        "id": 2,
        "text": "Right atrium"
      },
      {
        "id": 3,
        "text": "Right middle lobe"
      },
      {
        "id": 4,
        "text": "Right ventricle"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Obliteration </strong>of the<strong> right cardiac</strong> border on chest X-ray indicates pathology in the <strong>right middle lobe</strong>.</p>\n<p>This loss of clear demarcation between the normal lung and its surrounding soft structures (heart, diaphragm)\u00a0is called the<strong> silhouette sign</strong>. It occurs due to <strong>loss of contrast</strong> between lungs and soft tissue when the lung parenchyma is no longer filled with air. This sign may be seen in consolidation, atelectasis, or mass lesions.</p>\n<p>In the following images:</p>\n<ul>\n<li>Left image - red line indicates the normal demarcation between the right heart border and middle lobe of the right lung</li>\n<li>Right image - loss of demarcation (positive silhouette sign) due to right middle lobe\u00a0consolidation</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a83317ddbc9a42e7b2b7261e28690774x1024x472.JPEG"
    ]
  },
  {
    "text": "On a CT scan, intracranial calcifications seen in all of the following structures are considered normal in the elderly population, except ___________.",
    "choices": [
      {
        "id": 1,
        "text": "Habenula"
      },
      {
        "id": 2,
        "text": "Pineal gland"
      },
      {
        "id": 3,
        "text": "Pituitary gland"
      },
      {
        "id": 4,
        "text": "Red nucleus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>red nucleus</strong> is not a usual site&nbsp;of normal intracranial calcification.</p>\n<p>Sites of normal intracranial calcification, visible on CT scan are:</p>\n<ul>\n<li>Pineal</li>\n<li>Habenula</li>\n<li>Choroid plexuses</li>\n<li>Dura (falx; tentorium; over vault)</li>\n<li>Ligaments (petroclinoid and interclinoid)</li>\n<li>Pacchionian bodies</li>\n<li>Basal ganglia and dentate nuclei</li>\n<li>Pituitary gland</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What does the ultrasonography transducer contain?",
    "choices": [
      {
        "id": 1,
        "text": "Sodium Fluoride"
      },
      {
        "id": 2,
        "text": "Lead Zirconate"
      },
      {
        "id": 3,
        "text": "Barium titanate"
      },
      {
        "id": 4,
        "text": "Sodium Zirconate"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Lead zirconate titanate </strong>(PZT) is the most widely used material in the <strong>ultrasound</strong> <strong>transducers</strong>/probes. It has replaced the previously used barium titanate.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 68-year-old male patient, who is a known case of hypertension, presented with severe chest and back pain. Contrast-enhanced CT revealed an aortic dissection involving only the descending thoracic aorta, not extending into the abdominal aorta. According to DeBakey's classification, the aortic dissection is classified as ______.",
    "choices": [
      {
        "id": 1,
        "text": "Type I"
      },
      {
        "id": 2,
        "text": "Type II"
      },
      {
        "id": 3,
        "text": "Type IIIa"
      },
      {
        "id": 4,
        "text": "Type IIIb"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>According to DeBakey's classification, the<strong> aortic dissection limited</strong> to the <strong>descending thoracic</strong> aorta is classified as <strong>DeBakey type IIIa</strong>.</p>\n<p class=\"p1\">Aortic dissection is initiated by an intimal tear, which allows blood to penetrate into the medial layer, producing a cleavage plane (false lumen) between the inner two-thirds and outer one-third of the media. The true lumen is separated from the false lumen by an intimo-medial flap. It most commonly occurs in<strong> middle-aged</strong> and<strong> elderly hypertensive</strong> patients.</p>\n<p><strong>Classification of aortic dissection:</strong></p>\n<p>Acute aortic dissection can be classified by the original <strong>DeBakey system</strong>, based on the location of the proximal tear and distal extent of the dissection flap, or the <strong>Stanford system</strong> which uses the location of the proximal tear alone.&nbsp;</p>\n<table style=\"width: 397px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 96px; height: 18px;\"><strong>Site of dissection</strong></td>\n<td style=\"width: 24.083343505859375px; height: 18px;\"><strong>DeBakey</strong></td>\n<td style=\"width: 47.916656494140625px; height: 18px;\"><strong>Stanford</strong></td>\n</tr>\n<tr style=\"height: 56px;\">\n<td style=\"width: 96px; height: 56px;\">Both ascending and descending aorta</td>\n<td style=\"width: 24.083343505859375px; height: 56px;\">Type I</td>\n<td style=\"width: 47.916656494140625px; height: 56px;\">Type A</td>\n</tr>\n<tr style=\"height: 37px;\">\n<td style=\"width: 96px; height: 37px;\">Only ascending and arch of the aorta</td>\n<td style=\"width: 24.083343505859375px; height: 37px;\">Type II</td>\n<td style=\"width: 47.916656494140625px; height: 37px;\">Type A</td>\n</tr>\n<tr style=\"height: 103.66668701171875px;\">\n<td style=\"width: 96px; height: 135.66668701171875px;\" rowspan=\"2\">\n<p>Descending aorta distal to the subclavian artery</p>\n</td>\n<td style=\"width: 24.083343505859375px; height: 103.66668701171875px;\">\n<p>Type IIIa</p>\n<p>Limited to the thoracic aorta</p>\n</td>\n<td style=\"width: 47.916656494140625px; height: 103.66668701171875px;\" rowspan=\"2\">Type B</td>\n</tr>\n<tr style=\"height: 32px;\">\n<td style=\"width: 24.083343505859375px; height: 32px;\">\n<p>Type IIIb</p>\n<p>Extends to the abdominal aorta</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/867f02e1159040d9b1e0a8d4dfbaa4eax1280x1241.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/40954295537341c59bd694df65977c85x512x187.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ebc832840d954b53be7f9da4a4615e75x1280x3028.JPEG"
    ]
  },
  {
    "text": "A young female patient with a history of renal calculi presents with bone pain and abdominal cramps. On investigation, multiple fractures and raised levels of serum calcium and PTH are noted. Which of the following will be the best investigation to arrive at a definitive diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Contrast-enhanced CT neck"
      },
      {
        "id": 2,
        "text": "Sestamibi scan"
      },
      {
        "id": 3,
        "text": "Ultrasound neck"
      },
      {
        "id": 4,
        "text": "Radioiodine scan"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical presentation is suggestive of <strong>hyperparathyroidism</strong>.&nbsp;<strong>Sestamibi scan</strong>&nbsp;is the best investigation for parathyroid abnormalities. The most common cause of primary hyperparathyroidism is parathyroid adenoma.</p>\n<p>Sestamibi is a monovalent, lipophilic cation that passively diffuses across cell membranes and accumulates in mitochondria.</p>\n<p>There are mainly two techniques used to differentiate sestamibi uptake by abnormal parathyroid and thyroid tissue:</p>\n<ul>\n<li><strong>Subtraction imaging -&nbsp;</strong>This method uses a dual radionu&shy;clide approach with sestamibi and either iodine-123 or&nbsp;either <sup>99m</sup>Tc pertechnetate.</li>\n<li><strong>Dual-phase imaging -&nbsp;</strong>This method uses sesta&shy;mibi alone with early and delayed imaging.</li>\n</ul>\n<p>Sestamibi single-photon emission CT has become the most commonly used preoperative imaging study in parathyroid disease because of its improved spatial resolution.</p>\n<p>The image below shows left inferior thyroid adenoma:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8a5e368b90b74f42954abcb1570d763ax290x276.JPEG"
    ]
  },
  {
    "text": "A 39-year-old male patient presented with complaints of fever and cough. His chest radiograph shows air bronchogram sign. The probable diagnosis is :",
    "choices": [
      {
        "id": 1,
        "text": "Pleural effusion"
      },
      {
        "id": 2,
        "text": "Consolidation"
      },
      {
        "id": 3,
        "text": "Hilar lymphadenopathy"
      },
      {
        "id": 4,
        "text": "Bronchiectasis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The\u00a0radiograph shows\u00a0<strong>air bronchogram sign</strong>\u00a0in a <strong>lung with consolidation,</strong> seen in pneumonia, which is supported by the clinical history of this patient.</p>\n<p>An\u00a0<strong>air bronchogram</strong>\u00a0is a tubular outline of an airway made visible when there is filling of the surrounding alveoli by fluid or inflammatory exudates.</p>\n<p>The causes of air bronchogram are as follows:</p>\n<ul>\n<li>Lung consolidation</li>\n<li>Pulmonary edema</li>\n<li>Nonobstructive pulmonary atelectasis</li>\n<li>Severe interstitial disease</li>\n<li>Neoplasm</li>\n<li>Normal expiration</li>\n</ul>\n<p>Pleural effusion is seen as a homogenous opacity on chest radiograph.</p>\n<p>The given radiograph shows peribronchial thickening and <strong>air bronchogram sign:</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0bfaea8b092e4fbe929df4a232113e51x800x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ce03e3a10154459bb2caa98401486896x1280x960.JPEG"
    ]
  },
  {
    "text": "A 42-year-old woman with history of squamous cell carcinoma lung presents with shortness of breath. Her chest X-ray is shown below. Which among the following is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Right upper lobe collapse"
      },
      {
        "id": 2,
        "text": "Right lower lobe collapse"
      },
      {
        "id": 3,
        "text": "Left upper lobe collapse"
      },
      {
        "id": 4,
        "text": "Left lower lobe collapse"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given X-ray shows the <strong>golden S sign</strong> which is seen in the <strong>right upper lobe collapse.</strong></p>\n<p><strong>Golden S-sign</strong>&nbsp;is seen on both PA chest radiographs and on CT scans in the right upper lobe collapse. It is named because this sign resembles a reverse S shape, and is therefore sometimes referred to as the&nbsp;reverse S-sign of Golden.&nbsp;</p>\n<p>Although typically seen with the&nbsp;<strong>right upper lobe collapse</strong>, the S-sign can also be seen with the collapse of other lobes. It is created by a central mass obstructing the upper lobe bronchus. It should raise suspicion of a primary&nbsp;<strong>bronchogenic carcinoma</strong>. It can also be caused by other central masses, such as metastasis, primary mediastinal tumor, or enlarged lymph nodes.</p>\n<p>The additional finding in this X-ray is the presence of calcified breast implants.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/04e640911cb84548a3bc4296fa97c487.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1430e2fc6ec94ec088c0534260a14729x657x598.PNG"
    ]
  },
  {
    "text": "A 50-year-old male patient was brought to the casualty after a road traffic accident and eFAST was performed on him. Which among the following statements is true regarding eFAST?",
    "choices": [
      {
        "id": 1,
        "text": "It detects free fluid in the abdomen or pericardium"
      },
      {
        "id": 2,
        "text": "It detects hollow viscus injury"
      },
      {
        "id": 3,
        "text": "It detects solid organ injury"
      },
      {
        "id": 4,
        "text": "It helps in assessment of retroperitoneum"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>eFAST/extended FAST</strong> helps in detecting <strong>free fluid in the abdomen and pericardium.</strong>\u00a0</p>\n<p><strong>Focused assessment with sonography for trauma\u00a0(FAST)</strong>\u00a0aims to identify<strong> intra-abdominal free fluid </strong>(assumed to be\u00a0hemoperitoneum\u00a0in the context of trauma)\u00a0allowing for an immediate transfer for surgery or for CT imaging and further workup.</p>\n<p><strong>The standard order of evaluation is:</strong></p>\n<ul>\n<li class=\"bulletIndent1\">Pericardial (subxiphoid)</li>\n<li class=\"bulletIndent1\">Right flank (perihepatic view or Morison's pouch)</li>\n<li class=\"bulletIndent1\">Left flank (perisplenic view)</li>\n<li class=\"bulletIndent1\">Pelvic (retrovesical views)</li>\n</ul>\n<p><strong>eFAST </strong>(Extended FAST) is used to assess\u00a0<strong>pleura</strong>l\u00a0(pneumothorax and hemothorax evaluation), <strong>pericardial</strong> region, <strong>right flank, left flank</strong>, and <strong>pelvic region</strong>. It is accurate in detecting &gt;100 ml of free blood. Hollow viscus injury and solid organ injury are difficult to diagnose. It is also unreliable in excluding injury in penetrating trauma. It is unreliable for the assessment of the retroperitoneum.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A high-resolution CT image of the chest is shown below. Which of the following conditions is it most likely suggestive of?",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary tuberculosis"
      },
      {
        "id": 2,
        "text": "Chronic eosinophilic pneumonia"
      },
      {
        "id": 3,
        "text": "Pulmonary alveolar microlithiasis"
      },
      {
        "id": 4,
        "text": "Idiopathic pulmonary fibrosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The HRCT image shows <strong>sandstorm</strong> <strong>appearance</strong> and <strong>black</strong> <strong>pleura</strong> <strong>sign</strong> characteristic of <strong>pulmonary</strong> <strong>alveolar</strong> <strong>microlithiasis</strong>.</p>\n<p>Pulmonary alveolar microlithiasis occurs due to the deposition of small calcium and phosphate stones (&lt;3mm) within the alveoli. The stones are of unknown origin.</p>\n<p><strong>Radiological features:</strong></p>\n<ul>\n<li>CXR/CT shows widespread, discrete, high-density opacities, resembling the grains of sand in both the lungs. The appearance is commonly described as<strong> sand-storm appearance.</strong></li>\n<li>Profuse infiltration may appear as <strong>white-out</strong>, with obscuration of the heart borders and diaphragm.</li>\n<li>The presence of small cysts (5-10 mm) or paraseptal emphysema, may cause the pleura to appear a black, lucent line lying between the pulmonary infiltrate and the adjacent ribs, referred to as <strong>&lsquo;black</strong>-<strong>pleura</strong> <strong>sign&rsquo;</strong>.</li>\n<li>Bilateral diffuse ground-glass opacities with nodular thickening along the fissures and interlobar septa produce a <strong>crazy-paving</strong> pattern.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a7f97b6ba1a942e18c39bd4c72af5aba.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "An 18-year-old girl presented with seizures and her radiological image is as given below. Knowing that the MR spectroscopy of the lesion showed elevated choline, alanine, and lactate, what is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Cerebral toxoplasmosis"
      },
      {
        "id": 2,
        "text": "Neurocysticercosis"
      },
      {
        "id": 3,
        "text": "Cryptococcosis"
      },
      {
        "id": 4,
        "text": "Multiple tuberculomas"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given radiological image and history of seizures suggests a diagnosis of <strong>neurocysticercosis</strong>.&nbsp;</p>\n<p>Neurocysticercosis presents with seizures, hydrocephalus, raised ICP, and may even cause signs of chronic meningitis. The given image shows multilobulated cystic lesions (with scolex) in the subarachnoid space, typical&nbsp;parenchymal brain calcifications are suggestive of <strong>neurocysticercosis</strong> caused by T.<strong>&nbsp;</strong>solium <strong>(Cysticercosis cellulose).&nbsp;</strong></p>\n<ul>\n<li><strong>Cyst with a dot sign:&nbsp;</strong>seen in both MRI and CT and the dot represents the eccentrically placed scolex of the parasite.</li>\n</ul>\n<p>MR Spectroscopy features of neurocysticercosis include&nbsp;elevated lactate, alanine, succinate, and choline levels and reduced levels of N -acetyl aspartate and creatine.&nbsp;<strong>Escobar's pathological stages</strong> describe 4 stages -&nbsp;vesicular,&nbsp;colloidal vesicular,&nbsp;granular nodular, and&nbsp;nodular calcified.&nbsp;</p>\n<p>Other options</p>\n<ul>\n<li>Solid or ring enhancement is typical in the post-contrast images of tuberculoma. A central focus of calcification with a ring of peripheral enhancement (the \"target sign\") is also described in tuberculosis&nbsp;but is not specific to it.</li>\n<li>Cerebral toxoplasmosis appears as multiple hypodense regions predominantly in the basal ganglia and at the corticomedullary junction. It can be associated with ring enhancing lesions as well.</li>\n<li>Cryptococcosis is usually associated with normal scans but may show cerebral atrophy, hydrocephalus or mass lesions as well.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c156787d16554c19abf0fb76fc013ff5.gif"
    ],
    "explanation_images": []
  },
  {
    "text": "Match the following  Intravenous pyelogram (IVP) findings and the conditions associated with them.",
    "choices": [
      {
        "id": 1,
        "text": "1-b, 2-d, 3-c, 4-a"
      },
      {
        "id": 2,
        "text": "1-c, 2-a, 3-d, 4-b"
      },
      {
        "id": 3,
        "text": "1-a, 2-d, 3-b, 4-c"
      },
      {
        "id": 4,
        "text": "1-d, 2-b, 3-a, 4-c"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: left;\">The correct answer is&nbsp;<strong>1-c, 2-a, 3-d, 4-b (option B).</strong></p>\n<table style=\"height: 115px; width: 262px;\">\n<tbody>\n<tr>\n<td style=\"width: 111.984px; text-align: left;\"><strong>IVP sign</strong></td>\n<td style=\"width: 132.016px; text-align: left;\"><strong>Condition</strong></td>\n</tr>\n<tr>\n<td style=\"width: 111.984px; text-align: left;\">1. Cobra neck appearance</td>\n<td style=\"width: 132.016px; text-align: left;\">c. Ureterocele</td>\n</tr>\n<tr>\n<td style=\"width: 111.984px; text-align: left;\">2.&nbsp;Maiden waist sign</td>\n<td style=\"width: 132.016px; text-align: left;\">a. Retroperitoneal fibrosis</td>\n</tr>\n<tr>\n<td style=\"width: 111.984px; text-align: left;\">3. Paintbrush appearance</td>\n<td style=\"width: 132.016px; text-align: left;\">d. Medullary sponge kidney</td>\n</tr>\n<tr>\n<td style=\"width: 111.984px; text-align: left;\">4. Fishhook ureters</td>\n<td style=\"width: 132.016px; text-align: left;\">b. Retrocaval ureter&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p><strong>Cobra neck appearance</strong> - It is also called the&nbsp;<strong>cobra head sign </strong>or the&nbsp;<strong>spring onion sign </strong>and is seen in the ureterocele.<strong>&nbsp;</strong>It&nbsp;refers to dilatation of the distal ureter, surrounded by a thin rim to the ureteric wall and bladder mucosa. It is seen in patients with an adult-type ureterocele. The cobra head appearance indicates an uncomplicated ureterocele.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c03b3f78042d46a09743586d202cc242x720x1092.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c8025f3c1412496baf809f5925a7633bx720x783.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cd42858f0bf54f0e8cae4bd9b9cded06x768x1024.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9d30674e864348f9a1c25154d90d6708x1025x1803.JPEG"
    ]
  },
  {
    "text": "A 40-year-old female patient approached a radiologist for a screening breast examination during breast cancer awareness month. Which of the following best represents the difference in the  X-ray tube used in this procedure from that of a conventional X-ray machine?",
    "choices": [
      {
        "id": 1,
        "text": "Beryllium exit window and molybdenum filter"
      },
      {
        "id": 2,
        "text": "Glass exit window and aluminium filter"
      },
      {
        "id": 3,
        "text": "Beryllium exit window and aluminium filter"
      },
      {
        "id": 4,
        "text": "Glass exit window and molybdenum filter"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The screening procedure for breast cancer is <strong>mammography.</strong> The x-ray tube used in\u00a0mammography\u00a0differs from that of a conventional x-ray machine in that it has a <strong>beryllium exit window</strong> and<strong> molybdenum filter</strong>.</p>\n<p>Differences between mammography and conventional radiography:</p>\n<ul>\n<li>Mammography involves the use of\u00a0<strong>low-energy</strong> and<strong> high-amperage</strong> waves.</li>\n<li>The target anode is made of a tungsten disc in conventional x-ray tubes and\u00a0<strong>molybdenum</strong> in mammography x-ray tubes.</li>\n<li>Most mammography tubes use <strong>beryllium exit windows</strong> between the evacuated tube and the atmosphere.</li>\n<li>The<strong> conventional X-ray</strong>\u00a0tube has an aluminum filter, but in mammography, a\u00a0<strong>molybdenum filter\u00a0</strong>is used.</li>\n</ul>\n<div class=\"page\" title=\"Page 1780\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<p>Some indications for mammography:</p>\n<ul>\n<li>Evaluation of breast signs and symptoms like masses, skin changes, deformities, nipple retraction, discharge, and eczema</li>\n<li>Breast cancer screening</li>\n<li>Follow-up for patients treated for breast cancer</li>\n<li>Localization of lesions not visible on ultrasound</li>\n</ul>\n<div class=\"page\" title=\"Page 1780\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The two standard mammographic projections are the <strong>mediolateral oblique view</strong> and the<strong> craniocaudal view</strong>.</p>\n</div>\n</div>\n</div>\n</div>\n<p>Note:\u00a0<strong>Breast cancer awareness month\u00a0</strong>is an annual international health campaign organized by major\u00a0breast cancer\u00a0charities every\u00a0year in the month of <strong>October</strong>.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient's gall bladder has the following appearance on MRI. What is the most likely interpretation?",
    "choices": [
      {
        "id": 1,
        "text": "Cholangiocarcinoma"
      },
      {
        "id": 2,
        "text": "Choledochal cyst"
      },
      {
        "id": 3,
        "text": "Caroli's disease"
      },
      {
        "id": 4,
        "text": "Normal anatomical variant"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given appearance of the gallbladder is known as a <strong>Phrygian cap,</strong>\u00a0which is a <strong>normal anatomical variant.</strong></p>\n<p><strong>Phrygian cap</strong> refers to an anatomical variant of the gallbladder, where<span style=\"box-sizing: border-box; margin: 0px; padding: 0px;\"><strong> the gallbladder's fundus</strong></span><strong> folds on itself</strong>\u00a0or is separated from the body by a partial or complete septum. A true septum is uncommon and is usually an <strong>apparent septum</strong> due to the gallbladder wall folding.\u00a0It is an <strong>incidental finding</strong> that may be seen on CT, MRI, or ultrasound. It causes no symptoms.</p>\n<p>The<strong> Phrygian\u00a0cap</strong> is named so, due to the resemblance of the ultrasonographic appearance to a hat or cap that\u00a0is worn by the inhabitants of ancient Phrygia circa 1200 BC.</p>\n<p>The image below shows a <strong>Phrygian cap</strong>:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/936e576490cb451aa30a255f663dd56a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/20c7b8aa1f4549c1b168d6392d90ca35x574x800.JPEG"
    ]
  },
  {
    "text": "A 38-year-old man is brought to the casualty following a road traffic accident. His CT scan is shown below. Which among the following is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Intestinal perforation"
      },
      {
        "id": 2,
        "text": "Liver rupture"
      },
      {
        "id": 3,
        "text": "Normal spleen"
      },
      {
        "id": 4,
        "text": "Splenic laceration"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given CT scan shows <strong>splenic laceration.\u00a0</strong></p>\n<p>Splenic lacerations are linear low attenuation parenchymal defects and are almost always associated with haemoperitoneum.</p>\n<p><strong>The spleen</strong> is the visceral organ <strong>most commonly injured in blunt trauma abdomen</strong>. Severely ill patients may present with hypovolemic shock manifesting as tachycardia, hypotension, and pallor. A splenic rupture may not always be clinically apparent and spontaneous splenic rupture or pathological rupture can occur after minor trauma or insignificant events.</p>\n<p><strong>Investigation of choice</strong> in blunt trauma abdomen is<strong> CECT</strong>.</p>\n<p>Splenic injury are currently classified into five grades based on the\u00a0<strong>American Association for the Surgery of Trauma (AAST)</strong> <strong>splenic injury scale</strong>\u00a0(revised in 2018).</p>\n<p>Management of splenic trauma:</p>\n<ul>\n<li>Nonoperative management is preferred for stable grade\u00a0I, II, or III splenic injuries.</li>\n<li>Splenectomy is done for grade IV and V injuries.</li>\n</ul>\n<p>CT showing splenic laceration and hematoma:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9a50d80280b14f14a590f88f4e612b42.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4d64239ef839470bb35682f9458fbc0fx924x860.PNG"
    ]
  },
  {
    "text": "Which of the following MRI imaging techniques produce a bright cerebrospinal fluid (CSF) appearance?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 3"
      },
      {
        "id": 2,
        "text": "2 and 3"
      },
      {
        "id": 3,
        "text": "2 and 4"
      },
      {
        "id": 4,
        "text": "1 and 4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A bright CSF appearance is seen in <strong>T2 weighted images</strong> and <strong>STIR&nbsp;</strong>(<strong>Short tau inversion recovery).</strong></p>\n<p><strong>T1 weighted images:</strong></p>\n<ul>\n<li>It is one of the basic MRI pulse sequences.</li>\n<li>The difference in the appearance of various tissues is due to their different T1 relaxation times.</li>\n<li>CSF has a long T1 time and <strong>appears dark.</strong></li>\n</ul>\n<p><strong>T2 weighted images:</strong></p>\n<ul>\n<li>It is also a basic MRI pulse sequence.</li>\n<li>It is based on the T2 relaxation time of the tissues.</li>\n<li><strong>CSF appears bright</strong> in these images.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d15191178c2447b6b66eea585bfa75a8x809x534.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ca282fde75ae48049c1cee4dc1e560a4x1010x1056.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/43c01c16381b4321bd62fff5beec04c9x512x512.JPEG"
    ]
  },
  {
    "text": "A neonate who was apparently normal at birth is brought to the emergency department with complaints of bilious vomiting. An upper gastrointestinal barium study was done and the image is given below. Identify the characteristic radiographic finding shown in the image.",
    "choices": [
      {
        "id": 1,
        "text": "Corkscrew sign"
      },
      {
        "id": 2,
        "text": "Rigler's sign"
      },
      {
        "id": 3,
        "text": "Coffee bean sign"
      },
      {
        "id": 4,
        "text": "Whirlpool sign"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows the&nbsp;<strong>corkscrew sign</strong>&nbsp;which is a characteristic radiographic finding in&nbsp;<strong>midgut volvulus.</strong></p>\n<p>Midgut volvulus is a complication of malrotation of the bowel and may result in <strong>proximal bowel obstruction.</strong> It can occur at any age but it is commonly seen in the first few months of life. The baby presents with bilious vomiting, abdominal pain, and failure to thrive.</p>\n<p>Characteristic radiographic signs include:</p>\n<ul>\n<li><strong>Corkscrew sign -&nbsp;</strong>It is a&nbsp;barium meal study finding seen in <strong>midgut volvulus.</strong> It describes&nbsp;the spiraling of the duodenum and jejunum around the mesenteric vessels.&nbsp;\n<div class=\"page\" title=\"Page 1792\">It&nbsp;has been identified as a <strong>diagnostic indicator </strong>of midgut volvulus.</div>\n</li>\n<li><strong>Whirlpool sign - </strong>It is also known as the whirl sign. It is seen due to the rotation of the bowel around the mesentery leading to whorls of mesenteric vessels. It can be seen in ultrasound and CT scans.</li>\n</ul>\n<p>The <strong>whirlpool sign</strong> on a CT is shown below:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6691c6c2f81f4a05b3e9d710c5da1b7f.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/db5a987b59984d4f87a82ffb828ea54ax512x380.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/48415ae4a67d4b03abd59deaed7415c8x720x717.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fc73c1e6cf0c43cebabf1260dacb655cx490x600.JPEG"
    ]
  },
  {
    "text": "Which of the following tumors are wrongly matched with their response to radiotherapy?",
    "choices": [
      {
        "id": 1,
        "text": "Dysgerminoma - Radioresistant"
      },
      {
        "id": 2,
        "text": "Seminoma - Radiosensitive"
      },
      {
        "id": 3,
        "text": "Spinal metastasis from RCC - Radioresistant"
      },
      {
        "id": 4,
        "text": "Ewing sarcoma - Radiosensitive"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Dysgerminoma</strong>\u00a0is <strong>highly radiosensitive</strong>. All other options are correctly matched.</p>\n<p><strong>Dysgerminoma</strong>\u00a0is the counterpart of testicular seminoma.\u00a0It may occur in childhood, but 75% occur in the <strong>second and third decades</strong>.\u00a080 to 90% of tumors are\u00a0<strong>unilateral.\u00a0</strong>Some appear in patients with\u00a0gonadal dysgenesis, including pseudohermaphroditism.\u00a0</p>\n<p>Mostly dysgerminomas are<strong> malignant\u00a0</strong>with variable degrees of histologic atypia and one-third of lesions are aggressive.\u00a0</p>\n<p>Radiotherapy is not preferred despite the fact that they are <strong>radiosensitive</strong> due to the risk of radiation injury to the bowel.\u00a0These neoplasms are <strong>responsive to chemotherapy</strong>, which is preferred over radiotherapy.</p>\n<p>Other options:</p>\n<p>Option B: <strong>Seminomas</strong> are <strong>radiosensitive</strong> tumors and adjuvant radiotherapy was the mainstay of treatment in Stage 1 tumors previously.</p>\n<p>Option C: <strong>Spinal metastasis</strong> from renal cell carcinoma (RCC) is <strong>radioresistant</strong>. Spinal metastasis from gastrointestinal adenocarcinoma, metastatic melanoma, and thyroid are also radioresistant. Lymphoma, lung, breast, and prostate metastasis are radiosensitive.</p>\n<p>Option D: <strong>Ewing sarcoma</strong> is a <strong>radiosensitive</strong> tumor.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 64-year-old male patient who is admitted to the intensive care unit for pneumonia suddenly develops breathing difficulty and tachycardia. On auscultation, there are decreased breath sounds on the right side. A portable chest X-ray was taken in the supine position, and it showed the deep sulcus sign.  What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Atelectasis"
      },
      {
        "id": 2,
        "text": "Pneumothorax"
      },
      {
        "id": 3,
        "text": "Pulmonary embolism"
      },
      {
        "id": 4,
        "text": "Pleural effusion"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the given clinical vignette, <strong>sudden deterioration</strong> in <strong>pre-existing pneumonia</strong> with reduced breath sounds suggests <strong>secondary spontaneous pneumothorax </strong>and the presence of the <strong>deep sulcus sign</strong> on the chest X-ray confirms the diagnosis.\u00a0</p>\n<p>A<strong> deep sulcus sign</strong>\u00a0is a <strong>supine</strong> radiograph finding indicative of pneumothorax. The costophrenic angle is abnormally deepened when the pleural air collects laterally, producing the deep sulcus sign. In a supine film (common in the ICU), it may be the only indication of pneumothorax because air collects anteriorly and basally within the nondependent portions of the pleural space.</p>\n<p>In chronic obstructive pulmonary disease <strong>(COPD) </strong>patients there may be the presence of deepened costophrenic angles due to hyperinflation of the lungs which can cause a<strong> false deep sulcus sign</strong>.</p>\n<p>The image below shows the deep sulcus sign seen on a chest radiograph:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d75fbf90b62e4a299077774a6896004fx715x899.JPEG"
    ]
  },
  {
    "text": "Which of the following conditions is not associated with opacification of the hemithorax on chest X-ray?",
    "choices": [
      {
        "id": 1,
        "text": "Collapse"
      },
      {
        "id": 2,
        "text": "Pneumonectomy"
      },
      {
        "id": 3,
        "text": "Macleod syndrome"
      },
      {
        "id": 4,
        "text": "Massive tumour"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Opacification of the hemithorax on chest X-ray is not seen in <strong>Macleod syndrome</strong>; it causes <strong>hyper translucent</strong> hemithorax.\u00a0All the other conditions mentioned produce an <strong>opacification of the hemithorax </strong>or<strong> white-out hemithorax.</strong></p>\n<p>Causes of opacification of a hemithorax:</p>\n<ul>\n<li>Pleural effusion</li>\n<li>Consolidation</li>\n<li><strong>Collapse</strong></li>\n<li><strong>Massive tumor</strong></li>\n<li>Fibrothorax</li>\n<li>Combination of the above lesions</li>\n<li><strong>Pneumonectomy</strong></li>\n<li>Lung agenesis</li>\n</ul>\n<p>Macleod syndrome or\u00a0Swyer-James syndrome: It results from an insult to the lower respiratory following adenovirus (most commonly) or respiratory syncytial virus, measles, or mycoplasma pneumonia. It refers to the inability of the lungs to grow after severe obstructive bronchiolitis.</p>\n<p>Causes for unilateral hyper translucent hemithorax:</p>\n<ul>\n<li>Rotation due to poor patient positioning\u2013 most common</li>\n<li>Scoliosis</li>\n<li>Mastectomy</li>\n<li>Pneumothorax</li>\n<li>Emphysema</li>\n<li>Macleod syndrome</li>\n<li>Poland syndrome</li>\n<li>Pulmonary embolism</li>\n</ul>\n<p>Image showing <strong>white-out hemithorax:</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9a09a83fe93b48efbbda9f45aa528d91x512x361.PNG"
    ]
  },
  {
    "text": "A 44-year-old man who works as an operator in the CT room is being evaluated for radiation exposure using the equipment shown below. Which of the following is not a constituent of this badge?",
    "choices": [
      {
        "id": 1,
        "text": "Lead"
      },
      {
        "id": 2,
        "text": "Calcium sulfate"
      },
      {
        "id": 3,
        "text": "Dysprosium"
      },
      {
        "id": 4,
        "text": "Lithium flouride"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given shows a<strong> TLD badge</strong> (thermoluminescent dosimeter) which is used for personal radiation dose monitoring. Lead&nbsp;is not a constituent of this badge.</p>\n<p>Lead is not a component of the TLD badge but lead is used to offer radiation shielding. <strong>Lead aprons</strong> are commonly used to safeguard from scattered radiation.</p>\n<p>The thermoluminescent material used in them is <strong>calcium sulfate doped with dysprosium </strong>or<strong> lithium fluoride</strong>. The radiation exposure is monitored every<strong> 3 months</strong>.&nbsp;The badge should be positioned&nbsp;according to local or national practices.</p>\n<p>In India, the TLD badge is worn inside the lead apron at the <strong>chest level</strong>. The <strong>maximum dose limit</strong> for occupational radiation workers is <strong>30 mSv</strong> in a year provided the cumulative dose in a block of 5 years does not exceed 100 mSv.&nbsp;</p>\n<p><strong>Acute Radiation Syndromes (ARS)</strong>&nbsp;is an acute illness that is caused by exposure of the entire body to a high dose of penetrating radiation in a very short period of time.&nbsp;It is also known as&nbsp;radiation toxicity&nbsp;or&nbsp;radiation sickness.<strong>&nbsp;</strong>It consists of three syndromes:</p>\n<table style=\"width: 302.766px;\">\n<tbody>\n<tr>\n<td style=\"width: 165px;\"><strong>Syndrome &nbsp;</strong></td>\n<td style=\"width: 115.766px;\"><strong>Radiation dose</strong></td>\n</tr>\n<tr>\n<td style=\"width: 165px;\">Hematopoietic <br />(Bone marrow)</td>\n<td style=\"width: 115.766px;\">&nbsp;&gt;0.7 Gy &nbsp;<br /><br /></td>\n</tr>\n<tr>\n<td style=\"width: 165px;\">Gastrointestinal&nbsp;</td>\n<td style=\"width: 115.766px;\">&nbsp;&gt;10 Gy &nbsp;<br /><br /></td>\n</tr>\n<tr>\n<td style=\"width: 165px;\">Cardiovascular/ Central nervous system&nbsp;</td>\n<td style=\"width: 115.766px;\">&nbsp;&gt;50 Gy &nbsp;</td>\n</tr>\n</tbody>\n</table>\n<p>Stages&nbsp;of&nbsp;ARS include:&nbsp;</p>\n<ul>\n<li><strong>Prodromal phase</strong> -&nbsp;manifests with non-specific symptoms like nausea, vomiting, and anorexia. Early and persistent symptoms predict severity.</li>\n<li><strong>Latent phase</strong> - the patient looks and feels generally healthy for a few hours or even up to a few weeks. In severe cases, this phase may be absent.</li>\n<li><strong>Manifest illness phase </strong>- symptoms are seen as per the radiation dose. Tissues with greater rates of cellular division are most radiosensitive, and hence the<strong> hematopoietic</strong> and <strong>gastrointestinal systems</strong> are the <strong>most affected</strong>.</li>\n<li><strong>Recovery phase or Death -</strong>&nbsp;this begins&nbsp;when the patient recovers from the acute exposure.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/21b54b0d7bd141aea93cf45e8556e614.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "An elderly woman presents with complaints of diarrhea, abdominal pain, and fever. She was hospitalized for pneumonia and was on antibiotic therapy with clindamycin. Sigmoidoscopy revealed multiple yellowish plaques from the rectum to the sigmoid colon; her CECT image is given below. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pseudomembranous colitis"
      },
      {
        "id": 2,
        "text": "Ogilvie syndrome"
      },
      {
        "id": 3,
        "text": "Toxic megacolon"
      },
      {
        "id": 4,
        "text": "Sigmoid volvulus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above clinical scenario, along with the CT image showing the <strong>accordion sign</strong>,&nbsp;is suggestive of <strong>pseudomembranous colitis</strong>.</p>\n<p>The <strong>accordion sign</strong> or&nbsp;<strong>concertina sign</strong>&nbsp;is seen in the CT abdomen of patients with pseudomembranous colitis. It refers to the thickened edematous bowel appearing similar to the folds of an accordion. This appearance is caused by the stretching of the hyperemic, enhancing mucosa over the thickened submucosal folds. This is also&nbsp;seen when the contrast agent is trapped between edematous haustral folds and pseudomembranes of the colon.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9a32cf812cf540dd9bfec76f17ed38eb.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/46552b7e9c4a45e99351141a5c84e7bbx1280x1498.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5c3379e762054def89ad662326878990x1280x889.WEBP"
    ]
  },
  {
    "text": "The skull X-ray of a patient who presented with bone pains is shown below. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Paget's disease"
      },
      {
        "id": 2,
        "text": "Multiple myeloma"
      },
      {
        "id": 3,
        "text": "Hyperparathyroidism"
      },
      {
        "id": 4,
        "text": "Osteomyelitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The radiograph shows <strong>cotton wool skull</strong>&nbsp;which is diagnostic of <strong>Paget&rsquo;s disease.</strong></p>\n<p>Radiological features during the early phase of this disease include osteolytic (lucent) regions which is later followed by coarse trabeculae and bony enlargement. Sclerotic changes occur much later in the disease process. The lesions seen are:</p>\n<ul>\n<li>Osteoporosis circumscripta: large, well-defined lytic lesion</li>\n<li><strong>Cotton wool appearance</strong>: mixed lytic and sclerotic lesions of the skull</li>\n<li>Diploic widening: both inner and outer calvarial tables are involved, with the former usually more extensively affected</li>\n<li><strong>Tam o'Shanter sign</strong>: frontal bone enlargement, with the appearance of the skull falling over the facial bones, like a Tam o' Shanter hat.</li>\n</ul>\n<p>The image below shows cotton wool appearance on skull X-ray:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5682d5626b494333a6247e420fe106e9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/00125f11309f4ce2a41aca620101003bx618x458.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/de01dbcee404407db5a80e87e893c233x1200x658.JPEG"
    ]
  },
  {
    "text": "A  54-year-old male patient presents to the emergency department with complaints of sudden onset of chest pain and breathing difficulty. On examination, there is tachypnea and tachycardia. Chest x-ray shows Westermark's sign and Hampton's hump. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary embolism"
      },
      {
        "id": 2,
        "text": "Pneumothorax"
      },
      {
        "id": 3,
        "text": "Pneumonic consolidation"
      },
      {
        "id": 4,
        "text": "Emphysema"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical features and the presence of <strong>Westermark's sign </strong>and<strong>&nbsp;Hampton's hump </strong>on<strong>&nbsp;</strong>radiography<strong>&nbsp;</strong>are&nbsp;suggestive of <strong>pulmonary embolism</strong>.</p>\n<p><strong>Pulmonary embolism</strong>&nbsp;is an embolic occlusion of the pulmonary arterial system. X-ray is neither sensitive nor specific for pulmonary embolism diagnosis. It is used to exclude differential diagnostic possibilities such as pneumonia and pneumothorax rather than directly diagnosing a pulmonary embolism.&nbsp;<strong>CT pulmonary angiography</strong> is the <strong>investigation of choice</strong> in pulmonary embolism.</p>\n<p>Described chest radiographic signs include:</p>\n<ul>\n<li>Fleishner's sign: enlarged pulmonary artery.</li>\n<li><strong>Westermark's sign</strong> is a chest x-ray finding in pulmonary embolism. It is defined by a hyperlucent area with decreased vascularity due to oligemia of the involved part of the lung.</li>\n</ul>\n<p>Chest x-ray demonstrating <strong>Westermark sign:</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/823a1375703f4df1bc20ac75bc510dcex402x371.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fe51538427f040cd87e96913ebfc36d7x720x631.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e39ec744067740c59b5b72970e5d6882x804x598.JPEG"
    ]
  },
  {
    "text": "A middle-aged man is being evaluated for epigastric pain and burning sensation for the past few weeks. He also gives a history of occasional black discoloration of the stools. A barium study was done for the patient. Which of the following findings on barium study would indicate that the ulcer is benign?",
    "choices": [
      {
        "id": 1,
        "text": "Hampton's line"
      },
      {
        "id": 2,
        "text": "Carman meniscus"
      },
      {
        "id": 3,
        "text": "Irregularly shaped ulcer"
      },
      {
        "id": 4,
        "text": "Loss of mucosal pattern"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical scenario is suggestive of&nbsp;<strong>gastric ulcers </strong>and the presence of <strong>Hampton's lines</strong>&nbsp;on <strong>barium study</strong> would indicate that the<strong>&nbsp;</strong>gastric&nbsp;ulcer is&nbsp;<strong>benign</strong>.</p>\n<p><strong>Hampton's</strong> line<strong>&nbsp;</strong>is a thin radiolucent line seen at the base of a&nbsp;gastric ulcer&nbsp;in barium studies. It represents the preserved gastric mucosa with undermining of the more vulnerable submucosa.&nbsp;It indicates the benign nature of the gastric ulcer.</p>\n<p>Other features of a benign ulcer include:</p>\n<ul>\n<li>The smooth rim of lucency at the base of the ulcer.</li>\n<li>Converging folds</li>\n<li>Round, linear, or oval-shaped ulcer</li>\n<li>Symmetrical, gently sloping ulcer mass.</li>\n</ul>\n<p>Difference between benign and malignant gastric ulcer:</p>\n<table style=\"width: 295px;\">\n<tbody>\n<tr>\n<td style=\"width: 119px;\"><strong>Barium swallow findings</strong></td>\n<td style=\"width: 74px;\"><strong>Benign</strong></td>\n<td style=\"width: 94px;\"><strong>Malignant</strong></td>\n</tr>\n<tr>\n<td style=\"width: 119px;\">Hampton&rsquo;s line</td>\n<td style=\"width: 74px;\">Present</td>\n<td style=\"width: 94px;\">Absent</td>\n</tr>\n<tr>\n<td style=\"width: 119px;\">Extends beyond the gastric wall</td>\n<td style=\"width: 74px;\">Yes</td>\n<td style=\"width: 94px;\">No</td>\n</tr>\n<tr>\n<td style=\"width: 119px;\">Folds</td>\n<td style=\"width: 74px;\">Smooth, even</td>\n<td style=\"width: 94px;\">Irregular, nodular, may fuse</td>\n</tr>\n<tr>\n<td style=\"width: 119px;\">Carman meniscus</td>\n<td style=\"width: 74px;\">Absent</td>\n<td style=\"width: 94px;\">Present</td>\n</tr>\n<tr>\n<td style=\"width: 119px;\">Ulcer shape</td>\n<td style=\"width: 74px;\">Round, oval, linear</td>\n<td style=\"width: 94px;\">Irregular</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Carman meniscus sign</strong>&nbsp;is seen in&nbsp;<strong>malignant gastric ulcers.&nbsp;</strong>It refers to&nbsp;the lenticular shape of barium in the shallow/flat malignant ulcer, in which the inner margin is convex toward the lumen. Other features of malignant ulcers include&nbsp;<strong>irregular ulcer</strong>, nodular mound, and thickened, irregular interrupted, and fused folds around the ulcer,&nbsp;<strong>loss of mucosal pattern</strong>, and incomplete healing.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 2-year-old baby is being evaluated for recurrent seizure episodes. On examination, a port-wine stain is seen on the face of the child. A CT was done and the image is given below. Which of the following is the typical radiological finding in the image?",
    "choices": [
      {
        "id": 1,
        "text": "Tram track calcification"
      },
      {
        "id": 2,
        "text": "Dawson's fingers"
      },
      {
        "id": 3,
        "text": "Hot cross bun sign"
      },
      {
        "id": 4,
        "text": "Molar tooth sign"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows <strong>tram track calcification</strong> seen in&nbsp;<strong>Sturge-Weber syndrome. </strong>The clinical features of facial port-wine stain and seizures also favor the diagnosis.</p>\n<p>The<strong>&nbsp;tram-track sign</strong>&nbsp;in the brain&nbsp;refers to the parallel calcification of the cortex, seen in patients with Sturge-Weber syndrome.</p>\n<p>Sturge&ndash;Weber syndrome<strong>&nbsp;</strong>shows the following features:</p>\n<ul>\n<li>Facial port-wine stain along the course of the trigeminal nerve</li>\n<li>Ipsilateral venous angiomas in the cortical leptomeninges</li>\n<li><strong>Mental retardation</strong></li>\n<li><strong>Seizures</strong>, hemiplegia</li>\n<li><strong>Skull radio-opacities</strong></li>\n</ul>\n<p>Other options:</p>\n<p><strong>Option B: Dawson's fingers</strong>:&nbsp;They are periventricular demyelinating plaques perpendicular to the body of lateral ventricles&nbsp;seen in&nbsp;<strong>multiple sclerosis</strong>. The image below shows Dawson's fingers.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/71c3570af83a4fbc9e064c22d5e8a81a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/98c3de11ea9d41b8ac376d242e25ce48x720x957.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6a70fd899a76402ea2fc544c00d0e226x720x639.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e423c816ddb34a70b8bd0ba1cf21e99fx288x390.PNG"
    ]
  },
  {
    "text": "A 20-year-old male patient complained of pain after an injury to his left knee while playing football. MRI showed a bucket-handle tear of the medial meniscus. The anterior cruciate ligament was intact. Which of the following radiographic findings best describes this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Ghost meniscus"
      },
      {
        "id": 2,
        "text": "Double PCL sign"
      },
      {
        "id": 3,
        "text": "Parrot-beak tear"
      },
      {
        "id": 4,
        "text": "Double Oreo cookie sign"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The&nbsp;<strong>double PCL </strong>sign is the&nbsp;radiographic finding seen on a sagittal MRI image in a <strong>bucket-handle medial meniscal tear</strong> with an intact anterior cruciate ligament.</p>\n<p>Double PCL sign: Here, the bucket handle fragment of the torn meniscus is seen as a low-signal structure lying parallel to the&nbsp;<strong>posterior cruciate ligament</strong>&nbsp;(PCL), mimicking a <strong>second smaller PCL</strong>.</p>\n<p>A bucket-handle tear occurs when there is a vertical split in the meniscus, and the separated fragment of the meniscus remains attached in the front and back. The <strong>medial meniscus</strong> is involved in 80% of the cases.&nbsp;</p>\n<p>An intact anterior cruciate ligament (ACL) is required to appreciate the double PCL sign in medial meniscal tears as it prevents the flipped meniscal fragment from further lateral movement.</p>\n<p>In very few cases, the double PCL sign is seen with bucket-handle tears involving the lateral meniscus.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/85e0c1d1ca1d41b9b4b6ca854d4536dbx638x638.PNG"
    ]
  },
  {
    "text": "A 24-year-old male patient presented with 6 months history of postprandial fullness, bloating, abdominal pain, and recurrent episodes of non-bloody diarrhea. A barium study was done and the image is given below. The image shows a sign consistent with Crohn's disease. Identify the sign.",
    "choices": [
      {
        "id": 1,
        "text": "Aphthous ulcers"
      },
      {
        "id": 2,
        "text": "String sign of Kantor"
      },
      {
        "id": 3,
        "text": "Cobblestone appearance"
      },
      {
        "id": 4,
        "text": "Creeping fat sign"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical features are of Crohn's disease and the barium study image shows the <strong>string sign of Kantor. </strong>It refers to a narrowed length of the terminal ileum.</p>\n<p>Crohn's disease is a type of inflammatory bowel disease. It presents with symptomatic periods of colicky abdominal pain and diarrhea. It is diagnosed mainly with barium contrast studies and endoscopy. CT and MRI may aid in diagnosis.</p>\n<p>Some of the radiological findings in Crohn's disease include cobblestone appearance with ulceration, fistulae, enlarged ileocaecal valve, thickening of the valvulae conniventes, stenosis, and asymmetrical involvement with skip lesions. Some named signs include:</p>\n<ul>\n<li><strong>Aphthous ulcers:</strong> Earliest macroscopic finding in the colonic form of Crohn's disease</li>\n<li><strong>Cobblestone appearance: </strong>It is due to the combination of longitudinal and transverse ulcerations separating intact portions of the mucosa.&nbsp;</li>\n<li><strong>Kantor string sign:</strong> It refers to the long lengths of narrowed terminal ileum seen in long-standing disease.</li>\n<li><strong>Creeping fat sign:</strong> It refers to the widely separated bowel loops due to fibrofatty proliferation.</li>\n</ul>\n<p>Findings on CT or MR enterography include:</p>\n<ul>\n<li dir=\"ltr\">Fat halo sign- submucosal fat deposition</li>\n<li dir=\"ltr\">Comb sign- engorgement of the vasa recta</li>\n</ul>\n<p>&nbsp;The image below shows aphthous ulcers, seen as small collections of barium surrounded by mucosal edema.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ccea33910fd04c66b2268748c44d0863.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d1dff5b7476647b2a42f9d6e22d5549cx512x472.PNG"
    ]
  },
  {
    "text": "A 30-year-old man comes to the emergency room with complaints of new-onset left-sided chest pain. He had a recent history of a viral infection. ECG showed diffuse ST elevation with upward concavity and echocardiography detected a pericardial effusion. What is the finding that can be seen on the chest radiograph of this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Water-bottle configuration"
      },
      {
        "id": 2,
        "text": "Boot-shaped heart"
      },
      {
        "id": 3,
        "text": "Batwing appearance"
      },
      {
        "id": 4,
        "text": "Figure of 3 appearance"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario points to a diagnosis of <strong>pericardial effusion</strong> as a result of acute pericarditis.\u00a0The chest radiograph may show a <strong>water-bottle configuration</strong> due to enlargement of the cardiac silhouette because of the pericardial effusion.</p>\n<p>Pericardial effusion is usually associated with chest pain and/or the ECG changes of pericarditis (<strong>widespread ST elevation,</strong> often with <strong>upward</strong> <strong>concavity)</strong>. If the effusion is large, the ECG may show<strong> electrical alternans.</strong> Heart sounds may be faint, friction rub, and the apical impulse may not be audible.</p>\n<p class=\"p1\"><strong>Echocardiography</strong> is a widely used imaging technique that allows <strong>localization</strong> and estimation of the <strong>quantity</strong> of <strong>pericardial fluid.</strong></p>\n<p class=\"p1\">The chest X-ray shows an enlargement of the cardiac silhouette- <strong>water-bottle configuration</strong>. It may be normal in small effusions.\u00a0The lateral radiograph may show the <strong>oreo cookie sign.</strong> It is a vertical opaque line (pericardial fluid)\u00a0separating a vertical lucent line (paracardial fat) directly behind the sternum anteriorly from a similar lucent vertical line (epicardial fat) posteriorly.\u00a0</p>\n<p class=\"p1\">CT and MRI are indicated when echocardiography is inconclusive, when the effusion is<strong> loculated</strong> or<strong> hemorrhagic</strong> or if there is pericardial thickening.</p>\n<p class=\"p1\">A water bottle configuration on a chest X-ray is shown below.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/09be99c80d084c87813fc8cc0d6bc8e1x720x720.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9b2a907fbcfa4155969671ca81665b96x1280x1090.JPEG"
    ]
  },
  {
    "text": "Which of the following can be classified as ionizing radiation?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2 and 5"
      },
      {
        "id": 2,
        "text": "3, 4 and 5"
      },
      {
        "id": 3,
        "text": "3 and 4 only"
      },
      {
        "id": 4,
        "text": "1, 2 , 3 and 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Among the given options,&nbsp;<strong>alpha rays, beta rays, gamma rays, </strong>and<strong> x-rays</strong>&nbsp;are <strong>ionizing radiations</strong>. MRI is an example of non-ionizing electromagnetic radiation.&nbsp;</p>\n<p>Ionizing radiation is a type of radiation with enough energy to remove tightly bound electrons from the orbit of an atom, causing the atom to be charged or <strong>ionized</strong>. They can be either directly ionizing or indirectly ionizing. Alpha rays and beta rays are directly ionizing radiation because they carry a charge and can directly interact with atomic electrons. Alpha and beta rays are also particulate radiation (composed of particles).&nbsp;</p>\n<p>Gamma rays&nbsp;and x-rays are <strong>electromagnetic rays. </strong>They are indirectly ionizing radiation as they are electrically neutral and do not interact directly with electrons.&nbsp;</p>\n<p>MRI is a technique that produces topographic images by means of <strong>magnetic fields </strong>and <strong>radiofrequency waves.</strong> It uses non-ionizing electromagnetic radiation. MRI is based on the ability of nuclei of certain atoms to absorb and emit radio wave energy when the body is placed within a strong magnetic field. &nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are being asked to describe a normal chest X-ray in your final year practical examination. Which of the following statement is false regarding a normal chest radiograph?",
    "choices": [
      {
        "id": 1,
        "text": "Lower lobe veins contribute significantly to the hilar shadow"
      },
      {
        "id": 2,
        "text": "Poor inspiratory effort produces prominent pulmonary vessels"
      },
      {
        "id": 3,
        "text": "Medial borders of the clavicles should be equidistant from the spinous process"
      },
      {
        "id": 4,
        "text": "Left dome of diaphragm is lower than right"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The blood vessels that contribute significantly to the hilar shadow in a normal chest X-ray are the upper lobe veins, not the lower lobe veins.</p>\n<p>Features of a normal chest radiograph</p>\n<ul>\n<li>An ideal chest radiograph should not be rotated.&nbsp;No rotation implies that the distance between the medial end of the clavicle and the spinous process should be equidistant on both sides.</li>\n<li>A good inspiratory effort is also important in an ideal radiograph.</li>\n<li>With poor inspiratory effort, pulmonary vessels become more prominent and a false diagnosis of cardiac failure will be made.</li>\n<li>In a normal chest X-ray, the left dome of the diaphragm is lower than the right because the heart pushes the left dome down.</li>\n<li>In 97% of the cases, the left hilum is higher than the right hilum and in 3% both are at the same level.</li>\n<li>The pulmonary arteries and the upper lobar veins contribute significantly to the hilar shadow on a plain radiograph.</li>\n</ul>\n<p>The most commonly used and preferred view is the<strong> PA view&nbsp;</strong>(posteroanterior view).</p>\n<p>The image below shows a normal chest X-ray in PA view:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/86f614af2eab4519a2937a04e489d58bx1280x1291.JPEG"
    ]
  },
  {
    "text": "A 7-year-old child from a poor family is brought to the pediatric outpatient department with complaints of purpuric rash and pain in the limbs. Examination revealed bleeding from swollen gums and petechiae on the hard palate and tenderness on palpation of his extremities. On imaging, Pelkan spurs were seen on x-ray. Which of the following is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Rickets"
      },
      {
        "id": 2,
        "text": "Scurvy"
      },
      {
        "id": 3,
        "text": "Osteogenesis imperfecta"
      },
      {
        "id": 4,
        "text": "Osteopetrosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical picture of pain in the limbs along with purpuric rash, bleeding gums, petechiae, and the x-ray finding of Pelkan spurs, is highly suggestive of&nbsp;<strong>scurvy.</strong></p>\n<p>Radiological findings in scurvy:</p>\n<ul>\n<li><strong>Frankel's line - </strong>Zone of provisional calcification&nbsp;at the growing&nbsp;metaphysis&nbsp;is&nbsp;dense, giving a white line called the Frankel's line<strong>.</strong></li>\n<li><strong>Pelkan spurs - </strong>These are metaphyseal spurs&nbsp;formed due to fractures manifesting at the cortical margins.&nbsp;</li>\n<li><strong>Wimberger&rsquo;s ring sign -&nbsp;</strong>The<strong>&nbsp;sclerotic rim</strong>&nbsp;around the epiphysis forms this appearance.</li>\n<li><strong>Trummerfeld zone</strong>&nbsp;- Lucent metaphyseal band underlying Frankel line.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ddf0b8e3cd6a47c694d4bae91d192704x1280x1203.JPEG"
    ]
  },
  {
    "text": "A 57-year-old male patient presents to the outpatient department with complaints of shortness of breath and dyspnoea at night. There is no history of bronchial asthma. Investigations revealed the presence of pulmonary venous hypertension. Which of the following is the earliest radiographic finding seen in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Kerley B lines"
      },
      {
        "id": 2,
        "text": "Fine punctate calcifications"
      },
      {
        "id": 3,
        "text": "Pulmonary ossific nodules"
      },
      {
        "id": 4,
        "text": "Enlarged upper zone vessels"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The earliest radiological finding in pulmonary venous hypertension is the <strong>enlargement of the upper zone vessels</strong>.</p>\n<p><strong>Pulmonary venous hypertension</strong>:</p>\n<p>It is seen in conditions with impaired left ventricular function. Any left-sided pathology that impaired the forward flow of flood from the heart will cause a rise in left atrial pressure. This increase in pressure is transmitted from the atria to the pulmonary veins producing pulmonary venous hypertension.</p>\n<p>Radiological findings in\u00a0pulmonary venous hypertension:</p>\n<ul>\n<li><strong>Enlargement of upper zone blood vessels -</strong> the <strong>first</strong> radiological finding seen</li>\n<li>Mild haziness in the lower zone with attenuation of lower zone vessels</li>\n<li>Loss of definition of heart and mediastinal contours - This occurs as the normal sharp interface is obscured by the extravascular fluid</li>\n<li>Kerley B lines- Horizontal subpleural lines, 1 cm in length and 1-3 mm in thickness, usually seen at the costophrenic angle. They indicate interstitial edema</li>\n<li>Thickening of the interlobar fissure due to interstitial edema</li>\n<li>Pulmonary effusions that are large and bilateral may be also seen</li>\n<li><strong>Long-standing cases</strong> can produce two additional findings:\n<ul>\n<li>Hemosiderosis:\u00a0<strong>fine punctate calcifications</strong> scattered throughout the lung</li>\n<li><strong>Pulmonary ossific nodules</strong>: Small areas of bone formation in the lung seen in long-standing severe cases.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 12-year-old female child who was evaluated for visual field defects is found to have an optic glioma. On examination, there is also the presence of axillary freckling in the patient. There is a history of a similar condition in her family. Which of the following is a radiographic finding in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Luxatio erecta"
      },
      {
        "id": 2,
        "text": "Oar-shaped ribs"
      },
      {
        "id": 3,
        "text": "Ribbon ribs"
      },
      {
        "id": 4,
        "text": "Terry Thomas sign"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical features of optic glioma, axillary freckling, and positive family history are suggestive of <strong>neurofibromatosis 1(NF 1)&nbsp;</strong>and the <strong>ribbon-shaped appearance of the ribs</strong> is a characteristic finding in this condition.</p>\n<p>Neurofibromatosis is an autosomal dominant disorder. NF-1 is the most prevalent type and is caused by loss of function mutation of the NF-1 gene.</p>\n<p>NF1 is clinically diagnosed when any 2 of the following 7 features are present:</p>\n<ul>\n<li>Six or more caf&eacute;-au-lait macules</li>\n<li><strong>Axillary</strong> or inguinal <strong>freckling</strong></li>\n<li>Two or more iris Lisch nodules</li>\n<li>Two or more neurofibromas or 1 plexiform neurofibroma.</li>\n<li>A distinctive osseous lesion such as sphenoid dysplasia</li>\n<li><strong>Optic gliomas</strong></li>\n<li><strong>A first degree relative with NF-1</strong></li>\n</ul>\n<p>Radiological findings in neurofibromatosis:</p>\n<ul>\n<li>Scoliosis - Usually involving short segments of the thoracic spine</li>\n<li>Posterior scalloping of the vertebral bodies</li>\n<li>Pseudoarthrosis of long bones - This is particularly seen in the tibia and is characterized by marked absorption of fracture margins</li>\n<li>Abnormal rib tubulation produces a characteristic ribbon-shaped appearance.</li>\n<li>Notching of the ribs</li>\n<li>Aplasia/ hypoplasia of the sphenoid wings</li>\n</ul>\n<p>An image showing ribbon-shaped ribs is given below.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dbdf117ff50f4e928a97768f4b401d28x239x298.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/61c6120ae2274f968ec946fd44556c24x720x936.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/53e4bacd8c72480fbd56cc34ddbb7b58x512x389.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b1f6e5a46581457b870de3bde290cca8x501x521.PNG"
    ]
  },
  {
    "text": "An elderly diabetic man is being evaluated for intracranial pathology on a contrast enhanced CT scan.  His lab reports showed a GFR of 50mg/dL. So the radiologist decided to use a suitable water-soluble contrast. Which of the following contrast agents would be preferred in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Iohexol"
      },
      {
        "id": 2,
        "text": "Gadolinium"
      },
      {
        "id": 3,
        "text": "Gastrograffin"
      },
      {
        "id": 4,
        "text": "Lipiodol"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the given clinical scenario, the patient is an <strong>elderly diabetic </strong>with <strong>GFR&lt;60 mg/dL</strong>. <strong>Iohexol</strong> would be<strong> preferred</strong> to<strong> reduce the risk of contrast nephropathy.\u00a0</strong></p>\n<p>Iohexol is a <strong>non-ionic</strong>,<strong> low-osmolar water-soluble</strong> contrast agent. These contrast agents produce fewer abnormalities in the renal blood flow, thus causing less endothelial damage.</p>\n<p>Water-soluble iodinated contrast agents are classified based on the <strong>osmolarity</strong>:</p>\n<ul>\n<li>Low-osmolar - iohexol</li>\n<li>Iso-osmolar - a subtype of low-osmolar contrast agent. example - iodixanol</li>\n<li>High-osmolar - gastrograffin</li>\n</ul>\n<p><strong>Contrast nephropathy (CIN)\u00a0</strong>is defined as<strong>\u00a0</strong>a\u00a0rise in serum creatinine by <strong>0.5 mg/dl </strong>within<strong> 48-72 hours</strong> of intravenous contrast administration. Some risk factors include:</p>\n<ul>\n<li>Older age</li>\n<li>Chronic kidney disease</li>\n<li>Diabetes mellitus</li>\n<li>Congestive heart failure</li>\n<li>ST-elevation myocardial infarction</li>\n</ul>\n<p>Prevention of CIN: Adequate hydration with normal saline or administration of sodium bicarbonate before and after the procedure.\u00a0</p>\n<p>Other options:</p>\n<p>Option B: <strong>Gadolinium</strong> is a contrast agent used in MRI, whereas the patient in the given scenario is undergoing CT.\u00a0</p>\n<p>Option C: <strong>Gastrograffin</strong> is a<strong> high-osmolar</strong> water-soluble contrast agent.\u00a0</p>\n<p>Option D: <strong>Lipoidol</strong> is a <strong>water-insoluble agent</strong> used for sclerotherapy or hysterosalpingography.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The characteristic radiographic finding shown in the image below is ________.",
    "choices": [
      {
        "id": 1,
        "text": "Cupola sign"
      },
      {
        "id": 2,
        "text": "Falciform ligament sign"
      },
      {
        "id": 3,
        "text": "Rigler\u2019s sign"
      },
      {
        "id": 4,
        "text": "Spinnaker sail sign"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The radiograph shows the <strong>spinnaker sail sign</strong>,<strong>\u00a0</strong>which is seen in <strong>pneumomediastinum</strong>.</p>\n<p><strong>Spinnaker sail sign\u00a0</strong>is a chest x-ray finding in <strong>neonates</strong> with pneumomediastinum. The <strong>elevated thymus</strong> is outlined by air, and each lobe of the thymus is displaced laterally (because of air in the mediastinum), producing the appearance of spinnaker sails.</p>\n<p>Other radiographic findings in pneumomediastinum:</p>\n<ul>\n<li><strong>Ring around the artery sign</strong>- It occurs due to air around the pulmonary artery.</li>\n<li><strong>Continuous diaphragm sign</strong> - In AP view, the air trapped posterior to the pericardium produces an appearance of continuous collection of air.</li>\n<li><strong>Extrapleural sign</strong> - Air extends laterally between the parietal pleura and the diaphragm.</li>\n<li><strong>Tubular artery sign</strong> - It occurs due to air around the major branches of the aorta.</li>\n<li><strong>Double bronchial wall sign</strong> - It occurs due to air around the bronchus, producing a clear depiction of the bronchial wall.</li>\n</ul>\n<p>Three main causes of pneumomediastinum:</p>\n<ol>\n<li><strong>Alveolar rupture</strong>\u00a0with dissection of air into the mediastinum</li>\n<li><strong>Perforation or rupture of the esophagus</strong>, trachea, or main bronchi</li>\n<li><strong>Dissection of air</strong>\u00a0from the neck or the abdomen into the mediastinum</li>\n</ol>\n<p>Other options:</p>\n<p>Option A:<strong> Cupola sign\u00a0</strong>is a supine chest/abdominal radiograph finding in pneumoperitoneum. It is seen in the supine position as the gas within the abdominal cavity rises and accumulates underneath the central tendon of the diaphragm in the midline. It appears as a lucency overlying the lower thoracic vertebral bodies.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/da92ac47902d430f926530f30bdf6bfb.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9cacc85718d748d08ec777893652813fx313x420.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2266ac8d560749bb85cb05465995a2a5x720x962.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8c43a7009fe4412ea26c2ccb73786397x720x717.JPEG"
    ]
  },
  {
    "text": "All the following are indications of Tc 99m DMSA renal scintigraphy except _______.",
    "choices": [
      {
        "id": 1,
        "text": "Assessment of differential renal function"
      },
      {
        "id": 2,
        "text": "Detection of renal cortical scarring"
      },
      {
        "id": 3,
        "text": "Direct measurement of glomerular filtration rate"
      },
      {
        "id": 4,
        "text": "Confirmation of acute pyelonephritis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Direct measurement of GFR is done using <strong>Tc 99m DTPA</strong>, not Tc 99m DMSA.\u00a0</p>\n<p><strong>Tc-99m DMSA (dimercaptosuccinic acid)</strong><strong>\u00a0</strong>is a radiopharmaceutical agent used to <strong>evaluate renal structure</strong> and <strong>morphology</strong>. It is an ideal agent for the assessment of the renal cortex as it binds to the sulfhydryl groups in proximal tubules at the renal cortex with longer retention than other agents. It gives a static image.</p>\n<p>The main use of Tc-99m DMSA is in <strong>assessing differential renal function </strong>and <strong>detection of renal scarring and pyelonephritis</strong>, especially in the pediatric population.</p>\n<p>Indications for Tc-99m DMSA examination:</p>\n<ul>\n<li>Assessment of differential renal function\u00a0</li>\n<li>Assessment for focal parenchymal defects</li>\n<li>Confirmation of acute\u00a0pyelonephritis</li>\n<li>Differentiating a multicystic dysplastic kidney from a\u00a0hydronephrotic kidney</li>\n<li>Assessment of renal function in children with cystic renal\u00a0disease</li>\n<li>Assessment of which kidney to biopsy in patients with bilateral renal involvement</li>\n<li>Assessment of focal defects in a hypertensive child</li>\n<li>Assessment of DRF in children undergoing abdominal radiotherapy where the kidneys are in the therapy field</li>\n<li>Assessment of functioning renal tissue in children having bilateral Wilms\u2019 tumor where renal conservation surgery is planned.</li>\n</ul>\n<p>Note:\u00a0<strong>Tc-99m DTPA (diethylene-triamine-pentaacetate)</strong> is cleared <strong>only via glomeruli </strong>with no tubular excretion. Hence it is used for direct measurement of GFR.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The sign shown in the image below is seen in which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "2 and 4 are correct"
      },
      {
        "id": 2,
        "text": "1, 2, 3, and 4 are correct"
      },
      {
        "id": 3,
        "text": "3 and 4 are correct"
      },
      {
        "id": 4,
        "text": "1 and 3 are correct"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above CT scan image shows a\u00a0<strong>reversal sign </strong>or <strong>white cerebellum sign or dense cerebellum sign.\u00a0</strong>It is seen in conditions causing a diffuse decrease in density of the supratentorial brain parenchyma, with a relative increase in attenuation of the thalami, brainstem, and cerebellum.\u00a0 It indicates <strong>irreversible brain damage</strong> and is associated with poor prognosis.</p>\n<p>The reversal sign is seen in the following conditions:</p>\n<ul>\n<li>Drowning</li>\n<li>Bacterial meningitis</li>\n<li>Birth asphyxia</li>\n<li>Encephalitis</li>\n<li>Severe head injury</li>\n<li>Status epilepticus</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/cdc532db49d14835863c3d30d3dde203.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following conditions show \"Pop corn calcification\"?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, and 3"
      },
      {
        "id": 2,
        "text": "1, 2, 4, and 5"
      },
      {
        "id": 3,
        "text": "1, 2, 3, and 4"
      },
      {
        "id": 4,
        "text": "2, 3, 4, and 5"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The calcification in<strong>\u00a0duct ectasia </strong>has a<strong> broken needle appearance. </strong>All the other conditions are associated with pop-corn calcification.</p>\n<p><strong>Amorphous calcifications</strong> with <strong>rings and arcs</strong> which resemble popped corn kernels in appearance are known as <strong>pop-corn calcification.\u00a0</strong></p>\n<p>It may be seen in\u00a0</p>\n<ul>\n<li>Chondroid lesions like chondrosarcoma</li>\n<li>Fibrous dysplasia</li>\n<li>Pulmonary hamartomas</li>\n<li>Fibroadenoma breast</li>\n<li>Calcified uterine fibroid</li>\n<li>Metaphyses and epiphyses of long bones of children with osteogenesis imperfecta.</li>\n</ul>\n<p>Image showing popcorn calcification in involuted fibroadenoma of the breast is given below:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9ba9506b7e7d472b919fead1e9408f3dx720x750.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cc4b42ca9f3241a2af659e80b561e3f2x841x1024.JPEG"
    ]
  },
  {
    "text": "A 10-year-old child was brought to the pediatric outpatient department with complaints of severe headache for 1 week which is not relieved with analgesics. A brain CT was done revealed a suprasellar mass as shown below. The likely diagnosis is:",
    "choices": [
      {
        "id": 1,
        "text": "Craniopharyngioma"
      },
      {
        "id": 2,
        "text": "Pituitary macroadenoma"
      },
      {
        "id": 3,
        "text": "Meningioma"
      },
      {
        "id": 4,
        "text": "Oligodendroglioma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This unenhanced CT showing a <strong>calcified cystic structure </strong>in the<strong> suprasellar region,</strong>&nbsp;along with dilated ventricles (hydrocephalus), is suggestive of&nbsp;<strong>craniopharyngioma</strong>.</p>\n<p>Craniopharyngiomas are relatively benign neoplasms that typically arise in the <strong>suprasellar region</strong>. They are derived from the remnants of <strong>Rathke cleft</strong> and have <strong>bimodal age distribution</strong>.</p>\n<p>The two variants of craniopharyngioma are:</p>\n<ul>\n<li><strong>Adamantinomatous</strong> - It is seen in <strong>children</strong>. <strong>Calcification</strong> is characteristic of this variety.</li>\n<li><strong>Papillary</strong> - It is seen in <strong>adults</strong>. <strong>Wet keratin nodules</strong> are the characteristic histologic feature of this type.</li>\n</ul>\n<p>Children usually present with frequent <strong>headaches, short stature,</strong> <strong>bitemporal hemianopsia </strong>(due to optic chiasm compression), and <strong>polyuria.</strong></p>\n<p>These tumors are usually large and heterogeneous, displaying&nbsp;both<strong> solid and cystic components</strong>, and occur within the&nbsp;<strong>suprasellar </strong>area<strong>.&nbsp;</strong>The<strong>&nbsp;</strong>cysts contain a cholesterol-rich, thick brownish-yellow fluid and are compared to <strong>machine oil</strong>. They also show radiologically demonstrable <strong>calcification.</strong></p>\n<p>Craniopharyngiomas tend not to expand the pituitary fossa unless they become very large, which is a differentiating feature from pituitary macroadenomas.</p>\n<p>The image given below shows a T1-weighted MRI brain showing craniopharyngioma in a sagittal view.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ca1c032b215b482f937c8aad16f1b7e1.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/00c7efa8e4d54d7aa058c63b56475c5fx512x513.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4e0fe0f890004d32b864176d7b068b9bx512x512.PNG"
    ]
  },
  {
    "text": "Identify the structure marked \"A\" in the CT scan of the thorax shown below.",
    "choices": [
      {
        "id": 1,
        "text": "Descending aorta"
      },
      {
        "id": 2,
        "text": "Superior vena cava"
      },
      {
        "id": 3,
        "text": "Ascending aorta"
      },
      {
        "id": 4,
        "text": "Right pulmonary artery"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The structure marked \"A\" in the CT Thorax is the <strong>ascending aorta.</strong></p>\n<p>In a CT study, X-rays are applied in a circular motion and body tissue slices are recreated mathematically. Different tissues are seen with different intensities, depending on the proportion of attenuation of the X-rays that pass through them.</p>\n<ul>\n<li><strong>Air</strong>\u00a0and\u00a0<strong>water</strong>\u00a0are displayed as\u00a0<strong>low-intensity (dark appearance) areas</strong>\u00a0because they produce only little attenuation.</li>\n<li><strong>Bone</strong>\u00a0is displayed as a\u00a0<strong>high-intensity structure (bright appearance</strong>) because of its significant attenuation.</li>\n<li><strong>High density</strong>\u00a0is seen in the presence of\u00a0<strong>hyperemia, freshly clotted blood, and contrast agents</strong>.</li>\n<li><strong>Edema</strong>\u00a0and\u00a0<strong>necrosis</strong>\u00a0are seen as\u00a0<strong>low-intensity</strong>\u00a0areas.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2d01ab8c16fa494d8120ed9b9fde4b7c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b5f5adf74c834012affd52151888d55bx531x478.JPEG"
    ]
  },
  {
    "text": "A child with progressive cyanosis was brought to the hospital. The chest radiograph of the patient is given below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Ebstein\u2019s anomaly"
      },
      {
        "id": 2,
        "text": "Total anomalous pulmonary venous connection"
      },
      {
        "id": 3,
        "text": "Transposition of great arteries"
      },
      {
        "id": 4,
        "text": "Tricuspid atresia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario is suggestive of a cyanotic heart disease and the chest X-ray shows a&nbsp;<strong>box-shaped heart</strong>&nbsp;with<strong> oligemic lung fields. </strong>Therefore, the most likely diagnosis is<strong> Ebstein&rsquo;s anomaly.</strong></p>\n<p>Ebstein's anomaly&nbsp;is a congenital anomaly of the tricuspid valve wherein there is downward displacement of the abnormal tricuspid valve into the right ventricle. This leads to tricuspid regurgitation and atrialization of the right ventricle.</p>\n<p>It&nbsp;is usually associated with an atrial septal defect. In severe cases, there is&nbsp;<strong>right-to-left shunting</strong> at the atrial level with subsequent <strong>cyanosis</strong>. In newborns marked cyanosis, massive cardiomegaly and holosystolic murmurs are seen.&nbsp;</p>\n<p>On the chest radiograph, Ebstein&rsquo;s anomaly leads to a grossly enlarged cardiac contour and a prominent curved right atrial border, appearing as a<strong>&nbsp;box-shaped enlargement</strong> of the heart. In newborns with severe disease, the pulmonary fields may be totally obscured.&nbsp;Echocardiography is diagnostic. It provides the degree of tricuspid valve displacement, dilatation of the right atrium, and any right ventricular obstruction if present.</p>\n<p>Other options:&nbsp;</p>\n<p>Option B: Total anomalous pulmonary venous connection (TAPV) presents with severe cyanosis and respiratory distress. The radiograph shows a <strong>snowman appearance</strong>&nbsp;or<strong>&nbsp;figure of 8</strong>&nbsp;configurations of heart.</p>\n<p>Option C: <strong>Transposition of great arteries</strong> (TGA) can present from birth to infancy with cyanosis, decreased exercise tolerance, and poor physical development. Radiography shows the <strong>egg-on-string</strong> appearance of the heart.&nbsp;</p>\n<p>Option D:<strong> Tricuspid atresia</strong> also presents also with cyanosis at birth and holosystolic murmur along the left border of the sternum. Cyanosis with left axis deviation on ECG is suggestive of tricuspid atresia. 2D Echo shows a fibromuscular membrane in place of the tricuspid valve, small right ventricle, an enlarged left ventricle, and a VSD.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/23c703b0ef7648d2908c2600fc862de3.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 22-year-old male was brought to the emergency room following a road traffic accident. On examination, his GCS was E2M2V3. He had no fractures and no hydrocephalus or raised intracranial pressure. Non-contrast CT was performed and was found to be normal. The likely diagnosis is",
    "choices": [
      {
        "id": 1,
        "text": "Diffuse axonal injury"
      },
      {
        "id": 2,
        "text": "Post concussion syndrome"
      },
      {
        "id": 3,
        "text": "Extra dural hemorrhage"
      },
      {
        "id": 4,
        "text": "Herniation of brain"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario of an RTA with no imaging abnormality along with a disproportionate clinical manifestation suggests <strong>d</strong><strong>iffuse axonal injury.</strong></p>\n<p>It is caused due to <strong>stretching of axons</strong> in subcortical white matter due to sudden deceleration injuries. It is usually associated with <strong>mild nonspecific changes</strong> in <strong>NCCT</strong>. It is visualized on <strong>T2 MRI</strong> characterized by multiple lesions showing <strong>microbleeds or linear hypointensities</strong>. It may also show disruption of white matter tracts on tractography.</p>\n<p>Other options&nbsp;</p>\n<p>Post-concussion syndrome usually follows mild traumatic brain injury. It does not have a severe clinical status as seen in this patient.</p>\n<p>Extradural hemorrhage is produced usually results secondary to trauma to head. The bleeding is usually arterial and blood collects between outer dura and inner table of the skull. It can very well be visualized on CT.</p>\n<p>A cerebral herniation is defined as a shift of cerebral tissue in an adjacent space. Intracranial brain herniation can be classified into 3 types - subfalcine, transtentorial and tonsillar. A distinct clinical picture can be produced as a result of compression of neurovascular structures by the herniating part. CT is the imaging modality of choice because it can be done rapidly.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young woman came to the gynecologist with complaints of inability to conceive even after regular intercourse. Semen analysis of her partner was unremarkable. Hysterosalpingography revealed the following finding. Which of the following is incorrect about the condition?",
    "choices": [
      {
        "id": 1,
        "text": "Functional rudimentary horn can present with hematometra"
      },
      {
        "id": 2,
        "text": "It occurs due to the failure of normal development of one Mullerian duct"
      },
      {
        "id": 3,
        "text": "MRI shows banana-like configuration of the uterine cavity"
      },
      {
        "id": 4,
        "text": "It is a class IV uterine malformation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical scenario is suggestive of\u00a0<strong>unicornuate uterus </strong>and it\u00a0is\u00a0not a class IV uterine malformation, but a\u00a0<strong>class II</strong> Mullerian malformation according to the American Fertility Society. <strong>Class IV</strong> uterine malformation refers to a <strong>bicornuate</strong> uterus.</p>\n<p>The history of <strong>infertility</strong> and hysterosalpingography(<strong>HSG</strong>) showing a <strong>spindle-shaped </strong>or<strong> banana-shaped </strong>uterine cavity deviated to the left with a patent left fallopian tube suggests a <strong>unicornuate uterus</strong>. It\u00a0results from the <strong>failure</strong> of the <strong>normal development</strong> of one mu\u0308llerian duct.\u00a0\u00a0It is associated with increased spontaneous abortion, obstetric complications, and renal abnormalities.</p>\n<p class=\"p1\">On T2-weighted MR images, the unicornuate uterus demonstrates a curved, elongated uterus with tapering of the fundal segment off the midline. This is known as the <strong>banana-like configuration</strong>. Normal uterine zonal anatomy is maintained.</p>\n<p class=\"p1\">If a functional rudimentary horn is present, it usually demonstrates lower signal intensity and might contain endometrial tissue. They have increased chances of<strong> endometriosis</strong> and <strong>hematometra</strong> which can be an indication for excision.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6bce18e37431485294d1cf63376fc6d9.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old man presents to the ENT OPD with complaints of recent onset right-sided hearing loss and tinnitus. On investigation, he was found to have a mass in his brain as shown below. What is the most likely diagnosis in the above case?",
    "choices": [
      {
        "id": 1,
        "text": "Vestibular schwannoma"
      },
      {
        "id": 2,
        "text": "Craniopharyngioma"
      },
      {
        "id": 3,
        "text": "Meningioma"
      },
      {
        "id": 4,
        "text": "Glomus tumour"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most likely diagnosis based on clinical symptoms and MRI image is <strong>vestibular schwannoma</strong>. The MRI scan image shows a tumor arising at the <strong>cerebellopontine angle </strong>(C-P angle).&nbsp;</p>\n<p>They are commonly known as&nbsp;<strong>acoustic neuromas.&nbsp;</strong>The term vestibular schwannoma is preferred as these tumors most frequently arise from the vestibular portion of the vestibulocochlear nerve (cranial nerve VIII-CN VIII) and arise from Schwann cells.&nbsp;</p>\n<p>Vestibular schwannomas are the <strong>most common C-P angle tumors.&nbsp;</strong>Extracanalicular extension into the cerebellopontine angle (path of least resistance) leads to its characteristic&nbsp;<strong>ice-cream cone appearance.</strong>&nbsp;Bilateral vestibular schwannomas are highly suggestive of neurofibromatosis type 2.</p>\n<p>Patients present with adult-onset <strong>sensorineural progressive hearing loss,</strong> with non-pulsatile <strong>tinnitus.</strong> There is no relationship between the size of the tumor and the degree of hearing loss. Other symptoms are due to the <strong>compression</strong> of trigeminal nerve(<strong>CN V</strong>), facial nerve(<strong>CN VII</strong>), Vestibulocochlear nerve(<strong>CN VIII</strong>), and <strong>cerebellum.</strong></p>\n<p><strong>MRI</strong> is the <strong>imaging technique</strong> of <strong>choice.</strong>&nbsp;<strong>High-resolution T2-weighted imaging</strong> is the most commonly used sequence.</p>\n<p>Other options:</p>\n<p>Option B: <strong>Craniopharyngioma</strong> is primarily a <strong>suprasellar</strong> tumor and presents most commonly with headaches.</p>\n<p>Option C: <strong>Meningiomas</strong> are mostly <strong>supratentorial</strong> tumors with features of headache, paresis, or altered mental state.</p>\n<p>Option D: <strong>Glomus tumor</strong> is a <strong>head</strong> and <strong>neck paraganglioma</strong> that may arise from Jacobson nerve, Arnold nerve, or the jugular bulb. Salt and pepper appearance is seen in T1 and T2 images.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8acd33e0a2504c09a0ec371699a109aa.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 19-year-old boy complains of bony pain and swelling in his left upper arm for 3 months. On plain X-ray, the following findings were seen. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Chondroblastoma"
      },
      {
        "id": 2,
        "text": "Osteosarcoma"
      },
      {
        "id": 3,
        "text": "Osteoblastoma"
      },
      {
        "id": 4,
        "text": "Giant cell tumour"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario of a 19-year-old boy with bony pain in left upper arm and the X-ray findings are suggestive of <strong>osteosarcoma.</strong></p>\n<p><strong>Osteosarcoma&nbsp;</strong>is the commonest non-hematological primary bone malignancy. Primary osteosarcoma is mostly seen in the young population, with a majority of cases occurring between 10-20 years of age. Secondary osteosarcoma usually occurs at the site of some disease process like Paget's disease or radiation therapy. They usually occur in the elderly population.</p>\n<p>Radiological features of osteosarcoma:</p>\n<ul>\n<li><strong>Irregular destruction</strong> in the metaphysis overshadowed by the <strong>formation of new bone</strong></li>\n<li><strong>Lifting of the periosteum</strong> due to the formation of new bone</li>\n<li>Bone formation along the <strong>blood vessels</strong> within the tumor centrifugally gives rise to &lsquo;<strong>sunray appearance&rsquo;</strong>&nbsp;</li>\n<li>Other forms of periosteal reaction commonly seen are <strong>Codman&rsquo;s triangle </strong>and<strong>&nbsp;hair-on-end appearance.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/769d89ec95f9447a8259e58d6bc917a0.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The contrast-enhanced CT abdomen of a 50-year-old woman shows the following finding. Which of the following classifications would you use to assess the severity of this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Jackson staging"
      },
      {
        "id": 2,
        "text": "Bosniak classification"
      },
      {
        "id": 3,
        "text": "Durie-Salmon staging"
      },
      {
        "id": 4,
        "text": "Todani classification"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given CT image shows a simple <strong>renal cyst</strong>. The\u00a0<strong>Bosniak classification</strong> system is used for the classification of\u00a0renal cystic masses based on characteristics seen on\u00a0<strong>contrast-enhanced CT</strong>.\u00a0It is helpful in predicting malignancy risk and formulating a management plan.</p>\n<table style=\"height: 850.351px; width: 387px;\">\n<tbody>\n<tr style=\"height: 44.7969px;\">\n<td style=\"width: 61.5781px; text-align: center; height: 44.7969px;\"><strong>Bosniak class</strong></td>\n<td style=\"width: 138.406px; text-align: center; height: 44.7969px;\"><strong>Appearance</strong></td>\n<td style=\"width: 115.93px; text-align: center; height: 44.7969px;\"><strong>Malignancy</strong></td>\n<td style=\"width: 114.133px; text-align: center; height: 44.7969px;\"><strong>Management</strong></td>\n</tr>\n<tr style=\"height: 115.195px;\">\n<td style=\"width: 61.5781px; text-align: center; height: 115.195px;\">\u00a01</td>\n<td style=\"width: 138.406px; height: 115.195px;\">\n<p>Simple cyst :\u00a0</p>\n<p>Rounded with imperceptible wall</p>\n</td>\n<td style=\"width: 115.93px; height: 115.195px;\">Not malignant</td>\n<td style=\"width: 114.133px; height: 115.195px;\">No further workup required</td>\n</tr>\n<tr style=\"height: 175.992px;\">\n<td style=\"width: 61.5781px; text-align: center; height: 175.992px;\">2</td>\n<td style=\"width: 138.406px; height: 175.992px;\">\n<p>Minimally complex:\u00a0</p>\n<ul>\n<li>Size &lt;1 mm with septa, thin\u00a0calcifications</li>\n</ul>\n<p>\u00a0</p>\n</td>\n<td style=\"width: 115.93px; height: 175.992px;\">Not malignant</td>\n<td style=\"width: 114.133px; height: 175.992px;\">No further workup required</td>\n</tr>\n<tr style=\"height: 227.188px;\">\n<td style=\"width: 61.5781px; text-align: center; height: 227.188px;\">2F</td>\n<td style=\"width: 138.406px; height: 227.188px;\">\n<p>Minimally complex:</p>\n<ul>\n<li>Size &gt;3 cm</li>\n<li>Increased number of septa</li>\n<li>Minimally thickened with nodular/thick calcifications</li>\n</ul>\n</td>\n<td style=\"width: 115.93px; height: 227.188px;\">5% chance\u00a0</td>\n<td style=\"width: 114.133px; height: 227.188px;\">Ultrasound/CT follow-up every 6 months</td>\n</tr>\n<tr style=\"height: 271.984px;\">\n<td style=\"width: 61.5781px; text-align: center; height: 271.984px;\">3</td>\n<td style=\"width: 138.406px; height: 271.984px;\">\n<p>Indeterminate:</p>\n<ul>\n<li>Complicated cysts, thickened septa</li>\n<li>Nodular calcification/solid non-enhancing areas (appears hyperdense on CT)</li>\n</ul>\n</td>\n<td style=\"width: 115.93px; height: 271.984px;\">55% chance</td>\n<td style=\"width: 114.133px; height: 271.984px;\">\n<p>Partial nephrectomy</p>\n<p>Radiofrequency ablation (elderly/poor surgical candidates)</p>\n</td>\n</tr>\n<tr style=\"height: 15.1953px;\">\n<td style=\"width: 61.5781px; text-align: center; height: 15.1953px;\">4</td>\n<td style=\"width: 138.406px; height: 15.1953px;\">\n<p>Solid mass with a large cystic or necrotic component</p>\n</td>\n<td style=\"width: 115.93px; height: 15.1953px;\">\n<p>Clearly malignant (100%)</p>\n</td>\n<td style=\"width: 114.133px; height: 15.1953px;\">Partial/ total nephrectomy</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3f96aaa956a6439f92ec3a7986c3c4e9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/89ed11aeaf8f4038a2534cac0454053bx1280x2560.JPEG"
    ]
  }
];
        let quizName = 'Radiology Test';
        const quizFilename = 'radiology-test-2c11508e.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2021 - 22"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>