<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>34 Forensic Psychiatry - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Forensic Medicine
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">11</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>Which of the following best describes the core principle of the McNaughten Rule in determining legal insanity?</p>",
    "choices": [
      {
        "id": 1,
        "text": "The accused was suffering from a delusion at the time of the offence."
      },
      {
        "id": 2,
        "text": "The accused could not control their actions due to a mental disorder."
      },
      {
        "id": 3,
        "text": "The accused could not understand the nature or wrongness of their actions due to a mental defect."
      },
      {
        "id": 4,
        "text": "The accused had a history of psychiatric illness before the offence."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) The accused could not understand the nature or wrongness of their actions due to a mental defect.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>\n\t<p>the <strong>McNaughten Rule</strong>, which is the <strong>legal test for insanity</strong> recognised in <strong>Section 22 of the Bharatiya Nyaya Sanhita (BNS), 2023</strong>, derived from <strong>Section 84 of the Indian Penal Code (IPC)</strong>.</p>\n\t</li>\n\t<li>\n\t<p><strong>Section 22, BNS</strong> states:</p>\n\n\t<p><em>\"Nothing is an offence which is done by a person who, at the time of doing it, by reason of unsoundness of mind, is incapable of knowing the nature of the act, or that he is doing what is either wrong or contrary to law.\"</em></p>\n\t</li>\n\t<li>\n\t<p>The principle focuses on <strong>cognitive incapacity</strong> \u2014 not knowing the <strong>nature</strong> or <strong>wrongfulness</strong> of the act.</p>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Lucid Interval:</strong></p>\n\n<ul>\n\t<li><strong>Definition</strong>: A period during <span class=\"customMeta\" data-dictid=\"f83d4dc2da169277719025e6ff657f\">insanity</span> when symptoms completely disappear.</li>\n\t<li><strong>Judgment</strong>: Individual can soundly judge their actions and are legally liable.</li>\n\t<li><strong>Variability</strong>: Duration varies between individuals and over time for the same individual.</li>\n\t<li><strong>Legal Implications</strong>: Difficulty in determining mental state at the time of an offence complicates full responsibility.</li>\n\t<li><strong>Common in</strong>: Conditions like <span class=\"customMeta\" data-dictid=\"51c142d5d116927771912526695796\">mania</span> and melancholia.</li>\n\t<li>During a <span class=\"customMeta\" data-dictid=\"10b50278251692777191a626ee1604\">lucid</span> interval, an individual is capable of sound judgment and understanding their actions, making them legally responsible for their conduct. If a crime is committed during this period, according to the <strong>McNaghten Rule</strong>, the individual could be held accountable for their actions.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Sec. 84 IPC deals with the criminal responsibility of insane persons.</strong></p>\n\n<p><strong>It states that: \u201cNothing is an offence which is done by a person who, at the time of doing it, because of unsoundness of mind, is incapable of knowing the nature of the act, or what he is doing is either wrong or contrary to the law\u201d.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>BNS Section 22: Nothing is an offence done by a person who, at the time of doing it, because of unsoundness of mind, is incapable of knowing the nature of the act, or that he is doing what is either wrong or contrary to law.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>McNaughten Rule:</strong></p>\n\n<ul>\n\t<li>The key principle states that every person is presumed <span class=\"customMeta\" data-dictid=\"fb0ed2081a1692777198f63f30040c\">sane</span> until proven otherwise.</li>\n</ul>\n\n<ul>\n\t<li>To establish a defence of insanity, it must be proven that the accused, at the time of the act, had a mental disease that prevented them from understanding the nature of the act or recognising it as wrong.</li>\n\t<li><strong>Legal Test of <span class=\"customMeta\" data-dictid=\"f83d4dc2da169277719025e6ff657f\">Insanity</span> (Right or Wrong Test): </strong>A person is not criminally responsible if they did not know the nature of their act or that it was wrong at the time of the crime. Requirements include:</li>\n</ul>\n\n<ul>\n\t<li>Evidence of a mental disease.</li>\n\t<li>The mental disease must be present at the time of the crime.</li>\n\t<li>The condition must be severe enough to prevent understanding that the act is wrong or illegal.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>The accused was suffering from a <span class=\"customMeta\" data-dictid=\"a57e3265851692777185e6f4f5b8bc\">delusion</span> at the time of the offence. (Option A): </strong>This may support an <span class=\"customMeta\" data-dictid=\"f83d4dc2da169277719025e6ff657f\">insanity</span> defence but doesn\u2019t fully capture the McNaughten Rule's focus on understanding.</p>\n\n<p>\u00a0</p>\n\n<p><strong>The accused could not control their actions due to a mental disorder. (Option B):</strong> This suggests a lack of control, which is not the core principle of the McNaughten Rule, which emphasises understanding over control.</p>\n\n<p>\u00a0</p>\n\n<p><strong>The accused had a history of psychiatric illness before the offence (Option D): </strong>While relevant, prior psychiatric history alone doesn\u2019t establish insanity; the focus is on the mental state at the time of the offence.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/Yl6KjfAWiQeZ3URhqeTF1748263319.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/SumUfiVvb6ntG2IeTYR01740281091.mp3"
  },
  {
    "text": "<p>Which of the following is NOT a rule for criminally insane individuals?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Curren\u2019s Rule"
      },
      {
        "id": 2,
        "text": "Durham\u2019s Rule"
      },
      {
        "id": 3,
        "text": "American Law Institute Test"
      },
      {
        "id": 4,
        "text": "Morrison's Rule"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Morrison's Rule</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Morrison\u2019s Rule</strong> is not a recognised rule related to the criminal responsibility of insane individuals.</p>\n\n<p><strong>Morrison's Rule states that after five months of <span class=\"customMeta\" data-dictid=\"f375a3584316927772020efa386e3e\">fetal</span> development, the <span class=\"customMeta\" data-dictid=\"32b21a061f1692777185edefe92fa3\">crown-heel length</span> in centimetres can be divided by five to estimate the <span class=\"customMeta\" data-dictid=\"f375a3584316927772020efa386e3e\">fetal</span> age in months. This provides a simple method for assessing <span class=\"customMeta\" data-dictid=\"2727bb69eb1692777188a09a87f2b8\">gestational age</span> based on <span class=\"customMeta\" data-dictid=\"f375a3584316927772020efa386e3e\">fetal</span> size.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Criminal responsibility of insane persons rules:</strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>Durham\u2019s Rule (1954)</strong>: An accused is not criminally responsible if their unlawful act results from a mental disease or defect. <strong>(Option B ruled out)</strong></li>\n\t<li><strong>Curren\u2019s Rule (1964)</strong>: An accused is not criminally responsible if, due to a mental disease or defect, they were unable to regulate their conduct according to the law at the time of the act. <strong>(Option A ruled out)</strong></li>\n\t<li><strong>American Law Institute Test (1970)</strong>: A person is not responsible for criminal actions if, due to mental disease or defect, they lack adequate capacity to understand the wrongfulness of their actions or to conform to legal requirements. <strong>(Option C ruled out)</strong></li>\n\t<li><strong>Brawner Rule (1972)</strong>: <span class=\"customMeta\" data-dictid=\"f83d4dc2da169277719025e6ff657f\">Insanity</span> determinations should be made by a jury, which has the discretion to decide the \"insanity question.\"</li>\n\t<li><strong>The Irresistible Impulse</strong>: This rule posits that an individual may recognize an act as illegal but, due to mental impairment, cannot control their actions. For example, Lorena Bobbitt was acquitted in 1994 by arguing that an <span class=\"customMeta\" data-dictid=\"c628cd9e1216927771901367deaaa1\">irresistible impulse</span> led her to commit her crime.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/qMqGR1nsiZegyATRiQMD1740281269.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/axcLiM43K4nTkWZ8Gs4U1740281217.mp3"
  },
  {
    "text": "<p>Identify the FALSE statement on civil responsibilities of the insane from the following options:</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "A contract is void if one party lacks mental capacity at the time of the agreement."
      },
      {
        "id": 2,
        "text": "Mentally ill individuals can serve as guardians for their own property."
      },
      {
        "id": 3,
        "text": "The Hindu Marriage Act permits annulment if one party is mentally unfit at the time of the ceremony."
      },
      {
        "id": 4,
        "text": "A holographic will must be entirely in the testator's handwriting and meet specific validity criteria."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Mentally ill individuals can serve as guardians for their own property.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>\n\t<p><strong>Only individuals of sound mind</strong> are permitted to serve as legal guardians.</p>\n\t</li>\n\t<li>\n\t<p><strong>Courts appoint guardians or managers</strong> under the <strong>Mental Healthcare Act, 2017</strong> or <strong>Guardians and Wards Act, 1890</strong>, when a person is mentally incapable of managing their property.</p>\n\t</li>\n\t<li>\n\t<p>Mentally ill individuals <strong>cannot be entrusted</strong> with the management of their own or others\u2019 estates.</p>\n\t</li>\n\t<li>\n\t<p>This also aligns with <strong>Section 22 of BNS, 2023</strong>, which replaces IPC Section 84 and states that a person incapable of understanding the nature of their act due to <span class=\"customMeta\" data-dictid=\"e644108b4816927771929dda431b8e\">mental illness</span> is <strong>not criminally liable</strong>, further indicating lack of civil capacity.</p>\n\t</li>\n</ul>\n\n<p><strong>Forensic-Legal Notes:</strong></p>\n\n<ul>\n\t<li>\n\t<p><strong>Section 22, BNS 2023</strong> (Replaces IPC Sec 84): Protects mentally ill individuals from criminal liability if incapable of understanding their actions.</p>\n\t</li>\n\t<li>\n\t<p><strong>Section 89, IPC/BNS:</strong>\u00a0Consent by children under 12 or by persons of unsound mind is invalid; only the guardian\u2019s consent is valid for acts done in good faith for their benefit.</p>\n\t</li>\n\t<li>\n\t<p><strong>Section 90, IPC/BNS:</strong>\u00a0Consent is <span class=\"customMeta\" data-dictid=\"63f0daa313169277719051c7877879\">invalid</span> if given by someone incapable of understanding the nature and consequences of the act due to unsoundness of mind or intoxication, or if given under fear or misconception of fact.</p>\n\t</li>\n\t<li>\n\t<p><strong>Section 118, Indian Evidence Act</strong>: Mentally ill individuals can testify <strong>only if capable of understanding questions and giving rational answers</strong>.</p>\n\t</li>\n\t<li>\n\t<p><strong>Civil Law</strong> presumes mental <span class=\"customMeta\" data-dictid=\"7ea92f9ba01692777184f76264280a\">competence</span> unless <strong>legally proven otherwise</strong>.</p>\n\t</li>\n</ul>\n\n<p><strong>A contract is <span class=\"customMeta\" data-dictid=\"3ea4fc34801692777202b98af71861\">void</span> if one party lacks mental capacity at the time of the agreement (Option A):</strong></p>\n\n<ul>\n\t<li>\n\t<p><strong>Indian Contract Act, 1872 (Section 11)</strong> states that a person must be of sound mind to enter into a valid contract.</p>\n\t</li>\n\t<li>\n\t<p>If proven that a party lacked mental capacity at the time, the contract is <strong>void <span class=\"customMeta\" data-dictid=\"c087dfa48f1692777180b90ca2237f\">ab</span> initio</strong>, unless made during a <strong>lucid interval</strong>.</p>\n\t</li>\n\t<li>\n\t<p>Such an individual is deemed legally incapable of understanding or forming rational judgments required for binding agreements.</p>\n\t</li>\n</ul>\n\n<p><strong>The Hindu Marriage Act permits annulment if one party is mentally unfit at the time of the ceremony (Option C):</strong></p>\n\n<ul>\n\t<li>\n\t<p><strong>Hindu Marriage Act, 1955 \u2013 Section 5(ii)</strong>:</p>\n\n\t<ul>\n\t\t<li>\n\t\t<p>Declares a marriage <span class=\"customMeta\" data-dictid=\"63f0daa313169277719051c7877879\">invalid</span> if either party was incapable of giving valid consent due to unsoundness of mind.</p>\n\t\t</li>\n\t\t<li>\n\t\t<p>Annulment is permissible if one party is mentally unfit for marriage or procreation.</p>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li>\n\t<p>Under <strong>Muslim law</strong>, a woman may seek divorce if the husband suffers from <span class=\"customMeta\" data-dictid=\"f83d4dc2da169277719025e6ff657f\">insanity</span> for over <strong>2 years</strong>.</p>\n\t</li>\n</ul>\n\n<p><strong>A holographic will must be entirely in the testator's handwriting and meet specific validity criteria (Option D):</strong></p>\n\n<ul>\n\t<li>\n\t<p>Though not specifically defined under Indian law, a <strong>holographic will</strong> is recognised as valid if:</p>\n\n\t<ul>\n\t\t<li>\n\t\t<p>It is entirely handwritten and signed by the testator.</p>\n\t\t</li>\n\t\t<li>\n\t\t<p>Meets the criteria under <strong>Section 63 of the Indian Succession Act, 1925</strong>.</p>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li>\n\t<p>The testator must be of <strong>sound mind</strong> at the time of making the will (Testamentary Capacity).</p>\n\t</li>\n\t<li>\n\t<p>Individuals who are <strong>intoxicated</strong>, <strong>delusional</strong>, or suffering from <strong>advanced mental illness</strong> at the time cannot make valid wills.</p>\n\t</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/OCnGsHMe4TeQaHZOcFor1740801053.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/RD1QL5VXoqCRL08FzYN21745139937.mp3"
  },
  {
    "text": "<p>Which of the following best differentiates hallucination from illusion in perception disorders?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Hallucination occurs with external stimuli, while illusion occurs without any stimuli."
      },
      {
        "id": 2,
        "text": "Hallucination is a false perception without an external stimulus, while illusion is a misinterpretation of a real external stimulus."
      },
      {
        "id": 3,
        "text": "Hallucination and illusion are both voluntary perceptions of external objects."
      },
      {
        "id": 4,
        "text": "Hallucination is always visual, while illusion is always auditory."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"e5f22a787616927771880e1f38d8e6\">Hallucination</span> is a false perception without an external stimulus, while illusion is a misinterpretation of a real external stimulus.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Hallucinations involve perceptions without any actual external stimuli, while illusions are distortions or misinterpretations of real stimuli. For example, seeing objects that do not exist (hallucination) versus mistaking a rope for a snake (illusion).</p>\n\n<p>\u00a0</p>\n\n<p><strong>Hallucination:</strong></p>\n\n<ul>\n\t<li>Hallucination is a false perception experienced by the senses without any external stimulus. It can occur in conditions like insanity, high fever, drug intoxication, and withdrawal. <strong>(Option A ruled out)</strong></li>\n\t<li>Types of Hallucinations: <strong>(Option D ruled out)</strong>\n\t<ul>\n\t\t<li><strong>Visual</strong>: Seeing non-existent sights, common in disorders like <span class=\"customMeta\" data-dictid=\"d844b672a616927771988fee71197b\">schizophrenia</span> and conversion disorder.</li>\n\t\t<li><strong>Auditory (most common type)</strong>: Hearing sounds or voices without a source, prevalent in schizophrenia.</li>\n\t\t<li><strong>Olfactory</strong>: False perception of smells, often associated with <span class=\"customMeta\" data-dictid=\"d844b672a616927771988fee71197b\">schizophrenia</span> and <span class=\"customMeta\" data-dictid=\"637ea4d17516927772003be2b2aae4\">temporal</span> <span class=\"customMeta\" data-dictid=\"d7dd6ae43c1692777191cf75c0bd58\">lobe</span> epilepsy.</li>\n\t\t<li><strong>Gustatory</strong>: Experiencing tastes without food, noted in certain medical conditions.</li>\n\t\t<li><strong>Tactile</strong>: Feeling sensations like crawling insects on the skin, seen in cocaine use and schizophrenia.</li>\n\t\t<li><strong>Psychomotor</strong>: Feeling movement in body parts without actual movement.</li>\n\t\t<li><strong>Lilliputian</strong>: Perception of objects being smaller than they are, more like an illusion.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Auditory hallucinations are the most common</strong>, followed by visual ones. Hallucinations are <span class=\"customMeta\" data-dictid=\"42b110efe11692777190ea5720c867\">involuntary</span> and can lead to dangerous behaviours. Some <span class=\"customMeta\" data-dictid=\"f17057f75016927771829e70074368\">auditory</span> hallucinations occurring while falling asleep (<strong>hypnagogic</strong>) or waking up (<strong>hypnopompic</strong>) are considered normal experiences.</li>\n</ul>\n\n<p><br />\n\u00a0</p>\n\n<p><strong>Illusion:</strong></p>\n\n<ul>\n\t<li>Illusion is a false interpretation of an external object or stimulus that has real existence. <strong>(Option A ruled out)</strong> It can be classified as:\n\n\t<ul>\n\t\t<li><strong>Universal Illusions: </strong>Common to all individuals and unchanging, such as the appearance of converging railway tracks.</li>\n\t\t<li><strong>Personal Illusions:</strong> Vary between individuals, such as misidentifying a doctor as a family member or mistaking a dog for a lion.</li>\n\t</ul>\n\t</li>\n\t<li>A <span class=\"customMeta\" data-dictid=\"fb0ed2081a1692777198f63f30040c\">sane</span> person can correct these false impressions, while an insane person persists in believing them despite clear evidence.</li>\n\t<li>Illusions are often associated with psychoses, particularly of the organic type.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Hallucination and illusion are both voluntary perceptions of external objects. (Option C):</strong> Both hallucinations and illusions are involuntary; individuals cannot control these experiences, especially hallucinations.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/2v2dY72R6GNftx7Uq5qN1745140041.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/vMjH2SHe0uNattCJvtAJ1745140124.mp3"
  },
  {
    "text": "<p>Match the following types of delusions with their appropriate descriptions.</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1. Othello Syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>a) Belief that one is dead or putrefying.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2. Cotard Syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>b) Belief that a spouse is unfaithful.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>3. de Cl\u00e9rambault\u2019s Syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>c) Belief of being infested with parasites.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>4. Ekbom Syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>d) Belief that a higher-status person loves the individual.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "1-a, 2-c, 3-b, 4-a"
      },
      {
        "id": 2,
        "text": "1-d, 2-c, 3-b, 4-a"
      },
      {
        "id": 3,
        "text": "1-c, 2-a, 3-d, 4-b"
      },
      {
        "id": 4,
        "text": "1-b, 2-a, 3-d, 4-c"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) 1-b, 2-a, 3-d, 4-c</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Delusion:</strong></p>\n\n<p>Delusion is a firmly held false belief based on incorrect inferences about external reality, despite evidence to the contrary. It is a symptom of <span class=\"customMeta\" data-dictid=\"d844b672a616927771988fee71197b\">schizophrenia</span> and is not typically seen in <span class=\"customMeta\" data-dictid=\"e8173b4ebc1692777193a9cc95b291\">neurotic</span> disorders.</p>\n\n<p>Medico-legal Importance: Diminished responsibility can apply to individuals committing unlawful acts due to delusions.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Types of Delusions:</strong></p>\n\n<ul>\n\t<li><strong>Delusion of Grandeur</strong>: Belief of being very important or wealthy, often seen in mania.</li>\n\t<li><strong>Delusion of Poverty</strong>: Conviction of impending loss of all material possessions.</li>\n\t<li><strong>Delusion of Infidelity/Jealousy (Othello Syndrome)</strong>: Belief that a spouse is unfaithful, leading to extreme actions. Males are more commonly affected.</li>\n\t<li><strong>Delusion of Reference</strong>: Belief that media and others refer to the individual, often negatively.</li>\n\t<li><strong>Delusion of Persecution</strong>: Belief that one is being harmed or poisoned by others, leading to potential violence.</li>\n\t<li><strong>Delusion of Influence/Control</strong>: Belief that one's thoughts and actions are controlled by external forces.</li>\n\t<li><strong>Hypochondriacal Delusion</strong>: Persistent fear of having a serious illness based on unrealistic interpretations.</li>\n\t<li><strong>Delusion of Self-Reproach/Criticism</strong>: Self-blame for imagined offences, potentially leading to suicide.</li>\n\t<li><strong>Nihilistic Delusion</strong>: Belief that one does not exist or that the world does not exist, often seen in depression.</li>\n\t<li><strong>Delusion of Doubles (Doppelganger)</strong>: Patients believe that another person has been physically transformed into themselves.</li>\n\t<li><strong>Erotomania (de Cl\u00e9rambault\u2019s Syndrome)</strong>: Belief that someone of higher social status is in love with the individual.</li>\n\t<li><strong>Capgras Syndrome</strong>: Belief that a close person has been replaced by an exact double.</li>\n\t<li><strong>Fregoli\u2019s Phenomenon</strong>: Strangers are identified as familiar people.</li>\n\t<li><strong>Ekbom Syndrome (Delusions of Parasitosis)</strong>: Belief of being infested with parasites.</li>\n\t<li><strong>Folie \u00e0 Deux</strong>: Shared delusions between two people.</li>\n\t<li><strong>Cotard Delusion/Syndrome</strong>: Belief that one is dead, does not exist, is putrefying, or has lost blood or internal organs.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/kXdMOpQw3ReNV74jOY4x1745318490.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/OWtDVKQKdHUGKvkQraDS1745318418.mp3"
  },
  {
    "text": "<p>A 45 y/o man is brought to the psychiatric clinic by his wife. He claims that his wife has been replaced by an impostor who looks exactly like her but is not his real wife. He reports feeling anxious and confused about why others cannot see the difference. His medical history includes a previous diagnosis of paranoid schizophrenia. What is the most likely diagnosis?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Delusion of doubles"
      },
      {
        "id": 2,
        "text": "Capgras syndrome"
      },
      {
        "id": 3,
        "text": "Fregoli's phenomenon"
      },
      {
        "id": 4,
        "text": "Schizoaffective disorder"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Capgras syndrome</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The patient believes that his wife has been replaced by an impostor, which is characteristic of Capgras syndrome.</p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>Delusion of Doubles (Doppelganger)</strong>: Patients believe that another person has been physically transformed into themselves. <strong>(Option A ruled out)</strong></li>\n</ul>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>Capgras Syndrome</strong>: A <span class=\"customMeta\" data-dictid=\"a57e3265851692777185e6f4f5b8bc\">delusion</span> where a patient believes a close person has been replaced by an exact double.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>Fregoli's Phenomenon</strong>: A <span class=\"customMeta\" data-dictid=\"a57e3265851692777185e6f4f5b8bc\">delusion</span> where strangers are misidentified as familiar people from the patient's life. <strong>(Option C ruled out)</strong></li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Associated Mental Illnesses</strong>: Delusions are typically seen in schizophrenia, but not in <span class=\"customMeta\" data-dictid=\"e8173b4ebc1692777193a9cc95b291\">neurotic</span> illnesses.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Medico-Legal Relevance</strong>:</p>\n\n<ul>\n\t<li>Delusions can impact legal responsibility under the doctrine of diminished responsibility.</li>\n\t<li>A person may not be fully accountable for unlawful acts if the <span class=\"customMeta\" data-dictid=\"a57e3265851692777185e6f4f5b8bc\">delusion</span> impairs their reasoning.</li>\n</ul>\n\n<p><strong>Schizoaffective disorder (Option D)</strong>: While this disorder involves <span class=\"customMeta\" data-dictid=\"23702653681692777196e5c0fc63cd\">psychotic</span> symptoms, the specific <span class=\"customMeta\" data-dictid=\"a57e3265851692777185e6f4f5b8bc\">delusion</span> of impostor replacement points to Capgras syndrome.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/jJjnYdPMaCGOoh6MgLOj1745142362.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/rTVmKVwQF7sNs9RlJojA1740801506.mp3"
  },
  {
    "text": "<p>A 25 y/o woman presents to the dermatologist with intense itching and anxiety, convinced that tiny insects are crawling on her skin. She frequently inspects her body and applies various lotions to prevent what she believes are infestations, although no evidence of insects or bites is found on examination. She is aware that her fear may be exaggerated, but she cannot stop feeling anxious about it. What is the most likely diagnosis?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Delusional parasitosis"
      },
      {
        "id": 2,
        "text": "Acarophobia"
      },
      {
        "id": 3,
        "text": "Acrophobia"
      },
      {
        "id": 4,
        "text": "Agoraphobia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Acarophobia</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Acarophobia </strong>is the fear of mites or small insects crawling on the skin, which fits the patient's symptoms of irrational anxiety about infestations without objective evidence.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Phobias and Impulses:</strong></p>\n\n<ul>\n\t<li><strong>Phobias</strong>:\n\n\t<ul>\n\t\t<li>Classified under Neurotic and Somatoform Disorders.</li>\n\t\t<li>Defined as a persistent, unrealistic, and intense fear of an object or situation, often recognised as irrational by the individual.</li>\n\t\t<li>Types of phobias:\n\t\t<ul>\n\t\t\t<li><strong>Agoraphobia</strong>: Fear of open spaces, crowds, or leaving home; commonly affects women and may involve panic attacks. <strong>(Option D)</strong></li>\n\t\t\t<li><strong>Social Phobia</strong>: Fear of social interactions or situations (e.g., public speaking).</li>\n\t\t\t<li><strong>Specific Phobia</strong>: Fear of particular objects or situations, examples include:</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:558px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Acrophobia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fear of heights <strong>(Option C)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Acarophobia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fear of mites/insects <strong>(Option B)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Claustrophobia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fear of confined spaces</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Needle Phobia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fear of injections</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Algophobia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fear of pain</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Xenophobia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Abnormal fear of strangers</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Gamophobia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fear of marriage/relationships</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Zoophobia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fear of animals</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<ul>\n\t<li><strong>Impulses</strong>:\n\n\t<ul>\n\t\t<li>Highlighted in <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">forensic</span> <span class=\"customMeta\" data-dictid=\"4804065bf816927771964f3c0198f2\">psychiatry</span> due to potential links to criminal behaviour.</li>\n\t\t<li>Defined as sudden, irresistible forces driving a person to act without motive or forethought.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong><u>Types of impulses:</u></strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Kleptomania</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Compulsive stealing</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Dipsomania</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Compulsive drinking of alcohol</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pyromania</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Urge to set fires</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mutilomania</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Desire to harm animals</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Oniomania</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Compulsive shopping</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Trichotillomania</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Compulsive hair-pulling</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Suicidal Impulse</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>The urge to commit suicide, often <span class=\"customMeta\" data-dictid=\"3978e9614f1692777200abbe4cfa34\">triggered</span> by intoxication</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Homicidal Impulse</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Urge to commit homicide, <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to chronic intoxication</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Delusional <span class=\"customMeta\" data-dictid=\"68331e6e6c1692777194cce18a85e4\">parasitosis</span> (Option A)</strong>: In delusional parasitosis, patients have a fixed false belief of being infested with parasites, typically without insight into the irrationality of their belief.</p>\n\n<p>\u00a0</p>\n\n<p><strong><u>Causes of Delusional Parasitosis</u></strong></p>\n\n<p><strong>Primary Psychiatric Disorders:</strong></p>\n\n<ul>\n\t<li>Schizophrenia</li>\n\t<li>Bipolar disorder</li>\n\t<li>Depression</li>\n\t<li>Anxiety</li>\n\t<li>OCD</li>\n\t<li>Illness anxiety disorder</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Medical Causes:</strong></p>\n\n<ul>\n\t<li><strong>Illnesses</strong>: Hyperthyroidism, B12/folate deficiencies, diabetes.</li>\n\t<li><strong>Neurological</strong>: Dementia, stroke, multiple sclerosis.</li>\n\t<li><strong>Substance Abuse</strong>: Methamphetamine, alcohol withdrawal, cocaine.</li>\n\t<li><strong>Infections</strong>: HIV, tuberculosis, leprosy, syphilis.</li>\n\t<li><strong>Medications</strong>: Topiramate, ciprofloxacin, steroids, ketoconazole.</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/G7cnrjAT8vE8KNamnOSG1745142448.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/FC0puhCBHPdpaNYupID81740801717.mp3"
  },
  {
    "text": "<p>Which of the following statements about the Mental Healthcare Act (MHCA) 2017 is NOT true?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "The Act aims to align mental healthcare services with the United Nations Convention on the Rights of Persons with Disabilities."
      },
      {
        "id": 2,
        "text": "It allows for both voluntary and involuntary admissions, with specific protocols for each."
      },
      {
        "id": 3,
        "text": "The MHCA 2017 came into effect on July 7, 2020, replacing the previous Mental Health Act of 1987."
      },
      {
        "id": 4,
        "text": "It introduces advance directives that enable individuals to express their treatment preferences in advance."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) The MHCA 2017 came into effect on July 7, 2020, replacing the previous Mental Health Act of 1987</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The MHCA 2017 came into effect on <strong>July 7, 2018</strong>, not 2020.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Mental Healthcare Act (MHCA) 2017 in India:</strong></p>\n\n<ul>\n\t<li><strong>Overview of the Act</strong>:\n\n\t<ul>\n\t\t<li><strong>Purpose</strong>: Aims to provide comprehensive mental healthcare and services, aligning with the UN Convention on the Rights of Persons with Disabilities (2006). <strong>(Option A ruled out)</strong></li>\n\t\t<li><strong>Implementation Date</strong>: Enacted on July 7, 2018, replacing the Mental Health Act of 1987.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Key Provisions</strong>:\n\t<ul>\n\t\t<li><strong>Rights Protection</strong>: Focuses on protecting and promoting the rights of individuals during mental healthcare delivery; ensures treatment in the least restrictive environment.</li>\n\t\t<li><strong>Admission Procedures</strong>: Specifies detailed protocols for voluntary and <span class=\"customMeta\" data-dictid=\"42b110efe11692777190ea5720c867\">involuntary</span> admissions; all admissions require notification to a Mental Health Review Board (MHRB) for stays exceeding<strong> 30 days.</strong> <strong>(Option B ruled out)</strong></li>\n\t\t<li><strong>Advance Directives</strong>: Introduces advance directives and nominated representatives, allowing individuals to<strong> express treatment preferences in</strong> <strong>advance</strong>. <strong>(Option D ruled out)</strong></li>\n\t</ul>\n\t</li>\n\t<li><strong>Implementation Challenges</strong>:\n\t<ul>\n\t\t<li><strong>Resource Limitations</strong>: Acknowledges limited mental healthcare resources in India; provides a 10-year timeline for meeting international standards in human resource development for mental healthcare.</li>\n\t\t<li><strong>Transition from Previous Legislation</strong>: Introduces stringent <span class=\"customMeta\" data-dictid=\"42b110efe11692777190ea5720c867\">involuntary</span> admission procedures compared to MHA 1987, requiring legal formalities that may delay treatment.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Conclusion</strong>:\n\t<ul>\n\t\t<li>The MHCA 2017 is a progressive step towards improving mental health care in India.</li>\n\t\t<li>Success depends on effective implementation despite existing resource constraints.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/wB0FgyDeeMD7NpWi1Lzu1745142590.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/8I64zOr2QKGOvsDy4R6v1740801964.mp3"
  },
  {
    "text": "<p>A 34-year-old man is brought to the psychiatric unit after assaulting a bystander without provocation. He reports months of auditory hallucinations with threatening voices, disorganized thoughts, and paranoid delusions. He is distressed, has poor hygiene, has a flat affect, and shows no signs of manipulation or substance abuse. What is the most likely explanation for his symptoms?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "True insanity"
      },
      {
        "id": 2,
        "text": "Feigned insanity"
      },
      {
        "id": 3,
        "text": "Delusional disorder"
      },
      {
        "id": 4,
        "text": "Personality disorder"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) True insanity</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Given the presence of long-standing <span class=\"customMeta\" data-dictid=\"f17057f75016927771829e70074368\">auditory</span> hallucinations, <span class=\"customMeta\" data-dictid=\"39a55021ff16927771946d220fe0db\">paranoid</span> delusions, disorganized thoughts, <span class=\"customMeta\" data-dictid=\"311a75cb5016927772021854593c1a\">flat affect</span> (a severe reduction in emotional expressiveness.), and poor hygiene, these are classic features of a <span class=\"customMeta\" data-dictid=\"23702653681692777196e5c0fc63cd\">psychotic</span> disorder and suggest a genuine <span class=\"customMeta\" data-dictid=\"e644108b4816927771929dda431b8e\">mental illness</span> rather than feigned symptoms.</p>\n\n<p>\u00a0</p>\n\n<p><strong>True vs. Feigned Insanity:</strong></p>\n\n<p>Individuals may feign <span class=\"customMeta\" data-dictid=\"f83d4dc2da169277719025e6ff657f\">insanity</span> to avoid criminal responsibility.</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:625px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>True <span class=\"customMeta\" data-dictid=\"f83d4dc2da169277719025e6ff657f\">Insanity</span> </strong><strong>(Option A)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Feigned <span class=\"customMeta\" data-dictid=\"f83d4dc2da169277719025e6ff657f\">Insanity</span> </strong><strong>(Option B)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Onset</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Gradual</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Sudden</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Motive</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Absent</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Present (e.g., after a crime)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Predisposing Factors</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Usually present (e.g., family history)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Absent</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Signs and Symptoms</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Uniform, specific</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Variable, exaggerated</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Activity</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Careless, persists even when unobserved</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Only present when observed</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Mood</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Excited, depressed, fluctuating</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Overacted to appear abnormal</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Facial Expression</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Peculiar, vacant, worried</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Frequently changing, exaggerated</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Insomnia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Present</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Inconsistent, resolves in a day or two</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Exertion</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Can endure exertion, fatigue</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Breaks down after short exertion</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Habits</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Dirty and filthy</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Clean, not neglected</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Dressing</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Careless</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Reasonably proper</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Skin and Lips</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Dry, harsh</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Normal</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Tongue</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Coated</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Clean</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p><strong>Repeated Examinations</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Doesn't mind</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Resists for fear of detection</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Delusional disorder (Option C)</strong> involves fixed, non-bizarre delusions without prominent hallucinations or disorganised thinking, whereas this patient has broader <span class=\"customMeta\" data-dictid=\"23702653681692777196e5c0fc63cd\">psychotic</span> symptoms like hallucinations and thought disorganisation.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Personality disorder (Option D)</strong> does not typically present with <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"23702653681692777196e5c0fc63cd\">psychotic</span> symptoms such as <span class=\"customMeta\" data-dictid=\"f17057f75016927771829e70074368\">auditory</span> hallucinations or severe disorganisation.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/imL5PlJZWfX4nUfISKSe1748263470.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/9ztGeEdpWKGu1klymZWI1748263421.mp3"
  },
  {
    "text": "<p>A 25 y/o man is brought to the ED after being found wandering outside his home late at night, appearing confused and disoriented. He has no recollection of the events that occurred while he was outside. This behaviour is consistent with which of the following?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Delirium"
      },
      {
        "id": 2,
        "text": "Somnambulism"
      },
      {
        "id": 3,
        "text": "Acute Psychosis"
      },
      {
        "id": 4,
        "text": "Hypnosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Somnambulism</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Somnambulism</strong>, or sleepwalking, involves automatic motor activity during sleep with no recollection upon awakening, consistent with the patient\u2019s behaviour.</p>\n\n<p><strong>Criminal Responsibility in Specific Cases:</strong></p>\n\n<ul>\n\t<li><strong>Delirium:</strong>\n\n\t<ul>\n\t\t<li><strong>Type:</strong> Organic mental disorder.</li>\n\t\t<li><strong>Definition:</strong> An <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"a4488d66fc16927771975d043c4ccc\">reversible</span> mental disorder characterised by confusion and impaired consciousness.</li>\n\t\t<li><strong>Context:</strong> Occurs in individuals with high fever, overwork, mental stress, <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> poisoning, or chronic alcohol/drug intoxication. <strong>(Option A)</strong></li>\n\t\t<li><strong>Criminal Responsibility</strong>: Individuals may not be responsible for criminal acts due to impaired consciousness and irrational behaviour.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Run Amok</strong>: (Run Amok)\n\t<ul>\n\t\t<li><strong>Definition:</strong> Describes an individual engaging in frenzied violence without clear provocation.</li>\n\t\t<li><strong>Cultural Context:</strong> Aligns with <strong>Section 84 of the IPC</strong>, stating that a person is not liable for acts committed under unsoundness of mind.</li>\n\t\t<li>Causes of run amok: Chronic <span class=\"customMeta\" data-dictid=\"072b8af16e1692777196f21b086f92\">poisoning</span> of <strong>Cannabis sativa</strong></li>\n\t</ul>\n\t</li>\n\t<li><strong>Somnambulism (Sleepwalking)</strong>:\n\t<ul>\n\t\t<li><strong>Category:</strong> Parasomnia involving automatic motor activity during sleep with no recollection upon waking. <strong>(Option B)</strong></li>\n\t\t<li><strong>Criminal Responsibility</strong>: Individuals committing criminal acts during <span class=\"customMeta\" data-dictid=\"c1ce80745316927771989976fe7b95\">sleepwalking</span> episodes are not held responsible.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Sleep disorders in different phases of the cycle:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:528px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Sleep apnea</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>It occurs in the deeper sleep phases, primarily affecting stage N3 and REM sleep.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Narcolepsy</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>It involves skipping initial sleep phases and directly entering REM sleep, leading to persistent daytime sleepiness. This results in <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> N3 <span class=\"customMeta\" data-dictid=\"7fdc13a6a116927771865b3a13263e\">deep sleep</span> and <span class=\"customMeta\" data-dictid=\"863f5457381692777190f05632a8b2\">irregular</span> sleep patterns.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>REM sleep disorder</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>It<strong> </strong>involves <span class=\"customMeta\" data-dictid=\"da0efc783716927771803aec955db9\">acting out</span> dreams with vocalizations and movements due to disrupted muscle <span class=\"customMeta\" data-dictid=\"3caa3ba2111692777182713201b915\">atonia</span> during REM sleep.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Somnambulism or sleepwalking</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>It occurs during non-REM sleep, typically in the N3 phase. This is when individuals can make purposeful movements without <span class=\"customMeta\" data-dictid=\"da0efc783716927771803aec955db9\">acting out</span> their dreams, which happens in REM sleep.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<ul>\n\t<li><strong>Sleep Drunkenness</strong>:\n\n\t<ul>\n\t\t<li><strong>Definition:</strong> A <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> of <span class=\"customMeta\" data-dictid=\"e882f5c506169277718918bde64518\">hypersomnia</span> where individuals experience confusion and <span class=\"customMeta\" data-dictid=\"40f8eaa3d01692777186cb3e1d6c69\">disorientation</span> during the transition from sleep to wakefulness.</li>\n\t\t<li><strong>Criminal Responsibility</strong>: Individuals are not responsible for violent acts performed while in this state.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Kleptomania</strong>:\n\t<ul>\n\t\t<li><strong>Type</strong>: Impulse disorder characterised by a <span class=\"customMeta\" data-dictid=\"29a783930a169277718475cc22d945\">compulsion</span> to steal items of little value.</li>\n\t\t<li><strong>Criminal Responsibility</strong>: Courts may consider <span class=\"customMeta\" data-dictid=\"56eef929b216927771903cebc815a3\">kleptomania</span> as a mental disorder affecting impulse control (not guilty under the New Hampshire Doctrine), which could influence sentencing or lead to treatment rather than punishment. <strong>(MHCA 2017) </strong></li>\n\t</ul>\n\t</li>\n\t<li><strong>Hypnosis</strong>: <strong>(Option D)</strong>\n\t<ul>\n\t\t<li><strong>Context:</strong> Not explicitly addressed but related to \"delusion of influence/control\".</li>\n\t\t<li><strong>Criminal Responsibility</strong>: Complex determination involving the degree of <span class=\"customMeta\" data-dictid=\"e37ffd9a4e169277718901c644b146\">hypnosis</span> influence, nature of suggestions, and individual's mental state.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Acute Psychosis (Option C):</strong> This condition involves a loss of contact with reality, hallucinations, or delusions, which the patient does not exhibit in this case.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/5ZnxwfFAFm9fd5zqiqlO1745142161.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/z755Z7RmrSHsGFZLb4Np1745142099.mp3"
  },
  {
    "text": "<p>Which of the following statements is true about Psychosis?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "In psychosis, contact with reality is often preserved."
      },
      {
        "id": 2,
        "text": "Individuals with psychosis typically exhibit empathy"
      },
      {
        "id": 3,
        "text": "Insight is always present"
      },
      {
        "id": 4,
        "text": "An organic causative factor is present."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) An organic <span class=\"customMeta\" data-dictid=\"f616aee08b169277718361438e1a91\">causative</span> factor is present.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Psychosis vs Neurosis</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Features</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Psychosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Neurosis</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>1. Contact with reality</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Lost</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Preserved <strong>(Option A ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>2. Interpersonal behavior</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Marked <span class=\"customMeta\" data-dictid=\"4586eccbe71692777186e577e31829\">disturbance</span> in personality and behaviour</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Preserved</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>3. Empathy</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Absent</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Present <strong>(Option B ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>4. Insight</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Absence of understanding of current symptoms</p>\n\n\t\t\t<p>(insight absent)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Symptoms are recognized as undesirable</p>\n\n\t\t\t<p>(insight present) <strong>(Option C ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>5. Organic <span class=\"customMeta\" data-dictid=\"f616aee08b169277718361438e1a91\">causative</span> factor</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Present\u00a0</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Absent</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>6. Symptoms</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Delusions, illusions and hallucinations</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Usually physical or <span class=\"customMeta\" data-dictid=\"31e024808f169277719632c7d01b89\">psychic</span> symptoms</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>7. Dealing with reality</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Capacity is grossly impaired</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Preserved</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>8. Examples</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Dementia, schizophrenia</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Anxiety, phobia, depression, conversion disorder.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/kRdZ46olmuiBXhaDIE491745142020.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Ulw3piSSSthiB52mpy2u1740802443.mp3"
  }
];
        let quizName = '34 Forensic Psychiatry';
        const quizFilename = '34-forensic-psychiatry-e5992a84.html';
        let hierarchy = ["PrepLadder", "qBank", "Forensic Medicine"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>