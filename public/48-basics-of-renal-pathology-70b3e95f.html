<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>48 Basics Of Renal Pathology - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pathology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">9</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>Which of the following statements regarding the glomerular basement membrane (GBM) is true?</p>",
    "choices": [
      {
        "id": 1,
        "text": "The GBM is primarily composed of collagen type I and elastin."
      },
      {
        "id": 2,
        "text": "The GBM is a selective barrier between the glomerular capillaries and Bowman's capsule."
      },
      {
        "id": 3,
        "text": "Thickening of the GBM is a characteristic feature of minimal change disease."
      },
      {
        "id": 4,
        "text": "The GBM is impermeable to large molecules such as albumin."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer: B)\u00a0</strong>The GBM is a selective barrier between the <span class=\"customMeta\" data-dictid=\"1ad1e71a4a1692777188853097f685\">glomerular</span> capillaries and Bowman's capsule.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p>Option B accurately describes the function of the GBM, which acts as a <span class=\"customMeta\" data-dictid=\"999fcdfb7c1692777198dd05eb1b4c\">semipermeable</span> barrier, allowing small molecules to pass while restricting the passage of larger molecules, such as proteins, thereby facilitating <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> formation.</p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"1999\" src=\"https://image.prepladder.com/content/qB3wlFemrs22cEHOMq6G1737691260.png\" width=\"1999\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p>\u00a0</p>\n\n<p>GBM primarily comprises <span class=\"customMeta\" data-dictid=\"d215f4a56c16927771842f34a24156\">collagen</span> type IV, laminins, proteoglycans, and other glycoproteins.(Option A)</p>\n\n<p>\u00a0</p>\n\n<p>Thickening of the GBM is associated with conditions such as <span class=\"customMeta\" data-dictid=\"a5603ff98316927771865d7ae41f16\">diabetic</span> <span class=\"customMeta\" data-dictid=\"b06dd1c5181692777193f14f3ed7d7\">nephropathy</span> and membranous nephropathy, but not minimal change disease, which typically shows normal or minimal changes in the GBM under light microscopy.(Option C)</p>\n\n<p>\u00a0</p>\n\n<p>GBM is <span class=\"customMeta\" data-dictid=\"32343a48ea1692777195585b33c764\">permeable</span> to small molecules but is a selective barrier to larger molecules such as albumin. (Option D)</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/qB3wlFemrs22cEHOMq6G1737691260.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/37Uh0ZRSaOxIgBF26bSo1751292293.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/6CGubMAUmb7APvPCSgfq1751292360.mp3"
  },
  {
    "text": "<p>Which of the following kidney findings will be seen in malignant hypertension?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Putty kidney"
      },
      {
        "id": 2,
        "text": "Leather grain kidney"
      },
      {
        "id": 3,
        "text": "Flea-bitten kidney"
      },
      {
        "id": 4,
        "text": "Waxy kidney"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>CORRECT ANSWER: </strong>\u00a0C)Flea-bitten kidney</p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<p>Mnemonic for <span class=\"customMeta\" data-dictid=\"6bd54dfc48169277718674cd08e586\">differential</span> diagnosis of flea-bitten kidney: We HaTe PSM</p>\n\n<ul>\n\t<li>We-Wegener's granulomatosis.</li>\n</ul>\n\n<ul>\n\t<li>HaTe - Henoch Schonlein purpura, HUS, TTP.</li>\n\t<li>P- Poststreptococcal glomerulonephritis, <span class=\"customMeta\" data-dictid=\"203f593a77169277719683df23dc6a\">Polyarteritis</span> nodosa.</li>\n\t<li>S-Subacute bacterial endocarditis, SLE.</li>\n\t<li>M- <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">Malignant</span> hypertension.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"Mikael H\u00e4ggstr\u00f6m, M.D.\" data-hash=\"\" data-license=\"CCO\" data-source=\"https://en.wikipedia.org/wiki/Hypertensive_kidney_disease#/media/File:Gross_pathology_of_nephrosclerosis.jpg\" data-tags=\"\" height=\"375\" src=\"https://image.prepladder.com/content/UI4mOBAZgWpyfqmPZYn51737691491.png\" width=\"500\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p>\u00a0</p>\n\n<p>Putty <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> refers to the appearance of the <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> in advanced <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> tuberculosis, characterised by <span class=\"customMeta\" data-dictid=\"99368d5fef1692777183ea405bed67\">caseous</span> necrosis. (<strong>Option A)</strong></p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"Michael S Gibson Michael Puckett Mark E Shelly\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.researchgate.net/figure/Photograph-of-the-bivalved-resected-specimen-shows-two-foci-of-caseous-necrosis-in-the_fig3_8914152\" data-tags=\"\" height=\"708\" src=\"https://image.prepladder.com/content/6sxBqFmldRUPRghmCakj1737691429.png\" width=\"500\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p>\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"Putty <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">Kidney</span> X ray Abdomen & Pelvis\" data-author=\" Ian Bickle\" data-hash=\"5745\" data-license=\"NA\" data-source=\"https://radiopaedia.org/cases/putty-kidney-8\" data-tags=\"\" height=\"670\" src=\"https://image.prepladder.com/notes/P8IeWGKl0hpLN8W9n3LT1743482647.png\" width=\"500\" /></p>\n\n<p>A leather-grain <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> appearance is seen in <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> hypertension. (<strong>Option B)</strong></p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"Y. EroksuzM. DabakH. EroksuzE. BaydarI. TurkogluI. Y\u0131lmaz\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.semanticscholar.org/paper/Acute-oak-%28-Quercus-infectoria-%29-toxicosis-in-lambs-Eroksuz-Dabak/c5ab82a2c4fec864d015d83681eb6dda8f560591/figure/2\" data-tags=\"\" height=\"393\" src=\"https://image.prepladder.com/content/E4KtviPCfhN0YlQdnwzv1737691457.png\" width=\"500\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p>\u00a0</p>\n\n<p>A<strong> </strong>Waxy <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> is seen in advanced amyloidosis..(<strong>Option D)</strong></p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"Mohan harsh\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.jaypeedigital.com/book/9789350902660/chapter/ch8\" data-tags=\"\" height=\"343\" src=\"https://image.prepladder.com/content/ROWa5iQb4ykEy6xxoqPF1737691384.png\" width=\"500\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/UI4mOBAZgWpyfqmPZYn51737691491.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/tl5pJBBCYEwMYtEIL9al1751292608.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/n9GB31NOmDtO436LWa7q1751292700.mp3"
  },
  {
    "text": "<p>A 60-year-old female presents with a history of recurrent urinary tract infections and lower abdominal pain. Upon physical examination, palpable masses are noted in the pelvis. Urinalysis reveals persistent pyuria. A biopsy was done on the bladder lesions, which is shown below. Which of the following conditions is most likely responsible for the patient's presentation?</p>\n\n<p><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"CC BY-SA 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Michaelis-Gutmann_bodies_-_very_high_mag_-_cropped.jpg\" data-tags=\"\" height=\"343\" src=\"https://image.prepladder.com/content/xipnYcJZi1ar5fPJfdKs1737691571.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Bladder carcinoma"
      },
      {
        "id": 2,
        "text": "Malakoplakia"
      },
      {
        "id": 3,
        "text": "Schistosomiasis"
      },
      {
        "id": 4,
        "text": "Tuberculous cystitis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>CORRECT ANSWER: B</strong>)Malakoplakia</p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<p>Malakoplakia:</p>\n\n<ul>\n\t<li><strong>Acquired defects in <span class=\"customMeta\" data-dictid=\"4b41134a551692777195cbfc63288f\">phagocyte</span> function.</strong></li>\n\t<li>It arises in chronic bacterial infection, mostly by <strong>E. coli</strong></li>\n\t<li>Morphology:\n\t<ul>\n\t\t<li>Cystoscopically, <span class=\"customMeta\" data-dictid=\"c381120dd91692777191e836cb8d4d\">malakoplakia</span> takes the <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> of <strong>soft yellow, slightly raised mucosal plaques</strong>, 3 to 4 cm in diameter.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"Malakoplakia\" data-author=\"Pham, C. T., Edwards, M., Chung, A. S. J., & Chalasani, V. \" data-hash=\"5746\" data-license=\"CC BY NC ND\" data-source=\"https://www.mdpi.com/2563-6499/3/4/281\" data-tags=\"\" src=\"https://image.prepladder.com/notes/rVgzNQfDTu8Hjv8dvw2Z1743482939.png\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<ul>\n\t<li>Histologically, the <span class=\"customMeta\" data-dictid=\"d5e7bb15851692777191b39417c26a\">lesion</span> comprises aggregates of <strong>large foamy macrophages</strong> known as Hansmann Cells.</li>\n\t<li>The <span class=\"customMeta\" data-dictid=\"1572de356e1692777191e5668d99d7\">laminated</span> mineralised concretions from <strong>calcium deposition</strong> in enlarged lysosomes, known as <strong>Michaelis-Gutmann bodies</strong>, are typically present within the macrophages.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"https://commons.wikimedia.org/wiki/File:Michaelis-Gutmann_bodies_-_very_high_mag_-_cropped.jpg\" data-source=\"https://commons.wikimedia.org/wiki/File:Michaelis-Gutmann_bodies_-_very_high_mag_-_cropped.jpg\" data-tags=\"\" height=\"343\" src=\"https://image.prepladder.com/content/pB7akuHUZWunr3K9an5n1737691589.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p><strong>Bladder carcinoma</strong> typically would reveal <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">malignant</span> cells.(<strong>Option A)</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Schistosomiasis</strong> can cause chronic <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> in the <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> wall, leading to <span class=\"customMeta\" data-dictid=\"21e2d5a70616927772021fcdec0ca9\">fibrosis</span> and calcification.(<strong>Option C)</strong></p>\n\n<figure class=\"caption_element\"><img alt=\"Schistosomiasis Histopathology\" data-author=\"Y. Albert Yeh, M.D., Ph.D.\" data-hash=\"5747\" data-license=\"NA\" data-source=\"https://www.pathologyoutlines.com/topic/bladderschistosomiasis.html\" data-tags=\"\" src=\"https://image.prepladder.com/notes/t8JzEgvUxThOuwgzpVjR1743483351.png\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p><br />\n<strong>Tubercular cystitis</strong> reveals caseating granulomas with Langhans giant cells and <span class=\"customMeta\" data-dictid=\"ed5f81953d1692777187529a6de318\">epithelioid</span> cells.(<strong>Option D)</strong></p>\n\n<p><img alt=\"Tuberculous Cystitis\" data-author=\" Turki Al-Hussain, M.D., Monika Roychowdhury, M.D.\" data-hash=\"5748\" data-license=\"NA\" data-source=\"https://www.pathologyoutlines.com/topic/bladdergranulomatouscystitis.html\" data-tags=\"\" src=\"https://image.prepladder.com/notes/gHauT91qEnScaO90UdJN1743483768.png\" /></p>",
    "question_images": [
      "https://image.prepladder.com/content/xipnYcJZi1ar5fPJfdKs1737691571.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/rVgzNQfDTu8Hjv8dvw2Z1743482939.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/r3Gr5J5PZrer2azf09xd1751292794.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/4M0uTbqtvY3O7zgYslDO1751292890.mp3"
  },
  {
    "text": "<p>Which of the following statements are true regarding autosomal dominant polycystic kidney disease?</p>\n\n<p>\u00a0</p>\n\n<p>1) The gene associated with this condition is seen on chromosome 6.</p>\n\n<p>2) The affected protein is fibrocystin.</p>\n\n<p>3) It is associated with cyst formation in other organs.</p>\n\n<p>4) The most common cause of death in these patients is hypertensive heart disease.</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "1,2,3,4"
      },
      {
        "id": 2,
        "text": "3,4"
      },
      {
        "id": 3,
        "text": "2,3"
      },
      {
        "id": 4,
        "text": "2,3,4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>CORRECT ANSWER: B</strong>)3,4</p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Characteristics</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>ADPKD</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>ARPKD</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Affected age group</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Adults</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Children</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Cysts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Are present in both outer and inner surfaces</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Present only on the inner surface.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Involved gene</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>PKD 1 on <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 16</li>\n\t\t\t\t<li>PKD 2 on <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 4</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>PKHD on <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 6</p>\n\n\t\t\t<p>(Statement 2)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Protein affected</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>polycystin</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fibrocystin (Statement 3)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top; width:148px\">\n\t\t\t<p>Histology</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u00a0</p>\n\n\t\t\t<p>\u00a0</p>\n\n\t\t\t<figure class=\"caption_element\"><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Polycystic_kidney_disease_--_2_-_high_mag.jpg\" data-tags=\"\" height=\"335\" src=\"https://image.prepladder.com/content/4zmNzo3DcVPtR39MGItn1737691789.png\" width=\"500\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u00a0</p>\n\n\t\t\t<figure class=\"caption_element\"><img alt=\"\" data-author=\"Patrickwalker , MD\" data-hash=\"\" data-license=\"NA\" data-source=\"https://aspneph.org/autosomal-recessive-polycystic-kidney-disease-arpkd/\" data-tags=\"\" height=\"336\" src=\"https://image.prepladder.com/content/wpTB1LQRR2anl4ZWFMDG1737691734.png\" width=\"500\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top; width:148px\">\n\t\t\t<p>Complications</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Coronary or <span class=\"customMeta\" data-dictid=\"dd2daa0c6216927771893c9cab82d9\">hypertensive</span> heart disease (40%). <strong>(Statement 4)</strong></li>\n\t\t\t\t<li>Infection (25%).</li>\n\t\t\t\t<li>Ruptured <span class=\"customMeta\" data-dictid=\"92ff33318a16927771828d959514b8\">berry</span> <span class=\"customMeta\" data-dictid=\"f2c92eaffe16927771819978aa5666\">aneurysm</span> or <span class=\"customMeta\" data-dictid=\"dd2daa0c6216927771893c9cab82d9\">hypertensive</span> <span class=\"customMeta\" data-dictid=\"c7f167b8df1692777190bcd90fe428\">intracerebral</span> haemorrhage (15%).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Neonatal period:\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Respiratory failure due to <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> hypoplasia.</li>\n\t\t\t\t\t<li>Renal failure.</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li>Childhood and adolescence:\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Progressive <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> failure leading to ESRD.</li>\n\t\t\t\t\t<li>Complications of CKD.</li>\n\t\t\t\t\t<li>Complications from <span class=\"customMeta\" data-dictid=\"3268e86ce01692777188f249c64d6e\">hepatic</span> fibrosis.</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top; width:148px\">\n\t\t\t<p>Images</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>\u00a0</p>\n\n\t\t\t<figure class=\"caption_element\"><img alt=\"\" data-author=\"CDC/ Dr. Edwin P. Ewing, Jr.\" data-hash=\"\" data-license=\"Public domain\" data-source=\"https://commons.wikimedia.org/wiki/File:Polycystic_kidneys,_gross_pathology_CDC_PHIL.png\" data-tags=\"\" height=\"424\" src=\"https://image.prepladder.com/content/PnIgwh95nyDa4DahEkOc1737691869.png\" width=\"500\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<figure class=\"caption_element\"><img alt=\"ARPKD Gross\" data-author=\"NA\" data-hash=\"6235\" data-license=\"NA\" data-source=\"NA\" data-tags=\"April2025\" height=\"310\" src=\"https://image.prepladder.com/notes/PkFHGD54Un42iYnUAO8G1743569539.png\" width=\"500\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/4zmNzo3DcVPtR39MGItn1737691789.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/hbcwhaSudrrCnViY0pPk1751292950.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/uPAnl1Ctpd10ktF0zUCk1751293017.mp3"
  },
  {
    "text": "<p>Match the following types of renal crystals with their characteristics</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\">\n\t\t\t<p><strong>Types of Renal Crystals</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\">\n\t\t\t<p><strong>Characteristics</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>1. Calcium Oxalate Monohydrate</p>\n\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>A. Coffin lid-shaped crystals, commonly found in alkaline urine</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>2.. Uric Acid</p>\n\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>B. Rhomboid-shaped crystals, typically seen in acidic urine.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>3. Cystine</p>\n\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>C. Dumbbell or ovoid-shaped crystals are often colourless in acidic urine.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>4. . Struvite (Magnesium Ammonium Phosphate)</p>\n\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>D. Hexagonal plates, often associated with acidic urine</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "choices": [
      {
        "id": 1,
        "text": "1-D, 2-B, 3-C, 4-A"
      },
      {
        "id": 2,
        "text": "1-A, 2-B, 3-D, 4-A"
      },
      {
        "id": 3,
        "text": "1-C, 2-B, 3-D, 4-A"
      },
      {
        "id": 4,
        "text": "1-C, 2-D, 3-B, 4-A"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct answer: C) 1-C, 2-B, 3-D, 4-A</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p>The <span class=\"customMeta\" data-dictid=\"79067cb33316927771926965c3c0b5\">microscopic</span> appearance of various types of crystals and their descriptions are given below:</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"microscopic appearance of Struvite\" data-author=\"Joel Mills\" data-hash=\"782\" data-license=\"CC BY-SA 3.0\" data-source=\"https://en.wikipedia.org/wiki/Struvite#/media/File:Struvite_crystals_dog_with_scale_1.JPG\" data-tags=\"January2025\" height=\"252\" src=\"https://image.prepladder.com/notes/0iQLd9Zv1VZYsQFmu3Dw1737021562.png\" width=\"300\" /></td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Struvite/ Staghorn stones:</p>\n\t\t\t\u00a0\n\n\t\t\t<ul>\n\t\t\t\t<li>Radioopaque.</li>\n\t\t\t\t<li>Seen in <span class=\"customMeta\" data-dictid=\"b95c7f7b821692777181df660ee7ff\">alkaline</span> urine.</li>\n\t\t\t\t<li>Rectangular/coffin lid appearance.</li>\n\t\t\t\t<li>Associated with urea-splitting organisms.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"microscopic appearance of Cystine Stones\" data-author=\"Lance Wheeler\" data-hash=\"783\" data-license=\"CC BY-SA 4.0\" data-source=\"https://en.wikipedia.org/wiki/Cystinuria#/media/File:Cystine_Crystals_in_Canine_Urine_Sediment.jpg\" data-tags=\"January2025\" height=\"378\" src=\"https://image.prepladder.com/notes/iktM2kHbaX2prAP2PJmW1737021657.png\" width=\"300\" /></td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Cystine Stones</p>\n\t\t\t\u00a0\n\n\t\t\t<ul>\n\t\t\t\t<li>Radiopaque.</li>\n\t\t\t\t<li>Seen in <span class=\"customMeta\" data-dictid=\"3a983e569716927771805ed22b90d7\">acidic</span> urine.</li>\n\t\t\t\t<li>Hexagonal Shaped.</li>\n\t\t\t\t<li>Very hard stones.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"microscopic appearance of Calcium Oxalate Monohydrate stones\" data-author=\"Nida Nasir Adel Najar Mahmoud Al Ahmad\" data-hash=\"784\" data-license=\"NA\" data-source=\"https://www.researchgate.net/figure/Microscopic-display-of-calcium-oxalate-monohydrate-and-dihydrate-crystals-in_fig3_330797345\" data-tags=\"January2025\" height=\"199\" src=\"https://image.prepladder.com/notes/YBkLNRnQzY2fa8QnsdTa1737021760.png\" width=\"400\" /></td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Calcium Oxalate Monohydrate stones</p>\n\t\t\t\u00a0\n\n\t\t\t<ul>\n\t\t\t\t<li>Radiopaque.</li>\n\t\t\t\t<li>Seen in <span class=\"customMeta\" data-dictid=\"3a983e569716927771805ed22b90d7\">acidic</span> urine.</li>\n\t\t\t\t<li>Dumbell shaped.</li>\n\t\t\t\t<li>Most common type of <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> calculi.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"microscopic appearance of Uric Acid crystals\" data-author=\"Doruk Salanc\u0131,\" data-hash=\"785\" data-license=\"CC BY-SA 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Uric_acid_crystals_(urine)_-_%C3%9Crik_asit_kristalleri_(idrar)_-_03.png\" data-tags=\"January2025\" height=\"258\" src=\"https://image.prepladder.com/notes/EvjeuJ9KnNfCO4MJCL001737021887.png\" width=\"300\" /></td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Uric Acid crystals</p>\n\t\t\t\u00a0\n\n\t\t\t<ul>\n\t\t\t\t<li>Radiolucent.</li>\n\t\t\t\t<li>Seen in <span class=\"customMeta\" data-dictid=\"3a983e569716927771805ed22b90d7\">acidic</span> urine.</li>\n\t\t\t\t<li>Rhomboids or parallelograms.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"microscopic appearance of Ammonium Urate crystals\" data-author=\"Ajay Kumar Chaurasiya\" data-hash=\"786\" data-license=\"CC BY-SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Ammonium_biurate_crystals_found_during_Urine_Microscopy.jpg\" data-tags=\"January2025\" height=\"265\" src=\"https://image.prepladder.com/notes/JKgK0ag4H7pvuYR2tOou1737022263.png\" width=\"300\" /></td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Ammonium Urate crystals</p>\n\t\t\t\u00a0\n\n\t\t\t<ul>\n\t\t\t\t<li>Radiolucent.</li>\n\t\t\t\t<li>Associated with <span class=\"customMeta\" data-dictid=\"452c3c115d169277719186b3353c18\">laxative</span> abuse.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/0iQLd9Zv1VZYsQFmu3Dw1737021562.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/JSYehpvgxuv6Uj2dBLr51751293113.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/CmhcwK4JzuAcRk2e3OIF1751293167.mp3"
  },
  {
    "text": "<p>A 45-year-old woman presents with complaints of severe lower abdominal pain, dysuria, and hematuria. She has a history of recurrent urinary tract infections (UTIs). Urinalysis reveals a high pH of 8.5 and the presence of white blood cells. Microscopic examination of the urine sediment shows the following finding. Which of the following is the most likely underlying cause of the patient's current presentation?</p>\n\n<p><img alt=\"microscopic appearance of Struvite\" data-author=\"Joel Mills\" data-hash=\"782\" data-license=\"CC BY-SA 3.0\" data-source=\"https://en.wikipedia.org/wiki/Struvite#/media/File:Struvite_crystals_dog_with_scale_1.JPG\" data-tags=\"January2025\" height=\"420\" src=\"https://image.prepladder.com/notes/0iQLd9Zv1VZYsQFmu3Dw1737021562.png\" width=\"500\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Hypercalcemia"
      },
      {
        "id": 2,
        "text": "Hyperuricemia"
      },
      {
        "id": 3,
        "text": "Infection with urease-producing bacteria"
      },
      {
        "id": 4,
        "text": "Cystinuria"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>CORRECT ANSWER</strong>:\u00a0 C)Infection with urease-producing bacteria</p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION: </strong></p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p><img alt=\"microscopic appearance of Struvite\" data-author=\"Joel Mills\" data-hash=\"782\" data-license=\"CC BY-SA 3.0\" data-source=\"https://en.wikipedia.org/wiki/Struvite#/media/File:Struvite_crystals_dog_with_scale_1.JPG\" data-tags=\"January2025\" height=\"336\" src=\"https://image.prepladder.com/notes/0iQLd9Zv1VZYsQFmu3Dw1737021562.png\" width=\"400\" /></p>\n\n<ul>\n\t<li>Triple <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> stones, also known as <span class=\"customMeta\" data-dictid=\"0f125a33661692777199eec6125223\">struvite</span> stones, are composed of <span class=\"customMeta\" data-dictid=\"4d7ed0baae169277719199f6e9ab7b\">magnesium</span> <span class=\"customMeta\" data-dictid=\"3719e878a4169277718109b2d3f67e\">ammonium</span> phosphate.</li>\n\t<li>They typically <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> in <span class=\"customMeta\" data-dictid=\"b95c7f7b821692777181df660ee7ff\">alkaline</span> <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> due to <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections caused by urease-producing bacteria.</li>\n\t<li>These bacteria hydrolyse <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">urea</span> into ammonia, increasing <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> pH and facilitating stone formation.</li>\n\t<li>Struvite stones are characterised by their \"coffin lid\" appearance under a microscope.</li>\n\t<li>They can grow rapidly and fill the <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> pelvis, leading to complications like infection and obstruction.</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/notes/0iQLd9Zv1VZYsQFmu3Dw1737021562.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/0iQLd9Zv1VZYsQFmu3Dw1737021562.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/USBNqaxtZwigadrVi1MP1751293506.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/tUg7OaZRHbCXBWsXWon11751293583.mp3"
  },
  {
    "text": "<p>Match the following renal casts with the conditions they are associated with:</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\">\n\t\t\t<p><strong>Renal Cast Type</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\">\n\t\t\t<p><strong>Condition Associated</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>1. Hyaline casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>A. Nephrotic syndrome</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>2. Muddy Granular casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>B. Chronic Renal Failure</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>3. Waxy casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>C. Acute tubular necrosis</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>4. Fatty casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>D. Fever</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "choices": [
      {
        "id": 1,
        "text": "1-C, 2-A, 3-B, 4-D"
      },
      {
        "id": 2,
        "text": "1-B, 2-D, 3-C, 4-A"
      },
      {
        "id": 3,
        "text": "1-D, 2-C, 3-B, 4-A"
      },
      {
        "id": 4,
        "text": "1-D, 2-A,3-C, 4-A"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct answer:</strong>\u00a0 C)1-D, 2-C, 3-B, 4-A</p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p>All casts are composed of <strong>Tamm-Horsfall protein</strong> produced in the <strong>thick <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> limb of loop of Henle</strong>.</p>\n\n<p>\u00a0</p>\n\n<p>Various casts seen on <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> examination are as follows.</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\">\n\t\t\t<p><strong>Renal Cast Type</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\">\n\t\t\t<p><strong>Condition Associated</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\"><strong>Images</strong></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Hyaline casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Normal conditions, Fever, Pregnancy</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\"><img alt=\"Hyaline Cast \" data-author=\"Ajay Kumar Chaurasiya,\" data-hash=\"788\" data-license=\"CC BY-SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Hyaline_Cast_in_Urine_Microscopy.jpg\" data-tags=\"January2025\" src=\"https://image.prepladder.com/notes/UuLk90wmPQTKPRbfl5IA1737023293.png\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Muddy Brown/ <span class=\"customMeta\" data-dictid=\"4f63eb15be169277718848d4b4978b\">granular</span> casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Acute <span class=\"customMeta\" data-dictid=\"98d387b7bd1692777201278b27be72\">tubular</span> necrosis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\"><img alt=\"Muddy brown casts-\" data-author=\"Mohsenin V\" data-hash=\"787\" data-license=\"CC BY 4.0\" data-source=\"https://en.wikipedia.org/wiki/Urinalysis#/media/File:RTE_cast,_muddy_granular_cast,_WBC_cast_and_RBC_cast_in_urine.jpg\" data-tags=\"January2025\" src=\"https://image.prepladder.com/notes/mVEbyd2rjH5oPfnK6YXp1737023079.png\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Waxy casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Chronic <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> failure</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\"><img alt=\"Waxy cast\" data-author=\"Tracy Stokol \" data-hash=\"789\" data-license=\"CC BY NC SA 4.0\" data-source=\"https://eclinpath.com/urinalysis/cellular-constituents/waxycomp1/\" data-tags=\"January2025\" src=\"https://image.prepladder.com/notes/XSH3jAI5aPWmsYEfAW8F1737023357.png\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Fatty casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Nephrotic syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\"><img alt=\" Fatty cast\" data-author=\"Ajay Kumar Chaurasiya\" data-hash=\"790\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Fatty_cast_in_urine.jpg\" data-tags=\"January2025\" src=\"https://image.prepladder.com/notes/jF7lvnTsvz68bl5AR5GR1737023424.png\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>RBC casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Glomerulonephritis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\"><img alt=\"RBC Cast\" data-author=\"Mohsenin V.\" data-hash=\"791\" data-license=\"CC BY 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:RTE_cast,_muddy_granular_cast,_WBC_cast_and_RBC_cast_in_urine.jpg\" data-tags=\"January2025\" src=\"https://image.prepladder.com/notes/LUx4uUYIH0MjUE7wLO001737023473.png\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>WBC casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Pyelonephritis, <span class=\"customMeta\" data-dictid=\"f46ba26d111692777190def3b1d80a\">interstitial</span> nephritis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\"><img alt=\" WBC Cast\" data-author=\"Ajay Kumar Chaurasiya\" data-hash=\"792\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:WBC_cast_in_urine.jpg\" data-tags=\"January2025\" src=\"https://image.prepladder.com/notes/58i9q5tFL2XCo4S0dPta1737023516.png\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Epithelial casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Renal epithelial injury</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<figure class=\"caption_element\"><img alt=\"Epithelial cell cast\" data-author=\"Ajay Kumar Chaurasiya\" data-hash=\"6236\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.m.wikimedia.org/wiki/File:Epithelial_cell_cast.jpg\" data-tags=\"\" src=\"https://image.prepladder.com/notes/zDn6d8XFdVLh0QiP3aoI1743569877.png\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Broad casts</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p>Chronic <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> disease</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\"><img alt=\"Broad cast\" data-author=\"NA\" data-hash=\"793\" data-license=\"NA\" data-source=\"https://webpath.med.utah.edu/TUTORIAL/URINE/URIN074.html\" data-tags=\"January2025\" src=\"https://image.prepladder.com/notes/nihNVN1Qpw8OdO4akwdB1737023565.png\" /></td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/UuLk90wmPQTKPRbfl5IA1737023293.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/gJgNldMvdmH1MnpM6iic1751293283.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/qaWj0mUpnqeF3C3ZaKeI1751293428.mp3"
  },
  {
    "text": "<p>A 45-year-old male presents with confusion, nausea, and abdominal pain after consuming antifreeze due to stress. Urinalysis reveals elevated BUN and creatinine. Microscopic examination is shown below. Identify the type of cast.</p>\n\n<p><img alt=\"Muddy brown casts-\" data-author=\"Mohsenin V\" data-hash=\"787\" data-license=\"CC BY 4.0\" data-source=\"https://en.wikipedia.org/wiki/Urinalysis#/media/File:RTE_cast,_muddy_granular_cast,_WBC_cast_and_RBC_cast_in_urine.jpg\" data-tags=\"January2025\" height=\"276\" src=\"https://image.prepladder.com/notes/mVEbyd2rjH5oPfnK6YXp1737023079.png\" width=\"400\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Hyaline casts"
      },
      {
        "id": 2,
        "text": "Granular casts"
      },
      {
        "id": 3,
        "text": "Waxy casts"
      },
      {
        "id": 4,
        "text": "Muddy brown casts"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>CORRECT ANSWER: </strong>\u00a0D)Muddy brown casts</p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION: </strong></p>\n\n<p>\u00a0</p>\n\n<p>The clinical vignette of a patient with a history of anti-freeze consumption presenting with confusion, nausea, <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> pain, elevated <span class=\"customMeta\" data-dictid=\"eeb0ec7e661692777183f957a8794b\">BUN</span> and <span class=\"customMeta\" data-dictid=\"2ead0fd0301692777185187bd72768\">creatinine</span> is suggestive of <strong>ethylene <span class=\"customMeta\" data-dictid=\"7451dcad4f1692777188609e12be1d\">glycol</span> poisoning</strong>. Muddy brown casts will be seen in this condition.</p>\n\n<p>\u00a0</p>\n\n<p>Muddy brown casts:</p>\n\n<ul>\n\t<li>They are often seen in patients with <span class=\"customMeta\" data-dictid=\"8e2fdef08316927771877389af9cc7\">ethylene</span> <span class=\"customMeta\" data-dictid=\"7451dcad4f1692777188609e12be1d\">glycol</span> poisoning, leading to <strong>acute</strong> <strong>tubular <span class=\"customMeta\" data-dictid=\"5e84a7987c16927771931012aced83\">necrosis</span> (ATN).</strong></li>\n\t<li>Ethylene <span class=\"customMeta\" data-dictid=\"7451dcad4f1692777188609e12be1d\">glycol</span> metabolites can damage <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> tubules, resulting in the formation of muddy brown casts in <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> sediment. .</li>\n</ul>\n\n<p>The dark brown colouration is due to <strong>haemoglobin <span class=\"customMeta\" data-dictid=\"903370f259169277718385f6060dd7\">breakdown</span> products</strong> and other <span class=\"customMeta\" data-dictid=\"12a6f23332169277718402ca6703e2\">cellular</span> components.</p>\n\n<p><img alt=\"Muddy brown casts-\" data-author=\"Mohsenin V\" data-hash=\"787\" data-license=\"CC BY 4.0\" data-source=\"https://en.wikipedia.org/wiki/Urinalysis#/media/File:RTE_cast,_muddy_granular_cast,_WBC_cast_and_RBC_cast_in_urine.jpg\" data-tags=\"January2025\" height=\"276\" src=\"https://image.prepladder.com/notes/mVEbyd2rjH5oPfnK6YXp1737023079.png\" width=\"400\" /></p>",
    "question_images": [
      "https://image.prepladder.com/notes/mVEbyd2rjH5oPfnK6YXp1737023079.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/mVEbyd2rjH5oPfnK6YXp1737023079.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/7XolNFdZedAwpq7SHv7G1751293642.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/b7Ii2Y3XdfMFUQVAhVYs1751293781.mp3"
  },
  {
    "text": "<p>All of the following are true about medullary sponge kidney except:</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "It is more common in adults."
      },
      {
        "id": 2,
        "text": "It is characterised by dilated collecting ducts in the renal medulla."
      },
      {
        "id": 3,
        "text": "It often presents with recurrent urinary tract infections."
      },
      {
        "id": 4,
        "text": "Cysts are lined by cuboidal epithelium."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct answer</strong>:\u00a0 C)It often presents with <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections.</p>\n\n<p><strong>Explanation:\u00a0</strong>Medullary <span class=\"customMeta\" data-dictid=\"1f8d123d5a16927771996d6f75145f\">Sponge</span> <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">Kidney</span> (MSK) often presents with <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections is<strong> incorrect </strong>because<strong> <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> UTIs are not a defining feature of the condition</strong>. While patients with MSK may experience <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections, it is not a characteristic or common presentation of the disease. It is usually asymptomatic.</p>\n\n<p><strong>Medullary <span class=\"customMeta\" data-dictid=\"1f8d123d5a16927771996d6f75145f\">Sponge</span> Kidney:</strong></p>\n\n<ul>\n\t<li>The term <span class=\"customMeta\" data-dictid=\"0a36e18386169277719259641cf29b\">medullary</span> <span class=\"customMeta\" data-dictid=\"1f8d123d5a16927771996d6f75145f\">sponge</span> <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> is restricted to multiple <span class=\"customMeta\" data-dictid=\"38c41e122116927771859b63deb0ed\">cystic</span> dilations of the collecting ducts in the medulla.</li>\n\t<li>The condition occurs in adults and is usually discovered radiographically. <strong>(Option A)</strong>.</li>\n\t<li>Renal function is usually normal.</li>\n\t<li>On gross inspection, the <span class=\"customMeta\" data-dictid=\"62b9af909d1692777194cd004f10f4\">papillary</span> ducts in the <span class=\"customMeta\" data-dictid=\"53abb386551692777192c4d1f1f5ed\">medulla</span> are dilated <strong>(Option B) </strong>and small cysts may be present.</li>\n\t<li>The cysts are lined by <span class=\"customMeta\" data-dictid=\"0acd7f0c95169277718587e7a53876\">cuboidal</span> <span class=\"customMeta\" data-dictid=\"53782f88d31692777187177cb73b24\">epithelium</span> or occasionally by transitional epithelium. <strong>(Option D).</strong></li>\n\t<li>Unless there is superimposed pyelonephritis, <span class=\"customMeta\" data-dictid=\"721937292f1692777185048f04ce29\">cortical</span> <span class=\"customMeta\" data-dictid=\"e9dcc3d4241692777198c7030bf313\">scarring</span> is absent. The <span class=\"customMeta\" data-dictid=\"715b4caf0316927771943797627d8d\">pathogenesis</span> is unknown.</li>\n</ul>\n\n<p><img alt=\"medullary cystic kidney\" data-author=\"NA\" data-hash=\"794\" data-license=\"NA\" data-source=\"NA\" data-tags=\"January2025\" height=\"400\" src=\"https://image.prepladder.com/notes/IO5rylue1qILqDRPpSi81737023958.png\" width=\"400\" /></p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/IO5rylue1qILqDRPpSi81737023958.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/YyDCnpGpSMZEfRnM1x4L1751293729.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/SF965TY9DNP1n3YjTYG31751293830.mp3"
  }
];
        let quizName = '48 Basics Of Renal Pathology';
        let hierarchy = ["PrepLadder", "qBank", "Pathology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>