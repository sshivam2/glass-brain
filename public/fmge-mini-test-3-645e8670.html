<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fmge Mini Test - 3 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / FMGE Mini Test Series / 2020
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "The fate of the Mullerian duct is determined by the:",
    "choices": [
      {
        "id": 1,
        "text": "X chromosome"
      },
      {
        "id": 2,
        "text": "Y chromosome"
      },
      {
        "id": 3,
        "text": "1st chromosome"
      },
      {
        "id": 4,
        "text": "2nd chromosome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The fate of the Mullerian duct is determined by the presence or absence of the <strong>Y chromosome</strong>.&nbsp;</p>\n<p>The Y chromosome has a sex determining region called the&nbsp;<strong>SRY gene (<u>S</u></strong>ex-determining<strong>&nbsp;<u>R</u></strong>egion of the&nbsp;<strong><u>Y</u>&nbsp;</strong>chromosome<strong>)</strong>. If the Y chromosome is present, the protein called <strong>Testis determining factor</strong> produced by the SRY gene will lead to the development of testis as the gonads.&nbsp;The&nbsp;<strong>Sertoli cells of the testis</strong>&nbsp;will then<strong>&nbsp;</strong>produce&nbsp;<strong>M&uuml;llerian inhibiting substance&nbsp;</strong>(<strong>MIS</strong>; also known as Anti-M&uuml;llerian hormone, AMH), a peptide hormone, that will cause the M&uuml;llerian ducts to regress.</p>\n<p>In absence of the Y chromosome and the SRY gene consequently, the gonads will develop as ovaries and the Mullerian duct will differentiate into the fallopian tubes and the upper part of the vagina.</p>\n<p>Thus, the fate of the Mullerian duct, whether is regresses or differentiates is determined by the presence or absence of the Y chromsome, respectively.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the correct dosage for DMPA injectable?",
    "choices": [
      {
        "id": 1,
        "text": "250 mg every 3 months"
      },
      {
        "id": 2,
        "text": "500 mg every 2 months"
      },
      {
        "id": 3,
        "text": "100 mg every month"
      },
      {
        "id": 4,
        "text": "150 mg every 3 months"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>DMPA is <strong>depot-medroxyprogesterone acetate</strong>.</p>\n<p>The dosage for <strong>injectable DMPA</strong> is <strong>150 mg every 3 months.</strong></p>\n<p>It acts by bringing changes in the cervical mucus, making the endometrium hostile and preventing ovulation.</p>\n<p>Disadvantage &ndash; spotting and intermediate bleeding.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/86bd1bc1e387428a871ff147a72ba92dx398x265.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/de9fec57e05b490e86a15552c7c8a07dx432x273.PNG"
    ]
  },
  {
    "text": "A child is brought with features of meningitis. Tubercular meningitis is suspected. Which of the following finding in the cerebrospinal fluid will be seen in tubercular meningitis?",
    "choices": [
      {
        "id": 1,
        "text": "Low proteins level"
      },
      {
        "id": 2,
        "text": "High chloride level"
      },
      {
        "id": 3,
        "text": "Normal Glucose level"
      },
      {
        "id": 4,
        "text": "Increased lymphocyte count"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Lymphocytes are seen in tubercular meningitis.</p>\n<p><strong>CSF findings in different types of meningitis</strong></p>\n<table style=\"width: 450px;\">\n<tbody>\n<tr>\n<td style=\"width: 25px;\">Parameter/Meningitis</td>\n<td style=\"width: 154px;\"><strong>Bacterial&nbsp;</strong></td>\n<td style=\"width: 144.094px;\"><strong>Tubercular&nbsp;</strong></td>\n<td style=\"width: 104.906px;\"><strong>Viral&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>CSF pressure </strong></td>\n<td style=\"width: 154px;\">Raised</td>\n<td style=\"width: 144.094px;\">Raised</td>\n<td style=\"width: 104.906px;\">Raised</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Appearance</strong></td>\n<td style=\"width: 154px;\">Turbid</td>\n<td style=\"width: 144.094px;\">Clear (cob-web formation)</td>\n<td style=\"width: 104.906px;\">Clear</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Glucose</strong></td>\n<td style=\"width: 154px;\">Decreased</td>\n<td style=\"width: 144.094px;\">Decreased</td>\n<td style=\"width: 104.906px;\">Normal</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Protein</strong></td>\n<td style=\"width: 154px;\">High</td>\n<td style=\"width: 144.094px;\">Very high</td>\n<td style=\"width: 104.906px;\">slightly high</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Chloride</strong></td>\n<td style=\"width: 154px;\">Low</td>\n<td style=\"width: 144.094px;\">Very low</td>\n<td style=\"width: 104.906px;\">Normal</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Cells</strong></td>\n<td style=\"width: 154px;\">Neutrophils</td>\n<td style=\"width: 144.094px;\">Lymphocytes</td>\n<td style=\"width: 104.906px;\">Lymphocytes</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Tubercular meningitis</strong></p>\n<ul>\n<li>Common between 6 months and 4 years of age</li>\n<li>Usually spread by <strong>hematogenous</strong> route</li>\n<li>Gelatinous exudate deposition in the corticomeningeal blood vessels leads to hydrocephalus.</li>\n<li>Three stages\n<ul>\n<li>Prodromal stage</li>\n<li>Stage of meningitis</li>\n<li>Stage of coma</li>\n</ul>\n</li>\n<li>CSF study shows <strong>reduced sugar level, increased protein level,</strong> and <strong>lymphocytosis.</strong></li>\n<li>Treatment includes <strong>antitubercular drugs</strong> for 12 months and <strong>corticosteroids</strong> (to reduce neurologic sequelae).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 3 week old neonate presents to the OPD for the first time. He was born by vaginal delivery at home and has not received any vaccines. Which of the following vaccines would be indicated at this visit, as per the National Immunization Schedule?",
    "choices": [
      {
        "id": 1,
        "text": "BCG"
      },
      {
        "id": 2,
        "text": "Hepatitis B"
      },
      {
        "id": 3,
        "text": "OPV-0"
      },
      {
        "id": 4,
        "text": "No vaccines at this visit"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>According to the National Immunization Schedule, <strong>BCG</strong> should be given at <strong>birth</strong> or as early as possible upto the age of <strong>1 year</strong>.</p>\n<p>Other Options:</p>\n<p>Option B: <strong>Hepatitis B</strong> should be given <strong>within 24 hours</strong> of <strong>birth.</strong></p>\n<p>Option C: <strong>OPV-0</strong> should be given at <strong>birth</strong> or as early as possible within the <strong>first 15 days.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the treatment of choice for female with atrophic vaginitis with complains of itching?",
    "choices": [
      {
        "id": 1,
        "text": "Steroids"
      },
      {
        "id": 2,
        "text": "Topical estrogen"
      },
      {
        "id": 3,
        "text": "Antihistamines only"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Atrophic vaginitis </strong>is treated with<strong> topical estrogen vaginal cream.</strong></p>\n<p>Use of 1 g of conjugated estrogen cream intravaginally each day for 1 to 2 weeks generally provides relief. Systemic estrogen therapy should be considered to prevent recurrence of this disorder.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old male presents with complete obstruction of his left nostril and a nodule on the dorsum of the nose obscuring his vision as shown in the image. He gives a typical history of foul-smelling purulent nasal discharge with crust formation even before this nodule developed. Histology of the biopsied specimen is given as an image. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Basal cell carcinoma"
      },
      {
        "id": 2,
        "text": "Rhinophyma"
      },
      {
        "id": 3,
        "text": "Rhinosporidiosis"
      },
      {
        "id": 4,
        "text": "Rhinoscleroma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical condition is suggestive of <strong>rhinoscleroma.</strong></p>\n<p>It can be diagnosed as rhinoscleroma, as the patient had a history of purulent foul-smelling nasal discharge with crusting before the development of nodule, which corresponds to the atrophic stage of rhinoscleroma\u00a0</p>\n<p>Adding to this, the given histology shows<strong> large foam cells with a central nucleus and vacuolated cytoplasm containing the causative bacilli,\u00a0</strong>which are <strong>Mikulicz cells</strong></p>\n<p>Rhinoscleroma is caused by <strong><em>Klebsiella rhinoscleromatis</em> (Frisch bacillus).</strong></p>\n<p>It has 3 stages</p>\n<p><strong>Atrophic stage\u2013 Crusting and foul-smelling nasal discharge</strong> similar to atrophic rhinitis.</p>\n<p><strong>Granulomatous stage</strong>\u2013 Painless, non-ulcerative Granulomatous nodules with subdermal infiltration giving the feel of <strong>woody/hebra nose</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/35428649ed514bc89cc98fc10fb6e102.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/27d1d257b64e4314a5e0d73d7d82de85x266x374.JPEG"
    ]
  },
  {
    "text": "Waldeyer\u2019s group of lymph nodes do not include",
    "choices": [
      {
        "id": 1,
        "text": "Palatine tonsils"
      },
      {
        "id": 2,
        "text": "Submandibular lymph nodes"
      },
      {
        "id": 3,
        "text": "Lingual tonsils"
      },
      {
        "id": 4,
        "text": "Adenoids"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>submandibular group of lymph nodes</strong> is not included as a part of Waldeyer\u2019s ring.</p>\n<p>Scattered throughout the pharynx in its subepithelial layer is the lymphoid tissue which is aggregated at places to form masses, collectively called <strong>Waldeyer\u2019s ring.</strong></p>\n<p>The masses are:</p>\n<ul>\n<li>Nasopharyngeal tonsil or the <strong>adenoids</strong></li>\n<li>Palatine tonsils or simply the <strong>tonsils</strong></li>\n<li><strong>Lingual tonsil</strong></li>\n<li>Tubal tonsils (in fossa of Rosenm\u00fcller)</li>\n<li><strong>Lateral pharyngeal bands </strong></li>\n<li><strong>Nodules</strong> (in the posterior pharyngeal wall)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a56954bd132f4b6ca7235558b1fe7b06x1280x1254.JPEG"
    ]
  },
  {
    "text": "Which of the following auscultatory findings do you expect to hear in a child during clinical examination in a child with an ASD?",
    "choices": [
      {
        "id": 1,
        "text": "Wide variable split of S2"
      },
      {
        "id": 2,
        "text": "Paradoxical split of S2"
      },
      {
        "id": 3,
        "text": "Wide fixed split of S2"
      },
      {
        "id": 4,
        "text": "Normal split S2"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In <strong>Atrial septal defect</strong> (ASD), the characteristic finding is that the <strong>second heart sound is widely split and fixed during all phases of respiration.</strong></p>\n<p>Other options:</p>\n<ul>\n<li>In <strong>Ventricular septal defect</strong> (VSD) &ndash; <strong>Wide variable splitting of the 2nd heart sound</strong> which is masked by the pansystolic murmur.</li>\n<li>In <strong>Patent ductus arteriosus</strong> (PDA) &ndash; the first sound is accentuated and the&nbsp;<strong>second sound is narrowly or paradoxically split.</strong></li>\n<li>In the&nbsp;<strong>Coarctation of the aorta</strong> &ndash; the first sound is accentuated, the&nbsp;<strong>second sound is normally split</strong> with a loud aortic component.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 3-year-old boy was brought to the ER after ingestion of a foreign body 30 minutes ago. X-ray findings are given below. The appropriate step in management is _____.",
    "choices": [
      {
        "id": 1,
        "text": "Urgent endoscopy and removal"
      },
      {
        "id": 2,
        "text": "Observation and follow up in 24 hours"
      },
      {
        "id": 3,
        "text": "Observation until the foreign body passes out in faeces"
      },
      {
        "id": 4,
        "text": "Urgent bronchoscopy and removal"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The presence of a halo sign or double ring sign is indicative of the foreign body being a button battery.</p>\n<p><strong>Button batteries </strong>and\u00a0<strong>sharp objects</strong> in the esophagus and foreign bodies associated with <strong>respiratory symptoms</strong> all mandate <strong>urgent endoscopic removal</strong>.</p>\n<p>Button batteries, in particular, are very dangerous foreign bodies, which must be expediently removed because they can cause:</p>\n<ul>\n<li><strong>Mucosal injury</strong> in 1-hour contact time</li>\n<li><strong>Involve all layers</strong> of the esophagus in 4 hours</li>\n</ul>\n<p>Injury is thought to be secondary to electrochemical burns from electrical discharge. Chemical burns from electrolyte alkali leakage and pressure necrosis may also contribute to mucosal injury.</p>\n<p>Asymptomatic blunt objects and coins lodged in the esophagus can be observed for up to 24 hr in anticipation of passage into the stomach.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fe813be5a5684d2c92d17e0ee07e0d6e.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following nerves produces the extraocular movement as seen in the image?",
    "choices": [
      {
        "id": 1,
        "text": "Oculomotor"
      },
      {
        "id": 2,
        "text": "Trochlear"
      },
      {
        "id": 3,
        "text": "Abducens"
      },
      {
        "id": 4,
        "text": "Facial nerve"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows an <strong>elevation</strong> of the eye in <strong>adduction. </strong>It&nbsp;caused by the <strong>inferior</strong> <strong>oblique muscle,&nbsp;</strong>which is innervated by the oculomotor nerve.</p>\n<p>Innervation of extraocular muscles:</p>\n<ul>\n<li><strong>Trochlear nerve&nbsp;</strong>(IV CN) innervates the <strong>superior</strong> <strong>oblique</strong> muscle.</li>\n<li><strong>Abducens</strong> <strong>nerve</strong> (VI CN) innervates the <strong>lateral</strong> <strong>rectus</strong> muscle.</li>\n<li><strong>The oculomotor nerve</strong> (III CN) innervates <strong>all the remaining muscles</strong>, which include: Superior, inferior, and medial rectus muscles; and inferior oblique muscle.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/34ec1797ef424597be0affa2dd5a39da.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A hypertensive patient died from respiratory distress following pneumonia caused by COVID-19(test positive). What should be recorded in line I (c) of the death certificate?",
    "choices": [
      {
        "id": 1,
        "text": "Acute Respiratory Distress Syndrome"
      },
      {
        "id": 2,
        "text": "Pneumonia"
      },
      {
        "id": 3,
        "text": "COVID-19"
      },
      {
        "id": 4,
        "text": "Hypertension"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>COVID-19</strong> will be filled in&nbsp;<strong>line I (c)</strong> of the death certificate, as one of the antecedent causes in the order of the events that took place.</p>\n<p>In this patient:</p>\n<ul>\n<li><strong>I(a)-</strong>&nbsp;Disease directly leading to death: Acute Respiratory Distress Syndrome(ARDS).</li>\n<li><strong>I(b)</strong>- Antecedent cause: Pneumonia</li>\n<li><strong>I(c)</strong>- Condition which gave rise to antecedent cause<strong>: COVID-19</strong></li>\n</ul>\n<p><strong>Line II</strong> is filled with contributory factors/causes such as diabetes or hypertension.</p>\n<p><strong>Other scenarios:</strong></p>\n<p>1. In case of <strong>pregnancy, puerperium, or birth leading to death</strong> in conjunction with COVID-19, record the sequence of events as usual.</p>\n<p>For example:&nbsp;</p>\n<ul>\n<li>I(a)- ARDS</li>\n<li>I(b)- Pneumonia</li>\n<li>I(c)- Pregnancy complicated by COVID-19</li>\n</ul>\n<p>2. If an<strong> HIV</strong> patient is dead due to ARDS caused by COVID-19</p>\n<ul>\n<li>I(a)- ARDS</li>\n<li>I(b)- COVID-19</li>\n<li>II- HIV disease</li>\n</ul>\n<p>3. Note that COVID-19 patients may die of other diseases or accidents, such cases are <strong>not deaths due to COVID-19</strong> and should not be certified as such. In case you think COVID-19 aggravated the consequences of the accident/disease, it may be reported in part II.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Inspiratory stridor is found in what kind of lesions:",
    "choices": [
      {
        "id": 1,
        "text": "Supraglottic"
      },
      {
        "id": 2,
        "text": "Subglottic"
      },
      {
        "id": 3,
        "text": "Tracheal"
      },
      {
        "id": 4,
        "text": "Bronchus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Inspiratory stridor</strong> is seen in<strong> supraglottic lesions.</strong></p>\n<p>Inspiratory stridor is often produced in obstructive lesions of supraglottis or pharynx, e.g. laryngomalacia or retropharyngeal abscess.</p>\n<p><strong>Expiratory stridor </strong>is produced in lesions of thoracic trachea, primary and secondary bronchi, e.g. bronchial foreign body, and tracheal stenosis.</p>\n<p><strong>Biphasic stridor </strong>is seen in lesions of glottis, subglottis and cervical trachea, e.g. laryngeal papillomas, vocal cord paralysis and subglottic stenosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6c7938ac77534f1aa0e15552460ddc46x1280x1826.JPEG"
    ]
  },
  {
    "text": "The following instrument is used for:",
    "choices": [
      {
        "id": 1,
        "text": "Septoplasty"
      },
      {
        "id": 2,
        "text": "Myringoplasty"
      },
      {
        "id": 3,
        "text": "Myringotomy"
      },
      {
        "id": 4,
        "text": "Adenoidectomy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Myringotomy</strong> is done by a sharp<strong> myringotome</strong> as shown in the image. Myringotome is a surgical knife used for paracentesis of the eardrum.</p>\n<div class=\"page\" title=\"Page 413\">&nbsp;</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/954926db114540588be812c9d13b94ee.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient presented with unilateral proptosis and bilateral abducent palsy. What is the most probable cause ?",
    "choices": [
      {
        "id": 1,
        "text": "Retinoblastoma"
      },
      {
        "id": 2,
        "text": "Orbital pseudotumor"
      },
      {
        "id": 3,
        "text": "Orbital cellulutis"
      },
      {
        "id": 4,
        "text": "Cavernous sinus thrombosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical scenario is suggestive of <strong>cavernous sinus thrombosis.</strong></p>\n<p>Features of cavernous sinus thrombosis include early involvement lateral rectus palsy (abducent nerve involvement) since it runs through the cavernous sinus. Oculomotor and trochlear nerve palsy occur later as they are related to the lateral wall of the cavernous sinus. Other signs are proptosis, severe supraorbital pain, edema in the mastoid region, absence of corneal sensation, and dilated pupil.</p>\n<p>Other options :</p>\n<p>Options A- Retinoblastoma occurs in children young children and presents with unilateral proptosis with leukocoria, buphthalmos, and squint&nbsp;</p>\n<p>Option B- Orbital pseudotumor presents with unilateral proptosis with&nbsp;diplopia, conjunctival chemosis. The inflammation is responsive to systemic corticosteroids.</p>\n<p>Option C- Orbital cellulitis presents with unilateral proptosis with pain and decreased ocular motility.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a7abc3ca4f7c4d9696d0bb00cdc4c3f1x1280x1216.JPEG"
    ]
  },
  {
    "text": "Which of the following is not derived from surface ectoderm?",
    "choices": [
      {
        "id": 1,
        "text": "Lens"
      },
      {
        "id": 2,
        "text": "Corneal epithelium"
      },
      {
        "id": 3,
        "text": "Conjunctival epithelium"
      },
      {
        "id": 4,
        "text": "Iris epithelium"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Iris epithelium</strong> is not derived from surface ectoderm. It is derived from <strong>neural ectoderm</strong>.</p>\n<p><strong>Lens, corneal epithelium, and conjunctival epithelium</strong> are all derivatives of <strong>surface ectoderm.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old woman comes with complaints of warty lesions on the vulva. On examination, multiple warty growths on the vulva and around the anal canal are seen. This condition is most likely",
    "choices": [
      {
        "id": 1,
        "text": "Condyloma accuminata"
      },
      {
        "id": 2,
        "text": "Molluscum contagiosum"
      },
      {
        "id": 3,
        "text": "Chancroid"
      },
      {
        "id": 4,
        "text": "Herpes"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Multiple warty growths</strong> on the vulva and around the anal canal are most likely&nbsp;<strong>condyloma acuminata,</strong> also called as <strong>venereal warts</strong>. The verrucous growths may appear discrete or coalesce to form large cauliflower-like growths. Human papillomaviruses are implicated in causing this condition</p>\n<p>Other options:</p>\n<p>Option B-<strong> Molluscum contagiosum</strong> presents as a crop of <strong>small domed vesicles with central umbilication. </strong>It is caused by a&nbsp;<strong>poxvirus</strong> and it spreads by close sexual or nonsexual contact and by autoinoculation.</p>\n<p>Option C-<strong> Chancroid</strong>&nbsp;appears as small papules that develop into&nbsp;<strong>painful pustules that ulcerate.</strong> They are associated with unilateral inguinal lymphadenopathy.&nbsp;<strong>&nbsp;</strong>It is caused by <strong>H. ducreyi.</strong></p>\n<p>Option D-<strong> Herpes</strong> appear as multiple crops of <strong>vesicles</strong> and ulcers.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old man is unemployed because he is unable to walk, as he lost his foot in an accident. The fact that he 'cannot walk' is explained by _______",
    "choices": [
      {
        "id": 1,
        "text": "Disability"
      },
      {
        "id": 2,
        "text": "Handicap"
      },
      {
        "id": 3,
        "text": "Disease/disorder"
      },
      {
        "id": 4,
        "text": "Impairment"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The fact that he <strong>cannot walk</strong> is explained by the <strong>disability</strong>, according to the concept given below.</p>\n<p><span style=\"font-size: 10pt;\"><strong>Disease &rarr; Impairment &rarr; Disability &rarr; Handicap</strong></span></p>\n<ul>\n<li>Impairment is any loss or <strong>abnormality in normal structure or function</strong>.</li>\n<li>Disability is the&nbsp;<strong>inability to carry out</strong> normal actions due to impairment.</li>\n<li>Handicap is <strong>experiencing disadvantages</strong> due to disability and inability to discharge obligations normally.</li>\n</ul>\n<p>In the given example:</p>\n<ul>\n<li><strong>Accident</strong>: Disease (or disorder)</li>\n<li><strong>Loss of foot</strong>: Impairment (extrinsic or intrinsic)</li>\n<li><strong>Cannot walk</strong>: Disability (objectified)</li>\n<li><strong>Unemployed</strong>: Handicap (socialized)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old female complaining of irritation in her left eye has the following finding. Which of the following condition commonly causes this?",
    "choices": [
      {
        "id": 1,
        "text": "Polyarteritis nodosa"
      },
      {
        "id": 2,
        "text": "Wegener's granulomatosis"
      },
      {
        "id": 3,
        "text": "Rheumatoid arthritis"
      },
      {
        "id": 4,
        "text": "Giant cell arteritis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical condition and the given image is suggestive of <strong>scleromalacia perforans.&nbsp;</strong>It is commonly associated with <strong>rheumatoid arthritis.</strong></p>\n<p>Scleromalacia perforans is a specific type of <strong>progressive scleral thinning</strong> without inflammation. It is typically seen in elderly women with <strong>longstanding rheumatoid arthritis.&nbsp;</strong>Despite the term 'scleromalacia perforans',<strong> perforation is extremely rare</strong> as the integrity is maintained by a thin layer of fibrous tissue.</p>\n<p>Overall,&nbsp;<strong>50% </strong>of cases of scleritis are associated with systemic diseases; the most common being connective tissue diseases. About<strong> 0.5%</strong> of patients suffering from <strong>seropositive rheumatoid arthritis</strong> develop scleritis.</p>\n<p><strong>Other associated collagen disorders</strong> are as follows:</p>\n<ul>\n<li>Wegener&rsquo;s granulomatosis</li>\n<li>Polyarteritis nodosa</li>\n<li>Systemic lupus erythematosus (SLE)</li>\n<li>Ankylosing spondylitis</li>\n<li>Relapsing polychondritis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/de2cb058adce40b1b95cf1f8ee2c4fa1.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 45-year-old lady complains of post-coital bleeding. What is this history specific for  _______",
    "choices": [
      {
        "id": 1,
        "text": "carcinoma of the cervix"
      },
      {
        "id": 2,
        "text": "carcinoma of the vulva"
      },
      {
        "id": 3,
        "text": "carcinoma of the endometrium"
      },
      {
        "id": 4,
        "text": "carcinoma of the vagina"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>&nbsp;</p>\n<p>Whenever a female comes with<strong> post-coital bleeding</strong> (specific for <strong>carcinoma of the cervix</strong>) &rarr;</p>\n<p>Do <strong>per speculum examination.</strong></p>\n<p>a<strong>) If growth is visible</strong>&nbsp;&rarr; <strong>Punch</strong> <strong>biopsy</strong></p>\n<p><strong>b) Nothing is visible</strong> &rarr; Do <strong>pap</strong> <strong>smear</strong>. If it is abnormal, then do a <strong>colposcopy</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old boy was found to have a height for age and gender to be 2 standard deviations below the median. Furthermore, his bone age was found to be equal to chronological age. Which of the following is most likely?",
    "choices": [
      {
        "id": 1,
        "text": "Familial short stature"
      },
      {
        "id": 2,
        "text": "Constitutional delay"
      },
      {
        "id": 3,
        "text": "Undernutrition"
      },
      {
        "id": 4,
        "text": "Growth hormone deficiency"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Familial short stature</strong>&nbsp;is most likely as<strong>&nbsp;</strong>bone age is equal to chronological age.</p>\n<p>Bone age &gt; chronological age&nbsp;in precocious puberty.</p>\n<p>Bone age &lt; chronological age in all other causes of short stature such as constitutional delay, undernutrition, genetic diseases,&nbsp;and endocrine causes.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The image given below shows that the pregnancy is _______",
    "choices": [
      {
        "id": 1,
        "text": "Monochorionic diamniotic"
      },
      {
        "id": 2,
        "text": "Monochorionic monoamniotic"
      },
      {
        "id": 3,
        "text": "Conjoint twin"
      },
      {
        "id": 4,
        "text": "Dichorionic"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The sonographic image depicts a <strong>Twin peak/Lambda sign\u00a0</strong>and it confirms a <strong>dichorionic</strong> pregnancy.</p>\n<p>The placenta is seen extending between the amnion layers, forming a <strong>'peak'</strong>.</p>\n<p>In dichorionic gestation, the twins are separated by amniotic membranes and an intervening chorion. So, a thicker twin peak sign or lambda (\u03bb) sign is formed at the point at which the amnions meet the placenta. \u00a0If the division of the inner cell mass occurs within 3 days of fertilization, it results in this type of twin gestation.\u00a0</p>\n<p><strong>Chorionicity </strong>of the placenta is best diagnosed by ultrasound at <strong>10\u201313 weeks</strong> of gestation</p>\n<p>The image given below shows the lambda/twin peak:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5aeb9d66bf374fe58f7d1a33352292af.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/20479ab60fc54ab8a7b63b0ae0f3888cx1280x1066.JPEG"
    ]
  },
  {
    "text": "If  the sensitivity and specificity  of a screening test are 90% and 95% respectively, calculate the positive likelihood ratio:",
    "choices": [
      {
        "id": 1,
        "text": "14"
      },
      {
        "id": 2,
        "text": "16"
      },
      {
        "id": 3,
        "text": "18"
      },
      {
        "id": 4,
        "text": "20"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The positive likelihood ratio of this screening test is <strong>18.</strong></p>\n<p>A positive likelihood ratio, or LR+, is the probability that a positive test would be expected in a patient with a disease divided by the probability that a positive test would be expected in a patient without a disease. In other words, an LR+ is the true positivity rate divided by the false positivity rate.</p>\n<p><strong>Positive Likelihood Ratio= Sensitivity/(1-Specificity)&nbsp;</strong></p>\n<p>LR+= 0.9/1-0.95= 0.9/0.05 = 18.</p>\n<p>Similarly , <strong>Negative Likelihood Ratio= (1- Sensitivity)/Specificity</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is true about hormone replacement therapy and breast cancer?",
    "choices": [
      {
        "id": 1,
        "text": "The risk of cancer is not increased up to 3 years of HRT (combined)"
      },
      {
        "id": 2,
        "text": "The risk of cancer is not increased up to 5 years of estrogen-only replacement therapy"
      },
      {
        "id": 3,
        "text": "Breast cancer developing after HRT is usually low grade, with good prognosis"
      },
      {
        "id": 4,
        "text": "All the above statements are true"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>All are true about hormone replacement therapy (HRT) and breast cancer.</p>\n<div class=\"page\" title=\"Page 87\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>The risk of breast cancer is not increased up to 3 years of HRT and 5 years of estrogen-only replacement therapy.</li>\n<li>Lower risk is seen with the&nbsp;use of dydrogesterone in HRT.</li>\n<li>HRT can cause recurrence of breast cancer and is,&nbsp;therefore, contraindicated in a woman who has been treated for breast cancer. <strong>Tibolone is safe.</strong></li>\n<li>HRT increases the density of breast tissue and subsequently impedes the screening programme of mammography.</li>\n<li>Breast cancer developing subsequent to HRT is of low grade and with good prognosis.</li>\n</ul>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Spot the wrongly matched arthropod and disease.",
    "choices": [
      {
        "id": 1,
        "text": "Housefly \u2013 poliomyelitis"
      },
      {
        "id": 2,
        "text": "Louse \u2013 epidemic typhus"
      },
      {
        "id": 3,
        "text": "Itch mite \u2013 scabies"
      },
      {
        "id": 4,
        "text": "Blackfly \u2013 Chagas disease"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Chagas disease </strong>is transmitted by the <strong>reduviid bugs</strong> or <strong>kissing bugs.</strong></p>\n<p><strong>Blackflies</strong> transmit <strong>onchocerciasis</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An underweight adolescent girl is found to have the following finding on her ocular examination. What is the WHO grade for this finding?",
    "choices": [
      {
        "id": 1,
        "text": "1A"
      },
      {
        "id": 2,
        "text": "1B"
      },
      {
        "id": 3,
        "text": "2A"
      },
      {
        "id": 4,
        "text": "2B"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows a Bitot spot which is a feature seen in vitamin A deficiency. According to the WHO grading of xerophthalmia,<strong> Bitot spots</strong> are classified as<strong> 1B.</strong></p>\n<p>Bitos spots are triangular, pearly-white or yellowish, foamy spots on the bulbar conjunctiva on either side of the cornea.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/008b64280a5748aba37d39e44c6b5b48.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "All of the following are components of the Apgar score except _______",
    "choices": [
      {
        "id": 1,
        "text": "Color"
      },
      {
        "id": 2,
        "text": "Heart rate"
      },
      {
        "id": 3,
        "text": "Respiratory rate"
      },
      {
        "id": 4,
        "text": "Muscle tone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Respiratory rate is <strong>not </strong>a component of Apgar score; however, respiratory effort is.</p>\n<p>The Apgar score is an objective method of evaluating the newborn's condition using the 5 parameters stated below.</p>\n<ul>\n<li>It is performed at <strong>1 minute</strong> and <strong>5 minutes</strong> after birth.</li>\n<li><strong>Components of APGAR score</strong>\n<ul>\n<li>Color (A, appearance)</li>\n<li>Heart rate (P, pulse)</li>\n<li>Response to a\u00a0catheter in nostril (G, grimace)</li>\n<li>Muscle tone (A, activity)</li>\n<li><strong>Respiratory effort</strong> (R) (Not respiratory rate)</li>\n</ul>\n</li>\n<li>The first minute of life also called the \u2018Golden minute\u2019 is the most crucial period to initiate resuscitation. Hence we should not wait for the APGAR score to initiate resuscitation.</li>\n<li>The change of score at sequential time points following birth reflects how well the baby is responding to resuscitative efforts.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ca62f7bef7a24d419fbb632948a2081dx1279x1330.JPEG"
    ]
  },
  {
    "text": "Which of the following is true about the National Programme for Prevention and Control of Cancer, Diabetes, Cardiovascular Diseases and Stroke (NPCDCS)?",
    "choices": [
      {
        "id": 1,
        "text": "No separate centres for stroke, DM and cancer"
      },
      {
        "id": 2,
        "text": "Implementation in over 10 districts in 5 states"
      },
      {
        "id": 3,
        "text": "District hospital has specialized facilities"
      },
      {
        "id": 4,
        "text": "Subcentre has facility for diagnosis and treatment"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The National Programme for Prevention and Control of Cancer, Diabetes, Cardiovascular Diseases and Stroke (NPCDCS) has <strong>specialized facilities in district hospitals</strong>.</p>\n<p>The NPCDCS has separate components for cancer and other non-communicable diseases like diabetes, stroke.</p>\n<p>It has been implemented in over 100 districts in 21 states.</p>\n<p>At the subcentre level under NPCDCS, screening and referral is done.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5d4be3e3741a471fa6e0778ec759c9ebx225x225.JPEG"
    ]
  },
  {
    "text": "A pregnant woman with fibroid uterus develops severe acute pain in abdomen at 28 weeks of gestation. There is no history of fever. WBC count is 8000cells/ul.  The most likely diagnosis is____________",
    "choices": [
      {
        "id": 1,
        "text": "Red degeneration of fibroid"
      },
      {
        "id": 2,
        "text": "Torsion of fibroid"
      },
      {
        "id": 3,
        "text": "Preterm labour"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In this case, there is severe acute pain abdomen without fever and leucocytosis in a 28-week pregnant woman with fibroid. Hence the most likely diagnosis is torsion of fibroid.</p>\n<p>Torsion of sub-serous pedunculated fibroid presents with severe pain abdomen but fever and leukocytosis are absent.</p>\n<p>Red degeneration of fibroid presents with acute pain abdomen, vomiting.<strong> Leukocytosis and raised ESR will be evident</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In Mayer-Rokitansky-K\u00fcster-Hauser syndrome (MRKH), which of the following is absent?",
    "choices": [
      {
        "id": 1,
        "text": "Lower vagina"
      },
      {
        "id": 2,
        "text": "Breast development"
      },
      {
        "id": 3,
        "text": "Pubic hair development"
      },
      {
        "id": 4,
        "text": "Testes"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In Mayer-Rokitansky-K&uuml;ster-Hauser syndrome (MRKH), testes is absent.&nbsp;</p>\n<p>It has a Karyotype of 46,XX. So, the gonads present are ovaries (in contrast to Androgen Insensitivity syndrome where the testes are present).</p>\n<p>Vagina: upper 2/3<sup>rd</sup> are absent but lower one-third is present as it develops from the urogenital sinus.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old female presented with a history of vaginal discharge without itching. On examination, the discharge was milky, foul-smelling, nonviscous, and adherent to the vaginal wall. She is not active sexually. On further testing, it was found that the discharge has very few lactobacilli and there was a presence of clue cells. What is the causative organism for the above condition _______",
    "choices": [
      {
        "id": 1,
        "text": "Viral"
      },
      {
        "id": 2,
        "text": "Fungal"
      },
      {
        "id": 3,
        "text": "Bacterial"
      },
      {
        "id": 4,
        "text": "Protozoan"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above case scenario is <strong>Bacterial Vaginosis</strong>.</p>\n<p>Bacterial vaginosis is termed vaginosis rather than vaginitis because it is associated with alteration in the normal vaginal flora rather than due to any specific infection.</p>\n<p>It is not sexually transmitted and has a variable incubation period. About 50% of women are asymptomatic carriers of infection.</p>\n<p>The presence of clue cells is one of the 4 criteria described in Amsel&rsquo;s criteria.</p>\n<p><strong>Amsel&rsquo;s criteria</strong> are used in the diagnosis of bacterial vaginosis which includes:</p>\n<ul>\n<li>Homogenous vaginal discharge</li>\n</ul>\n<ul>\n<li>Vaginal pH &gt; 4.5</li>\n</ul>\n<ul>\n<li>Amine like odor on adding KOH (Whiff test positive)</li>\n</ul>\n<ul>\n<li>Clue cells (&gt;20% of cells)</li>\n</ul>\n<p><strong>At</strong> <strong>least three</strong>&nbsp;of the four criteria should be present to confirm the diagnosis.</p>\n<p>On microscopy, there is <strong>no</strong> abundance of polymorphs in a case of bacterial vaginosis as it is just an alteration of flora and not an inflammation.</p>\n<ul>\n<li>The diagnosis is based on wet smear and culture.</li>\n<li>The smear reveals clean background with <strong>few inflammatory cells and other organ&shy;isms</strong>, but <strong>scanty lactobacilli</strong>. Many epithelial cells present a granular cytoplasm caused by small gram-negative bacilli adhering on their surface, the so-called <strong>clue cells</strong>. Gram stain is 90% sensitive.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following gland is infected in hordeolum externum?",
    "choices": [
      {
        "id": 1,
        "text": "Gland of Wolfring"
      },
      {
        "id": 2,
        "text": "Meibomian gland"
      },
      {
        "id": 3,
        "text": "Zeis gland"
      },
      {
        "id": 4,
        "text": "Gland of Krause"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Hordeolum externum</strong> or <strong>stye</strong> is the <strong>staphylococcal</strong> infection of <strong>hair follicle</strong>/<strong>Zeis gland/</strong><strong>Moll gland</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/95b167aa7f9d464e97f1735fb64eb39ex548x448.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d406b4a37fc5483d891476245a4614b5x600x450.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/834e0d5643ee4817b7407bbe29213bb0x572x452.PNG"
    ]
  },
  {
    "text": "Which of the following is not a symptom of severe dehydration?",
    "choices": [
      {
        "id": 1,
        "text": "Drowsy child"
      },
      {
        "id": 2,
        "text": "Skin pinch retracts slowly"
      },
      {
        "id": 3,
        "text": "Thirsty child"
      },
      {
        "id": 4,
        "text": "Sunken fontanelle"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A <strong>thirsty child</strong> signifies <strong>some dehydration</strong>, not severe dehydration.&nbsp;</p>\n<p>In severe dehydration the child is:</p>\n<ul>\n<li>Drowsy, lethargic or unconscious</li>\n<li>Drinks poorly or not able to drink</li>\n<li>Sunken eyes</li>\n<li>Skin pinch goes back very slowly</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Absolute contraindications of OCPs are all except ______",
    "choices": [
      {
        "id": 1,
        "text": "Ischemic heart disease"
      },
      {
        "id": 2,
        "text": "Hepatoma"
      },
      {
        "id": 3,
        "text": "Thyroid disorder"
      },
      {
        "id": 4,
        "text": "Breast cancer"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>OCP's have no adverse effects on the thyroid.</p>\n<p><strong>Contraindications of OCP</strong></p>\n<ul>\n<li><strong>Cardiac disease</strong>, hypertension, smoker over 35 years</li>\n<li>Diabetes</li>\n<li>History of thrombosis, myocardial infarct, sickle cell anaemia, severe migraine</li>\n<li><strong>Chronic liver diseases</strong> such as cholestatic jaundice of pregnancy, cirrhosis of liver, adenoma, porphyrias</li>\n<li><strong>Breast cancer</strong>, gall bladder disease</li>\n<li>Gross obesity</li>\n<li>Patient on enzyme-inducing drugs like rifampicin, and antiepileptic except sodium valproate</li>\n<li>4&ndash;6 weeks prior to planned surgery</li>\n<li>Lactating woman</li>\n<li>Monilial vaginitis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 55 year old lady comes with abnormal uterine bleeding. Hysterectomy was performed and the following specimen was  retrieved. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Leiomyoma"
      },
      {
        "id": 2,
        "text": "Endometrial carcinoma"
      },
      {
        "id": 3,
        "text": "Endometrial polyp"
      },
      {
        "id": 4,
        "text": "Adenomyosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The specimen is of a Leiomyoma.</p>\n<p>The uterine body / corpus is enlarged and deformed. The cut surface shows multiple nodules, well-circumscribed, firm, white-greyish with a whorled appearance formed by the intersecting bundles of brown muscle fibers and white fibrous tissue. Leiomyomas can also present bleeding areas, cystic degeneration and calcifications. The uterine cavity is compressed.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5c312ff9533347e3a51d19663541f0ba.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a feature of fungal hypopyon?",
    "choices": [
      {
        "id": 1,
        "text": "Thick"
      },
      {
        "id": 2,
        "text": "Immobile"
      },
      {
        "id": 3,
        "text": "Sterile"
      },
      {
        "id": 4,
        "text": "Contains fungal filaments"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Fungal keratitis causes a&nbsp;<strong>non-sterile hypopyon.</strong></p>\n<p>Unlike bacterial ulcer, the hypopyon may not be sterile as the <strong>fungi can penetrate into the anterior chamber</strong> without perforation.&nbsp;<em><strong>Aspergillus</strong></em>&nbsp;spp. are the <strong>most common cause</strong>.</p>\n<p>Hypopyon in a fungal ulcer</p>\n<ul>\n<li>Non-sterile</li>\n<li><strong>Thick and Fixed</strong></li>\n<li>Contains <strong>fungal filaments</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 26 year old woman, G2P1, is informed after her first trimester scan , that the fetus has open spina bifida. At 30 weeks of gestation, her USG scan would most likely report:",
    "choices": [
      {
        "id": 1,
        "text": "Amniotic fluid index = 4 cm"
      },
      {
        "id": 2,
        "text": "Single deepest vertical pocket = 2 cm"
      },
      {
        "id": 3,
        "text": "Amniotic fluid index = 10 cm"
      },
      {
        "id": 4,
        "text": "Single deepest vertical pocket = 9 cm"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>According to the given clinical vignette, at 30 weeks of gestation, her USG scan would most likely report a <strong>single deepest vertical pocket of 9 cm</strong> in a fetus with<strong> open spina bifida.</strong></p>\n<p><strong>Spina bifida </strong>is one of the causes of<strong> polyhydramnios </strong>which is diagnosed when the <strong>single deepest vertical pocket (DVP) </strong>is <strong>greater than 8 cm.\u00a0</strong></p>\n<p><strong>Open spina bifida</strong> causes increased transudation from the meninges , leading to increasing amounts of liquor amnii production i.e. <strong>polyhydramnios</strong>.</p>\n<p>Polyhydramnios is diagnosed when :</p>\n<ul>\n<li>Amniotic fluid index (AFI) is greater than <strong>24cm</strong></li>\n<li>Single deepest vertical pocket\u00a0 (DVP) is greater than <strong>8 cm</strong></li>\n<li>Amniotic fluid volume is greater than <strong>2L</strong></li>\n</ul>\n<p>Other options :</p>\n<p>Option A : AFI=4 cm implies<strong> oligohydramnios (AFI&lt; 5 cm or DVP&lt; 2cm</strong>).</p>\n<p>Option B: DVP=2 cm implies oligohydramnios.</p>\n<p>Option C : AFI = 10 cm implies <strong>normal AFI (5-25 cm)</strong>.</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 2nd degree perineal tear involves :",
    "choices": [
      {
        "id": 1,
        "text": "Vaginal epithelium + Rectal epithelium"
      },
      {
        "id": 2,
        "text": "Superficial transverse perineal muscle + Bulbospongiosus"
      },
      {
        "id": 3,
        "text": "Perineal muscles + rectal mucosa"
      },
      {
        "id": 4,
        "text": "Internal anal sphincter + External anal sphincter"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A 2nd-degree perineal tear involves the perineal muscles i.e, bulbospongiosus and superficial transverse perineal muscles.</p>\n<p>Other options :</p>\n<p>Any involvement of the rectal mucosa is categorised as a 4th-degree tear. (a,c)</p>\n<p>Internal and external anal sphincter involvement is categorised as 3c, 3rd-degree perineal tear (d).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old construction worker involves in work where he gets repeatedly exposed to noise of around 100 dB at the construction site. This could lead to ____",
    "choices": [
      {
        "id": 1,
        "text": "Acoustic fatigue"
      },
      {
        "id": 2,
        "text": "Temporary hearing loss"
      },
      {
        "id": 3,
        "text": "Permanent hearing loss"
      },
      {
        "id": 4,
        "text": "Rupture of tympanic membrane"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Repeated exposure to the sound of <strong>100 dB</strong>&nbsp;can lead to<strong> permanent hearing loss.</strong></p>\n<p><strong class=\"ng-binding\">Effects of Noise Exposure</strong></p>\n<div class=\"panel-body ng-scope\">\n<ul>\n<li><strong>Auditory effects</strong>\n<ul>\n<li><strong>Auditory fatigue</strong>&nbsp;appears at&nbsp;<strong>90 dB&nbsp;</strong>and is greatest at&nbsp;<strong>4000 Hz.</strong>&nbsp;Whistling and buzzing in ear occurs with auditory fatigue.</li>\n<li><strong>Temporary deafness</strong>&nbsp;or hearing loss occurs after a single exposure to noise, usually at a frequency range of 4000 &ndash; 6000 Hz. It disappears after 24 hours following noise exposure.</li>\n<li><strong>Permanent hearing loss</strong>&nbsp;can result after continuous or repeated exposure to noises&nbsp;<strong>around 100 dB</strong>. It occurs commonly as&nbsp;<strong>occupational hearing loss.</strong></li>\n<li>Exposure to noise&nbsp;<strong>above 160 dB</strong>&nbsp;may&nbsp;<strong>rupture</strong>&nbsp;the&nbsp;<strong>tympanic membrane</strong>&nbsp;and cause permanent hearing loss.</li>\n</ul>\n</li>\n<li><strong>Non-auditory effects</strong>\n<ul>\n<li><strong>Interference with speech</strong>&nbsp;occurs when the sound has a&nbsp;<strong>frequency of 300 &ndash; 500 Hz</strong></li>\n<li><strong>Annoyance</strong>&nbsp;is a psychological response to noise which can greatly affect&nbsp;<strong>efficiency and concentration</strong></li>\n<li>Noise has also been known to cause some physiological changes like increased blood pressure, intracranial pressure, increased sweating, etc.</li>\n</ul>\n</li>\n</ul>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old male presented with a lacerated wound over the hand due to an accidental injury from the soiled & rusted knife. You decide to give him equine antitoxin as human antitoxin immunoglobulin was not available at the hospital. What standard dose of equine antitoxin would you use in this case?",
    "choices": [
      {
        "id": 1,
        "text": "2500 IU"
      },
      {
        "id": 2,
        "text": "1500 IU"
      },
      {
        "id": 3,
        "text": "750 IU"
      },
      {
        "id": 4,
        "text": "250 IU"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The standard dose of <strong>Equine</strong> antitoxin(anti-tetanus serum/<strong>ATS</strong>) is <strong>1500 IU.</strong></p>\n<p>The standard dose of <strong>Human</strong> antitoxin(human tetanus hyper-immunoglobulin/<strong>TIG</strong>) is <strong>250 IU.&nbsp;</strong>If this not available, equine antitoxin can be used.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following image represents",
    "choices": [
      {
        "id": 1,
        "text": "Rashtriya swasthya bima yojana"
      },
      {
        "id": 2,
        "text": "Mid day meal program"
      },
      {
        "id": 3,
        "text": "Integrated child development service"
      },
      {
        "id": 4,
        "text": "Mission indradhanush"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Option a</strong>: Rashtriya swasthya bima yojana</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e51a4bd0d45b4e2fb60937d8675959c8.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8b265cadb55a4e1e9509b90efb979b46x1280x1024.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9f67e76e2054422ca21c608c4476a269x1280x1025.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/729c7fa0a3234595afa61b027e2f85a7x1280x1024.JPEG"
    ]
  },
  {
    "text": "A 6-year-old girl presents with precocious puberty, bony lesions, and hyperpigmented skin lesions, as shown below. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Prader-Willi Syndrome"
      },
      {
        "id": 2,
        "text": "Reifenstein Syndrome"
      },
      {
        "id": 3,
        "text": "McCune-Albright syndrome"
      },
      {
        "id": 4,
        "text": "Polyostotic fibrous dysplasia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Precocious puberty, bony lesions (polyostotic fibrous dysplasia), and cafe au lait spots, as shown in the picture, are features of <strong>McCune&ndash;Albright syndrome.</strong></p>\n<p>McCune&ndash;Albright syndrome is a classical cause of peripheral precocious puberty&nbsp;<span class=\"st\">caused by a mutation of&nbsp;<em>GNAS1</em>&nbsp;gene. </span><span class=\"st\" data-hveid=\"122\" data-ved=\"0ahUKEwjNjvuczb7aAhUhR48KHfVTBmsQ4EUIejAN\">It affects the bones, skin, and several endocrine tissues.</span></p>\n<p><strong>Cardinal features</strong>:<strong><br /></strong></p>\n<ul>\n<li><strong>Polyostotic fibrous dysplasia</strong></li>\n<li><strong>Cafe au lait macules</strong></li>\n<li>Endocrine&nbsp;abnormalities: hyperthyroidism, acromegaly, adrenal adenomas, and autonomous ovarian hyperfunction, leading to<strong> precocious puberty</strong></li>\n<li>Females &gt; Males</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f1ea8cab33ab455e98b95cf6c283aeee.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Catch up, Keep up and Follow up strategy is done for elimination of which of the following diseases?",
    "choices": [
      {
        "id": 1,
        "text": "Poliomyelitis"
      },
      {
        "id": 2,
        "text": "Measles"
      },
      {
        "id": 3,
        "text": "Hepatitis B"
      },
      {
        "id": 4,
        "text": "Diphtheria"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Catch up, Keep up and Follow up is a special strategy for global elimination of Measles.</p>\n<p>Special Immunization activity is held for Measles Elimination in the form of Catch-up, Keep up and Follow up phases</p>\n<p><strong>Catch-up:</strong></p>\n<p>All the children between 9 months to 10 years will receive a supplementary dose of Measles regardless of previous Measles vaccination or Measles illness</p>\n<p>Target: more than 90% of eligible children</p>\n<p><strong>Keep-up:</strong></p>\n<p>To increase measles vaccination in routine immunization to more than 90% of successive birth cohorts</p>\n<p><strong>Follow-up:</strong></p>\n<p>A periodic event that will be conducted every 3-5 years after catch-up phase, wherein all the children born after catch up phase and more than 9 months of age will be given an additional dose of Measles vaccine regardless of previous Measles vaccination or Measles illness</p>\n<p><strong>Target:</strong> more than 90% of eligible children</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 14-year-old girl complains of low-grade fever and mild discomfort in her throat. On examination, a membrane is seen over the tonsil and can be removed easily. After removal of the membrane, an irregular ulcer is seen on the surface of the tonsil. What is the causative agent?",
    "choices": [
      {
        "id": 1,
        "text": "Beta haemolytic streptococci"
      },
      {
        "id": 2,
        "text": "Fusiform bacilli"
      },
      {
        "id": 3,
        "text": "Treponema pallidum"
      },
      {
        "id": 4,
        "text": "Microaerophilic streptococci"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical scenario is suggestive of Vincent's angina. It is caused by the <strong>fusiform bacillus</strong> and&nbsp;<em><strong>Borrreli vincentii</strong>.</em></p>\n<p><strong>Vincent&rsquo;s angina:</strong></p>\n<ul>\n<li>Present with low grade fever and sore throat &amp; <strong>membrane over tonsil</strong>.</li>\n<li>Membrane is easily removed to reveal irregular ulcer over tonsil.</li>\n<li>Throat swab will show both the organisms typical of the disease, namely <strong>fusiform bacilli and spirochaetes namely&nbsp;<em>Borrreli vincentii.</em></strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A two-day-old neonate presents with bilious vomiting; the X-ray image obtained is shown below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Duodenal atresia"
      },
      {
        "id": 2,
        "text": "Ileal atresia"
      },
      {
        "id": 3,
        "text": "Jejunal atresia"
      },
      {
        "id": 4,
        "text": "Sigmoid volvulus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>The diagnosis of<strong> duodenal atresia</strong> is suggested by the presence of a<strong> &ldquo;double-bubble&rdquo; sign </strong>on a plain abdominal radiograph, which is caused by the <strong>distension of a&nbsp;filled stomach</strong> and <strong>proximal duodenum</strong>.</li>\n<li>Duodenal atresia results from failed recanalization of the intestinal lumen during gestation. A history of <strong>polyhydramnios</strong> is present; half of the infants seen with duodenal atresia are <strong>premature</strong>. The hallmark of duodenal obstruction is<strong> bilious vomiting without abdominal distention</strong>, which is usually noted on the <strong>1<sup>st</sup> day </strong>of life.&nbsp;</li>\n</ul>\n<p>Management:&nbsp;The initial treatment of infants with duodenal atresia includes <strong>nasogastric or orogastric decompression </strong>and intravenous fluid replacement. The typical surgical repair for duodenal atresia is&nbsp;<strong>duodenoduodenostomy</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/70384bd4d91a4b7ab68b4ab47e79b287.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The main objective of the Pradhan Mantri Bhartiya Jan-aushadhi Pariyojana (PMBJP) is to ___________",
    "choices": [
      {
        "id": 1,
        "text": "Improve maternal and child health"
      },
      {
        "id": 2,
        "text": "Make quality, generic medicines affordable to all"
      },
      {
        "id": 3,
        "text": "Enhance quality of life and increase employment for the differently abled"
      },
      {
        "id": 4,
        "text": "Mobilise the Indian youth against issues like women empowerment and trafficking"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The&nbsp;<strong>Pradhan Mantri Bhartiya Jan-aushadhi Pariyojana (PMBJP)</strong> carries the objective of making quality, generic medicines affordable for everyone especially the lower socio-economic groups. <strong>BPPI (Bureau of Pharma PSUs of India)</strong>, under the administrative control of the Department of Pharmaceuticals, Ministry of Chemicals &amp; Fertilizers, Government of India is the implementation agency for the PMBJP.</p>\n<p>The mission of this programme includes creating awareness and demand for generic medicines through education and supply of such medications.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9d15b788f21c4d6090d9c167acab582bx153x127.PNG"
    ]
  },
  {
    "text": "Cough on scratching the external acoustic canal is due to?",
    "choices": [
      {
        "id": 1,
        "text": "Auriculotemporal nerve"
      },
      {
        "id": 2,
        "text": "Auricular branch of vagus"
      },
      {
        "id": 3,
        "text": "Great auricular nerve"
      },
      {
        "id": 4,
        "text": "Facial nerve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Cough on scratching the external acoustic canal is due to the&nbsp;<strong>auricular branch of the vagus nerve</strong> (also called <strong>Arnold's</strong>&nbsp;<strong>nerve</strong>).</p>\n<p>Ear-cough reflex (Otorespiratory reflex):<strong>&nbsp;</strong>The Arnold's nerve innervates the skin over a small part of the ear and external auditory canal. In patients with chronic cough, scratching or mechanical stimulation of ear leads to activation of Arnold's nerve, which evokes reflex cough.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A new nurse asks your advice regarding the disposal of an unsterile vacutainer. In response, you would answer her to dispose of it in ____.",
    "choices": [
      {
        "id": 1,
        "text": "Blue"
      },
      {
        "id": 2,
        "text": "White"
      },
      {
        "id": 3,
        "text": "Red"
      },
      {
        "id": 4,
        "text": "Yellow"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The contaminated vacutainer to be discarded in the <strong>red</strong> bag or container. As the vacutainer comes under<strong> recyclable contaminated waste.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Lathyrism is caused by which of the following toxic compounds?",
    "choices": [
      {
        "id": 1,
        "text": "Pyrrolizidine alkaloids"
      },
      {
        "id": 2,
        "text": "BOAA"
      },
      {
        "id": 3,
        "text": "Sanguinarine"
      },
      {
        "id": 4,
        "text": "Aflatoxins"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>BOAA&nbsp;(Beta oxalyl amino alanine)</strong> is the toxic compound causing <strong>Lathyrism.</strong></p>\n<p>It is due to the consumption of <strong>Khesari dal/Lathyrus sativus</strong>.&nbsp;Lathyrism is a paralyzing disease of humans and animals.</p>\n<p>In humans, it is referred to as <strong>neurolathyrism</strong> because it&nbsp;affects the nervous system. It is&nbsp;characterized by gradually developing spastic&nbsp;paralysis of lower limbs.</p>\n<p>The water soluble property of the toxin is used in&nbsp;removing from the pulses by <strong>soaking&nbsp;it in hot water</strong> and rejecting the soaked water.&nbsp;<strong>Vitamin C</strong> in doses of 500-1000mg can be used for the prevention and treatment of lathyrism.</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Disease</strong>&nbsp;&nbsp;</td>\n<td><strong>Food Substance/Contaminant&nbsp;</strong></td>\n<td><strong>Toxic Principle&nbsp;</strong></td>\n</tr>\n<tr>\n<td>Neurolathyrism</td>\n<td>Lathyrus&nbsp;sativus /Khesari&nbsp;dal&nbsp;</td>\n<td>BOAA&nbsp;</td>\n</tr>\n<tr>\n<td>Epidemic dropsy&nbsp;</td>\n<td>Argemone&nbsp;oil&nbsp;</td>\n<td>Sanguinarine&nbsp;</td>\n</tr>\n<tr>\n<td>Ergotism</td>\n<td>Bajra, wheat/ Claviceps purpurea</td>\n<td>Clavine alkaloids</td>\n</tr>\n<tr>\n<td>Endemic ascites&nbsp;</td>\n<td>Crotalaria/Jhunjhunia&nbsp;</td>\n<td>Pyrrolizidine alkaloids&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 24-year-old primigravida at 30 weeks of gestation came for a regular antenatal checkup.  On examination size of the uterus corresponds to 26 weeks of gestation and the fetal heart rate is 130 beats/min.  Amniotic fluid index is 4 in the sonogram.  Which of the following fetal anomalies is not likely to be associated  ______",
    "choices": [
      {
        "id": 1,
        "text": "Oesophageal atresia"
      },
      {
        "id": 2,
        "text": "Renal agenesis"
      },
      {
        "id": 3,
        "text": "Posterior valve urethral defect"
      },
      {
        "id": 4,
        "text": "Obstructive uropathy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical picture is suggestive of <strong>Oligohydramnios</strong> and it is <strong>not</strong> likely to be associated with <strong>Oesophageal atresia </strong></p>\n<table style=\"width: 478px;\">\n<tbody>\n<tr>\n<td style=\"width: 138px;\"><strong>Maternal causes</strong></td>\n<td style=\"width: 182px;\"><strong>Fetal causes</strong></td>\n<td style=\"width: 152px;\"><strong>Placental causes</strong></td>\n</tr>\n<tr>\n<td style=\"width: 138px;\">Post-dated pregnancy</td>\n<td style=\"width: 182px;\">Fetal anomalies&nbsp;</td>\n<td style=\"width: 152px;\">Placental insufficiency</td>\n</tr>\n<tr>\n<td style=\"width: 138px;\">Pre-eclampsia&nbsp;</td>\n<td style=\"width: 182px;\">Renal agenesis, urethral defects (posterior valve, obstructive uropathy)</td>\n<td style=\"width: 152px;\">Failure of secretion:&nbsp;<strong>Amnion Nodosum</strong></td>\n</tr>\n<tr>\n<td style=\"width: 138px;\">NSAIDs, ACE inhibitors&nbsp;</td>\n<td style=\"width: 182px;\">&nbsp;</td>\n<td style=\"width: 152px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 138px;\">\n<p><strong>Undiagnosed rupture of membrane </strong>(most common)</p>\n<p>Spontaneous rupture of membranes</p>\n</td>\n<td style=\"width: 182px;\">&nbsp;</td>\n<td style=\"width: 152px;\">&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are charting the partograph of a 24-year-old woman in the labor ward. The graph crosses to the right of the action line. Which zone of the partograph will you find yourself in?",
    "choices": [
      {
        "id": 1,
        "text": "Amber zone"
      },
      {
        "id": 2,
        "text": "Green zone"
      },
      {
        "id": 3,
        "text": "Red zone"
      },
      {
        "id": 4,
        "text": "White zone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Once the graph crosses to the right of the action line, you enter the red zone.</p>\n<p>WHO Simplified Partograph-this simplified partograph is <strong>color-coded</strong> :</p>\n<ul>\n<li>The<strong> area to the left of the alert line</strong> in the cervicograph is colored <strong>green</strong>, representing <strong>normal progress</strong>.</li>\n<li>The <strong>area to the right of the action line</strong> is colored <strong>red</strong>, indicating dangerously <strong>slow progress</strong> in labor.</li>\n<li>The <strong>area in between the alert and action line</strong> is colored <strong>amber</strong>, indicating the need for greater vigilance.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f5f2d7c7862a4697bafaa59643434b9ex360x330.JPEG"
    ]
  }
];
        let quizName = 'Fmge Mini Test - 3';
        const quizFilename = 'fmge-mini-test-3-645e8670.html';
        let hierarchy = ["Marrow", "FMGE Mini Test Series", "2020"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>