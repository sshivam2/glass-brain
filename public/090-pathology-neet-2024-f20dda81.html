<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>090 Pathology Neet 2024 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Pathology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">33</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which condition is inherited according to the given pedigree?",
    "choices": [
      {
        "id": 1,
        "text": "Wilson disease"
      },
      {
        "id": 2,
        "text": "Wiskott\u2013Aldrich syndrome"
      },
      {
        "id": 3,
        "text": "Prader Willi syndrome"
      },
      {
        "id": 4,
        "text": "Achondroplasia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given pedigree chart points towards an <strong>X-linked recessive</strong> mode of inheritance and among the options provided <strong>Wiskott\u2013Aldrich syndrome</strong> is inherited via this mode.</p>\n<p>A Triad of <strong>micro-thrombocytopenia, eczema, and recurrent infections </strong>points towards Wiskott\u2013Aldrich syndrome.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Wilson's disease </strong>is caused by a defect in the gene <strong>ATP7B on chromosome 13</strong>, which results in decreased biliary copper excretion and its accumulation in the liver. It is known to cause hepatolenticular degeneration. Serum ceruloplasmin levels are decreased.\u00a0</p>\n<p>Option C:<strong> Prader-Willi syndrome</strong> belongs to a group of disorders called <strong>genomic imprinting </strong>i.e. differential expression of a gene based on chromosomal inheritance from maternal or paternal origin.\u00a0 It is due to the <strong>deletion of paternally derived Chr 15.</strong></p>\n<p>Option D:<strong>\u00a0Achondroplasia </strong>is the most <strong>common skeletal dysplasia</strong> that follows the <strong>autosomal dominant inheritance pattern </strong>(. It characteristically presents with macrocephaly, disproportionately short limbs, facial dysmorphism (e.g., mid-face hypoplasia, frontal bossing), joint laxity, and hypotonia.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/31c1276b3ae94e258ef252723d8000f2.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not true about vWD?",
    "choices": [
      {
        "id": 1,
        "text": "VWD type 3 has severely low levels of VWF"
      },
      {
        "id": 2,
        "text": "VWD type 1 is the most severe disease in children"
      },
      {
        "id": 3,
        "text": "VWD type 3 is the most severe disease in children"
      },
      {
        "id": 4,
        "text": "VWD type 2 is associated with moderate bleeding tendency"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Von Willebrand disease <strong>type</strong> <strong>1</strong> is <strong>not</strong> <strong>the</strong> <strong>most</strong> <strong>severe</strong> <strong>disease</strong> in<strong> </strong>children. On the other hand, it has been found that it is\u00a0<strong>VWD type 3 </strong>is the <strong>most severe.</strong></p>\n<p>Features of VWD:</p>\n<ul>\n<li>Most <strong>common</strong> type is Type 1</li>\n<li>The most<strong> severe</strong> type is Type\u00a03</li>\n<li>Most common inheritance: <strong>Autosomal dominant</strong></li>\n<li>Type 1-<strong> partial quantitative</strong> deficiency of VWF\u00a0</li>\n<li>Type 2- <strong>qualitative</strong> deficiency of VWF</li>\n<li>Type 3- <strong>complete quantitative</strong> deficiency of VWF</li>\n</ul>\n<p>Characteristics of the subtypes of VWD are summarized below :</p>\n<table style=\"height: 169px; width: 358px;\">\n<tbody>\n<tr>\n<td style=\"width: 10px; text-align: center;\"><strong>Type</strong></td>\n<td style=\"width: 10px; text-align: center;\"><strong>Inheritance</strong></td>\n<td style=\"width: 198px; text-align: center;\"><strong>Mechanism</strong></td>\n<td style=\"width: 10px; text-align: center;\"><strong>Important characteristics</strong></td>\n</tr>\n<tr>\n<td style=\"width: 10px; text-align: center;\">1</td>\n<td style=\"width: 10px; text-align: center;\">AD</td>\n<td style=\"width: 198px; text-align: center;\">Partial, quantitative deficiency of VWF</td>\n<td style=\"width: 10px; text-align: center;\">Most common type</td>\n</tr>\n<tr>\n<td style=\"width: 10px; text-align: center;\">3</td>\n<td style=\"width: 10px; text-align: center;\">AR</td>\n<td style=\"width: 198px; text-align: center;\">Complete quantitative deficiency</td>\n<td style=\"width: 10px; text-align: center;\"><strong>Most severe\u00a0VWD</strong></td>\n</tr>\n<tr>\n<td style=\"width: 10px; text-align: center;\">2A</td>\n<td style=\"width: 10px; text-align: center;\">AD</td>\n<td style=\"width: 198px; text-align: center;\">Loss of VWF multimers (increased cleavage by ADAMS13)</td>\n<td style=\"width: 10px; text-align: center;\">Platelet adhesion defect</td>\n</tr>\n<tr>\n<td style=\"width: 10px; text-align: center;\">2B</td>\n<td style=\"width: 10px; text-align: center;\">AD</td>\n<td style=\"width: 198px; text-align: center;\">Increased binding of VWF to platelets causing VWF-platelet complex destruction</td>\n<td style=\"width: 10px; text-align: center;\"><strong>Thrombo-cytopenia</strong></td>\n</tr>\n<tr>\n<td style=\"width: 10px; text-align: center;\">2M</td>\n<td style=\"width: 10px; text-align: center;\">AD</td>\n<td style=\"width: 198px; text-align: center;\">Decreased affinity of VWF to platelets</td>\n<td style=\"width: 10px; text-align: center;\">Platelet adhesion defect, very rare</td>\n</tr>\n<tr>\n<td style=\"width: 10px; text-align: center;\">2N</td>\n<td style=\"width: 10px; text-align: center;\"><strong>AR</strong></td>\n<td style=\"width: 198px; text-align: center;\">Decreased affinity of VWF to Factor VIII</td>\n<td style=\"width: 10px; text-align: center;\"><strong>Autosomal hemophilia</strong></td>\n</tr>\n</tbody>\n</table>\n<p>AD: autosomal dominant</p>\n<p>AR: autosomal recessive</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is most common mutation associated with the microscopy image of the thyroid shown?",
    "choices": [
      {
        "id": 1,
        "text": "BRAF V600E"
      },
      {
        "id": 2,
        "text": "RET"
      },
      {
        "id": 3,
        "text": "MET"
      },
      {
        "id": 4,
        "text": "KRAS"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>BRAF V600E mutation is also seen in :</p>\n<ul>\n<li>Langerhans cell histiocytosis</li>\n<li>Hairy cell leukemia</li>\n<li>Colon adenocarcinoma</li>\n<li>Melanoma<br /><br /></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2f164bcb918f4ad49ec163e966b7202d.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a91495940f4f4437840356f87c3954efx1280x1159.JPEG"
    ]
  },
  {
    "text": "A patient presented with abdominal pain, hepatosplenomegaly and WBC count >50,000/mm3. Which of the following genes is involved in this case?",
    "choices": [
      {
        "id": 1,
        "text": "t (15:17)"
      },
      {
        "id": 2,
        "text": "Del 1q"
      },
      {
        "id": 3,
        "text": "t (9:22)"
      },
      {
        "id": 4,
        "text": "Del 3q"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Option C: The <strong>1q21.1 deletion syndrome</strong> itself does not lead to a clinically recognizable syndrome. Some patients can present with <strong>dysmorphic facial features</strong>, <strong>mild intellectual disability</strong>, <strong>microcephaly</strong>, and <strong>eye abnormalities</strong>.</p>\n<p>Option D: The <strong>3q29 deletion syndrome</strong> clinically presents with psychiatric manifestations including mild-to-moderate <strong>intellectual disability</strong>, <strong>autism spectrum disorder</strong>, anxiety disorders, <strong>attention-deficit/hyperactivity disorder</strong>, <strong>executive function deficits</strong>, and <strong>psychosis</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a07b0a55e0f04edfaefe10bde3ca73c7x1280x960.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6d25644f5cee4506b2f30b5918c3dbf5x645x600.PNG"
    ]
  },
  {
    "text": "A 55-year-old chronic smoker presents with weight loss, hemoptysis and TTF-1 positivity. What is the possible diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Squamous cell carcinoma"
      },
      {
        "id": 2,
        "text": "Small cell carcinoma"
      },
      {
        "id": 3,
        "text": "Adenocarcinoma"
      },
      {
        "id": 4,
        "text": "Large cell carcinoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Option D: Large cell carcinoma is an <strong>undifferentiated </strong>malignant epithelial tumour that<strong> lacks the cytologic features</strong> of other forms of lung cancer. They <strong>do not express markers</strong> of adenocarcinoma or squamous cell carcinoma.</p>\n<p>The image below shows large cell undifferentiated carcinoma</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3189559b5b6f41ffbcca3945e7a98e38x800x533.JPEG",
      "https://www.pathologyoutlines.com/imgau/lungtumoradenocarcinomaBychkov_08.jpg",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/004df61ce57c4776a666db564e053e54x800x533.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e181565d9f8041609634d521a0116805x800x600.JPEG",
      "https://cdn1.dailyrounds.org/uploads/a6b6daa2205442da91b07d7cbd9bde67.JPEG"
    ]
  },
  {
    "text": "A patient presents with flank pain and hematuria. The histology slide of the patient is provided. Based on the clinical presentation and histological findings, which of the following conditions is most likely?",
    "choices": [
      {
        "id": 1,
        "text": "Chromophobe renal cell carcinoma"
      },
      {
        "id": 2,
        "text": "Clear cell carcinoma"
      },
      {
        "id": 3,
        "text": "Metastasis"
      },
      {
        "id": 4,
        "text": "Papillary cell carcinoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given histological image is of <strong>chromophobe renal cell carcinoma</strong><strong>. </strong>It can be identified by the presence of\u00a0<strong>pale eosinophilic cells</strong> arranged in the form of <strong>solid sheets </strong>with some cells having a <strong>perinuclear halo</strong>.\u00a0</p>\n<p><strong>Chromophobe carcinoma</strong>\u00a0is thought to arise from the\u00a0<strong>intercalated cells</strong>\u00a0of the collecting ducts. It is composed of cells with prominent cell membranes and <strong>pale eosinophilic cytoplasm</strong>, usually with a halo around the nucleus. It shows\u00a0large cells having a <strong>plant-cell-like appearance</strong>. They are arranged in solid sheets with a concentration of the largest cells around blood vessels.\u00a0</p>\n<p>Cytogenetic examination of the tumour shows multiple <strong>chromosome losses</strong>\u00a0and\u00a0<strong>extreme hypodiploidy.\u00a0</strong>It has an\u00a0<strong>excellent prognosis</strong>\u00a0compared to clear cell and papillary cancers.\u00a0</p>\n<p>Close <strong>differential diagnoses</strong> are\u00a0as follows:</p>\n<ul>\n<li><strong>Oncocytoma</strong>: They also consist of large eosinophilic cells having <strong>small, round, benign-appearing nuclei</strong> that have large nucleoli. However, they <strong>do not</strong> show a <strong>perinuclear halo</strong>.</li>\n<li>Clear cell RCC: <strong>Pale eosinophilic cytoplasm\u00a0</strong>in chromophobe RCC distinguishes it from the <strong>clear appearance</strong> of the cytoplasm due to the accumulation of glycogen and lipids in clear-cell RCC.</li>\n</ul>\n<p>The below image shows clear cell renal carcinoma:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4073d743561c433289096f41b28508e2.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/67a9141e441b48a8acb4a7222089151ex800x533.JPEG"
    ]
  },
  {
    "text": "A patient came to the OPD with complaints of  vomiting and diarrhoea along with skin eruptions. He gives the history of similar episodes in the past. After switching to gluten free diet his symptoms resolved.  Which marker is useful in diagnosing this condition?",
    "choices": [
      {
        "id": 1,
        "text": "ASCA"
      },
      {
        "id": 2,
        "text": "ANCA"
      },
      {
        "id": 3,
        "text": "Anti tissue transglutaminase antibody"
      },
      {
        "id": 4,
        "text": "Anti-parietal Antibody"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Other options :\u00a0</p>\n<p>Option A : Serological markers that are usually positive in patients with <strong>Crohn's disease</strong> include the<strong> anti\u2013Saccharomyces cerevisiae antibody (ASCA).</strong></p>\n<p>Option B :\u00a0<strong>Anti-neutrophil cytoplasmic antibodies (ANCA)</strong>-associated vasculitis is categorized into 3 distinct forms:\u00a0 <strong>Granulomatosis with polyangiitis</strong> (GPA; formerly Wegener granulomatosis), <strong>Microscopic polyangiitis</strong> (MPA),<strong> Eosinophilic granulomatosis with polyangiitis</strong>, formerly called Churg\u2013Strauss syndrome (CSS).</p>\n<p>Option D : <strong>Anti-parietal cell antibody</strong> is positive in patients with <strong>P</strong><strong>ernicious anemia.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2140a0f3de85481299cc3f15a6c55e14.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a7edd0b4a5014729be77edb0f15b1779x1280x1230.JPEG"
    ]
  },
  {
    "text": "A 2 day old child is brought to the OPD. Mother complains that child is not feeding well and has bilious vomiting. The child is diagnosed with congenital megacolon and aganglionic segment of the colon is shown. Which of the following layers are affected in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Layer 1 and 2"
      },
      {
        "id": 2,
        "text": "Layer 2 and 3"
      },
      {
        "id": 3,
        "text": "Layer 3 and 4"
      },
      {
        "id": 4,
        "text": "Layer 1 and 4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Rectal biopsy</strong> is the gold standard investigation. It shows the following:</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Absent ganglia</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Hypertrophied</strong> nerve trunks</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Positive immunostaining for <strong>acetylcholinesterase</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Calretinin</strong> immunostain\u00ading (superior to acetylcholinesterase staining)</li>\n</ul>\n<p>The ideal site to obtain a rectal biopsy in a patient with Hirschsprung's disease is from a point that is at least <strong>2 cm above</strong> the dentate line to avoid sampling the normal aganglionated region of the internal sphincter.</p>\n<p><strong>Anorectal manometry</strong> shows the failure of the relaxation of the internal anal sphincter. It can be performed in <strong>older children</strong>, but it is relatively inaccurate and <strong>rarely used</strong>.</p>\n<p>The management of Hirschsprung\u2019s disease is as follows:</p>\n<p>Surgery is the definitive treatment. A multi-stage approach may be adopted. A colostomy is done in the newborn period, followed by a definitive pull-through operation when the child is <strong>over 10 kgs</strong>.</p>\n<p>Definitive surgeries for\u00a0<strong>Hirschsprung</strong>\u00a0disease are as follows:</p>\n<ul>\n<li><strong>Swenson</strong></li>\n<li><strong>Duhamel</strong></li>\n<li><strong>Soave</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b08dd20c68994db4aef43835352a004e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f04243e464674e5e99e44d95676c51b7x1280x1086.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0fc3cdfe0f2d4a268398a2afe3839034x1280x1573.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a4079f7c1f83426ca6094d5d37bf059ax720x816.PNG"
    ]
  },
  {
    "text": "A COPD  patient with a history of smoking presents with respiratory symptoms. High resolution CT showed panacinar emphysema. Which enzyme deficiency is associated with this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Alpha-1 antitrypsin"
      },
      {
        "id": 2,
        "text": "Elastase"
      },
      {
        "id": 3,
        "text": "Chymotrypsin"
      },
      {
        "id": 4,
        "text": "Type 2 surfactant"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Alpha-1 antitrypsin deficiency </strong>is associated with<strong> panacinar emphysema</strong>.</p>\n<div class=\"page\" title=\"Page 858\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Panacinar or <strong>panlobular emphysema</strong> is associated with\u00a0<strong>\u03b11 antitrypsin (\u03b11AT) deficiency</strong>.\u00a0It is exacerbated by <strong>smoking</strong>. Panacinar occurs more commonly in <strong>lower zones</strong> and the <strong>anterior margins </strong>of the<strong> </strong>lung. In this type, the acini from respiratory bronchiole to terminal blind alveoli are <strong>uniformly enlarged</strong>.\u00a0</p>\n<p>\u03b11AT deficiency is an autosomal-recessive disorder of <strong>protein misfolding. </strong>Deficiency of\u00a0\u03b11AT protein results in excessive degradation of alveoli by neutrophil elastase causing\u00a0<strong>panacinar emphysema</strong>. It also causes\u00a0<strong>liver disease</strong> as a consequence of the abnormal accumulation of the misfolded protein within hepatocytes.\u00a0 \u03b11AT deficiency is characterized by the presence of<strong> round-to-oval cytoplasmic globular inclusions</strong> in hepatocytes. These hepatocytes are strongly\u00a0<strong>Periodic acid\u2013Schiff positive</strong>\u00a0and\u00a0<strong>diastase resistant.</strong>\u00a0</p>\n<p>Trypsin, chymotrypsin, and elastase are <strong>endopeptidases.</strong> They cleave the internal peptide bonds.<strong> Trypsin</strong> is specific for cleavage at the sites of<strong> basic amino acids</strong>, while <strong>chymotrypsin and elastase</strong> are specific for cleavage a<strong>t neutral amino acids.</strong></p>\n<p>Other options:</p>\n<p>Option B: <strong>Elastase</strong> is<strong> </strong>inhibited by alpha-1 antitrypsin. In the case of alpha 1 antitrypsin deficiency, there is the destruction of lung tissue (elastin) by the elastase released by macrophages.\u00a0</p>\n<p>Option C:<strong> Chymotrypsin</strong> degrades trypsin and protects the pancreas from trypsin-related injury.\u00a0</p>\n<p>Option D: <strong>Type 2 surfactant deficiency</strong> is associated with <strong>respiratory distress syndrome</strong> as type 2 pneumocytes produce the surfactant which decreases the surface tension.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 34-year-old female presented with low Hb, platelet count of 25000/mm3, raised PT and aPTT. A peripheral smear is given. Which of the following fusion genes is affected?",
    "choices": [
      {
        "id": 1,
        "text": "BCR ABL"
      },
      {
        "id": 2,
        "text": "IGH NSD2"
      },
      {
        "id": 3,
        "text": "RUNX1 RUNX1T1"
      },
      {
        "id": 4,
        "text": "PML RARA"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The image showing numerous <strong>Auer rods</strong> and the lab findings pointing towards <strong>DIC</strong> are suggestive of acute myeloid leukaemia - <strong>M3</strong> or <strong>acute promyelocytic leukaemia</strong>. The pathogenesis behind this is the <strong><em>PML-RARA</em> fusion gene or translocation t(15,17).</strong></p>\n<p>AML-M3, or acute promyelocytic leukemia, is a <strong>subtype </strong>of acute myeloid leukemia associated with PML-RAR\u0251 fusion gene or t(15;17). The patient presents with <strong>fever, fatigue,</strong> and <strong>weight loss</strong>. On examination, findings consistent with<strong> anemia (pallor)</strong> and <strong>thrombocytopenia (easy bruising)</strong> are seen. This is due to the accelerated destruction of RBC and platelet precursors in the bone marrow.\u00a0</p>\n<p>Histopathology of the bone marrow aspirate reveals <strong>numerous Auer rods</strong> (needle-like azurophilic granules) in the cytoplasm of the promyelocytes. Sometimes, multiple Auer rods cluster together within a single cell resembling a bundle of sticks. Such cells have been termed <strong>faggot cells </strong>(faggot in French means bundle of sticks).</p>\n<p>The condition is associated with a high incidence of <strong>disseminated intravascular coagulation (DIC).</strong></p>\n<p>Treatment includes the administration of <strong>all-trans retinoic acid.</strong></p>\n<p>Other options:</p>\n<p>Option A:<strong> CML</strong> is a myeloproliferative neoplasm. It is caused by <strong>BCR (on chromosome 22)</strong> - <strong>ABL (on chromosome 9)</strong> fusion gene translocation mutation. It results in the formation of the <strong>Philadelphia chromosome.</strong></p>\n<p>Option B: <strong>Multiple myeloma</strong> patients are affected by the <strong>translocation t(4;14)</strong> resulting in the<strong> IGH::NSD2</strong> fusion.</p>\n<p>Option C: <strong>AML</strong> with<strong> t(8:21)</strong> shows the <strong>RUNX1/RUNXT1</strong> fusion gene.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/efd6624628d94d74b812ca42f365feac.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 12-year-old child comes with cervical lymphadenopathy. Lymph node biopsy shows CD 10 + , CD 19 + , CD 20 +, CD 5 -, CD 23 -, and Tdt -. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Diffuse large B cell lymphoma"
      },
      {
        "id": 2,
        "text": "Acute Lymphoid Leukemia"
      },
      {
        "id": 3,
        "text": "Mantle cell lymphoma"
      },
      {
        "id": 4,
        "text": "Burkitt lymphoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Option C: <strong>Mantle</strong> <strong>cell</strong> <strong>lymphoma</strong> is a <strong>lymphoid neoplasm</strong> in which tumour cells closely resemble the normal mantle zone B cells surrounding the germinal centre. Mantle cell lymphomas express high levels of<strong> cyclin D1</strong>. These cells are<strong> positive</strong> for<strong> CD19, CD20, CD5, and surface immunoglobulins (Ig)</strong>. They are <strong>negative</strong> for<strong> CD23</strong>. In cases, where cyclin D1 is negative,<strong> SOX11 marke</strong>r can be used to identify this lymphoma.</p>\n<p>Lymph node biopsy shows medium-sized lymphoma cells with irregular nuclear outlines, scanty cytoplasm, and condensed chromatin in mantle cell lymphoma.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0dd28a29bfd54b94a5a596dcb7f69322.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f0a67e69082d4386b94a7b05c139c5ffx1280x950.PNG",
      "https://upload.wikimedia.org/wikipedia/commons/b/b8/Diffuse_large_B_cell_lymphoma_%283%29_tonsil.jpg",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9788bbf7ca0b4bf092835c95fb655bdex720x820.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c6c712a2c6754f299690a983f4492b88x1280x960.JPEG"
    ]
  },
  {
    "text": "Identify the disease with the chromosomal abnormality?",
    "choices": [
      {
        "id": 1,
        "text": "Angelman syndrome"
      },
      {
        "id": 2,
        "text": "Prader Willi syndrome"
      },
      {
        "id": 3,
        "text": "Cri-du Chat syndrome"
      },
      {
        "id": 4,
        "text": "Rett syndrome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Paternal deletion</strong> of <strong>15q12</strong> is seen in Prader-Willi syndrome as shown in the image.</p>\n<p><strong>Prader-Willi syndrome</strong> is a type of <strong>non-Mendelian mode</strong> of inheritance and <strong>genomic imprinting disorder</strong>. It occurs due to the<strong> deletion </strong>of band <strong>15q12</strong> on the<strong> paternal chromosome</strong> and the silencing of the same set of genes derived from maternal chromosomes. It is characterized by <strong>mental retardation</strong>, obesity, hyperphagia, hypogonadism, short stature, small hands and feet, and <strong>abnormal facial features </strong>like a small upturned nose, narrow bifrontal distance and thin upper lip.</p>\n<p>Other options:</p>\n<p>Option A:<strong>\u00a0Angelman syndrome</strong> is characterized by the <strong>deletion of the ubiquitin ligase gene (UBE3A) on maternal chromosome 15q12</strong> and the silencing of the paternal chromosomal counterpart. It is characterized by intellectual disability, microcephaly, ataxic gait, seizures, inappropriate laughter and so is also known as the 'happy puppet syndrome'.</p>\n<table style=\"border-collapse: collapse; width: 41.3951%;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 48.4395%; text-align: center;\"><strong>Prader Willi syndrome</strong></td>\n<td style=\"width: 51.5605%; text-align: center;\"><strong>Angelman syndrome</strong></td>\n</tr>\n<tr>\n<td style=\"width: 48.4395%; text-align: center;\">Chromosome 15</td>\n<td style=\"width: 51.5605%; text-align: center;\">Chromosome 15</td>\n</tr>\n<tr>\n<td style=\"width: 48.4395%; text-align: center;\">Maternal imprinting</td>\n<td style=\"width: 51.5605%; text-align: center;\">Paternal imprinting</td>\n</tr>\n<tr>\n<td style=\"width: 48.4395%; text-align: center;\"><strong>Paternal deletion</strong></td>\n<td style=\"width: 51.5605%; text-align: center;\"><strong>Maternal deletion</strong></td>\n</tr>\n<tr>\n<td style=\"width: 48.4395%; text-align: center;\"><strong>Maternal disomy</strong></td>\n<td style=\"width: 51.5605%; text-align: center;\">Paternal disomy</td>\n</tr>\n<tr>\n<td style=\"width: 48.4395%; text-align: center;\"><strong>SNORP gene</strong></td>\n<td style=\"width: 51.5605%; text-align: center;\">UBE3A gene</td>\n</tr>\n<tr>\n<td style=\"width: 48.4395%; text-align: center;\">Hyperphagia, obesity, mental retardation</td>\n<td style=\"width: 51.5605%; text-align: center;\">Happy puppet syndrome</td>\n</tr>\n</tbody>\n</table>\n<p>Option C: <strong>Cri-du Chat syndrome </strong>due to <strong>partial deletion or monosomy </strong>of <strong>short arm chromosome 5.</strong></p>\n<p>Option D: <strong>Rett syndrome</strong> is a <strong>neurodevelopmental disorder</strong>. It is caused by a mutation in the <strong>MECP-2 gene</strong>. The disorder is mostly seen in <strong>girls </strong>because affected boys usually die in infancy due to a defective single X chromosome.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/013231e597d14fd4b9c8ebfe56d0ceee.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 49-year-old patient comes with complaints of left flank pain, hematuria, weight loss, headache, nausea, and convulsions. A family history of brain tumours and kidney tumours is present. MRI showed a cerebellar mass. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Li fraumeni syndrome"
      },
      {
        "id": 2,
        "text": "Tuberous sclerosis complex"
      },
      {
        "id": 3,
        "text": "Von Hippel-Lindau syndrome"
      },
      {
        "id": 4,
        "text": "Neurofibromatosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical history of <strong>left flank pain</strong>, <strong>hematuria</strong>, <strong>weight loss</strong>, <strong>headache</strong>, <strong>nausea</strong>, and <strong>convulsions</strong> along with the family history of <strong>brain tumours</strong> and <strong>kidney tumours</strong> is suggestive of <strong>Von Hippel-Lindau syndrome</strong>. (VHL)</p>\n<p>VHL syndrome is inherited as an <strong>autosomal dominant </strong>trait and is characterized by a predisposition to a variety of neoplasms, particularly <strong>hemangioblastoma</strong>s of the cerebellum and retina. Hundreds of bilateral renal cysts, often multiple, <strong>clear cell carcinomas</strong> develop in 40% to 60% of affected persons. Those with VHL syndrome inherit a germline mutation of the <strong><em>VHL</em></strong> gene on\u00a0<strong>chromosome 3p. </strong>A<strong>\u00a0'second hit' </strong>can lead to<strong> manifestations\u00a0</strong>as described below.</p>\n<table style=\"height: 223px; width: 381px;\">\n<tbody>\n<tr>\n<td style=\"width: 124.489px;\">\n<div class=\"page\" title=\"Page 1859\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>ORGAN SYSTEM\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 243.511px; text-align: center;\">LESION</td>\n</tr>\n<tr>\n<td style=\"width: 124.489px;\">\n<div class=\"page\" title=\"Page 1859\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Eye\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 243.511px;\">Retinal angiomas (benign)</td>\n</tr>\n<tr>\n<td style=\"width: 124.489px;\">\n<div class=\"page\" title=\"Page 1859\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>CNS</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 243.511px;\">Hemangioblastomas (benign)</td>\n</tr>\n<tr>\n<td style=\"width: 124.489px;\">\n<div class=\"page\" title=\"Page 1859\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Kidney\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 243.511px;\">\n<p>Clear-cell renal cell carcinoma</p>\n<p>Renal cyst</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 124.489px;\">\n<div class=\"page\" title=\"Page 1859\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Adrenal gland\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 243.511px;\">Pheochromocytoma</td>\n</tr>\n<tr>\n<td style=\"width: 124.489px;\">\n<div class=\"page\" title=\"Page 1859\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Pancreas\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 243.511px;\">\n<p>Neuroendocrine tumours (benign and malignant)</p>\n<p>Pancreatic cysts</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 124.489px;\">\n<div class=\"page\" title=\"Page 1859\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Epididymis\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 243.511px;\">Cystadenoma</td>\n</tr>\n<tr>\n<td style=\"width: 124.489px;\">\n<div class=\"page\" title=\"Page 1859\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Ear\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</td>\n<td style=\"width: 243.511px;\">Endolymphatic sac tumour</td>\n</tr>\n</tbody>\n</table>\n<p>Other options:</p>\n<p>Option A: <strong>Li-Fraumeni syndrome</strong> is an <strong>autosomal dominant</strong> disorder due to a defect in the tumour suppressor gene <strong>P53</strong> located on <strong>chromosome 17</strong>. It is characterised by Sarcomas, Leukaemia, Osteosarcomas, Brain tumours and Adrenocortical carcinomas.</p>\n<p>Option B: <strong>Tuberous</strong> <strong>sclerosis</strong> is caused by to mutation of genes coding for <strong>hamartin</strong> (chromosome <strong>9</strong>) and <strong>tuberin</strong> (chromosome <strong>16</strong>), which leads to the formation of <strong>hamartomas</strong>, subependymal nodules, and astrocytomas. Skin manifestation includes <strong>facial angiofibroma </strong>(adenoma sebaceum), shagreen patch and confetti skin lesions. It can also be associated with renal <strong>angiomyolipoma</strong> and cardiac rhabdomyoma.</p>\n<p>Option D: <strong>Neurofibromatosis-1</strong> is caused by the <strong>autosomal dominant</strong> loss-of-function mutations in the<strong> NF1 gene</strong> on <strong>chromosome 17.</strong> It is a tumour suppressor gene that encodes neurofibromin, a negative RAS regulator. It can present with <strong>caf\u00e9-au-lait</strong> macules (CALMs), axillary or inguinal <strong>freckling</strong>, <strong>Lisch</strong> nodules, neurofibromas, pseudoarthrosis, and<strong> optic gliomas</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with COPD presented with ARDS symptoms. What is the role of IL-8 in inflammation?",
    "choices": [
      {
        "id": 1,
        "text": "Endothelial activation"
      },
      {
        "id": 2,
        "text": "Recuritement of neutrophils"
      },
      {
        "id": 3,
        "text": "Macrophage activation"
      },
      {
        "id": 4,
        "text": "Promote surfactant production"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>IL-8</strong> (CXCL8) is secreted by activated macrophages and endothelial cells which causes activation and <strong>recruitment of neutrophils.</strong></p>\n<p>Once leukocytes have exited the circulation, they move towards the inciting stimulus by <strong>chemotaxis.</strong> This process is mediated by:</p>\n<p><strong>Exogenous</strong> <strong>chemoattractants</strong>, such as <strong>bacterial</strong> <strong>products</strong> as well as <strong>endogenous</strong> <strong>chemoattractants</strong>: cytokines of the chemokine family (e.g.,<strong> IL-8</strong>), components of the complement system (particularly <strong>C5a</strong>), and arachidonic acid (AA) metabolites (mainly <strong>leukotriene B4</strong>).\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is incorrect about iron metabolism?",
    "choices": [
      {
        "id": 1,
        "text": "Free serum iron is toxic to cells"
      },
      {
        "id": 2,
        "text": "Iron is stored in the body in the form of ferritin"
      },
      {
        "id": 3,
        "text": "Serum ferritin denotes the iron levels in the body"
      },
      {
        "id": 4,
        "text": "Iron is transported by binding with apoferritin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Other options:</p>\n<p>Option A: <strong>Free serum iron</strong> is <strong>toxic</strong> to cells. After entering cells, free iron gathers in the <strong>mitochondria</strong>. This produces <strong>free</strong> <strong>radicals</strong>, catalyses <strong>lipid peroxidation</strong>, interferes with <strong>oxidative phosphorylation</strong>, and eventually results in <strong>cell death</strong>.</p>\n<p>Option C: <strong>Serum ferritin</strong> denotes the <strong>iron levels</strong> in the body.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4ae665fab06e4f708d72192d07616568x1280x1098.JPEG"
    ]
  },
  {
    "text": "A patient passed away following a myocardial infarction. An autopsy was conducted and the biopsy findings of his cardiac tissue are shown below. What is the number of days since the injury, based on the given findings?",
    "choices": [
      {
        "id": 1,
        "text": "7-10 days"
      },
      {
        "id": 2,
        "text": "1 day"
      },
      {
        "id": 3,
        "text": "Around 3-4 weeks"
      },
      {
        "id": 4,
        "text": "3-4 days"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The biopsy of the cardiac tissue showing <strong>neutrophilic infiltration</strong> is suggestive that the injury is <strong>1 day</strong>\u00a0old.</p>\n<p>In a patient with <strong>myocardial infarction</strong> around <strong>1-3 days</strong> heart will show <strong>mottling</strong> accompanied by a<strong> yellow-tan infarct</strong> and histopathology will show <strong>coagulative necrosis</strong> with striations and loss of nuclei, and a rapid <strong>neutrophil infiltration</strong> of the interstitial space.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3b6c705be8d8413984dad3ee94903798.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 38-year-old woman came with complaints of a slowly growing breast lump for the last 6 months. She had a history of a similar lump for which excision was done and medical and mammographic reports are not available. On examination, the lump was smooth, well-defined, mobile and with regular margins. The cytology and biopsy of the same were taken and are shown below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Leiomyosarcoma"
      },
      {
        "id": 2,
        "text": "Fibroadenoma"
      },
      {
        "id": 3,
        "text": "Sclerosing adenosis"
      },
      {
        "id": 4,
        "text": "Phyllodes tumor"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Option C: <strong>Sclerosing adenosis</strong> is a <strong>benign</strong> condition where the breast lobules contain <strong>fibrous tissue</strong> that resembles scars. Histopathology shows a complex entity with a <strong>prominent myoepithelium</strong> and <strong>stromal fibrosis</strong>, comprised of enlarged and distorted lobules with duplicated and crowded acini. The image is given below:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7dbcc62c8f8644869d8b31db051257f2.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e634d489478f456f8c268ce427283a16x1280x1276.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d4839ac0eb044b8cb23bd86daf4c1d3fx697x526.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e1d1bc7ce61f4172a6de68071a4d16d1x800x567.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/66c2cfa5e9a244f8999ee33027d6dde2x1280x853.JPEG"
    ]
  },
  {
    "text": "A 72-year-old man came with generalised anascarca and icterus. He had hepatosplenomegaly. Kidney function tests were found to be deranged and his urine gammaglobulins were more than 3gm/dl. Electrophoresis of the urine protein is shown below. Which is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Multiple Myeloma - IgM"
      },
      {
        "id": 2,
        "text": "Multiple Myeloma - IgA"
      },
      {
        "id": 3,
        "text": "Multiple Myeloma - IgG"
      },
      {
        "id": 4,
        "text": "Monoclonal gammopathy of undifferentiated Proteins"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Bence Jones proteins are excreted in the kidney and causes myeloma kidney.\u00a0Most myelomas are associated with\u00a0more than 3 g/dL of serum Ig and/or more than 6 mg/dL\u00a0of urine Bence Jones protein. The most common monoclonal\u00a0Immunoglobulin (M protein) is IgG followed\u00a0by IgA.</p>\n<p>The clinicopathologic diagnosis of multiple myeloma can be done based on the identification of clonal plasma cells in the marrow and the presence of CRAB criteria (hypercalcemia, renal\u00a0dysfunction, anemia, and bone lesions).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3ce1b74c88874827b57492a89e02faf9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e8e5307a0ab0466daed32d5f6b50cef2x720x720.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6ff0a51f653049598c0d7d773bedb9a9x750x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4b386ed91acb491fa18efec3049db6d8x800x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/19d175f5586b4afa81a5a482350ac676x633x600.JPEG"
    ]
  },
  {
    "text": "A 53-year-old woman came with complaints of fatigue, nausea, anasarca and proteinuria. She had anaemia and neutropenia. Her Bone marrow examination showed 22% plasma cells and acellular eosinophilic deposits. The bone marrow biopsy is shown below. What is the associated pathology?",
    "choices": [
      {
        "id": 1,
        "text": "Bone marrow - fibrinoid necrosis"
      },
      {
        "id": 2,
        "text": "Bone marrow - coagulative necrosis"
      },
      {
        "id": 3,
        "text": "Amyloidosis"
      },
      {
        "id": 4,
        "text": "Myxomatous degeneration of the bone marrow"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical scenario along with the bone marrow biopsy showing <strong>increased</strong> <strong>plasma\u00a0cells</strong>(poor prognosis) showing <strong>PAS</strong> <strong>positive eosinophilic</strong> substance is suggestive of <strong>amyloidosis</strong>.</p>\n<p>Amyloidosis refers to\u00a0<strong>extracellular deposits of fibrillar proteins.\u00a0</strong>Abnormal fibrils are produced by the aggregation of misfolded proteins. The fibrillar deposits bind a wide variety of\u00a0<strong>proteoglycans</strong>\u00a0and\u00a0<strong>glycosaminoglycans</strong>, including heparan sulfate and dermatan sulfate, and plasma proteins, notably serum amyloid P component (SAP).</p>\n<p>Amyloid appears as an\u00a0<strong>amorphous, eosinophilic, hyaline, extracellular substance. </strong>The\u00a0<strong>most common</strong>\u00a0organ involved in AL amyloidosis is\u00a0<strong>renal tissue. </strong><strong>K</strong><strong>idneys are the most frequently involved organ</strong>\u00a0and are affected in\u00a0<strong>70\u201380%</strong> of patients. The heart is the <strong>second most commonly affected organ\u00a0</strong>(50\u201360% of patients), and cardiac involvement is the leading cause of death from AL amyloidosis. Renal amyloidosis usually manifests as proteinuria, often in the nephrotic range, and is associated with hypoalbuminemia, secondary hypercholesterolemia, hypertriglyceridemia, and oedema or anasarca.</p>\n<p>Note: The plasma cells in amyloidosis usually will be between 7% to 10%, <strong>higher</strong> plasma cells indicate <strong>poor prognosis</strong>.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Fibrinoid necrosis</strong> is usually the result of the deposition of <strong>immune complexes</strong> and <strong>plasma proteins</strong> in the <strong>arterial wall</strong>. On biopsy, fibrinoid necrosis appears as <strong>bright pink</strong> and <strong>amorphous deposits</strong> in the vessel wall.</p>\n<p>Option B: <strong>Coagulative necrosis</strong> is the <strong>most common</strong> form of <strong>necrosis</strong> which mostly is found to occur in <strong>solid organs</strong> ( except the brain ). The affected tissue has a <strong>preserved architecture</strong> and firm texture for several days. The injury leads to the <strong>denaturation</strong> of <strong>structural protein</strong> leading to <strong>eosinophilic cells</strong> with <strong>reddish nuclei</strong> and a glossy appearance due to loss of glycogen. The cells may also present with a <strong>moth-eaten vacuolated appearance</strong> due to digestion of organelles by lysosomal enzymes. The dead cell debris is ultimately removed by phagocytosis.</p>\n<p>Option D: <strong>Bone marrow necrosis</strong> (BMN) and <strong>myxomatous</strong> stromal changes are <strong>rare</strong> histologic findings. These changes have been observed in several illnesses, including <strong>disseminated carcinomatosis</strong>, cases following <strong>chemotherapy</strong>, <strong>persistent infections</strong>, and <strong>marrow infiltrative disorders</strong>.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0a664268841a42829f325b7b7471f904.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 45 year old man came with complaints of tearing chest pain, tachycardia, and hypotension with negative Trop I and T. The wall of the aorta was biopsied and the image is shown below. What is the most likely pathology behind it?",
    "choices": [
      {
        "id": 1,
        "text": "Connective tissue damage of the aortic wall"
      },
      {
        "id": 2,
        "text": "Fibrinoid necrosis and smooth muscle hyperplasia"
      },
      {
        "id": 3,
        "text": "Fat deposition and smooth muscle degeneration"
      },
      {
        "id": 4,
        "text": "Immune complex vasculitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario with features such as <strong>tearing chest pain</strong>, <strong>tachycardia</strong>, and hypotension with <strong>negative Trop I</strong> and <strong>T</strong>(indicating<strong> no myocardial infarction</strong>)<strong> </strong>with biopsy showing <strong>separation</strong> of the <strong>tunica intima</strong> and <strong>tunica media</strong> is suggestive of <strong>aortic dissection</strong> secondary to <strong>connective tissue damage</strong> of the <strong>aortic wall</strong>.</p>\n<p>Dissection occurs when <strong>blood enters </strong>into the<strong> media</strong> to form a blood-filled channel between the laminar planes of the media. It usually occurs due to a <strong>tear </strong>in the<strong> intima</strong> which allows blood in the lumen to flow into the media. It may also occur due to the <strong>rupture </strong>of <strong>vasa vasorum</strong>.</p>\n<p>It occurs due to:</p>\n<ul>\n<li>Hypertension</li>\n<li><strong>Connective tissue defects</strong>\u00a0like Marfan syndrome\u00a0</li>\n<li><strong>Iatrogenic trauma</strong> during coronary catheterization or cardiopulmonary bypass</li>\n</ul>\n<p>Note: <strong>Fibrinoid necrosis, </strong>commonly seen in <strong>Malignant hypertension, Rheumatic carditis </strong>and <strong>Vasculitis </strong>- Polyarteritis nodosa, Kawasaki disease and not seen in the cases of aortic dissection, is usually the result of the deposition of <strong>immune complexes </strong>and <strong>plasma proteins</strong> in the arterial wall. On biopsy, fibrinoid necrosis appears as <strong>bright pink </strong>and <strong>amorphous deposits</strong> in the vessel wall.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6c20ab47260f49bfab476b49bf6e4c24.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 10-year-old boy comes with a fever and pain in his right upper limb. He has an expansile lesion in his right radius in the diaphysis. The histopathology of the lesion is shown below. What is the most accurate test among the following?",
    "choices": [
      {
        "id": 1,
        "text": "t15;17 (q22 11-12)"
      },
      {
        "id": 2,
        "text": "RB mutation"
      },
      {
        "id": 3,
        "text": "EWSR1 (FUS- ETS fusion gene)"
      },
      {
        "id": 4,
        "text": "t11:22 (q24,q12)"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Preoperative chemotherapy</strong> with <strong>vincristine, ifosfamide, doxorubicin </strong>and <strong>etoposide</strong> results in <strong>extensive tumour necrosis</strong> and shrinkage. Wide excision may be combined with <strong>adjuvant radiotherapy</strong> if surgical margins are poor. Definitive radiotherapy rather than surgical excision may be advocated if it is non-resectable or metastasis has occurred. It is a <strong>radio-sensitive tumour</strong>.</p>\n<p>Indicators of<strong> poor prognosis</strong> in patients with Ewing's sarcoma:</p>\n<ul>\n<li>Presence of <strong>distant metastasis</strong> - <strong>worst</strong> prognostic factor</li>\n<li>Size and location of the primary lesion</li>\n<li>Presence of fever, anaemia</li>\n<li><strong>Leukocytosis </strong>and<strong> raised ESR</strong>.\u00a0</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a06d333e5f9846e39627ec4a9bf2a3b9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/324a41653878431eb00f6994dd3699aax1280x1407.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4d0cd73e727b488b9d5bb40db0a021f6x720x553.PNG"
    ]
  },
  {
    "text": "A couple comes for prenatal genetic counselling. They have a family history of Hemophilia. They have a male child with Hemophilia and a normal female child. The mother's family has Hemophilia and the father's family is normal. What are the chances of their offspring being affected?",
    "choices": [
      {
        "id": 1,
        "text": "All males will be affected and all females will be normal"
      },
      {
        "id": 2,
        "text": "Half of the males can be affected and half of the females can be carriers"
      },
      {
        "id": 3,
        "text": "All males will be affected and half of the females will be carriers"
      },
      {
        "id": 4,
        "text": "All of males and females will be affected"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Hemophilia B</strong>, also known as <strong>Christmas disease</strong>, results from mutations in <strong>coagulation factor IX</strong>. In addition to hemophilia B, it\u2019s important to note <strong>hemophilia A</strong>, which is caused by a deficiency in<strong> factor VIII</strong>. Hemophilia A is also inherited in an <strong>X-linked recessive</strong> manner, presenting similar clinical features to hemophilia B, such as <strong>prolonged partial thromboplastin time (PTT)</strong> and <strong>normal prothrombin time (PT)</strong>. Both conditions require different <strong>factor assays</strong> for accurate diagnosis, but both lead to increased bleeding risks. Treatment options, including <strong>recombinant factor infusions</strong> for both hemophilia A and B, are essential for managing the conditions and minimizing complications.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/70db6af5cc6b4ea297d66d29cdb24d07x1280x1900.JPEG"
    ]
  },
  {
    "text": "A 10-year-old boy comes with visual disturbances and a headache. On imaging, he was found to have a suprasellar lesion. On biopsy and examination, the tumour exuded \"black motor oil\" like fluid. The MRI image is shown below. What is your likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Glioblastoma"
      },
      {
        "id": 2,
        "text": "Craniopharyngioma"
      },
      {
        "id": 3,
        "text": "Meningioma"
      },
      {
        "id": 4,
        "text": "Pituitary adenoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option D:\u00a0<strong>Pituitary adenomas</strong> are usually found in adults. The most common genetic alterations in this condition are mutations in G \u00adproteins (particularly <strong>GNAS</strong>).\u00a0Depending on their size, they are classified as <strong>microadenomas</strong>(diameter &lt; 1 cm) and <strong>macroadenomas</strong>(diameter &gt; 1 cm). They may be <strong>functioning</strong> or <strong>non-functioning</strong>. The most common type of functioning pituitary adenomas are <strong>prolactinomas</strong>. The brain MRI showing a pituitary adenoma is given below:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/27a894636ce24e668256d4dc1dc5d177.PNG"
    ],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/fdf5080b431b4fcd9a00d86321fb00b3.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6a5e4f9d444c4d4ea86e5861cb10c7a3x583x600.PNG",
      "https://cdn1.dailyrounds.org/uploads/ab31995aa5384673a09b3ea594bb536f.PNG"
    ]
  },
  {
    "text": "Which protein accumulation is seen in Alzheimer's disease?",
    "choices": [
      {
        "id": 1,
        "text": "Alpha Synuclein"
      },
      {
        "id": 2,
        "text": "A\u03b2 amyloid"
      },
      {
        "id": 3,
        "text": "GFAP"
      },
      {
        "id": 4,
        "text": "Albumin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>A\u03b2</strong>\u00a0<strong>amyloid</strong> deposition is seen in Alzheimer's disease.</p>\n<p>A\u03b2\u00a0constitutes the core of <strong>cerebral plaques</strong>\u00a0found in <strong>Alzheimer's disease.\u00a0</strong>It also gets deposited in the walls of cerebral blood vessels.\u00a0The A\u03b2 protein is derived by proteolysis from a much larger transmembrane glycoprotein, called <strong>amyloid precursor protein</strong> (APP).</p>\n<p>Other options</p>\n<p>Option A: <strong>Alpha-synuclein</strong> is an unfolded protein that aggregates in <strong>Lewy Body Dementia</strong>, particularly in the subcortical regions and in the hippocampus and parahippocampal gyrus.</p>\n<p>Option C: <strong>GFAP</strong> is the <strong>marker</strong>\u00a0for <strong>glial origin</strong> tumors like <strong>glioblastoma</strong>, and <strong>oligodendroglioma</strong>.</p>\n<p>Option D: <strong>Albumin</strong> levels may rise during fasting and diarrhoea.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which method is more effective than measuring clotting factors for assessing the intrinsic pathway of coagulation?",
    "choices": [
      {
        "id": 1,
        "text": "PT"
      },
      {
        "id": 2,
        "text": "APTT"
      },
      {
        "id": 3,
        "text": "Fibrinogen levels"
      },
      {
        "id": 4,
        "text": "CBC"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Activated partial thromboplastin time</strong> (APTT) is more effective than measuring clotting factors for assessing the <strong>intrinsic pathway</strong>, i.e. factors XII, XI, IX, VIII, X, V, II, and fibrinogen.</p>\n<p>Causes of prolonged APTT:</p>\n<ul>\n<li>Disseminated intravascular coagulation</li>\n<li>Liver disease</li>\n<li>Massive transfusion with plasma-depleted red blood cells</li>\n<li>Administration of or contamination with heparin or other anticoagulants</li>\n<li>A circulating anticoagulant (inhibitor)</li>\n<li>Deficiency of a coagulation factor other than factor VII (since it is part of the extrinsic pathway)</li>\n<li>APTT is also moderately prolonged in patients taking oral anticoagulant drugs and in the presence of vitamin K deficiency</li>\n</ul>\n<p>APTT is also moderately prolonged in patients taking oral anticoagulant drugs and in the presence of vitamin K deficiency (in which factors II, VII, IX, and X will fail to activate). A patient with previously undiagnosed haemophilia or another congenital coagulation disorder can also present with an isolated prolonged APTT.</p>\n<p>Other options:</p>\n<p>Option A:<strong> Prothrombin time</strong> evaluates the <strong>extrinsic pathway</strong>, i.e. <strong>factors VII, X, V, II</strong> (prothrombin), and <strong>fibrinogen</strong>. It measures the clotting time of plasma in the presence of an optimal concentration of tissue extract (thromboplastin).</p>\n<p>Causes of <strong>prolonged PT:</strong></p>\n<ul>\n<li>Administration of oral anticoagulant drugs (vitamin K antagonists)</li>\n<li>Liver disease, particularly obstructive jaundice</li>\n<li>Vitamin K deficiency</li>\n<li>Disseminated intravascular coagulation</li>\n<li>Rarely, a previously undiagnosed factor VII, X, V or prothrombin deficiency or defect</li>\n</ul>\n<p>Isolated <strong>prolonged</strong> <strong>prothrombin</strong> <strong>time</strong> occurs due to the <strong>deficiency of clotting factor VII.</strong></p>\n<p>Option C: <strong>Fibrinogen</strong> levels are used for measuring <strong>clotting</strong>.</p>\n<p>Option D: <strong>Complete blood count</strong> is used to measure total <strong>RBC count</strong>, <strong>WBC count</strong>, and <strong>Platelet count</strong>.</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An adult male presented with protruding abdomen, diarrhoea, visual symptoms and neurological manifestations. Based on the peripheral smear finding what is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Burns"
      },
      {
        "id": 2,
        "text": "Abetalipoproteinemia"
      },
      {
        "id": 3,
        "text": "Uremia"
      },
      {
        "id": 4,
        "text": "EDTA changes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option D: <strong>Ethylenediamine tetraacetic acid</strong> (EDTA) changes include <strong>structural</strong>, <strong>biochemical</strong> and <strong>functional damage</strong> to <strong>platelets</strong>. It also causes irreversible dissociation of the fibrinogen receptor, glycoprotein alpha IIb beta 3 (GPIIb/IIIa).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/dd23a5633c1b4de1952e6d6b7416dfcb.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/60ffdd80c7fc4a239628d5825d0af8cdx1280x1573.JPEG",
      "https://cdn1.dailyrounds.org/uploads/fbf1f3e25b1c428fac8cfcbaee1e5773.JPEG",
      "https://cdn1.dailyrounds.org/uploads/ca83ecf1d6404ea0880cc349cf9a0097.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/03b451c1478440f39623e83890486c6cx750x600.JPEG"
    ]
  },
  {
    "text": "Which among the following statements is true regarding PNH?",
    "choices": [
      {
        "id": 1,
        "text": "Anemia with heart failure is the most common cause of mortality"
      },
      {
        "id": 2,
        "text": "It is an inherited condition"
      },
      {
        "id": 3,
        "text": "Sucrose lysis test is diagnostic"
      },
      {
        "id": 4,
        "text": "Flow cytometry is the gold standard for diagnosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Flow cytometry</strong> is the <strong>gold standard</strong> for <strong>diagnosis</strong> and is the correct statement regarding <strong>PNH</strong>. It provides a <strong>sensitive</strong> means for detecting red cells that are <strong>deficient</strong> in <strong>GPI</strong>-linked proteins such as <strong>CD59</strong>.</p>\n<p><strong>Investigations</strong> in PNH include:</p>\n<ul>\n<li><strong>Flow cytometry </strong>(gold standard) -\u00a0deficiency of CD59 and CD55</li>\n<li><strong>Ham test</strong>\u00a0(acidified serum lysis) - lysis of RBCs in a mildly acidic pH due to complement fixation</li>\n<li><strong>Bone marrow biopsy </strong>-\n<ul>\n<li>Hypercellularity with erythroid hyperplasia is seen in classical presentations</li>\n<li>Patients who develop pancytopenia will have hypocellular bone marrow</li>\n</ul>\n</li>\n<li>Imaging - to evaluate venous thrombosis</li>\n</ul>\n<p>Paroxysmal nocturnal hemoglobinuria (PNH) is due to <strong>acquired</strong> <strong>mutations</strong> in the <strong>phosphatidylinositol glycan A gene</strong> (PIGA), leading to a deficiency of glycosylphosphatidylinositol (GPI)-linked proteins. Blood cells are deficient in three GPI-linked proteins that regulate complement activity making them susceptible to lysis or injury by complement. These are a decay-accelerating factor or <strong>CD55</strong>, membrane inhibitor of reactive lysis or <strong>CD59</strong> (most important), and <strong>C8-binding protein</strong>.<br />\u00a0<br />Clinical features in paroxysmal intravascular hemolysis occur <strong>nocturnally</strong> in 25% of cases. Clinically, the patient would have <strong>hemolysis</strong>, <strong>pancytopenia</strong>, and a tendency for <strong>venous</strong> <strong>thrombosis</strong>. <strong>Intravascular hemolysis</strong> may be nocturnal and paroxysmal or chronic hemolysis without the dramatic hemoglobinuria. Some patients may complain of recurrent attacks of abdominal pain that may be related to thrombosis in abdominal veins.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Thrombosis</strong> is the <strong>most common</strong> cause of <strong>death</strong> in persons with PNH and <strong>not</strong> anaemia with heart failure.</p>\n<p>Option B: It is an <strong>acquired</strong> condition and not an inherited condition.</p>\n<p>Option C: <strong>Sucrose lysis test</strong> is used for <strong>screening</strong> of PNH.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presented with an arm span of more than height, a subluxated lens, and a pigeon chest appearance. What is the likely protein involved in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Fibrillin"
      },
      {
        "id": 2,
        "text": "Collagen"
      },
      {
        "id": 3,
        "text": "Elastin"
      },
      {
        "id": 4,
        "text": "Laminin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>\u00a0</p>\n<p>Diagnosis is based on criteria depending on the family history, aortic root X score, ectopia lentis, mitral valve prolapse, and presence of FBN1 mutation.</p>\n<p><strong>Homocystinuria</strong> can be one of the <strong>differential diagnoses</strong> for this condition. It is an inborn error of <strong>methionine</strong> metabolism caused by a deficiency of the enzyme <strong>cystathionine \u03b2-synthase</strong>. It is characterized by <strong>tall stature</strong>, <strong>long limbs</strong>, <strong>dislocation</strong> of the <strong>lens</strong> of the eye, and predisposition to <strong>thromboembolism</strong>, but it does not lead to black urine.</p>\n<p>Other options:</p>\n<p>Option B: <strong>Collagen</strong> is a <strong>connective tissue</strong>. Defects in collagen lead to conditions like <strong>osteogenesis imperfecta</strong>, <strong>stickler syndrome</strong>, <strong>Ehler-Danlos syndrome</strong>, and <strong>Alport</strong> <strong>syndrome</strong>.</p>\n<p>Option C:\u00a0<strong>Elastin</strong> is a crucial protein found in <strong>connective tissue</strong> predominantly located in <strong>ligaments</strong> and the <strong>walls of blood vessels</strong>, especially large arteries like the <strong>aorta</strong>. \u00a0The maturation of elastin involves the formation of desmosine cross-links from four lysine residues, contributing to its stability and low turnover rate.\u00a0<strong>Williams-Beuren syndrome</strong> is an associated developmental disorder (deletions of the elastin gene) affecting <strong>connective tissue</strong> and the <strong>central nervous system</strong>. Fragmentation or a decrease of elastin is found in conditions such as <strong>pulmonary emphysema</strong>, <strong>cutis laxa</strong>, and <strong>ageing of the skin</strong>. Copper deficiency can also affect the formation of crucial cross-linking in elastin.\u00a0</p>\n<p>Option D: <strong>Laminin</strong> is a component of the <strong>basement membrane</strong>, providing <strong>structural support</strong> and <strong>anchoring</strong> the <strong>epidermis</strong> to the <strong>dermis</strong>. Mutations in its genes cause <strong>epidermolysis bullosa junctionale</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/93ed4d495be0468587568c63c2bfd355x512x354.PNG"
    ]
  },
  {
    "text": "A 6-month-old child presented with leucocoria (cat's eye reflex) in the right eye. A cranial pathology was detected. The lesion is positive for synaptophysin, NSE, and chromgranin, and shows a palisade in a spoke-and-wheel arrangement, surrounding a central core. Identify the condition.",
    "choices": [
      {
        "id": 1,
        "text": "Retinoblastoma"
      },
      {
        "id": 2,
        "text": "Medulloblastoma"
      },
      {
        "id": 3,
        "text": "Pineoblastoma"
      },
      {
        "id": 4,
        "text": "Epidermoid carcinoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>\u00a0</p>\n<p>Option D: Epidermoid carcinoma arises from <strong>ectodermal cells</strong> misplaced during the <strong>closure</strong> of the <strong>neural tube</strong> in the process of embryogenesis. There is an accumulation of <strong>keratin</strong> and <strong>cholesterol</strong> which gives the tumours their <strong>pearly</strong> or <strong>milky white</strong> appearance. A substantial region of <strong>keratin</strong> is encased in a thin layer of <strong>epithelial cells</strong> on the outside of an epidermoid tumour. Fatty acids and keratin are found inside the tumour, while <strong>stratified squamous epithelium</strong>, or normal skin cells, make up the outside of the growth.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/df14a240df724365a0ab9d8046e809e7x720x331.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/520953bab5e9459eb251a6b384c78e27x510x525.GIF",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f031c485471e488490243af5549475d8x510x525.GIF",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/17845304e05a4ddeb1ba6bdae0703bcfx1280x948.PNG"
    ]
  },
  {
    "text": "A middle aged man came with complaints of dyspnea, chest tightness and dry cough. On imaging, he was found to have diffuse interstitial fibrosis. The biopsy of his lung was taken and is shown below. Which of the following industries he has likely been working in for the last 20 years?",
    "choices": [
      {
        "id": 1,
        "text": "Asbestos"
      },
      {
        "id": 2,
        "text": "Silica"
      },
      {
        "id": 3,
        "text": "Coal"
      },
      {
        "id": 4,
        "text": "Beryllium"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Asbestos occurs in two distinct forms - <strong>serpentine chrysotile</strong> (more common) and <strong>amphibole</strong> (more pathogenic). Exposure may result in the following conditions:</p>\n<ul>\n<li>Localized fibrous plaques or, rarely, diffuse pleural fibrosis</li>\n<li>Pleural effusions</li>\n<li>Parenchymal interstitial fibrosis (asbestosis)</li>\n<li>Lung carcinoma</li>\n<li>Mesotheliomas</li>\n<li>Extrapulmonary neoplasms including laryngeal, ovarian, and colon carcinomas</li>\n</ul>\n<p>Other options</p>\n<p>Option B:\u00a0<strong>Silicosis</strong> is an occupational disease caused by <strong>exposure</strong> to <strong>silica</strong> or crystalline quartz. It is seen in people who work in <strong>mining</strong>, <strong>stone cutting</strong>, <strong>sandblasting</strong>, and <strong>quarrying</strong>. Silicosis presents as <strong>small rounded opacities</strong> in the <strong>upper lobe</strong>. There may be <strong>calcification</strong> of <strong>hilar lymph nodes</strong> which leads to the appearance of <strong>eggshell</strong> <strong>calcification</strong>. HRCT will show a characteristic <strong>crazy paving pattern</strong> due to <strong>interlobular septal thickening</strong> on the background of ground-glass opacity.</p>\n<p>Option C: <strong>Anthracosis/coal workers' pneumoconiosis</strong> is a pulmonary condition seen in <strong>coal</strong> miners. The inhaled <strong>carbon pigment</strong> is engulfed by <strong>alveolar</strong> or <strong>interstitial</strong> <strong>macrophages</strong>, which accumulate in the connective tissue. On prolonged exposure, lung tissue undergoes progressive massive <strong>fibrosis</strong>, which is called complicated coal workers' pneumoconiosis. The <strong>upper lobes</strong> of the lungs are commonly involved.</p>\n<p>Option D: <strong>Berylliosis</strong> is an occupational disease due to chronic exposure to <strong>beryllium</strong>. It is seen in people who work on processing alloys for <strong>high-tech industries </strong>like<strong> aerospace industries</strong>. Chest radiography shows <strong>nodules</strong> along the <strong>septal lines</strong> with <strong>hilar</strong> and <strong>mediastinal lymph node enlargement</strong>. HRCT will show pulmonary nodules, diffuse interstitial fibrosis, and interlobular septal thickening.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ed5918e12fa24d56ad845440ad151a04.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1e132743321d4a399f0a1996663a92b3x720x504.JPEG"
    ]
  },
  {
    "text": "A 45 year old woman came with complaints of fever, night sweats, generalised itching and unintentional weight loss of 10% in the last 3 months. On examination, she has enlarged cervical and axillary lymph nodes. The lymph node examination and biopsy showed the following picture. What would the likely diagnosis and treatment option be?",
    "choices": [
      {
        "id": 1,
        "text": "Non Hodgkins Lymphoma - Rituximab monotherapy"
      },
      {
        "id": 2,
        "text": "Non Hogkins Lymphoma - Poor prognosis due to advanced stage - treated with radiotherapy"
      },
      {
        "id": 3,
        "text": "Hodgkins Lymphoma - ABVD regimen"
      },
      {
        "id": 4,
        "text": "Sarcoidiosis - Started on Prednisolone 40 mg/day"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Other options</p>\n<p>Option A and C: \u00a0<strong>R-CHOP</strong> (<strong>R</strong>ituximab + <strong>C</strong>yclophosphamide, Doxorubicin, Vincristine (<strong>O</strong>ncovin), and <strong>P</strong>rednisone) regimen is used in the treatment of <strong>Non-Hodgkin's lymphoma</strong>.</p>\n<p>Option D: <strong>Sarcoidosis</strong> is a <strong>granulomatous inflammatory</strong> condition with multisystem involvement. The most common organs affected are the lungs, liver, eyes, and skin. The most widely accepted etiological hypothesis is an inflammatory response to an <strong>infectious</strong> or <strong>non-infectious trigger</strong> in a susceptible host.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/af0e140cb91e4b729ca165ae769badd8.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3fda377523ac45c5a3db163646d555fbx510x300.PNG"
    ]
  },
  {
    "text": "A 28 year old woman P1L1, came with complaints of weakness and generalised fatigue. The peripheral blood picture showed microcytic hypochromic anemia. Her serum iron was low and she had increased RDW. Her MCV and MCH were also low and TIBC was high. What would her serum transferrin saturation be?",
    "choices": [
      {
        "id": 1,
        "text": "Reduced"
      },
      {
        "id": 2,
        "text": "Cannot be determined"
      },
      {
        "id": 3,
        "text": "Equivocal"
      },
      {
        "id": 4,
        "text": "Increased"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Below is the schematic representation of iron absorption and transportation:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a400805edf5a4c34a0e6b334f4dfdf41x750x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6ccb468bdae74702bae861f29829571dx1279x1210.JPEG"
    ]
  },
  {
    "text": "A 38-year-old woman came with complaints of weakness, lethargy, and heavy menstrual bleeding. Her peripheral blood picture showed small RBCs with pallor. Lab investigations are given below. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Megaloblastic anemia"
      },
      {
        "id": 2,
        "text": "Iron-deficiency anemia"
      },
      {
        "id": 3,
        "text": "Hemolytic anemia"
      },
      {
        "id": 4,
        "text": "Hypoplastic anemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical profile of a woman with <strong>low hemoglobin, MCV, MCH, transferrin saturation,</strong> and <strong>high TIBC</strong> suggests a diagnosis of <strong>iron-deficiency anemia</strong> (IDA).</p>\n<p>IDA is an example of <strong>microcytic hypochromic</strong> <strong>anemia</strong>. The causes of IDA can be inadequate diet, impaired reabsorption, increased requirement and increased blood loss.</p>\n<p>The manifestations of IDA depend upon the underlying cause. In general, IDA presents with koilonychia, alopecia, atrophic changes in the tongue, gastric mucosa, malabsorption, and pica (craving for consumption of non-edible materials)</p>\n<p><strong>Peripheral smears</strong> show small, pale red cells typically described as microcytic (reduced MCV) and hypochromic (enlarged zone of central pallor). Poikilocytosis can be seen as elongated red cells, known as pencil cells. Target cells can be found in cases of severe IDA.</p>\n<p>Diagnosis is mainly by laboratory studies. The typical findings are:</p>\n<ul>\n<li><strong>Low hemoglobin</strong> and hematocrit</li>\n<li>Low serum iron and ferritin</li>\n<li>Increased Total Iron Binding Capacity (TIBC)</li>\n<li>Hepcidin is low (decreased stores of iron inhibit hepcidin synthesis)</li>\n</ul>\n<p>IDA is treated by giving oral and parenteral preparations if iron or packed cell transfusion, depending on the anemia's severity.</p>\n<p>Other options:</p>\n<p>Option A: Megaloblastic anemia is defined by a <strong>high MCV</strong></p>\n<p>Option C: <strong>Hemolytic anaemia</strong> causes the body to produce <strong>more erythropoietin</strong>, which in turn causes erythroid differentiation and the marrow to produce more erythroid precursors or normoblasts. \u00a0A noticeable <strong>reticulocytosis</strong> in the peripheral blood is the consequence of compensatory increases in erythropoiesis. <strong>Hemosiderin</strong>, an iron-containing pigment, accumulates as a result of red cell phagocytosis, especially in the spleen, liver, and bone marrow.\u00a0</p>\n<p>Option D: <strong>Hypoplastic anaemia</strong> will have markedly <strong>hypocellular</strong> marrow. <strong>Aplastic anaemia</strong> is one of the most important examples. Marrow aspirate will show a <strong>dry tap</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '090 Pathology Neet 2024';
        let hierarchy = ["Marrow", "PYQs", "Pathology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>