<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biochemistry Test I - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2018 - 19
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which among the following is a not a non-essential amino acid?",
    "choices": [
      {
        "id": 1,
        "text": "Cysteine"
      },
      {
        "id": 2,
        "text": "Arginine"
      },
      {
        "id": 3,
        "text": "Glutamate"
      },
      {
        "id": 4,
        "text": "Glycine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Arginine is a semi essential amino acid.</p>\n<p>Amino acids are divided into essential and non-essential amino acids. Essential amino acids are not produced in the body and need to be taken in food. Non-essential amino acids can be produced from other substrates in the body via metabolic reactions. Previously there was debate about number of non-essential and number of essential amino acids. The latest edition of Harper&rsquo;s biochemistry says the following</p>\n<p><strong>Non-essential amino acids are:</strong></p>\n<ul>\n<li>Alanine</li>\n<li>Asparagine</li>\n<li>Aspartate</li>\n<li>Cysteine</li>\n<li>Glutamate</li>\n<li>Glutamine</li>\n<li>Glycine</li>\n<li>Hydroxyproline</li>\n<li>Hydroxylysine</li>\n<li>Proline</li>\n<li>Serine</li>\n<li>Tyrosine</li>\n</ul>\n<p><strong>Essential amino acids are:</strong></p>\n<ul>\n<li>Arginine</li>\n<li>Histidine</li>\n<li>Isoleucine</li>\n<li>Leucine</li>\n<li>Lysine</li>\n<li>Methionine</li>\n<li>Phenylalanine</li>\n<li>Threonine</li>\n<li>Tryptophan</li>\n<li>Valine</li>\n</ul>\n<p><strong>Arginine is nutritionally &ldquo;semiessential.&rdquo; Synthesized at rates inadequate to support growth of children.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Millon\u2019s reaction involves detection of which of the following aminoacids",
    "choices": [
      {
        "id": 1,
        "text": "Tyrosine"
      },
      {
        "id": 2,
        "text": "Histidine"
      },
      {
        "id": 3,
        "text": "Tryptophan"
      },
      {
        "id": 4,
        "text": "Arginine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Millon&rsquo;s reaction involves detection of Tyrosine. The Millon test was used in many early studies and can detect large amounts of tyrosine and its 4-hydroxy derivatives (i.e., tyrosyluria). Now, Plasma tyrosine levels are usually quantitated by ion-exchange amino acid chromatography. For <strong>neonatal screening, spectrophotometric or bacteriologic (Guthrie) assays can be used</strong>. 4-Hydroxyphenylpyruvate and its derivatives can be analyzed by gas chromatography&ndash;mass spectrometry.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following aminoacids contain Pyrrolidine group",
    "choices": [
      {
        "id": 1,
        "text": "Arginine"
      },
      {
        "id": 2,
        "text": "Proline"
      },
      {
        "id": 3,
        "text": "Tyrosine"
      },
      {
        "id": 4,
        "text": "Methionine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The Structure of proline is given below. The ring marked in blue is the Pyrrolidine group. It is also interesting to note that proline is the only aminoacid in the amino (NH<sub>2</sub>) group is not free but a part of a ring. This is also called imino acid.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7313f84b18a24c219eea5df4df53b696x512x432.PNG"
    ]
  },
  {
    "text": "All of the following are involved in reactions involving Glutamate dehydrogenase except",
    "choices": [
      {
        "id": 1,
        "text": "NADPH"
      },
      {
        "id": 2,
        "text": "NAD"
      },
      {
        "id": 3,
        "text": "FAD"
      },
      {
        "id": 4,
        "text": "NH3"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Glutamate dehydrogenase catalyzes rapid oxidative deamination of glutamate. Glutamate dehydrogenase, a mitochondrial enzyme, is unusual in that it can use either nicotinamide adenine dinucleotide (NAD+) or its phosphorylated reduced form (NADPH) as a coenzyme.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0d9643dcd7ed43308e13967e3c5fdf3bx800x290.GIF"
    ]
  },
  {
    "text": "Cadaverin is derived from",
    "choices": [
      {
        "id": 1,
        "text": "Serine"
      },
      {
        "id": 2,
        "text": "Cysteine"
      },
      {
        "id": 3,
        "text": "Tyrosine"
      },
      {
        "id": 4,
        "text": "Lysine"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Cadaverin is derived from lysine. Unusually large quantities of cadaverine and putrescine are excreted in patients with cystinuria. These compounds are generated from arginine, ornithine, and lysine (<strong>COAL amino acids</strong>) by decarboxylases that are present in colonic flora but that are not present in human tissues.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The amino acid deficient in carcinoid syndrome has which of the following groups?",
    "choices": [
      {
        "id": 1,
        "text": "Indole"
      },
      {
        "id": 2,
        "text": "Guanidinium"
      },
      {
        "id": 3,
        "text": "Imidazole"
      },
      {
        "id": 4,
        "text": "Pyrrolidine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The amino acid deficient in carcinoid syndrome is <strong>tryptophan</strong>. It has an <strong>indole group.</strong></p>\n<p>Carcinoid tumours are neuroendocrine tumours producing serotonin. Serotonin is synthesized in the body from tryptophan. Carcinoid patients can have tryptophan deficiency as the normal intake of niacin and tryptophan don&rsquo;t meet the demand from the cancer cells. Tryptophan has an indole group.</p>\n<p>Tryptophan deficiency results in pellagra.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Phenylketonuria can be diagnosed with",
    "choices": [
      {
        "id": 1,
        "text": "Guthrie test"
      },
      {
        "id": 2,
        "text": "Tandem mass spectroscopy"
      },
      {
        "id": 3,
        "text": "Ferric chloride test"
      },
      {
        "id": 4,
        "text": "All of the following"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Phenylalanine hydroxylase deficiency leads to Phenylketonuria. The first screening test for an inborn error of metabolism was the Guthrie bacterial inhibition test. If the concentration of phenylalanine is more than that usually found in blood, the bacteria will form visible colonies on the agar, indicating a positive test. The ferric chloride test is a urine spot test for phenylketonuria (PKU) and tyrosinemia. Tandem mass spectroscopy can be used to screen blood samples from newborns for the presence and concentrations of amino acids, fatty acids, and other metabolites. Abnormalities in metabolite levels can serve as diagnostic indicators for a variety of genetic disorders, such as phenylketonuria.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Cystathionine synthetase deficiency leads to",
    "choices": [
      {
        "id": 1,
        "text": "Homocystinuria type I"
      },
      {
        "id": 2,
        "text": "Homocystinuria type II"
      },
      {
        "id": 3,
        "text": "Homocystinuria type III"
      },
      {
        "id": 4,
        "text": "Cystathionuria"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Cystathionine synthetase deficiency</strong> leads to&nbsp;<strong>Homocystinuria type I</strong></p>\n<p>Homocystinuria type-1:</p>\n<ul>\n<li>It is the most common inborn error of methionine metabolism.</li>\n<li>It is characterized by developmental delay, ectopia lentis, progressive mental retardation, skeleton abnormalities.</li>\n</ul>\n<p>Note :&nbsp;</p>\n<table style=\"height: 35px; width: 421px;\">\n<tbody>\n<tr>\n<td style=\"width: 153px;\">Homocystinuria type</td>\n<td style=\"width: 256px;\">Defect</td>\n</tr>\n<tr>\n<td style=\"width: 153px;\">Type 1</td>\n<td style=\"width: 256px;\">cystathionine &szlig; synthase</td>\n</tr>\n<tr>\n<td style=\"width: 153px;\">Type 2</td>\n<td style=\"width: 256px;\">defect in methylcobalamin formation</td>\n</tr>\n<tr>\n<td style=\"width: 153px;\">Type 3</td>\n<td style=\"width: 256px;\">methyltetrahydrofolate reductase&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "FIGLU (Formiminoglutamic acid) excretion test is used in the assessment of the deficiency of which of the following vitamins?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin B1"
      },
      {
        "id": 2,
        "text": "Vitamin B6"
      },
      {
        "id": 3,
        "text": "Vitamin B9"
      },
      {
        "id": 4,
        "text": "Vitamin B12"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>FIGLU excretion test is used in the assessment of <strong>deficiency</strong> of&nbsp;<strong>Vitamin B9</strong> (Folic acid).</p>\n<p>FIGLU is converted to L-glutamate by the enzyme glutamate formimino transferase. This enzyme uses <strong>folate </strong>(vitamin B9). In Vitamin B9 deficiency, FIGLU accumulates in the body and is excreted in the urine.</p>\n<p>Folic acid is a water-soluble vitamin, and its <strong>active form</strong> is <strong>tetrahydrofolate&nbsp;</strong>(THFA). It acts as a carrier of <strong>one-carbon groups.</strong> These one-carbon groups are attached either to the 5th, 10th, or both 5th and 10th nitrogen atoms of THFA.</p>\n<div class=\"page\" title=\"Page 416\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The methyl group in N5-methyl THFA is used for the synthesis of active <strong>methionine</strong>. This takes part in <strong>transmethylation</strong> reactions required for the synthesis of choline, epinephrine, creatine, etc.</p>\n<p>Folate deficiency results in</p>\n<ul>\n<li>Reduced synthesis of DNA</li>\n<li>Macrocytic anemia</li>\n<li>Hyperhomocysteinemia</li>\n<li>Neural tube defects in the fetus like spina bifida</li>\n</ul>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d74222a8ec5649b1a6c24d1170fde087x1280x1530.JPEG"
    ]
  },
  {
    "text": "Which of the following is not a FAD requiring enzyme",
    "choices": [
      {
        "id": 1,
        "text": "Acyl CoA dehydrogenase"
      },
      {
        "id": 2,
        "text": "Malate dehydrogenase"
      },
      {
        "id": 3,
        "text": "Succinate dehydrogenase"
      },
      {
        "id": 4,
        "text": "Mitochondrial glycerol-3-phosphate dehydrogenase"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Malate dehydrogenase is a NAD requiring enzyme. All other options require FAD.</p>\n<p><strong>Important FAD requiring enzymes are</strong></p>\n<ul>\n<li>Acyl CoA dehydrogenase</li>\n<li>Succinate dehydrogenase</li>\n<li>Mitochondrial glycerol-3-phosphate dehydrogenase</li>\n</ul>\n<p><strong>Important NAD requiring enzymes are</strong></p>\n<ul>\n<li>Malate dehydrogenase</li>\n<li>Pyruvate dehydrogenase complex</li>\n<li>Glyceraldehyde 3-Phosphate dehydrogenase</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A plasma protein has a large number of tryptophan, valine, histidine and aspartic acid aminoacids. Which of the following is true regarding the orientation of these aminoacids in the 3-dimensional structure of this protein?",
    "choices": [
      {
        "id": 1,
        "text": "Most of the tryptophan and aspartic acid aminoacids will be located towards the inside"
      },
      {
        "id": 2,
        "text": "Most of the valine and histidine aminoacids will be located towards the inside"
      },
      {
        "id": 3,
        "text": "Most of the tryptophan and valine aminoacids will be located towards the inside"
      },
      {
        "id": 4,
        "text": "Most of the histidine and aspartic acid aminoacids will be located towards the inside"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Tryptophan and valine are located towards the <strong>inside</strong> of the plasma protein.&nbsp;</p>\n<p>This is because they are <strong>hydrophobic/non-polar</strong> while the plasma is mostly made up of water, which is polar.</p>\n<p>Amino acids which are polar/hydrophilic face towards the outside of plasma proteins.</p>\n<p>Note: Non-polar amino acids face the exterior of a protein when it needs to dissolve in a lipid-rich fluid like the plasma membrane.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 6-year-old girl is brought with a history of impaired vision. On examination, she has light hair, light skin color, and pale blue iris. The child has a normal IQ.  You suspect a disorder due to a deficiency of an enzyme tyrosinase. What is the diagnosis of this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Albinism"
      },
      {
        "id": 2,
        "text": "Phenylketonuria"
      },
      {
        "id": 3,
        "text": "Alkaptonuria"
      },
      {
        "id": 4,
        "text": "Tyrosinemia type 2"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical features along with the deficiency of the enzyme <strong>tyrosinase</strong> point to the diagnosis of <strong>albinism</strong>.</p>\n<p>The first step in melanin synthesis involves the oxidation of L-tyrosine to DOPA by the enzyme <strong>tyrosinase</strong>. Tyrosinase again acts on DOPA to form dopaquinone, which undergoes a series of reactions to form <strong>melanin</strong>. Mutations in the tyrosinase gene lead to a complete inability to produce melanin.</p>\n<p>Albinism is inherited in an <strong>autosomal recessive</strong> pattern.<strong> Oculocutaneous albinism (OCA)</strong> is characterized by a reduction or complete lack of <strong>melanin</strong> pigment in the skin, hair, and eyes. This manifests as <strong>white hair, white skin</strong>, and <strong>iris</strong> appearing <strong>blue-gray</strong> in oblique light. Ocular manifestations include <strong>photophobia</strong>, nystagmus, and <strong>decreased visual acuity.</strong> The <strong>IQ</strong> of the child will be <strong>normal</strong>.</p>\n<p>Given below is an image of a young child with <strong>albinism</strong> showing white hair, skin, and pale iris:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1c9c676c89be4b9c8df90e33a6622eecx794x527.JPEG"
    ]
  },
  {
    "text": "In a patient with scurvy, which of the following is deficient",
    "choices": [
      {
        "id": 1,
        "text": "Hydroxytyrosine"
      },
      {
        "id": 2,
        "text": "Hydroxyhistidine"
      },
      {
        "id": 3,
        "text": "Hydroxyalanine"
      },
      {
        "id": 4,
        "text": "Hydroxyproline"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Scurvy is dietary deficiency of vitamin C, it is associated with an impaired ability of connective tissue to form hydroxyproline and hydroxylysine. <strong>Vitamin C is a cofactor required for the synthesis of hydroxyproline and hydroxylysine</strong> which is an important step in the post translational modification of collagen during its biosynthesis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/de373d9e89764996937d2e8888613f65x840x66.PNG"
    ]
  },
  {
    "text": "Which of the following amino acids has an ammonia group in its side chain and is thus likely to be an intermediate of the urea cycle?",
    "choices": [
      {
        "id": 1,
        "text": "Arginine"
      },
      {
        "id": 2,
        "text": "Aspartate"
      },
      {
        "id": 3,
        "text": "Methionine"
      },
      {
        "id": 4,
        "text": "Glutamate"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Arginine</strong> is an amino acid having an ammonia side chain and is also part of the <strong>urea cycle.</strong></li>\n<li><strong> Citrulline</strong> and ornithine are other important urea cycle intermediates.</li>\n<li><strong>Aspartate</strong> is condensed with <strong>citrulline</strong> to form <strong>argininosuccinate</strong> in the urea cycle(Aspartate is not an intermediate)</li>\n<li><strong>Acetylglutamate</strong> is a cofactor in the joining of carbon dioxide with ammonia to form carbamoyl phosphate at the beginning of the urea cycle.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A noncompetitive inhibitor of an enzyme does which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Decreases Vmax"
      },
      {
        "id": 2,
        "text": "Increases Km"
      },
      {
        "id": 3,
        "text": "Decreases Km and decreases Vmax"
      },
      {
        "id": 4,
        "text": "Increases Km and increases Vmax"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In contrast to competitive inhibitors, Consequently, <strong>noncompetitive inhibitors bind to enzymes in locations remote from the active site.</strong> For this reason, <strong>the degree of inhibition is based solely upon the concentration of inhibitor, and increasing the substrate concentrations does not compete with or change the inhibition</strong>. Therefore, unlike the increase in Km seen with competitive inhibition, in noncompetitive inhibition, Vmax decreases while Km usually remains the same. While competitive inhibitors can be overcome at a sufficiently high concentration of substrate, noncompetitive inhibition is irreversible</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e881fd9977f846c28ad70bb670fbde7fx710x280.GIF"
    ]
  },
  {
    "text": "Oxidative phosphorylation couples generation of ATP with which of the following first?",
    "choices": [
      {
        "id": 1,
        "text": "Proton translocation"
      },
      {
        "id": 2,
        "text": "Substrate level phosphorylation"
      },
      {
        "id": 3,
        "text": "Proton flow through cytochromes"
      },
      {
        "id": 4,
        "text": "Reduction of NADH"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Proton translocation across the mitochondrial membrane generates an electrochemical potential difference composed of a pH gradient and an electrical potential.</strong> This electrochemical potential difference is used to drive ATP synthase to form ATP. During this process NADH and water are oxidized, not reduced, by coupling with oxygen as the ultimate electron donor.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7ac0b5727e514947b681af3a6ac12ffbx1024x704.JPEG"
    ]
  },
  {
    "text": "Which one of the following tissues can metabolize glucose, fatty acids, and ketone bodies for ATP production?",
    "choices": [
      {
        "id": 1,
        "text": "Muscle"
      },
      {
        "id": 2,
        "text": "Hepatocytes"
      },
      {
        "id": 3,
        "text": "Brain"
      },
      {
        "id": 4,
        "text": "Red blood cells"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Muscle cells are the only cells listed that are capable of utilizing all the energy sources available&mdash;glucose, fatty acids, and, during fasting, ketone bodies. <strong>Mitochondria are required for metabolism of fatty acids and ketone bodies.</strong> Since red blood cells (erythrocytes) do not contain mitochondria, no utilization of these energy sources is possible. Although the brain may utilize glucose and ketone bodies, fatty acids cannot cross the blood-brain barrier. Hepatocytes (liver cells) are the sites of ketone body production, but the mitochondrial enzyme necessary for utilization of ketone bodies is not present in hepatocytes.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Primary products of pentose phosphate pathway are",
    "choices": [
      {
        "id": 1,
        "text": "Ribose and NADP+"
      },
      {
        "id": 2,
        "text": "Ribose and NADPH"
      },
      {
        "id": 3,
        "text": "Ribose and NAD+"
      },
      {
        "id": 4,
        "text": "Ribose and NADH"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The pentose phosphate cycle does not produce ATP, but instead produces ribose and NADPH. NADP+&nbsp;is the hydrogen acceptor instead of NAD +, as in glycolysis. In the oxidative phase of the pentose phosphate pathway, NADPH is generated by glucose-6-phosphate dehydrogenase. NADPH is also generated by 6-phosphogluconate dehydrogenase. Ribose is generated in the nonoxidative phase.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following compounds should be a component of TPN?",
    "choices": [
      {
        "id": 1,
        "text": "Palmitate"
      },
      {
        "id": 2,
        "text": "Linoleate"
      },
      {
        "id": 3,
        "text": "Phosphatidic acid"
      },
      {
        "id": 4,
        "text": "Glycerol"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Linoleate and a-linolenate are the essential fatty acids</strong> required in the human diet, hence they need to be present in TPN. <strong>Palmitate (C16:0) is synthesized by the fatty acid synthase complex.</strong> Phosphatidic acid is an intermediate in triacylglycerol synthesis, which is formed using glycerol as a precursor in the liver and using glucose as a precursor in adipose tissue. It can be synthesized without the need for an essential fatty acid.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The major carriers of triacylglycerols are which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Chylomicrons and VLDL"
      },
      {
        "id": 2,
        "text": "IDL and LDL"
      },
      {
        "id": 3,
        "text": "VLDL and LDL"
      },
      {
        "id": 4,
        "text": "HDL and LDL"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>The major carriers of triacylglycerols are chylomicrons</strong> (synthesized in the intestine from dietary fat) and VLDL (synthesized in the liver). The triacylglycerols are digested in capillaries by lipoprotein lipase. The fatty acids that are produced are used for energy by cells or are converted back to triacylglycerols and stored. IDL and LDL are digestion products of VLDL, which have reduced amounts of triglyceride compared with VLDL. HDL has the least amount of triglyceride of any lipoprotein particle.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "LCAT is involved in which of the following processes?",
    "choices": [
      {
        "id": 1,
        "text": "Converting cholesterol to cholesterol esters"
      },
      {
        "id": 2,
        "text": "The transfer of cholesterol esters from HDL to other lipoproteins"
      },
      {
        "id": 3,
        "text": "Endocytosis of HDL particles into hepatocytes"
      },
      {
        "id": 4,
        "text": "Hydrolysis of HDL"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>LCAT converts cholesterol to cholesterol esters, which accumulate in the core of HDL. This is an important part of reverse cholesterol transport.</strong> These cholesterol esters are transferred from HDL to VLDL and LDL (via the cholesterol ester transfer protein reaction), which are then taken up by receptors in the liver. Therefore, <strong>LCAT is important for removing cholesterol from peripheral cells by inducing esterification of cholesterol</strong>, thus allowing eventual cholesterol uptake by the liver. LCAT is not involved in endocytosis of HDL into hepatocytes, in the transfer of cholesterol esters from HDL to other lipoproteins, or in hydrolysis of HDL.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements best describes patients with type II familial hypercholesterolemia?",
    "choices": [
      {
        "id": 1,
        "text": "After LDL binds to the LDL receptor, the LDL is degraded extracellularly"
      },
      {
        "id": 2,
        "text": "The number of LDL receptors on the surface of hepatocytes increases"
      },
      {
        "id": 3,
        "text": "Cholesterol synthesis by hepatocytes increases"
      },
      {
        "id": 4,
        "text": "Excessive cholesterol is released by LDL"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Cholesterol synthesis</strong> by hepatocytes is <strong>increased</strong> in patients with type II hyperlipoproteinemia or familial hypercholesterolemia.</p>\n<p>Normally, LDL binds to the<strong> LDL receptor</strong>, and this complex is <strong>internalized.</strong> The LDL is <strong>degraded</strong> intracellularly, and the <strong>cholesterol</strong> released from the LDL migrates to the <strong>cytosol.</strong> The increase in intracellular cholesterol <strong>inhibits</strong> <strong>HMG-CoA reductase</strong>, resulting in <strong>decreased</strong> cholesterol <strong>synthesis</strong> by hepatocytes.</p>\n<p>Familial hypercholesterolemia is an <strong>autosomal dominant</strong> disorder caused due to mutations that <strong>reduce</strong> the <strong>functioning</strong> of <strong>LDL receptors</strong> (option B), the most common being a <strong>mutation in the LDLR gene</strong> itself. The endocytosis of the receptor with bound LDL is prevented. The resulting variation in the intracellular cholesterol levels <strong>affects</strong> the <strong>inhibition</strong> of <strong>HMG-CoA reductase</strong>. Since HMG-CoA reductase is not properly inhibited, <strong>cholesterol synthesis by hepatocytes increases</strong> in these patients. Thus, an extremely high serum cholesterol level results from increased cellular synthesis and release of <strong>VLDL</strong> (Option D), and high levels of <strong>LDL</strong> <strong>particles</strong> in <strong>circulation</strong> (not degraded externally as in Option A).</p>\n<p>Physical findings present in some of the patients include&nbsp;<strong>tendon xanthomas</strong>&nbsp;(especially involving the&nbsp;<strong>Achilles tendons</strong>) and&nbsp;<strong>corneal arcus</strong>. These patients may have a&nbsp;<strong>myocardial infarction</strong>&nbsp;at a young age. Diagnosis is usually established based on biochemical tests.&nbsp;<strong>LDL cholesterol &gt;190 mg/dL</strong>&nbsp;or&nbsp;<strong>total serum cholesterol &gt;400 mg/dL</strong>&nbsp;without any secondary etiology should point to a diagnosis of familial hypercholesterolemia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following enzymes catalyze the Activation or deactivation of specific amino acid residues by phosphorylation",
    "choices": [
      {
        "id": 1,
        "text": "Cyclases"
      },
      {
        "id": 2,
        "text": "Kinases"
      },
      {
        "id": 3,
        "text": "Phosphatases"
      },
      {
        "id": 4,
        "text": "Proteases"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Protein kinases cause activation or deactivation of certain key regulatory proteins by covalent modification of specific serine, threonine, or tyrosine hydroxyl residues by phosphorylation.</strong> The phosphorylation reaction itself is catalyzed by phosphorylase kinase. <strong>Protein phosphatases can quickly reverse such effects, by dephosphorylating these activating enzymes</strong>. Activated muscle glycogen phosphorylase a is deactivated by a specific phosphatase that hydrolyzes the phosphoryl group of serine 14. Whether the phosphorylated or dephosphorylated form of a protein predominates depends on the relative activities of the kinase versus the phosphatase.</p>\n<p>Kinases - Phosphorylate</p>\n<p>Phosphatases - Dephosphorylate</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following has the strongest tendency to gain electrons?",
    "choices": [
      {
        "id": 1,
        "text": "Coenzyme Q"
      },
      {
        "id": 2,
        "text": "Cytochrome c"
      },
      {
        "id": 3,
        "text": "Nicotinamide adenine dinucleotide"
      },
      {
        "id": 4,
        "text": "Oxygen"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Oxygen is the terminal acceptor of electrons in the electron transport chain (ETC).&nbsp; Electron transport chain as the name indicates, is a series of electron transfer steps, the electrons move from one complex to the next in the cycle.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fc32305687a24e2b84e0cd5683631f69x1024x704.JPEG"
    ]
  },
  {
    "text": "Which of the following regulates lipolysis in adipocytes?",
    "choices": [
      {
        "id": 1,
        "text": "Activation of fatty acid synthesis mediated by cyclic AMP"
      },
      {
        "id": 2,
        "text": "Activation of triglyceride lipase as a result of hormone-stimulated increases in cyclic AMP levels"
      },
      {
        "id": 3,
        "text": "Glycerol phosphorylation to prevent futile esterification of fatty acids"
      },
      {
        "id": 4,
        "text": "Activation of cyclic AMP production by insulin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Lipolysis is directly regulated by<strong> hormones</strong> in adipocytes. Epinephrine stimulates adenylate cyclase to produce<strong> cyclic AMP,</strong> which in turn stimulates a protein kinase. The kinase <strong>activates triglyceride lipase</strong> by phosphorylating it.</p>\n<p>Lipolysis then proceeds and results in the release of free fatty acids and glycerol. A futile re-esterification of free fatty acids is prevented since adipocytes contain little glycerol kinase to phosphorylate the liberated glycerol (incorrect answer c), which must be processed in the liver.</p>\n<p>Inhibition of lipolysis occurs in the presence of insulin, which lowers cyclic AMP levels (incorrect answer d).</p>\n<p>Fatty acid synthesis is the opposite of fatty acid breakdown/lipolysis (incorrect answer a).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following apoproteins is an activator of lipoprotein lipase?",
    "choices": [
      {
        "id": 1,
        "text": "Apo A"
      },
      {
        "id": 2,
        "text": "Apo B"
      },
      {
        "id": 3,
        "text": "Apo C-II"
      },
      {
        "id": 4,
        "text": "Apo E"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Apo C-II</strong> is an<strong> activator </strong>of <strong>lipoprotein lipase</strong>.\u00a0</p>\n<p>Apo C-II activates lipoprotein lipase present on the <strong>endothelium</strong>. Lipoprotein lipase hydrolyses the triacylglycerols into fatty acids and glycerol which are either used for storage or energy.</p>\n<p>Apolipoproteins or <strong>apoproteins</strong> are the <strong>protein moiety</strong> of lipoproteins. Usually one or more of these are present in each lipoprotein. They are denoted as apo followed by the letters A, B, C, etc. The various functions of apolipoproteins include:\u00a0</p>\n<ul>\n<li>They are part of the <strong>structure</strong> of lipoproteins</li>\n<li>They can act as <strong>enzyme co-factors</strong>, for example, apo A-I for lecithin: cholesterol acyltransferase (LCAT), apo C-II for lipoprotein lipase</li>\n<li>They act as <strong>ligands</strong> for interaction with lipoprotein receptors in tissues, for example, apo B100 for LDL receptors</li>\n</ul>\n<p>Other options:\u00a0</p>\n<p>Option A: <strong>Apo A</strong> is the major apolipoprotein of HDL (high-density lipoprotein).</p>\n<p>Option B: <strong>Apo B100</strong> is the major apolipoprotein of<strong> LDL</strong>\u00a0(low-density lipoprotein) and <strong>VLDL\u00a0</strong>(very low-density lipoprotein). <strong>Apo B48</strong> is the major apolipoprotein of <strong>chylomicrons</strong>.</p>\n<p>Option D: <strong>Apo E</strong> is transferred by HDL to nascent chylomicrons and nascent VLDL to form mature forms of those particles.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Arsenite inhibits which of the following steps of the TCA cycle",
    "choices": [
      {
        "id": 1,
        "text": "Conversion of citrate to isocitrate"
      },
      {
        "id": 2,
        "text": "Conversion of Isocitrate to \u03b1-ketoglutarate"
      },
      {
        "id": 3,
        "text": "Conversion of \u03b1-ketoglutarate to Succinyl CoA"
      },
      {
        "id": 4,
        "text": "Conversion of Succinyl CoA to Succinate"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Arsenite inhibits conversion of &alpha;-ketoglutarate to Succinyl CoA by non-competitively inhibiting &alpha;-ketoglutarate dehydrogenase.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are cofactors for enzymes in the TCA cycle except",
    "choices": [
      {
        "id": 1,
        "text": "Niacin"
      },
      {
        "id": 2,
        "text": "Mn2+"
      },
      {
        "id": 3,
        "text": "Riboflavin"
      },
      {
        "id": 4,
        "text": "Folate"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Folate is not involved in the TCA cycle</p>\n<ul>\n<li>Option A: Niacin</li>\n</ul>\n<p>Active form: NAD+</p>\n<p>Cofactor for: Isocitrate dehydrogenase, &alpha;-ketoglutarate dehydrogenase and Malate dehydrogenase complex</p>\n<ul>\n<li>Option B: Mn2+</li>\n</ul>\n<p>Cofactor for Isocitrate dehydrogenase</p>\n<ul>\n<li>Option C: Riboflavin</li>\n</ul>\n<p>Active form: FAD</p>\n<p>Cofactor for: Succinate dehydrogenase</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements about ATP synthase is false",
    "choices": [
      {
        "id": 1,
        "text": "It is located in the inner mitochondrial membrane"
      },
      {
        "id": 2,
        "text": "It requires a proton motive force to form ATP in the presence of ADP and Pi"
      },
      {
        "id": 3,
        "text": "ATP is produced when part of the molecule rotates"
      },
      {
        "id": 4,
        "text": "One ATP molecule is formed for each full revolution of the molecule"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Three ATP molecules are generated for each full revolution of the molecule not one ATP.</p>\n<p>ATP synthase is embedded in the <strong>inner mitochondrial membrane</strong>, together with the respiratory chain complexes. The <strong>proton motive force</strong> drives a membrane-located ATP synthase that forms ATP in the presence of Pi + ADP. ATP is produced when part of the molecule rotates. Several subunits of the protein form a ball-like shape arranged around an axis known as F1. The flow of protons through F0 cause it to rotate, driving the production of ATP.</p>\n<p>Note that there are 3&nbsp;&alpha;&nbsp;and 3&nbsp;&beta; subunits. The&nbsp;&beta; subunits take up ADP and Pi to form ATP. Since there are 3&nbsp;&beta; subunits, 3ATP molecules are formed for each revolution.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9b7723f4cccc46e3b62bb689fe09043bx1280x1353.JPEG"
    ]
  },
  {
    "text": "The availability of which of the following substance is rate-limiting in the clearance of ethanol?",
    "choices": [
      {
        "id": 1,
        "text": "NADH"
      },
      {
        "id": 2,
        "text": "NAD+"
      },
      {
        "id": 3,
        "text": "FADH"
      },
      {
        "id": 4,
        "text": "FAD"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Ethanol is cleared from the body by oxidation catalyzed by two NAD+ linked enzymes: alcohol dehydrogenase and acetaldehyde dehydrogenase</strong>. These enzymes act mainly in the liver to convert alcohol to acetaldehyde and acetate, respectively. The NADH level is significantly increased in the liver during oxidation of alcohol, owing to the consumption of NAD+ This leads to a swamping of the normal means of regenerating NAD+. Thus, NAD + becomes the rate-limiting factor in oxidation of excess alcohol.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b18b716e880543de85afd5208be3bbb1x779x329.JPEG"
    ]
  },
  {
    "text": "All of the following are allosteric inhibitors of pyruvate dehydrogenase except",
    "choices": [
      {
        "id": 1,
        "text": "AMP"
      },
      {
        "id": 2,
        "text": "NADH"
      },
      {
        "id": 3,
        "text": "Acetyl CoA"
      },
      {
        "id": 4,
        "text": "ATP"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Allosteric inhibitor is defined as a substance that binds to the enzyme and induces the enzyme's inactive form. Allosteric regulators are an important feedback inhibition mechanism, where the end products of the reaction inhibit the reaction producing them.</p>\n<p>Allosteric inhibitors of pyruvate dehydrogenase are:</p>\n<ul>\n<li>NADH</li>\n<li>Acetyl CoA</li>\n<li>ATP</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "5s rRNA is synthesized mainly by which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "RNA Polymerase I"
      },
      {
        "id": 2,
        "text": "RNA Polymerase II"
      },
      {
        "id": 3,
        "text": "RNA Polymerase III"
      },
      {
        "id": 4,
        "text": "Plamid DNA"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>5s rRNA is synthesized by RNA Polymerase III.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Rifampin inhibits which one of the following types of enzymes?",
    "choices": [
      {
        "id": 1,
        "text": "DNA-dependent DNA polymerase"
      },
      {
        "id": 2,
        "text": "DNA-dependent RNA polymerase"
      },
      {
        "id": 3,
        "text": "RNA-dependent DNA polymerase"
      },
      {
        "id": 4,
        "text": "RNA-dependent RNA polymerase"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Rifampin works by inhibiting the beta subunit of the bacterial DNA-dependent RNA polymerase (RNA polymerase).</p>\n<p>Option A: A DNA-dependent DNA polymerase, such as bacterial Pol III, directs DNA replication, whereas bacterial Pol I is involved with DNA repair and lagging strand DNA synthesis.</p>\n<p>Option C: An example of a RNA-dependent DNA polymerase is reverse transcriptase, found in retroviruses.</p>\n<p>Option D: Only certain RNA viruses, such as poliovirus, code for RNA-dependent RNA polymerases.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A mutation to this sequence in eukaryotic messenger RNA (RNA) will affect the process by which the 3'-end poly-A tail is added to the mRNA",
    "choices": [
      {
        "id": 1,
        "text": "AAUAAA"
      },
      {
        "id": 2,
        "text": "CAAT"
      },
      {
        "id": 3,
        "text": "CCA"
      },
      {
        "id": 4,
        "text": "TATAAA"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>AAUAAA is present at the 3&rsquo; end, it is the polyadenylation sequence.</strong></li>\n<li>Eukaryotic messenger RNA usually undergoes post transcriptional modification, polyadenylation is an important part of this post transcriptional modification.</li>\n<li>An endonuclease cleaves messenger RNA just downstream of this polyadenylation signal, creating a new 3'-end to which the poly A polymerase adds the poly-A tail using ATP as the substrate in a template-independent process.</li>\n<li><strong>These tails help stabilize the mRNA, facilitate its exit from the nucleus, and aid in translation. After the mRNA enters the cytosol, the poly-A tail is gradually shortened.</strong></li>\n<li>CAAT and TATAAA are sequences found in promoters for RNA polymerase II.&nbsp;</li>\n<li><strong>CCA is added to the 3'-end of transfer RNA(tRNA) by nucleotidyltransferase.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are a junior researcher studying about the properties of apoproteins.  Which of the following is the basis for the intestine-specific expression of apolipoprotein B-48?",
    "choices": [
      {
        "id": 1,
        "text": "DNA rearrangement and loss"
      },
      {
        "id": 2,
        "text": "DNA transposition"
      },
      {
        "id": 3,
        "text": "RNA alternative splicing"
      },
      {
        "id": 4,
        "text": "RNA editing"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The basis for the intestine-specific expression of <strong>apolipoprotein B-48</strong> is <strong>RNA editing.</strong></p>\n<p>The production of apolipoprotein <strong>(apo) B-48</strong> in the <strong>intestine</strong> and <strong>apoB-100</strong> in the <strong>liver</strong> is a result of <strong>RNA editing. </strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">The </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">ApoB gene</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> is </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">transcribed </strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">into an</span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> mRNA</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> that leads to the synthesis of </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">100 kDa</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">protein </strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">in the liver, which is called </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">apoB100</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">. </span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">In the<strong> intestine</strong>, the same primary transcript is formed, but a<strong> cytidine deaminase</strong> converts a <strong>CAA codon</strong> in the mRNA <strong>into</strong> a <strong>UAA codon;</strong> thus codon for <strong>glutamine</strong> is <strong>changed</strong> to a <strong>termination codon</strong>. Thus<strong> 48kDa protein</strong> has resulted; this is <strong>apoB48.</strong></span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4c3f9ca8abff4817950434dc4cafc5dbx720x558.JPEG"
    ]
  },
  {
    "text": "Pseudouridine and ribothymidine are present as nucleotides in _____.",
    "choices": [
      {
        "id": 1,
        "text": "tRNA"
      },
      {
        "id": 2,
        "text": "rRNA"
      },
      {
        "id": 3,
        "text": "hnRNA"
      },
      {
        "id": 4,
        "text": "snRNP"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Pseudouridine</strong> and <strong>ribothymidine</strong> are present as nucleotides in transfer RNAs (<strong>tRNAs</strong>)<strong>.</strong></p>\n<p>Transfer RNA is a type of RNA that helps to <strong>transport amino acids</strong> from the cell <strong>cytoplasm</strong> <strong>to</strong> the<strong> ribosome,</strong> where <strong>protein synthesis</strong> is taking place. Since they are soluble in nature, they are also known as <strong>soluble RNA (sRNA)</strong>. They undergo internal base-pairing (represented by the black dotted lines in the image below) to form the secondary <strong>cloverleaf</strong> structure.</p>\n<p>Each part of the cloverleaf structure serves a different purpose. The parts of the cloverleaf include:</p>\n<ul>\n<li>Anticodon loop</li>\n<li>Acceptor arm</li>\n<li>D loop</li>\n<li><strong>The ribothymidine pseudouridine cytidine (T&Psi;C) </strong>loop</li>\n<li>Variable loop</li>\n</ul>\n<p>The image given below shows the cloverleaf structure of tRNA.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d0c9f3a5882e4c5080232c9afe323c07x600x711.JPEG"
    ]
  },
  {
    "text": "All of the following enzymes participate in reversible non-oxidative phase of the HMP except",
    "choices": [
      {
        "id": 1,
        "text": "Transketolase"
      },
      {
        "id": 2,
        "text": "Transaldolase"
      },
      {
        "id": 3,
        "text": "Phosphohexose isomerase"
      },
      {
        "id": 4,
        "text": "Glucose 6 phosphate dehydrogenase"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>HMP pathway has a series of reactions which are divided into two phases</p>\n<ul>\n<li>Irreversible oxidative phase</li>\n<li>Reversible nonoxidative phase</li>\n</ul>\n<p>In the first phase (Irreversible oxidative phase), glucose6-phosphate undergoes dehydrogenation and decarboxylation to yield a pentose, ribulose-5-phosphate.&nbsp;</p>\n<p>In the second phase, ribulose-5-phosphate is converted back to glucose-6-phosphate by a series of reactions involving mainly two enzymes: transketolase and transaldolase</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following converts glucose to sorbitol?",
    "choices": [
      {
        "id": 1,
        "text": "Hexokinase"
      },
      {
        "id": 2,
        "text": "Aldose reductase"
      },
      {
        "id": 3,
        "text": "Aldose mutase"
      },
      {
        "id": 4,
        "text": "Sorbitol dehydrogenase"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Glucose enters tissues such as nerves, kidney, and the lens of the eye by an insulin-independent mechanism. In these tissues, glucose is reduced to sorbitol by aldose reductase. The damage to these tissues is believed to be due to an osmotic effect because the sorbitol is unable to escape these tissues readily.</li>\n<li>Sorbitol dehydrogenase converts sorbitol to fructose.</li>\n<li>Hexokinase phosphorylates glucose to glucose 6-phosphate.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/37ed332b35b1402880faccb8578bc923x1280x452.PNG"
    ]
  },
  {
    "text": "In contracting skeletal muscle, a sudden elevation of the sarcoplasmic calcium concentration will result in:",
    "choices": [
      {
        "id": 1,
        "text": "Activation of cyclic adenosine monophosphate (cAMP)-dependent protein kinase A"
      },
      {
        "id": 2,
        "text": "Conversion of cAMP to AMP by phosphodiesterase"
      },
      {
        "id": 3,
        "text": "Direct activation of glycogen synthase b"
      },
      {
        "id": 4,
        "text": "Direct activation of phosphorylase kinase b"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Ca 2+ released from the sarcoplasmic reticulum during exercise binds to the calmodulin subunit of phosphorylase kinase, there by allosterically activating the &ldquo;b&rdquo; form of this enzyme. The other choices are not caused by an elevation of cytosolic calcium.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/4c0dd1012d034e4199704b93e86421e4x619x438.PNG"
    ]
  },
  {
    "text": "A processed urine sample of a patient shows the following type of absorption of spectrophotometry. The patient has a disorder involving metabolism of",
    "choices": [
      {
        "id": 1,
        "text": "Purines"
      },
      {
        "id": 2,
        "text": "Aminoacids"
      },
      {
        "id": 3,
        "text": "Carbohydrates"
      },
      {
        "id": 4,
        "text": "Porphyrins"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The graph shows peak absorption at 400 nm, it is highly suggestive of porphyrins. <strong>The band of 400nm is also called soret band. </strong>The conjugated double bonds in the pyrrole rings and linking methylene groups of porphyrins (absent in the porphyrinogens) are responsible for their characteristic absorption and fluorescence spectra.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/039202c949dd42bab537ef987eb5d42a.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Decreased activity of which of the following enzymes would confirm the suspected diagnosis of Hurler syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "\u03b1-L-Iduronidase"
      },
      {
        "id": 2,
        "text": "b-Glucuronidase"
      },
      {
        "id": 3,
        "text": "Glycosyltransferase"
      },
      {
        "id": 4,
        "text": "Iduronate sulfatase"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Hurler syndrome, a defect in the lysosomal degradation of glycosaminoglycans (GAGs ) with corneal clouding, is due to a deficiency in &alpha;-L-iduronidase. </strong></li>\n<li>Beta-glucuronidase is deficient in Sly syndrome, and <strong>iduronatesulfatase is deficient in Hunter syndrome.</strong></li>\n<li>Glycosyltransferases are enzymes of GAG synthesis.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "After 30 hours of fasting, which of the following is most important for the maintenance of normal blood glucose levels?",
    "choices": [
      {
        "id": 1,
        "text": "Glycogenolysis"
      },
      {
        "id": 2,
        "text": "Gluconeogenesis"
      },
      {
        "id": 3,
        "text": "Triacylglycerol synthesis"
      },
      {
        "id": 4,
        "text": "Increased insulin release"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>About 2 to 3 hours after a meal, the liver maintains normal blood glucose by glycogenolysis. Within 30 hours, liver glycogen stores are depleted, leaving gluconeogenesis as the primary process for maintaining normal blood glucose. Ketone bodies are generated, triacylglycerols are broken down, and muscle protein breakdown increases. <strong>In the fed state, insulin increases; in the fasting state, glucagon increases, while insulin decreases.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "CO2 is released in which of the following steps of the tricarboxylic acid (TCA) cycle?",
    "choices": [
      {
        "id": 1,
        "text": "Steps A and B"
      },
      {
        "id": 2,
        "text": "Steps B and C"
      },
      {
        "id": 3,
        "text": "Steps C and D"
      },
      {
        "id": 4,
        "text": "Steps D and E"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>CO2 is released in<strong> steps B and C</strong>.<strong> </strong>Step B is the conversion of isocitrate to ketoglutarate which is catalyzed by isocitrate dehydrogenase. Step C is the conversion of ketoglutarate to succinate which is catalyzed by alpha-ketoglutarate dehydrogenase. In these steps, there are <strong>releases of CO<sub>2</sub></strong> and conversion of <strong>NAD+ to NADH</strong>.</p>\n<p>The <strong>tricarboxylic acid cycle (TCA, Kreb's cycle, or citric acid cycle)</strong> refers to a sequence of reactions that take place in the <strong>mitochondria.\u00a0</strong>It oxidizes acetyl-CoA to CO2 and reduces coenzymes that are reoxidized through the electron transport chain, with the formation of ATP. It is an <strong>aerobic</strong> pathway.</p>\n<p>The TCA cycle is the final common pathway for the oxidation of carbohydrates, lipids, and proteins. Most amino acids get metabolized either to acetyl CoA or to an intermediate of the cycle. It plays an important role in\u00a0gluconeogenesis, lipogenesis, and the interconversion of amino acids.\u00a0Since it functions in both <strong>oxidative</strong> as well as <strong>synthetic processes</strong>, it is an <strong>amphibolic</strong> pathway.</p>\n<div class=\"page\" title=\"Page 164\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>3 molecules of NADH</strong> and <strong>1 molecule of FADH2</strong> are produced for each molecule of acetyl-CoA that is catabolized during one turn of the TCA cycle. Each NADH gives approximately 2.5 ATP and FADH2 gives 1.5 ATP when they are reoxidized. In addition, 1 ATP (or GTP) is formed at the substrate level when succinyl CoA is converted to succinate. Thus, <strong>10 ATP are generated for one turn of the TCA cycle</strong> (3x2.5 ATP from NADH +1.5 ATP from FADH2+1GTP).</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5c84fa8060b14364b969378b7ed4aebf.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which statement best explains the function of eEF-2?",
    "choices": [
      {
        "id": 1,
        "text": "It is required for the translocation of peptidyl-tRNA during translation"
      },
      {
        "id": 2,
        "text": "It is required for the initiation of protein synthesis"
      },
      {
        "id": 3,
        "text": "It is the agent that binds to, and is inactivated by, chloramphenicol"
      },
      {
        "id": 4,
        "text": "It functions as a peptidyl transferase"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Eukaryotic elongation factor 2 (eEF-2)</strong> is required for the<strong> translocation of peptidyl-tRNA </strong>along the mRNA<strong> during translation</strong>.</p>\n<p>The elongation reaction requires GTP hydrolysis. The corresponding elongation factor in bacteria is EF-G. <strong>Diphtheria toxin ADP-ribosylates eEF-2, </strong>leading to its<strong> inactivation.</strong></p>\n<p>Other options:</p>\n<p>Option B: Initiation of eukaryotic protein synthesis requires several initiation factors, designated eIF-1, eIF-2, etc.</p>\n<p>Option C: Chloramphenicol inhibits prokaryotic peptidyl transferase.</p>\n<p>Option D: Peptidyl transferase is an rRNA (within the large ribosomal subunit) involved in formation of the peptide bond between the amino acid groups within the A and P sites of the ribosome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Creatinine is produced from which of the following precursors?",
    "choices": [
      {
        "id": 1,
        "text": "Glutamine, aspartic acid, and CO2"
      },
      {
        "id": 2,
        "text": "Glutamine, cysteine, and glycine"
      },
      {
        "id": 3,
        "text": "Glycine and succinyl CoA"
      },
      {
        "id": 4,
        "text": "Glycine, arginine, and SAM"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>Creatinine is formed from the cyclization of creatine phosphate, which is formed from glycine, arginine, and S-Adenosyl Methionine.</li>\n<li>Glutamine, aspartic acid, and CO2 are involved in the synthesis of purines and pyrimidines. Glutamine, cysteine, and glycine form the antioxidant molecule glutathione</li>\n<li>Glycine and succinyl CoA are the precursors to the formation of heme.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/73c1c83f048b4de09a19638d8593d633x764x167.PNG"
    ]
  },
  {
    "text": "The complete lack of UDP-glucuronosyltransferase activity leads to which of the following disorders?",
    "choices": [
      {
        "id": 1,
        "text": "Crigler-Najjar syndrome"
      },
      {
        "id": 2,
        "text": "Gilbert syndrome"
      },
      {
        "id": 3,
        "text": "Dubin-Johnson syndrome"
      },
      {
        "id": 4,
        "text": "Rotor syndrome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Crigler-Najjar syndrome, type I, results from a complete lack of UDP-glucuronosyltransferase activity.</p>\n<p><strong>Hereditary disorders of bilirubin metabolism</strong></p>\n<p><strong>Unconjugated hyperbilirubinemias</strong></p>\n<ul>\n<li>Crigler-Najjar syndrome, type I\n<ul>\n<li>Absent Bilirubin UDP-glucuronosyltransferase activity.</li>\n<li>Appears in the neonatal period and persists for life.</li>\n<li>Kernicterus is common</li>\n<li>No response to phenobarbital</li>\n</ul>\n</li>\n<li>Crigler-Najjar syndrome, type II\n<ul>\n<li>Markedly reduced (0&ndash;10% of normal) UDP-glucuronosyltransferase activity.</li>\n<li>Detected in infancy or later in life</li>\n<li>Kernicterus is rare</li>\n<li>Phenobarbital decreases bilirubin by &gt;25%</li>\n</ul>\n</li>\n<li>Gilbert syndrome\n<ul>\n<li>Reduced (10&ndash;33% of normal)&nbsp;UDP-glucuronosyltransferase activity</li>\n<li>Diagnosed in adult life</li>\n<li>Precipitated by stress, fatigue, alcohol use, inducing agents</li>\n</ul>\n</li>\n</ul>\n<p><strong>Conjugated&nbsp;hyperbilirubinemias</strong></p>\n<ul>\n<li>Dubin-Johnson syndrome\n<ul>\n<li>Defect in biliary excretion (MRP2 protein)</li>\n<li>Mild conjugated hyperbilirubinemia</li>\n<li>Normal liver function with <strong>dark pigment</strong> in liver</li>\n<li>Characteristic pattern of urinary coproporphyrins</li>\n<li>Nonvisualization of&nbsp;gallbladder&nbsp;on oral cholecystography</li>\n</ul>\n</li>\n<li>&nbsp;Rotor syndrome\n<ul>\n<li>Defect in biliary excretion (OATP1B1 and OATP1B3)</li>\n<li>Mild conjugated hyperbilirubinemia</li>\n<li>Normal liver function without pigmentation</li>\n<li>Gallbladder is visualized on oral cholecystography</li>\n<li></li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "After binding intracellular receptors, steroids regulate the rate of which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Initiation of protein synthesis"
      },
      {
        "id": 2,
        "text": "mRNA processing"
      },
      {
        "id": 3,
        "text": "Protein translation"
      },
      {
        "id": 4,
        "text": "Transcription of genes"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Steroid hormones enter cells and bind to receptor proteins. The receptor-hormone complex binds to specific response elements, or the regulatory region of DNA, and activates gene transcription.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient has porphobilinogen (PBG) deaminase deficiency, which of the following substances is expected to increase?",
    "choices": [
      {
        "id": 1,
        "text": "Porphobilinogen"
      },
      {
        "id": 2,
        "text": "Coproporphyrinogen III"
      },
      {
        "id": 3,
        "text": "Hydroxymethylbilane"
      },
      {
        "id": 4,
        "text": "Protoporphyrin IX"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Acute intermittent porphyria</strong> (<strong>AIP</strong>) is a genetic metabolic disorder affecting the production of heme, the oxygen-binding prosthetic group of hemoglobin. It is characterized by a deficiency of the enzyme porphobilinogen deaminase.</p>\n<p>Its inheritance is more commonly autosomal dominant;however, autosomal recessive forms of this disorder have occurred.</p>\n<p>AIP is caused by mutations in the HMBS gene, which codes for the enzyme<strong> porphobilinogen deaminase in which insufficient hydroxymethylbilane is produced, leading to a build-up of porphobilinogen in the cytoplasm.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d20d66e9f227408b91c8d52a443763c4x600x303.JPEG"
    ]
  },
  {
    "text": "Which of the following exerts a positive influence on the activity of PDH?",
    "choices": [
      {
        "id": 1,
        "text": "Acetyl-CoA"
      },
      {
        "id": 2,
        "text": "ATP"
      },
      {
        "id": 3,
        "text": "Dephosphorylation"
      },
      {
        "id": 4,
        "text": "NADH"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Regulation of the PDH complex is effected by both allosteric means and by phosphorylation. Allosteric effectors of the enzyme complex are of both positive and negative type. The complex is phosphorylated by a specific kinase identified as PDH kinase and phosphate is removed by PDH phosphatase. When in the unphosphorylated state the complex is much more active, therefore the activity of PDH phosphatase is important for maintaining the PDH complex in the active state.</p>\n<p>Acetyl-CoA (option A) and NADH (option D) are both allosteric inhibitors of the nonphosphorylated form of the PDH complex and also serves to activate PDH kinase leading to phosphorylated and inhibited PDH. Like acetylCoA and NADH, ATP (option B) allosterically activates the PDH kinase leading to phosphorylated and inhbited PDH.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1f901a454feb4fb599e3438a52e3dc48x681x446.PNG"
    ]
  },
  {
    "text": "Epigenetics  means",
    "choices": [
      {
        "id": 1,
        "text": "Gene expression following  point mutations in DNA"
      },
      {
        "id": 2,
        "text": "Gene expression that is restricted to a specific cell lineage"
      },
      {
        "id": 3,
        "text": "Genotype differences are not reflected by phenotype differences"
      },
      {
        "id": 4,
        "text": "Phenotype differences that are independent of genotype variation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p class=\"p1\">Epigenetics refers to the mechanisms by which levels of gene expression can be exquisitely modulated, not by variations in the primary&nbsp;genetic sequence of DNA but rather by <strong>postgenomic alterations in DNA and chromatin structure</strong>, which influence how, when, and where genes are expressed.</p>\n<p class=\"p1\">DNA methylation and methylation and acetylation of histone proteins that interact with nuclear DNA to form chromatin are key mediators of these events.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Biochemistry Test I';
        const quizFilename = 'biochemistry-test-i-12993e2a.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2018 - 19"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>