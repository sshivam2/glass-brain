<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M9 - Image Only Mini Test  - 2 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2017-18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">41</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "The structures marked as \u201cA\u201d and \u201cB\u201d in the image below are developmentally derived from",
    "choices": [
      {
        "id": 1,
        "text": "Notochord and Sclerotome"
      },
      {
        "id": 2,
        "text": "Sclerotome and Dermatome"
      },
      {
        "id": 3,
        "text": "Dermatome and Notochord"
      },
      {
        "id": 4,
        "text": "Sclerotome and Notochord"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>The structures marked as &ldquo;<strong>A</strong>&rdquo; and &ldquo;<strong>B</strong>&rdquo; in the above image are outer <strong>Annulus</strong> <strong>fibrosus</strong> and inner <strong>Nucleus</strong> <strong>Pulposus</strong> of Intervertebral <strong>disc.</strong></li>\n<li>Nucleus pulposus is entirely derived from the <strong>notochord</strong>, whereas the annulus fibrosus is <strong>sclerotome</strong>-derived structure.</li>\n</ul>\n<p><strong>Development:</strong></p>\n<ol>\n<li>During the <strong>fourth week</strong>, <strong>sclerotome</strong> cells migrate around the spinal cord and notochord to merge with cells from the opposing somite on the other side of the neural tube. As development continues, the sclerotome portion of each somite also undergoes a process called resegmentation.</li>\n<li><strong>Resegmentation</strong> occurs when the caudal half of each sclerotome grows into and fuses with the cephalic half of each subjacent sclerotome.</li>\n<li>Thus, each vertebra is formed from the combination of the caudal half of one somite and the cranial half of its neighbor.</li>\n<li><strong>Mesenchymal cells</strong> between cephalic and caudal parts of the original sclerotome segment do not proliferate but fill the space between two pre cartilaginous vertebral bodies. In this way, they contribute to formation of the <strong>intervertebral disc.</strong></li>\n<li>Although the <strong>notochord</strong> regresses entirely in the region of vertebral bodies, it persists and enlarges in the region of intervertebral disks, leading to the formation of <strong>nucleus pulposus</strong>.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/de3639338187488e89d80af6ac2be210.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The Phase 2, in the ventricular myocyte action potential, shown in the image below, is due to:",
    "choices": [
      {
        "id": 1,
        "text": "Calcium channels remaining open longer than sodium channels"
      },
      {
        "id": 2,
        "text": "Increased membrane permeability to potassium ions"
      },
      {
        "id": 3,
        "text": "Rapid inactivation of the Na+ channels"
      },
      {
        "id": 4,
        "text": "Early closure of Calcium channels"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Action potential: </strong>electrical stimulation created by a sequence of ion fluxes through specialized channels in the membrane (sarcolemma) of cardiomyocytes that leads to cardiac contraction.</p>\n<p><strong>Action potential in cardiomyocytes:</strong></p>\n<p>The action potential in typical cardiomyocytes is composed of 5 phases (0-4), beginning and ending with phase 4.</p>\n<p><strong>Phase 4: The resting phase</strong></p>\n<ol>\n<li>The resting potential in a cardiomyocytes is <strong>&minus;90 mV</strong> due to a constant outward leak of K+ through inward rectifier channels.</li>\n<li>Na+ and Ca2+ channels are closed at resting TMP.</li>\n</ol>\n<p><strong>Phase 0: Depolarization</strong></p>\n<ol>\n<li>An action potential triggered in a neighbouring cardiomyocytes or pacemaker cell causes the TMP to rise above &minus;90 mV.</li>\n<li><strong>Fast Na+ channels</strong> start to open one by one and Na+ leaks into the cell, causing further raise in TMP.</li>\n<li><strong>TMP approaches &minus;70mV</strong>, the threshold potential in cardiomyocytes, i.e. the point at which enough fast Na+ channels have opened to generate a self-sustaining inward Na+ current.</li>\n<li>The large Na+ current rapidly depolarizes the<strong> TMP to 0 mV</strong> and slightly above 0 mV for a transient period of time called the overshoot;</li>\n<li><strong>Fast Na+ channels close</strong> (recall that fast Na+ channels are time-dependent).</li>\n<li><strong>L-type (&ldquo;long-opening&rdquo;) Ca2+ channels</strong> open when the TMP is greater than &minus;40 mV and cause a small but steady influx of Ca2+ down its concentration gradient.</li>\n</ol>\n<p><strong>Phase 1: Early repolarization</strong></p>\n<ol>\n<li>TMP is now slightly positive.</li>\n<li>Some K+ channels open briefly and an outward flow of K+ returns the TMP to approximately<strong> 0 mV.</strong></li>\n</ol>\n<p><strong>Phase 2: The plateau phase</strong></p>\n<ol>\n<li><strong>L-type Ca2+ channels are still open </strong>and there is a small, constant inward current of Ca2+. This becomes significant in the excitation-contraction coupling process described below.</li>\n<li><strong>K+ leaks out </strong>down its concentration gradient through delayed rectifier K+ channels.</li>\n<li>These two countercurrent are electrically balanced, and the TMP is maintained at a plateau just below 0 mV throughout phase 2.</li>\n</ol>\n<p><strong>Phase 3: Repolarization</strong></p>\n<ol>\n<li><strong>Ca2+ channels</strong> are gradually <strong>inactivated</strong>.</li>\n<li>Persistent outflow of K+, now exceeding Ca2+ inflow, brings TMP back towards resting potential of <strong>&minus;90 mV</strong> to prepare the cell for a new cycle of depolarization.</li>\n<li>Normal transmembrane ionic concentration gradients are restored by returning Na+ and Ca2+ ions to the extracellular environment, and K+ ions to the cell interior.</li>\n<li>The pumps involved include the sarcolemmal Na+-Ca2+ exchanger, Ca2+-ATPase and Na+-K+-ATPase.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/65d4ee08a3874ec792dcb3dbc59b2b6c.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The biochemical pathway shown in the image below is ___.",
    "choices": [
      {
        "id": 1,
        "text": "Krebs cycle"
      },
      {
        "id": 2,
        "text": "Cori cycle"
      },
      {
        "id": 3,
        "text": "Embden meyerhof pathway"
      },
      {
        "id": 4,
        "text": "Pentose phosphate pathway"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>The <strong>Cori cycle</strong> (also known as the Lactic acid cycle), named after its discoverers, <strong>Carl</strong> <strong>Ferdinand</strong> <strong>Cori</strong> and <strong>Gerty</strong> <strong>Cori</strong>.</li>\n<li>It refers to the metabolic pathway in which lactate produced by anaerobic glycolysis in the muscles moves to the liver and is converted to glucose, which then returns to the muscles and is metabolized back to lactate.</li>\n</ul>\n<p>This <strong>cycle</strong> can be summarized as follows:</p>\n<ol>\n<li>The <strong>conversion of glucose to lactic acid</strong>, or lactate, by <strong>anaerobic</strong> <strong>glycolysis</strong> in skeletal muscle cells.</li>\n<li><strong>Diffusion of lactate</strong> from muscle cells into the bloodstream, by which it is transported to the liver</li>\n<li>The <strong>conversion of lactate to glucose</strong> by hepatic <strong>gluconeogenesis</strong></li>\n<li><strong>Diffusion of glucose</strong> from the hepatocytes into the bloodstream, by which it is transported back to the skeletal muscle cells, thereby closing the cycle.</li>\n</ol>\n<p><strong>Significance:</strong></p>\n<ul>\n<li>The cycle's importance is based on the <strong>prevention</strong> of <strong>lactic</strong> <strong>acidosis</strong> in the muscle under anaerobic conditions. However, normally before this happens the lactic acid is moved out of the muscles and into the liver.</li>\n<li>The cycle is also important in producing <strong>ATP</strong>, an energy source, during muscle activity.</li>\n<li>The contribution of Cori cycle lactate to overall glucose production increases with <strong>fasting</strong> duration.</li>\n<li>The <strong>drug metformin</strong> can cause lactic acidosis in patients with renal failure because metformin inhibits the hepatic gluconeogenesis of the Cori cycle, particularly the mitochondrial respiratory chain complex.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e6a9d3bf3d29497d9485ba4541144619.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is true regarding the dose-response curve shown in the image below?",
    "choices": [
      {
        "id": 1,
        "text": "C is competitive antagonist"
      },
      {
        "id": 2,
        "text": "C is more potent than A"
      },
      {
        "id": 3,
        "text": "B is more potent than A"
      },
      {
        "id": 4,
        "text": "B is competitive antagonist"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the above image, <strong>drug B</strong> is a <strong>competitive</strong> antagonist.</p>\n<p>In <strong>competitive antagonism,</strong> the DRC is <strong>shifted to the right</strong> whereas in <strong>non-competitive antagonism </strong>the DRC is <strong>flattened</strong>.</p>\n<p>Thus in the above image Drug B is the Competitive antagonist while <strong>drug C</strong> is the <strong>non-competitive</strong> antagonist.</p>\n<p><strong>Potency:</strong></p>\n<ul>\n<li>It is defined as the&nbsp;<strong>amount</strong> of<strong> drug&nbsp;</strong>needed&nbsp;to<strong> produce </strong>a given<strong> response.</strong></li>\n<li>A&nbsp;<strong>highly potent drug</strong>&nbsp;evokes a given&nbsp;<strong>response</strong> at<strong> low concentrations</strong>&nbsp;and vice-versa.</li>\n<li>The&nbsp;<strong>more</strong> the<strong> curve</strong> is on the<strong> left&nbsp;</strong>in a dose-response curve (DRC)<strong>, </strong>the<strong> greater</strong> is its<strong> potency.</strong></li>\n<li>Thus, in the above image, the potency is drug A &gt; drug C &gt; drug B.</li>\n</ul>\n<p><strong>Efficacy:</strong></p>\n<ul>\n<li>It is defined as the<strong>&nbsp;maximum effect produced</strong>&nbsp;by the drug.</li>\n<li>It expresses the effect produced by the receptors when bound by a certain drug.</li>\n<li>In the log dose-response curve, the&nbsp;<strong>perpendicular height</strong>&nbsp;represents the drug efficacy.</li>\n<li>Thus, in the above image, the efficacy is drug A = drug B &gt; drug C.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://daily-rounds-staging.s3.amazonaws.com/uploads/1b116b337c9d4636888a2aa8223e3636.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The type of antibody demonstrated here is",
    "choices": [
      {
        "id": 1,
        "text": "IgG"
      },
      {
        "id": 2,
        "text": "IgD"
      },
      {
        "id": 3,
        "text": "IgA"
      },
      {
        "id": 4,
        "text": "IgE"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>IgA</strong> occurs in two forms &ndash; <strong>Serum IgA</strong> and <strong>Secretory IgA</strong></p>\n<p><strong>Serum IgA </strong>is a <strong>monomer</strong></p>\n<p><strong>Secretory IgA</strong> is a <strong>dimer</strong>, formed by two monomer units joined together at their carboxy terminals by a glycopeptide known as <strong>J-chain</strong>.</p>\n<p>Secretory Ig A is synthesised by plasma cells situated near the mucosal or glandular epithelium. The J chain is also produced by plasma cells.</p>\n<p><strong>IgM is a polymer, consisting of 5 subunits, which are joined by J-chain.</strong></p>\n<p><strong>IgG, IgD </strong>and <strong>IgE </strong>are monomers</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/49d3630dc5a04beea95667ba81f18d3c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/59cce2efd74e4616aac7a3ef12cb40a2x640x599.JPEG"
    ]
  },
  {
    "text": "Identify the bodies shown in the Histological image below. Patient was diagnosed with meningioma.",
    "choices": [
      {
        "id": 1,
        "text": "Orphan Annie Nucleus"
      },
      {
        "id": 2,
        "text": "Hurthle cells"
      },
      {
        "id": 3,
        "text": "Psammoma bodies"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>The above histological image shows <strong>psammoma</strong> <strong>bodies</strong>.</li>\n<li><strong>Psammoma bodies (PBs)</strong> are concentric lamellated calcified structures, observed most commonly in <strong>papillary thyroid carcinoma (PTC),</strong> <strong>meningioma</strong>, and <strong>papillary serous cystadenocarcinoma of ovary</strong> but have rarely been reported in other neoplasms and nonneoplastic lesions.</li>\n<li>PBs are said to represent a process of dystrophic calcification.</li>\n<li><strong>Ultrastructural study</strong> of <strong>PTC</strong> has shown that thickening of the base lamina in vascular stalk of neoplastic papillae followed by thrombosis, calcification, and tumor cell necrosis leads to formation of PBs.</li>\n<li>Studies on serous cystadenocarcinoma of ovary and meningioma, however, revealed that <strong>collagen production by neoplastic cells</strong> and subsequent calcification was responsible for the formation of PBs.</li>\n<li>The existence of some precursor forms of PBs was reported in meningiomas and more recently in PTC, which were mostly in the form of extracellular hyaline globules surrounded by well-preserved neoplastic cells or in a smaller number of cases intracytoplasmic bodies liberated from intact tumor cells.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/072b5f382eda42659d89b9171b5bb999.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The method of identification used in forensic lab as shown in the image below is based on",
    "choices": [
      {
        "id": 1,
        "text": "Papillary ridges"
      },
      {
        "id": 2,
        "text": "Impressions of sweat pores"
      },
      {
        "id": 3,
        "text": "Hair follicles"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Poroscopy is a method of <strong>personal</strong> <strong>identification</strong> through the comparison of the <strong>impressions</strong> <strong>of</strong> <strong>sweat</strong> <strong>pores</strong> (present on friction ridges of palmar and plantar surfaces).</li>\n<li>The method was discovered and developed by Edmond Locard in 1912.</li>\n<li>It includes the study of the configuration, size, and relative position of the pores in human skin.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/29b52b3e777a4341821745c67161595b.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following sampling technique is depicted in the image below:",
    "choices": [
      {
        "id": 1,
        "text": "Simple random sampling"
      },
      {
        "id": 2,
        "text": "Stratified random sampling"
      },
      {
        "id": 3,
        "text": "Snowball sampling"
      },
      {
        "id": 4,
        "text": "Cluster sampling"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image depicts the technique of stratified random sampling. A <strong>stratified random sample</strong> is obtained by:</p>\n<ol>\n<li><strong>Separating the population</strong> into non-overlapping groups called strata</li>\n<li>Then obtaining a<strong> proportional simple random sample</strong> from each group</li>\n<li>The individuals within each group should be similar in some way</li>\n</ol>\n<p>This method of sampling avoids bias for being discriminatory for a particular group.</p>\n<p>Option A) <strong>Simple random sampling:</strong> Sample drawn in such a way that every element in the population has an equal probability of being included.</p>\n<p>Option C) <strong>Snowball sampling:</strong> This method is used when the population cannot be located in a specific place, and therefore, it is difficult to access this population.</p>\n<p>Option D) <strong>Cluster sampling:</strong> This method is used when creating a sampling frame is nearly impossible due to the large size of the population. In this approach, the population is divided into clusters based on geographic location. A list of all clusters is created, and investigators randomly select a number of clusters to be included. Next, they list all individuals within these selected clusters and conduct another round of random selection to obtain a final random sample, similar to simple random sampling. This method is called multistage sampling because the selection process occurs in two stages: first, the selection of eligible clusters, and second, the selection of individuals from within those clusters.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fcb62416c35f4362b1694ff4137708bd.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The ECG wave as shown in the image below is commonly seen in",
    "choices": [
      {
        "id": 1,
        "text": "Myocardial infarction"
      },
      {
        "id": 2,
        "text": "Hyperkalemia"
      },
      {
        "id": 3,
        "text": "Digoxin treatment"
      },
      {
        "id": 4,
        "text": "Hypokalemia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above ECG wave characteristically depicts <strong>Digoxin</strong> <strong>effect</strong>.</p>\n<p><strong>Digoxin effect</strong> refers to the presence on the ECG of:</p>\n<ul>\n<li><strong>Downsloping</strong> <strong>ST depression</strong> with a characteristic &ldquo;<strong>Salvador Dali sagging</strong>&rdquo; or &ldquo;<strong>Hockey Stick</strong>&rdquo; appearance.</li>\n<li>Flattened, inverted, or biphasic T waves.</li>\n<li>Shortened QT interval.</li>\n</ul>\n<p><strong>Additional ECG Features:</strong></p>\n<ul>\n<li>Mild PR interval prolongation of up to 240ms (due to increased vagal tone).</li>\n<li>Prominent <strong>U waves</strong>.</li>\n<li>Peaking of the terminal portion of the <strong>T waves</strong>.</li>\n<li><strong>J point depression</strong> (usually in leads with tall R waves).</li>\n</ul>\n<p><strong>QRS complex / ST segment changes:</strong></p>\n<ul>\n<li>The morphology of the QRS complex / ST segment is variously described as either &ldquo;slurred&rdquo;, &ldquo;sagging&rdquo; or &ldquo;scooped&rdquo; and resembling either a &ldquo;reverse tick&rdquo;, &ldquo;hockey stick&rdquo; or &ldquo;Salvador Dali&rsquo;s moustache&rdquo;.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4cb28c06e60e495dae0fb1b9131d27e5.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Exclamation mark hair as shown in the image below is commonly seen in",
    "choices": [
      {
        "id": 1,
        "text": "Alopecia areata"
      },
      {
        "id": 2,
        "text": "Telogen effluvium"
      },
      {
        "id": 3,
        "text": "Netherton syndrome"
      },
      {
        "id": 4,
        "text": "Cicatricial alopecia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>The exclamation mark hair is the characteristic feature seen in <strong>Alopecia areata.</strong></li>\n<li><strong>Alopecia areata</strong> is a <strong>chronic inflammatory disease</strong> which causes <strong>non scarring patches</strong> of hair loss.</li>\n<li>It is a T<strong>-cell mediated inflammatory disease</strong> which occurs in <strong>genetically predisposed patients.</strong></li>\n<li>The most characteristic lesion initially is a <strong>smooth circumscribed patch</strong> <strong>of alopecia</strong> which has <strong>short extractable broken hairs</strong> called as <strong>exclamation mark hair.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ae577bf76b4c4f17aad538e1e22adc91.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 30 years old male presents with continuous discomfort in the right hypochondrium and on examination shows presence of enlarged liver 8cm below the costal margins. The image below shows CT radiograph. The probable diagnosis is",
    "choices": [
      {
        "id": 1,
        "text": "Amoebic liver abscess"
      },
      {
        "id": 2,
        "text": "Pyogenic Liver abscess"
      },
      {
        "id": 3,
        "text": "Hydatid cyst"
      },
      {
        "id": 4,
        "text": "Hepatic adenoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows <strong>CT scan of the liver</strong> with <strong>hydatid cyst\u00a0seen as a\u00a0hypodense lesion with internal septation</strong>.</p>\n<p>Hydatid cysts result from infection by the Echinococcus, and can result in cyst formation anywhere in the body.</p>\n<p><strong>Causative agent:</strong></p>\n<p>There are two main <strong>strains</strong> which include:</p>\n<ol>\n<li>Echinococcus granulosus: commoner\n<ul>\n<li>pastoral: dog is a main host; most common form</li>\n<li>sylvatic: wolf is a main host</li>\n</ul>\n</li>\n<li>Echinococcus alveolaris/multilocularis: less common but more invasive; fox is a main host</li>\n</ol>\n<p><strong>Investigation:</strong></p>\n<ul>\n<li>CT examination reveals fluid density cyst, with frequent peripheral focal areas of calcification, usually indicates no active infection if completely circumferential.</li>\n<li>Septation and daughter cysts may be visualised. The water-lily sign indicates a cyst with floating, undulating membrane, caused by a detached endocyst.</li>\n<li>May also show hyperdense internal septa representing a spoke wheel pattern within a cyst.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bb91cf1246f945cdabac2b0f8c1c78e6.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the X-ray radiographic view of skull as shown in the image below",
    "choices": [
      {
        "id": 1,
        "text": "Towne view"
      },
      {
        "id": 2,
        "text": "Schuller's view"
      },
      {
        "id": 3,
        "text": "Water\u2019s view"
      },
      {
        "id": 4,
        "text": "Caldwell\u2019s view"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li><strong>Waters' view </strong>(also known as the <strong>Occipitomental</strong> <strong>view</strong>) is a radiographic view, where an X-ray beam is angled at <strong>45&deg; </strong>to the <strong>orbitomeatal</strong> <strong>line</strong>.</li>\n<li>The rays are passed from behind the head and are perpendicular to the radiographic plate.</li>\n<li>It is commonly used to get a better view of the <strong>maxillary</strong> <strong>sinuses</strong>.</li>\n</ul>\n<p><strong>Structures observed:</strong></p>\n<ul>\n<li>Maxillary sinuses</li>\n<li>Frontal sinuses (oblique view)</li>\n<li>Ethmoidal cells</li>\n<li>Sphenoid sinus (through open mouth)</li>\n<li>Odontoid process (if it is just below the mentum, it confirms adequate extension of the head</li>\n</ul>\n<p>&nbsp;</p>\n<p><strong>Other views:</strong></p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f6aae570cfc348dab5729501a67782c5.PNG"
    ],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/cded914af88a47ac90bf4f030938abddx333x265.PNG",
      "https://cdn1.dailyrounds.org/uploads/b77eed1d161b43199bbfaa7adf4ad05cx363x273.PNG"
    ]
  },
  {
    "text": "Identify the fracture as shown in the X-ray radiograph below",
    "choices": [
      {
        "id": 1,
        "text": "Rolando fracture"
      },
      {
        "id": 2,
        "text": "Bennet\u2019s fracture"
      },
      {
        "id": 3,
        "text": "Barton\u2019s fracture"
      },
      {
        "id": 4,
        "text": "Bosworth fracture"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image shows fracture of the <strong>base of the first metacarpal bone</strong>, commonly known as <strong>Bennet&rsquo;s fracture</strong>.</p>\n<ul>\n<li><strong>Bennet&rsquo;s fracture</strong> is defined as an <strong>intra-articular</strong> two-part fracture of the base of the <strong>first metacarpal bone</strong> which may occur due to<strong> forced abduction</strong> of the first metacarpal.</li>\n<li>When an intra-articular fracture of the 1st metacarpal is comminuted, producing at least three parts, it is referred to as a <strong>Rolando</strong> <strong>fracture</strong> which has a worse prognosis.</li>\n<li>The fracture requires <strong>open reduction and fixation</strong> if there is significant displacement (&gt;3 mm).</li>\n<li>If malunion or non-union occurs, a <strong>pseudoarthrosis</strong> may result.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0b6bfec30b25424d8446ca5ce8c4603f.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the Mapleson\u2019s circuit type, shown in the above image",
    "choices": [
      {
        "id": 1,
        "text": "Type A"
      },
      {
        "id": 2,
        "text": "Type B"
      },
      {
        "id": 3,
        "text": "Type C"
      },
      {
        "id": 4,
        "text": "Type D"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image shows <strong>Mapleson\u2019s Type B</strong> breathing circuit.</p>\n<p><strong>Mapleson\u2019s breathing systems</strong> are used for delivering <strong>oxygen</strong> and <strong>anesthetic</strong> <strong>agents</strong> and to eliminate <strong>carbon</strong> <strong>dioxide</strong> during anesthesia. They consist of different <strong>components</strong>: Fresh gas flow, reservoir bag, breathing tubes, expiratory valve, and patient connection. There are six types of Mapleson\u2019s circuits denoted by A \u2013 F.</p>",
    "explanation_video": "",
    "question_images": [
      "https://daily-rounds-staging.s3.amazonaws.com/uploads/e80fea9014b9452890de386e58b5b76a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/041c80b1aeb049c19e7412b507ebda17x1280x4494.JPEG"
    ]
  },
  {
    "text": "In which of the following conditions, the characteristic appearance marked by arrows, is seen as shown in the MRI image below",
    "choices": [
      {
        "id": 1,
        "text": "Metastases"
      },
      {
        "id": 2,
        "text": "Neurocysticercosis"
      },
      {
        "id": 3,
        "text": "Multiple sclerosis"
      },
      {
        "id": 4,
        "text": "Intracranial Haemorrhage"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows ovoid lesions with their long axis perpendicular to the ventricular surface called <strong>Dawson</strong> <strong>fingers</strong> (white arrows) which are characteristically seen in <strong>multiple</strong> <strong>sclerosis.</strong></p>\n<p>Multiple sclerosis (MS) is considered to be autoimmune in origin and is the <strong>most common </strong>demyelinating disease.</p>\n<p><strong>MRI</strong> is the <strong>study of choice</strong> in imaging multiple sclerosis because of its greater sensitivity than computed tomography in demonstrating plaques, both in the brain and spinal cord.</p>",
    "explanation_video": "",
    "question_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e595ca3ec8314ddc851428efe3eafe9ax512x357.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following maneuver is shown in the image below",
    "choices": [
      {
        "id": 1,
        "text": "Ritzen"
      },
      {
        "id": 2,
        "text": "Loveset"
      },
      {
        "id": 3,
        "text": "Pinard"
      },
      {
        "id": 4,
        "text": "Burns Marshall"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>The above image shows <strong>Pinard&rsquo;s Maneuver</strong> which is used in the management of <strong>frank breech</strong>.</li>\n<li>The <strong>Pinard maneuver</strong> may be needed with a frank breech to facilitate delivery of the legs, only after the fetal umbilicus has been reached. Pressure is exerted against the inner aspect of the knee. Flexion of the knee follows, and the lower leg is swept medially and out of the vagina.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/93e94517ccff4d32bb910013bf25112d.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/759e8a3232cf483983840571cd2d4a06x1280x2340.JPEG"
    ]
  },
  {
    "text": "\u201cNESTROFT\u201d screening method as shown in the image below is performed for which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Megaloblastic anemia"
      },
      {
        "id": 2,
        "text": "Iron deficiency anemia"
      },
      {
        "id": 3,
        "text": "Alpha thalassemia"
      },
      {
        "id": 4,
        "text": "Beta thalassemia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>&ldquo;NESTROFT&rdquo; (Naked Eye Single Tube Red Cell Osmotic Fragility Test) </strong>is a useful screening tool in the diagnosis of <strong>beta thalassemia trait.</strong></li>\n<li>The principle of <strong>NESTROFT</strong> is based on the limit of <strong>hypotonicity</strong> which the red cell can withstand.&nbsp;</li>\n<li>In this procedure 2 ml of 0.36% buffered saline is taken in a test tube, 20ml of whole blood is added to it, and is allowed to stand at room temperature.</li>\n<li>After 20 minutes reading is taken on a NESTROFT stand on which a thin black line is marked.</li>\n<li>If the line is visible through the solution, the test is considered as negative and if line is not visible it is considered as positive.</li>\n<li>Positive test is due to the reduced osmotic fragility of red cells.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7b452f687af64ecfa542ceaa32134e48.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The corneal ulcer seen after fluorescein staining as shown in the image below is caused by",
    "choices": [
      {
        "id": 1,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 2,
        "text": "Aspergillus"
      },
      {
        "id": 3,
        "text": "Candida"
      },
      {
        "id": 4,
        "text": "Herpes simplex"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>The above image shows <strong>dendritic</strong> <strong>corneal</strong> <strong>ulcer</strong> which is characteristically seen in <strong>herpetic</strong> <strong>simplex</strong> <strong>keratitis</strong>.</li>\n<li>Herpetic simplex keratitis, also known as herpetic keratoconjunctivitis and herpesviral keratitis, is a form of keratitis caused by <strong>recurrent herpes simplex virus (HSV) infection</strong> in the cornea</li>\n</ul>\n<p><strong>Signs &amp; Symptoms:</strong></p>\n<ul>\n<li>Classic herpetic lesion consists of a linear branching corneal ulcer (<strong>dendritic</strong> <strong>ulcer</strong>).</li>\n<li>Patients with epithelial keratitis complain of <strong>foreign</strong>-<strong>body</strong> <strong>sensation</strong>, <strong>light</strong> <strong>sensitivity</strong>, redness and blurred vision associated with Focal or diffuse reduction in corneal sensation.</li>\n<li>In immune deficient patients or with the use of corticosteroids the ulcer may become large and in these cases it is called <strong>geographic</strong> <strong>ulcer</strong>.</li>\n<li>Stromal keratitis manifests as a <strong>disc</strong>-<strong>shaped</strong> area of <strong>corneal</strong> <strong>edema</strong>.</li>\n</ul>\n<p><strong>Treatment:</strong></p>\n<ul>\n<li><strong>Trifluridine</strong> 1% drops four times a day, or <strong>acyclovir</strong> 3% ointment five times a day, or 3% <strong>vidarabine</strong> ointment five times a day for 2 weeks.</li>\n<li>Topical antibiotics to prevent secondary bacterial infection.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bd69ea5b9fef4a81a09f7a0eb171fe5a.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The suprahyoid muscles marked as A, B, C and D in the image below are respectively",
    "choices": [
      {
        "id": 1,
        "text": "Digastric, Geniohyoid, Stylohyoid, Mylohyoid"
      },
      {
        "id": 2,
        "text": "Stylohyoid, Mylohyoid, Geniohyoid, Digastric"
      },
      {
        "id": 3,
        "text": "Digastric, Mylohyoid, Stylohyoid, Geniohyoid"
      },
      {
        "id": 4,
        "text": "Geniohyoid, Digastric, Mylohyoid, Stylohyoid"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The suprahyoid muscles marked as A, B, C and D in the image below are <strong>Geniohyoid, Digastric, Mylohyoid, and Stylohyoid</strong> respectively.</p>\n<ul>\n<li>The <strong>suprahyoid</strong> <strong>muscles</strong> are four muscles located above the hyoid bone in the neck.</li>\n<li>They are all <strong>pharyngeal</strong> <strong>muscles</strong>, with the exception of the geniohyoid muscle.</li>\n<li>These four muscles have different actions, but in general assist in <strong>elevating</strong> <strong>the</strong> <strong>hyoid</strong> <strong>bone</strong> and widening the esophagus during swallowing.</li>\n</ul>\n<p><strong>Digastric muscle:</strong></p>\n<ul>\n<li>The <strong>digastric</strong> <strong>muscle</strong> has two bellies, anterior and posterior.</li>\n<li>The <strong>posterior</strong> <strong>belly</strong> rises from the mastoid process of the cranium and slopes downward and forward.</li>\n<li>The <strong>anterior</strong> <strong>belly</strong> arises from the mastoid notch on the inner surface of the mandibular body, which slopes downward and backward.</li>\n<li>The two bellies connect at the intermediate tendon.</li>\n<li>The intermediate tendon passes through a connective tissue loop attached to the hyoid bone.</li>\n<li><strong>Action: </strong>When the two bellies of the digastric contract, they pull upward on the hyoid bone; but if the hyoid is fixed from below, the digastric assists in opening of mouth as in yawning.</li>\n</ul>\n<p><strong>Mylohyoid Muscle:</strong></p>\n<ul>\n<li>The mylohyoid muscles are thin, flat muscles that form a sling inferior to the tongue supporting the floor of the mouth.</li>\n<li><strong>Action: </strong>The mylohyoid elevates the hyoid bone, tenses the floor of the mouth.</li>\n</ul>\n<p><strong>Geniohyoid Muscle:</strong></p>\n<ul>\n<li>The geniohyoid are short, narrow muscles that come into contact each other in the midline.</li>\n<li><strong>Action: </strong>The Geniohyoid pulls the hyoid bone antero superiorly, shortening the floor of the mouth and widening the pharynx during swallowing.</li>\n</ul>\n<p><strong>Stylohyoid Muscle:</strong></p>\n<ul>\n<li>The stylohyoid are long, thin muscles that are nearly parallel with the posterior belly of the digastric muscle.</li>\n<li><strong>Action: </strong>The Stylohyoid elevates and retracts the hyoid bone, elongating the floor of the mouth during swallowing.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/89c9f2812cde4c239f6ec54465079534.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following points, denotes popliteal vein as marked in the image below of the popliteal fossa?",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "C"
      },
      {
        "id": 3,
        "text": "D"
      },
      {
        "id": 4,
        "text": "B"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The structures marked as <strong>A</strong>, <strong>B</strong>, <strong>C</strong> and <strong>D</strong> in the above image are <strong>Tibial nerve</strong>, <strong>Popliteal Vein</strong>, <strong>Popliteal artery</strong> and <strong>Common perineal nerve</strong> respectively.</p>\n<p>The <strong>popliteal</strong> <strong>fossa</strong> is a diamond-shaped area found on the posterior side of the knee.</p>\n<p>Its contents are (<strong>medial to lateral</strong>):</p>\n<ul>\n<li>Popliteal artery</li>\n<li>Popliteal vein</li>\n<li>Tibial nerve</li>\n<li>Common peroneal nerve (common fibular nerve)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bed7cd5f60994ec7adc733bf53ec7f62.PNG"
    ],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/c0c041d4bdf74742b68098761fcfef2cx642x399.PNG"
    ]
  },
  {
    "text": "Which of the following drugs acts on the following stage of malarial parasite?",
    "choices": [
      {
        "id": 1,
        "text": "Halofantrine"
      },
      {
        "id": 2,
        "text": "Primaquine"
      },
      {
        "id": 3,
        "text": "Clindamycin"
      },
      {
        "id": 4,
        "text": "Atovaquone"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image shows <strong>banana</strong>&nbsp;shaped <strong>gametocyte</strong> stage <strong>of P. Falciparum.</strong></p>\n<p>The antimalarial drugs which have gametocidal properties, include <strong>Chloroquine and Primaquine.</strong></p>\n<p>Primaquine, is primarily used as a tissue schizonticide for the purpose of reducing the likelihood of relapse due to hypnozoites of P. vivax and P. ovale. It is also a potent gametocidal drug.</p>\n<p><strong>Chloroquine</strong> acts primarily against erythrocytic asexual stages, although it has gametocidal properties.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b10900bb88ee4545b38503a52f486aff.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Stormy fermentation of lactose is caused by",
    "choices": [
      {
        "id": 1,
        "text": "Bacillus anthracis"
      },
      {
        "id": 2,
        "text": "Streptococcus pyogenes"
      },
      {
        "id": 3,
        "text": "Clostridium perfringens"
      },
      {
        "id": 4,
        "text": "Pneumococcus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>In litmus milk, fermentation of lactose leads to formation of acid.</li>\n<li>This acid coagulates the casein and the clotted milk is disrupted due to vigorous gas production.</li>\n<li>The paraffin plug is pushed up and shreds of clot are seen sticking to the sides of the tube.</li>\n<li>This is known as &ldquo;<strong>Stormy fermentation</strong>&rdquo; which is shown by <strong>clostridium</strong> <strong>perfringens</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient died due to a stroke. Family members decide to donate the cadaver to the anatomy department of the medical college. During dissection of the cadaver, a resected specimen of the kidney appears as shown in the image below. What would be the likely disease that the patient has suffered from?",
    "choices": [
      {
        "id": 1,
        "text": "Chronic glomerulonephritis"
      },
      {
        "id": 2,
        "text": "Renal amyloidosis"
      },
      {
        "id": 3,
        "text": "Malignant hypertension"
      },
      {
        "id": 4,
        "text": "Acute pyelonephritis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows the\u00a0gross specimen of a kidney showing small petechial hemorrhages on the cortical surface that gives a <strong>flea-bitten appearance</strong> to the kidneys, which is characteristically seen in <strong>malignant hypertension</strong>.</p>\n<p>Pathophysiology of malignant hypertension\u00a0</p>\n<ul>\n<li>Vascular damage (due to chronic hypertension, arthritis, and coagulopathy) increases the permeability of small vessels to fibrinogen and other plasma proteins.</li>\n<li>This causes endothelial injury and platelet deposition, which causes fibrinoid necrosis.</li>\n<li>Kidneys become ischemic, which stimulates the renin-angiotensin system to produce angiotensin II;\u00a0angiotensin II, in turn, causes renal vasoconstriction\u00a0as well as increased aldosterone secretion and salt retention, which elevate the blood pressure even further.</li>\n<li>This may be related to increased TRPC3 expression in the vascular endothelium.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/78c9e726e3ee4e7e9da50d40e3d9e6f1.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Post mortem lividity as shown in the photograph below is due to poisoning by _____",
    "choices": [
      {
        "id": 1,
        "text": "Hydrogen sulphide"
      },
      {
        "id": 2,
        "text": "Nitrate"
      },
      {
        "id": 3,
        "text": "Carbon monoxide"
      },
      {
        "id": 4,
        "text": "Phosphorus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above photograph shows <strong>postmortem</strong> <strong>lividity</strong> with bright <strong>cherry red</strong> <strong>discolouration</strong> seen in <strong>Carbon</strong> <strong>monoxide</strong> <strong>poisoning</strong>.</p>\n<ul>\n<li><strong>Post</strong> <strong>mortem</strong> <strong>lividity</strong> or <strong>hypostasis</strong> or <strong>Livor</strong> <strong>mortis</strong> is the settling of blood under the influence of gravity which develops in the early post mortem interval.</li>\n<li>Livor mortis <strong>starts in 20\u201330 minutes</strong>, but is usually not observable by the human eye until two hours after death. The size of the patches increases in the next three to six hours.</li>\n<li>Lividity is said to become fixed between 8 and 12 hours after death, causing a <strong>purplish</strong> <strong>red</strong> <strong>discoloration</strong> of the skin.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/766c05222e1b4a69971f97c8ad3e15f2.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is the diagnosis based on the image given below?",
    "choices": [
      {
        "id": 1,
        "text": "Selenosis"
      },
      {
        "id": 2,
        "text": "Plumbism"
      },
      {
        "id": 3,
        "text": "Fluorosis"
      },
      {
        "id": 4,
        "text": "Lathyrism"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image is diagnostic of <strong>Dental</strong> <strong>fluorosis</strong>.</p>\n<p><strong>Dental fluorosis</strong> (also termed <strong>mottled</strong> <strong>enamel</strong>) is an extremely common disorder, characterized by <strong>hypomineralization</strong> of <strong>tooth</strong> <strong>enamel</strong> caused by ingestion of excessive fluoride during enamel formation.</p>\n<p><strong>Mechanism</strong>:</p>\n<ul>\n<li>In the extra-cellular environment of maturing enamel, an excess of <strong>fluoride</strong> <strong>ions</strong> alters the rate at which <strong>enamel matrix proteins</strong> (<strong>amelogenin</strong>) are enzymatically broken down and the rate at which the subsequent breakdown products are removed.</li>\n<li>Fluoride may also indirectly alter the action of <strong>protease</strong> via a decrease in the availability of free calcium ions in the mineralization environment.</li>\n<li>This results in the formation of enamel with <strong>less</strong> <strong>mineralization</strong>.</li>\n<li>This hypomineralized enamel has altered optical properties and appears opaque and lustreless relative to normal enamel.</li>\n</ul>\n<p><strong>Classification</strong>:</p>\n<p>The two main classification systems which are used in the grading of severity of dental fluorosis are Dean&rsquo;s system and TF system.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0eb42a8cf47247d7b6c9046a62a8359f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the condition shown in the image below",
    "choices": [
      {
        "id": 1,
        "text": "Geographical tongue"
      },
      {
        "id": 2,
        "text": "Leukoplakia"
      },
      {
        "id": 3,
        "text": "Lingua villosa nigra"
      },
      {
        "id": 4,
        "text": "Glossitis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows <strong>Black hairy tongue</strong> (BHT, also termed <strong>lingua villosa nigra</strong>).</p>\n<ul>\n<li><strong>BHT</strong> refers to a condition of the tongue where the <strong>filiform</strong> <strong>papillae</strong> elongate with black or brown discoloration, giving a black and hairy appearance. The appearance may be alarming, but it is a harmless condition.</li>\n<li>Predisposing factors include <strong>smoking</strong>, xerostomia (dry mouth), soft diet, poor oral hygiene and certain medications (eg. <strong>Tetracyclines</strong>).</li>\n</ul>\n<p><strong>Signs and Symptoms:</strong></p>\n<ul>\n<li>Hairy tongue largely occurs in the <strong>central</strong> <strong>part</strong> of the <strong>dorsal</strong> <strong>tongue</strong>, just anterior (in front) of the circumvallate papillae, although sometimes the entire dorsal surface may be involved.</li>\n<li>Patients may experience a <strong>gagging</strong> <strong>sensation</strong> or a bad taste.</li>\n<li>There may also be associated oral <strong>malodour</strong> (<strong>intra</strong>-<strong>oral</strong> <strong>halitosis</strong>).</li>\n</ul>\n<p><strong>Treatment:</strong></p>\n<ul>\n<li>Management is by improving <strong>oral</strong> <strong>hygiene</strong>, especially scraping or brushing the tongue.</li>\n<li><strong>Keratolytic</strong> <strong>agents</strong> (chemicals to remove keratin) such as podophyllin are successful.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/72265c4cb0f4499b8cea9ebce6f721f9.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 5-year-old boy presents with lesions as shown in the image below. Which of the following is false regarding his condition?",
    "choices": [
      {
        "id": 1,
        "text": "There is perifollicular hyperkeratosis and keratotic papules"
      },
      {
        "id": 2,
        "text": "It is associated with liver cirrhosis and alcohol abuse"
      },
      {
        "id": 3,
        "text": "It can be seen in patients after bariatric surgery"
      },
      {
        "id": 4,
        "text": "It is\u00a0predominantly associated with a deficiency of\u00a0vitamin D"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above image shows <strong>phrynoderma</strong> or <strong>toad</strong> <strong>skin</strong>. All the statements except statement 4 are true. Phrynoderma is predominantly associated with a deficiency of&nbsp;<strong>Vitamin A</strong>.&nbsp;&nbsp;</p>\n<p>Phrynoderma (<strong>toad skin</strong>) is common in children in the 5 - 15 year age group. Phrynoderma is not specific to vitamin A deficiency, it is also seen in other nutritional deficiencies including&nbsp;<strong>B complex</strong>,&nbsp;<strong>ribofla&shy;vin, vitamin C, vitamin E, essential fatty acids,&nbsp;</strong>and<strong>&nbsp;malnutrition.</strong></p>\n<p>It is a non-specific finding that can be associated with:&nbsp;</p>\n<div class=\"page\" title=\"Page 2188\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>&bull; <strong>Liver cirrhosis.</strong><br />&bull; Malabsorption syndromes.<br />&bull; Anorexia nervosa.<br />&bull; <strong>Alcohol abuse</strong>.<br />&bull; Nutritional deficiency<strong> following bariatric surgery.</strong></p>\n</div>\n</div>\n</div>\n</div>\n<p>It manifests as&nbsp;<strong>groups of papules</strong>, with a&nbsp;<strong>central keratotic plug</strong>.&nbsp;The papules have a&nbsp;<strong>follicular distribution</strong>&nbsp;and give the skin a rough texture.&nbsp;The&nbsp;<strong>elbows</strong>&nbsp;and<strong>&nbsp;knees</strong>&nbsp;are the<strong>&nbsp;most commonly</strong>&nbsp;affected areas but the buttocks and extensor surfaces of the limbs may also be affected.</p>\n<p>All patients with phrynoderma should have their Vitamin A levels measured.&nbsp;</p>\n<p>Treatment involves the correction of poor diet and administration of&nbsp;<strong>multivitamin</strong>&nbsp;preparations containing Vitamin A.&nbsp;<br /><strong>For children above 8 years and adults</strong> - 100,000 units daily for 3 days, followed by 50,000 units daily for 2 weeks and then 10,000 units daily for 2 months till liver stores are replenished.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0a1bbd15ea4241249aa42e799d0ba839.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the condition based on the X-ray image shown below.",
    "choices": [
      {
        "id": 1,
        "text": "Midgut volvulus"
      },
      {
        "id": 2,
        "text": "Paralytic ileus"
      },
      {
        "id": 3,
        "text": "Caecal volvulus"
      },
      {
        "id": 4,
        "text": "Sigmoid volvulus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above X-ray radiograph shows the characteristic &lsquo;<strong>coffee bean appearance&rsquo; </strong>seen in <strong>sigmoid volvulus</strong>.</p>\n<p>Sigmoid volvulus is a cause of <strong>large bowel obstruction</strong> and occurs when the sigmoid colon twists on the sigmoid mesocolon.&nbsp;Symptoms include constipation, abdominal bloating, nausea, and/or vomiting. Onset may be acute or chronic.</p>\n<p><strong>Investigations:</strong></p>\n<ul>\n<li><strong>X-ray abdomen</strong> will show a large, dilated loop of the colon, often with a few air-fluid levels. Specific signs include:\n<ul>\n<li><strong>Coffee bean sign</strong></li>\n<li>Frimann Dahl's sign - three dense lines converge towards the site of obstruction</li>\n<li>Absent rectal gas</li>\n</ul>\n</li>\n<li><strong>CT</strong> may reveal a large gas-filled loop without haustral markings, forming a closed-loop obstruction\n<ul>\n<li>Whirl sign: twisting of the mesentery and mesenteric vessels</li>\n<li>Bird's beak sign: if rectal contrast has been administered</li>\n</ul>\n</li>\n</ul>\n<p><strong>Treatment and prognosis:</strong></p>\n<p><strong>Rectal tube</strong> insertion is successful in treating 90% of cases. The most serious <strong>complication</strong> is <strong>bowel</strong> <strong>ischemia.</strong></p>\n<p>Other options:</p>\n<p><strong>Midgut volvulus</strong> shows <strong>corkscrew</strong> appearance on barium study. The spiral appearance of the distal duodenum and proximal jejunum is responsible for the corkscrew appearance.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fc6a82ab1991489f9211fd04e1979973.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0d76e724b61d4149857ef09334f3e67bx720x483.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2b334bc9e29748279b03ee681ec6c286x709x599.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7bc8c2b4ad6e4071a517011839c1bbe0x512x568.PNG"
    ]
  },
  {
    "text": "The urinary bladder shown in the MCU image below is diagnostic of _______.",
    "choices": [
      {
        "id": 1,
        "text": "Bladder diverticula"
      },
      {
        "id": 2,
        "text": "Cystic pelvic mass"
      },
      {
        "id": 3,
        "text": "Neurogenic bladder"
      },
      {
        "id": 4,
        "text": "Vesico ureteric reflux"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows <strong>pine cone bladder</strong> or <strong>Christmas tree bladder</strong>, in which the bladder is elongated and pointed with a thickened trabeculated wall. It is typically seen in <strong>severe neurogenic bladder.</strong></p>\n<p><strong>Neurogenic bladder</strong> is a term applied to a dysfunctional urinary bladder that results from an injury to the central or peripheral nerves that control and regulate urination.</p>\n<p>There are five types of neurogenic bladder based on the site of the\u00a0lesion.</p>\n<ol>\n<li><strong>Sensory neurogenic bladder</strong>: Posterior columns of the spinal cord or afferent tracts leading from the bladder</li>\n<li><strong>Motor paralytic bladder</strong>: Damage to motor neurons of the bladder</li>\n<li><strong>Uninhibited neurogenic bladder:</strong>\u00a0Incomplete spinal cord lesions above s2 or cerebral cortex or cerebropontine axis lesions</li>\n<li><strong>Reflex neurogenic bladder</strong>: Complete spinal cord lesions above s2 - may lead to pine cone bladder</li>\n<li><strong>Autonomous neurogenic bladder</strong>: Conus or cauda equina lesions</li>\n</ol>\n<p>\u00a0</p>\n<p><strong>Note</strong>:</p>\n<p>Occasionally, Christmas tree bladder is also seen in <strong>bladder neck obstruction</strong> of a non-neurogenic cause.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/69380bc092ae416c87e3ba99df7bbe01.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old girl was brought with complaints of premature development of breast buds. The sagittal MRI of the brain revealed a hypothalamic hamartoma. All of the following are used in the treatment of this patient, except _____.",
    "choices": [
      {
        "id": 1,
        "text": "GnRH agonist"
      },
      {
        "id": 2,
        "text": "Medroxyprogesterone"
      },
      {
        "id": 3,
        "text": "GnRH antagonist"
      },
      {
        "id": 4,
        "text": "Cyproterone acetate"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario is suggestive of <strong>central precocious puberty</strong>. <strong>GnRH antagonists</strong> are<strong> not</strong> <strong>used</strong> in the treatment of this patient.</p>\n<p>Precocious puberty is defined as the appearance of any of the <strong>secondary sexual characteristics</strong> <strong>before</strong> the age of<strong> 8 years</strong> or the occurrence of menarche before the age of 10 years in girls.</p>\n<p>There are<strong> two</strong> <strong>types</strong> of precocious puberty:</p>\n<ul>\n<li>Central/GnRH-dependent precocious puberty</li>\n<li>Peripheral/GnRH-independent precocious puberty</li>\n</ul>\n<p><strong>Hypothalamic</strong> <strong>hamartomas</strong> are a neuronal migration defect that is the<strong> common</strong> cause of organic central precocious puberty. These lesions are believed to cause precocious puberty through the endogenous pulsatile release of GnRH, either independently or in concert with the GnRH-secreting neurons of the hypothalamus.&nbsp;</p>\n<p>Treatment of central precocious puberty:</p>\n<ul>\n<li aria-level=\"1\"><strong>GnRH agonists</strong>&nbsp;(depot-forms or implants) are the treatment of choice for tumor-induced central precocious puberty.</li>\n<li aria-level=\"1\">Inj. depot<strong> medroxyprogesterone acetate</strong> (DMPA) 100&ndash;200 mg, IM every 2&ndash;4 weeks to induce regression of these premature changes and cessation of menstruation.</li>\n<li aria-level=\"1\"><strong>Cyproterone acetate</strong> exerts antiandrogenic and antigonadotropin effects and is effective in treatment.</li>\n<li>In patients with hypothalamic hamartoma and associated intractable&nbsp;<strong>gelastic or psychomotor seizures</strong>, stereotactic radiation therapy (<strong>gamma knife surgery</strong>) is more effective and has fewer risks than neurosurgical intervention.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the condition as shown below in the X-ray radiograph of a neonate",
    "choices": [
      {
        "id": 1,
        "text": "Pneumomediastinum"
      },
      {
        "id": 2,
        "text": "Cystic fibrosis"
      },
      {
        "id": 3,
        "text": "Congenital diaphragmatic hernia"
      },
      {
        "id": 4,
        "text": "Bronchiolitis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>This rare anterior defect of the diaphragm is commonly referred to as Morgagni, retrosternal, or parasternal hernia. The above X-ray radiograph shows <strong>congenital diaphragmatic hernia</strong>. Note the presence of bowel loops in the chest and absence of bowel loops in the abdomen.</p>\n<ul>\n<li><strong>Congenital diaphragmatic hernia (CDH) </strong>is a birth defect of the diaphragm.</li>\n<li>The most common type of CDH is a <strong>Bochdalek</strong> <strong>hernia</strong>; other types include <strong>Morgagni</strong> <strong>hernia</strong>, <strong>diaphragm</strong> <strong>eventration</strong> and <strong>central</strong> <strong>tendon</strong> <strong>defects</strong> of the diaphragm.</li>\n<li>Malformation of the diaphragm allows the abdominal organs to push into the chest cavity, hindering proper lung formation.</li>\n<li><strong>CDH</strong> is a life-threatening pathology in infants and a major cause of death due to two complications: <strong>pulmonary</strong> <strong>hypoplasia</strong> and <strong>pulmonary</strong> <strong>hypertension</strong>.</li>\n</ul>\n<p><strong>Bochdalek hernia:</strong></p>\n<ul>\n<li>The Bochdalek hernia, also known as a postero-lateral diaphragmatic hernia, is the <strong>most common manifestation of CDH</strong>, accounting for more than 95% of cases.</li>\n<li>In this instance the diaphragm abnormality is characterized by a <strong>hole</strong> in the <strong>postero-lateral corner of the diaphragm</strong> which allows passage of the abdominal viscera into the chest cavity.</li>\n</ul>\n<p><strong>Morgagni hernia:</strong></p>\n<ul>\n<li>This rare anterior defect of the diaphragm is commonly referred to as Morgagni, retrosternal, or parasternal hernia.</li>\n<li>It accounts for approximately 2% of all CDH cases, and is characterized by herniation through the <strong>foramina of Morgagni</strong> which are located immediately adjacent and posterior to the xiphoid process of the sternum.</li>\n</ul>\n<p><strong>Diaphragm eventration:</strong></p>\n<ul>\n<li>Diaphragmatic eventration refers to an abnormal contour of the diaphragmatic dome.</li>\n<li>Elevation of the affected portion of the diaphragm is usually seen as a smooth hump, while the remainder of the hemidiaphragm contour is normal.</li>\n<li>This rare type of CDH occurs because in the region of eventration the diaphragm is thinner, allowing the abdominal viscera to protrude upwards.</li>\n</ul>\n<p><strong>Treatment:</strong></p>\n<ul>\n<li>The first step in management is orogastric tube placement and securing the airway (intubation).</li>\n<li>The baby will usually be immediately placed on a <strong>ventilator</strong>.</li>\n<li><strong>Extracorporeal membrane oxygenation (ECMO)</strong> has been used as part of the treatment strategy in some cases.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b84a616cc2c948cbb41c7945668fcded.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the type of cataract shown in the image below:",
    "choices": [
      {
        "id": 1,
        "text": "Intumescent cataract"
      },
      {
        "id": 2,
        "text": "Cuneiform cataract"
      },
      {
        "id": 3,
        "text": "Cupuliform cataract"
      },
      {
        "id": 4,
        "text": "Morgagnian cataract"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The cataract shown in the image is a <strong>morgagnian cataract</strong> which is identified<strong> </strong>by the presence of <strong>descent</strong> of the <strong>brown nucleus </strong>and<strong> emulsification of the cortex.</strong></p>\n<p><strong>Morgagnian cataract</strong> is a form of <strong>hypermature</strong> <strong>senile</strong> <strong>cataract</strong> formed by <strong>liquefaction</strong> <strong>of</strong> the <strong>cortex</strong> and <strong>sinking</strong> of the <strong>dense</strong> <strong>nucleus</strong> to the bottom of the capsular bag. The <strong>liquefied</strong> <strong>cortex</strong> is milky, and the nucleus is usually seen as a <strong>brown</strong> <strong>mass</strong> limited above by a semicircular line. <strong>Changes</strong> in the <strong>position</strong> <strong>of</strong> the <strong>head</strong> cause <strong>alteration</strong> <strong>of</strong> the <strong>position</strong> of the nucleus.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d0a37cbcb36a45268c1446dbd81df6ac.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 75 year old man, who was on a tapering dose of methylprednisolone presented with complaints of non productive cough and chest pain. A chest CT scan revealed heterogeneous consolidation in the left upper lobe with cavitation. A biopsy showed the presence of a fungus, as seen in the image below. Voriconazole was started empirically for the infection. Identify the fungus based on its microscopic appearance:",
    "choices": [
      {
        "id": 1,
        "text": "Aspergillus fumigatus"
      },
      {
        "id": 2,
        "text": "Aspergillus flavus"
      },
      {
        "id": 3,
        "text": "Aspergillus niger"
      },
      {
        "id": 4,
        "text": "Penicillium"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario of a fungal respiratory infection in a patient taking corticosteroids along with the biopsy findings is suggestive of i<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">nvasive aspergillosis caused by <strong>Aspergillus niger.</strong></span></p>\n<p>The microscopic appearance of <strong>Aspergillus niger\u00a0</strong>is characterized by:</p>\n<ul>\n<li>The vesicle is globular shaped</li>\n<li>Phialides are in<strong> two rows</strong></li>\n<li>Conidia arise from the entire vesicle and are <strong>black</strong></li>\n</ul>\n<div class=\"page\" title=\"Page 712\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Invasive disease may develop as an acute pneumonic process following the inhalation and germination of these conidia. Patients at risk for i<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">nvasive aspergillosis</span> are</p>\n<ul>\n<li>lymphocytic or myelogenous <strong>leukemia</strong> and <strong>lymphoma</strong></li>\n<li><strong>stem cell transplant</strong> recipients</li>\n<li>individuals taking <strong>corticosteroids</strong></li>\n<li><strong>AIDS</strong> patients with CD4 cell counts less than 50 CD4 cells/\u03bcL</li>\n</ul>\n<p>Patients may present with fever, <strong>cough</strong>, dyspnea, and <strong>hemoptysis</strong>. Hyphae may <strong>invade</strong> the lumens and walls of blood vessels leading to thrombosis, infarction, and necrosis. R<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">apid administration of native or lipid formulation of <strong>amphotericin B</strong> or <strong>voriconazole</strong> is indicated in these cases.</span></p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Other options:</span></p>\n<p><strong>Option A: Aspergillus fumigatus</strong></p>\n<ul>\n<li>Vesicle is <strong>conical</strong> or <strong>flask</strong> shaped.</li>\n<li>Phialides are arranged in a<strong> single row.</strong></li>\n<li>Conidia arise from<strong> upper third of the vesicle</strong>, and are <strong>hyaline</strong>.</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d9aa932030944fe58831109c1bc75e4e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b67117809ebb429e8055514f44a45151x250x167.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a97be645f58e42b78d5b157e435f191dx600x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/307a3c43b25c42ffafdc24f8c0b2446dx886x1200.JPEG"
    ]
  },
  {
    "text": "The structure marked by the arrow is seen in which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "AML"
      },
      {
        "id": 2,
        "text": "ALL"
      },
      {
        "id": 3,
        "text": "CLL"
      },
      {
        "id": 4,
        "text": "CML"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above image shows <strong>Auer</strong> <strong>Rods</strong> which are characteristically seen in <strong>AML</strong>.</p>\n<ul>\n<li><strong>Auer</strong> <strong>rods</strong> are clumps of <strong>azurophilic</strong> <strong>granular</strong> <strong>material</strong> that appear as <strong>elongated</strong> <strong>needles</strong>, seen in the cytoplasm of leukemic blasts.</li>\n<li>They can be seen in the leukemic blasts of <strong>acute</strong> <strong>myeloid</strong> <strong>leukemia</strong> with maturation and acute <strong>promyelocytic</strong> <strong>leukemia</strong> (known as acute myeloid leukemia M2 and M3, in the FAB classification, respectively) and in high-grade <strong>myelodysplastic</strong> <strong>syndromes</strong> and <strong>myeloproliferative</strong> <strong>syndromes</strong>.</li>\n<li><strong>Morphologically</strong>, the Auer \"rods\" come in all sizes and shapes. They have been described as <strong>needle</strong>-<strong>shaped</strong> with pointed ends (most common), <strong>comma</strong>-<strong>shaped</strong>, and <strong>diamond</strong>-<strong>shaped</strong>; others were long and rectangular.</li>\n<li>They are also used to distinguish the pre-leukemia myelodysplastic syndromes: refractory anemia with excess blasts 2 (RAEB2) (which has Auer rods) from RAEB 1 (which does not).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c68db0062d2f4194bf9e7d182d68b1b0.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The emblem shown in the image below represents",
    "choices": [
      {
        "id": 1,
        "text": "National AIDS control programme"
      },
      {
        "id": 2,
        "text": "National Programme for control of blindness"
      },
      {
        "id": 3,
        "text": "National Disaster management programme"
      },
      {
        "id": 4,
        "text": "National Leprosy Eradication programme"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The emblem shown in the above image represents <strong>National Leprosy Eradication programme (NLEP).</strong></p>\n<p><strong>Characteristics of NLEP emblem:</strong></p>\n<ul>\n<li>The&nbsp;<strong>NLEP Emblem</strong>&nbsp;symbolizes beauty and purity in lotus</li>\n<li>Leprosy can be cured and a leprosy patient can be a useful member of the society in the form of a <strong>partially affected thumb</strong>; a <strong>normal fore-finger</strong> and the <strong>shape of house</strong>;</li>\n<li>The symbol of hope and optimism in a <strong>rising</strong> <strong>sun</strong>.</li>\n<li>The Emblem captures the spirit of hope positive action in the eradication of Leprosy.</li>\n</ul>\n<p>The<strong> National Leprosy Eradication Programme</strong> is a centrally sponsored Health Scheme of the Ministry of Health and Family Welfare, Govt. of India.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4fa0b6593a8c4067aad7cca869464486.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The image below shows central catheter place in a patient on MHD. The catheter in this patient is commonly placed at which of the following sites?",
    "choices": [
      {
        "id": 1,
        "text": "Subclavian vein"
      },
      {
        "id": 2,
        "text": "Internal jugular vein"
      },
      {
        "id": 3,
        "text": "Subclavian artery"
      },
      {
        "id": 4,
        "text": "External carotid artery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image shows <strong>tunnelled catheter</strong> which is commonly placed at the <strong>internal jugular vein</strong>.</p>\n<ul>\n<li>For persons on maintenance hemodialysis, tunnelled catheters (either two separate catheters or a single catheter with two lumens) are often used when AV fistulas and grafts have failed or are not feasible due to anatomic considerations.</li>\n<li>These catheters are tunnelled under the skin; the tunnel <strong>reduces bacterial translocation from the skin</strong>, resulting in a lower infection rate than with non-tunnelled temporary catheters.</li>\n<li>Most tunnelled catheters are placed in the <strong>internal jugular veins</strong>; the external jugular, femoral, and subclavian veins may also be used.</li>\n<li>Nephrologists, prefer to avoid placement of catheters into the subclavian.</li>\n<li>Veins as subclavian stenosis is a frequent complication and, if present, will likely prohibit permanent vascular access (i.e., a fistula or graft) in the ipsilateral extremity.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1d237f254fab48fd9b362e8b5b81950d.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The reflex shown in the image below disappears at the age of _____",
    "choices": [
      {
        "id": 1,
        "text": "2 weeks"
      },
      {
        "id": 2,
        "text": "3 weeks"
      },
      {
        "id": 3,
        "text": "4 months"
      },
      {
        "id": 4,
        "text": "never disappears"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image above shows rooting reflex which disappears by the age of 4 months.</p>\n<p>Rooting reflex:</p>\n<ul>\n<li>A reflex that is seen in normal newborn babies, who automatically turn the face toward the stimulus and make sucking (rooting) motions with the mouth when the cheek or lip is touched.</li>\n<li>The rooting reflex helps to ensure successful breastfeeding.</li>\n<li>The reflex <strong>appears at 32 wks,</strong> it becomes less prominent after 1 month of birth and usually <strong>disappears by 3-4 months</strong> of age.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c94d2b71fc3c4eec8173bd382ae87652.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old woman comes to the out-patient with complaints of diminished vision along with floaters and flashes. The ophthalmologist uses the following instrument to assess the retinal lesions. Which of the following statements is true regarding the ophthalmoscopy done using the instrument shown in the image below?",
    "choices": [
      {
        "id": 1,
        "text": "Area of field in focus is 2 disc diameters."
      },
      {
        "id": 2,
        "text": "The image produced is real and inverted."
      },
      {
        "id": 3,
        "text": "Condensing lens is not required."
      },
      {
        "id": 4,
        "text": "Stereopsis is absent."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The instrument shown in the above image is an&nbsp;<strong>indirect</strong> <strong>ophthalmoscope</strong>, and the procedure is known as indirect ophthalmoscopy.</p>\n<p>An indirect<strong> ophthalmoscope</strong>&nbsp;produces an <strong>inverted</strong>, or reversed, <strong>real</strong> <strong>image</strong> of 2 to 5 times magnification.</p>\n<p>The area of field in focus is about 8 disc diameters.</p>\n<p>It is a binocular, self-illuminated device where the&nbsp;<strong>condensing</strong>&nbsp;<strong>lens</strong> is usually <strong>required,</strong> and <strong>stereopsis</strong> is <strong>present</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ce75b266b8fd4162bb9300f50d849ff2.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 73 years old patient with a history of chronic congestive cardiac failure and secondary pulmonary hypertension was admitted in the ICU for severe breathlessness and pedal edema. The patient dies on the 2nd day of admission and an autopsy was done. On examination of abdominal viscera the liver was found to be enlarged with the following appearance on the cross-section of the specimen. False about this condition is:",
    "choices": [
      {
        "id": 1,
        "text": "The pathology here is cirrhosis of liver"
      },
      {
        "id": 2,
        "text": "Hepatojugular reflex may be present"
      },
      {
        "id": 3,
        "text": "There is tender hepatomegaly"
      },
      {
        "id": 4,
        "text": "Diagnosis is based on Clinical evaluation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This is an image of a \"<strong>nutmeg</strong>\" <strong>liver</strong> seen with <strong>chronic</strong> <strong>passive</strong> <strong>congestion</strong> <strong>of the liver</strong>. Note the dark red congested regions that represent the accumulation of RBC's in centrilobular regions.</p>\n<p><strong>Congestive</strong> <strong>hepatopathy</strong> is diffuse venous congestion within the liver that results from right-sided heart failure (usually due to cardiomyopathy, tricuspid regurgitation, mitral insufficiency, cor pulmonale, or constrictive pericarditis).</p>\n<p><strong>Pathogenesis:</strong></p>\n<ul>\n<li>Moderate or severe <strong>right</strong>-<strong>sided</strong> <strong>heart</strong> <strong>failure</strong> causes raised central venous pressure, which is transmitted to the liver via the inferior vena cava and hepatic veins.</li>\n<li><strong>Chronic</strong> <strong>congestion</strong> leads to atrophy of hepatocytes, distention of sinusoids, and centri zonal fibrosis, which, if severe, progresses to cirrhosis (cardiac cirrhosis).</li>\n<li>The basis for liver cell death is probably <strong>sinusoidal</strong> <strong>thrombosis</strong> that propagates to the central veins and branches of the portal vein, causing ischemia.</li>\n</ul>\n<p><strong>Clinical Picture:</strong></p>\n<ul>\n<li>Most patients are asymptomatic.</li>\n<li>However, moderate congestion causes <strong>right upper quadrant discomfort</strong> (due to stretching of the liver capsule) and <strong>tender</strong> <strong>hepatomegaly</strong>.</li>\n<li><strong>Ascites</strong> may result from the transmitted central venous hypertension; infrequently, splenomegaly results.</li>\n<li>With transmitted central venous hypertension, the <strong>hepatojugular</strong> <strong>reflex</strong> is present, unlike in hepatic congestion due to Budd-Chiari syndrome.</li>\n</ul>\n<p><strong>Diagnosis:</strong></p>\n<ul>\n<li>Based on <strong>Clinical</strong> <strong>evaluation</strong></li>\n<li><strong>Congestive</strong> <strong>hepatopathy</strong> is suspected in patients who have right-sided heart failure, jaundice, and tender hepatomegaly.</li>\n<li>Laboratory test results are modestly abnormal: <strong>unconjugated</strong> <strong>hyperbilirubinemia</strong> (total bilirubin &lt; 3 mg/dL), elevated (usually &lt; 2- to 3-fold) aminotransferases, and <strong>prolonged PT/INR</strong>.</li>\n<li><strong>Ascitic</strong> <strong>fluid</strong>, if present, has a high albumin content (typically &gt; 2.5 g/dL); in contrast, only 10% of patients with cirrhotic ascites have ascitic albumin levels that high.</li>\n<li>Because the laboratory abnormalities are nonspecific, recognition of congestive hepatopathy is ultimately clinical.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/38417229599c442f8f38d08d5990a2a6.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The mosquito larvae shown in the image below is",
    "choices": [
      {
        "id": 1,
        "text": "Culex"
      },
      {
        "id": 2,
        "text": "Anopheles"
      },
      {
        "id": 3,
        "text": "Aedes"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>The mosquito larva shown in the above image is <strong>anopheles larva.</strong></li>\n<li>The Anopheles larva is<strong> parallel to the water surface</strong> with a rudimentary breathing tube.</li>\n<li>Whereas, the <strong>culex</strong> and <strong>Aedes</strong> larvae rest at an <strong>angle to the water surface.</strong></li>\n<li>The <strong>culex</strong> <strong>larva</strong> has <strong>short, stout breathing tube</strong> with one pair of hair tufts, whereas the <strong>aedes</strong> <strong>larva</strong> has<strong> long, slender breathing tube</strong> with several pairs of hair tufts.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/67465df4a35c4ed1b88e21863b187b0c.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old woman has a resting heart rate of 70-beats/min. Her pressure-volume diagram of the left ventricle is given below. What is her cardiac output (in mL/min)? (Point 2 corresponds to 120 ml)",
    "choices": [
      {
        "id": 1,
        "text": "2000"
      },
      {
        "id": 2,
        "text": "3000"
      },
      {
        "id": 3,
        "text": "4900"
      },
      {
        "id": 4,
        "text": "7000"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In this case, the patient has a heart rate of 70-beats/min and the stroke volume can be determined from the given pressure-volume diagram.</p>\n<p>Point 2 corresponds to the EDV(End diastolic volume) = 120 mL<br />Point 1 corresponds to the ESV(End systolic volume) = 50 mL</p>\n<p>Thus, <strong>stroke volume (SV) = EDV \u2013 ESV = 120 \u2013 50 = 70 mL</strong></p>\n<p>Therefore, Cardiac output = HR X SV =<strong> 70 X 70</strong> = <strong>4900 mL/min.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/afde8e00a4864cd5a7012bde9dca0c9a.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/81717ac2d7704d259d2ee1860ff7005cx1280x1418.JPEG"
    ]
  }
];
        let quizName = 'M9 - Image Only Mini Test  - 2';
        const quizFilename = 'm9-image-only-mini-test-2-93b9eb3f.html';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2017-18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>