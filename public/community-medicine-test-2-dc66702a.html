<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Medicine Test - 2 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2023 - 24
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "You are working as a medical officer in a primary health center. On 5th May 2023, you took a look at these 4 vaccine vials. Vial 1 had an expiry date of 4th May 2023 and the rest of the vials had an expiry date of 14th October 2023. Which of the following vials could be used?",
    "choices": [
      {
        "id": 1,
        "text": "Vial 4"
      },
      {
        "id": 2,
        "text": "Vial 3"
      },
      {
        "id": 3,
        "text": "Vial 2"
      },
      {
        "id": 4,
        "text": "Vial 1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In the given scenario, only <strong>vial 2 </strong>can be used.</p>\n<p>According to the vaccine vial monitor, vial 1 and vial 2 can be used, but vial 2 is the one that was really fit for use as it had <strong>not yet expired</strong> as on 5th May 2023. Whereas, <strong>vial 1</strong> has <strong>crossed</strong> the <strong>date of expiry</strong>.</p>\n<p>Vial 3 and vial 4 should be <strong>discarded</strong> even though the drug has not expired. This is because the<strong> color</strong> in the<strong> inner square</strong> has\u00a0<strong>matched</strong> the <strong>outer</strong> <strong>circle</strong> in <strong>vial 3</strong> and is <strong>darker</strong> than the outer circle in <strong>vial 4</strong>.</p>\n<p>Vaccine vial monitors (VVM) are chemical indicator labels which are used to monitor the <strong>heat stability</strong> of the vaccines and are useful throughout the vaccine supply chain. The VVMs are designed to ensure that <strong>heat-damaged vaccines</strong> are <strong>not given</strong> to the patients. They also indicate preferable order of usage of the vials, thereby minimising <strong>vaccine wastage</strong>.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d8e38395e69c42ad9c23fcb7e5e3fb09.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "For a patient with pneumonic plague, you should recommend droplet precaution until:",
    "choices": [
      {
        "id": 1,
        "text": "48 hours after initiation of effective antibiotic therapy"
      },
      {
        "id": 2,
        "text": "96 hours after initiation of effective antibiotic therapy"
      },
      {
        "id": 3,
        "text": "24 hours after initiation of effective antibiotic therapy"
      },
      {
        "id": 4,
        "text": "1 week after onset of cough or fever"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Droplets precaution</strong> for a patient with <strong>pneumonic plague</strong> is recommended until <strong>48 hours after initiation of effective antibiotic therapy.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An insured 35-year-old man, who is working as a teacher, is undergoing a vasectomy procedure. According to the Employees State Insurance Act, he would receive the cash benefit under ____.",
    "choices": [
      {
        "id": 1,
        "text": "Enhanced sickness benefit for 7 days"
      },
      {
        "id": 2,
        "text": "Extended sickness benefit for 21 days"
      },
      {
        "id": 3,
        "text": "Enhanced sickness benefit for 14 days"
      },
      {
        "id": 4,
        "text": "Sickness Benefit for 7 days"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p class=\"ng-binding\">Insured&nbsp;persons in the productive age group undergoing sterilization procedures such as tubectomy and vasectomy are offered cash benefits under the ESI Act as&nbsp;<strong>enhanced sickness benefits.&nbsp;</strong>The enhanced sickness benefit <strong>equal to full wage</strong> is payable to insured persons undergoing sterilization for <strong>7 days</strong> for <strong>male</strong> and <strong>14 days</strong> for <strong>female</strong> workers.&nbsp;</p>\n<p class=\"ng-binding\">Other options:&nbsp;</p>\n<p class=\"ng-binding\">Option B: <strong>Extended sickness benefit</strong> is offered to insured people who are suffering from certain <strong>chronic diseases</strong>, for a maximum period of <strong>2 years</strong>, in addition to the 91 days of leave they are entitled to under the sickness benefit. During this period, they are paid about <strong>80%</strong> of the average daily wages. The insured person should have been working for a continuous period of 2 years. There are 34 listed diseases for which the extended sickness benefit can be availed.&nbsp;</p>\n<p class=\"ng-binding\">Option D:<strong> Sickness&nbsp;Benefit&nbsp;</strong>is given at<strong>&nbsp;70%&nbsp;</strong>of average daily wages for a duration of&nbsp;<strong>91 days&nbsp;</strong>in one year.&nbsp;In order to qualify for sickness benefit, the worker is required to contribute for 78 days in a period of 6 months.</p>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An 18-month-old baby was brought with complaints of fever and fast breathing. According to IMNCI, what should be the respiratory rate to diagnose this baby with pneumonia?",
    "choices": [
      {
        "id": 1,
        "text": ">/=40"
      },
      {
        "id": 2,
        "text": ">/=60"
      },
      {
        "id": 3,
        "text": ">/=30"
      },
      {
        "id": 4,
        "text": ">/=50"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>An<strong> 18-month-old</strong>&nbsp;baby presenting with fever and <strong>fast breathing</strong> should have a <strong>respiratory rate</strong> of<strong>&nbsp;<span style=\"text-decoration: underline;\">&gt;</span>40 </strong>to be diagnosed with <strong>pneumonia</strong>&nbsp;according to <strong>IMNCI</strong>.</p>\n<p>According to the<strong>&nbsp;</strong>IMNCI, three<strong>&nbsp;</strong>key clinical&nbsp;<strong>signs</strong>&nbsp;are used to assess a sick child with suspected pneumonia:</p>\n<ul>\n<li><strong>Respiratory rate</strong>&nbsp;(RR):<strong>&nbsp;d</strong><strong>istinguishes</strong>&nbsp;children who have&nbsp;<strong>pneumonia</strong>&nbsp;from those who do not. Children are classified under pneumonia if:\n<ul>\n<li><strong><span style=\"text-decoration: underline;\">&gt;</span>&nbsp;60 breaths</strong> per minute if age &nbsp;is <strong>&lt; 2 months&nbsp;</strong></li>\n<li><strong><span style=\"text-decoration: underline;\">&gt;</span> 50/min</strong>&nbsp;RR for infants <strong>2 months </strong>to<strong> 12 months</strong></li>\n<li><strong><span style=\"text-decoration: underline;\">&gt;</span> 40/min</strong>&nbsp;RR for children <strong>12 months</strong> to <strong>5 years</strong> of age</li>\n</ul>\n</li>\n<li><strong>Lower chest wall indrawing</strong>&nbsp;refers to the indrawing of the lower chest wall with respect to the child's breathing and indicates&nbsp;<strong>pneumonia</strong></li>\n<li><strong>Stridor&nbsp;</strong>indicates those with&nbsp;<strong>severe pneumonia</strong>&nbsp;requiring hospital<strong>&nbsp;admission.</strong></li>\n</ul>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p>The revised classification of acute respiratory&nbsp;infections is simplified to include only two categories of pneumonia:</p>\n<ul>\n<li>Cough and cold, no pneumonia - requires home remedy</li>\n<li>Pneumonia - with <strong>fast breathing </strong>and/or <strong>chest indrawing</strong>, which requires <strong>home therapy</strong> with <strong>oral amoxicillin</strong>.</li>\n<li>Severe pneumonia - pneumonia with <strong>any general danger sign</strong>, which <strong>requires</strong> a <strong>referral</strong> and <strong>injectable therapy</strong>.&nbsp;</li>\n</ul>\n</div>\n</div>\n<div class=\"ng-scope\"><strong>Danger signs </strong>of severe pneumonia are:&nbsp;</div>\n<ul>\n<li>Not able to drink</li>\n<li>Persistent vomiting</li>\n<li>Convulsions</li>\n<li>Lethargic or unconscious</li>\n<li>Stridor in a calm child</li>\n<li>Severe malnutrition</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/402ec23059f642f1840119590a5d55fdx1280x711.PNG"
    ]
  },
  {
    "text": "A patient with lymphatic filarisis is being managed as shown in the image below. What is the level of prevention done here?",
    "choices": [
      {
        "id": 1,
        "text": "Specific protection"
      },
      {
        "id": 2,
        "text": "Disability limitation"
      },
      {
        "id": 3,
        "text": "Primary prevention"
      },
      {
        "id": 4,
        "text": "Health promotion"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows an established case of <strong>chronic lymphatic filariasis</strong>, where hygiene is being maintained to <strong>prevent further disability</strong> by secondary bacterial infection. Disability limitation is a <strong>mode of intervention</strong> in <strong>tertiary prevention</strong>.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Specific protection</strong> is a <strong>mode of intervention</strong> in primary prevention which aims at <strong>limiting the number of cases of a particular disease</strong>. This includes immunization, use of specific nutrients, chemoprophylaxis, accident protection, and avoidance of allergens.</p>\n<p>Option C:<strong> Primary prevention</strong> is a <strong>level of prevention</strong> which is defined as <strong>action taken prior to the onset of a disease</strong>, which <strong>removes the possibility that a disease will ever occur</strong>. It is accomplished by measures designed to promote general <strong>health</strong> and <strong>well-being.</strong></p>\n<p>Option D: <strong>Health promotion</strong> is a <strong>mode of intervention</strong> in primary prevention, and is the process of enabling people to increase control over, and improve health. Health promotion may be achieved through health education, environmental modification, nutritional interventions or lifestyle changes.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3c500cb8a7a44c50b725fbc5c432b1b6.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A newborn is found to have hearing loss and bilateral congenital cataracts. The echocardiography reveals a ventricular septal defect. What is false regarding the suspected diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Most commonly associated cardiac defect is patent ductus arteriosus"
      },
      {
        "id": 2,
        "text": "Vertical transmission"
      },
      {
        "id": 3,
        "text": "Infection in early pregnancy causes milder disease"
      },
      {
        "id": 4,
        "text": "Foetus affected in late pregnancy may have only deafness"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The child presents with the classical triad of Congenital<strong>&nbsp;Rubella</strong>&nbsp;Syndrome.</p>\n<p>The <strong>earlier the infection</strong> occurs in pregnancy <strong>the greater the damage</strong> is to the fetus.</p>\n<p>The major determinant of the extent of fetal infection in <strong>Congenital Rubella Syndrome</strong> is the&nbsp;<strong>gestational age</strong> at which fetal transmission occurs.</p>\n<p>Infection in 1<sup>st</sup> trimester:</p>\n<ul>\n<li>Abortions</li>\n<li>Stillbirth</li>\n<li>Skin lesions: <strong>Blueberry muffin</strong> lesions</li>\n<li><strong>Triad</strong> of congenital rubella syndrome\n<ul>\n<li>Sensorineural deafness</li>\n<li>Congenital heart defects &ndash; MC is <strong>PDA</strong></li>\n<li>Cataracts</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The critical path in the flow chart given below includes how many days?",
    "choices": [
      {
        "id": 1,
        "text": "3 days"
      },
      {
        "id": 2,
        "text": "12 days"
      },
      {
        "id": 3,
        "text": "9 days"
      },
      {
        "id": 4,
        "text": "15 days"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Critical path is the<strong> longest path</strong> in the network analysis. Here the <strong>red line</strong> signifies the critical path and it includes 9 days.<br /> <br />Any delay in the critical path will delay the entire project.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d0cfbf9574fd437780d615426200e868.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A nuclear disaster occurs in your state. Which of the following drugs is given prophylactically?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamins E and C"
      },
      {
        "id": 2,
        "text": "Sodium Iodide"
      },
      {
        "id": 3,
        "text": "Potassium Iodide"
      },
      {
        "id": 4,
        "text": "Selenium and Iodized Table Salt"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>After a nuclear disaster, <strong>Potassium Iodide (KI) is given prophylactically</strong> to all people exposed/at risk of exposure to radiation. If taken in time and at the appropriate dosage, KI blocks the thyroid gland uptake of radioactive iodine and thus, <strong>reduces the risk of thyroid cancers.</strong></p>\n<p>Table salt (while it contains KI), does not contain enough iodine to block uptake of radioactive iodine by the thyroid gland.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Discrete probability distribution that expresses probability of a given number of events in a particular time frame is known as:",
    "choices": [
      {
        "id": 1,
        "text": "Binomial distribution"
      },
      {
        "id": 2,
        "text": "Gaussian distribution"
      },
      {
        "id": 3,
        "text": "Poissons distribution"
      },
      {
        "id": 4,
        "text": "Normal distribution"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>&nbsp;</p>\n<p>Poissons distribution is the probability distribution that describes the chances of an event in a particular time frame.</p>\n<p>For example, if you plot the number of patients visiting the OPD of your hospital for a week on a chart, you can conclude that on a particular day(say Monday) there are more number of patients. And if the pattern of patients is similar you can estimate the number of patients in OPD next week or so.</p>\n<p>It is usually done for rare events and is depends on&nbsp;&mu; =&nbsp;&lambda;t (where&nbsp;&mu; defines the number of events in happening in time t)</p>\n<p>Other options&nbsp;<br />Gaussian distribution is another name for Normal distribution&nbsp;</p>\n<p>Binomial distribution examples consist of those events which can only have two possible results given as yes or no / success or failure. It is usually done for finite number of events unlike Poissons distribution.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Given below is an instrument which is used to measure air humidity. Identify the instrument.",
    "choices": [
      {
        "id": 1,
        "text": "Hygrometer"
      },
      {
        "id": 2,
        "text": "Hydro thermometer"
      },
      {
        "id": 3,
        "text": "Assman Psychrometer"
      },
      {
        "id": 4,
        "text": "Sling Psychrometer"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The instrument seen in the image is a <strong>Sling Psychrometer</strong>, It is used to measure the <strong>humidity/ moisture</strong> content in the air.</p>\n<p>Sling Psychrometer has a 2 mercury thermometers (wet and dry) in it. The wet bulb is moistened first with distilled water and the instrument is whirled / rotated standing with the back to the sun. The reading is noted twice.</p>\n<p>Later the dry bulb is taken up for the reading and the relative air humidity is obtained by use of suitable tables and charts.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/97c0081a9b424b4da5325a5d8aa90cab.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Vertical transmission of an infectious agent from parent to progeny in vectors is seen in _______",
    "choices": [
      {
        "id": 1,
        "text": "Plague bacilli in rat fleas"
      },
      {
        "id": 2,
        "text": "Borrelia burgdoferi in ticks"
      },
      {
        "id": 3,
        "text": "Rickettsia rickettsii in ticks"
      },
      {
        "id": 4,
        "text": "Malarial parasites in mosquitoes"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Vertical transmission of an infectious agent</strong> from parent to progeny in vectors is called<strong> transovarial transmission. </strong>It&nbsp;is seen in<strong> Rickettsia rickettsii</strong>&nbsp;(in ticks).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false about the p-value?",
    "choices": [
      {
        "id": 1,
        "text": "It is equal to the probability of committing a type I error"
      },
      {
        "id": 2,
        "text": "It is equal to 1\u2013beta"
      },
      {
        "id": 3,
        "text": "It is the chance that the presence of difference is concluded when actually there may be none"
      },
      {
        "id": 4,
        "text": "When the p value is less than \u03b1, the result is statistically significant"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>power</strong> of a test is&nbsp;<strong>1 &ndash; beta</strong>.</p>\n<p>The <em>p</em> value is the probability that a type I error is being made. It is the chance that the presence of difference is concluded when actually there may be none. When the <strong><em>p</em></strong> value is <strong>less than &alpha;</strong>, the result is statistically <strong>significant</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the nature of the data seen in the graphical plot below?",
    "choices": [
      {
        "id": 1,
        "text": "Positively skewed distribution"
      },
      {
        "id": 2,
        "text": "Negatively skewed distribution"
      },
      {
        "id": 3,
        "text": "Normal distribution"
      },
      {
        "id": 4,
        "text": "Left skewed distribution"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the image, the&nbsp;<strong>tail of the distribution is towards the positive direction</strong>&nbsp;and thus it is&nbsp;<strong>positively skewed or right-skewed distribution.</strong></p>\n<p>To further understand and correlate the data representation with that of a corresponding box and whisker plot, have a look at the following images:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c0de164b968848e7b0819bba71b6e18b.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a8627ad901984d5ba73af62c9f117f17x650x1175.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/61641c5825e04bdaab48c22de2284cc8x785x1452.PNG"
    ]
  },
  {
    "text": "Match the following phases of the demographic cycle with their correct description.",
    "choices": [
      {
        "id": 1,
        "text": "1-c, 2-a, 3-b, 4-e"
      },
      {
        "id": 2,
        "text": "1-c, 2-d, 3-b, 4-a"
      },
      {
        "id": 3,
        "text": "1-b, 2-e, 3-b, 4-a"
      },
      {
        "id": 4,
        "text": "1-c, 2-b, 3-a, 4-d"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correct match is:</p>\n<table style=\"height: 93px; width: 383px;\">\n<tbody>\n<tr>\n<td style=\"width: 117px;\">1. High stationary</td>\n<td style=\"width: 250px;\">c. High birth rate and high death rate</td>\n</tr>\n<tr>\n<td style=\"width: 117px;\">2. Early expanding</td>\n<td style=\"width: 250px;\">d. Death rate starts falling but birth rate remains high</td>\n</tr>\n<tr>\n<td style=\"width: 117px;\">3. Low stationary</td>\n<td style=\"width: 250px;\">b. Both birth rate and death rate are at a low level</td>\n</tr>\n<tr>\n<td style=\"width: 117px;\">4. Declining stage</td>\n<td style=\"width: 250px;\">a. Birth rate is less than death rate</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<div class=\"ng-scope\">&nbsp;</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Anti-larval measures are being taken to control the mosquitoes, which were breeding in a pond. All of the following are fishes, which may be used in biological control, except:",
    "choices": [
      {
        "id": 1,
        "text": "Cyclops"
      },
      {
        "id": 2,
        "text": "Gambusia"
      },
      {
        "id": 3,
        "text": "Barbados millions"
      },
      {
        "id": 4,
        "text": "Poecilia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Cyclops</strong> is a<strong> crustacean\u00a0</strong>(omnivorous copepod), which belongs to the phylum <strong>Arthropoda.</strong> It is\u00a0<strong>not a fish. </strong>However, the <strong>cyclops can also feed on larval stages</strong> of some mosquito species, and <strong>can be used in biological control.</strong></p>\n<p>The <strong>larvivorous fishes</strong> that can be used for<strong> biological control</strong> include:</p>\n<ul>\n<li><strong>Gambusia</strong> affinis</li>\n<li>Lebister reticulatus (<strong>Barbados</strong> Millions)</li>\n<li><strong>Poecilia</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Choose the most appropriate option regarding 'Reference Indian adult man'.",
    "choices": [
      {
        "id": 1,
        "text": "1 and 3 are incorrect"
      },
      {
        "id": 2,
        "text": "1 and 2 are incorrect"
      },
      {
        "id": 3,
        "text": "Only 2 is incorrect"
      },
      {
        "id": 4,
        "text": "Only 3 is incorrect"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Only statement 2 is incorrect as a\u00a0reference Indian adult man weighs <strong>65 kg.</strong></p>\n<p>An adult man is considered a\u00a0<strong>reference Indian adult man </strong>if\u00a0:</p>\n<ul>\n<li>he is aged between 19-39 years</li>\n<li>he weighs 65 kg</li>\n<li>his height is 1.77m</li>\n<li>his BMI is 20.75</li>\n<li>he is engaged in 8 hours of occupation and 8 hours of sleep</li>\n<li>he spends 4-6 hours sitting and moving about, 2 hours walking and in active recreation</li>\n<li>he is free from disease and physically fit for active work.\u00a0</li>\n</ul>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following triage tags with the example of the patient given.",
    "choices": [
      {
        "id": 1,
        "text": "1-A, 2-D, 3-B, 4-C"
      },
      {
        "id": 2,
        "text": "1-B, 2-C, 3-A, 4-D"
      },
      {
        "id": 3,
        "text": "1-C, 2-A, 3-D, 4-B"
      },
      {
        "id": 4,
        "text": "1-D, 2-B, 3-C, 4-A"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct option is&nbsp;<strong>1-C, 2-A, 3-D, 4-B</strong></p>\n<table>\n<tbody>\n<tr>\n<td style=\"text-align: center;\"><strong>Triage tag</strong></td>\n<td style=\"text-align: center;\"><strong>Patient</strong></td>\n</tr>\n<tr>\n<td>1. Black</td>\n<td>C. Extensive third-degree burns</td>\n</tr>\n<tr>\n<td>2. Red</td>\n<td>A. Tension pneumothorax</td>\n</tr>\n<tr>\n<td>3. Green</td>\n<td>D. Fracture of the forearm</td>\n</tr>\n<tr>\n<td>4. Yellow</td>\n<td>B. Degloving injury</td>\n</tr>\n</tbody>\n</table>\n<p>Triage is used to&nbsp;<strong>classify the priority of treatment.</strong></p>\n<p>It is carried out at the site of the disaster to determine the&nbsp;<strong>priority for immediate medical attention</strong>,&nbsp;<strong>transportation, and</strong>&nbsp;<strong>admission</strong>&nbsp;to the hospital.</p>\n<p>Triage includes rapid classification of the injured based on their injuries and the chances of survival with prompt medical intervention. It provides maximum benefit to the greatest number of injured in a disaster situation. Higher priority is given to victims whose prognosis would be good with simple medical care. Lower priority is given to moribund patients who would have questionable benefits even with medical attention.</p>\n<p>The internationally accepted&nbsp;<strong>four-color coded</strong>&nbsp;system is used commonly. It includes:</p>\n<ul>\n<li>Red - High priority attention or transfer;&nbsp;Critical, but likely to survive if treatment is given early</li>\n<li>Yellow - Medium priority;&nbsp;Critical, likely to survive if treatment is given within hours</li>\n<li>Green - Ambulatory patients;&nbsp;Stable, likely to survive even if treatment is delayed for hours to days</li>\n<li>Black - Dead or moribund patients;&nbsp;Not breathing, pulseless, so severely injured that no medical care is likely to help</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "As per the WHO guidelines, you should advise repeating the previous dose, if there is an interruption of the primary series of vaccination for which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Yellow fever"
      },
      {
        "id": 2,
        "text": "Injectable Polio Vaccine"
      },
      {
        "id": 3,
        "text": "Ty21a"
      },
      {
        "id": 4,
        "text": "Oral polio vaccine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Among the given options, only Ty21a requires repeating the previous dose if there is an interruption of the primary series.&nbsp;</p>\n<p>Even for Ty21a, if interruption between doses is <strong>&lt;21 days,</strong> <strong>resume without repeating</strong>&nbsp;the previous dose. If <strong>&gt;21 days, restart the primary</strong> series.&nbsp;</p>\n<p>The yellow fever vaccine is just a single dose. OPV &amp; IPV both do not require repetition of doses in case of interrupted primary series. The vaccination can simply be resumed without repeating the previous doses. Other common vaccines which do not require a repetition in the event of interrupted primary series:</p>\n<ul>\n<li>Hep B</li>\n<li>DTP</li>\n<li>Hib</li>\n<li>PCV</li>\n<li>Rotavirus</li>\n<li>Measles</li>\n<li>JE</li>\n<li>Meningococcal vaccine</li>\n<li>Rabies</li>\n<li>Varicella</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a study that investigates the relationship between steroid contraceptives and breast cancer, there is found to be a strong association between age and breast cancer, resulting in a confounding bias. Which of the following is an approach to eliminate such an association?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3"
      },
      {
        "id": 2,
        "text": "1, 2, 4"
      },
      {
        "id": 3,
        "text": "3, 4, 5"
      },
      {
        "id": 4,
        "text": "1, 4, 5"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div>The correct answer is <strong>1, 2, 4.</strong></div>\n<div>\u00a0</div>\n<div>In the given study <strong>age</strong> is found to be a <strong>confounding factor</strong>. <strong>Confounding</strong> <strong>bias</strong>\u00a0in the given study with age as a confounding factor can be eliminated by <strong>restriction, randomization, </strong>and<strong>\u00a0<span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">pre-</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">stratification</span></strong>.\u00a0</div>\n<div>\u00a0</div>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">A<strong> confounding factor\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">is defined as one </span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>associated </strong>with<strong> both exposure and disease\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">and is distributed </span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>unequally\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">in study and control groups.\u00a0</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">In the given example, if the study is conducted without eliminating the confounding factor,</span></span>\u00a0there is an unexpectedly strong association between the confounding factor (e.g.. age) and the disease (e.g., breast cancer)<br /><br /></div>\n<div>\u00a0<span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Techniques to eliminate confounding factors include:</span></div>\n<ul class=\"listtype-bullet listindent1 list-bullet1\">\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Randomization</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Matching</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Stratified randomization</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Restriction</span></li>\n</ul>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Randomization\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">is the random allocation of the participants in\u00a0</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>experimental\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>studies\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z h-lparen\">(Randomized</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">\u00a0control trials) into the study group and control group.<br /><br /></span></div>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Matching</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">, which is usually done in </span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>analytical\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>studies\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z h-lparen\">(for example, case-control</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">\u00a0and cohort studies), is the process where the participants in two groups are matched based on factors such as age, gender, race, smoking status, etc. to eliminate the potential confounders.</span></div>\n<div>\u00a0</div>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Stratified randomization</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">, which is also known as <strong>pre-</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>stratification\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">or blocking, is the process that combines both randomization and matching techniques. In this method, the participants are first grouped into subgroups that internally match with potential confounding factors such as age, race, gender, etc. An equal number of participants from each subgroup are then allocated to the study and control groups.</span></div>\n<div>\u00a0</div>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Restriction</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">: This method restricts the study to only those participants with particular characteristics. For example, a study can be restricted to participants of only one gender, race, age group, geographical area, disease severity, etc., thus eliminating the potential confounders.</span></div>\n<div>\u00a0</div>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Other options:</span></div>\n<div>\u00a0</div>\n<div><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Blinding and deletion do not eliminate confounding factors. Blinding is done to eliminate other biases\u00a0<span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z h-lparen\">such as subject\u00a0</span>bias, observer bias, or investigator bias.</span></div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following statements are true regarding prevalence, except?",
    "choices": [
      {
        "id": 1,
        "text": "Refers specifically to all current cases(old and new)"
      },
      {
        "id": 2,
        "text": "It is a rate in the true sense"
      },
      {
        "id": 3,
        "text": "Prevalence = Incidence X mean duration"
      },
      {
        "id": 4,
        "text": "Helps to estimate the magnitude of health problems in the community"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Although <strong>prevalence</strong> is referred to as rate, it is <strong>actually a</strong> <strong>proportion</strong>. The term disease prevalence\u00a0refers specifically to <strong>all current cases</strong> (<strong>old and new</strong>) in a given population.</p>\n<p>It is represented by the formula :</p>\n<p>Prevalence = (Number of existing cases of a specified disease during a given period of time interval /\u00a0Estimated mid-interval population at-risk) x 100</p>\n<p>Prevalence depends upon 2 factors, the incidence, and duration of illness. Given the assumption that the population is stable, and incidence and duration are unchanging, the relationship between incidence and prevalence can be expressed as :</p>\n<p><strong>P = I x D\u00a0 \u00a0</strong>where,</p>\n<ul>\n<li>P is the prevalence</li>\n<li>I is the incidence</li>\n<li>and D is the mean duration of the disease</li>\n</ul>\n<div class=\"page\" title=\"Page 77\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Prevalence is of two types:</p>\n<p>(a) <strong>Point prevalence</strong>: Point prevalence of a disease is defined as the number of all current cases (old and new) of a disease at<strong> one point</strong> of time, in relation to a defined population.</p>\n<div class=\"page\" title=\"Page 77\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>(b) <strong>Period prevalence</strong>: It measures the frequency of all current cases (old and new) existing during a <strong>defined period</strong> of time (e.g., annual prevalence) expressed in relation to a defined population.</p>\n<div class=\"page\" title=\"Page 78\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Prevalence helps to estimate the <strong>magnitude</strong> of <strong>health problems</strong> in the <strong>community</strong> and identify potential high-risk populations. Prevalence rates are useful for administrative and planning purposes.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with leprosy, who has completed a course of multi-drug therapy, presents with complaints of developing painful, tender, and raised lesions on his forehead recently as shown in the image below. What is the first-line treatment for him?",
    "choices": [
      {
        "id": 1,
        "text": "Restart multi drug therapy and start thalidomide"
      },
      {
        "id": 2,
        "text": "Restart multi drug therapy and start prednisolone"
      },
      {
        "id": 3,
        "text": "Start on clofazimine only"
      },
      {
        "id": 4,
        "text": "Start on prednisolone only"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The presence of <strong>new</strong> <strong>erythematous</strong> and <strong>tender</strong> subcutaneous <strong>nodules</strong> in a patient with leprosy indicates that he has developed <strong>type II lepra reaction.\u00a0</strong>It is also known as <strong>Erythema Nodosum Leprosum (ENL)\u00a0</strong>and the first line of treatment is <strong>prednisolone</strong>.</p>\n<p>Multi-drug therapy <strong>(MDT) should not be restarted</strong> in patients who develop lepra reactions after the completion of treatment.</p>\n<p>Prednisolone is started at a dose of 40 mg per day and gradually tapered by 5 mg every 2 weeks. 'Prednisolone card' is given when treatment is started.\u00a0If the patient becomes <strong>steroid-dependent</strong>, then\u00a0<strong>clofazimine</strong> is added.</p>\n<p>The\u00a0<strong> key targets</strong> of the Global Leprosy Strategy <strong>2021-2023</strong> announced by WHO (Accelerating towards a leprosy-free world) are:</p>\n<ul>\n<li>120 countries reporting zero new autochthonous cases.</li>\n<li>70% reduction in the annual number of new cases detected.</li>\n<li>90% reduction in rate per million population of new cases with Grade 2 disability.</li>\n<li>90% reduction in rate per million children of new child cases with leprosy.</li>\n</ul>\n<p>The current goal is the elimination of leprosy. </p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/72150c3fc1eb478f82fd07f89f059d6f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following water-associated diseases is wrongly matched?",
    "choices": [
      {
        "id": 1,
        "text": "Water-borne disease - Typhoid"
      },
      {
        "id": 2,
        "text": "Water-based disease - Schistosomiasis"
      },
      {
        "id": 3,
        "text": "Water-washed disease - Cholera"
      },
      {
        "id": 4,
        "text": "Water-related vector-borne disease - Malaria"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Cholera\u00a0</strong>is a\u00a0<strong>water-borne</strong> disease.</p>\n<p>Water-related diseases are classified as:</p>\n<table width=\"404\">\n<tbody>\n<tr>\n<td>Category</td>\n<td>\n<p>Examples</p>\n</td>\n</tr>\n<tr>\n<td><strong>Water-borne diseases</strong></td>\n<td>\n<p>Caused by ingestion of water contaminated by human or animal feces, or urine containing pathogenic bacteria or viruses</p>\n<p>e.g.: <strong>Cholera</strong>, <strong>typhoid</strong>, amebic and bacillary dysentery, and other diarrheal diseases</p>\n</td>\n</tr>\n<tr>\n<td><strong>Water-washed diseases</strong></td>\n<td>\n<p>Caused by <strong>poor personal hygiene</strong></p>\n<p>e.g.: <strong>Scabies; trachoma;</strong>\u00a0flea-, lice- and tick-borne diseases, in addition to the majority of water-borne diseases (which are also water-washed)</p>\n</td>\n</tr>\n<tr>\n<td><strong>Water-based diseases</strong></td>\n<td>\n<p>Caused by <strong>parasites</strong> found in intermediate organisms living in water</p>\n<p>e.g.: <strong>Dracunculiasis</strong>, <strong>schistosomiasis,</strong> and some other helminths.</p>\n<p>\u00a0</p>\n</td>\n</tr>\n<tr>\n<td><strong>Water-related vector-borne diseases\u00a0</strong></td>\n<td>\n<p>Caused by vectors that breed in water</p>\n<p>e.g.: <strong>Dengue,</strong> <strong>filariasis</strong>, <strong>malaria</strong>, onchocerciasis, trypanosomiasis and yellow fever</p>\n<p>\u00a0</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are volunteering in a vaccination camp. You perform a shake test before administering a particular vaccine. Which of the following is checked by this test?",
    "choices": [
      {
        "id": 1,
        "text": "Freeze damage to vaccine"
      },
      {
        "id": 2,
        "text": "Contamination of vaccine"
      },
      {
        "id": 3,
        "text": "Expiry of vaccine"
      },
      {
        "id": 4,
        "text": "Potency of vaccine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>shake test</strong> is done to check for <strong>damage</strong> to vaccines that are sensitive to <strong>freezing temperatures.</strong></p>\n<p>Steps to perform the shake test:</p>\n<ul>\n<li>A <strong>frozen vaccine</strong> is used as a <strong>control vial</strong> and the vial suspected to be damaged by freezing is taken as the test vial.</li>\n<li>Both are <strong>shaken after thawing</strong> and the rate of <strong>sedimentation</strong> is <strong>compared</strong>.</li>\n<li>If the rate of <strong>sedimentation</strong> in the test vial is <strong>slower than</strong> that in the <strong>control</strong> vial, then it is <strong>usable</strong> and has not been damaged.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8e1d7fcab7b4460aa9557ded706a8a0dx600x796.JPEG"
    ]
  },
  {
    "text": "RDA of calcium for pregnant and breastfeeding mothers are, respectively:",
    "choices": [
      {
        "id": 1,
        "text": "1000 mg and 1000 mg"
      },
      {
        "id": 2,
        "text": "1000 mg and 1200 mg"
      },
      {
        "id": 3,
        "text": "1200 mg and 1200 mg"
      },
      {
        "id": 4,
        "text": "1200 mg and 1000 mg"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>According to the <strong>RDA 2020 guideline</strong>,&nbsp;RDA of calcium for pregnant and breastfeeding mothers are&nbsp;1000 mg and 1200 mg, respectively.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following are elements of primary healthcare?",
    "choices": [
      {
        "id": 1,
        "text": "2, 3, 4"
      },
      {
        "id": 2,
        "text": "1, 3, 5"
      },
      {
        "id": 3,
        "text": "1, 2, 3"
      },
      {
        "id": 4,
        "text": "1, 4, 5"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>elements of primary health care</strong> include:</p>\n<ol>\n<li>Adequate supply of safe water and basic sanitation</li>\n<li>Providing essential drugs</li>\n<li>Prevention of locally endemic diseases</li>\n</ol>\n<p>Primary health care refers to essential health care that is universally available to individuals, acceptable to them through their full participation,\u00a0and at a cost the community and country can afford.</p>\n<p>The use of appropriate technology and ensuring community participation are <strong>p</strong><strong>rinciples/pillars of Primary Health Care.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "How does the insecticide derived from the given plant kill the insects?",
    "choices": [
      {
        "id": 1,
        "text": "Its a nerve poison, it kils insects on mere contact"
      },
      {
        "id": 2,
        "text": "Its a stomach poison, it kills the insects after ingestion"
      },
      {
        "id": 3,
        "text": "It repels the insects for 18-20 hours"
      },
      {
        "id": 4,
        "text": "It cuts off the air supply of the insects/larvae and kills"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given plant is <strong>pyrethrum(Chrysanthemum cinerariafolium)</strong>, the extract from the <strong>flowers</strong> contains <strong>pyrethrin</strong> which is a&nbsp;<strong>nerve poison,</strong> which kills insects merely <strong>on contact.</strong></p>\n<p>Pyrethrum is used as <strong>space sprays,</strong> sprayed into the atmosphere in the form of <strong>fog or mist</strong> to kill the insects. These effectively reduce the number of mosquitoes but the effect is temporary as it has<strong> no residual action.</strong> Reinfestation can occur soon from other areas.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b03dfdfd16b748d28e4c33a01fa4f7f8.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A cardiologist wants to study the effect of the atorvastatin drug. She measures the initial cholesterol levels of 50 patients. After a month's treatment, she measures the cholesterol level again. Which of the following tests will she use to test the statistical significance of the change in the cholesterol level?",
    "choices": [
      {
        "id": 1,
        "text": "Paired t test"
      },
      {
        "id": 2,
        "text": "Unpaired t test"
      },
      {
        "id": 3,
        "text": "ANOVA"
      },
      {
        "id": 4,
        "text": "Chi-square test"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In this scenario, the <strong>variable</strong> (cholesterol level) is <strong>quantitative.&nbsp;</strong>Moreover, the <strong>comparison</strong> is being done <strong>before</strong> and <strong>after</strong> the <strong>treatment</strong>&nbsp;(dependent)<strong>.</strong>&nbsp;Hence, a&nbsp;<strong>paired t test</strong>&nbsp;will be used.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the most universally accepted health status indicator?",
    "choices": [
      {
        "id": 1,
        "text": "IMR"
      },
      {
        "id": 2,
        "text": "MMR"
      },
      {
        "id": 3,
        "text": "Life expectancy"
      },
      {
        "id": 4,
        "text": "NMR"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Infant mortality rate</strong> (IMR) is\u00a0the most <strong>universally accepted </strong>health status indicator of the whole population and of the socio-economic conditions in which they live.</p>\n<p>Infant mortality rate (IMR)= Number of deaths in the first year of life/Number of live births x 1000</p>\n<p>It is a <strong>sensitive indicator of</strong> the availability, utilisation, and effectiveness of <strong>health care</strong>.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following diagram charts the population change over years from 1983 to 1989 in a given place. What is the statistical diagram used here?",
    "choices": [
      {
        "id": 1,
        "text": "Histogram"
      },
      {
        "id": 2,
        "text": "Line diagram"
      },
      {
        "id": 3,
        "text": "Component bar graph"
      },
      {
        "id": 4,
        "text": "Multiple bar graphs"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image shows a&nbsp;<strong>component bar graph.&nbsp;</strong>It is&nbsp;used to represent data in which the<strong> total magnitude</strong> is<strong> divided into </strong>different subsets or<strong> components.</strong></p>\n<p>A<strong> bar chart&nbsp;</strong>or bar graph is used mainly for<strong> nominal</strong> or <strong>ordinal scale</strong> data. They can be simple, multiple or component bar graphs.</p>\n<p>The image given below shows a <strong>multiple bar graph&nbsp;</strong>showing the human losses of world war II by country. In a multiple bar chart,&nbsp;<strong>2 or more sets of data</strong> are shown <strong>simultaneously</strong>.&nbsp;&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9fb633302d514883b7d7f79ebfbcd8be.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cdb62d9d756f4238b5f103941d61c2c6x524x519.PNG"
    ]
  },
  {
    "text": "Sample sizes of samples 1, 2 and 3 are 1000, 800, 600 respectively. The order of margin of error will be ____________.",
    "choices": [
      {
        "id": 1,
        "text": "3 >2>1"
      },
      {
        "id": 2,
        "text": "3>1>2"
      },
      {
        "id": 3,
        "text": "1>2>3"
      },
      {
        "id": 4,
        "text": "1=2=3"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Curve 1 has the least margin of error, followed by curve 2, and then curve 3. So the order is<strong> 3&gt;2&gt;1.</strong></p>\n<p>The image shows three normal distribution curves of different sample sizes, having the same mean but different standard deviations.</p>\n<p>As the sample size is decreasing, the peak decreases and the curve becomes more flat, implying a wider confidence of interval for the given mean.</p>\n<p>The <strong>width of the base</strong> of the curve is <strong>directly proportional to the margin of error.</strong>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/32951ed1cda941f3bd7484d8e8e30c62.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "According to National Urban Health Mission, arrange the following in the correct order as per population covered from lowest to the highest level.",
    "choices": [
      {
        "id": 1,
        "text": "3 , 1 , 2 , 4 , 5"
      },
      {
        "id": 2,
        "text": "5 , 3 , 4 , 1 , 2"
      },
      {
        "id": 3,
        "text": "5 , 4 , 3 , 1 , 2"
      },
      {
        "id": 4,
        "text": "4 , 5 , 3 , 1 , 2"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct order from the primary level of contact with the community to the highest level is<strong> 5 &gt; 4 &gt; 3 &gt; 1 &gt; 2</strong> :</p>\n<ul>\n<li>Mahila\u00a0Arogya Samiti -\u00a0<strong>250-500</strong>\u00a0population\u00a0</li>\n<li>Urban Social Health Activist -\u00a0<strong>2,500</strong> population</li>\n<li>Auxiliary Nurse Midwife -\u00a0<strong>10,000</strong> population</li>\n<li>Urban Primary Health Centre -\u00a0<strong>50,000</strong> population</li>\n<li>Urban Community Health Centre -\u00a0<strong>2.5 lakh</strong> population.\u00a0</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "How efficacious is the hypochlorous acid, when compared to the hypochlorite ions in terms of its disinfecting action?",
    "choices": [
      {
        "id": 1,
        "text": "Similar effect"
      },
      {
        "id": 2,
        "text": "Around 70 times more effective"
      },
      {
        "id": 3,
        "text": "Around 10 times more effective"
      },
      {
        "id": 4,
        "text": "Less effect"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Hypochlorous acid </strong>is the most effective form of chlorine and it is <strong>almost 70 &ndash; 80 times more effective</strong> than hypochlorite ions.</p>\n<p>The disinfecting action of chlorine is predominantly due to <strong>hypochlorous acid</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A group of health workers is conducting a perinatal mortality audit at a hospital. Which of the following should they not take into account to calculate the perinatal mortality rate?",
    "choices": [
      {
        "id": 1,
        "text": "Number of live births per year"
      },
      {
        "id": 2,
        "text": "Number of late neonatal deaths per year"
      },
      {
        "id": 3,
        "text": "Number of stillbirths over 1000 g per year"
      },
      {
        "id": 4,
        "text": "Number of early neonatal deaths per year"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Number of<strong> late neonatal deaths</strong> per year<strong>\u00a0</strong>is not included in the perinatal mortality rate.</p>\n<p>The<strong>\u00a0</strong>perinatal mortality rate (<strong>PMR</strong>)\u00a0is calculated using the following parameters<strong>\u00a0</strong>during a particular time period:</p>\n<ul>\n<li><strong>Late fetal</strong> <strong>deaths</strong> or\u00a0stillbirths<strong>\u00a0&gt;1000 g</strong><strong>\u00a0</strong>- correlates to <strong>28 weeks</strong> of gestation</li>\n<li><strong>Early neonatal </strong>deaths<strong>\u00a0</strong>- from birth to 7 days of life</li>\n<li><strong>Live births</strong> &gt;1000 g</li>\n</ul>\n<p>The neonatal mortality rate <strong>(NMR)</strong> refers to the rate of deaths within the <strong>first 28 days</strong> of life. It is calculated using the following parameters:</p>\n<ul>\n<li>Early neonatal deaths</li>\n<li>Late neonatal deaths - after 7<sup>th</sup> day but before 28<sup>th</sup> completed day of life</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which disease is transmitted by the  following vector that is found in cracks and crevices of walls in the day time?",
    "choices": [
      {
        "id": 1,
        "text": "Japanese encephalitis"
      },
      {
        "id": 2,
        "text": "Visceral leishmaniasis"
      },
      {
        "id": 3,
        "text": "Dengue"
      },
      {
        "id": 4,
        "text": "Trypanosomiasis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image is of a <strong>sandfly</strong>. It&nbsp;transmits <strong>visceral leishmaniasis</strong>.</p>\n<p>Note:<strong>&nbsp;Sandfly&nbsp;</strong>acts as a&nbsp;<strong>vector</strong>&nbsp;for the following diseases:</p>\n<ul>\n<li>Kala-azar</li>\n<li>Oriental sore</li>\n<li>Sandfly fever</li>\n<li>Oroya fever</li>\n</ul>\n<p><strong>Japanese encephalitis</strong>&nbsp;is transmitted by<strong>&nbsp;</strong>the<strong>&nbsp;Culex&nbsp;</strong>mosquito.&nbsp;<strong>Dengue</strong>&nbsp;is transmitted by the&nbsp;<strong>Aedes</strong>&nbsp;mosquito.</p>\n<p><strong>Trypanosomiasis</strong>&nbsp;is transmitted by&nbsp;the<strong>&nbsp;tsetse fly</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2906dd9502a9470fbf4d076e74e8e21a.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A woman is planning a trip to Morocco, which is endemic for yellow fever. As per travel regulations, she receives the yellow fever vaccine. After how many days following vaccination is she eligible to travel?",
    "choices": [
      {
        "id": 1,
        "text": "5"
      },
      {
        "id": 2,
        "text": "10"
      },
      {
        "id": 3,
        "text": "15"
      },
      {
        "id": 4,
        "text": "7"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This woman is eligible to travel to the endemic area <strong>10 days</strong> after being <strong>vaccinated</strong> for <strong>yellow fever</strong>. This period is required for the majority of vaccine recipients to <strong>develop immunity</strong>.</p>\n<p>The&nbsp;<strong>17D vaccine</strong>&nbsp;for yellow fever is given <strong>subcutaneously</strong>. Unvaccinated people are required to remain&nbsp;<strong>quarantined </strong>for<strong> 6 days&nbsp;</strong>(maximum period of incubation).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "According to WHO recommendations, which of the following statements is incorrect with respect to handling vaccine diluents?",
    "choices": [
      {
        "id": 1,
        "text": "Vaccine diluent containing an active substance should not be frozen"
      },
      {
        "id": 2,
        "text": "Vaccine diluent cannot be replaced with distilled water for injection"
      },
      {
        "id": 3,
        "text": "Diluent used to reconstitute an oral vaccine can be injected"
      },
      {
        "id": 4,
        "text": "Vaccine diluent cannot be replaced with a different diluent to the one specified"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>According to the WHO recommendations, the <strong>diluent</strong> used to reconstitute an<strong> oral vaccine</strong> should <strong>never</strong> be <strong>injected</strong>. Diluents for oral vaccines tend to be of significantly large volumes per dose and are not formulated for injection. These diluents may not have sterility characteristics and constituents appropriate for sterile injection. To avoid serious injury to the recipient, neither oral vaccines nor their assigned diluents should ever be injected.</p>\n<p>WHO recommendations on handling vaccine diluents :</p>\n<ul>\n<li>\u00a0Never reconstitute a vaccine with a different diluent to the one specified by the manufacturer.</li>\n<li>\u00a0Never replace a vaccine diluent with water for injection</li>\n<li>\u00a0Never inject an oral vaccine or a diluent used to reconstitute an oral vaccine\u00a0 \u00a0</li>\n<li>\u00a0Never freeze a vaccine diluent containing an active substance\u00a0</li>\n<li>\u00a0Never use a reconstituted vaccine if foreign particulate matter is observed.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Two patients presented to the tuberculosis OPD and were diagnosed with MDR-TB and XDR-TB, respectively. Both of them are resistant to which of the following drugs?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2"
      },
      {
        "id": 2,
        "text": "Only 2"
      },
      {
        "id": 3,
        "text": "1,2,3 and 4"
      },
      {
        "id": 4,
        "text": "Only 5"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Both the patients diagnosed with&nbsp;MDR-TB and XDR-TB are resistant to Isoniazid and Rifampicin.</p>\n<p><strong>Muti-drug resistant</strong>&nbsp;(MDR)&nbsp;<strong>tuberculosis</strong>&nbsp;(TB) shows resistance to&nbsp;<strong>isoniazid</strong>&nbsp;and&nbsp;<strong>rifampicin</strong>.&nbsp;</p>\n<p>MDR-TB poses a serious problem in the treatment of TB as isoniazid and rifampicin are the most potent first-line drugs.&nbsp;</p>\n<p>The treatment of MDR-TB is curated with drugs grouped into different classes by the world health organization (WHO).</p>\n<ul>\n<li>Group A: Levofloxacin, bedaquiline, linezolid</li>\n<li>Group B: Clofazimine, cycloserine</li>\n<li>Group C: Ethambutol, pyrazinamide, delamanid, ethionamide</li>\n</ul>\n<p>In patients treated previously or with additional drug resistance, a&nbsp;<strong>longer MDR-TB regimen</strong>&nbsp;of&nbsp;<strong>18-20 months</strong>&nbsp;is recommended. Drugs belonging to group A are preferred along with one drug from group B whenever possible. A&nbsp;<strong>shorter regimen</strong>&nbsp;of&nbsp;<strong>6 months</strong>&nbsp;including&nbsp;<strong>bedaquiline</strong>&nbsp;with other drugs can be used in patients not treated before and without extensive disease. In&nbsp;<strong>pregnant women</strong>&nbsp;with MRD-TB, drugs such as bedaquiline and delamanid should be avoided.&nbsp;</p>\n<p><strong>XDR-TB</strong>&nbsp;(<strong>extensively drug-resistant&nbsp;TB</strong>) is defined as&nbsp;<strong>multi-drug resistant&nbsp; TB</strong>&nbsp;(resistant to rifampicin and isoniazid) which is also<strong>&nbsp;</strong>resistant to one&nbsp;<strong>fluoroquinolone</strong>&nbsp;(eg. ofloxacin) AND&nbsp;resistant to at least <strong>one additional group A drug</strong> (as of 2021, these are<span style=\"color: #000000;\">&nbsp;bedaquiline and linezolid)</span></p>\n<p>It is usually seen in patients who have previously received treatment for TB and have either failed to complete treatment or relapsed.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Open vial policy is not applicable to which of the following vaccines?",
    "choices": [
      {
        "id": 1,
        "text": "Hepatitis B"
      },
      {
        "id": 2,
        "text": "BCG"
      },
      {
        "id": 3,
        "text": "Pentavalent vaccine"
      },
      {
        "id": 4,
        "text": "Rotoviral vaccine in New container"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Open vial policy</strong> is not applicable for BCG and measles vaccines.</p>\n<p>It is <strong>applicable</strong> for:</p>\n<ul>\n<li>DPT</li>\n<li>TT</li>\n<li><strong>Hepatitis B</strong> vaccine</li>\n<li><strong>OPV</strong></li>\n<li><strong>Pentavalent</strong> vaccine</li>\n<li>Rotavirus vaccine (New version with the VVM on the side)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are valid recommendations regarding wound care in cases of category III dog bites, except ______.",
    "choices": [
      {
        "id": 1,
        "text": "Wound should be thoroughly washed and dried followed by application of alcohol to the wound"
      },
      {
        "id": 2,
        "text": "If suturing is unavoidable, rabies immunoglobulin should be infiltrated in the depth and around the wound and suturing should be delayed by a few hours"
      },
      {
        "id": 3,
        "text": "In life threatening situations, minimal loose sutures maybe applied to arrest bleeding"
      },
      {
        "id": 4,
        "text": "Routine cauterization of wound should be performed wherever feasible to reduce incidence of nerve infection"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Wound cauterization</strong>&nbsp;is <strong>not recommended</strong> as it leaves a bad scar and does <strong>not confer any additional advantage</strong> over washing the wound with water and soap.</p>\n<p>The following<strong>&nbsp;measures</strong> should be<strong> taken immediately&nbsp;</strong>to <strong>stop </strong>the<strong> contraction</strong> of <strong>rabies</strong>:</p>\n<ul>\n<li><strong>Cleansing</strong> - The most important step in the prevention of rabies is <strong>washing</strong> the affected area with <strong>plenty </strong>of <strong>soap </strong>and<strong> water </strong>under a running tap for <strong>15 minutes</strong>. This is a standard procedure that minimizes the contraction of rabies.</li>\n<li><strong>Chemical treatment</strong> - Irrigation of the wound should then be done with virucidal agents like<strong> alcohol,&nbsp;tincture</strong>, 0.01% solution of aqueous&nbsp;iodine, or <strong>povidone-iodine</strong>. Even irrigating the wound with <strong>cetrimide + chlorhexidine</strong> solution can be done. This process eliminates the residual virus in the wound.</li>\n<li><strong>Suturing</strong> - <strong>Bite wounds</strong> are <strong>not sutured</strong> generally. If suturing is unavoidable, rabies immunoglobulin should be infiltrated in the depth and around the wound, and suturing should be delayed by a few hours.&nbsp;This delay in suturing allows the diffusion of antibodies in the tissues.</li>\n<li>In <strong>life-threatening situations</strong>, <strong>minimal loose sutures</strong>&nbsp;may be applied to <strong>arrest bleeding.</strong></li>\n<li><strong>Other measures</strong> - Local antibiotics and tetanus toxoid should be given.</li>\n</ul>\n<p>Different wound categories for post-exposure prophylaxis:</p>\n<table style=\"height: 177px;\" width=\"436\">\n<tbody>\n<tr>\n<td style=\"width: 210px;\"><strong>Categories of wound</strong></td>\n<td style=\"width: 210px;\"><strong>Post-exposure prophylaxis</strong></td>\n</tr>\n<tr>\n<td style=\"width: 210px;\"><strong>Category I</strong> - touching or feeding animals, licks on intact skin</td>\n<td style=\"width: 210px;\">None</td>\n</tr>\n<tr>\n<td style=\"width: 210px;\"><strong>Category II</strong> - nibbling of uncovered skin, minor scratches, or abrasions <br />without bleeding</td>\n<td style=\"width: 210px;\">Immediate vaccination and <br />local treatment of the wound</td>\n</tr>\n<tr>\n<td style=\"width: 210px;\"><strong>Category III</strong>- single or multiple transdermal bites or scratches, licks on broken skin&nbsp;contacts with bats</td>\n<td style=\"width: 210px;\">Immediate vaccination and <br />administration of rabies <br />immunoglobulin; local <br />treatment of the wound</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Post-exposure prophylaxis regimen for rabies:</strong></p>\n<p><strong>Intramuscular regimen</strong>: In this regimen,&nbsp;1 ml or 0.5 ml of vaccine is injected into the deltoid in patients with category II and III wounds.</p>\n<ul>\n<li><strong>Essen regimen</strong>: It is a 5-dose regimen in which 1 dose of vaccine is given on days 0, 3, 7, 14, and 28 each.</li>\n<li><strong> Zagreb regimen</strong>: It is a 4-dose multisite regimen in which 2 doses of vaccine are given on day 0,&nbsp;followed by 1 dose on days 7 and 21 each.</li>\n</ul>\n<p><strong>Intradermal regimen</strong>: In this regimen, 0.1 ml of injection is given at 2 sites&nbsp;on days 0, 3, 7, and 28 each.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a school of 100 children, a child developed measles. Four days later, 3 of her classmates developed measles. What do these intervening four days correspond to?",
    "choices": [
      {
        "id": 1,
        "text": "Lead interval"
      },
      {
        "id": 2,
        "text": "Incubatory interval"
      },
      {
        "id": 3,
        "text": "Serial interval"
      },
      {
        "id": 4,
        "text": "Latent interval"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In the given scenario, the <strong>first child</strong> is the <strong>primary case</strong> and her <strong>classmates</strong> are the<strong> secondary cases</strong>. Hence, the <strong>interval between</strong> them developing the disease i.e., the intervening four days, is called the <strong>serial interval</strong>.</p>\n<p>The <strong>time</strong>&nbsp;<strong>interval</strong> between the onset of the <strong>primary case</strong> and the <strong>secondary case</strong> is called <strong>serial interval.</strong></p>\n<p>By collecting information about a whole series of such disease onsets, the distribution of the secondary cases can be made. From this information, an <strong>approximation</strong> of the <strong>incubation period</strong> can be done.</p>\n<p><strong>Lead time/lead interval</strong>&nbsp;refers to the period between the<strong> first possible </strong>time of<strong> detection</strong> and the <strong>usual time of diagnosis</strong>.</p>\n<p><strong>Incubatory interval/ incubation period </strong>refers to&nbsp;the time period between <strong>invasion</strong> of a<strong> pathogen</strong> to appearance of the <strong>first sign</strong> or <strong>symptom</strong>.</p>\n<p><strong>Latent interval/ latent period </strong>refers to&nbsp;the period between&nbsp;<strong>disease initiation</strong> to <strong>detection </strong>of the&nbsp;<strong>disease</strong>. It is usually used for non-infectious diseases and is equivalent to the incubation period.&nbsp;</p>\n<p>Note :</p>\n<ul>\n<li><strong>Primary case</strong>&nbsp;is the <strong>first</strong> case of a communicable disease <strong>introduced</strong> into a <strong>population</strong> unit. &nbsp;</li>\n<li><strong>Secondary case</strong> is one that develops after <strong>contact</strong> with the <strong>primary case</strong>.</li>\n<li><strong>Index case</strong> is the <strong>first </strong>case that comes to the <strong>notice</strong> of an <strong>investigator </strong>or&nbsp;physician.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A group of researchers decided to conduct a study evaluating the relationship between thalidomide and fetal anomalies. The study design will be a case-control study. All of the following are advantages of case-control studies except:",
    "choices": [
      {
        "id": 1,
        "text": "Relatively quick and cost-effective"
      },
      {
        "id": 2,
        "text": "Minimal ethical problems"
      },
      {
        "id": 3,
        "text": "Suitable to investigate rare diseases"
      },
      {
        "id": 4,
        "text": "Relative risk is accurately calculated"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Relative risk</strong> can be calculated only in a <strong>cohort study</strong> and not in a case-control study.</p>\n<div class=\"page\" title=\"Page 94\">A <strong>case-control study</strong> or a <strong>retrospective study</strong> involves two populations- cases and controls. It progresses from effect to cause.</div>\n<div class=\"page\" title=\"Page 94\">&nbsp;</div>\n<div class=\"page\" title=\"Page 94\">Advantages of a case-control study:</div>\n<ul>\n<li>Relatively <strong>quick</strong> and <strong>cost-effective</strong></li>\n<li>Easy to carry out</li>\n<li><strong>Suitable to investigate rare diseases</strong></li>\n<li>Less risk to subjects</li>\n<li><strong>Minimal ethical problems</strong></li>\n<li>Relatively fewer subjects are required</li>\n</ul>\n<div class=\"page\" title=\"Page 94\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Relative risk refers to the ratio of the incidence of the disease among the exposed to the incidence of the disease among the non-exposed. It directly measures the strength of the association between the cause and the effect. Cohort studies provide a&nbsp;direct estimate of the relative risk since incidence can be calculated.&nbsp;</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Surveillance data of an endemic disease reveals that most of the children in the area had been affected and had to be hospitalised. However, most of the adults remained asymptomatic carriers. Which category does this disease belong to?",
    "choices": [
      {
        "id": 1,
        "text": "Hyperendemic"
      },
      {
        "id": 2,
        "text": "Syndemic"
      },
      {
        "id": 3,
        "text": "Quasi-endemic"
      },
      {
        "id": 4,
        "text": "Holoendemic"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The disease in question belongs to the category of <strong>holoendemic diseases</strong>. In such diseases, a<strong> higher prevalence</strong> and pathogenic response are seen among&nbsp;the <strong>children</strong> in an area.&nbsp;The <strong>adults</strong> tend to be either&nbsp;<strong>asymptomatic carriers</strong> or show reduced damage by the disease process. E.g, malaria.</p>\n<p>An <strong>endemic</strong> disease is a disease that is <strong>present</strong> <strong>constantly</strong> in a population or in a given area without importation from outside. E.g, kala-azar in Bihar.</p>\n<p>A <strong>hyperendemic disease</strong> is a disease that is<strong> constantly</strong> present at <strong>high incidence</strong> and <strong>prevalence</strong> among all groups in a population. E.g, dengue in India.</p>\n<p>A <strong>syndemic</strong> is the <strong>aggregation</strong> of two or more<strong> concurrent</strong> or <strong>sequential</strong> <strong>epidemics</strong> or disease clusters in a population with biological interactions, which <strong>exacerbate</strong> the prognosis and <strong>burden of disease</strong>. It is also known as a&nbsp;<strong>synergistic epidemic</strong>.</p>\n<p>Note: Quasiendemic is not a term used in infectious disease epidemiology.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 3-week-old neonate presents to the outpatient for the first time. He was born by vaginal delivery at home and has not received any vaccines. Which of the following vaccines would be indicated at this visit, as per the National Immunization Schedule?",
    "choices": [
      {
        "id": 1,
        "text": "BCG vaccine"
      },
      {
        "id": 2,
        "text": "Hepatitis B vaccine"
      },
      {
        "id": 3,
        "text": "Oral polio vaccine-0"
      },
      {
        "id": 4,
        "text": "Injectable polio vaccine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>BCG (Bacille Calmette-Guerin)</strong>&nbsp;<strong>vaccine</strong> would be indicated in this <strong>3-week-old</strong> <strong>neonate</strong> at this visit as per the <strong>national immunization schedule</strong>.&nbsp;</p>\n<p>BCG is a<strong> live</strong> <strong>attenuated</strong> vaccine that can be given soon after <strong>birth</strong> until <strong>1 year</strong> of age. It&nbsp;is given <strong>intradermally&nbsp;</strong>at the <strong>left&nbsp;upper arm.</strong>&nbsp;It provides protection against the <strong>central nervous system</strong> and <strong>disseminated</strong>&nbsp;<strong>tuberculosis.</strong>&nbsp;The liquid (fresh) vaccine and the freeze-dried vaccine are the types available.&nbsp;<span data-preserver-spaces=\"true\">The WHO has recommended the&nbsp;</span><strong><span data-preserver-spaces=\"true\">Danish 1331</span></strong><span data-preserver-spaces=\"true\">&nbsp;strain for the production of the BCG vaccine.</span></p>\n<p>After 2-3 weeks of correct vaccine administration a <strong>papule</strong> develops at the site. Its size increases slowly and breaks into a <strong>shallow ulcer</strong> covered with a crust. Healing occurs within 6-12 weeks and will leave a <strong>permanent tiny round scar,&nbsp;</strong>which is a <strong>normal reaction</strong>. <strong>Adverse reactions</strong> seen with BCG vaccine administration are pain, swelling, redness,&nbsp;suppurative lymphadenitis, osteomyelitis, etc.&nbsp;</p>\n<p>The image below shows the BCG scar:&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c38a9db939eb47fb82f117f72c9d08c8x1280x2081.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2847caa580874e3e94b01e559eaea49fx647x404.JPEG"
    ]
  },
  {
    "text": "In the syndromic management of sexually transmitted infections, the grey kit consists of __________",
    "choices": [
      {
        "id": 1,
        "text": "T.Azithromycin + T.Doxycycline"
      },
      {
        "id": 2,
        "text": "T.Secnidazole + C.Fluconazole"
      },
      {
        "id": 3,
        "text": "T.Azithromycin + T.Cefixime"
      },
      {
        "id": 4,
        "text": "T.Acyclovir"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In the syndromic management of sexually transmitted infections, the <strong>grey kit</strong> consists of&nbsp;<strong>T.Azithromycin and T.Cefixime</strong></p>\n<p>The color coded packs are as follows:</p>\n<ul>\n<li><strong>Kit 1</strong>&ndash; Grey, for urethra discharge, anorectal discharge, and cervicitis.</li>\n<li><strong>Kit 2</strong>&ndash; Green, for vaginitis</li>\n<li><strong>Kit 3</strong>&ndash; White, for genital ulcers</li>\n<li><strong>Kit 4</strong>&ndash; Blue, for genital ulcers.</li>\n<li><strong>Kit 5</strong>&ndash; Red, for genital ulcers.</li>\n<li><strong>Kit 6</strong>&ndash; Yellow, for lower abdominal pain</li>\n<li><strong>Kit 7</strong>&ndash; Black, for inguinal bubo</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A sexually active woman who was using barrier contraceptives is planning on switching to DMPA injectables. Which of the following is the correct dosage of this contraceptive?",
    "choices": [
      {
        "id": 1,
        "text": "200 mg every 3 months"
      },
      {
        "id": 2,
        "text": "250 mg every 2 months"
      },
      {
        "id": 3,
        "text": "100 mg every 2 month"
      },
      {
        "id": 4,
        "text": "150 mg every 3 months"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The dosage for <strong>injectable&nbsp;</strong>depot-medroxyprogesterone acetate (<strong>DMPA</strong>) is <strong>150 mg every 3 months.</strong></p>\n<p>It <strong>acts by:</strong></p>\n<ul>\n<li>Bringing changes in the cervical mucus</li>\n<li>Making the endometrium hostile</li>\n<li>Preventing ovulation</li>\n</ul>\n<p><strong>Disadvantages</strong> include <strong>spotting</strong> and <strong>intermediate</strong>&nbsp;per vaginal&nbsp;<strong>bleeding</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/86bd1bc1e387428a871ff147a72ba92dx398x265.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/de9fec57e05b490e86a15552c7c8a07dx432x273.PNG"
    ]
  },
  {
    "text": "According to the National Framework for Malaria Elimination in India, states are classified based on which of the following parameters?",
    "choices": [
      {
        "id": 1,
        "text": "Annual parasite incidence"
      },
      {
        "id": 2,
        "text": "Slide positivity rate"
      },
      {
        "id": 3,
        "text": "Annual falciparum incidence"
      },
      {
        "id": 4,
        "text": "Annual blood examination rate"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>annual parasite incidence (API)</strong>&nbsp;is used in classifying states/UTs according to the National Framework for Malaria Elimination in India.&nbsp;</p>\n<p>The Annual Parasite Incidence&nbsp;is calculated as: (Cases in one year &times;1000) / (Population under surveillance).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following table shows the comparison of results between a screening test and a diagnostic test for HIV infection. Choose the correct option.",
    "choices": [
      {
        "id": 1,
        "text": "The specificity of the screening test is 90%"
      },
      {
        "id": 2,
        "text": "The sensitivity of the screening test is 80%"
      },
      {
        "id": 3,
        "text": "The specificity of the screening test is 80%"
      },
      {
        "id": 4,
        "text": "The sensitivity of the screening test  is 90%"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In HIV infection, the screening test is ELISA and diagnostic test is PCR. The sensitivity of the screening test (ELISA) is <strong>80%.&nbsp;&nbsp;</strong></p>\n<table style=\"width: 343.664px; height: 91px;\">\n<tbody>\n<tr style=\"height: 32.1953px;\">\n<td style=\"width: 83px; height: 32.1953px;\">ELISA result</td>\n<td style=\"width: 91px; height: 32.1953px;\">&nbsp;PCR Positive</td>\n<td style=\"width: 93px; height: 32.1953px;\">PCR Negative</td>\n<td style=\"width: 33.6641px; height: 32.1953px;\">Total&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 83px; height: 18px;\">Positive</td>\n<td style=\"width: 91px; height: 18px;\">80(a)</td>\n<td style=\"width: 93px; height: 18px;\">30(b)</td>\n<td style=\"width: 33.6641px; height: 18px;\">110</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 83px; height: 18px;\">Negative&nbsp;</td>\n<td style=\"width: 91px; height: 18px;\">20(c)</td>\n<td style=\"width: 93px; height: 18px;\">70(d)</td>\n<td style=\"width: 33.6641px; height: 18px;\">90</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 83px; height: 18px;\">Total&nbsp;</td>\n<td style=\"width: 91px; height: 18px;\">100</td>\n<td style=\"width: 93px; height: 18px;\">100</td>\n<td style=\"width: 33.6641px; height: 18px;\">200</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<ul>\n<li>&nbsp;Sensitivity = a/a+c = 80/80+20 = 80%</li>\n<li>&nbsp;Specificity = d/d+b = 70/70+30 = 70%</li>\n<li>&nbsp;Positive predictive value = a/a+b = 80 / 80+30 = 72.7%</li>\n<li>&nbsp;Negative predictive value = d/d+c = 70 / 70+20 = 77.7%</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following modalities are mass approaches for communication, except _______.",
    "choices": [
      {
        "id": 1,
        "text": "Posters"
      },
      {
        "id": 2,
        "text": "Role play"
      },
      {
        "id": 3,
        "text": "Folk methods"
      },
      {
        "id": 4,
        "text": "Newspaper"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Role play</strong>&nbsp;is the <strong>dramatization</strong> of social situations for health education by those taking part in it. It is a <strong>group approach</strong> of communication.</p>\n<p>A <strong>workshop</strong> is a series of <strong>meetings </strong>with an emphasis on <strong>individual work</strong> within the group. External consultants or experts may be involved.</p>\n<p>A <strong>symposium</strong> is a series of <strong>lectures</strong> on a selected subject by experts after which the audience is allowed to ask questions (no discussion is involved).</p>\n<p><strong>Seminars </strong>are similar to conferences and incorporate a variety of methods like speeches, discussions for health education, which may last for half a day to a week.</p>\n<table style=\"width: 516px;\">\n<tbody>\n<tr>\n<td style=\"width: 936px; text-align: center;\" colspan=\"3\">Methods of Health Communication&nbsp;&nbsp;&nbsp;&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 217px; text-align: center;\"><strong>Individual approach</strong></td>\n<td style=\"width: 285.094px; text-align: center;\"><strong>Group approach</strong></td>\n<td style=\"width: 433.906px; text-align: center;\"><strong>Mass approach</strong></td>\n</tr>\n<tr>\n<td style=\"width: 217px;\">\n<ol>\n<li>Personal contact</li>\n<li>Home visits</li>\n<li>Personal letters</li>\n</ol>\n</td>\n<td style=\"width: 285.094px;\">\n<ol>\n<li>Lectures</li>\n<li>Demonstrations</li>\n<li>Discussion methods\n<ul>\n<li>Group discussions</li>\n<li>Panel discussion</li>\n<li>Symposium</li>\n<li>Workshop</li>\n<li>Conferences</li>\n<li>Seminars</li>\n<li>Role play</li>\n</ul>\n</li>\n</ol>\n</td>\n<td style=\"width: 433.906px;\">\n<ol>\n<li>TV</li>\n<li>Radio</li>\n<li>Newspaper</li>\n<li>Printed material</li>\n<li>Direct mailing</li>\n<li>Posters</li>\n<li>Health museums</li>\n<li>Health exhibitions</li>\n<li>Folk method</li>\n<li>Internet</li>\n</ol>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of these is the correct formula to calculate Quetelet\u2019s index?",
    "choices": [
      {
        "id": 1,
        "text": "Weight in kg / Square of height in meters"
      },
      {
        "id": 2,
        "text": "Square of weight in kg/Height in meters"
      },
      {
        "id": 3,
        "text": "Weight in grams/square of height in meters"
      },
      {
        "id": 4,
        "text": "Square of weight in kg/Height in centimeters"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Quetelet&rsquo;s</strong> index or body mass index <strong>(BMI)</strong> is calculated by <strong>weight in kg/square of height in meters</strong>. It is a method of assessing obesity.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In order to effectively prevent endemic goiter, what is the recommended iodine content in salt at the consumer level?",
    "choices": [
      {
        "id": 1,
        "text": "10 ppm"
      },
      {
        "id": 2,
        "text": "15 ppm"
      },
      {
        "id": 3,
        "text": "20 ppm"
      },
      {
        "id": 4,
        "text": "30 ppm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The recommended level of iodine content in salt&nbsp;is <strong>15 ppm</strong> at the&nbsp;<strong>consumer</strong> <strong>level</strong> and <strong>30 ppm&nbsp;</strong>at the&nbsp;<strong>production</strong>&nbsp;<strong>level</strong>.</p>\n<p>The iodization of salt is used as a <strong>prophylactic</strong> measure against <strong>endemic goiter</strong>. In India, the level of iodization is fixed under the Prevention of Food Adulteration (PFA) Act.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Community Medicine Test - 2';
        const quizFilename = 'community-medicine-test-2-dc66702a.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2023 - 24"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>