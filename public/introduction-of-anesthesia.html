<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction of Anesthesia - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: url("assets/background.jpg") center center / cover no-repeat fixed;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Responsive utilities */
@media (max-width: 768px) {
  .glass-card {
    border-radius: 16px;
  }
  
  .glass {
    border-radius: 12px;
  }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Cerebellum / qBank / Anesthesia
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">12</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex container mx-auto px-6 gap-8">
        <!-- Question Navigation Sidebar -->
        <div class="w-80 glass p-6 h-fit sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="flex-1 max-w-4xl">
            <div class="glass-card p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <!-- Explanation Video -->
                    <div id="solutionVideo" class="hidden">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        let questionsData = [
  {
    "id": 16741,
    "choices": [
      {
        "id": 66924,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Morphine</span></span></span></p>"
      },
      {
        "id": 66925,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Bupivacaine</span></span></span></p>"
      },
      {
        "id": 66926,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Midazolam</span></span></span></p>"
      },
      {
        "id": 66927,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Fentanyl</span></span></span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Which of the following is most commonly used as the drug of choice for spinal anesthesia?</span></span></span></p>",
    "unique_key": "Q2399621",
    "question_audio": null,
    "question_video": null,
    "map_id": 16339,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. B. Bupivacaine</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Bupivacaine is a <strong>local anesthetic</strong> that&#39;s often used for <strong>spinal anesthesia</strong>. It provides <strong>both sensory and motor blockage</strong>, making it suitable for a <strong>wide range of surgical procedures</strong>. Bupivacaine is known for its <strong>longer duration of action</strong> compared to other local anesthetics, making it a <strong>common choice for procedures</strong> requiring a longer period of anesthesia.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Explanation :</strong></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Morphine - This is an <strong>opioid medication</strong> that can be used as part of a <strong>spinal anesthesia regimen</strong> for its pain-relieving properties. However, it&#39;s typically used as an <strong>adjunct</strong>, not as the primary anesthetic agent.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Midazolam - Midazolam is a <strong>benzodiazepine</strong>, which is typically used for its <strong>sedative properties</strong> and is not typically used as the primary agent for spinal anesthesia.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Fentanyl - Like morphine, fentanyl is <strong>an opioid</strong> that can be used as part of a <strong>spinal anesthesia regimen</strong> for its analgesic properties. It is also used <strong>as an adjunct</strong> and not as the primary anesthetic agent for spinal anesthesia.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><strong><u>Educational Objective:-</u></strong></span></span></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Bupivacaine&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is the <strong>drug of</strong> <strong>choice</strong> for <strong>spinal anesthesia</strong> due to its <strong>ability</strong> to <strong>provide prolonged sensory</strong> and <strong>motor blockade</strong> suitable for <strong>various surgical procedures</strong>.&quot;</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:14px\"><em><strong><span style=\"font-family:&quot;Segoe UI&quot;,sans-serif\"><span style=\"color:#0f0f0f\">Reference : Miller&rsquo;s anesthesia 8<sup>th</sup> edition page 1043-1044</span></span></strong></em></span></p>",
    "correct_choice_id": 66925,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual"
    ]
  },
  {
    "id": 16738,
    "choices": [
      {
        "id": 66912,
        "text": "<p><span style=\"font-size:12pt;\">Pulse Oximetry</span></p>"
      },
      {
        "id": 66913,
        "text": "<p><span style=\"font-size:12pt;\">Capnography</span></p>"
      },
      {
        "id": 66914,
        "text": "<p><span style=\"font-size:12pt;\">Electrocardiography (ECG)</span></p>"
      },
      {
        "id": 66915,
        "text": "<p><span style=\"font-size:12pt;\">Invasive Blood Pressure Monitoring</span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify;\"><span style=\"font-size:12.0pt;\">Which of the following is NOT a routine monitor used in all types of anesthesia?</span></p>",
    "unique_key": "Q2173698",
    "question_audio": null,
    "question_video": null,
    "map_id": 16336,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt;\"><strong>Ans. D) Invasive Blood Pressure Monitoring</strong></span></p><p>&nbsp;</p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option D</strong>. This type of monitoring involves <strong>inserting a catheter</strong> into an <strong>artery</strong> (<strong>typically in the wrist</strong>) to <strong>measure blood pressure</strong> <strong>continuously</strong>. While <strong>invasive blood pressure</strong> monitoring provides <strong>very accurate readings</strong>, it is not routine in all types of anesthesia. It's typically <strong>reserved</strong> for <strong>high-risk</strong> or <strong>complex surgeries</strong> where <strong>rapid changes in blood pressure are anticipated</strong>, or in cases where it is particularly important to have <strong>continuous, precise blood pressure measurements</strong>. For many types of anesthesia, non-invasive blood pressure monitoring is sufficient.</span></p><p>&nbsp;</p><p><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2023/12/02/whatsapp-image-2023-12-02-at-113723-am.jpeg\" alt=\"\" width=\"400\" height=\"289\"></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong><u>Explanation:</u></strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12.0pt;\"><strong>Option A</strong>. Pulse oximetry is a <strong>standard monitor</strong> used in <strong>all types of anesthesia</strong>. It measures the <strong>oxygen saturation</strong> of the patient's blood, which is crucial in maintaining patient safety.</span></p><p>&nbsp;</p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2023/12/02/picture1_0Ni2lak.jpg\" alt=\"\" width=\"300\" height=\"299\"></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option B</strong>. Capnography measures the <strong>amount of carbon dioxide (CO2) in exhaled air</strong>, providing information about the <strong>patient's respiratory status</strong>. It's a standard part of monitoring under anesthesia.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2023/12/02/whatsapp-image-2023-12-02-at-112052-am.jpeg\" alt=\"\" width=\"400\" height=\"310\"></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option C</strong>. Electrocardiography is <strong>also standard</strong> in any type of anesthesia. It allows the anesthesiologist to <strong>monitor the heart's electrical activity</strong>, helping <strong>detect any cardiac irregularities</strong>.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2023/12/02/picture2.jpg\" alt=\"\" width=\"300\" height=\"318\"></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong><u>Educational objective</u></strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12.0pt;\"><strong>Invasive Blood Pressure Monitoring&nbsp;</strong>is <strong>not routinely</strong> used in <strong>all types of anesthesia</strong>; it is typically <strong>reserved</strong> for <strong>high-risk patients</strong> or <strong>complex surgeries</strong> where <strong>close monitoring</strong> of <strong>blood pressure</strong> is <strong>necessary</strong>. <strong>Pulse Oximetry</strong>, <strong>Capnography,</strong> and <strong>Electrocardiography (ECG)</strong> are <strong>standard non-invasive monitors</strong> used <strong>across various anesthesia settings</strong>.</span></p><p><span style=\"color:#0f0f0f;font-size:14px;\"><i><strong>Reference : Miller\u2019s anesthesia 8<sup>th</sup> edition page 1349-1350</strong></i></span></p>",
    "correct_choice_id": 66915,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual"
    ]
  },
  {
    "id": 16746,
    "choices": [
      {
        "id": 66944,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">14G</span></span></span></p>"
      },
      {
        "id": 66945,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">18G</span></span></span></p>"
      },
      {
        "id": 66946,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">22G</span></span></span></p>"
      },
      {
        "id": 66947,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">26G</span></span></span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Which of the following IV cannula sizes is typically used for adult resuscitation efforts and rapid fluid administration?</span></span></span></p>",
    "unique_key": "Q5255165",
    "question_audio": null,
    "question_video": null,
    "map_id": 16344,
    "difficulty_level": "intermediate",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. A. 14G</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. This is a <strong>large-bore IV cannula</strong> that allows for <strong>rapid fluid administration</strong>, typically used for <strong>adult resuscitation </strong>and<strong> emergencies</strong>. It&#39;s usually <strong>colored orange</strong> for <strong>easy identification</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Explanation :</strong></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. 18G - This is a <strong>medium-sized cannula</strong> commonly used for <strong>blood transfusion</strong>, <strong>administration of fluids</strong>, and <strong>drugs</strong>. It&#39;s typically <strong>colored green</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. 22G - This is a <strong>small-sized cannula</strong> often used for <strong>children</strong> or <strong>adults with small veins</strong>. It&#39;s used for the <strong>administration of fluids and drugs</strong>, but not ideal for rapid fluid administration. It&#39;s typically <strong>colored blue</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. 26G - This is <strong>one of the smallest cannula sizes</strong>, typically used in <strong>neonates</strong> or <strong>infants</strong>, or in <strong>adults with very small, fragile veins</strong>. It&#39;s not used for resuscitation or rapid fluid administration. It&#39;s typically <strong>colored Purple</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><u><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective :-</span></u></strong></span></span></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><img alt=\"\" src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2023/12/02/picture3.jpg\" style=\"height:402px; width:600px\" /></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:14px\"><em><strong><span style=\"font-family:&quot;Times New Roman&quot;,serif\">Reference: https://www.ivcannula.com/blog/iv-cannula-sizes-colors-flow-rates-and-usage/&nbsp;</span></strong></em></span></p>",
    "correct_choice_id": 66944,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "InstrumentsBased"
    ]
  },
  {
    "id": 16734,
    "choices": [
      {
        "id": 66896,
        "text": "<p><span style=\"font-size:12pt;\">Local Anesthesia</span></p>"
      },
      {
        "id": 66897,
        "text": "<p><span style=\"font-size:12pt;\">General Anesthesia</span></p>"
      },
      {
        "id": 66898,
        "text": "<p><span style=\"font-size:12pt;\">Regional Anesthesia</span></p>"
      },
      {
        "id": 66899,
        "text": "<p><span style=\"font-size:12pt;\">Monitored Anesthesia Care (MAC)</span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify;\"><span style=\"font-size:12pt;\">Dr. Soonawalla is preparing to perform a diagnostic procedure on a 70-year-old patient with cardiovascular comorbidities. The procedure involves potential discomfort but is relatively brief and does not require significant surgical intervention. The patient has expressed a wish to be sedated but not completely unconscious, and to have no recall of the procedure. Which type of anesthesia care would be the most suitable in this situation?</span></p>",
    "unique_key": "Q3006672",
    "question_audio": null,
    "question_video": null,
    "map_id": 16331,
    "difficulty_level": "intermediate",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt;\"><strong>Ans. D) Monitored Anesthesia Care (MAC)</strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option D</strong>. Monitored Anesthesia Care (MAC) - Correct. MAC involves the <strong>administration of sedatives, analgesics, </strong>and/or<strong> local </strong>or<strong> regional anesthesia</strong> to <strong>provide</strong> <strong>comfort</strong> and <strong>pain control</strong>. The level of sedation can be <strong>adjusted</strong> from <strong>mild</strong> (patient is <strong>awake but relaxed</strong>) to <strong>deep</strong> (patient is on the <strong>edge of consciousness</strong> but <strong>can be aroused</strong>). Importantly, one of the goals of MAC is to ensure that the patient has <strong>no recall of the procedure</strong>, which aligns with this patient's preferences. Furthermore, MAC is often <strong>suitable</strong> for patients with <strong>comorbidities</strong>, as it can offer a <strong>safer profile</strong> <strong>than general anesthesia</strong> for certain patients.</span></p><p>&nbsp;</p><p><i><strong>Explanation</strong></i></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option A</strong>. Local Anesthesia - This type of anesthesia is often used for <strong>minor procedures</strong> and <strong>numbs a small area</strong> of the body.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option B</strong>. General Anesthesia - Under general anesthesia, the patient is <strong>completely unconscious</strong>. This might be more than what is necessary for this <strong>patient's relatively brief, non-major procedure</strong>. Plus, given the <strong>patient's cardiovascular comorbidities</strong>, the risks of general anesthesia could be <strong>unnecessarily high</strong>.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option C</strong>. Regional Anesthesia - This type of anesthesia <strong>numbs a larger area</strong> of the body than local anesthesia but <strong>doesn't make </strong>the<strong> patient unconscious</strong></span></p><p>&nbsp;</p><p><span style=\"color:#0f0f0f;font-size:12pt;\"><strong><u>Educational objective</u></strong></span></p><p><span style=\"font-size:12.0pt;\">For brief diagnostic procedures requiring <strong>sedation</strong> <strong>without complete unconsciousness</strong>, especially in patients with <strong>cardiovascular comorbidities</strong>, <strong>Monitored Anesthesia Care (MAC)</strong> is the most suitable <strong>anesthesia care </strong>type to ensure <strong>comfort, manage pain</strong>, and <strong>prevent procedure</strong> recall while <strong>minimizing risk</strong>.</span></p><p>&nbsp;</p><p><strong>Types of Anaesthesia -&nbsp;</strong></p><p><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2024/02/07/image.png\" width=\"420\" height=\"262\"></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><i><strong>Reference: Morgan &amp; Mikhail\u2019s Clinical Anesthesiology seventh edition page 29-30.&nbsp;</strong></i></span></p>",
    "correct_choice_id": 66899,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "ClinicalVignette",
      "TreatmentBased"
    ]
  },
  {
    "id": 16748,
    "choices": [
      {
        "id": 66952,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"PT-BR\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Atropine</span></span></span></p>"
      },
      {
        "id": 66953,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"PT-BR\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Midazolam</span></span></span></p>"
      },
      {
        "id": 66954,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"PT-BR\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Fentanyl</span></span></span></p>"
      },
      {
        "id": 66955,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Aspirin</span></span></span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Which of the following is NOT typically used as a premedication drug before anesthesia?</span></span></span></p>",
    "unique_key": "Q9356832",
    "question_audio": null,
    "question_video": null,
    "map_id": 16346,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. D. Aspirin</span></strong></span></span></p>\r\n\r\n<p style=\"text-align:justify\">&nbsp;</p>\r\n\r\n<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Aspirin is <strong>not typically used</strong> as a premedication before anesthesia. In fact, patients are usually advised to <strong>stop taking aspirin</strong> in the <strong>days leading up to surgery</strong>, as it can <strong>increase the risk of bleeding</strong>. Aspirin is an <strong>anti-platelet drug</strong> and <strong>does not</strong> have the <strong>sedative, analgesic, or anti-anxiety properties</strong> typically desired in premedication.</span></span></span></p>\r\n\r\n<p style=\"text-align:justify\">&nbsp;</p>\r\n\r\n<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></strong></span></span></p>\r\n\r\n<p style=\"text-align:justify\">&nbsp;</p>\r\n\r\n<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Atropine - Atropine is often used as a <strong>premedication before anesthesia as an antisialagogue</strong>.</span></span></span></p>\r\n\r\n<p style=\"text-align:justify\">&nbsp;</p>\r\n\r\n<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Midazolam - Midazolam is a <strong>benzodiazepine</strong> commonly used for its <strong>sedative </strong>and<strong> anxiety-relieving effects before surgery</strong>.</span></span></span></p>\r\n\r\n<p style=\"text-align:justify\">&nbsp;</p>\r\n\r\n<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Fentanyl - Fentanyl is an <strong>opioid</strong> that may be used as a <strong>premedication before anesthesia </strong>for its<strong> strong pain-relieving properties</strong>.</span></span></span></p>\r\n\r\n<p style=\"text-align:justify\">&nbsp;</p>\r\n\r\n<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><u><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective:-</span></u></strong></span></span></p>\r\n\r\n<p style=\"text-align:justify\">&nbsp;</p>\r\n\r\n<p style=\"text-align:justify\"><img alt=\"\" src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2024/01/27/screenshot-2024-01-27-121535.jpg\" style=\"height:561px; width:1000px\" /></p>\r\n\r\n<p style=\"text-align:justify\">&nbsp;</p>\r\n\r\n<p style=\"text-align:justify\"><span style=\"font-size:12px\"><span style=\"font-family:Arial,Helvetica,sans-serif\"><strong><u>Ref</u>: Sharp D.&nbsp;Premedication.&nbsp;In:&nbsp;Freeman BS, Berger JS. eds.&nbsp;Anesthesiology Core Review: Part One Basic Exam. McGraw-Hill Education; 2014. Accessed February 03, 2024.&nbsp; https://accessanesthesiology.mhmedical.com/content.aspx?&nbsp;</strong></span></span></p>",
    "correct_choice_id": 66955,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual"
    ]
  },
  {
    "id": 16735,
    "choices": [
      {
        "id": 66900,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Propofol</span></span></span></p>"
      },
      {
        "id": 66901,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Sevoflurane</span></span></span></p>"
      },
      {
        "id": 66902,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Rocuronium</span></span></span></p>"
      },
      {
        "id": 66903,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Beta-blockers</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Which of the following is NOT typically used as a drug in general anesthesia?</span></span></span></p>",
    "unique_key": "Q3101373",
    "question_audio": null,
    "question_video": null,
    "map_id": 16333,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. D. Beta-blockers</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Beta-blockers are drugs that are primarily used to <strong>manage hypertension</strong> and <strong>tachycardia</strong>. They&#39;re <strong>not typically used</strong> as part of the general anesthesia drug protocol. They may be <strong>used</strong> in the <strong>perioperative management</strong> of patients who are <strong>already taking them</strong> for existing conditions, such as <strong>heart disease</strong>, but they are not in themselves anesthetic agents.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Explanation :</strong></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Propofol - This is a <strong>potent intravenous anesthetic agent</strong> used for the <strong>induction </strong>and<strong> maintenance of general anesthesia or sedation</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Sevoflurane - Sevoflurane is a <strong>volatile anesthetic</strong> used for <strong>induction</strong> and <strong>maintenance of general anesthesia</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Rocuronium - Rocuronium is a <strong>non-depolarizing muscle relaxant</strong> used to <strong>facilitate endotracheal intubation</strong> and to <strong>relax</strong> the <strong>skeletal muscles</strong> during <strong>surgery under general anesthesia</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><u><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective</span></u></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">In the context of <strong>general anesthesia</strong>, <strong>beta-blockers</strong> are <strong>not</strong> typically used as <strong>anesthetic agents</strong>; instead, their use is <strong>associated</strong> with the <strong>management</strong> of <strong>pre-existing cardiovascular</strong> <strong>conditions</strong> and not the induction or maintenance of anesthesia.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><em><strong><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\">Reference : Morgan &amp; Mikhail&rsquo;s Clinical Anesthesiology seventh edition page 4-8</span></span></strong></em></p>\r\n\r\n<p style=\"margin-left:48px\">&nbsp;</p>",
    "correct_choice_id": 66903,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "TreatmentBased"
    ]
  },
  {
    "id": 16736,
    "choices": [
      {
        "id": 66904,
        "text": "<p><span style=\"font-size:12pt;\">William T. G. Morton</span></p>"
      },
      {
        "id": 66905,
        "text": "<p><span style=\"font-size:12pt;\">James Simpson</span></p>"
      },
      {
        "id": 66906,
        "text": "<p><span style=\"font-size:12pt;\">William McEwan</span></p>"
      },
      {
        "id": 66907,
        "text": "<p><span style=\"font-size:12pt;\">Jon Snow</span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify;\"><span style=\"font-size:12pt;\">Who is commonly referred to as the \"Father of Modern Anesthesia\"?</span></p>",
    "unique_key": "Q9637446",
    "question_audio": null,
    "question_video": null,
    "map_id": 16334,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt;\"><strong>Ans. A) William T. G. Morton</strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option A.&nbsp;</strong></span></p><p>&nbsp;</p><ul><li><span style=\"font-size:12pt;\">William T. G. Morton is often referred to as the \"<strong>Father of Modern Anesthesia</strong>\". He was a <strong>dentist</strong> by profession and he was the first to <strong>publicly demonstrate</strong> the use of <strong>ether</strong> as <strong>an anesthetic agent </strong>in<strong> 1846</strong>. This event is often considered a defining moment in the history of anesthesia.</span><br>&nbsp;</li></ul><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong><u>Explanation:</u></strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option B. James Simpson:</strong></span></p><ul><li><span style=\"font-size:12pt;\">Sir James Young Simpson (1811-1870) was a <strong>Scottish obstetrician</strong> and <strong>physician</strong> known for his significant contributions to the field of anesthesia. His most notable achievements include:</span></li><li><span style=\"font-size:12pt;\"><strong>Discovery of Chloroform as an Anesthetic</strong>: James Simpson is renowned for introducing chloroform as an effective and safer anesthetic agent for medical procedures. In 1847, he and his colleagues began experimenting with chloroform's use for <strong>pain relief during childbirth and surgeries</strong>. This discovery had a profound impact on reducing pain and suffering during medical procedures and childbirth.</span></li><li><span style=\"font-size:12pt;\"><strong>Advocacy for Anesthesia in Obstetrics</strong>: Simpson was a strong advocate for the use of anesthesia, particularly chloroform, during childbirth. His advocacy led to widespread acceptance of anesthesia in obstetrics, transforming childbirth from a painful and often traumatic experience into a more comfortable and manageable one for women.</span><br>&nbsp;</li></ul><p><span style=\"font-size:12pt;\"><strong>Option C. William McEwan:</strong></span></p><p>&nbsp;</p><ul><li><span style=\"font-size:12pt;\">William McEwan (1848-1924) was a <strong>Scottish surgeon</strong> and a pioneer in the field of anesthesiology. His contributions include:</span></li><li><span style=\"font-size:12pt;\"><strong>Development of the Portable Ether Inhaler</strong>: McEwan is credited with inventing a <strong>portable ether inhaler in 1876</strong>. This device allowed for <strong>safer</strong> and <strong>more controlled administration</strong> of <strong>ether anesthesia</strong> during <strong>surgical procedures</strong>. It was a significant improvement over previous methods of ether administration, making surgery safer and more manageable.</span><br>&nbsp;</li></ul><p><span style=\"font-size:12pt;\"><strong>Option D. John Snow:</strong></span></p><p>&nbsp;</p><ul><li><span style=\"font-size:12pt;\">John Snow (1813-1858) was an <strong>English physician</strong> and one of the early pioneers of <strong>anesthesia </strong>and<strong> epidemiology</strong>. His notable contributions include:</span></li><li><span style=\"font-size:12pt;\"><strong>Investigation of Ether and Chloroform</strong>: Snow conducted extensive research on the use of ether and chloroform as anesthetics. He <strong>published</strong> <strong>several papers</strong> on the <strong>administration</strong> and safety of these agents, contributing to their widespread adoption in medical practice.</span></li><li><span style=\"font-size:12pt;\"><strong>Application of Ether in Surgery</strong>: Snow was <strong>one of the first</strong> to <strong>apply ether anesthesia in surgery</strong>. His work helped <strong>establish the safety and effectiveness</strong> of ether as an anesthetic for various surgical procedures.</span></li><li><span style=\"font-size:12pt;\"><strong>Father of Modern Epidemiology</strong>: While Snow is primarily known for his contributions to anesthesia, he is also recognized as the \"father of modern epidemiology.\" He made <strong>groundbreaking discoveries</strong> related to the <strong>transmission of cholera</strong>, which laid the <strong>foundation for the field of epidemiology</strong>.</span><br>&nbsp;</li></ul><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong><u>Educational Objective :-</u></strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\">The above scientists are <strong>key historical figures</strong> in the <strong>field</strong> of <strong>anesthesiology</strong> and their <strong>contributions</strong> to the <strong>development</strong> and <strong>advancement</strong> of <strong>anesthesia practices</strong>.</span></p><p>&nbsp;</p><p><span style=\"color:#0f0f0f;font-size:14px;\"><i><strong>Reference: Miller\u2019s anesthesia 8<sup>th</sup> edition page 765</strong></i></span></p>",
    "correct_choice_id": 66904,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual"
    ]
  },
  {
    "id": 16737,
    "choices": [
      {
        "id": 66908,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Stage I</span></span></span></p>"
      },
      {
        "id": 66909,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Stage II</span></span></span></p>"
      },
      {
        "id": 66910,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Stage III</span></span></span></p>"
      },
      {
        "id": 66911,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Stage IV</span></span></span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">In Guedel&#39;s classification of the stages of anesthesia, during which stage is surgery typically performed?</span></span></span></p>",
    "unique_key": "Q6930227",
    "question_audio": null,
    "question_video": null,
    "map_id": 16335,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. C. Stage III</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. <strong>Stage III</strong>, the <strong>stage of surgical anesthesia</strong>, is characterized by <strong>regular breathing</strong>, <strong>muscle relaxation</strong>, and a <strong>loss of blink reflex</strong> and <strong>movement in response to pain</strong>. This is the <strong>desired stage</strong> for surgeons to <strong>perform operations</strong> because patients are <strong>deeply anesthetized and stable</strong>, thus the correct answer.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Arthur Guedel</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">, an <strong>American anesthesiologist</strong>, defined <strong>four stages of anesthesia</strong> to describe the <strong>physiological state of patients</strong> as they <strong>undergo anesthesia</strong>. The brief overview of each stage is explained in each option.&nbsp;</span></span></span></p>\r\n\r\n<p><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2024/02/07/image_gfwokcB.png\" style=\"height:305px; width:493px\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation&nbsp;</span></strong></span></span></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A.</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\"> <strong>Stage I</strong>, also known as the <strong>stage of analgesia</strong>, is the period <strong>between the beginning of anesthesia</strong> and the <strong>loss of consciousness</strong>. The patient is <strong>awake</strong> but <strong>feels no pain</strong>. However, <strong>surgical procedures can&#39;t be performed</strong> during this stage because the level of anesthesia is <strong>not deep enough</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. <strong>Stage II</strong>, known as the <strong>stage of excitement or delirium</strong>, is characterized by the <strong>patient&#39;s loss of consciousness, irregular breathing, increased heart rate, </strong>and<strong> involuntary movements</strong>. This is a <strong>dangerous stage</strong> because of the <strong>risk of patient injury</strong> and <strong>uncontrolled movements</strong>, hence, <strong>surgery is not performed</strong> in this stage.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. <strong>Stage IV</strong>, the <strong>stage of overdose</strong>, is a <strong>dangerous stage</strong> characterized by <strong>severe brain depression</strong> leading to <strong>cessation of respiration</strong> and <strong>loss of cardiovascular control mechanisms</strong>. If not quickly corrected, it <strong>can lead to death</strong>, hence it&#39;s a stage to avoid during anesthesia administration.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><u><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective</span></u></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Surgery&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is typically <strong>performed</strong> during <strong>Stage III</strong> of <strong>Guedel&#39;s classification</strong> of <strong>anesthesia</strong>, where there is <strong>adequate muscle relaxation</strong> and a <strong>sufficient depth</strong> of <strong>anesthesia</strong> to ensure that the patient <strong>does not respond</strong> to <strong>painful stimuli</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:14px\"><em><strong><span style=\"font-family:Calibri,sans-serif\"><span style=\"font-family:&quot;system-ui&quot;,serif\"><span style=\"color:#374151\">Reference : Siddiqui BA, Kim PY. Anesthesia Stages. [Updated 2023 Jan 29]. In: StatPearls [Internet]. Treasure Island (FL): StatPearls Publishing; 2024 Jan</span></span></span></strong></em></span></p>",
    "correct_choice_id": 66910,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual"
    ]
  },
  {
    "id": 16739,
    "choices": [
      {
        "id": 66916,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"PT-BR\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">General Anesthesia</span></span></span></p>"
      },
      {
        "id": 66917,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"PT-BR\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Local Anesthesia</span></span></span></p>"
      },
      {
        "id": 66918,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Monitored Anesthesia Care (MAC)</span></span></span></p>"
      },
      {
        "id": 66919,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Regional Anesthesia</span></span></span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">A 32-year-old pregnant woman, Mrs. Sharma, is preparing for an elective Cesarean section (LSCS). She is healthy with no medical comorbidities. She wants to be awake during the procedure to experience the birth of her baby but also desires to be free from any pain. Which type of anesthesia would be most suitable for her procedure?</span></span></span></p>",
    "unique_key": "Q9833108",
    "question_audio": null,
    "question_video": null,
    "map_id": 16337,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. D. Regional Anesthesia</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Regional anesthesia, such as <strong>spinal or epidural anesthesia</strong>, is often the <strong>preferred</strong> type of anesthesia for a <strong>cesarean section</strong>. It allows the <strong>mother to be awake</strong> and <strong>alert during the procedure</strong>, while <strong>effectively controlling pain</strong> by <strong>numbing the lower half</strong> of her body. It is <strong>safe</strong> and <strong>allows the mother</strong> to <strong>experience the birth</strong> of her baby, aligning with Mrs. Sharma&#39;s preferences. It also carries <strong>less risk of aspiration</strong> compared to general anesthesia and <strong>provides good postoperative analgesia</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Explanation :</strong></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. General Anesthesia - This would make the patient <strong>completely unconscious</strong>, which contradicts her wish to be awake during the birth of her baby. Additionally, general anesthesia for cesarean section carries a <strong>higher risk of aspiration</strong> compared to <strong>regional anesthesia</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Local Anesthesia - This type of anesthesia <strong>would not provide adequate pain control</strong> for a procedure such as a cesarean section.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Monitored Anesthesia Care (MAC) - While MAC does <strong>provide sedation</strong> and <strong>some pain control</strong>, it wouldn&#39;t provide the level of <strong>pain control</strong> needed for a <strong>cesarean section</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><strong><u>Educational Objective :- </u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span dir=\"ltr\" lang=\"EN-US\" style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">The <strong>most appropriate anesthesia</strong> that <strong>allows</strong> a patient to <strong>remain alert</strong> and <strong>pain-free</strong> during a <strong>Cesarean section</strong>, is <strong>regional anesthesia</strong> as the <strong>ideal choice</strong> for <strong>patients</strong> who wish to be <strong>conscious</strong> during the <strong>delivery</strong> of <strong>their child</strong>.</span></span></p>\r\n\r\n<p><span style=\"font-size:14px\"><em><strong><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span style=\"font-family:&quot;Segoe UI&quot;,sans-serif\"><span style=\"color:#0f0f0f\">Reference : Miller&rsquo;s anesthesia 8<sup>th</sup> edition page 1688</span></span></span></strong></em></span></p>",
    "correct_choice_id": 66919,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "ClinicalVignette",
      "TreatmentBased"
    ]
  },
  {
    "id": 16740,
    "choices": [
      {
        "id": 66920,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"PT-BR\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Spinal Anesthesia</span></span></span></p>"
      },
      {
        "id": 66921,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"PT-BR\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Epidural Anesthesia</span></span></span></p>"
      },
      {
        "id": 66922,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">General Anesthesia</span></span></span></p>"
      },
      {
        "id": 66923,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Brachial Plexus Block</span></span></span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">A 45-year-old man presents with a distal end radius fracture. His medical history is unremarkable, and he is scheduled for an open reduction and internal fixation of the fracture. Which of the following types of anesthesia is typically preferred for this procedure?</span></span></span></p>",
    "unique_key": "Q5718921",
    "question_audio": null,
    "question_video": null,
    "map_id": 16338,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. D. Brachial Plexus Block</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. A brachial plexus block is a type of <strong>regional anesthesia</strong> that <strong>numbs the upper extremity</strong>, making it an <strong>ideal choice for surgeries</strong> involving the <strong>arm or hand</strong>. For a <strong>distal end radius fracture</strong>, a brachial plexus block can provide <strong>excellent pain control</strong> <strong>both during and after the procedure</strong>, while also allowing the patient to <strong>avoid</strong> the <strong>potential side effects</strong> and <strong>risks associated with general anesthesia</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Explanation :</strong></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Spinal Anesthesia - This type of anesthesia is typically used for procedures involving the <strong>lower half of the body</strong>, not for upper limb surgeries like a distal end radius fracture.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Epidural Anesthesia - Like spinal anesthesia, epidural anesthesia is typically used for procedures involving the <strong>lower half of the body</strong>. It&#39;s not typically used for upper extremity procedures.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. General Anesthesia - While general anesthesia <strong>can be used for any surgical procedure</strong>, it might be more than what&#39;s necessary for a procedure like an open reduction and internal fixation of a distal radius fracture. It can also <strong>carry higher risks</strong> and a <strong>longer recovery period</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Calibri,sans-serif\"><strong><u>Educational Objective</u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">The <strong>most suitable anesthesia</strong> for <strong>upper extremity procedures</strong>, <strong>recognizes</strong> <strong>brachial plexus</strong> <strong>block</strong> as the <strong>preferred method</strong> for <strong>pain control</strong> <strong>during</strong> and <strong>after surgeries</strong> like <strong>open reduction</strong> and <strong>internal fixation</strong> of a <strong>distal radius fracture</strong>, due to its <strong>effectiveness</strong> and <strong>reduced risk profile</strong> compared to <strong>general anesthesia</strong>.&quot;</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:14px\"><em><strong><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span style=\"font-family:&quot;Segoe UI&quot;,sans-serif\"><span style=\"color:#0f0f0f\">Reference : Miller&rsquo;s anesthesia 8<sup>th</sup> edition page 1725-1726</span></span></span></strong></em></span></p>",
    "correct_choice_id": 66923,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "ClinicalVignette",
      "TreatmentBased"
    ]
  },
  {
    "id": 16743,
    "choices": [
      {
        "id": 66932,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Sir Humphry Davy</span></span></span></p>"
      },
      {
        "id": 66933,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Albert Einstein</span></span></span></p>"
      },
      {
        "id": 66934,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Marie Curie</span></span></span></p>"
      },
      {
        "id": 66935,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Joseph Priestley</span></span></span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Who is the scientist credited with the discovery of Nitrous Oxide?</span></span></span></p>",
    "unique_key": "Q4211627",
    "question_audio": null,
    "question_video": null,
    "map_id": 16341,
    "difficulty_level": "intermediate",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. D. Joseph Priestley</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Joseph Priestley was an <strong>18th-century English chemist</strong> and <strong>theologian</strong> who is credited with the <strong>discovery of several &quot;airs&quot; (gases),</strong> including <strong>nitrous oxide</strong>, which he identified in <strong>1772</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Explanation :</strong></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Sir Humphry Davy - Sir Humphry Davy is known for his work in the field of <strong>chemistry</strong>, including his <strong>experiments</strong> with <strong>nitrous oxide</strong>. However, he did not discover nitrous oxide; he was the <strong>first person to suggest</strong> its use in <strong>dentistry and surgery</strong> as an <strong>anesthetic</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Albert Einstein - Albert Einstein was a <strong>physicist</strong>, <strong>best known</strong> for his <strong>theory of relativity</strong>. He did not contribute to the discovery of nitrous oxide.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Marie Curie - Marie Curie was a <strong>physicist </strong>and<strong> chemist</strong> who conducted <strong>pioneering research on radioactivity</strong>. She was the <strong>first woman to win a Nobel Prize</strong>, but she was not involved in the discovery of nitrous oxide.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><u><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective:- </span></u></strong></span></span></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">The above mentioned scientists are <strong>key historical figures</strong> in the <strong>field</strong> of <strong>anesthesiology</strong> and have <strong>contributed</strong> to the <strong>development</strong> and <strong>advancement</strong> of <strong>anesthesia practices</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:14px\"><em><strong><span style=\"font-family:Calibri,sans-serif\">Reference : Morgan &amp; Mikhail&rsquo;s Clinical Anesthesiology 7th edition page 5</span></strong></em></span></p>",
    "correct_choice_id": 66935,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual"
    ]
  },
  {
    "id": 16744,
    "choices": [
      {
        "id": 66936,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Local Anesthesia</span></span></span></p>"
      },
      {
        "id": 66937,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Monitored Anesthesia Care (MAC)</span></span></span></p>"
      },
      {
        "id": 66938,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Regional Anesthesia</span></span></span></p>"
      },
      {
        "id": 66939,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">General Anesthesia</span></span></span></p>"
      }
    ],
    "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">A 25-year-old man is involved in a severe motor vehicle accident and has sustained multiple injuries including a ruptured spleen and multiple broken ribs. Emergency surgery is required. The patient is currently unconscious. What would be the anesthesia of choice in this case?</span></span></span></p>",
    "unique_key": "Q6459910",
    "question_audio": null,
    "question_video": null,
    "map_id": 16342,
    "difficulty_level": "beginner",
    "subjects_id": [
      19
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. D. General Anesthesia</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. General anesthesia would be the <strong>anesthesia of choice</strong> in this scenario as it would provide the <strong>necessary full body anesthesia</strong> for a <strong>complex, multi-organ procedure</strong>. In addition, as the patient is <strong>unconscious</strong> and the surgery is an <strong>emergency</strong>, general anesthesia allows for <strong>control of the airway, breathing, and circulation</strong>, and ensures the patient <strong>remains unaware</strong> and <strong>does not experience pain during the procedure</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>Explanation :</strong></p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Local Anesthesia - This <strong>wouldn&#39;t provide</strong> the necessary widespread pain control for a complex, multi-organ surgical procedure like a splenectomy.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Monitored Anesthesia Care (MAC) - This is often used for <strong>minor surgeries</strong> and wouldn&#39;t provide the necessary depth of anesthesia for this complex emergency surgical procedure.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C</span></strong><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">. Regional Anesthesia - While regional anesthesia can be suitable for certain surgeries, it&#39;s <strong>not appropriate</strong> in this case as it <strong>wouldn&#39;t provide the broad coverage</strong> necessary for the multiple surgical sites, and furthermore, it&#39;s not suitable for an unconscious patient.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><u><span dir=\"ltr\" lang=\"EN-US\" style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective :-</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:&quot;Times New Roman&quot;,serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">General Anesthesia&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is the <strong>appropriate choice</strong> for an <strong>unconscious patient</strong> requiring <strong>emergency surgery</strong> for <strong>multiple traumatic injuries</strong> to <strong>ensure full-body anesthesia</strong> and <strong>maintain control</strong> over <strong>airway</strong>, <strong>breathing</strong>, and <strong>circulation</strong> during <strong>complex procedures</strong>.&quot;</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:14px\"><em><strong><span style=\"font-family:Calibri,sans-serif\">Reference : Morgan &amp; Mikhail&rsquo;s Clinical Anesthesiology 7th edition page 4</span></strong></em></span></p>",
    "correct_choice_id": 66939,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "ClinicalVignette",
      "TreatmentBased"
    ]
  }
];
        let quizName = 'Introduction of Anesthesia';
        let hierarchy = ["Cerebellum", "qBank", "Anesthesia"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }
            
            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>