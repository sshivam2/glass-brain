<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contrast Media - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Cerebellum / qBank / Radiology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">13</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "id": 3804,
    "choices": [
      {
        "id": 15195,
        "text": "<p><span style=\"font-size:12pt;\">Enteroclysis</span></p>"
      },
      {
        "id": 15196,
        "text": "<p><span style=\"font-size:12pt;\">Proctography</span></p>"
      },
      {
        "id": 15197,
        "text": "<p><span style=\"font-size:12pt;\">Barium enema</span></p>"
      },
      {
        "id": 15198,
        "text": "<p><span style=\"font-size:12pt;\">Barium meal follow through</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt;\">Identify the radiological procedure shown below?</span></p><p>&nbsp;</p><p><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2023/03/30/fghsghdl.png\" alt=\"\" width=\"261\" height=\"305\"></p>",
    "unique_key": "Q7394741",
    "question_audio": null,
    "question_video": null,
    "map_id": 4125,
    "difficulty_level": "beginner",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt;\"><strong>Ans. A. Enteroclysis</strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option A:</strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Enteroclysis&nbsp;</strong>is<strong>&nbsp;</strong>a <strong>specialized radiological</strong> examination where <strong>barium</strong> is introduced directly into the <strong>small intestine</strong> via a <strong>tube to distend</strong> and evaluate it.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong><u>Explanation:</u></strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option B. Proctography:&nbsp;</strong>A <strong>radiological test</strong> that assesses the <strong>rectal</strong> and <strong>anal function</strong> during <strong>defecation</strong>.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option C. Barium enema:&nbsp;</strong>A <strong>barium contrast study</strong> of the <strong>large intestine</strong> that does not involve the small intestine as primarily visualized in the image.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option D. Barium meal follow-through:&nbsp;</strong>Involves <strong>oral ingestion</strong> of <strong>barium</strong> followed by <strong>sequential X-ray imaging</strong> to track its passage through the gastrointestinal tract.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong><u>Educational Objective:</u></strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\">The image is characteristic of <strong>enteroclysis</strong>, where a <strong>tube is inserted up to the duodenojejunal flexure</strong>, and <strong>barium</strong> is <strong>injected</strong> to provide <strong>enhanced distension</strong> and <strong>visualization</strong> of the <strong>small bowel</strong>.</span></p><p><br><span style=\"font-size:12.0pt;\"><strong>Barium enteroclysis&nbsp;</strong>is performed via a <strong>tube inserted up to DJ flexure</strong> and <strong>barium</strong> is <strong>injected</strong> to provide better <strong>distension</strong>.</span></p><p>&nbsp;</p><p><span style=\"font-size:12.0pt;\"><img src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2024/04/23/screenshot-2024-04-23-141620.JPG\" alt=\"\" width=\"1000\" height=\"409\"></span></p><p>&nbsp;</p><p><span style=\"font-size:12.0pt;\"><strong><u>Ref:&nbsp;</u>Page no-276, Grainger &amp; Allison's Diagnostic Radiology Essentials, 2nd Edition (2018)</strong></span></p>",
    "correct_choice_id": 15195,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "ImageBased",
      "InvestigationBased"
    ]
  },
  {
    "id": 3812,
    "choices": [
      {
        "id": 15227,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Iohexol</span></span></span></p>"
      },
      {
        "id": 15228,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Water</span></span></span></p>"
      },
      {
        "id": 15229,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Gadolinium&nbsp; </span></span></span></p>"
      },
      {
        "id": 15230,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Barium</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">A 3-day-old newborn baby boy is brought to the hospital with difficulty breathing, cyanosis and coughing whenever he is fed. The baby was born full-term via vaginal delivery, and his mother had an uneventful pregnancy. He had a birth weight of 2.8 kg and was discharged from the hospital after 48 hours of observation. On examination, the baby appears to be in respiratory distress, with increased work of breathing and decreased oxygen saturation levels. What would be the best contrast of choice for study?</span></span></p>",
    "unique_key": "Q1577838",
    "question_audio": null,
    "question_video": null,
    "map_id": 4133,
    "difficulty_level": "beginner",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. A. Iohexol</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A:</span></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">The given scenario describes a likely case of <strong>Tracheo-esophageal fistula</strong>. <strong>Non-ionic iodinated contrast</strong> (Iohexol, Iomeprol) is preferred in such cases where barium is contraindicated.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Iohexol&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is a <strong>non-ionic iodinated contrast agent</strong> appropriate for cases where there&#39;s a <strong>risk of aspiration</strong>, such as a suspected <strong>tracheo-esophageal fistula</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option B:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Water</strong>, though <strong>harmless if aspirated</strong>, does not provide sufficient contrast for detailed imaging.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option C:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Gadolinium</strong> is used primarily in <strong>MRI</strong> and is not suitable for fluoroscopic studies typically required for diagnosing tracheo-esophageal fistulas.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option D:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Barium</strong>, while commonly used for <strong>contrast studies</strong>, can cause severe complications if aspirated into the lungs and is contraindicated in suspected tracheo-esophageal fistula.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective: </span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">In the scenario of a <strong>neonate</strong> with suspected <strong>tracheo-esophageal fistula</strong>, <strong>Iohexol</strong> is the <strong>contrast of choice</strong> due to its <strong>safety profile</strong> in cases where there is a potential risk of <strong>aspiration into the lungs</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong><u><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></span></u><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no-946, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition(2018)</span></span></strong></p>",
    "correct_choice_id": 15227,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "InvestigationBased"
    ]
  },
  {
    "id": 3818,
    "choices": [
      {
        "id": 15251,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Rise in Serum Creatinine by 1.5 mg in 48 hours</span></span></span></p>"
      },
      {
        "id": 15252,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Rise in Serum Creatinine by 2 mg in 48 hours</span></span></span></p>"
      },
      {
        "id": 15253,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Rise in Serum Creatinine by 0.5 mg in 48 hours</span></span></span></p>"
      },
      {
        "id": 15254,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Rise in Serum Creatinine by 1 mg in 48 hours</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Contrast induced nephropathy is defined as: </span></span></p>",
    "unique_key": "Q5196317",
    "question_audio": null,
    "question_video": null,
    "map_id": 4138,
    "difficulty_level": "difficult",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. C. Rise in Serum Creatinine by 0.5 mg in 48 hours</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">:</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Contrast-induced nephropathy</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<ul>\r\n\t<li><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Defined as the <strong>impairment of renal function within 48 hours</strong> of <strong>intravenous contrast administration</strong> measured as either: </span></span></span>\r\n\r\n\t<ul style=\"list-style-type:circle\">\r\n\t\t<li><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">25% increase in serum creatinine from baseline </span></strong></span></span></li>\r\n\t\t<li><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">0.5 mg/dL increase in absolute Serum Creatinine value</span></strong></span></span></li>\r\n\t</ul>\r\n\t</li>\r\n\t<li><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">It should also not be attributable to any other identifiable cause of renal failure.</span></span></span></li>\r\n\t<li><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Hydration is cornerstone&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">in <strong>prevention of contrast induced nephropathy.</strong></span></span></span></li>\r\n\t<li><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Non-ionic dimer&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">(Iodixanol) is the <strong>safest contrast agent of choice</strong> in patients with <strong>high risk of CIN</strong> as it is <strong>iso-osmolar.</strong> </span></span></span></li>\r\n</ul>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective: </span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Contrast-induced nephropathy&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is defined as a <strong>rise in serum creatinine by 0.5 mg/dL</strong> within <strong>48 hours</strong> after <strong>contrast administration</strong>, without an alternative cause for <strong>renal impairment.</strong> It&#39;s important to <strong>ensure adequate hydration</strong> to <strong>prevent CIN</strong>, and <strong>non-ionic dimer contrast agents</strong> like <strong>Iodixanol</strong>, which are <strong>iso-osmolar</strong>, are preferred for at-risk patients.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no -948, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition(2018)</span></strong></span></span></p>",
    "correct_choice_id": 15253,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "InvestigationBased"
    ]
  },
  {
    "id": 3831,
    "choices": [
      {
        "id": 15303,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ioxaglate is an example of ionic monomer</span></span></span></p>"
      },
      {
        "id": 15304,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ionic monomers have three iodine atoms per two particles in solution</span></span></span></p>"
      },
      {
        "id": 15305,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Iohexol is a high osmolar contrast media</span></span></span></p>"
      },
      {
        "id": 15306,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">High osmolar contrast agents may be ionic or non-ionic</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">All of the statements about contrast media are false except?</span></span></p>",
    "unique_key": "Q5540238",
    "question_audio": null,
    "question_video": null,
    "map_id": 4151,
    "difficulty_level": "intermediate",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. B) Ionic monomers have three iodine atoms per two particles in solution</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B:</span></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ionic monomers&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">indeed have <strong>three iodine atoms</strong> <strong>per two particles in solution</strong>, indicating a <strong>ratio</strong> that <strong>impacts osmolality.</strong></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option A:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Ioxaglate</strong> is not an example of an ionic monomer, but rather a <strong>dimer</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option C:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Iohexol</strong> is a <strong>non-ionic</strong>, <strong>low osmolar contrast media</strong>, not high osmolar.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option D:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>High osmolar contrast agents</strong> are typically <strong>ionic</strong>, not non-ionic.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective:</span></u></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">The <strong>correct statement</strong> about <strong>contrast media</strong> is that <strong>ionic monomers</strong> have <strong>three iodine atoms</strong> per <strong>two particles in solution</strong>, which is a determinant of their <strong>osmolality</strong> and a factor in their classification.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><img alt=\"\" src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2024/04/23/screenshot-2024-04-23-141730.JPG\" style=\"height:569px; width:1000px\" /></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no -946, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition(2018)</span></strong></span></span></p>",
    "correct_choice_id": 15304,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "DiagnosisBased",
      "InvestigationBased"
    ]
  },
  {
    "id": 3834,
    "choices": [
      {
        "id": 15315,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Paramagnetic material which can shorten the T1 relaxation time</span></span></span></p>"
      },
      {
        "id": 15316,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Injected as Gadolinium chelates</span></span></span></p>"
      },
      {
        "id": 15317,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Can cross the BBB</span></span></span></p>"
      },
      {
        "id": 15318,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Long-term studies show deposition in brain in basal ganglia in autopsy at high doses</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Which of the following is false about Gadolinium: </span></span></p>",
    "unique_key": "Q1084735",
    "question_audio": null,
    "question_video": null,
    "map_id": 4155,
    "difficulty_level": "intermediate",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. C. Can cross the BBB</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C:</span></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Gadolinium chelates&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">do <strong>not cross the blood brain barrier</strong> unless the <strong>barrier is disrupted.</strong> These <strong>agents accumulate</strong> in <strong>tissues</strong> with <strong>abnormal vascularity</strong> (inflammation &amp; malignancy) and in <strong>regions where BBB is disrupted</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Under <strong>normal conditions</strong>, <strong>Gadolinium chelates</strong> do <strong>not</strong> cross the <strong>intact blood-brain barrier.</strong></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation: </span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option A:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Gadolinium</strong> is indeed a <strong>paramagnetic material</strong> that can <strong>shorten T1 relaxation times in MRI imaging</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option B:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Gadolinium</strong> is used in its <strong>chelated form</strong> to <strong>ensure safety and prevent toxicity</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option D:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>High doses of Gadolinium</strong> have been <strong>associated with deposition in the brain</strong>, particularly in the <strong>basal ganglia</strong>, as shown in long-term studies and autopsy findings.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Gadolinium chelates&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">generally <strong>do not cross the intact blood-brain barrier</strong>, which is a critical consideration in their <strong>diagnostic use in MRI imaging.</strong></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no -946, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition(2018)</span></strong></span></span></p>",
    "correct_choice_id": 15317,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "InvestigationBased"
    ]
  },
  {
    "id": 3840,
    "choices": [
      {
        "id": 15339,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Myelography</span></span></span></p>"
      },
      {
        "id": 15340,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Neurography</span></span></span></p>"
      },
      {
        "id": 15341,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Fluoroscopy</span></span></span></p>"
      },
      {
        "id": 15342,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Angiography</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Identify the investigation shown below? </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><span style=\"color:black\"><img alt=\"\" src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2023/03/30/sdfjfkjdf.png\" style=\"height:310px; width:300px\" /></span></span></span></p>",
    "unique_key": "Q1601826",
    "question_audio": null,
    "question_video": null,
    "map_id": 4161,
    "difficulty_level": "beginner",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. A. </span></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Myelography</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A: </span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Myelography&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is the <strong>process of injecting iodinated contrast medium</strong> into the <strong>subarachnoid space</strong>. </span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Contrast agent&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">of choice: <strong>Iohexol</strong> </span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Myelography&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">has largely been <strong>replaced by MRI and CT</strong> but it is still sometimes performed, particularly in patients with <strong>spinal hardware precluding MRI studies</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Myelography&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is an <strong>imaging technique</strong> that involves <strong>injecting contrast medium</strong> into the <strong>subarachnoid space</strong> around the <strong>spinal cord</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B: Neurography</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> &ndash; <strong>Specialized MRI technique</strong> to image <strong>peripheral nerves</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C: Fluoroscopy</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> &ndash; <strong>Real-time X-ray imaging</strong> that is often used to <strong>guide procedures.</strong></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D: Angiography</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> &ndash; <strong>Imaging of blood vessels</strong> using <strong>contrast media</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective:</span></u></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">The <strong>image demonstrates myelography</strong>, an investigation where <strong>contrast is injected into the subarachnoid space</strong>, primarily used when MRI is contraindicated.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong><u><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></span></u><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no -812, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition (2018)</span></span></strong></p>",
    "correct_choice_id": 15339,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "DiagnosisBased",
      "ImageBased"
    ]
  },
  {
    "id": 3848,
    "choices": [
      {
        "id": 15371,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Nonionic Dimer</span></span></span></p>"
      },
      {
        "id": 15372,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Nonionic Monomer</span></span></span></p>"
      },
      {
        "id": 15373,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ionic Monomer</span></span></span></p>"
      },
      {
        "id": 15374,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ionic Dimer</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Which of the following water-soluble iodinated contrast has highest osmolality?</span></span></p>",
    "unique_key": "Q2760882",
    "question_audio": null,
    "question_video": null,
    "map_id": 4169,
    "difficulty_level": "intermediate",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. C. Ionic Monomer</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C: </span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ionic Monomer&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">typically has the <strong>highest osmolality</strong> among <strong>contrast agents</strong> due to having <strong>three iodine atoms</strong> bound to <strong>one benzene ring</strong> which <strong>dissociates into two particles</strong> in <strong>solution</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A. Nonionic Dimer:&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">These agents have a <strong>lower osmolality compared to ionic contrasts</strong> due to their structure.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B. Nonionic Monomer:&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">This contrast media is <strong>lower in osmolality</strong> than <strong>ionic agents</strong> and generally preferred for its safety profile.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D. Ionic Dimer:&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">These are <strong>ionic</strong> but generally have <strong>lower osmolality</strong> than <strong>monomeric ionic agents</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective: </span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ionic monomer contrast agents&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">have the <strong>highest osmolality</strong> among <strong>iodinated contrast media</strong>, which can be a consideration in their <strong>use due to potential risks</strong> of <strong>contrast-induced nephropathy</strong> and other side effects.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Types of Radiocontrast Media </span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><img alt=\"\" src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2024/04/23/screenshot-2024-04-23-141839.JPG\" style=\"height:430px; width:700px\" /></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no -946, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition (2018)</span></strong></span></span></p>",
    "correct_choice_id": 15373,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "CriteriaBased",
      "Factual"
    ]
  },
  {
    "id": 3853,
    "choices": [
      {
        "id": 15391,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Levovist</span></span></span></p>"
      },
      {
        "id": 15392,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Eovist</span></span></span></p>"
      },
      {
        "id": 15393,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Optison</span></span></span></p>"
      },
      {
        "id": 15394,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Sonovue</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">All of the following are contrast agents used in ultrasound except? </span></span></p>",
    "unique_key": "Q4341234",
    "question_audio": null,
    "question_video": null,
    "map_id": 4174,
    "difficulty_level": "difficult",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. B.</span></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> Eovist</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B: </span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Eovist&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is the <strong>trade name of gadolinium-based contrast agent</strong> (gadolinium-EOB-DTPA) which is <strong>selectively taken up by hepatocytes</strong>, which will <strong>increase the signal intensity</strong> of <strong>normal liver parenchyma</strong> on <strong>T1-weighted images</strong>. </span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">A <strong>gadolinium-based contrast agent</strong> used in <strong>MRI</strong>, not ultrasound.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A. Levovist</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">: An <strong>ultrasound contrast agent</strong> used to <strong>enhance the quality</strong> of the <strong>ultrasound image</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C. Optison</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">: Another <strong>ultrasound contrast agent</strong>, used to <strong>improve the visualization</strong> of the <strong>heart&#39;s interior structures</strong> during an <strong>echocardiogram.</strong></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D. Sonovue</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">: An <strong>ultrasound</strong> enhancing <strong>agent</strong> used during <strong>echocardiograms</strong> and other <strong>ultrasound examinations</strong> to improve the <strong>clarity of the image</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective:</span></u></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Eovist&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is <strong>not</strong> an <strong>ultrasound contrast agent</strong>; it is a <strong>gadolinium-based agent</strong> used for <strong>liver imaging in MRI studies</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> Page no -946, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition (2018)</span></strong></span></span></p>",
    "correct_choice_id": 15392,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "InstrumentsBased"
    ]
  },
  {
    "id": 3858,
    "choices": [
      {
        "id": 15411,
        "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Gastrograffin</span></span></span></p>"
      },
      {
        "id": 15412,
        "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">lohexol</span></span></span></p>"
      },
      {
        "id": 15413,
        "text": "<p style=\"text-align:justify\"><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Gadolinium</span></span></span></p>"
      },
      {
        "id": 15414,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Barium sulphate</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">What is the best contrast agent for the diagnosis of esophageal perforation? </span></span></p>",
    "unique_key": "Q8444873",
    "question_audio": null,
    "question_video": null,
    "map_id": 4179,
    "difficulty_level": "intermediate",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. B. Iohexol </span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B:</span></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Barium contrast&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is <strong>contraindicated</strong> in <strong>esophageal perforation</strong> as it <strong>causes mediastinitis</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Iodinated contrast&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is safe for <strong>suspected GI perforation</strong> or <strong>trachea-esophageal fistula</strong> where barium is contraindicated. <strong>Iohexol</strong> (low osmolar) is preferred <strong>over Gastrograffin</strong> (high-osmolar) as it has a <strong>high chance</strong> of <strong>causing aspiration pneumonitis</strong> and <strong>pulmonary edema</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Iohexol</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">, a <strong>non-ionic</strong>, <strong>low osmolar contrast medium</strong>, is <strong>safer</strong> for use in suspected <strong>gastrointestinal perforations</strong> due to <strong>lower risk of severe inflammatory reactions</strong> if <strong>aspirated</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option A:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Gastrograffin</strong> is a <strong>water-soluble contrast agent</strong> but has a <strong>higher osmolarity</strong> and risk of causing pneumonitis if aspirated.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option C:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Gadolinium</strong> is used in <strong>MRI</strong> and is not appropriate for diagnosing esophageal perforations.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option D:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Barium sulfate</strong> can lead to <strong>severe mediastinitis</strong> if used in the <strong>setting of esophageal perforation</strong> and is therefore contraindicated.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective:</span></u></strong> </span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Iohexol&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is the <strong>contrast agent</strong> of choice for the <strong>evaluation of esophageal perforation</strong> due to its <strong>safety profile</strong> compared to <strong>high osmolar agents</strong> and <strong>barium sulfate</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong><u><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></span></u><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no-946, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition(2018)</span></span></strong></p>",
    "correct_choice_id": 15412,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "InstrumentsBased"
    ]
  },
  {
    "id": 3864,
    "choices": [
      {
        "id": 15435,
        "text": "<p><span style=\"font-size:12pt;\">CECT</span></p>"
      },
      {
        "id": 15436,
        "text": "<p><span style=\"font-size:12pt;\">CECT with oral contrast</span></p>"
      },
      {
        "id": 15437,
        "text": "<p><span style=\"font-size:12pt;\">Gastrograffin study</span></p>"
      },
      {
        "id": 15438,
        "text": "<p><span style=\"font-size:12pt;\">Barium meal</span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt;\">A 60-year-old man with a history of peptic ulcer disease presents to the emergency department with severe abdominal pain, distention, and vomiting for the past 24 hours. He reports that the pain started suddenly and has been getting progressively worse. He has not had a bowel movement or passed gas in over 12 hours. On examination, the patient appears to be in severe distress, with a distended and tender abdomen. He has a fever of 39\u00b0C, and his blood pressure is low at 90/60 mmHg. Blood tests show an elevated white blood cell count. Which of the following would be detrimental in this case?</span></p>",
    "unique_key": "Q1523556",
    "question_audio": null,
    "question_video": null,
    "map_id": 4185,
    "difficulty_level": "intermediate",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt;\"><strong>Ans. D) Barium meal</strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\">The given clinical scenario points to a <strong>diagnosis of perforation secondary</strong> to <strong>intestinal obstruction</strong>. <strong>Barium studies</strong> are contraindicated in this case as they <strong>lead to aggravation of peritonitis</strong>.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Contraindications to barium studies</strong>:</span></p><p>&nbsp;</p><ul><li><span style=\"font-size:12pt;\">Perforation</span></li><li><span style=\"font-size:12pt;\">Intestinal obstruction</span></li><li><span style=\"font-size:12pt;\">Post operative bowel Surgery</span></li><li><span style=\"font-size:12pt;\">Tracheo-esophageal fistula</span></li><li><span style=\"font-size:12pt;\">Water soluble iodinated water contrast is preferred in all of these cases</span></li></ul><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Barium meal&nbsp;</strong>is contraindicated because if there is a <strong>perforation</strong>, <strong>barium can leak</strong> into the <strong>peritoneal cavity</strong>, leading to <strong>chemical peritonitis</strong> and <strong>exacerbating</strong> the condition.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Other Options:</strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option A:&nbsp;CECT&nbsp;</strong>(Contrast-Enhanced Computed Tomography) can be <strong>utilized for abdominal assessment</strong>, but caution is needed regarding contrast in suspected perforation cases.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option B:&nbsp;CECT&nbsp;</strong>with <strong>oral contrast</strong> may <strong>help delineate anatomy</strong>, but there's a risk if perforation is present.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong>Option C:</strong>&nbsp;<strong>Gastrograffin study</strong>, a <strong>water-soluble contrast study</strong>, is generally <strong>safe</strong> and can be used to identify leaks.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong><u>Educational Objective:</u></strong></span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\">In cases of <strong>suspected gastrointestinal perforation</strong>, such as with a <strong>peptic ulcer</strong>, <strong>barium</strong> <strong>contrast studies</strong> are contraindicated due to the <strong>risk of causing chemical peritonitis</strong>. <strong>Water-soluble</strong> contrast studies are preferred for their safer profile.</span></p><p>&nbsp;</p><p><span style=\"font-size:12pt;\"><strong><u>Ref:&nbsp;</u>Page no -254, Grainger &amp; Allison's Diagnostic Radiology Essentials, 2nd Edition(2018)</strong></span></p>",
    "correct_choice_id": 15438,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "InvestigationBased"
    ]
  },
  {
    "id": 3865,
    "choices": [
      {
        "id": 15439,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Calcium</span></span></span></p>"
      },
      {
        "id": 15440,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">lohexol</span></span></span></p>"
      },
      {
        "id": 15441,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Bromium</span></span></span></p>"
      },
      {
        "id": 15442,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Barium</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Which of the following is a water-soluble contrast? </span></span></p>",
    "unique_key": "Q7437038",
    "question_audio": null,
    "question_video": null,
    "map_id": 4186,
    "difficulty_level": "beginner",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. B. Iohexol</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B: Iohexol</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"> &ndash; A nonionic, water-soluble iodinated contrast medium utilized in various radiographic procedures.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">lohexol is a nonionic, water-soluble radiographic contrast medium.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">lohexol is a nonionic, water-soluble iodinated contrast medium.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option A. Calcium:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Not used</strong> as a <strong>contrast agent</strong> in radiographic studies.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C. Bromium:&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Not a contrast agent; <strong>bromine is a chemical element</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D. Barium:&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Primarily used as a <strong>contrast agent in imaging studies</strong> of the <strong>GI tract</strong> but is not water-soluble.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective: </span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Iohexol is a water-soluble</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">, <strong>nonionic iodinated contrast medium</strong> commonly used in <strong>diagnostic radiology</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><img alt=\"\" src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2024/04/23/screenshot-2024-04-23-141959.JPG\" style=\"height:482px; width:876px\" /></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no -946, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition(2018)</span></strong></span></span></p>",
    "correct_choice_id": 15440,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "InvestigationBased"
    ]
  },
  {
    "id": 3870,
    "choices": [
      {
        "id": 15459,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Omniscan</span></span></span></p>"
      },
      {
        "id": 15460,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Omnipaque</span></span></span></p>"
      },
      {
        "id": 15461,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Levovist</span></span></span></p>"
      },
      {
        "id": 15462,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Microbar</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Which of the following contrast agents is used in MRI?</span></span></p>",
    "unique_key": "Q9654765",
    "question_audio": null,
    "question_video": null,
    "map_id": 4191,
    "difficulty_level": "intermediate",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. A. Omniscan</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A: </span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">The <strong>contrast agent</strong> used for <strong>MRI is gadolinium</strong>. It <strong>acts by reducing T1 relaxation time</strong> of the <strong>tissue</strong>. <strong>Omniscan</strong> is a <strong>tradename of Gadodiamide.</strong> </span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Omniscan&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">is a <strong>gadolinium-based contrast agent</strong> used in <strong>MRI</strong> to <strong>enhance tissue contrast</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B. Omnipaque:&nbsp;</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">An <strong>iodinated contrast medium</strong> used in <strong>CT scans</strong>, not in MRI.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C. Levovist</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">: An <strong>ultrasound contrast agent</strong>, not applicable for MRI.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option D. Microbar</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">: A <strong>barium sulfate contrast agent</strong> typically used in <strong>gastrointestinal studies</strong>, not suitable for MRI.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">In <strong>MRI</strong>, <strong>gadolinium-based agents</strong> like <strong>Omniscan</strong> (Gadodiamide) are <strong>used to reduce T1 relaxation time</strong>, enhancing the <strong>contrast of tissues and abnormalities</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no -946, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition(2018)</span></strong></span></span></p>",
    "correct_choice_id": 15459,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "InstrumentsBased"
    ]
  },
  {
    "id": 16312,
    "choices": [
      {
        "id": 65208,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Diabetic nephropathy</span></span></span></p>"
      },
      {
        "id": 65209,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">High Osmolar agent</span></span></span></p>"
      },
      {
        "id": 65210,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Obesity</span></span></span></p>"
      },
      {
        "id": 65211,
        "text": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Dehydration</span></span></span></p>"
      }
    ],
    "text": "<p><span style=\"font-size:12.0pt\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Out of the listed factors, which one is not considered a risk factor for Contrast-Induced Nephropathy (CIN)?</span></span></p>",
    "unique_key": "Q1854231",
    "question_audio": null,
    "question_video": null,
    "map_id": 21216,
    "difficulty_level": "beginner",
    "subjects_id": [
      17
    ],
    "solution": "<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ans. C. Obesity</span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option C: </span></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Although <strong>obesity is associated with many health issues</strong>, it is <strong>not independently</strong> considered a <strong>primary risk factor for CIN</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Explanation:</span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option A. Diabetic nephropathy</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">: Patients with <strong>diabetic kidney disease</strong> are at <strong>increased risk of CIN.</strong></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Option B. High osmolar contrast agents</span></strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">: These agents are indeed <strong>associated with a higher risk of CIN</strong> compared to <strong>low osmolar agents</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:Calibri,sans-serif\"><strong>Option D. Dehydration:</strong>&nbsp;</span><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><strong>Increases the risk of CIN</strong> due to <strong>reduced renal perfusion</strong> and concentrated contrast media.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\"><img alt=\"\" src=\"https://cerebellum-web-static.s3.amazonaws.com/media/public/images/2024/04/23/screenshot-2024-04-23-142054.JPG\" style=\"height:555px; width:752px\" /></span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Educational Objective: </span></u></strong></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Among the options provided, <strong>obesity is not traditionally recognized as a risk factor</strong> for the <strong>development of Contrast-Induced Nephropathy</strong>.</span></span></span></p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><span style=\"font-size:12pt\"><span style=\"font-family:Aptos,sans-serif\"><strong><u><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Ref:&nbsp;</span></u></strong><strong><span style=\"font-family:&quot;Calibri&quot;,sans-serif\">Page no -948, Grainger &amp; Allison&#39;s Diagnostic Radiology Essentials, 2nd Edition(2018)</span></strong></span></span></p>",
    "correct_choice_id": 65210,
    "solution_audio": null,
    "solution_video": null,
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [
      "Factual",
      "InvestigationBased"
    ]
  }
];
        let quizName = 'Contrast Media';
        const quizFilename = 'contrast-media-c27aab31.html';
        let hierarchy = ["Cerebellum", "qBank", "Radiology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>