<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>238 Surgery Ini-Cet 2023 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Surgery
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">30</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A 25-year-old patient presents with fever and weight loss. He gives a history of blood in the stools and vomiting 2 weeks ago. On examination, there is right hypochondriac tenderness and hepatomegaly. Abdominal CT a lesion in the right lobe of the liver with ragged edges, multiple septations, and heterogenous densities. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pyogenic liver abscess"
      },
      {
        "id": 2,
        "text": "Hydatid cyst"
      },
      {
        "id": 3,
        "text": "Amoebic liver abscess"
      },
      {
        "id": 4,
        "text": "Hemangioma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><span style=\"font-family: verdana, geneva, sans-serif;\">Option D: Hemangiomas are more common in women and are usually asymptomatic. Larger hemangiomas may present with vague upper abdominal symptoms. On contrast-enhanced CT scan, hemangiomas show <strong>asymmetrical, nodular peripheral enhancement</strong>&nbsp;that is isodense, with large vessels and progressive centripetal enhancement.</span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e06b672f23504694883c026f6a016913x720x505.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/683122858d3d4f9f9f4602a3b0f5262fx720x581.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cb1328948b254ae88590b56e82033825x1280x817.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5300263898af41b091cada96532717eex654x765.PNG"
    ]
  },
  {
    "text": "Which of the following tests is done before performing an A-V fistula procedure? The image of the test is given below.",
    "choices": [
      {
        "id": 1,
        "text": "Allen's test"
      },
      {
        "id": 2,
        "text": "Adson's test"
      },
      {
        "id": 3,
        "text": "Elevated arm stress test"
      },
      {
        "id": 4,
        "text": "Nicoladoni's test"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In recent years, studies have shown that, although the Allen test is often used to identify patients at increased risk for ischemic complications from radial artery cannulation, the predictive value of this test is poor. It is also used for identifying patients acceptable for <strong>radial artery harvest</strong> or use for <strong>coronary angiography</strong>.</p>\n<p>Other options:</p>\n<p>Option B: <strong>Adson's test</strong> is a\u00a0<strong>provocative</strong> maneuver for <strong>thoracic outlet syndrome</strong>. The test is performed by extending the patient\u2019s neck and turning the head towards the affected side while they breathe in deeply. This compresses the interscalene space and will result in paraesthesia and <strong>obliteration</strong> of the <strong>radial pulse.</strong></p>\n<p>Option C: <strong>Elevated arm stress test</strong> or\u00a0<strong>Roos</strong>\u00a0test\u00a0is a provocative test for the diagnosis of <strong>thoracic outlet syndrome</strong>. For this test, the patient abducts the shoulders to 90 degrees and flexes the elbow to 90 degrees. The patient is made to open and close the hand slowly for three minutes. The test is <strong>positive</strong> if the patient is unable to complete the test or experiences <strong>cramping</strong>, <strong>pain</strong>, or\u00a0<strong>numbness</strong>\u00a0on the <strong>affected side</strong>.</p>\n<p>Option D:\u00a0The\u00a0<strong>reflex bradycardia</strong>\u00a0and\u00a0<strong>increase in blood pressure</strong>\u00a0that immediately follows the sudden occlusion of an arteriovenous (A-V) fistula is known as the\u00a0<strong>Nicoladoni-Branham sign.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e4cff887ecca408ea0a4ccd35cbe7dba.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/73daddacecbc4efba9edeefc68205028x1280x3351.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/91398d07f51540d291024e5f00a932ddx510x520.GIF"
    ]
  },
  {
    "text": "Match the following positions of the appendix:",
    "choices": [
      {
        "id": 1,
        "text": "1-b, 2-a, 3-d, 4-c"
      },
      {
        "id": 2,
        "text": "1-c, 2-a, 3-b, 4-d"
      },
      {
        "id": 3,
        "text": "1-b, 2-d, 3-a, 4-c"
      },
      {
        "id": 4,
        "text": "1-c, 2-b, 3-a, 4-d"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correctly matched positions of the appendix are:</p>\n<p>1 - b: Retrocaecal - <strong>most common position</strong>, seen in 74%<br />2 - d: Paracaecal - seen in 2%<br />3 - a: Subcaecal - seen in 1.5%<br />4 - c: Inside the pelvis - seen in 21%</p>\n<div class=\"page\" title=\"Page 1356\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The appendix is a short and broad<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong> blind muscular tube</strong> that </span>becomes <strong>tubular</strong> with the differential growth of the caecum. This continued growth of the <strong>caecum rotates</strong> the appendix into a <strong>retrocaecal</strong> but intraperitoneal position. In some cases, <strong>rotation</strong> of the appendix <strong>does not occur</strong>, resulting in a <strong>pelvic</strong>, <strong>subcaecal,</strong> or <strong>paracaecal</strong> position. During development, if the caecum <strong>does not migrate</strong> to its normal position in the right lower quadrant of the abdomen, the appendix can be found <strong>near the gallbladder</strong>. In cases of <strong>intestinal malrotation</strong>, the appendix may be found in the <strong>left iliac fossa</strong>.</p>\n</div>\n</div>\n</div>\n</div>\n<p>Various positions of the appendix are shown in the image below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8e0cf55d37bb42eaae752e42fe085822.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0958636768064deb8b0cd309d57be2cex600x742.JPEG"
    ]
  },
  {
    "text": "A patient presents with dull aching pain in both legs. He gives a history of prolonged standing and tortuous veins in the legs. Which of the following tests are done for saphenofemoral incompetence?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3 and 4"
      },
      {
        "id": 2,
        "text": "1, 2 and 3"
      },
      {
        "id": 3,
        "text": "1, 2"
      },
      {
        "id": 4,
        "text": "3, 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Brodie Trendelenburg test</strong>&nbsp;and <strong>Morrissey's test</strong> are performed to test the incompetence of the <strong>saphenofemoral valve</strong>.&nbsp;<strong>Fegan&rsquo;s method </strong>is used to detect <strong>perforator incompetence </strong>while<strong>&nbsp;Modified Perthe&rsquo;s test </strong>is a test for <strong>deep vein thrombosis </strong>(DVT).</p>\n<p><strong>Brodie Trendelenburg test -&nbsp;</strong>Lay the patient down and elevate the leg. Empty the vessels and tie a tourniquet below the SFJ. Ask the patient to stand up:</p>\n<ul>\n<li>Trendelenburg&rsquo;s test<strong> part l</strong> - Here the tourniquet is <strong>released</strong>. A <strong>rapid filling</strong> from<strong> above</strong> shows&nbsp;<strong>saphenofemoral incompetence.</strong></li>\n<li>Trendelenburg&rsquo;s test<strong> part ll</strong> - Here the tourniquet is <strong>not released</strong>. A <strong>gradual filling</strong> from <strong>below to upwards</strong> indicates <strong>perforator incompetence.</strong></li>\n</ul>\n<p><strong>Morrissey&rsquo;s cough impulse test&nbsp;</strong>- The limb is elevated to empty the varicose veins. Now it is put to bed and the patient is asked to cough forcibly. An expansile cough impulse is felt at the saphenous opening if the saphenofemoral valve is incompetent. Similarly, a bruit may be heard on auscultation. The patient is asked to cough. A <strong>cough impulse</strong> at the saphenofemoral junction indicates <strong>SFJ incompetence</strong>.</p>\n<p><strong>Fegan&rsquo;s method</strong> - Mark the places of excessive bulges within the varicosities. Ask the patient to lie down and empty the varicose vessels. <strong>Palpate</strong> along the marked area to look for<strong> gaps and pits</strong> in the deep fascia, which indicates <strong>perforator incompetence</strong>.</p>\n<p><strong>Modified Perthe&rsquo;s test&nbsp;</strong>- A tourniquet is tied around the upper part of the thigh to prevent reflux down the vein and the patient is asked to walk around. In the presence of normal communicating and deep veins, the varicose veins will shrink. If there is any block, the veins will get more distended.&nbsp;An <strong>increase in pain</strong> and <strong>prominence</strong> of dilated <strong>veins</strong> indicate <strong>DVT</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is true about thymoma?",
    "choices": [
      {
        "id": 1,
        "text": "Most common neoplasm of thymus"
      },
      {
        "id": 2,
        "text": "Most common posterior mediastinal tumor\t\t."
      },
      {
        "id": 3,
        "text": "Usually symptomatic with dyspnoea, dysphagia and SVC syndrome"
      },
      {
        "id": 4,
        "text": "Chest Xray is the investigation of choice"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 758\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The true statement is that thymoma is the<strong> most common neoplasm</strong> of the thymus.</p>\n<p>Thymoma is the most frequently encountered neoplasm of the <strong>anterior mediastinum</strong> (Option B) in adults and is rare in children. It is seen most frequently in the age group of 40 and 60 years. Most patients with thymoma are <strong>asymptomatic </strong>(Option C). Large thymic tumors may present with symptoms related to a <strong>mass effect</strong>, which may include cough, chest pain, dyspnea, or SVC syndrome. Around 10% to 50% of patients with thymoma may have symptoms suggestive of <strong>myasthenia gravis</strong> or have circulating antibodies to the acetylcholine receptor. Other paraneoplastic syndromes, including red cell aplasia, hypogammaglobulinemia, systemic lupus erythematosus, Cushing&rsquo;s syndrome, or SIADH, may be present.</p>\n<div class=\"page\" title=\"Page 758\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>While the mediastinal mass can be identified on <strong>screening chest X-ray</strong>, imaging with <strong>contrast-enhanced CT</strong> and <strong>MRI</strong> (Option D) have a critical role in characterizing the mediastinal masses. The diagnosis may be suspected based on history and <strong>CT imaging&nbsp;</strong>but imaging alone is not diagnostic. The diagnosis is usually made after surgical resection due to the relative difficulty of obtaining a needle biopsy.&nbsp;<strong>Biopsy</strong> should be <strong>avoided</strong> in cases where imaging is highly suggestive of thymoma. Masaoka staging system is used for thymomas and is based on the gross or microscopic <strong>invasion of the capsule</strong> and of surrounding structures, as well as on the presence of <strong>metastases</strong>.</p>\n<p>The definitive treatment for thymoma is <strong>complete surgical removal</strong>. Thymectomy leads to improvement or resolution of symptoms of myasthenia gravis in only about 25% of patients with thymomas.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a patient who underwent laparoscopic cholecystectomy, what is the ideal urine output?",
    "choices": [
      {
        "id": 1,
        "text": "500 ml/day"
      },
      {
        "id": 2,
        "text": "0.5 ml/minute"
      },
      {
        "id": 3,
        "text": "0.5-1.5 ml/kg/hour"
      },
      {
        "id": 4,
        "text": "1 ml/kg"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The ideal urine output in that patient following laparoscopic cholecystectomy is&nbsp;<strong>0.5-1.5 ml/kg/hour</strong>.</p>\n<p>Normal urine output is expected in the postoperative period of a patient who&nbsp;underwent laparoscopic cholecystectomy. The average normal urine output in an adult is <strong>0.5-1.5 ml/kg/hour</strong>&nbsp;(Option B) or approximately&nbsp;<strong>1500 mL/day&nbsp;</strong>(Option A).&nbsp;&nbsp;A <strong>minimum urine output of 400 mL/day</strong> is essential to excrete the end products of protein metabolism.</p>\n<p>Option D: Normal urine output in ml/kg would be 0.5 - 1.5 ml/kg/hour multiplied by 24 which is&nbsp;<strong>12-36 ml/kg&nbsp;</strong>per day.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a patient presenting with rectal prolapse, which of the following procedures is not done via the perineal approach?",
    "choices": [
      {
        "id": 1,
        "text": "Ripstein operation"
      },
      {
        "id": 2,
        "text": "Thiersch operation"
      },
      {
        "id": 3,
        "text": "Altemeier procedure"
      },
      {
        "id": 4,
        "text": "Delorme operation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Among the given options, the<strong> Ripstein operation</strong> is the<strong> abdominal approach</strong> for rectal prolapse.</p>\n<p>It is managed by using the following approaches:</p>\n<ul>\n<li><strong>The perineal approach&nbsp;</strong>is easy to perform with fewer complications but a high recurrence rate. The surgeries done using this approach for rectal prolapse are the following:\n<ul>\n<li><strong>Thiersch's wiring</strong></li>\n<li><strong>Delorme's mucosectomy</strong></li>\n<li><strong>Altemeier's procedure</strong>&nbsp;<strong><strong>or&nbsp;</strong></strong>perineal rectosigmoidectomy</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><strong>The abdominal approach&nbsp;</strong>is difficult to perform with more complications but a lower recurrence rate. The surgeries done using this approach are the following:&nbsp;\n<ul>\n<li><strong>Moschcowitz repair&nbsp;</strong></li>\n<li><strong>Ripstein and Wells rectopexy;</strong> ventral rectopexy or suture rectopexy</li>\n<li>Resection rectopexy</li>\n</ul>\n</li>\n</ul>\n<p>If the patient is fit enough for an abdominal procedure, it is preferred over the perineal procedure, since the risk of recurrence is lower. The perineal approach is preferred in <strong>elderly patients with comorbidities</strong> and in <strong>young men</strong> since the abdominal approach may injure the pelvic autonomic nerves which may result in sexual dysfunction.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a patient with an inguinal hernia, the surgeon reduces the entire hernial sac into the abdominal cavity without reducing the contents. What is this known as?",
    "choices": [
      {
        "id": 1,
        "text": "Maydl's hernia"
      },
      {
        "id": 2,
        "text": "Reduction en masse"
      },
      {
        "id": 3,
        "text": "Sliding hernia"
      },
      {
        "id": 4,
        "text": "Incarcerated hernia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option B: Sliding hernia&nbsp;occurs when an <strong>internal organ&nbsp;</strong>composes a<strong> portion of the wall of the hernia sac. </strong>The most common viscus involved is the <strong>sigmoid colon</strong> and its mesentery on the left side and the <strong>caecum </strong>on the right side. It is more common on the<strong>&nbsp;left&nbsp;</strong>side<strong>.&nbsp;</strong>They are usually <strong>variants of indirect inguinal hernias.</strong> The failure to recognize the visceral component of the hernia sac resulting in injury to the bowel or bladder is the major concern in sliding hernia.</p>\n<p>Option D: Hernias which <strong>cannot be reduced</strong> are referred to as <strong>incarcerated</strong> hernias while hernias with <strong>compromised blood supply</strong> to its contents are known as <strong>strangulated</strong> hernias.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8a9c9b79635f4ff0b258e2f490a5d0cdx720x780.JPEG"
    ]
  },
  {
    "text": "Which of the following statements about claudication pain is not true?",
    "choices": [
      {
        "id": 1,
        "text": "Rest pain is seen more in the night"
      },
      {
        "id": 2,
        "text": "Pain in intermittent claudication comes at first step of walking."
      },
      {
        "id": 3,
        "text": "Most common cause is atheroma"
      },
      {
        "id": 4,
        "text": "The clinical stem does not reflect the site of peripheral arterial obstruction"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Pain in intermittent claudication is <span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">brought on by walking and doesnot start</span> with the first step of walking.&nbsp; &nbsp; &nbsp;&nbsp;</p>\n<p><strong>Peripheral artery occlusion</strong> or stenosis is predominantly caused by atherosclerosis or <strong>atheroma</strong> (Option C) and thromboembolic disease. The resulting stenosis or occlusion produces<strong> signs and symptoms</strong> related to the <strong>organ</strong> that is <strong>supplied</strong> by the affected artery. Such occlusion in the lower limbs presents with <strong>claudication pain</strong>, <strong>rest pain,</strong> and <strong>gangrene</strong>. Though t<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">he muscle groups <strong>affected</strong> by claudication are present at <strong>one anatomical level below</strong> the level of arterial disease, the clinical stem does not reflect the exact site of the peripheral arterial obstruction. (Option D)</span></p>\n<p><strong>Intermittent claudication pain</strong> is a feature of arterial stenosis or occlusion that occurs due to the <strong>anaerobic metabolism</strong> occurring in the muscle. Claudication pain may be of different types and can be differentiated as follows:</p>\n<ul>\n<li><strong>Vascular</strong> (intermittent) claudication pain is <strong>brought on by walking</strong> and is <strong>relieved</strong> by rest <strong>within 5 minutes</strong>. (Option B)</li>\n<li>Claudication pain present on taking the<strong> first step of walking</strong> is classical for <strong>osteoarthritis</strong>.&nbsp;</li>\n<li><strong>Neurogenic</strong> claudication occurs with changes in the position of the back such as bending forward and straightening. It takes more time to be relieved by rest (more than 5 minutes). It may be seen in cases of <strong>nerve compression</strong> from lumbar intervertebral disc prolapse or spinal stenosis.</li>\n</ul>\n<p><strong>Rest pain </strong>occurs when the occlusive disease progresses in <strong>severity</strong> and anaerobic respiration occurs even at rest. Though this pain is <strong>present during the day</strong>, it is <strong>exacerbated</strong> on lying down at <strong>night</strong> (Option A) due to loss of gravity dependant perfusion of the foot. This may be relieved by hanging the foot out of the bed to restore the gravitational effects.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 73-year-old patient presents with painless rectal bleeding. Which of the below-mentioned investigations are done for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "3 and 4"
      },
      {
        "id": 2,
        "text": "2, 3 and 4"
      },
      {
        "id": 3,
        "text": "1 and 2"
      },
      {
        "id": 4,
        "text": "1, 2 and 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Colonoscopy</strong>, <strong>CECT</strong> and <strong>CEA</strong> (Carcinoembryonic antigen)<strong> </strong>can be done in an old patient presenting with <strong>painless rectal bleeding</strong>. Serum CA 19-9 is a pancreatic cancer biomarker and has no role in this case.</p>\n<p><strong>Rectal bleeding</strong> occurs due to pathology of the <strong>lower gastrointestinal tract</strong> below the ligament of Treitz. The differentials that can be considered in a case of<strong> </strong>rectal bleeding are:</p>\n<ul>\n<li>Colon cancer</li>\n<li>Inflammatory bowel disease</li>\n<li>Diverticular diseases</li>\n<li>Hemorrhoids\u00a0</li>\n<li>Angiodysplasia</li>\n</ul>\n<div class=\"page\" title=\"Page 1342\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Colonoscopy</strong> with biopsy has a key role in the diagnosis of <strong>inflammatory bowel disease</strong>, <span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">distinguishing between ulcerative colitis and Crohn\u2019s colitis and</span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> monitoring the response to treatment. </span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Colonoscopy is also the <strong>investigation of choice</strong> if <strong>colorectal cancer</strong> is suspected, especially in old patients. <strong>A</strong></span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>ngiodysplasia</strong> is suspected in patients above the age of 50 and can be identified by a colonoscopy.</span></p>\n<div class=\"page\" title=\"Page 1342\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>C</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>omputed tomography </strong>(CT) colonography is sensitive in picking up <strong>polyps</strong> and has the advantage of being less invasive than colonoscopy. </span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Spiral CT can aid in the diagnosis of complicated <strong>diverticular disease</strong>.</span></p>\n<p><strong>Carcinoembryonic antigen</strong> (CEA) is a non-specific serum biomarker that is elevated in colorectal cancer and hence may be done in this case.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Smoking increases the risk of which of the following diseases?",
    "choices": [
      {
        "id": 1,
        "text": "2 & 3"
      },
      {
        "id": 2,
        "text": "1 & 4"
      },
      {
        "id": 3,
        "text": "2, 3, 4"
      },
      {
        "id": 4,
        "text": "1, 3, 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Smoking increases the risk of which of <strong>duct ectasia</strong>,&nbsp;<strong>Mondor's disease</strong>, and <strong>breast carcinom</strong>a.&nbsp;</p>\n<p><strong>Duct ectasia</strong> is defined as dilated major milk ducts. It is considered a disorder of involution as part of <strong>ANDI</strong>. Abnormally dilated ducts are filled with debris. This acts as an irritant and can lead to periductal inflammation and subsequent fibrosis, leading to nipple retraction. Duct ectasia appears to be associated with <strong>smoking</strong> and <strong>diabetes</strong>.</p>\n<p>The <strong>thrombophlebitis</strong> of the <strong>superficial veins</strong> of the breast and anterior chest wall is called <strong>Mondor&rsquo;s disease</strong>. The pathognomonic feature is a tender <strong>thrombosed subcutaneous cord</strong>, usually attached to the skin. When the skin over the breast is stretched by raising the arm, a narrow, shallow, subcutaneous groove alongside the cord becomes apparent. <strong>Smoking</strong> was found to be a <strong>potential factor</strong> involved in the pathogenesis of Mondor&rsquo;s disease. Other risk factors include&nbsp;breast surgery, breast biopsy, an inflammatory process, breast cancer, and trauma.</p>\n<div class=\"page\" title=\"Page 950\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 951\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The risk factors of breast cancer can be divided into modifiable (those that can be modified by adopting a healthy diet and lifestyle) and non-modifiable risk factors. The events increasing the oestrogenic exposure of the breast are said to be risk factors for breast cancer, such as early menarche, late menopause, nulliparity, late first pregnancy, and hormone replacement with high estrogen therapy. Smoking is a modifiable risk factor with a relative risk (RR) = 1.14 for smoking 25 or more cigarettes/day and RR = 1.07 for smoking for 20 years or more.</p>\n<div class=\"page\" title=\"Page 952\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Fibroadenoma</strong> is the most common cause of a breast lump in women aged 15&ndash;25 years. It arises from the hyperplasia of a lobule and is surrounded by a well-defined capsule. <strong>Smoking</strong> is <strong>not</strong> a <strong>risk factor</strong> for fibroadenomas.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the following image:",
    "choices": [
      {
        "id": 1,
        "text": "Hemangioma"
      },
      {
        "id": 2,
        "text": "Cystic hygroma"
      },
      {
        "id": 3,
        "text": "Branchial cyst"
      },
      {
        "id": 4,
        "text": "Ranula"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Option C: The<strong>&nbsp;branchial cyst</strong>&nbsp;develops from the vestigial remnants of the&nbsp;<strong>second branchial cleft.&nbsp;</strong>Swelling in the neck beneath the&nbsp;<strong>anterior border</strong>&nbsp;of the&nbsp;<strong>upper third of the sternomastoid muscle</strong>. It is smooth, soft, fluctuant, and often&nbsp;<strong>transilluminate.&nbsp;</strong>The below image shows a large right-sided branchial cyst.</p>\n<div class=\"ng-star-inserted\">&nbsp;</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/057fcff2c7704f3288f249a64c36fc17.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/65ebb639b58c4e27ad6fac6e63ef7658x900x1200.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/50120d7466454a24b407d8961b3219d7x512x330.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8200d44ee0d54a6f8fd94db6becd4b79x900x1200.JPEG"
    ]
  },
  {
    "text": "Feeding is done through the given method. Which of the following is not a complication of this?",
    "choices": [
      {
        "id": 1,
        "text": "Refeeding syndrome"
      },
      {
        "id": 2,
        "text": "Osteoporosis"
      },
      {
        "id": 3,
        "text": "Pneumothorax"
      },
      {
        "id": 4,
        "text": "Aspiration pneumonia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given image shows a<strong> central line</strong>. <strong>Pneumothorax,</strong> <strong>osteoporosis,</strong> and <strong>refeeding syndrome</strong> are likely complications in patients receiving total parenteral nutrition through a central line. <strong>Aspiration pneumonia\u00a0</strong>is more common in <strong>enteral feeding</strong> and can be prevented by placing the patient in a semi-recumbent position while feeding.</p>\n<p>Complications of enteral nutrition are as follows:\u00a0</p>\n<div class=\"panel-body ng-scope\">\n<ol>\n<li><strong>Tube-related\u00a0</strong>(most common):\u00a0Malposition, displacement, blockage, breakage/leakage, local complications (e.g. erosion of skin/mucosa)</li>\n<li><strong>Gastrointestinal: </strong>Diarrhoea, bloating, nausea, vomiting, abdominal cramps, <strong>aspiration</strong>, constipation</li>\n<li><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Metabolic/biochemical: </strong>Electrolyte disorders, vitamin, mineral, and trace element deficiencies, drug interactions</li>\n<li><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Infective: </strong>Exogenous (handling contamination) and endogenous (patient)</li>\n</ol>\n<p>Other options:</p>\n<p>Option A: <strong>Refeeding syndrome</strong> is a <span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">significant metabolic complication of both parenteral and enteral feeding. It occurs days after feeding is commenced in patients who have been <strong>severely malnourished</strong>. </span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">The major pathological process is <strong>hypophosphatemia</strong> which causes fluid and electrolyte shifts between the intra- and extracellular compartments.</span></p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Option B: </span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>Osteoporosis</strong> and <strong>osteomalacia</strong> are complications of long-term parenteral nutrition and may lead to fractures or kidney stones. <strong>Calcium</strong>, <strong>phosphate</strong>, <strong>vitamin D supplementation</strong>, and bisphosphonates can help prevent as well as treat this complication.</span></p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Option C: <strong>P</strong><strong>neumothorax</strong> is the <strong>most common complication</strong> of line insertion and most commonly occurs during the insertion of <strong>subclavian</strong> lines. It is managed by insertion of a <strong>chest drain</strong>.</span></p>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bd892fa4aec9484f88fc620c3f28fc5d.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the surgical instrument shown in the image.",
    "choices": [
      {
        "id": 1,
        "text": "Adson's forceps"
      },
      {
        "id": 2,
        "text": "Kocher's forceps"
      },
      {
        "id": 3,
        "text": "Mixter forceps"
      },
      {
        "id": 4,
        "text": "Rampley forceps"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Option D: Rampley's sponge-holding forceps<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> have a fenestrated, serrated, and flat end. The uses are:</span></p>\n<ul>\n<li><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> to clean the operative field and swab the cavities</span></li>\n<li><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">to mop the oozing area</span></li>\n<li><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">to hold the gallbladder and cervix during surgeries</span></li>\n<li><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">for blunt dissections&nbsp;</span></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/57fda3c026c644669020e5eb42098dc4.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/361949644d004bcfafb987d7c777d1ddx1280x915.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ea1901d9fb3f4463859b483a274b3b03x1280x1074.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c227167c4b7841f9abeeb59b79388201x1280x1028.JPEG"
    ]
  },
  {
    "text": "A 25-year-old male patient was brought to the casualty after a road traffic accident with a suspected pelvic fracture. On examination, he is found to be in hypovolemic shock. What is the earliest treatment for the control of hemorrhage in this case?",
    "choices": [
      {
        "id": 1,
        "text": "Immediate internal fixation"
      },
      {
        "id": 2,
        "text": "Multiple blood transfusions"
      },
      {
        "id": 3,
        "text": "Use bedsheets to compress the pelvis"
      },
      {
        "id": 4,
        "text": "Emergency external fixation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The earliest treatment to control hemorrhage in a case of suspected <strong>pelvic fracture</strong> is to use <strong>bedsheets to compress the pelvis</strong> similar to a compression binder.</p>\n<div class=\"page\" title=\"Page 376\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The most likely source of bleeding in hemodynamically unstable patients following blunt trauma is abdominal or pelvic bleeding. A&nbsp;<strong>pelvic binder</strong>&nbsp;or a sheet should be applied around the true pelvis of all hemodynamically unstable patients and not removed until after a <strong>pelvic fracture</strong> has been <strong>excluded.</strong> It must be correctly positioned at the <strong>level</strong> of the <strong>greater trochanters</strong>. This is a potentially life-saving procedure that has to be done in the emergency department. Following this, they require an immediate<strong> pelvic radiograph</strong>. Mechanical testing of the pelvis should never be performed. A pelvic fracture should always be diagnosed radiographically.</p>\n<div class=\"page\" title=\"Page 377\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>In fractures of the pelvic ring, there is a risk of injury to the <strong>major vessels</strong> (internal iliac and external iliac vessels) and to the <strong>venous plexus</strong> around the <strong>sacroiliac joint</strong>. Bleeding from the venous plexus is the major cause of pelvic hemorrhage. Pelvic fractures can have a high mortality rate of more than 40% in some open pelvic fractures.&nbsp;<strong>Early mortality </strong>is mostly the&nbsp;result of <strong>hemorrhage.</strong>&nbsp;</p>\n<div class=\"page\" title=\"Page 3\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Bleeding&nbsp;of venous origin can be controlled by compression either by binding/ external fixator or by extraperitoneal pelvic packing to compress the pelvic veins. Persistent bleeding after packing or bleeding of arterial origin may require angioembolisation. Severe pelvic injuries require a multidisciplinary team approach. An exploratory laparotomy may be considered if</p>\n<ul>\n<li>the source of the bleeding is in doubt</li>\n<li>FAST/CT results are positive, showing a significant amount of blood in the peritoneal cavity</li>\n<li>concurrent intra-abdominal injury cannot be excluded</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following are done in Breast Conservation Surgery?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3"
      },
      {
        "id": 2,
        "text": "1, 3, 4"
      },
      {
        "id": 3,
        "text": "1 , 2"
      },
      {
        "id": 4,
        "text": "2, 3"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Wide local excision</strong>, <strong>axillary node dissection</strong>, and<strong> frozen section</strong> (biopsy) during surgery are done as a part of <strong>Breast Conservation Surgery</strong> (BCS). <span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">All patients with BCS <strong>must</strong> <strong>receive</strong> <strong>radiotherapy</strong> (Statement 4) and are together known as <strong>Breast Conservation Therapy </strong>(BCT).</span></p>\n<div class=\"page\" title=\"Page 956\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Breast conservation surgery involves removing the tumor with a <strong>1mm margin</strong> of normal breast tissue. Removal of primary breast cancer is also called lumpectomy/ tylectomy/ partial mastectomy/ <strong>wide local excision </strong>(Statement 1). Histological examination via intraoperative frozen section (Statement 3) is done to examine for <strong>positive margins</strong>. Patients with positive margins should have a revision of margins known as &lsquo;<strong>cavity shave</strong>&rsquo;. A<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">ssessment of <strong>regional lymph nodes</strong> is done via a separate incision in the <strong>axilla</strong> (Statement 2).&nbsp;</span></p>\n</div>\n</div>\n</div>\n</div>\n<p><strong>Absolute contraindications of BCT:</strong></p>\n<ul>\n<li>1st trimester of pregnancy (may be done for some 2nd and many 3rd trimester patients who can receive radiation after delivery)</li>\n<li>Persistently positive margin (2 microscopy shows positive margins)</li>\n<li>Multicentric lumps</li>\n<li>Diffuse microcalcification</li>\n<li class=\"half_rhythm\">\n<div>Extensive ductal carcinoma in situ (DCIS)</div>\n</li>\n<li class=\"half_rhythm\">\n<div>Inflammatory breast cancer</div>\n</li>\n</ul>\n<p><strong>Relative contraindications of BCT:</strong></p>\n<ul>\n<li aria-level=\"1\">Active SLE (systemic lupus erythematosus), scleroderma&nbsp;&nbsp;</li>\n<li aria-level=\"1\">Large lump-to-breast ratio (&gt;5 cm size lump)</li>\n<li aria-level=\"1\">Known or suspected genetic predisposition to breast cancer (i.e., BRCA1, BRCA2), Li-Fraumeni syndrome (p53 mutation)</li>\n<li aria-level=\"1\">Multifocal disease</li>\n<li aria-level=\"1\">Prior radiation therapy to the chest wall or breast</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the features seen due to compression of the following structures in case of thyroid swelling.",
    "choices": [
      {
        "id": 1,
        "text": "1-d, 2-b, 3-c, 4-a"
      },
      {
        "id": 2,
        "text": "1-c, 2-d, 3-b, 4-a"
      },
      {
        "id": 3,
        "text": "1-c, 2-d, 3-a, 4-b"
      },
      {
        "id": 4,
        "text": "1-a, 2-b, 3-d, 4-c"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The&nbsp;features seen due to <strong>compression of the surrounding structures</strong> in case of <strong>thyroid swelling</strong> are as follows:</p>\n<table style=\"height: 169px; width: 238px;\">\n<tbody>\n<tr style=\"height: 21.6875px;\">\n<td style=\"width: 119.625px; height: 21.6875px;\">1. Trachea&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</td>\n<td style=\"width: 102.375px; height: 21.6875px;\">c. Dyspnea</td>\n</tr>\n<tr style=\"height: 21px;\">\n<td style=\"width: 119.625px; height: 21px;\">2. Esophagus</td>\n<td style=\"width: 102.375px; height: 21px;\">d. Dysphagia</td>\n</tr>\n<tr style=\"height: 21px;\">\n<td style=\"width: 119.625px; height: 21px;\">3. Sympathetic chain</td>\n<td style=\"width: 102.375px; height: 21px;\">b. Horner's Syndrome</td>\n</tr>\n<tr style=\"height: 21px;\">\n<td style=\"width: 119.625px; height: 21px;\">4. Recurrent Laryngeal Nerve</td>\n<td style=\"width: 102.375px; height: 21px;\">a. Hoarseness</td>\n</tr>\n</tbody>\n</table>\n<div class=\"page\" title=\"Page 876\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The <strong>normal thyroid</strong> gland is <strong>impalpable</strong>. Thyroid swellings may be uniform enlargement of the gland, isolated solitary nodules, or multinodular goiter. Large thyroid swelling may compress the surrounding structures and present as pressure symptoms.</p>\n<ul>\n<li>Compression of the trachea can cause respiratory symptoms like dyspnea and stridor.</li>\n<li>Pressure on the esophagus causes dysphagia.&nbsp;</li>\n<li>Compression of the sympathetic chain leads to Horner's syndrome.</li>\n<li>Unilateral paralysis of the recurrent laryngeal nerve produces hoarseness. Vocal cord paralysis from RLN compression is extremely rare and should raise concern for malignant change.</li>\n</ul>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 63-year-old female presented to the OPD with abdominal pain and a tense and tender swelling below and lateral to the pubic tubercle. What is the most likely diagnosis of this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Strangulated femoral hernia"
      },
      {
        "id": 2,
        "text": "Strangulated inguinal hernia"
      },
      {
        "id": 3,
        "text": "Intussusception"
      },
      {
        "id": 4,
        "text": "Adhesions"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above clinical scenario of a tense and tender swelling present <strong>lateral and below the pubic tubercle</strong> is suggestive of a <strong>femoral hernia</strong>. The femoral hernia traverses the <strong>femoral canal</strong>, which lies <strong>medial to the femoral vein</strong>.</p>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p>A femoral hernia occurs in both males and females, but it is\u00a0<strong>more common in females.\u00a0</strong>It will pass through the\u00a0femoral ring\u00a0proximally to <strong>enter the femoral canal</strong>. The femoral canal is <strong>bound by the femoral vein laterally</strong>, the\u00a0<strong>inguinal ligament anteriorly</strong>, and the pelvic bone with <strong>iliopectineal ligament</strong> (Cooper's) and <strong>lacunar ligament</strong> (Gimbernat's) <strong>medially</strong>. <strong>Lacunar ligament</strong> has a sharp unyielding edge that <strong>prevents the reduction</strong> of the femoral hernia.\u00a0The\u00a0<strong>incidence of strangulation</strong>\u00a0in femoral hernias is\u00a0<strong>high</strong>\u00a0because of the\u00a0<strong>narrowness of the neck of the sac\u00a0</strong>and<strong>\u00a0the r</strong><strong>igidity of the femoral ring.</strong></p>\n<p>All patients with unexplained bowel obstruction should be examined properly for a femoral hernia. <strong>Surgery is the only treatment</strong> for femoral hernia, and these <strong>patients should be treated on priority</strong> because of the high risk of strangulation. The surgical approaches which are used are:</p>\n<ul>\n<li><strong>Low approach (Lockwood)</strong>: suitable when there is <strong>no risk of strangulation</strong>; bowel can't be inspected and resected in this approach</li>\n<li><strong>Inguinal approach (Lotheissen)</strong></li>\n<li><strong>High approach (McEvedy)</strong>: suitable for <strong>emergency situations</strong> when the <strong>risk of bowel strangulation is high</strong></li>\n<li>Laparoscopic approach: both TEP and TAPP approaches can be used; the laparoscopic approach is recommended in women.</li>\n</ul>\n<p><strong>Other Options:</strong></p>\n<p>Option B:\u00a0<strong>Inguinal hernia</strong>\u00a0is\u00a0<strong>above\u00a0</strong>and\u00a0<strong>medial</strong>\u00a0to the pubic tubercle.\u00a0Another structure that is useful in differentiating between inguinal and femoral hernia is inguinal ligament. An\u00a0<strong>inguinal\u00a0</strong>hernia leaves the abdominal cavity just\u00a0<strong>above</strong>\u00a0the inguinal ligament and a\u00a0<strong>femora</strong>l hernia leaves just\u00a0<strong>below</strong>\u00a0the inguinal ligament.</p>\n<p>Option C: In case of\u00a0<strong>Intussusception</strong>, patients present with\u00a0<strong>cramping abdominal pain</strong>, palpable\u00a0<strong>sausage-shaped abdominal mass</strong>, vomiting, and passage of\u00a0<strong>red currant jelly stools</strong>.</p>\n<p>Option D: <strong>Adhesions</strong> can lead to intestinal obstruction, but there won't be any swelling below and lateral to the pubic tubercle,.</p>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presented with a Type 1 Choledochal cyst. All of the following statements are correct except?",
    "choices": [
      {
        "id": 1,
        "text": "Increased risk of cholangiocarcinoma"
      },
      {
        "id": 2,
        "text": "Cyst opened and drainage is done"
      },
      {
        "id": 3,
        "text": "Todani classification is used"
      },
      {
        "id": 4,
        "text": "Due to anomalous pancreaticobiliary junction"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the given clinical scenario, a patient presented with a <strong>Type 1 Choledochal cyst</strong>. <strong>Cyst opening and drainage</strong> will <strong>not</strong> be <strong>done</strong> in this patient. the <strong>preferred</strong> course of action involves the <strong>complete surgical excision</strong> of the cyst.&nbsp;<strong>Complete resection</strong> of the cyst is essential because there is a risk of malignant transformation (<strong>cholangiocarcinoma</strong>). (Option A)</p>\n<p>Choledochal cysts are congenital cystic dilations of the intrahepatic and/or extrahepatic biliary tree. They present with a triad of&nbsp;<strong>jaundice, a palpable upper quadrant mass,&nbsp;</strong>and<strong>&nbsp;abdominal pain.&nbsp;</strong></p>\n<p>The <strong>clinical triad</strong> (<strong>abdominal pain, mass, </strong>and <strong>jaundice</strong>) and the <strong>MRCP</strong> (Magnetic Resonance Cholangiopancreatography) findings suggest <strong>choledochal cyst</strong>. According to the <strong>Todani</strong> classification, the type III choledochal cyst opens into the <strong>duodenum</strong>. The treatment of choice for type III choledochal cyst is <strong>Endoscopic sphincterotomy</strong> followed by <strong>surveillance.</strong></p>\n<p>Choledochal cysts are congenital dilations of the intra and/or extrahepatic biliary system.</p>\n<p>Pathogenesis involves an <strong>Anomalous Pancreaticobiliary Junction (APBJ)</strong> which may allow reflux into the biliary tract, leading to inflammation, increased biliary pressure, and cyst formation. (Option D)</p>\n<p><strong>Clinical features</strong> of choledochal cysts are as follows</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">60% of cases are diagnosed before the age of 10 years</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">more common in <strong>females</strong> than in males (4:1)</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">The classic symptom triad includes <strong>abdominal pain, right upper quadrant mass, </strong>and <strong>jaundice (most consistent symptom)</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Other symptoms- nausea, weight loss, fever, pruritus, etc</li>\n</ul>\n<p><strong>Complications</strong> include</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Cholangitis (may lead to cirrhosis and portal hypertension)&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Pancreatitis</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Bile peritonitis (due to cyst rupture)&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Cholangiocarcinoma</li>\n</ul>\n<p><strong>Diagnostic</strong> investigations for choledochal cysts are as follows:</p>\n<ul>\n<li><strong>Ultrasonography:</strong>&nbsp;\n<ul>\n<li>Confirms the <strong>presence</strong> of an abnormal cyst&nbsp;</li>\n<li>Define the&nbsp;<strong>dimensions</strong> of the cyst&nbsp;</li>\n<li>Define its relationship to the vascular structures in the porta hepatis, as well as the<strong> intrahepatic ductal configuration</strong></li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><strong>Magnetic Resonance Imaging (MRI/MRCP)</strong> is the <strong>investigation of choice</strong>. It reveals the <strong>anatomy</strong> of the <strong>ducts&nbsp;</strong></li>\n<li><strong>CT</strong> - delineates the <strong>extent</strong> of the intra- or extrahepatic dilatation&nbsp; &nbsp; &nbsp; &nbsp;</li>\n<li><strong>ERCP</strong> - defines the <strong>distal</strong> biliary tree&nbsp;</li>\n</ul>\n<p><strong>Todani classification</strong>&nbsp;(Option C) of the choledochal cysts along with their management is as shown below,</p>\n<table style=\"height: 422px;\" width=\"517\">\n<tbody>\n<tr style=\"height: 45.0469px;\">\n<td style=\"width: 250.5px; height: 45.0469px;\" colspan=\"2\"><strong>Type of choledochal cyst</strong></td>\n<td style=\"width: 250.5px; height: 45.0469px;\"><strong>Surgical management</strong></td>\n</tr>\n<tr style=\"height: 63px;\">\n<td style=\"width: 250.5px; height: 63px;\" colspan=\"2\">Type I -&nbsp; fusiform dilatation of the bile duct (most common - seen in 75% of patients)</td>\n<td style=\"width: 250.5px; height: 63px;\"><strong>complete surgical excision</strong>, cholecystectomy, and Roux-en-Y hepaticojejunostomy</td>\n</tr>\n<tr style=\"height: 63px;\">\n<td style=\"width: 250.5px; height: 63px;\" colspan=\"2\">Type II - saccular diverticulum from the common bile duct</td>\n<td style=\"width: 250.5px; height: 63px;\">Diverticulectomy, cholecystectomy, and common bile duct repair</td>\n</tr>\n<tr style=\"height: 63px;\">\n<td style=\"width: 250.5px; height: 63px;\" colspan=\"2\">Type III- diverticulum within the pancreas, also known as <strong>choledochoceles</strong></td>\n<td style=\"width: 250.5px; height: 63px;\">ERCP + sphincterotomy (Only cyst in which reconstruction is not required)</td>\n</tr>\n<tr style=\"height: 63px;\">\n<td style=\"width: 250.5px; height: 63px;\" rowspan=\"2\">Type IV</td>\n<td style=\"width: 250.5px; height: 63px;\">a - multiple cysts (both intrahepatic and extrahepatic)</td>\n<td style=\"width: 250.5px; height: 63px;\">Liver transplant</td>\n</tr>\n<tr style=\"height: 63px;\">\n<td style=\"width: 250.5px; height: 63px;\">b - multiple cysts limited to the extrahepatic biliary tree</td>\n<td style=\"width: 250.5px; height: 63px;\"><strong>Kasai procedure (Portoenterostomy)</strong></td>\n</tr>\n<tr style=\"height: 63px;\">\n<td style=\"width: 250.5px; height: 63px;\" colspan=\"2\">Type V - multiple cysts involving only intrahepatic ducts (<strong>Caroli's disease</strong>)</td>\n<td style=\"width: 250.5px; height: 63px;\">Liver transplant</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p><strong>Biliary-enteric reconstruction</strong> is not required in Type III choledochal cyst as it has the<strong> lowest risk</strong> of malignancy, and it may not be associated with ABPJ (anomalous pancreaticobiliary junction). Therefore, <strong>endoscopic drainage</strong> is sufficient.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient underwent laparoscopic cholecystectomy for cholelithiasis. Specimen revealed that she had gall bladder carcinoma infiltrating the muscularis layer. What is the management?",
    "choices": [
      {
        "id": 1,
        "text": "Radical cholecystectomy with adjuvant chemotherapy"
      },
      {
        "id": 2,
        "text": "Adjuvant chemotherapy"
      },
      {
        "id": 3,
        "text": "Extended cholecystectomy"
      },
      {
        "id": 4,
        "text": "Surveillance"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In the given clinical scenario, gallbladder carcinoma with T1b lesions is <strong>detected incidentally after cholecystectomy</strong>. Treatment guidelines for the same are as follows:</p>\n<ul>\n<li>Up to stage Ia and stage Ib with negative margins, a standard cholecystectomy would suffice.</li>\n<li>Stage Ib with perineural, lymphovascular invasion, positive cystic duct margins, or poor differentiation, and stage II, extended cholecystectomy should be performed. Extended cholecystectomy involves the removal of the gall bladder, segments IVB and V of the liver, and lymph nodes along the hepatoduodenal ligament, with or without removal of the common bile duct (CBD).</li>\n</ul>\n<p>However, the likelihood of nodal disease increases significantly with T1b lesions and perineural, lymphatic, or vascular invasion, therefore, <strong>extended cholecystectomy</strong> is generally <strong>recommended</strong> for all patients who are <strong>medically fit</strong> with T1b or greater level of invasion.<br /><br />If the initial procedure was performed laparoscopically, the surgeon should examine the laparoscopic port sites. The finding of disease at the port sites is a sign of generalized peritoneal disease and carries a very poor prognosis. However, <strong>resection of port sites</strong> is <strong>no longer recommended.</strong></p>\n<p>Chemotherapy is not required in early gallbladder cancer. Radiation has no role.<strong><br /></strong></p>\n<p><strong>Treatment</strong> of gallbladder carcinoma:</p>\n<table>\n<tbody>\n<tr>\n<td><strong>TNM staging</strong></td>\n<td><strong>Treatment</strong></td>\n</tr>\n<tr>\n<td>T<sub>1a</sub></td>\n<td>Simple cholecystectomy</td>\n</tr>\n<tr>\n<td>T<sub>1b</sub>, T<sub>2</sub>, T<sub>3</sub></td>\n<td>Radical cholecystectomy</td>\n</tr>\n<tr>\n<td>T<sub>4</sub></td>\n<td>Unresectable, chemotherapy and palliative nonsurgical therapy are provided</td>\n</tr>\n<tr>\n<td>N<sub>1</sub></td>\n<td>Regional lymphadenectomy</td>\n</tr>\n<tr>\n<td>N<sub>2</sub></td>\n<td>Radical cholecystectomy plus hepatopancreatic duodenectomy</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A man presented with a history of stab injury over the arm. On examination, there was a hematoma present, and radial and ulnar pulses were not felt. A 3.5cm longitudinal tear is noted in the brachial artery. Which among the following is the best treatment option?",
    "choices": [
      {
        "id": 1,
        "text": "Primary repair with end to end anastomosis"
      },
      {
        "id": 2,
        "text": "Repair with great saphenous vein graft"
      },
      {
        "id": 3,
        "text": "Repair with prosthetic graft"
      },
      {
        "id": 4,
        "text": "Repair with saphenous vein patch"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In this patient, who has sustained a<strong> long tear</strong> to the brachial artery due to a stab injury, the best treatment option is to repair it with a <strong>great saphenous vein interposition graft</strong>&nbsp;harvested from the patient's <strong>uninjured</strong> leg.&nbsp;</p>\n<p>The most desirable graft used is the <strong>great saphenous vein</strong> . A native vein graft is preferable to a prosthetic graft because:</p>\n<ul>\n<li>Its <strong>elastic properties</strong> are comparable to that of an artery and enable pulsatile flow&nbsp;</li>\n<li>The <strong>diameter</strong> is <strong>similar</strong> to that of an <strong>extremity artery&nbsp;</strong></li>\n<li>It is <strong>not</strong> <strong>thrombogenic</strong> and has long term patency&nbsp;</li>\n</ul>\n<p>Other grafts that can be used are cephalic vein, lesser saphenous vein, and prosthetic conduits.&nbsp;Cephalic vein is not the first choice because it is less muscular than greater saphenous vein, and might also compromise the upper limb venous access in the already injured patient. Both the cephalic and the lesser saphenous veins present problems while harvesting in a trauma patient.</p>\n<p>Other options:</p>\n<p>Option A:&nbsp;<strong>Primary arterial repair with end-to-end anastomosis</strong> can be done only if the repair is <strong>tension-free</strong>. If the <strong>length</strong> of the injured area is <strong>long</strong>, vessel injuries cannot be repaired by primary end-to-end anastomoses and instead require an <strong>interposition graft.</strong>&nbsp;</p>\n<p>Option C:<strong> Prosthetic grafts</strong> are only preferred when there has been a <strong>trauma to the native saphenous vein</strong> or when there is a <strong>size mis-match</strong>. Polytetrafluoroethylene <strong>(PTFE)</strong> graft is commonly used.</p>\n<p>Option D: <strong>Saphenous vein patch</strong> is used in the closure of the arteriotomy site during <strong>carotid endarterectomies.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs are not used in the management of a thyrotoxic crisis?",
    "choices": [
      {
        "id": 1,
        "text": "Acetaminophen"
      },
      {
        "id": 2,
        "text": "Aspirin"
      },
      {
        "id": 3,
        "text": "Lugol's iodine"
      },
      {
        "id": 4,
        "text": "Propranolol"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Aspirin</strong>\u00a0has no role in the management of a thyrotoxic crisis. All of the other options listed are used in managing the symptoms. <strong>Aspirin</strong> and other <strong>NSAIDs</strong> are to be avoided as they can <strong>interfere</strong> with <strong>protein binding</strong> and further exacerbate the condition.</p>\n<p><strong>Thyroid storm/ Thyrotoxic crisis:</strong></p>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p>It is a rare but severe life-threatening complication of hyperthyroidism induced by the release of excessive thyroid hormones.</p>\n<p><strong>Causes:</strong></p>\n<ul>\n<li>Abrupt cessation of antithyroid medications</li>\n<li>Infection</li>\n<li>When a thyrotoxic patient has been<strong>\u00a0inadequately prepared for thyroidectomy</strong>.</li>\n<li>Thyroid or non-thyroid surgery</li>\n<li>Trauma in patients with untreated thyrotoxicosis</li>\n<li>Amiodarone administration</li>\n<li>Exposure to iodinated contrast agents</li>\n<li>Following RAI (radioactive iodine) therapy</li>\n</ul>\n<p><strong>Features:</strong></p>\n<ul>\n<li>They present 12\u201324 hours after surgery with <strong>hyperpyrexia</strong> and severe dehydration</li>\n<li>Cardiovascular:\u00a0Circulatory collapse, hypotension, palpitations, tachycardia, cardiac arrhythmias,\u00a0cardiac failure</li>\n<li>GI symptoms:\u00a0vomiting, diarrhea, jaundice.</li>\n<li>Neurological symptoms:\u00a0restlessness, irritability, delirium, <strong>tremor</strong>, convulsions, and coma\u00a0</li>\n</ul>\n<p><strong>Treatment:</strong></p>\n<ul>\n<li>Supportive measures \u2013 rehydration by proper fluid therapy, tepid sponging, cooling blankets</li>\n<li><strong>Acetaminophen</strong> for fever.</li>\n<li>Thionamides like<strong>\u00a0Propylthiouracil (PTU)</strong>\u00a0or methimazole or carbimazole are used. They inhibit thyroid hormone synthesis. Propylthiouracil also inhibits the peripheral conversion of T4 to T3. Hence,\u00a0<strong>PTU is the preferred drug</strong>\u00a0in thyroid storm.\u00a0However, the\u00a0<strong>risk for severe liver injury</strong> and acute liver failure associated with PTU therapy makes either\u00a0<strong>carbimazole or methimazole</strong>\u00a0first-choice in patients with deranged liver function tests.</li>\n<li><strong>Lugol\u2019s iodide</strong>\u00a0is given one hour after intake of thionamides. They inhibit thyroid hormone synthesis by\u00a0<strong>Wolff- Chaikoff effect.\u00a0</strong>Large doses of iodide\u00a0inhibit organic binding\u00a0of the\u00a0iodide<strong>\u00a0</strong>and hence decrease thyroid hormone synthesis.</li>\n<li><strong>Propranolol</strong>\u00a0is used to reduce tachycardia and other adrenergic manifestations. It also reduces the peripheral conversion of T4 to T3.</li>\n<li><strong>Glucocorticoids</strong>\u00a0\u2013 reduce the peripheral conversion of T4 to T3 and controls the shock.\u00a0</li>\n<li><strong>Digitoxin</strong>, cardiac monitoring is crucial.</li>\n</ul>\n</div>\n</div>\n<div class=\"ng-scope\">\u00a0</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the incision.",
    "choices": [
      {
        "id": 1,
        "text": "Battle incision"
      },
      {
        "id": 2,
        "text": "Gibson incision"
      },
      {
        "id": 3,
        "text": "Robson incision"
      },
      {
        "id": 4,
        "text": "Lanz incision"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image above shows a <strong>Gibson incision</strong>. Gibson incision is used for kidney transplantation or as an extraperitoneal approach to the distal ureter with low morbidity.\u00a0</p>\n<div class=\"page\" title=\"Page 177\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p style=\"text-align: justify;\">The traditional pelvic Gibson incision is an <strong>oblique</strong> or <strong>curvilinear incision</strong> that starts 3 cm above and parallel to the inguinal ligament and extends vertically 3 centimeters medial to the anterior superior iliac spine (ASIS) extending down toward the inguinal fold and terminating just lateral to the rectus muscle or continuing to above the symphysis pubis.</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 177\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p style=\"text-align: justify;\">The Gibson incision is the traditional approach for <strong>renal transplant</strong> and <strong>transplant nephrectomy</strong>. This <strong>muscle-splitting incision</strong> provides great <strong>extraperitoneal access</strong> to pelvic vessels, the lower ureter, and the bladder for benign and malignant disease and is also utilized as a part of minimally invasive nephrectomy for specimen extraction or use of a hand port.\u00a0</p>\n<p style=\"text-align: justify;\"><strong>Other Options:</strong></p>\n<p style=\"text-align: justify;\">Option A:\u00a0<strong>battle incision</strong>\u00a0a lower right\u00a0<strong>paramedian</strong>\u00a0incision but placed more laterally than the standard paramedian incision. It is suitable for dealing with\u00a0<strong>acute appendicitis</strong>\u00a0and pathologies in the right lower quadrant of the abdomen.</p>\n<p style=\"text-align: justify;\">Option C:\u00a0<strong>Mayo Robson\u2019s incision</strong>\u00a0is a right upper paramedian incision extended like a hockey stick to the midline. It is indicated in cholecystectomy.</p>\n<p style=\"text-align: justify;\">Option D:\u00a0<strong>Lanz incision,</strong>\u00a0a transverse or skin crease incision for appendicitis, 2 cm below the umbilicus, centered on the midclavicular\u2013mid-inguinal line.\u00a0Due to its continuation with Langer\u2019s lines, the Lanz incision produces much more aesthetically pleasing results with reduced scarring.</p>\n<p style=\"text-align: justify;\">An image depicting other abdominal incisions is shown below:</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1d9759f4edc34d62b2c6ff8b6d30af75.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b0c4b4e22f0c4680ae1163c6584845b1x600x315.JPEG"
    ]
  },
  {
    "text": "Which of the following is the best method to conclusively localize a parathyroid adenoma?",
    "choices": [
      {
        "id": 1,
        "text": "SPECT sestamibi"
      },
      {
        "id": 2,
        "text": "Tc99 sestamibi scan"
      },
      {
        "id": 3,
        "text": "USG neck"
      },
      {
        "id": 4,
        "text": "MRI"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p style=\"text-align: justify;\"><strong>Ultrasonography:</strong></p>\n<ul>\n<li>It is inexpensive and noninvasive.</li>\n<li><strong>Mediastinal\u00a0</strong>parathyroid tissue<strong>\u00a0cannot\u00a0</strong>be detected because USG cannot penetrate the sternum or clavicle.</li>\n</ul>\n<p>Nuclear medicine scanning with\u00a0<strong>radiolabeled Sestamibi</strong>\u00a0(Tc99 sestamibi scan) is also a widely used technique. Sestamibi accumulates in parathyroid adenomas. This radionuclide is concentrated in the thyroid and parathyroid tissue but usually washes out of normal thyroid tissue in under an hour. It persists in abnormal parathyroid tissue.\u00a0Tc99 sestamibi scan is a 2D study, so <strong>SPECT sestamibi</strong>, which is a <strong>3D study</strong> is preferred over\u00a0Tc99 sestamibi.\u00a0 scan.\u00a0<strong>SPECT sestamibi</strong> has <strong>high specificity</strong> and <strong>sensitivity</strong> as compared to\u00a0Tc99 sestamibi.</p>\n<p><strong>MRI</strong> is <strong>rarely used</strong> because of its <strong>low sensitivity</strong>. Occasionally, MRI may be indicated in pregnant patients in whom ultrasound is noninformative because MRI avoids radiation exposure.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/99bc0ed00c7445fd83f6c172e98038cbx512x512.PNG"
    ]
  },
  {
    "text": "Which classification of bile duct injury takes into account both vascular as well as the location of the injury?",
    "choices": [
      {
        "id": 1,
        "text": "Strassberg"
      },
      {
        "id": 2,
        "text": "Hannover"
      },
      {
        "id": 3,
        "text": "Bismuth"
      },
      {
        "id": 4,
        "text": "McMahon"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Hannover classification</strong>\u00a0of bile duct injury takes into account both <strong>vascular</strong> as well as the <strong>location of the injury.</strong></p>\n<div class=\"page\" title=\"Page 3949\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Hannover, bile duct injuries were divided into <strong>five types</strong> from A to E.\u00a0<strong>Vascular injuries</strong> are included in <strong>Type C</strong> and <strong>Type D.</strong></p>\n<ul>\n<li><strong>Type A</strong> is peripheral bile leakage.</li>\n<li><strong>Type B</strong> is stricture of CHD or CBD without injury.</li>\n<li><strong>Type C</strong> is lateral CHD or CBD injury.</li>\n<li><strong>Type D</strong> is the total transection of CHD.</li>\n<li><strong>Type E</strong> is bile duct stricture of the main bile duct without bile leakage at the postoperative state.</li>\n</ul>\n<p>Other Options:\u00a0</p>\n<p>Option A:\u00a0The\u00a0<strong>Strasberg classification\u00a0</strong>of bile duct injury\u00a0is a widely used system to anatomically define bile duct injuries.</p>\n<p>Option C:\u00a0The\u00a0<strong>Bismuth\u2013Corlette classification</strong>\u00a0system provides an anatomic description of the tumor location and longitudinal extension in the biliary tree.</p>\n<p>Option D: The McMahon classification separated the injuries by the width of bile duct injury</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "If open cardiac massage were to be performed on a patient, what category would it come under?",
    "choices": [
      {
        "id": 1,
        "text": "Clean"
      },
      {
        "id": 2,
        "text": "Contaminated"
      },
      {
        "id": 3,
        "text": "Clean-contaminated"
      },
      {
        "id": 4,
        "text": "Dirty"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p style=\"text-align: left;\"><strong>Open cardiac massage</strong> is classified as a <strong>contaminated</strong> wound.</p>\n<p>Contaminated wounds are <strong>class III</strong> surgical wounds. They include<strong> fresh</strong> open <strong>accidental wounds</strong>, surgeries with a major <strong>break in sterile technique</strong>, gross <strong>spillage</strong> of the <strong>gastrointestinal</strong> tract, or incision through an inflamed nonpurulent tissue. Examples include:</p>\n<ul>\n<li>Open cardiac massage</li>\n<li>Penetrating abdominal trauma</li>\n</ul>\n<p><strong>Surgical wounds</strong> are classified based on the <strong>expected</strong> amount of <strong>bacterial load</strong> at the time of surgery.\u00a0</p>\n<p>Open cardiac massage is performed when there is inadequate cardiac output, after emergency thoracotomy for penetrating chest trauma, during pericardial tamponade.</p>\n<p><strong>Class I</strong> surgical wounds are <strong>clean wounds</strong> (option A). They are <strong>noninfected</strong> surgical wounds <strong>without</strong> any <strong>inflammation</strong>. Examples include:</p>\n<ul>\n<li>Hernia repair</li>\n<li>Breast biopsy specimen</li>\n</ul>\n<p><strong>Class II</strong> surgical wounds are <strong>clean/contaminated wounds</strong> (option C). They are surgical wounds that include an entry <strong>hollow viscus</strong> such as the respiratory tract or gastrointestinal tract under controlled conditions <strong>without significant spillage</strong>. Examples include:</p>\n<ul>\n<li>Cholecystectomy</li>\n<li>Elective gastrointestinal surgery</li>\n</ul>\n<p><strong>Class IV</strong> surgical wounds are <strong>dirty wounds</strong> (option D). They are old traumatic wounds with the presence of <strong>necrotic tissue</strong> and perforated viscus with a <strong>heavy</strong> load of <strong>contamination</strong>. Examples include:</p>\n<ul>\n<li>Perforated diverticulitis</li>\n<li>Necrotizing soft tissue infection</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient who was a known case of rheumatoid arthritis is brought to the ER due to dizziness. Her BP was 90/60mmHg. She was prescribed a medication by her local doctor which she stopped taking suddenly. Her blood sugar was low and serum potassium was 6mEq/L. Which of the following drugs should be given to her next?",
    "choices": [
      {
        "id": 1,
        "text": "IV Saline"
      },
      {
        "id": 2,
        "text": "Hydrocortisone"
      },
      {
        "id": 3,
        "text": "Dopamine infusion"
      },
      {
        "id": 4,
        "text": "Sodium bicarbonate"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario is suggestive of an\u00a0<strong>Addisonian crisis.\u00a0</strong>It is a life-threatening condition caused due to\u00a0<strong>sudden insufficiency</strong>\u00a0<strong>of adrenal hormones</strong>. If a patient displays features of adrenal insufficiency, <strong>treatment</strong> must <strong>immediately</strong> be commenced, before awaiting the biochemical diagnosis. Intravenous administration of <strong>hydrocortisone 100 mg</strong> every 6 hours, &gt;2 litres of saline is given in 6 hours under careful cardiovascular monitoring.</p>\n<p>The symptoms of adrenal insufficiency are as follows:</p>\n<ul>\n<li class=\"p1\">Glucocorticoid deficiency leads to:\n<ul>\n<li class=\"p2\">Fatigue, lack of energy</li>\n<li class=\"p2\">Weight loss, anorexia</li>\n<li class=\"p2\">Myalgia</li>\n<li class=\"p2\"><strong>Hypoglycemia</strong>\u00a0</li>\n<li class=\"p2\">Low blood pressure, postural hypotension</li>\n</ul>\n</li>\n<li class=\"p1\">Mineralocorticoid deficiency leads to:\n<ul>\n<li class=\"p2\">Abdominal pain, nausea, vomiting</li>\n<li class=\"p2\">Dizziness, postural hypotension</li>\n<li class=\"p2\">Low blood pressure, postural hypotension</li>\n<li class=\"p2\"><strong>Hyponatremia</strong></li>\n<li class=\"p2\"><strong>Hyperkalemia</strong></li>\n</ul>\n</li>\n<li class=\"p1\">Adrenal androgen deficiency leads to dry and itchy skin, loss of libido\u00a0</li>\n<li>The hyperpigmentation of sun-exposed areas results from excess ACTH (adrenocorticotropic hormone) secretion which occurs in response to decreased adrenal cortical hormones.</li>\n</ul>\n<p><strong>Primary causes</strong>\u00a0of the Addisonian crisis include:</p>\n<ul>\n<li>Adrenal haemorrhage</li>\n<li>Acute infection</li>\n</ul>\n<p><strong>Secondary causes</strong>\u00a0of the Addisonian crisis include:</p>\n<ul>\n<li>Surgery</li>\n<li>Cessation of steroid therapy</li>\n<li>Postpartum pituitary necrosis.</li>\n</ul>\n<div class=\"page\" title=\"Page 865\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 995\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 995\">\n<div class=\"layoutArea\">\n<div class=\"column\">\u00a0</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 994\">\n<div class=\"section\">\n<div class=\"layoutArea\">\u00a0</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the most common cause of hypercalcemia in hospitalized patients?",
    "choices": [
      {
        "id": 1,
        "text": "Hypervitaminosis D"
      },
      {
        "id": 2,
        "text": "Malignancy"
      },
      {
        "id": 3,
        "text": "Parathyroid adenoma"
      },
      {
        "id": 4,
        "text": "Parathyroid hyperplasia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Cancer</strong> is the most common cause of <strong>hypercalcemia</strong> in <strong>hospitalized patients</strong>, whereas hyperparathyroidism is the most common cause of hypercalcemia detected incidentally in outpatients. The causes of hypercalcemia in cancer :\u00a0</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Cancers affecting\u00a0<strong>bone </strong>like\u00a0multiple myeloma, leukemia, bony metastasis - cause the bone to break down which\u00a0<strong>releases excess calcium</strong> into the blood</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Pseudohyperparathyroidism</strong> - tumours producing\u00a0parathyroid hormone-related peptide <strong>(PTHrP)</strong>\u00a0cause the bone to release calcium into the blood. The most common carcinoma associated is squamous cell carcinoma of lung.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Cancers affecting <strong>kidneys</strong> - failure to remove excess calcium from the blood</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Dehydration</strong> caused by nausea and vomiting - difficult for the kidneys to remove calcium from the blood properly</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Lack </strong>of<strong> physical activity</strong> - causes bone breakdown, releasing calcium into the blood</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly lady was diagnosed to have a gallbladder polyp. She was told that she has a risk for gallbladder cancer. Which of the following is not a risk factor for gallbladder cancer?",
    "choices": [
      {
        "id": 1,
        "text": "Porcelain GB"
      },
      {
        "id": 2,
        "text": "Primary sclerosing cholangitis"
      },
      {
        "id": 3,
        "text": "A single gall bladder polyp < 1 cm"
      },
      {
        "id": 4,
        "text": "Gall stone > 3cm"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A single <strong>gallbladder polyp &lt;1 cm</strong> is <strong>not</strong> a <strong>risk factor</strong> for carcinoma gallbladder.\u00a0Gallbladder polyps &gt;10mm have malignant potential.\u00a0</p>\n<p>Risk factors for carcinoma gallbladder:</p>\n<ul>\n<li><strong>Gallstones of size &gt;3 cm </strong>(most important risk factor)</li>\n<li><strong>Porcelain gallbladder</strong></li>\n<li>Anomalous pancreato-biliary junction</li>\n<li>Choledochal cyst</li>\n<li>Adenomatous polyps</li>\n<li><strong>Primary sclerosing cholangitis</strong></li>\n<li>Obesity</li>\n<li>Salmonella typhii infection.</li>\n</ul>\n<p><strong>Gallbladder carcinoma</strong> is a rare malignancy that is seen in the <strong>elderly</strong>. It is associated with a<strong> poor prognosis</strong> and is indistinguishable from cholecystitis or cholelithiasis. It is usually <strong>diagnosed </strong>when patients undergo<strong> cholecystectomy</strong> for gallstones.</p>\n<p>Its clinical features include right upper quadrant pain, nausea, vomiting, and anorexia. <strong>Jaundice</strong> is a <strong>late feature</strong>.\u00a0<strong>CA 19-9</strong> is elevated in the carcinoma gallbladder and is used for <strong>monitoring</strong>.</p>\n<div class=\"page\" title=\"Page 1232\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 1232\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The <strong>preoperative</strong> diagnosis is often made on <strong>ultrasonography</strong> and followed up by a <strong>CT </strong>scan or<strong> MRI/Magnetic resonance cholangiopancreatography</strong>.</p>\n<p>A <strong>percutaneous biopsy</strong> under radiological guidance is done for pathological examination. PET scanning helps in detecting metastatic disease.</p>\n<p>In select cases, a <strong>laparoscopic examination</strong> is useful in staging the disease. Laparoscopy can also detect peritoneal or liver metastases. The most important prognostic factor is the depth of invasion (T-stage).</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the most important prognostic factor of breast carcinoma?",
    "choices": [
      {
        "id": 1,
        "text": "Axillary lymph node status"
      },
      {
        "id": 2,
        "text": "Size"
      },
      {
        "id": 3,
        "text": "Distant metastasis"
      },
      {
        "id": 4,
        "text": "Hormonal status"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Axillary lymph node status</strong>\u00a0is the most important prognostic factor in patients with\u00a0<strong>breast cancer</strong>\u00a0(non-metastatic). Women with node-negative disease have less than a 30% risk of recurrence, compared with as much as a 75% risk for women with node-positive disease. The presence of lymph node involvement at initial diagnosis also serves as a prognostic factor in\u00a0<strong>recurrent breast cancer</strong>.</p>\n<p>Prognostic factors in metastatic breast cancer include:</p>\n<ul>\n<li>Relapse-free intervals\u00a0</li>\n<li>Site of metastasis</li>\n<li><strong>Estrogen receptor (ER) or progesterone receptor (PR) status\u00a0</strong></li>\n</ul>\n<p style=\"text-align: justify;\"><strong>Hormone receptor status</strong>\u00a0(estrogen receptor [ER]/progesterone receptor [PR]) is the <strong>most important prognostic factor</strong> in patients with\u00a0<strong>metastatic breast cancer.\u00a0</strong>Long relapse-free intervals,\u00a0absence of brain or visceral metastases, and\u00a0ER/PR positivity are associated with better prognosis in metastatic breast cancer.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '238 Surgery Ini-Cet 2023';
        let hierarchy = ["Marrow", "PYQs", "Surgery"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>