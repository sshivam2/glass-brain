<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>010 Anatomy Ini-Cet 2022 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Anatomy
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">37</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Arrange in sequence the structures involved in the direct pathway:",
    "choices": [
      {
        "id": 1,
        "text": "1,2,3,4,5"
      },
      {
        "id": 2,
        "text": "5,4,2,3,1"
      },
      {
        "id": 3,
        "text": "5,1,2,3,4"
      },
      {
        "id": 4,
        "text": "1,3,4,2,5"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In <strong>parkinsonism disease</strong>, due to the death of neurons in substantia nigra activity of the <strong>direct pathway is reduced</strong> and the indirect pathway is increased. This results in <strong>bradykinesia</strong> in parkinsonism disease. Whereas in <strong>Huntington's disease,</strong>&nbsp;the activity of the <strong>indirect pathway is affected&nbsp;</strong>resulting in <strong>choreic involuntary movements</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fafa841adb1d47b6a9dc39e743c9881ax1280x1288.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bfdb7ca542504a1bb4a5ccb65df68133x1279x1007.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0124ac26a6a94b39a448d93203b3fadbx510x451.GIF"
    ]
  },
  {
    "text": "What is the volume of the prostate in normal adult males?",
    "choices": [
      {
        "id": 1,
        "text": "20cc"
      },
      {
        "id": 2,
        "text": "50cc"
      },
      {
        "id": 3,
        "text": "75cc"
      },
      {
        "id": 4,
        "text": "100cc"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Microstructure</strong> of the prostate gland:&nbsp;</p>\n<p>The glandular tissue of the prostate gland is composed of many <strong>follicles</strong> with frequent<strong> internal papillae</strong>. The follicular epithelium is either a <strong>single-layered</strong> or <strong>pseudostratified</strong> <strong>columnar</strong> <strong>epithelum</strong>.&nbsp;These follicles open into canals, which join to form the <strong>main ducts</strong>. Small eosinophilic colloid&nbsp;<strong>amyloid bodies&nbsp;</strong>called<strong>&nbsp;corpora amylacea</strong>&nbsp;are frequently seen within a follicle.&nbsp;</p>\n<p>The&nbsp;<strong>prostatic ducts</strong>&nbsp;open into the&nbsp;<strong>prostatic sinus&nbsp;</strong>in the prostatic urethra.&nbsp;The&nbsp;<strong>ducts</strong>&nbsp;of the&nbsp;<strong>prostate follicles</strong>&nbsp;are lined by&nbsp;<strong>bilayered epithelium</strong>&nbsp;(basal cuboidal and apical columnar).&nbsp;</p>\n<p>The secretions of the prostate are&nbsp;<strong>acidic</strong>&nbsp;and contain acid phosphatase, amylase, prostate-specific antigen (PSA), fibrin, and zinc.</p>\n<p>The blood supply to the prostate is by the&nbsp;<strong>inferior vesical</strong>,<strong> internal pudendal</strong> and <strong>middle rectal arteries</strong>. It recieves nerve supply from the&nbsp;<strong>inferior hypogastric plexus</strong>.&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/77d70341165342a2b2dbbd7e92f06839x600x655.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cfb262c242854e53a78da1b13c644c95x1279x1256.JPEG"
    ]
  },
  {
    "text": "Which ligament connects medial cuneiform to the base of the 2nd metatarsal?",
    "choices": [
      {
        "id": 1,
        "text": "Chopart"
      },
      {
        "id": 2,
        "text": "Spring"
      },
      {
        "id": 3,
        "text": "Lisfranc"
      },
      {
        "id": 4,
        "text": "Deltoid"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Option D: <strong>Deltoid\u00a0</strong>ligament also called the <strong>medial collateral ligament\u00a0</strong>is attached to the apex, anterior and posterior borders of the\u00a0<strong>medial malleolus.\u00a0</strong>It has 2 layers, superficial and deep:</p>\n<ul>\n<li>The<strong> superficial\u00a0</strong>layer consists of tibionavicular fibres anteriorly, tibiocalcaneal fibres in the middle, and superficial posterior tibiotalar fibres posteriorly.</li>\n<li><strong>Deep\u00a0</strong>layer\u00a0consists of anterior tibiotalar fibres, tibiocalcaneal in the middle and deep posterior tibiotalar posteriorly.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ac1e9788e4924200a142241ff0480064x1280x1708.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4694f6203b8b41309357ebd46ac5c7bex1279x1358.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/302ca308fbc141279e03136f31af2701x1280x1519.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a4440720c5b8443784ed3184692d18e9x1280x2558.JPEG"
    ]
  },
  {
    "text": "Fibres of the given structure originate from ?",
    "choices": [
      {
        "id": 1,
        "text": "Amygdala"
      },
      {
        "id": 2,
        "text": "Mammillary body"
      },
      {
        "id": 3,
        "text": "Caudate nucleus"
      },
      {
        "id": 4,
        "text": "Hippocampus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Other options:</p>\n<p>Option A: <strong>Amygdala</strong>&nbsp;is a part of the limbic system that consists of lateral, central and basal nuclei. It can Influence the body's response to enviromnental changes. In a fearful situation it can change the heart rate, blood pressure, respiratory rate etc.&nbsp;</p>\n<p>Option C: <strong>Caudate nucleus&nbsp;</strong>is a C-shaped mass of grey matter. It is divided into a head, body, and tail. Degeneration of the caudate nucleus is seen in Huntington's disease.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2d12af86f78b4845a7a0f953ea1e7bdd.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9f2ceeed90514047a17ebb16500dc301x850x592.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d90a6a294e7243c4945699fd1ac989b9x1279x890.JPEG"
    ]
  },
  {
    "text": "Which structure is supplied by the nerve causing this elevation?",
    "choices": [
      {
        "id": 1,
        "text": "Lateral rectus"
      },
      {
        "id": 2,
        "text": "Superior oblique"
      },
      {
        "id": 3,
        "text": "Risorius"
      },
      {
        "id": 4,
        "text": "Levator palpebrae superioris"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Other options:</p>\n<p>Option A: <strong>Lateral rectus&nbsp;</strong>is an extraocular muscle that arises from the lateral part of the <strong>common tendinous ring.&nbsp;</strong>It is innervated by the <strong>abducens nerve.&nbsp;</strong></p>\n<p>Option B: <strong>Superior oblique&nbsp;</strong>is an extraocular muscle that arises from<strong> the body of the sphenoid.&nbsp;</strong>It is innervated by<strong>&nbsp;</strong>the<strong> trochlear nerve.&nbsp;</strong></p>\n<p>Option D:&nbsp;<strong>Levator palpebrae superiors&nbsp;</strong>is an extraocular muscle that arises from the<strong> lesser wing of sphenoid.</strong>&nbsp;It is innervated by the <strong>oculomotor nerve</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a91e07e1c61a4d9295f4096b0fd0bbc2.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a1f578806088492887e3ff6f6009daeex960x720.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d2f31749f5904aa68b1e90de050f7cbdx1280x1427.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/49e2404964514480b84dd2c92f33e261x1279x1777.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/da502ce1c9f246cda9874a89a8b4fda3x1280x1901.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8ddf6e73dd044f34870b54c5ae1d2dcfx960x720.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/95cb33240ab1436b89b9d536cc1de227x960x720.JPEG"
    ]
  },
  {
    "text": "Arrange lung hilar structures from anterior to posterior:",
    "choices": [
      {
        "id": 1,
        "text": "1,2,3,4"
      },
      {
        "id": 2,
        "text": "2,3,4,1"
      },
      {
        "id": 3,
        "text": "3,4,1,2"
      },
      {
        "id": 4,
        "text": "4,3,2,1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>aortic arch</strong> is seen superiorly and&nbsp;<strong>descending thoracic aorta</strong> posteriorly of the <strong>left root</strong>. The hilar structures are vertically arranged as:</p>\n<ul>\n<li>Pulmonary artery</li>\n<li>Principal bronchus</li>\n<li>Inferior pulmonary vein</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1ae9ea328d594637a44d5b888a7bea14x1280x1175.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3e24c3fff25348ebaf63810389c5ed00x1200x1125.JPEG"
    ]
  },
  {
    "text": "Which is not a branch of facial artery in the face?",
    "choices": [
      {
        "id": 1,
        "text": "Lateral nasal"
      },
      {
        "id": 2,
        "text": "Mental"
      },
      {
        "id": 3,
        "text": "Superior labial"
      },
      {
        "id": 4,
        "text": "Inferior labial"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Mental is not a branch of the facial artery but the branch of the <strong>maxillary artery</strong> in the face.</p>\n<p>The first part of the maxillary artery gives rise to the mental artery as a terminal branch of the <strong>inferior alveolar artery.</strong></p>\n<p>The <strong>facial artery</strong> is a branch of the <strong>external carotid artery</strong> which arises in the carotid triangle, above the origin of the lingual artery. It runs upwards in the neck and curves around the anteroinferior border of the masseter to enter the face.&nbsp;</p>\n<table style=\"height: 115px; width: 608px;\">\n<tbody>\n<tr>\n<td style=\"width: 294.801px; text-align: center;\">Branches of&nbsp;facial artery in the neck</td>\n<td style=\"width: 297.199px; text-align: center;\">Branches of facial artery in the face</td>\n</tr>\n<tr>\n<td style=\"width: 294.801px;\">Ascending palatine artery</td>\n<td style=\"width: 297.199px;\">Premasseteric artery</td>\n</tr>\n<tr>\n<td style=\"width: 294.801px;\">Tonsillar branch</td>\n<td style=\"width: 297.199px;\">Superior and inferior labial arteries</td>\n</tr>\n<tr>\n<td style=\"width: 294.801px;\">Submental artery</td>\n<td style=\"width: 297.199px;\">Lateral nasal artery</td>\n</tr>\n<tr>\n<td style=\"width: 294.801px;\">Branches to submandibular gland</td>\n<td style=\"width: 297.199px;\">Angular artery</td>\n</tr>\n</tbody>\n</table>\n<p>The<strong>&nbsp;premasseteric artery</strong> passes along the anterior border of the masseter and the surrounding tissues are supplied by it. The<strong> inferior labial artery</strong> mainly supplies the <strong>inferior labial glands</strong>. It then anastomoses with its controlateral fellow and with the mental branch of the inferior alveolar artery. The superior labial artery supplies the<strong> upper lip</strong> whereas the lateral nasal artery supplies the <strong>dorsum and alae</strong> of the nose. Both these arteries anastomose with its controlateral fellow.&nbsp;</p>\n<p>The image shows the branches of facial artery:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/21d8aa05ebda4be1a3adcb40ae99e7a4x1279x1402.JPEG"
    ]
  },
  {
    "text": "Which of the following structures passing via jugular foramen has a separate canal?",
    "choices": [
      {
        "id": 1,
        "text": "Hypoglossal nerve"
      },
      {
        "id": 2,
        "text": "Glossopharyngeal nerve"
      },
      {
        "id": 3,
        "text": "Vagus nerve"
      },
      {
        "id": 4,
        "text": "Accessory nerve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>glossopharyngeal nerve</strong> passing through the <strong>jugular foramen</strong> has a <strong>separate canal.</strong></p>\n<p>&nbsp;The jugular foramen is formed by the <strong>occipital bone</strong> and the petrous part of the<strong> temporal bone</strong>. The <strong>spinal accessory nerve</strong> and <strong>vagus nerve</strong> also pass through this foramen.</p>\n<p>The glossopharyngeal nerve leaves the skull through the anteromedial part of the jugular foramen in a <strong>separate dural sheath.</strong></p>\n<p>The branches of the nerve are&nbsp;<strong>tympanic,</strong> carotid, pharyngeal, muscular,<strong> tonsillar</strong> and lingual branches.</p>\n<p>Infection, malignancy and postoperative inflammation of the <strong>tonsil</strong> and <strong>tonsillar fossa</strong> will cause <strong>referred pain</strong> in the ear. This is conducted through the <strong>tympanic branch</strong> of the glossopharyngeal nerve.</p>\n<p><strong>Pharyngeal branches of the glossopharyngeal nerve </strong>and<strong> vagus nerve</strong> form the<strong>&nbsp;pharyngeal plexus </strong>of nerves. These plexes mainly supply the pharynx. It also has contributions from the superior cervical ganglion.</p>\n<p>Nerve supply by the&nbsp;<strong>pharyngeal branch of the vagus</strong>&nbsp;nerve are:</p>\n<ul>\n<li>All the muscles of the soft palate(except tensor veli palatini - supplied by mandibular division of the trigeminal nerve)</li>\n<li>All the muscles of the pharynx(except stylopharyngeus - supplied by the glossopharyngeal nerve)</li>\n</ul>\n<p>&nbsp;Motor fibres to the stylopharyngeus and parasympathetic secretomotor fibres to the parotid gland are also supplied by the glossopharyngeal nerve.</p>\n<p>Sensory supply includes <strong>uvula</strong>, <strong>posterior one-third of the tongue</strong>, tympanic cavity etc.</p>\n<p>The glossopharyngeal nerve is rarely damaged alone. Lesions will result in loss of sensation of the posterior third of the tongue, <strong>reduced gag reflex,&nbsp;</strong>loss of sensation over the ipsilateral soft palate etc.&nbsp;</p>\n<p>The main functions of IX and X can be tested together by assessing&nbsp;<strong>swallowing</strong>, <strong>phonation/articulation</strong> and sensation from the pharynx/larynx.&nbsp;</p>\n<p class=\"p1\">Glossopharyngeal and vagus nerve&nbsp;<strong>examinations</strong> include:</p>\n<ul>\n<li class=\"p1\">Observing the position and symmetry of the&nbsp;<strong>palate and uvula&nbsp;</strong>at rest and with phonation (&ldquo;aah&rdquo;).</li>\n<li class=\"p1\">By assessing the strength of the cough</li>\n</ul>\n<p>&nbsp;The image below shows the base of the skull and foramina:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/10b39b78085f4c74a70a7a9541ab1114x1279x1050.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/33f136b3e3844bbc8e43711f87fa32b5x1279x1735.JPEG"
    ]
  },
  {
    "text": "What is the nerve supply of the structure marked in the image?",
    "choices": [
      {
        "id": 1,
        "text": "Radial nerve"
      },
      {
        "id": 2,
        "text": "Median nerve"
      },
      {
        "id": 3,
        "text": "Ulnar nerve"
      },
      {
        "id": 4,
        "text": "Musculocutaneous nerve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>muscles</strong> supplied by the median nerve in the hand are&nbsp;flexor pollicis brevis,&nbsp;<strong>abductor pollicis brevis</strong>, and opponens pollicis</p>\n<p>The median nerve sometimes gets compressed under&nbsp;the fibro-osseous tunnel beneath the <strong>flexor retinaculum&nbsp;</strong>leading to <strong>carpal tunnel syndrome.&nbsp;</strong></p>\n<p><strong>Pen test</strong><strong>&nbsp;</strong>is used to test the<strong>&nbsp;</strong>median nerve in the hand. It tests the&nbsp;<strong>abductor pollicis brevis</strong> muscle<strong>.&nbsp;&nbsp;</strong>The hand must remain flat with the palm facing upwards. A pen is held above the palm and the patient is asked to touch the pen with his thumb.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8e422436cfba4ff2842bcf8b95d861cb.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bdaee3063f1f4c859a4398c8fb0dfebex960x720.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1e901cf7bad9464986c1a00a985dc4ffx1280x1661.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e1e8863c826d451382e7938ad01a9cc2x602x422.GIF",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8aba95265cc5459f894b96f0ad1df948x720x872.PNG"
    ]
  },
  {
    "text": "A child lacks thymus and inferior parathyroid glands. Defective development of which of the following structures is likely to be the cause?",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The<strong> medulla</strong> of the thymus has&nbsp;<strong>Hassall&rsquo;s corpuscles. </strong>They are small rounded structures formed from&nbsp;<strong>whorls of medullary epithelial cells&nbsp;</strong>with a central partially keratinized core appearing as an eosinophilic-staining mass.&nbsp;</p>\n<p>Histological image of&nbsp;<strong>Hassall&rsquo;s corpuscles </strong>is given below:&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2490db2c36ba46e2b4e0a390e550244d.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7cdb1ca6f8664e78b1f48531931ea3a9x1280x1407.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ceac2529bbdb4f0c9d7622f9952c0561x720x1065.JPEG"
    ]
  },
  {
    "text": "Identify which of the following structure is a merocrine gland:",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Merocrine uses<strong> exocytosis </strong>for secretions<strong>.</strong>&nbsp;Most of the <strong>exocrine glands</strong> are merocrine.</p>\n<p>In apocrine, <strong>product-filled areas</strong> of cells are released, the&nbsp;<strong>mammary gland</strong> is an example.</p>\n<p>Histopathological image of <strong>mammary gland</strong> is shown below:&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/36423fc51bdb4a7f96e6f0b66f3b2f8f.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1090faa720554d66967bf1189c63dd04x331x260.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/736d893eb5c04a76b2ee83bac13e4e80x1279x1106.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/14c226b621b143e19bf790b5c65010a8x1280x1342.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eda33e166de6474a84b56b9c6603c246x1280x960.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cdf1417a7f9342829b475660ef7b6f4cx1279x1106.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3169133a1a614368923c0d88f6082cbdx1280x840.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/99d7a56677e44fb89b9bee18cadbafd6x1200x1076.JPEG"
    ]
  },
  {
    "text": "What is the blood supply of the structure marked in the image below?",
    "choices": [
      {
        "id": 1,
        "text": "Anterior cerebral artery and middle cerebral artery"
      },
      {
        "id": 2,
        "text": "Anterior cerebral artery and posterior cerebral artery"
      },
      {
        "id": 3,
        "text": "Anterior cerebral artery and anterior communicating artery"
      },
      {
        "id": 4,
        "text": "Middle cerebral artery and posterior cerebral artery"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Anterior cerebral artery is a branch of the <strong>internal carotid artery</strong>. The frontal branch of the anterior cerebral artery supplies the <strong>corpus callosum</strong> and the central branch which supplies the rostrum.\u00a0</p>\n<p>Central or perforating arteries arises from the<strong> circle of willis</strong>. They are again divided into the anteromedial, anterolateral, posteromedial and posterolateral groups. <strong>The anterior cerebral</strong> and <strong>anterior communicating artery</strong> give rise to anteromedial group which supplies the rostrum of the corpus callosum.\u00a0</p>\n<p><br />The image below shows the mid sagittal section of the brain:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/07e4f0bf8b7b4b2085a5481d378233b0.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/35df144618cf4fd5b019aabd05979ab1x178x191.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d8f7d74a992c4d75846adc5de38fe564x1279x1431.JPEG"
    ]
  },
  {
    "text": "Superior gluteal nerve supplies all of the following structures except:",
    "choices": [
      {
        "id": 1,
        "text": "Gluteus medius"
      },
      {
        "id": 2,
        "text": "Gluteus minimus"
      },
      {
        "id": 3,
        "text": "Piriformis"
      },
      {
        "id": 4,
        "text": "Tensor fasciae latae"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>All of the structures except pyriformis are supplied by the superior gluteal nerve. Pyriformis is supplied by the <strong>nerve to the piriformis</strong>.\u00a0</p>\n<p>The dorsal branches of the <strong>L4, L5, </strong>and <strong>S1</strong>\u00a0rami give rise to the <strong>superior gluteal nerve</strong>. It is accompanied by superior gluteal vessels. This nerve leaves the pelvis via the <strong>greater sciatic foramen</strong> <strong>above piriformis</strong>\u00a0and divides into superior and inferior branches. It supplies gluteus medius, gluteus minimus, and\u00a0tensor fasciae latae.</p>\n<p>The dorsal branches of the <strong>S1 </strong>and<strong> S2</strong> rami give rise to the <strong>nerve to the piriformis</strong>.\u00a0</p>\n<p>Gluteus medius and gluteus minimus act as the <strong>abductors</strong> of the hip joint. Stabilizing the pelvis on the femur during walking is done by these muscles.\u00a0It is demonstrated by asking the subject to stand on one limb. If the ipsilateral abductors are normal, the pelvis remains in a horizontal position. If the ipsilateral <strong>abductors </strong>are<strong> weak,</strong> then the pelvis <strong>tilts</strong> towards the <strong>opposite</strong> (unsupported) side. This is called positive\u00a0<strong>Trendelenburg\u2019s sign.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d8a28d13dcca4c57886b33f3f8e6cee1x1280x4280.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ebbde3edd95e43ce84048037a1d66bd8x1280x1141.JPEG"
    ]
  },
  {
    "text": "Arrange the structures of the cubital fossa in sequence from medial to lateral.",
    "choices": [
      {
        "id": 1,
        "text": "1,2,3,4"
      },
      {
        "id": 2,
        "text": "1,3,4,2"
      },
      {
        "id": 3,
        "text": "1,4,3,2"
      },
      {
        "id": 4,
        "text": "4,3,2,1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The structures are arranged in the cubital fossa from <strong>medial to lateral</strong> as follows:</p>\n<ul>\n<li>Median nerve</li>\n<li>Brachial artery</li>\n<li>Tendon of biceps brachii</li>\n<li>Radial nerve</li>\n</ul>\n<p>The cubital fossa is a triangular depression in the anterior aspect of the upper forearm. It is related to the epicondylar line <strong>proximally</strong>, lateral border of pronator teres <strong>medially</strong>, and by the medial surface of brachioradialis <strong>laterally.</strong>\u00a0</p>\n<p>Its roof is formed by the deep fascia of the forearm. The <strong>floor</strong> of the fossa is formed by the brachialis and supinator. Veins like basilic, median cubital, and cephalic veins are arranged in the superficial fascia from medial to lateral side.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7c3ed56af6eb42df9f3049538da12513x1020x940.JPEG"
    ]
  },
  {
    "text": "Arrange the cells according to their positions from the basal layer towards the lumen in the seminiferous tubules.",
    "choices": [
      {
        "id": 1,
        "text": "1,5,4,2,3"
      },
      {
        "id": 2,
        "text": "1,2,3,4,5"
      },
      {
        "id": 3,
        "text": "5,4,3,2,1"
      },
      {
        "id": 4,
        "text": "5,1,2,3,4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The process by which spermatids are transformed into spermatozoa is called <strong>spermiogenesis.&nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/905a3334b60e4f308f65e584c76fbb8fx600x678.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f16d877d68e4493c92edea92033510a9x1280x1388.JPEG"
    ]
  },
  {
    "text": "Which skull foramen is formed by 3 bones?",
    "choices": [
      {
        "id": 1,
        "text": "Foramen lacerum"
      },
      {
        "id": 2,
        "text": "Foramen magnum"
      },
      {
        "id": 3,
        "text": "Foramen rotundum"
      },
      {
        "id": 4,
        "text": "Foramen jugulare"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Option D: <strong>Foramen jugulare</strong> is formed by the petrous part of the<strong> temporal bone</strong> and <strong>occipital bone</strong>.&nbsp;</p>\n<p>The image below shows superior and inferior views of the <strong>skull base</strong>:&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/46849196ffa64d7a97fc34c15ab9356ax1279x1050.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b4443b8cf0324d50bdead8fb017f2bc5x1279x1383.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/af97585d050b4e6da851887a5f913205x1279x1735.JPEG"
    ]
  },
  {
    "text": "Which marked structure causes lateral rotation, flexion, and abduction at the hip joint, along with flexion at the knee joint?",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>&nbsp;</p>\n<p>Other options:</p>\n<p>Option A: <strong>Rectus femoris</strong> is involved in <strong>flexion</strong> at the <strong>hip</strong> and <strong>extension</strong> at the <strong>knee.</strong></p>\n<p>Option C: <strong>Gracilis</strong> is involved in <strong>adduction</strong> at the <strong>hip</strong> and <strong>flexion</strong> and <strong>medial rotation</strong> at the <strong>knee.</strong></p>\n<p>Option D: <strong>Adductor longus</strong> is involved in&nbsp;<strong>adduction, flexion,</strong> and <strong>medial rotation</strong> at the <strong>hip.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a4f9f153627e447ba421e294773c9ef9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f7669a5cf2b54dde9b31b4b0e5ed2c4fx1280x1282.JPEG"
    ]
  },
  {
    "text": "Which among the following statements is true regarding the course of the mandibular nerve?",
    "choices": [
      {
        "id": 1,
        "text": "2,3"
      },
      {
        "id": 2,
        "text": "1,3"
      },
      {
        "id": 3,
        "text": "3,4"
      },
      {
        "id": 4,
        "text": "1,4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The true statements are <strong>2 </strong>and <strong>3</strong>.</p>\n<p>The lingual<strong>&nbsp;nerve</strong> is a branch from the <strong>posterior division</strong> of the <strong>mandibular nerve</strong>, and it <strong>arcs around</strong> the <strong>submandibular duct</strong>.&nbsp;</p>\n<p>The buccal branch is a branch from the <strong>anterior division</strong> of the mandibular nerve, and it emerges from <strong>behind the mandibular ramus.</strong></p>\n<p>The other statements:</p>\n<p>1. The <strong>auriculotemporal nerve</strong> emerges from <strong>behind</strong> the <strong>temporomandibular joint</strong> and is a branch from the <strong>posterior</strong> division of the&nbsp;<strong>mandibular</strong>&nbsp;nerve.&nbsp;</p>\n<p>4. The <strong>ophthalmic nerve</strong> arises in the <strong>middle cranial fossa</strong> and is a division of the&nbsp;<strong>trigeminal</strong> nerve, along with the&nbsp;<strong>maxillary</strong> and <strong>mandibular nerves.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the incorrectly matched pair(s) of pharyngeal arch and its artery.",
    "choices": [
      {
        "id": 1,
        "text": "iv, v"
      },
      {
        "id": 2,
        "text": "iii"
      },
      {
        "id": 3,
        "text": "v"
      },
      {
        "id": 4,
        "text": "ii, iii"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>All the given pairs of pharyngeal arteries and their arteries are correctly matched except for 'v' (option C).</p>\n<p>The <strong>6th pharyngeal arch</strong> has its blood supply on the <strong>left</strong> side from the <strong>left pulmonary artery</strong> and <strong>ductus arteriosus</strong>, not from the aorta.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The rupture of penile urethra does not cause extravasation of blood into which of the following spaces?",
    "choices": [
      {
        "id": 1,
        "text": "Superficial perineal pouch"
      },
      {
        "id": 2,
        "text": "Deep perineal pouch"
      },
      {
        "id": 3,
        "text": "Ischiorectal fossa"
      },
      {
        "id": 4,
        "text": "Skin around the scrotum"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Rupture of the&nbsp;<strong>penile urethra</strong> causes extravasation of blood into the <strong>superficial perineal pouch, scrotum, penis,</strong> and then up to the <strong>lower anterior abdominal wall.</strong></p>\n<p>The <strong>superficial perineal pouch</strong> is a compartment of the perineum <strong>enclosed</strong> by the membranous layer of the perineal fascia that surrounds the <strong>scrotum</strong> or <strong>labia</strong> and <strong>penis</strong> or <strong>clitoris.</strong></p>\n<p>Anteriorly, the membranous layer of perineal fascia is continuous over the pubic symphysis and pubic bones. It is later <strong>continuous</strong> with the membranous layer of the <strong>anterior abdominal wall.</strong>&nbsp; Thus, the <strong>fluid</strong> that <strong>accumulates</strong> in the perineal pouch extends to the <strong>lower anterior abdomen.</strong></p>\n<p>In the lower lateral abdominal wall, the abdominal fascia is attached to the deep fascia of the thigh, inferior to the inguinal ligament. Thus, on trauma at the penile urethra, urine <strong>does not extravasate</strong> into the <strong>anterior thigh.</strong></p>\n<p>The superficial perineal pouch is closed posteriorly by attaching the membranous layer of superficial fascia to the posterior margin of the urogenital diaphragm. Thus, commonly there&nbsp;is <strong>no extravasation</strong> into the <strong>deep perineal pouch</strong> and the <strong>ischiorectal fossa.<br /></strong></p>\n<p>Also, the membranous layer of superficial fascia attaches to the ischiopubic rami and forms the lateral borders of the urogenital triangle. Thus, the urine <strong>does not extravasate</strong> to the <strong>thigh.</strong></p>\n<p>But, the ischiorectal fossa would be a better answer because of the following reasons:</p>\n<ol>\n<li><strong>Bulbourethral glands</strong> that lie in the deep perineal space open their ducts into the<strong> spongy urethra, </strong>which is related to the superficial perineal space. Also, the muscles surrounding these glands were recently found to be a continuation of the deep transverse perinei and tail of the external urethral sphincter, both of which are components of the deep perineal space. Injury to the penile urethra can damage bulbourethral glands' ducts, which can lead to damage to the above-mentioned structures and may cause extravasation of urine into the deep perineal space.&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Previously, the <strong>perineal membrane</strong> was thought to be a triangular membrane. However, recent studies show that it is contiguous anteriorly with the structures that <strong>support the urethra</strong>. Posteriorly, it is related to the support of the perineal body and lateral vaginal wall. So damage to the urethra might damage the anterior part of the perineal membrane which can make way for extravasation of blood into the deep perineal space.&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Deep perineal pouch: It was believed initially that the urogenital diaphragm was formed by 3 layers: An inferior fascia (also called the perineal membrane), deep perineal space, and a superior fascia. The superior fascia formed the inferior border of the ischioanal fossa. The Colles fascia also separates the perineal membrane from the ischioanal fossa. So, extravasation of blood into the deep perineal space is possible but extravasation into the ischioanal fossa due to penile urethral injury is highly unlikely. Recent studies have shown that this might be a slightly more complex structure.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9fabe23c32e7466b9c00e6905a085953x1280x1244.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0183cc13986b433d9a0c536af7e80973x1280x1603.JPEG"
    ]
  },
  {
    "text": "Which nerve is blocked when local anesthesia is given below the inguinal ligament during femoral vein catheterization?",
    "choices": [
      {
        "id": 1,
        "text": "Femoral nerve"
      },
      {
        "id": 2,
        "text": "Genitofemoral nerve"
      },
      {
        "id": 3,
        "text": "Lateral cutaneous nerve of thigh"
      },
      {
        "id": 4,
        "text": "Ilioinguinal nerve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Other options:</p>\n<p>Option A: <strong>Femoral nerve</strong> arises from the&nbsp;<strong>posterior division</strong>&nbsp;of ventral rami of<strong>&nbsp;L2-L4</strong>&nbsp;spinal segments on the posterior abdominal wall. It enters the femoral triangle by passing under the inguinal ligament. In the femoral triangle, it lies lateral to the femoral artery and&nbsp;<strong>outside the femoral sheath. </strong>Later, it is divided into anterior and posterior branches by the lateral <strong>circumflex femoral artery.</strong></p>\n<p>Option C: <strong>Lateral cutaneous nerve</strong>&nbsp;(a.k.a lateral femoral cutaneous nerve) of the thigh is most commonly injured at the site where it leaves the pelvis.&nbsp;An injury to the lateral cutaneous nerve of the thigh leads to&nbsp;<strong>pain</strong>&nbsp;and&nbsp;<strong>paresthesia</strong>&nbsp;over the <strong>anterolateral</strong> region of the <strong>thigh,</strong> a condition called&nbsp;<strong>meralgia</strong>&nbsp;<strong>paresthetica</strong>.</p>\n<p>Option D: <strong>Ilioinguinal nerve&nbsp;</strong>is<strong>&nbsp;most commonly</strong>&nbsp;injured within the inguinal canal in&nbsp;open hernia repair&nbsp;due to traction or thermal injury. Injury causes&nbsp;<strong>loss</strong>&nbsp;of<strong>&nbsp;sensation</strong>&nbsp;in the&nbsp;<strong>root</strong>&nbsp;of the<strong>&nbsp;penis&nbsp;</strong>and<strong>&nbsp;adjacent part</strong>&nbsp;of the<strong>&nbsp;scrotum.&nbsp;</strong></p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/aa53184ce66a491aa4e48bfd0ddd558ax1280x1629.JPEG"
    ]
  },
  {
    "text": "Identify the nerve passing around the marked structure.",
    "choices": [
      {
        "id": 1,
        "text": "Common peroneal nerve"
      },
      {
        "id": 2,
        "text": "Sural nerve"
      },
      {
        "id": 3,
        "text": "Tibial nerve"
      },
      {
        "id": 4,
        "text": "Femoral nerve"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The common peroneal nerve is&nbsp;<strong>more prone&nbsp;</strong>to&nbsp;<strong>injury&nbsp;</strong>as it lies&nbsp;<strong>superficial</strong>&nbsp;at the level of the lateral aspect of the neck of the fibula. Injury&nbsp;results in<strong> foot drop</strong>&nbsp;(which causes high-stepping gait), loss of eversion of the foot, and sensory loss on the dorsum of the foot.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/11df3321097042db92f1794b427e53d8.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c586b200d0ac4ffe9eebac8b80e8aab7x1280x1592.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e240f9a6c95f424ebed39cbc179ac573x1280x2400.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3bd6e56bb8554eebaee86f79b675a26ax1200x1447.JPEG"
    ]
  },
  {
    "text": "Which of the following cells are present in the molecular layer of the cerebellum?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2"
      },
      {
        "id": 2,
        "text": "1, 3"
      },
      {
        "id": 3,
        "text": "2, 4"
      },
      {
        "id": 4,
        "text": "2, 3"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>molecular layer</strong> of the cerebellum contains <strong>stellate</strong> and <strong>basket cells</strong>.</p>\n<p>The <strong>molecular layer&nbsp;</strong>is the&nbsp;<strong>outermost</strong>&nbsp;layer that contains&nbsp;<strong>stellate cells and basket cells</strong>, and dendrites of Purkinje cells. They receive excitatory input from the parallel fibers and form&nbsp;<strong>inhibitory</strong>&nbsp;synapses on the Purkinje cells. This layer contains many myelinated and unmyelinated nerve fibers and appears <strong>pale</strong> on H&amp;E staining.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/94322492b1964024b9ad5ead4c56f8a9x1280x1012.8067700987306.JPEG"
    ]
  },
  {
    "text": "Bleeding as shown in the image is due to which of the following vessels?",
    "choices": [
      {
        "id": 1,
        "text": "Bridging veins"
      },
      {
        "id": 2,
        "text": "Middle meningeal artery"
      },
      {
        "id": 3,
        "text": "Lenticulostriate artery"
      },
      {
        "id": 4,
        "text": "Vertebral artery"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>&nbsp;</p>\n<p>The given image shows types of brain hemorrhage:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9faa073703d84596b23bff809fa100c3.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/67c11559596b4a13865567fe59661664x1047x753.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/63c0570407ff43d8ae37bb9c029aaceax1280x819.PNG"
    ]
  },
  {
    "text": "Which of the following statements are true about the internal capsule?",
    "choices": [
      {
        "id": 1,
        "text": "1, 3, 4"
      },
      {
        "id": 2,
        "text": "2, 3, 4"
      },
      {
        "id": 3,
        "text": "1, 2, 4"
      },
      {
        "id": 4,
        "text": "1, 2, 3"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Statements 1, 2, and 4 are true about the internal capsule.</p>\n<p>The <strong>charcot&rsquo;s artery</strong> of hemorrhage is a <strong>larger lenticulostriate</strong> or <strong>lateral striate artery</strong>. Lateral striate arteries supply the <strong>anterior limb, genu</strong> and the <strong>posterior limb</strong> of the internal capsule. These arteries are also commonly involved in <strong>ischemic</strong> and <strong>hemorrhagic strokes</strong>.</p>\n<p>The <strong>retrolentiform</strong> part of the internal capsule carries fibers mainly from <strong>optic radiation</strong>. A lesion here produces&nbsp;homonymous hemianopia, superior quadrantanopia, or inferior quadrantanopia.</p>\n<p>The<strong> anterior limb</strong>&nbsp;of the&nbsp;internal capsule&nbsp;carries <strong>fronto-pontine fibers</strong>. A lesion here produces&nbsp;confusion, impaired attention, agitation, and dysarthria.</p>\n<p>The <strong>posterior limb</strong>&nbsp;of the&nbsp;internal capsule&nbsp;carries <strong>cortico-spinal motor fibers</strong> in the <strong>anterior part</strong> and the lesion here produces contralateral hemiparesis. The <strong>posterior part</strong> of the posterior limb of the internal capsule carries <strong>sensory fibers</strong> and lesions here may produce contralateral hemi-sensory deficits.</p>\n<p>The&nbsp;internal capsule&nbsp;predominantly contains&nbsp;<strong>projection&nbsp;fibers</strong>, not commissural fibers.&nbsp;<strong>Projection fibers&nbsp;</strong>are the fibers that project from higher to lower centers or vice versa in CNS.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bb8f00d41cc9436c96c9ac7e364914cex1280x1625.JPEG"
    ]
  },
  {
    "text": "Which of the following is not a branch of posterior division of internal iliac artery ?",
    "choices": [
      {
        "id": 1,
        "text": "Iliolumbar artery"
      },
      {
        "id": 2,
        "text": "Lateral sacral artery"
      },
      {
        "id": 3,
        "text": "Inferior gluteal artery"
      },
      {
        "id": 4,
        "text": "Superior gluteal artery"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>&nbsp;</p>\n<p>Branches of the<strong> anterior trunk&nbsp;</strong>of the internal iliac artery:</p>\n<ol>\n<li>Obturator artery</li>\n<li>Superior vesical artery</li>\n<li>Inferior vesical artery&nbsp;</li>\n<li><strong>Inferior gluteal artery</strong></li>\n<li>Middle rectal artery</li>\n<li>Vaginal artery (in females)</li>\n<li>Uterine artery (in females)</li>\n<li>Internal pudendal artery</li>\n</ol>\n<p>Branches of the<strong> posterior trunk</strong>&nbsp;of the internal iliac artery:</p>\n<ul>\n<li>Iliolumbar artery</li>\n<li>Lateral sacral arteries</li>\n<li><strong>Superior gluteal artery</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/904913e2f83e4e95be719092e4a79a0dx795x599.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2dbdc4d411e54e38a8a7663dc7c93698x1280x1051.JPEG"
    ]
  },
  {
    "text": "Identify the incorrect statement regarding the marked structure.",
    "choices": [
      {
        "id": 1,
        "text": "It is the meeting point of frontal, parietal, temporal and sphenoid bones."
      },
      {
        "id": 2,
        "text": "Blow to the lateral side of the skull injures the marked structure."
      },
      {
        "id": 3,
        "text": "Accessory middle meningeal artery lies under this structure."
      },
      {
        "id": 4,
        "text": "It corresponds to site of anterolateral fontanelle of fetal skull."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>&nbsp;</p>\n<p>The <strong>accessory meningeal artery</strong>&nbsp;may be a branch of the middle meningeal artery or might arise directly from the maxillary artery. It reaches the cranium via the <strong>foramen ovale</strong> and distributes principally in the <strong>extracranial region</strong>. It is distributed over the medial and lateral pterygoids, tensor veli palatini, greater wing and pterygoid processes of the sphenoid bone, mandibular nerve, and the otic ganglion. So, it supplies the trigeminal ganglion, <strong>dura mater</strong> and bone. But in some people, it may be replaced by small separate arteries.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3f891a44b6714102bce9711133ab9f70.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dc81c0a94d7a40f28052b990aa39f8e8x1280x1525.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3dea3f58f8aa498d81f60998535a309bx600x666.JPEG"
    ]
  },
  {
    "text": "What are the derivatives of the marked cells?",
    "choices": [
      {
        "id": 1,
        "text": "1, 3, 5, 6"
      },
      {
        "id": 2,
        "text": "2, 3, 4, 6"
      },
      {
        "id": 3,
        "text": "1, 2, 3, 6"
      },
      {
        "id": 4,
        "text": "1, 2, 3, 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The cells shown in the image are<strong>&nbsp;neural crest cells (NCC)</strong>&nbsp;present adjacent to the neural tube (NT). NCCs contribute to many organs and tissues, and the neural crest is sometimes referred to as the fourth germ layer:</p>\n<ul>\n<li>In the<strong>&nbsp;trunk region,&nbsp;</strong>they&nbsp;form:&nbsp;\n<ul>\n<li><strong>Melanocytes</strong></li>\n<li>Sensory ganglia</li>\n<li><strong>Sympathetic</strong>&nbsp;and&nbsp;enteric neurons</li>\n<li>Schwann cells</li>\n<li>Adrenal medulla cells</li>\n</ul>\n</li>\n<li>In the&nbsp;<strong>cranial region</strong>, they&nbsp;contribute to the:&nbsp;\n<ul>\n<li>Craniofacial skeleton</li>\n<li>Neurons for cranial ganglia</li>\n<li>Satellite&nbsp;glial cells</li>\n<li>Melanocytes</li>\n</ul>\n</li>\n<li>Some of the other neural crest <strong>derivatives</strong> are\n<ul>\n<li>C cells of the thyroid gland</li>\n<li><strong>Conotruncal septum</strong> in the heart</li>\n<li><strong>Odontoblasts</strong></li>\n<li>Smooth muscle cells to blood vessels to the face and forebrain.</li>\n</ul>\n</li>\n</ul>\n<p>The <strong>intermediate mesoderm&nbsp;</strong>is a longitudinal strip of intraembryonic mesoderm that connects the paraxial with the lateral plate mesoderm.&nbsp;The intermediate mesoderm develops into the genital ridge and<strong> nephrogenic cord.</strong></p>\n<p>The majority of the heart, including the <strong>right ventricle</strong> and <strong>outflow tract,</strong> is derived from the <strong>bulbus cordis</strong>, which is further derived from the pharyngeal <strong>mesoderm</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bb6510ac8aa34b46943a3188f57e7628.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f32bda97b5774a33a0436168244c8fb8x1280x1125.JPEG"
    ]
  },
  {
    "text": "Which of the following muscles form the pelvic diaphragm?",
    "choices": [
      {
        "id": 1,
        "text": "A, B"
      },
      {
        "id": 2,
        "text": "A, B, C, D"
      },
      {
        "id": 3,
        "text": "A, B, D"
      },
      {
        "id": 4,
        "text": "A,D"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Iliococcygeus and pubococcygeus</strong> are parts of the pelvic diaphragm, which is also known as the levator ani.</p>\n<p>The <strong>levator ani muscle</strong> is a complex unit that consists of 3 muscle components:</p>\n<ul>\n<li>Pubococcygeus\n<ul>\n<li>Pubovaginalis - elevates the urethra and hence contributes to urinary continence</li>\n<li>Puboperinealis - draws the perineal body towards the pubic symphysis</li>\n<li>Puboanalis - elevates the anus and keeps the urogenital hiatus narrowed</li>\n</ul>\n</li>\n<li>Puborectalis</li>\n<li>Iliococcygeus</li>\n</ul>\n<p><strong>Levator ani muscles</strong> are the most important muscles in the pelvic floor and maintain a constant state of contraction. They provide a <strong>stable floor </strong>and support\u00a0the weight of the abdominopelvic contents against intra-abdominal forces.\u00a0<strong>Weakening</strong> of levator ani and pelvic fascia from <strong>stretching</strong> or tearing during <strong>childbirth,</strong> may decrease support for the vagina, bladder, uterus, or rectum or alter the position of the neck of the bladder and urethra.</p>\n<p>Other options:\u00a0</p>\n<p>The <strong>obturator internus</strong> forms the lateral wall of the ischioanal fossa and is not a part of the levator ani.</p>\n<p>The <strong>deep transverse perineal muscle</strong> is the content of the deep perineal space and contributes to the formation of the perineal body.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c0c941e135d34e4385c789f0c679397bx1280x2558.JPEG"
    ]
  },
  {
    "text": "Which of the following arteries passes in close proximity to the area marked by the arrow in the given image?",
    "choices": [
      {
        "id": 1,
        "text": "Anterior division of middle cerebral artery"
      },
      {
        "id": 2,
        "text": "Anterior division of the middle meningeal artery"
      },
      {
        "id": 3,
        "text": "Posterior division of middle cerebral artery"
      },
      {
        "id": 4,
        "text": "Stem of middle meningeal artery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The area marked by an arrow in the given image is&nbsp;<strong>p</strong><strong>terion&nbsp;</strong>and the artery that passes in close proximity&nbsp;to this area is the&nbsp;<strong>middle meningeal artery</strong>.</p>\n<p><strong>The pterion</strong> is an <strong>H shaped sutural junction</strong> between <strong>four bones of the skull:</strong></p>\n<ul>\n<li>Frontal bone</li>\n<li>Squamous part of the temporal bone</li>\n<li>Greater wing of the sphenoid bone</li>\n<li>Parietal bone.</li>\n</ul>\n<p>It is an important structure as it overlies the <strong>anterior</strong> branch of the <strong>middle meningeal artery</strong> and <strong>lateral fissure </strong>of the<strong> cerebral hemisphere</strong>. The bone in this area is thin and any injury to this area may lead to rupture of the middle meningeal artery leading to <strong>extradural hematoma.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a62345ebeaf345319fefa819cad22819.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/93b950527b9348b9ba405b1a9637e698x525x625.PNG"
    ]
  },
  {
    "text": "Fracture of the jugular canal can present as",
    "choices": [
      {
        "id": 1,
        "text": "Loss of taste sensation in anterioir 2/3rd of tongue"
      },
      {
        "id": 2,
        "text": "Loss of taste sensation in posterior 1/3rd of tongue"
      },
      {
        "id": 3,
        "text": "Loss of general sensation in anterior 2/3rd of tongue"
      },
      {
        "id": 4,
        "text": "Loss of motor sensation in anterior 2/3rd of tongue"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 696\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Fracture of the jugular canal affects&nbsp;<strong>glossopharyngeal nerve</strong> and<strong>&nbsp;</strong>presents as loss of taste sensation in<strong>&nbsp;</strong>the<strong> posterior 1/3rd </strong>of<strong>&nbsp;</strong>the<strong> tongue.&nbsp;</strong></p>\n<p>The<strong> lingual nerve</strong> which is a&nbsp;branch of the <strong>mandibular division </strong>of the <strong>trigeminal nerve </strong>gives<strong> general sensation, chorda tympani </strong>branch of<strong> facial nerve&nbsp;</strong>gives <strong>taste </strong>sensation&nbsp;for<strong>&nbsp;the anterior 2/3rd&nbsp;</strong>of tongue.<strong>&nbsp;</strong><span style=\"font-size: 14px;\">Both taste and general sensation of the&nbsp;<strong>posterior 1/3rd</strong> is by the&nbsp;</span><strong style=\"font-size: 14px;\">glossopharyngeal nerve.&nbsp;</strong>The <strong>muscles</strong> of the tongue, with the exception of palatoglossus, are supplied by the <strong>hypoglossal</strong> nerve. Palatoglossus is supplied via the pharyngeal plexus.</p>\n<p>The other nerves passing through<strong>&nbsp;</strong>the<strong> jugular foramen</strong> are <strong>glossopharyngeal</strong>(cranial nerve IX)<strong>, vagus</strong>(cranial nerve X)<strong>,</strong> and <strong>accessory nerve</strong>(cranial nerve XI)<strong>.</strong></p>\n<p>The following is an image of the base of skull showing jugular foramen:</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4d3200d6a79b4d97928f2f5dd3e2947ex1279x1050.JPEG"
    ]
  },
  {
    "text": "Injury of the lower brachial plexus leads to Klumpke's paralysis. What is the characteristic clinical finding seen in this lesion?",
    "choices": [
      {
        "id": 1,
        "text": "Policeman tip hand"
      },
      {
        "id": 2,
        "text": "Wrist drop"
      },
      {
        "id": 3,
        "text": "Claw hand"
      },
      {
        "id": 4,
        "text": "Horner's syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>&nbsp;</p>\n<p>Option B: <strong>Wrist drop</strong> is a feature of <strong>radial nerve injury</strong> in the axilla, radial groove, anterolateral side of the lower arm, or injury of the deep branch in the cubital fossa.</p>\n<p>Option D: <strong>Horner's syndrome</strong>&nbsp;is caused due to the disruption of sympathetic supply to the face. It causes <strong>ptosis, miosis, anhydrosis,</strong> enophthalmos, and loss of ciliospinal reflex of the affected eye. It may occur in some cases of Klumpke's paralysis and is not a characteristic finding.</p>\n<p>The following image shows the ocular manifestation of Horner syndrome:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/09c6db3463ab4f3688eba77df1251306x720x1015.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9bb8566c13ac4d84a335b84c0cc32b04x1280x1622.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a15aef5b912c4ecb92865b58377d1c3ax702x315.JPEG"
    ]
  },
  {
    "text": "Identify the liver segment marked in the image below:",
    "choices": [
      {
        "id": 1,
        "text": "V"
      },
      {
        "id": 2,
        "text": "IVa"
      },
      {
        "id": 3,
        "text": "VII"
      },
      {
        "id": 4,
        "text": "III"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Couinaud classification is the commonly used classification of the liver. It divides the liver is divided into <strong>eight segments</strong>.&nbsp;It is based on the distribution of <strong>portal venous branches</strong> in the liver parenchyma. Each segment has its own vascular supply, biliary drainage, and lymphatic drainage.</p>\n<p>The&nbsp;<strong class=\"ng-binding\">Couinaud's liver segments&nbsp;</strong>are as follows:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fd64a743fc7744bcb88e76ef442cdf04.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/82042ba723af47c2a750f66d1ad3990cx1280x1132.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/961713b309fd49e7b3d94b79ec21b178x1280x1079.605077574048.JPEG"
    ]
  },
  {
    "text": "Which of the following lobes of the lung is affected when there is aspiration in supine position?",
    "choices": [
      {
        "id": 1,
        "text": "Lingula"
      },
      {
        "id": 2,
        "text": "Upper part of right inferior lobe"
      },
      {
        "id": 3,
        "text": "Right superior lobe"
      },
      {
        "id": 4,
        "text": "Right middle lobe"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>upper part</strong>&nbsp;of the <strong>right inferior lobe</strong> is prone to aspiration in the <strong>supine position</strong>. It is commonly seen in <strong>alcoholics. </strong></p>\n<p>The <strong>posterior segment</strong> of the <strong>right superior lobe&nbsp;</strong>and the <strong>superior segment</strong> of the <strong>inferior&nbsp;lobes</strong> are the most commonly involved lung sites when aspiration occurs in a recumbent patient.</p>\n<p>The location of aspiration depends on the<strong> position of the patient</strong> since it is <strong>gravity-dependent.</strong> Aspiration while <strong>standing</strong> leads to infiltration of&nbsp;<strong>bilateral inferior lobes&nbsp;</strong>because of&nbsp;larger and more vertical corresponding bronchi, the middle lobes and the lingula.</p>\n<p>Aspiration of contents into foreign substances into the bronchial tree, usually oral or gastric contents, produces aspiration pneumonia. Chemical (gastric acid) injury or bacterial infection complicates the condition.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the cranial nerve that arises from the marked part.",
    "choices": [
      {
        "id": 1,
        "text": "Occulomotor nerve"
      },
      {
        "id": 2,
        "text": "Glossopharyngeal nerve"
      },
      {
        "id": 3,
        "text": "Abducens nerve"
      },
      {
        "id": 4,
        "text": "Facial nerve"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The structure marked in the image is the <strong>abducens nerve </strong>that&nbsp;arises from the&nbsp;<strong>pontomedullary junction.</strong></p>\n<p class=\"p1\">In the groove between the medulla and pons, abducens, <span class=\"s1\">facial,&nbsp;</span><span class=\"s2\">and </span>vestibulocochlear <span class=\"s2\">nerves emerge arranged medially to laterally.</span></p>\n<p>The abducens nerve is the 6th cranial nerve that arises from the brainstem at the pontomedullary junction, passes through Dorello's canal, and enters the cavernous sinus where it lies lateral to the internal carotid artery. It then enters the orbit through the common tendinous ring in the <strong>superior orbital fissure</strong> to supply the <strong>lateral rectus</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0b2518e6a45a486eb9290ba34250de60.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following are a part of the limbic system?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2"
      },
      {
        "id": 2,
        "text": "1, 3"
      },
      {
        "id": 3,
        "text": "2, 3"
      },
      {
        "id": 4,
        "text": "1, 2, 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>amygdala, hippocampus, </strong>and <strong>thalamus</strong> are all a part of the limbic system.</p>\n<p>The limbic system refers to the interconnected neuronal circuit in the basal part of the brain that&nbsp;<strong>controls emotional behavior</strong> and other vegetative functions such as body temperature, the osmolality of the body fluids, and the drives to eat and drink and to control body weight.</p>\n<p>The <strong>limbic system</strong> includes the following:</p>\n<ul>\n<li>Subcallosal gyrus</li>\n<li>Cingulate gyrus</li>\n<li>Parahippocampal gyrus</li>\n<li>Hippocampal formation</li>\n<li>Amygdaloid nucleus</li>\n<li>Mammillary bodies</li>\n<li>Anterior thalamic nucleus</li>\n<li>Hypothalamus</li>\n</ul>\n<p>The <strong>connecting pathways</strong> for this system comprise the alveus, the fimbria, the fornix, the mammillothalamic tract, and the stria terminalis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9918e3e22afa4c1cbe7ce0b054c9a348x1280x940.JPEG"
    ]
  },
  {
    "text": "A 50-year-old male presented with a positive Trendelenburg test on the right side. Identify the nerve injured.",
    "choices": [
      {
        "id": 1,
        "text": "Right inferior gluteal nerve"
      },
      {
        "id": 2,
        "text": "Right superior gluteal nerve"
      },
      {
        "id": 3,
        "text": "Left superior gluteal nerve"
      },
      {
        "id": 4,
        "text": "Left inferior gluteal nerve"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Positive Trendelenburg test</strong> on the<strong> right side</strong> indicates a <strong>right</strong>&nbsp;<strong>superior gluteal nerve injury.<br /></strong>When the patient stands on his right foot, there is drooping of the left pelvis, this is a <strong>P</strong><strong>ositive</strong> <strong>Trendelenburg</strong> test on the <strong>right</strong>&nbsp;side.</p>\n<p>The gluteus medius and minimus are powerful <strong>abductors</strong> of the hip supplied by the&nbsp;superior gluteal nerve.</p>\n<p>Normally, when the leg is lifted off the ground, the <strong>gluteus medius </strong>and <strong>minimus</strong>&nbsp;on the opposite (unsupported) side exert traction on the hip bone. This results in a&nbsp;<strong>slight raising of the pelvis</strong> on the <strong>unsupported side</strong>, which helps maintain the trunk upright position.</p>\n<p>If the&nbsp;<strong>gluteus medius </strong>and<strong> minimus are paralyzed</strong>, the <strong>pelvis drops </strong>on the<strong>&nbsp;contralateral side. </strong>This is known as a<strong>&nbsp;positive&nbsp;</strong>Trendelenburg sign. It is positive in the paralysis of the hip abductors, and in&nbsp;<strong>developmental dysplasia of the hip</strong>. A characteristic <strong>lurching</strong> <strong>gait</strong> is seen.</p>\n<p>The image below shows the&nbsp;Trendelenburg test.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/08c8c95e71014a448774c2a7ac0f0a6dx1280x4280.JPEG"
    ]
  }
];
        let quizName = '010 Anatomy Ini-Cet 2022';
        let hierarchy = ["Marrow", "PYQs", "Anatomy"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>