<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>22 Immunodeficiency Disorders - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pathology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">17</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>An 8-month-old male infant presents with a history of severe, recurrent bacterial infections. On physical examination, the tonsils were found to be absent. Peripheral blood examination reveals an absence of B cells, while the T cell count is normal. Additionally, serum analysis reveals undetectable levels of immunoglobulins (IgG, IgA, and IgM). Which of the following most accurately explains the molecular mechanism responsible for this patient's immunodeficiency?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "BTK gene mutation"
      },
      {
        "id": 2,
        "text": "RAG1/2 gene mutation"
      },
      {
        "id": 3,
        "text": "CD40L deficiency"
      },
      {
        "id": 4,
        "text": "BAFF receptor abnormality"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct answer: A) BTK gene mutation</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The clinical vignette suggests that the infant is suffering from <strong>Bruton's agammaglobulinemia</strong>, which is characterized by the failure of B-cell precursors (pro\u2013B cells and pre\u2013B cells) to develop into <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> B cells due to the <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> in <strong>BTK gene</strong>.</p>\n\n<p><strong>Bruton\u2019s <span class=\"customMeta\" data-dictid=\"2154ae19fc1692777180ad72742d0b\">agammaglobulinemia</span> or hypogammaglobulinemia:</strong></p>\n\n<ul>\n\t<li><strong>X-linked recessive</strong>, most commonly seen in <strong>boys</strong>.</li>\n\t<li><strong>Pathophysiology:</strong>\n\t<ul>\n\t\t<li>Failure of pre-B cells to <span class=\"customMeta\" data-dictid=\"c9001edbf216927771860f3475b44c\">differentiate</span> into <span class=\"customMeta\" data-dictid=\"c219021c491692777189d289f1fc03\">immature</span> B cells in the <span class=\"customMeta\" data-dictid=\"5b9831f3aa169277718395d7361df6\">bone marrow</span> - due to <strong>the</strong>\u00a0<strong>absence of Bruton\u2019s tyrosine <span class=\"customMeta\" data-dictid=\"9863da498e1692777190e1c6515b48\">kinase</span> (BTK) enzyme</strong>.</li>\n\t\t<li>As a result, there is a total absence of B cells and <span class=\"customMeta\" data-dictid=\"a0e40688fa169277719572bdb48c92\">plasma</span> cells in the circulation, with depressed <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> levels of all classes of immunoglobulins.</li>\n\t\t<li>However, Pre-B cells are found in normal numbers in <span class=\"customMeta\" data-dictid=\"5b9831f3aa169277718395d7361df6\">bone marrow</span> and the T cell-mediated responses are also normal.</li>\n\t\t<li>The B cell <span class=\"customMeta\" data-dictid=\"76948f718016927771924774ade7e9\">maturation</span> stops at pre-B cell stage; after the <span class=\"customMeta\" data-dictid=\"3fda45538a1692777199ec2a5478a5\">synthesis</span> of heavy-chain without forming the light chains.</li>\n\t\t<li>Hence the <span class=\"customMeta\" data-dictid=\"728bb228361692777185b98c34534b\">cytoplasm</span> of pre-B cell may have incomplete immunoglobulins</li>\n\t</ul>\n\t</li>\n\t<li><strong>Clinical features: </strong>\n\t<ul>\n\t\t<li>Recurrent bacterial infections.</li>\n\t\t<li>Infections do not develop until <strong>6 months</strong> of age (when <span class=\"customMeta\" data-dictid=\"a191a950d7169277719148e72a75e2\">maternal</span> antibodies are no longer active).</li>\n\t</ul>\n\t</li>\n\t<li><strong>On examination: </strong>\n\t<ul>\n\t\t<li>Tonsils may be difficult to visualize.</li>\n\t\t<li>Cervical/inguinal <span class=\"customMeta\" data-dictid=\"4df97a6cbf169277719172fd1af767\">lymph</span> nodes may not be palpable.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Laboratory findings and other features:</strong>\n\t<ul>\n\t\t<li>Marked reduction or absence of B cells in the <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> circulation.</li>\n\t\t<li>Immunoglobulin levels (IgG, IgM, and IgA) are low or undetectable.</li>\n\t\t<li>Plasma cells are absent throughout the body.</li>\n\t\t<li>T-cell mediated reactions are normal.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Management:</strong>\n\t<ul>\n\t\t<li>Immunoglobulin replacement therapy.</li>\n\t\t<li>Antibiotics to treat infections.</li>\n\t\t<li><strong>Live vaccines are contraindicated</strong></li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>RAG1/2 gene <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">mutation</span> (Option B)</strong> leads to severe <span class=\"customMeta\" data-dictid=\"4dc8c69a7016927771850f8a074583\">combined immunodeficiency</span> <strong>(SCID)</strong>, where both B and T cell functions are impaired due to <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> V(D)J recombination.</p>\n\n<p><strong>CD40 <span class=\"customMeta\" data-dictid=\"6e1f8c026516927771919d54418520\">ligand</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> (Option C)</strong> leads to <strong>Hyper IgM syndrome</strong>, where T-B cell interactions are defective, but B cells are still present.</p>\n\n<p><strong>BAFF (B-cell activating factor) <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> <span class=\"customMeta\" data-dictid=\"e7ed1a964716927771801ab913204a\">abnormality</span> (Option D)</strong> can contribute to <span class=\"customMeta\" data-dictid=\"4f067428c51692777185006c50ba0a\">common variable immunodeficiency</span> <strong>(CVID)</strong>. However, CVID typically <strong>presents later in childhood or adulthood</strong> and is characterized by low <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"f8fab286571692777189bdfd087071\">immunoglobulin</span> levels and impaired <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> responses with the presence of B cells.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/IbSJ5JfkpIfpRVeiWBFP1750233070.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/irKuW04z9DPMI2BUNvqo1750233149.mp3"
  },
  {
    "text": "<p>In a pediatric clinic, a six-year-old male presents with a history of frequent respiratory and skin infections, eczema flare-ups, and macrothrombocytopenia. Given these symptoms, which genetic evaluation method would be the most effective for confirming the suspected diagnosis?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "WASP gene mutation analysis"
      },
      {
        "id": 2,
        "text": "ANA titer"
      },
      {
        "id": 3,
        "text": "FISH"
      },
      {
        "id": 4,
        "text": "B cell tyrosine kinase activity detection"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>CORRECT ANSWER: A) <span class=\"customMeta\" data-dictid=\"4b76723d2c16927772029ec2d65ac5\">WASP</span> gene <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">mutation</span> </strong></p>\n\n<p><strong>EXPLANATION: </strong></p>\n\n<p>WASP gene <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">mutation</span> analysis, specific to Wiskott-Aldrich syndrome. <strong>Wiskott-Aldrich syndrome</strong> is an <span class=\"customMeta\" data-dictid=\"dd35346fc716927772029e2f0bb10f\">X-linked</span> <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> disease characterized by the<strong> <span class=\"customMeta\" data-dictid=\"1a0a43d74e16927772004473a05ae3\">triad</span> </strong>of:</p>\n\n<ul>\n\t<li><strong>Thrombocytopenia</strong></li>\n\t<li><strong>Eczema</strong></li>\n\t<li><strong>Recurrent infections</strong></li>\n</ul>\n\n<p>Wiskott-Aldrich syndrome is caused by mutations in the gene located at Xp11.23, which encodes the <span class=\"customMeta\" data-dictid=\"f17e3cf4981692777202d2d8b0da1c\">Wiskott-Aldrich syndrome</span> protein (WASP).</p>\n\n<ul>\n\t<li>WASP belongs to a family of proteins that are believed to link <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> receptors, such as <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> receptors, to cytoskeletal elements.</li>\n\t<li>Patients do not make antibodies to <span class=\"customMeta\" data-dictid=\"aea912322316927771960b320d4f65\">polysaccharide</span> antigens, and the response to protein antigens is poor.</li>\n\t<li><strong>IgM levels in the <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> are low,</strong> but levels of <span class=\"customMeta\" data-dictid=\"2d9b37c62116927771891f3784d2c8\">IgG</span> are usually normal.</li>\n\t<li>Paradoxically, <strong>the levels of <span class=\"customMeta\" data-dictid=\"68bae589ad169277718918627baff4\">IgA</span> and <span class=\"customMeta\" data-dictid=\"a54166a5961692777189c5557f61f3\">IgE</span> are often elevated</strong>. Patients are also <span class=\"customMeta\" data-dictid=\"607476ab371692777196d0cb2f13bc\">prone</span> to developing B-cell lymphomas.</li>\n\t<li>WASP may be involved in cytoskeleton-dependent responses, including cell migration and signal transduction, but the essential functions of this protein in lymphocytes and platelets are unclear.</li>\n\t<li>It may lead to early death. The only treatment is <span class=\"customMeta\" data-dictid=\"31f3475bb416927771894ea8f40643\">HSC</span> transplantation.</li>\n</ul>\n\n<p><strong>ANA <span class=\"customMeta\" data-dictid=\"6c8421504e1692777200e552c3b421\">titre</span> ( OPTION B</strong>)</p>\n\n<p>These are typically associated with <span class=\"customMeta\" data-dictid=\"d9bf27b09416927771984cdc6c0bc4\">SLE</span> ( <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">lupus</span> erythematosus )</p>\n\n<p><strong>FISH (OPTION C</strong>)</p>\n\n<ul>\n\t<li><strong>FISH (Fluorescence <span class=\"customMeta\" data-dictid=\"96aaaa68ce1692777190096abe3c8a\">In Situ</span> Hybridization)</strong> is a molecular <span class=\"customMeta\" data-dictid=\"2878159c181692777185d495ce6244\">cytogenetic</span> technique used to detect and localize specific DNA sequences within the chromosomes. It uses fluorescently labelled probes that bind to their <span class=\"customMeta\" data-dictid=\"60d189ec981692777184053168bba4\">complementary</span> sequences on chromosomes, allowing for <span class=\"customMeta\" data-dictid=\"33ba8d60fb16927772029d1067e602\">visualization</span> of specific genes or regions of interest under a <span class=\"customMeta\" data-dictid=\"da0e2a00fa1692777202d6e2054b26\">fluorescence</span> microscope</li>\n\t<li>Also used in microdeletion, <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> or translocation.</li>\n\t<li><strong>FISH is an investigation of choice for Di-George syndrome.</strong></li>\n</ul>\n\n<p><strong>B cell tyrosine <span class=\"customMeta\" data-dictid=\"9863da498e1692777190e1c6515b48\">kinase</span> activity detection: (OPTION D</strong>)</p>\n\n<p>Detection of B cell tyrosine <span class=\"customMeta\" data-dictid=\"9863da498e1692777190e1c6515b48\">kinase</span> activity is relevant for <span class=\"customMeta\" data-dictid=\"dd35346fc716927772029e2f0bb10f\">X-linked</span> <span class=\"customMeta\" data-dictid=\"2154ae19fc1692777180ad72742d0b\">agammaglobulinemia</span> (XLA), characterized by the absence of <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> B cells and low levels of immunoglobulins.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p><strong>Assertion: </strong>Patients with Common Variable Immunodeficiency (CVID) commonly present with recurrent respiratory infections, gastrointestinal issues, and autoimmune disorders.</p>\n\n<p><strong>Reason:</strong> Defects in the BTK gene lead to impaired B cell signaling, resulting in decreased maturation of B cells from pre-B-cells.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Both Assertion and Reason are true, and Reason is the correct explanation for Assertion"
      },
      {
        "id": 2,
        "text": "Both Assertion and Reason are true, but Reason is not the correct explanation for Assertion"
      },
      {
        "id": 3,
        "text": "Assertion is true, but Reason is false"
      },
      {
        "id": 4,
        "text": "Assertion is false, but Reason is true"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Both Assertion and Reason are true, but Reason is not the correct explanation for Assertion.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>While the assertion about Common Variable Immunodeficiency (CVID) symptoms is correct, the reason is incorrect because defects in the BTK gene cause Bruton\u2019s (X-Linked) agammaglobulinemia, not CVID.</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"243\" src=\"https://image.prepladder.com/content/GdVA10GR6wAoW2kmCZ4o1737027200.png\" width=\"500\" /></p>\n\n<p>The BTK gene converts <span class=\"customMeta\" data-dictid=\"c219021c491692777189d289f1fc03\">immature</span> B cells into <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> B cells. The BAFF gene then produces <span class=\"customMeta\" data-dictid=\"a0e40688fa169277719572bdb48c92\">plasma</span> cells and antibodies from the <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> B cells.</p>\n\n<p><strong>Differences between Bruton's <span class=\"customMeta\" data-dictid=\"38eb38427a169277718918eb0effbf\">hypogammaglobulinemia</span> and CVID:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Bruton's hypogammaglobulinemia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>CVID</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>BTK gene defect</li>\n\t\t\t\t<li>Common in boys (X-linked)</li>\n\t\t\t\t<li>Manifests after 6 months of age</li>\n\t\t\t\t<li>B cell defect</li>\n\t\t\t\t<li>Hypoplastic <span class=\"customMeta\" data-dictid=\"a0e5fdc156169277718879843a6ede\">germinal</span> centers</li>\n\t\t\t\t<li>Patients are <span class=\"customMeta\" data-dictid=\"55691242bb1692777199360f64cb67\">susceptible</span> to infections by Haemophilus influenzae, Streptococcus pneumoniae, or Staphylococcus aureus.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>BAFF gene defect</li>\n\t\t\t\t<li>Occurs in both boys & girls</li>\n\t\t\t\t<li>Manifests in childhood or adolescence</li>\n\t\t\t\t<li>B cell and T cell defect</li>\n\t\t\t\t<li>Hyperplastic <span class=\"customMeta\" data-dictid=\"a0e5fdc156169277718879843a6ede\">germinal</span> centers</li>\n\t\t\t\t<li>Patients are <span class=\"customMeta\" data-dictid=\"55691242bb1692777199360f64cb67\">susceptible</span> to persistent diarrhoea caused by <strong>G. lamblia.</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/GdVA10GR6wAoW2kmCZ4o1737027200.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/bMlKfs3JNca7yCMy0Czu1745346155.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Qho5zZG415YqdmxLFIyX1745346223.mp3"
  },
  {
    "text": "<p>A 35-year-old male with a known history of selective IgA deficiency receives a blood transfusion during surgery. Shortly after the transfusion, he develops acute allergic reactions, including hives and difficulty breathing. Given his IgA deficiency, which blood products should have been considered to minimize the risk of such complications?</p>\n\n<p>\u00a0</p>\n\n<ul>\n</ul>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Standard red blood cells with no modification"
      },
      {
        "id": 2,
        "text": "Plasma products that are rich in IgA"
      },
      {
        "id": 3,
        "text": "Washed red blood cells"
      },
      {
        "id": 4,
        "text": "Fresh frozen plasma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Washed red blood cells </strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Patients with selective IgA <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> risk developing anaphylactic reactions if they receive IgA blood products. To minimize this risk, it is essential to transfuse blood products that have been processed to reduce IgA levels, such as washed red blood cells with <span class=\"customMeta\" data-dictid=\"ab6984f43316927771937ff19f3807\">normal saline</span> multiple times to remove <span class=\"customMeta\" data-dictid=\"a0e40688fa169277719572bdb48c92\">plasma</span> components. In contrast, standard red blood cells or IgA-rich products could trigger severe allergic reactions, as seen in this patient.</p>\n\n<p><strong>Selective IgA deficiency:</strong></p>\n\n<ul>\n\t<li>It is caused by impaired <span class=\"customMeta\" data-dictid=\"55a682d72e16927771865bb4855ba3\">differentiation</span> of <span class=\"customMeta\" data-dictid=\"2241e1d9a11692777193d3ceb43d49\">na\u00efve</span> B lymphocytes to IgA-producing <span class=\"customMeta\" data-dictid=\"a0e40688fa169277719572bdb48c92\">plasma</span> cells.</li>\n\t<li>Most individuals are asymptomatic.</li>\n\t<li>IgA is the primary <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> found in <strong>mucosal secretions</strong>, and its <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> weakens mucosal defences.</li>\n\t<li>This can lead to infections in the respiratory, gastrointestinal, and <span class=\"customMeta\" data-dictid=\"2942e9d19616927772014161ee8f70\">urogenital</span> tracts.</li>\n\t<li>Symptomatic patients often experience <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> <span class=\"customMeta\" data-dictid=\"b0046463171692777198e0beea83e7\">sinus</span> and lung infections, as well as diarrhoea.</li>\n\t<li>Patients with IgA <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> frequently suffer from <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> allergies and a range of <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> diseases, including <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">lupus</span> erythematosus (SLE) and <span class=\"customMeta\" data-dictid=\"40dbde72e41692777197e59d893839\">rheumatoid</span> arthritis.</li>\n\t<li>When transfused with blood containing normal IgA, some individuals may experience severe and potentially fatal anaphylactic reactions, as their immune system treats the IgA as a foreign antigen.</li>\n\t<li>In this situation, the safest method is to use washed red blood cells, plasma, or platelets from known IgA-deficient donors.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/9CO6MsSWYOEjkQue26QF1750240990.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/kfqZ9L4bECjD6BkRA0Mc1750241077.mp3"
  },
  {
    "text": "<p>A 7-year-old child presents with recurrent skin abscesses and pneumonia. He also has a history of skeletal abnormalities, including scoliosis and delayed shedding of primary teeth. His lab work shows elevated serum IgE levels. What is the most likely diagnosis?</p>\n\n<p><br />\n\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Job syndrome"
      },
      {
        "id": 2,
        "text": "Chronic granulomatous disease"
      },
      {
        "id": 3,
        "text": "Wiskott-Aldrich syndrome"
      },
      {
        "id": 4,
        "text": "Ataxia-Telangiectasia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Job syndrome</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The clinical presentation of <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> infections with delayed shedding of primary teeth, along with the findings of elevated <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> IgE levels, indicates the diagnosis of <strong>Job syndrome</strong> or <strong>hyper IgE syndrome</strong>.</p>\n\n<p><strong>Hyper IgE syndrome (Job syndrome):</strong></p>\n\n<ul>\n\t<li>Deficiency of Th17 cells due to <strong>STAT3 mutation</strong> \u2192 impaired <span class=\"customMeta\" data-dictid=\"9bb62ce0f71692777197fcc2b5f29c\">recruitment</span> of neutrophils to sites of infections.</li>\n\t<li>Features (mnemonic: \u201cLearn <strong>ABCDEF </strong>to get a <strong>Job stat!</strong>\u201d):\n\t<ul>\n\t\t<li>Cold <strong>A</strong>bscess (noninflamed)</li>\n\t\t<li>Retained <strong>B</strong>aby teeth</li>\n\t\t<li><strong>C</strong>oarse facies</li>\n\t\t<li><strong>D</strong>ermatological problems (eczema)</li>\n\t\t<li>Elevated <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> Ig<strong>E </strong>levels</li>\n\t\t<li>Characteristic <strong>F</strong>acies with a broad nose</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/ejz4rpzqPNNLxpJRG0lj1750240794.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Lh5qBxsmbIvT0Cdbj7XV1750240880.mp3"
  },
  {
    "text": "<p>A 4-year-old boy presents with recurrent bacterial infections, including pneumonia and otitis media. He also has a history of chronic diarrhoea. Laboratory tests reveal elevated IgM levels with markedly reduced IgG, IgA, and IgE levels. Flow cytometry shows normal numbers of CD19+ B cells and CD3+ T cells. Genetic testing reveals a mutation in the CD40L gene. Which of the following pathogens is the patient most at risk for developing severe infections with?</p>\n\n<p>\u00a0</p>\n\n<p><br />\n\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Streptococcus pneumoniae"
      },
      {
        "id": 2,
        "text": "Haemophilus influenzae"
      },
      {
        "id": 3,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 4,
        "text": "Pneumocystis jirovecii"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) <span class=\"customMeta\" data-dictid=\"af71e1cffa16927771950a5fb2c281\">Pneumocystis</span> jirovecii</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The clinical presentation of <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> infections along with the findings of <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">mutation</span> in CD40L gene suggests the diagnosis of<strong> <span class=\"customMeta\" data-dictid=\"8b388efd711692777189df2d1fc1e4\">Hyper</span> <span class=\"customMeta\" data-dictid=\"e4a6fd7fbb169277718986a699e800\">IgM</span> syndrome</strong>.</p>\n\n<p><strong>Hyper <span class=\"customMeta\" data-dictid=\"e4a6fd7fbb169277718986a699e800\">IgM</span> syndrome:</strong></p>\n\n<ul>\n\t<li>Normally, the <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> binds to the <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> on B cells and is then presented to the T cells.</li>\n\t<li>CD40L (also known as CD154) on antigen-activated CD4+ <span class=\"customMeta\" data-dictid=\"ac6bc889e41692777188b238dbb529\">helper T cells</span> binds to CD40 on B cells, macrophages, and <span class=\"customMeta\" data-dictid=\"77f797c5e8169277718535480fa7fd\">dendritic</span> cells (DCs).</li>\n\t<li>This interaction is crucial for triggering <strong>Ig class switching </strong>(from <span class=\"customMeta\" data-dictid=\"e4a6fd7fbb169277718986a699e800\">IgM</span> to IgG, IgA, and IgE) and <span class=\"customMeta\" data-dictid=\"227269f3ec1692777180d76a7898dd\">affinity</span> <span class=\"customMeta\" data-dictid=\"76948f718016927771924774ade7e9\">maturation</span> in B cells.</li>\n\t<li>In <span class=\"customMeta\" data-dictid=\"8b388efd711692777189df2d1fc1e4\">hyper</span> <span class=\"customMeta\" data-dictid=\"e4a6fd7fbb169277718986a699e800\">IgM</span> syndrome, there is a <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> in the<strong> CD40 <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> </strong>or <strong>CD40 <span class=\"customMeta\" data-dictid=\"6e1f8c026516927771919d54418520\">ligand</span> </strong>(most common).</li>\n</ul>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/ZSjBD5mTUsctq2Y9fDNR1737026940.png\" width=\"500\" /></p>\n\n<ul>\n\t<li>As a result, patients have high <span class=\"customMeta\" data-dictid=\"e4a6fd7fbb169277718986a699e800\">IgM</span> levels but low levels of IgG, IgA, and IgE, and are <span class=\"customMeta\" data-dictid=\"607476ab371692777196d0cb2f13bc\">prone</span> to <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> infections.</li>\n\t<li>In addition, these patients are also <span class=\"customMeta\" data-dictid=\"55691242bb1692777199360f64cb67\">susceptible</span> to <span class=\"customMeta\" data-dictid=\"1000989d33169277719652247cd559\">pneumonia</span> caused by <strong>Pneumocystis jirovecii</strong>.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/ZSjBD5mTUsctq2Y9fDNR1737026940.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/SnDOFV97sWTB6sRUU2lF1750233480.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/nJe51xlb8MIxdjbuS5U81750240702.mp3"
  },
  {
    "text": "<p>A patient presents with autoimmune hemolytic anemia, thrombocytopenia and neutropenia. Based on the flow cytometry findings, what is the most likely diagnosis?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/i5jYKr3xkhCwJYvsStJD1737026646.png\" width=\"500\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Paroxysmal Nocturnal Hemoglobinuria"
      },
      {
        "id": 2,
        "text": "Hyper IgE syndrome"
      },
      {
        "id": 3,
        "text": "Hyper IgM syndrome"
      },
      {
        "id": 4,
        "text": "Glanzmann Thrombasthenia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) <span class=\"customMeta\" data-dictid=\"8b388efd711692777189df2d1fc1e4\">Hyper</span> IgM syndrome</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>The clinical presentation of <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> <span class=\"customMeta\" data-dictid=\"d30ae941d516927771889351160b00\">hemolytic</span> anaemia, <span class=\"customMeta\" data-dictid=\"fc28c74bb716927772003aee4aa43c\">thrombocytopenia</span> and <span class=\"customMeta\" data-dictid=\"3925bbe5df1692777193bd03c159a8\">neutropenia</span> with the flow <span class=\"customMeta\" data-dictid=\"551a62b1ec169277718587f847e627\">cytometry</span> findings showing CD40 negative and CD19 negative, is most likely suggestive of <span class=\"customMeta\" data-dictid=\"8b388efd711692777189df2d1fc1e4\">Hyper</span> IgM syndrome.</p>\n\n<p><strong>Hyper IgM syndrome:</strong></p>\n\n<ul>\n\t<li>In <span class=\"customMeta\" data-dictid=\"8b388efd711692777189df2d1fc1e4\">hyper</span> IgM syndrome, <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> B cells are present, but they are incapable of Ig class switching and <span class=\"customMeta\" data-dictid=\"227269f3ec1692777180d76a7898dd\">affinity</span> <span class=\"customMeta\" data-dictid=\"76948f718016927771924774ade7e9\">maturation</span> because of a <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> in the<strong> CD40 <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> </strong>or <strong>CD40 ligand</strong>.</li>\n\t<li>The patient\u2019s <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> will have elevated levels of IgM but no <span class=\"customMeta\" data-dictid=\"68bae589ad169277718918627baff4\">IgA</span> or <span class=\"customMeta\" data-dictid=\"a54166a5961692777189c5557f61f3\">IgE</span> and extremely low levels of IgG.</li>\n\t<li>Occasionally, the IgM antibodies react with blood cells, giving rise to <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> <span class=\"customMeta\" data-dictid=\"d30ae941d516927771889351160b00\">hemolytic</span> anemia, thrombocytopenia, and neutropenia.</li>\n</ul>\n\n<p><strong>Flow cytometry:</strong></p>\n\n<ul>\n\t<li>Flow <span class=\"customMeta\" data-dictid=\"551a62b1ec169277718587f847e627\">cytometry</span> results are typically represented as histograms or dot plots:\n\t<ul>\n\t\t<li><strong>Histograms</strong>: Represent the <span class=\"customMeta\" data-dictid=\"f99660861e16927772029fd57e2a95\">frequency distribution</span> of a single parameter.</li>\n\t\t<li><strong>Dot plots</strong>: Display two parameters on the x- and y-axes.</li>\n\t</ul>\n\t</li>\n\t<li>The given image is a dot plot and it has 4 quadrants as follows:</li>\n</ul>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/1JkqVWNM5A3fR3lHcR671737026717.png\" width=\"500\" /></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Quadrant 1 (green)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Negative for <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> A, positive for <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> B</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Quadrant 2 (purple)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Negative for both antigens</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Quadrant 3 (yellow)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Positive for both antigens</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Quadrant 4 (red)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Positive for <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> A, negative for <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> B</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<ul>\n\t<li>The dot plot in the question has<strong> CD19 (pan B-cell marker) on the X-axis</strong> and <strong>CD40 on the Y-axis</strong>. The majority of the cells are in the double negative quadrant, indicating that both <strong>CD40 and CD19 are almost negative</strong> in this patient, suggesting the diagnosis of <span class=\"customMeta\" data-dictid=\"8b388efd711692777189df2d1fc1e4\">hyper</span> IgM syndrome.</li>\n</ul>\n\n<p><strong>Hyper IgM syndrome (Option C)</strong> is characterized by <strong>CD40L <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> </strong>(X-linked) or <strong>CD40 <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> </strong>(autosomal recessive), which affects both B and T cells.</p>\n\n<p><strong>Paroxysmal Nocturnal Hemoglobinuria (Option A): </strong>A flow cytogram of blood from a patient with PNH shows a population of red cells that is deficient in both CD55 and CD59.</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/wN4UknpKzDRJuKiXNdIF1737026779.png\" width=\"500\" /></p>\n\n<p><strong>Glanzmann Thrombasthenia (Option D): </strong>It<strong> </strong>is a <span class=\"customMeta\" data-dictid=\"e7032bae7f1692777195d693722e54\">platelet</span> disorder characterized by <span class=\"customMeta\" data-dictid=\"6c9fa3a73216927771888299c86e08\">glycoprotein</span> IIb/IIIa defect, also known as CD41 (GpIIb) and CD61 (GpIIIa). Hence CD41 and CD61 are both negative on flow cytometry.</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/bBLF11UT6zDMZ3bQrRfQ1737026833.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/i5jYKr3xkhCwJYvsStJD1737026646.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/1JkqVWNM5A3fR3lHcR671737026717.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 7-year-old boy is brought to the pediatric clinic due to recurrent infections, including pneumonia and abscesses. He has a history of photophobia and exhibits partial oculocutaneous albinism. On examination, he has notable nystagmus and ataxia. Genetic testing confirms a defect in the LYST gene. Which of the following laboratory findings would be most characteristic of this patient's condition?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Decreased immunoglobulin levels"
      },
      {
        "id": 2,
        "text": "Elevated eosinophil count"
      },
      {
        "id": 3,
        "text": "Presence of giant granules in leukocytes"
      },
      {
        "id": 4,
        "text": "Elevated platelet count"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct answer: C) Presence of giant granules in leukocytes</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The patient\u2019s history suggests Chediak Higashi syndrome, characterized by <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> <span class=\"customMeta\" data-dictid=\"a7dfeb385e1692777203302bcf142d\">fusion</span> of phagosomes and lysosomes, which results in <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> <span class=\"customMeta\" data-dictid=\"4b41134a551692777195cbfc63288f\">phagocyte</span> function and <span class=\"customMeta\" data-dictid=\"6ced8252211692777199ab0cc3f2bb\">susceptibility</span> to infections.</p>\n\n<p><strong>Chediak Higashi syndrome:</strong></p>\n\n<ul>\n\t<li>Inheritance pattern: <strong>Autosomal recessive.</strong></li>\n\t<li>Defect in lysosomal <span class=\"customMeta\" data-dictid=\"4c550b1d7a1692777200641b5f4e28\">trafficking</span> <span class=\"customMeta\" data-dictid=\"2b583d17f916927771974bde4e7780\">regulator gene</span> (<strong>LYST</strong>)</li>\n\t<li><strong>Defective <span class=\"customMeta\" data-dictid=\"a7dfeb385e1692777203302bcf142d\">fusion</span> of phagosomes and lysosomes</strong></li>\n\t<li>The main <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">leukocyte</span> abnormalities are neutropenia, <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> degranulation, and delayed <span class=\"customMeta\" data-dictid=\"04f4b6dbf71692777192ca0c4f70fa\">microbial</span> killing.</li>\n\t<li>Leukocytes exhibit <strong>giant granules</strong> that are easily observed in <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> blood smears and are believed to arise from <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> <span class=\"customMeta\" data-dictid=\"a7dfeb385e1692777203302bcf142d\">fusion</span> of phagolysosomes.</li>\n\t<li>Abnormalities in melanocytes (leading to <strong>albinism</strong>), cells of the nervous system (associated with <strong>nerve defects</strong>), and platelets (causing <strong>bleeding disorders</strong>)</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>The image below shows giant granules in a <span class=\"customMeta\" data-dictid=\"000d23188716927771936c5f2fe74e\">neutrophil</span> in Chediak-Higashi syndrome.</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"Wu, X.L. & Zhao, X.Q. & Zhang, B.X. & Xuan, F. & Guo, H.M. & Ma, F.T.\" data-hash=\"\" data-license=\"CC BY 4.0\" data-source=\"https://www.researchgate.net/figure/Abnormal-intracytoplasmic-giant-granule-in-granular-leukocytes-in-peripheral-blood-smear_fig1_315599160\" data-tags=\"\" height=\"363\" src=\"https://image.prepladder.com/content/Wc9F2UkBgRgYkAGlBn7R1737026538.png\" width=\"500\" /></p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/Wc9F2UkBgRgYkAGlBn7R1737026538.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/tlRUY7E5yaQIiEA2RXC41750233267.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/FJn9VCfGkoMnUM2aaGfI1750233344.mp3"
  },
  {
    "text": "<p>Match the following.</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>i) X-linked Agammaglobulinemia</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>a) WAS</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>ii) Job syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>b) LYST</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>iii) Wiskott-Aldrich syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>c) STAT3</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>iv) Ataxia Telangiectasia</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>d) BTK</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>v) Chediak-Higashi syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>e) ATM</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "i-d, ii-c, iii-b, iv-e, v-a"
      },
      {
        "id": 2,
        "text": "i-c, ii-d, iii-a, iv-e, v-b"
      },
      {
        "id": 3,
        "text": "i-d, ii-b, iii-a, iv-e, v-c"
      },
      {
        "id": 4,
        "text": "i-d, ii-c, iii-a, iv-e, v-b"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>X-linked (Bruton) Agammaglobulinemia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>BTK</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Job syndrome (Hyper IgE syndrome)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>STAT3</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Wiskott-Aldrich syndrome</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>WAS</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Ataxia Telangiectasia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>ATM</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Chediak-Higashi syndrome</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>LYST</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/0K5EXHXlq9vXnYTKIR8H1747309993.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/ZRnQ73KoWEFN3ZIX42en1747310077.mp3"
  },
  {
    "text": "<p>In a pediatric clinic, a six-year-old male presents with a history of frequent respiratory and skin infections, eczema flare-ups, and thrombocytopenia. Given these symptoms, which genetic evaluation method would be the most effective for confirming the suspected diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "WASP gene mutation analysis"
      },
      {
        "id": 2,
        "text": "ANA titer"
      },
      {
        "id": 3,
        "text": "FISH"
      },
      {
        "id": 4,
        "text": "B cell tyrosine kinase activity detection"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) WASP gene <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">mutation</span> </strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>WASP gene <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">mutation</span> analysis, specific to Wiskott-Aldrich syndrome. <strong>Wiskott-Aldrich syndrome</strong> is an X-linked <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> disease characterised by the<strong> <span class=\"customMeta\" data-dictid=\"1a0a43d74e16927772004473a05ae3\">triad</span> </strong>of:</p>\n\n<ul>\n\t<li><strong>Thrombocytopenia</strong></li>\n\t<li><strong>Eczema</strong></li>\n\t<li><strong>Recurrent infections</strong></li>\n</ul>\n\n<p>Wiskott-Aldrich syndrome is caused by mutations in the gene located at Xp11.23, which encodes the Wiskott-Aldrich syndrome protein (WASP).</p>\n\n<ul>\n\t<li>WASP belongs to a family of proteins that are believed to link <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> receptors, such as <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> receptors, to cytoskeletal elements.</li>\n\t<li>Patients do not make antibodies to <span class=\"customMeta\" data-dictid=\"aea912322316927771960b320d4f65\">polysaccharide</span> antigens, and the response to protein antigens is poor.</li>\n\t<li><strong>IgM levels in the <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> are low,</strong> but levels of IgG are usually normal.</li>\n\t<li>Paradoxically, <strong>the levels of <span class=\"customMeta\" data-dictid=\"68bae589ad169277718918627baff4\">IgA</span> and <span class=\"customMeta\" data-dictid=\"a54166a5961692777189c5557f61f3\">IgE</span> are often elevated.</strong> Patients are also <span class=\"customMeta\" data-dictid=\"607476ab371692777196d0cb2f13bc\">prone</span> to developing B-cell lymphomas.</li>\n\t<li>WASP may be involved in cytoskeleton-dependent responses, including cell migration and signal transduction, but the essential functions of this protein in lymphocytes and platelets are unclear.</li>\n\t<li>It may lead to early death. The only treatment is HSC transplantation.</li>\n</ul>\n\n<p><strong>ANA <span class=\"customMeta\" data-dictid=\"07e6f3a1921692777200051f692a60\">titer</span> (Option B):</strong> These are typically associated with SLE ( <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">lupus</span> erythematosus )</p>\n\n<p><strong>FISH (Option C):</strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>FISH (Fluorescence In Situ Hybridization)</strong> is a molecular <span class=\"customMeta\" data-dictid=\"2878159c181692777185d495ce6244\">cytogenetic</span> technique used to detect and localize specific DNA sequences within the chromosomes. It uses fluorescently labelled probes that bind to their <span class=\"customMeta\" data-dictid=\"60d189ec981692777184053168bba4\">complementary</span> sequences on chromosomes, allowing for <span class=\"customMeta\" data-dictid=\"33ba8d60fb16927772029d1067e602\">visualization</span> of specific genes or regions of interest under a <span class=\"customMeta\" data-dictid=\"da0e2a00fa1692777202d6e2054b26\">fluorescence</span> microscope</li>\n\t<li>Also used in microdeletion, <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> or translocation.</li>\n\t<li><strong>FISH\u00a0is an investigation of choice for Di-George syndrome.</strong></li>\n</ul>\n\n<p><strong>B cell tyrosine <span class=\"customMeta\" data-dictid=\"9863da498e1692777190e1c6515b48\">kinase</span> activity <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">detection</span> (Option D):</strong> <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">Detection</span> of B cell tyrosine <span class=\"customMeta\" data-dictid=\"9863da498e1692777190e1c6515b48\">kinase</span> activity is relevant for X-linked <span class=\"customMeta\" data-dictid=\"2154ae19fc1692777180ad72742d0b\">agammaglobulinemia</span> (XLA), characterized by the absence of <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> B cells and low levels of immunoglobulins.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/IKoqvEkbiLNoHWCsX65l1750230052.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/lzqDCH6Eyurm2oPtZL2J1750230203.mp3"
  },
  {
    "text": "<p>A 30-year-old patient presents with a history of recurrent respiratory infections, chronic diarrhoea, and autoimmune manifestations. Laboratory investigations reveal low levels of serum immunoglobulins (IgG, IgA, and IgM). Which of the following immunodeficiency disorders is most likely associated with these clinical findings?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "X-linked agammaglobulinemia (XLA)"
      },
      {
        "id": 2,
        "text": "Common variable immunodeficiency (CVID)"
      },
      {
        "id": 3,
        "text": "Hyper IgM syndrome"
      },
      {
        "id": 4,
        "text": "Severe Combined Immunodeficiency (SCID)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"4f067428c51692777185006c50ba0a\">Common variable immunodeficiency</span> (CVID)</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Common Variable <span class=\"customMeta\" data-dictid=\"141d29cc7f16927771890a8e0860e6\">Immunodeficiency</span> (CVID)</strong>:</p>\n\n<ul>\n\t<li><strong>Nature</strong>: A group of disorders characterised by hypogammaglobulinemia, affecting all <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> classes or just IgG.</li>\n\t<li><strong>Diagnosis</strong>: Exclusionary process, ruling out other causes of low <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> production.</li>\n\t<li><strong>B Cell Count</strong>: Normal or near-normal B cell counts in blood and <span class=\"customMeta\" data-dictid=\"32599f889a169277719169e3483e62\">lymphoid</span> tissues, but these B cells struggle to <span class=\"customMeta\" data-dictid=\"c9001edbf216927771860f3475b44c\">differentiate</span> into <span class=\"customMeta\" data-dictid=\"a0e40688fa169277719572bdb48c92\">plasma</span> cells.</li>\n\t<li><strong>Clinical Presentation</strong>:\n\t<ul>\n\t\t<li>Recurring <span class=\"customMeta\" data-dictid=\"f6332ef2d21692777196294f154e57\">pyogenic</span> <span class=\"customMeta\" data-dictid=\"6266bf3b0b1692777198fdc36807cb\">sinopulmonary</span> infections.</li>\n\t\t<li>About 20% have recurring <span class=\"customMeta\" data-dictid=\"c68a8d1fc016927771880d99a69e9f\">herpesvirus</span> infections and <span class=\"customMeta\" data-dictid=\"e86529e39b1692777188e4c97842e0\">Giardia</span> lamblia-induced diarrhoea.</li>\n\t\t<li>Higher <span class=\"customMeta\" data-dictid=\"f86aae0bd61692777196f91458c9dd\">prevalence</span> of <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> diseases like <span class=\"customMeta\" data-dictid=\"40dbde72e41692777197e59d893839\">rheumatoid</span> arthritis.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Causes</strong>:\n\t<ul>\n\t\t<li>Intrinsic B cell defects (BAFF gene defect)</li>\n\t\t<li>Issues with helper T cell <span class=\"customMeta\" data-dictid=\"ba6b77f29316927771807350f86ce2\">activation</span> ( ICOS gene defect)</li>\n\t\t<li>No consistent <span class=\"customMeta\" data-dictid=\"3b632faa131692777190ac40c2f1ea\">inheritance</span> pattern, but relatives often have selective <span class=\"customMeta\" data-dictid=\"68bae589ad169277718918627baff4\">IgA</span> deficiency.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Demographics</strong>: Affects both genders equally, with symptoms typically appearing in childhood or adolescence.</li>\n\t<li><strong>Histology</strong>: Hyperplastic <span class=\"customMeta\" data-dictid=\"a0e5fdc156169277718879843a6ede\">germinal</span> centres in <span class=\"customMeta\" data-dictid=\"32599f889a169277719169e3483e62\">lymphoid</span> tissues due to cells that can <span class=\"customMeta\" data-dictid=\"986d4f70531692777196806b9cb494\">proliferate</span> but not <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> fully.</li>\n\t<li><strong>Risks</strong>: Increased likelihood of <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> diseases (20% with <span class=\"customMeta\" data-dictid=\"40dbde72e41692777197e59d893839\">rheumatoid</span> arthritis), <span class=\"customMeta\" data-dictid=\"32599f889a169277719169e3483e62\">lymphoid</span> malignancy, and <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> cancer.</li>\n</ul>\n\n<p><strong>Hyper <span class=\"customMeta\" data-dictid=\"e4a6fd7fbb169277718986a699e800\">IgM</span> Syndrome(Option C) :</strong></p>\n\n<ul>\n\t<li><strong>Cause</strong>: Impaired class switching and <span class=\"customMeta\" data-dictid=\"227269f3ec1692777180d76a7898dd\">affinity</span> <span class=\"customMeta\" data-dictid=\"76948f718016927771924774ade7e9\">maturation</span> of antibodies.</li>\n\t<li><strong>Characteristics</strong>: Elevated <span class=\"customMeta\" data-dictid=\"e4a6fd7fbb169277718986a699e800\">IgM</span> levels and <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> <span class=\"customMeta\" data-dictid=\"2d9b37c62116927771891f3784d2c8\">IgG</span> and IgA.</li>\n\t<li><strong>Clinical Presentation</strong>: <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">Recurrent</span> bacterial infections.</li>\n\t<li>A hallmark of it is elevated <span class=\"customMeta\" data-dictid=\"e4a6fd7fbb169277718986a699e800\">IgM</span> levels, not low levels of all immunoglobulins.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 6-year-old child presents with recurrent bacterial infections, delayed wound healing, and poor pus formation. Genetic testing reveals a mutation in the SLC35C1 gene, leading to the deficient synthesis of Sialyl Lewis X (SLex). Which of the following is the most likely consequence of this deficiency?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Impaired leukocyte rolling and weak adhesion"
      },
      {
        "id": 2,
        "text": "Defective opsonisation"
      },
      {
        "id": 3,
        "text": "Reduced chemokine production"
      },
      {
        "id": 4,
        "text": "Increased neutrophil apoptosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Impaired <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">leukocyte</span> adhesion</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Leukocyte <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> deficiency:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Leukocyte <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> 1</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Defective <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">leukocyte</span> adhesion</strong> because of mutations in the \u03b2 chain of CD11/CD18 integrins</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Leukocyte <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> 2</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Defective <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">leukocyte</span> rolling and weak <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> because of mutations in fucosyl <span class=\"customMeta\" data-dictid=\"2288cbf3741692777200318d2f5b39\">transferase</span> required for the <span class=\"customMeta\" data-dictid=\"3fda45538a1692777199ec2a5478a5\">synthesis</span> of sialylated <span class=\"customMeta\" data-dictid=\"b7e6fc8e42169277719455371c3c8b\">oligosaccharide</span> (receptor for selectins)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Leukocyte <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> 3</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>LAD-III is caused by mutations in the FERMT3 gene, which encodes kindlin-3, a cytoskeletal protein. These mutations disrupt the signalling of integrins on platelets and leukocytes, which impairs <span class=\"customMeta\" data-dictid=\"12a6f23332169277718402ca6703e2\">cellular</span> adhesion</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<ul>\n\t<li>The <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> of Sialyl Lewis X (SLex), caused by mutations in the SLC35C1 gene in <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">Leukocyte</span> <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">Adhesion</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">Deficiency</span> Type 2 (LAD-2), leads to impaired <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">leukocyte</span> adhesion.</li>\n\t<li>SLex is a crucial <span class=\"customMeta\" data-dictid=\"48401d6ff01692777188aa8ac3f6ab\">glycoconjugate</span> involved in the <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> of leukocytes to endothelial cells, facilitating their migration from the <span class=\"customMeta\" data-dictid=\"a813884d6016927771838d2d1f9d1d\">bloodstream</span> into tissues during <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> or infection.</li>\n</ul>\n\n<p><strong>Defective opsonisation (Option B):</strong></p>\n\n<ul>\n\t<li>Opsonisation is the process by which immune cells, particularly phagocytes like neutrophils and macrophages, mark pathogens or foreign particles for phagocytosis.</li>\n\t<li>This marking is often facilitated by opsonins such as antibodies or <span class=\"customMeta\" data-dictid=\"f0ff39a3fa1692777184cf743ca1e7\">complement</span> proteins.</li>\n\t<li>A <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> in opsonisation would lead to impaired recognition and <span class=\"customMeta\" data-dictid=\"3a3fb1b8a816927771840e6a344cc0\">clearance</span> of pathogens by phagocytes, potentially increasing <span class=\"customMeta\" data-dictid=\"6ced8252211692777199ab0cc3f2bb\">susceptibility</span> to infections.</li>\n</ul>\n\n<p><strong>Reduced <span class=\"customMeta\" data-dictid=\"809599d0241692777184db8a8f9935\">chemokine</span> production (Option C):</strong></p>\n\n<ul>\n\t<li>Chemokines are signalling molecules that play a key role in immune cell migration, including <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">leukocyte</span> <span class=\"customMeta\" data-dictid=\"9bb62ce0f71692777197fcc2b5f29c\">recruitment</span> to sites of infection or inflammation.</li>\n\t<li>Reduced production of chemokines could result in inadequate <span class=\"customMeta\" data-dictid=\"9bb62ce0f71692777197fcc2b5f29c\">recruitment</span> of leukocytes to sites of infection, potentially leading to compromised immune responses.</li>\n</ul>\n\n<p><strong>Increased <span class=\"customMeta\" data-dictid=\"000d23188716927771936c5f2fe74e\">neutrophil</span> <span class=\"customMeta\" data-dictid=\"4bfa3e6f2c1692777181c53b124cf7\">apoptosis</span> (Option D):</strong></p>\n\n<ul>\n\t<li>Apoptosis, or programmed cell death, is a regulated process in various cell types, including neutrophils.</li>\n\t<li>Increased <span class=\"customMeta\" data-dictid=\"000d23188716927771936c5f2fe74e\">neutrophil</span> <span class=\"customMeta\" data-dictid=\"4bfa3e6f2c1692777181c53b124cf7\">apoptosis</span> could affect the lifespan and function of these immune cells, potentially impacting immune responses and <span class=\"customMeta\" data-dictid=\"ed4634701d16927771942c4408495f\">pathogen</span> clearance.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/17EYtdSDejGojb09ngg81750231505.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/VglRCXXsO977NAZeeXLF1750232931.mp3"
  },
  {
    "text": "<p>A 2-year-old child presents with recurrent bacterial infections, delayed wound healing, and poor pus formation despite having a normal leukocyte count. Upon further investigation, a defect is identified in the integrin-mediated adhesion of leukocytes. Which of the following conditions is most likely responsible for this clinical presentation?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Chronic granulomatous disease (CGD)"
      },
      {
        "id": 2,
        "text": "Leukocyte Adhesion Deficiency Type 1 (LAD-1)"
      },
      {
        "id": 3,
        "text": "Hyper IgM syndrome"
      },
      {
        "id": 4,
        "text": "Severe Combined Immunodeficiency (SCID)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer:\u00a0B) <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">Leukocyte</span> <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">Adhesion</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">Deficiency</span> Type 1 (LAD-1)</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>Leukocyte <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> 1</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p><strong>Defective <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">leukocyte</span> adhesion</strong> because of mutations in the \u03b2 chain of CD11/CD18 integrins</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>Leukocyte <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> 2</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>Defective <span class=\"customMeta\" data-dictid=\"00346a7f211692777191e91c2af9fc\">leukocyte</span> rolling and weak <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> because of mutations in fucosyl <span class=\"customMeta\" data-dictid=\"2288cbf3741692777200318d2f5b39\">transferase</span> required for the <span class=\"customMeta\" data-dictid=\"3fda45538a1692777199ec2a5478a5\">synthesis</span> of sialylated <span class=\"customMeta\" data-dictid=\"b7e6fc8e42169277719455371c3c8b\">oligosaccharide</span> (receptor for selectins)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<p><strong>Leukocyte <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> 3</strong></p>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t<p>LAD-III is caused by mutations in the FERMT3 gene, which encodes kindlin-3, a cytoskeletal protein. These mutations disrupt the signalling of integrins on platelets and leukocytes, which impairs <span class=\"customMeta\" data-dictid=\"12a6f23332169277718402ca6703e2\">cellular</span> adhesion</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<h3>\u00a0</h3>\n\n<p><strong>Chronic Granulomatous Disease (CGD): (Option A)</strong></p>\n\n<ul>\n\t<li><strong>Cause</strong>: <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">Defect</span> in NADPH oxidase, an <span class=\"customMeta\" data-dictid=\"0f160e4e42169277718771b715516a\">enzyme</span> complex in phagocytes.</li>\n\t<li><strong>Mechanism</strong>: This leads to the inability to produce <span class=\"customMeta\" data-dictid=\"092583d1b41692777197a506409267\">reactive</span> oxygen species (ROS) needed to kill certain bacteria and fungi.</li>\n\t<li>The <strong>nitroblue tetrazolium (NBT) </strong>test is the primary screening test for CGD.</li>\n\t<li><strong>Clinical Presentation</strong>: Recurrent infections, particularly with <strong>catalase-positive organisms</strong> (e.g., Staphylococcus aureus, Aspergillus), <span class=\"customMeta\" data-dictid=\"2334b7498b1692777188fa8b2eee36\">granuloma</span> formation.\u00a0</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Hyper IgM Syndrome: (Option C)</strong></p>\n\n<ul>\n\t<li><strong>Cause</strong>: Loss of function of CD40 or CD40 <span class=\"customMeta\" data-dictid=\"6e1f8c026516927771919d54418520\">ligand</span> results in impaired class switching and <span class=\"customMeta\" data-dictid=\"227269f3ec1692777180d76a7898dd\">affinity</span> <span class=\"customMeta\" data-dictid=\"76948f718016927771924774ade7e9\">maturation</span> of antibodies.</li>\n\t<li><strong>Characteristics</strong>: Elevated IgM levels and <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> IgG and IgA.</li>\n\t<li><strong>Clinical Presentation</strong>: Recurrent bacterial infections.</li>\n\t<li>A hallmark of it is elevated IgM levels, not low levels of all immunoglobulins.</li>\n</ul>\n\n<p><strong>SCID ( Option D ) :\u00a0</strong>SCID is caused by <strong>multiple genetic defects with both X-linked and AR inheritance</strong>.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/kllOI49LjbrYYS7pOUiK1750231166.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/WSRKY33Clk4lWyIlUqT41750231354.mp3"
  },
  {
    "text": "<p>Which of the following disorders is characterised by absent tonsils and lymph nodes, markedly decreased levels of serum immunoglobulins (particularly IgG, IgA, and IgM), and a lack of mature B cells in peripheral blood?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Common Variable Immunodeficiency (CVID)"
      },
      {
        "id": 2,
        "text": "Severe Combined Immunodeficiency (SCID)"
      },
      {
        "id": 3,
        "text": "X-linked Agammaglobulinemia (XLA)"
      },
      {
        "id": 4,
        "text": "Hyper-IgM Syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) X-Linked Agammaglobulinemia</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li><strong>X-linked <span class=\"customMeta\" data-dictid=\"2154ae19fc1692777180ad72742d0b\">agammaglobulinemia</span> (Bruton Agammaglobulinemia) </strong>is a primary <span class=\"customMeta\" data-dictid=\"141d29cc7f16927771890a8e0860e6\">immunodeficiency</span> disorder mainly affecting males, caused by mutations in the BTK gene on the X <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> characterised by the failure of B-cell precursors (pro\u2013B cells and pre\u2013B cells) to develop into <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> B cells.</li>\n\t<li><strong>BTK Function</strong>: BTK encodes Bruton tyrosine kinase, essential for B-cell development by facilitating the rearrangement of <span class=\"customMeta\" data-dictid=\"f8fab286571692777189bdfd087071\">immunoglobulin</span> <span class=\"customMeta\" data-dictid=\"578fe8d7dd16927771913c847ed254\">light chain</span> genes.</li>\n\t<li><strong>B-cell Deficiency</strong>: In XLA, B-cell precursors fail to <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> due to <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> BTK, leading to a severe shortage or absence of <span class=\"customMeta\" data-dictid=\"0472620c171692777192c655af9c57\">mature</span> B cells in the bloodstream.</li>\n\t<li><strong>Immunoglobulin Levels</strong>: Markedly <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> levels of IgG, IgA, and IgM are observed in XLA, resulting in <span class=\"customMeta\" data-dictid=\"6ced8252211692777199ab0cc3f2bb\">susceptibility</span> to <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> bacterial infections.</li>\n\t<li><strong>Lymphoid Tissue Impact</strong>: Germinal centres in <span class=\"customMeta\" data-dictid=\"4df97a6cbf169277719172fd1af767\">lymph</span> nodes and tonsils fail to develop properly, leading to absent or underdeveloped tonsils and <span class=\"customMeta\" data-dictid=\"4df97a6cbf169277719172fd1af767\">lymph</span> nodes.</li>\n\t<li><strong>Clinical Presentation</strong>: Patients typically present with frequent <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections caused by bacteria such as Haemophilus influenzae, Streptococcus pneumoniae, and Staphylococcus aureus.</li>\n\t<li><strong>Management</strong>: Treatment involves <span class=\"customMeta\" data-dictid=\"f8fab286571692777189bdfd087071\">immunoglobulin</span> replacement therapy (IVIG) to restore <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> levels and reduce infections.</li>\n</ul>\n\n<p>The classic <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> of this disease has the following characteristics:</p>\n\n<ul>\n\t<li>B cells are absent or markedly decreased in the circulation, and <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> levels of all classes of immunoglobulins are depressed. Pre\u2013B cells, which express the B-lineage marker CD19 but not <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> Ig, are found in normal numbers in the bone marrow.</li>\n\t<li>Germinal centres of <span class=\"customMeta\" data-dictid=\"4df97a6cbf169277719172fd1af767\">lymph</span> nodes, Peyer patches, the appendix, and tonsils are underdeveloped.</li>\n\t<li>Plasma cells are absent throughout the body.</li>\n\t<li>T cell-mediated reactions are normal.</li>\n</ul>\n\n<p><strong>Common Variable <span class=\"customMeta\" data-dictid=\"141d29cc7f16927771890a8e0860e6\">Immunodeficiency</span> (CVID) (Option A):</strong></p>\n\n<ul>\n\t<li>CVID involves <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> production and <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> bacterial infections, mainly in the <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> and <span class=\"customMeta\" data-dictid=\"b3a647ce2516927771881427f56c1d\">gastrointestinal</span> tracts.</li>\n\t<li>Typically presents later in life, during <span class=\"customMeta\" data-dictid=\"98d9739e5f1692777180d7de404750\">adolescence</span> or adulthood, unlike XLA.</li>\n</ul>\n\n<p><strong>Options B, D: </strong>Absent tonsils and <span class=\"customMeta\" data-dictid=\"4df97a6cbf169277719172fd1af767\">lymph</span> nodes are not specific to SCID and Hyper-IgM Syndrome.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/USwZh84FsGMxRwMXVM5D1750230819.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/T87E0hO5MGyg3OHLlbUR1750230938.mp3"
  },
  {
    "text": "<p>A 5-year-old male presents with progressive difficulty in coordinating movements, slurred speech, and frequent infections. Physical examination reveals the findings shown in the image below and dysarthria. Laboratory investigations show decreased levels of serum IgA, IgG, and IgE. Which of the following is the most likely diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"Thomas O. Crawford\" data-hash=\"\" data-license=\"CC BY-SA 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Photo_Ocular_telangiectasia_in_a_person_with_A-T.jpg\" data-tags=\"\" height=\"908\" src=\"https://image.prepladder.com/content/P7CKymiyYnfbUB9MDkAt1737363249.png\" width=\"1147\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Hereditary spastic paraplegia"
      },
      {
        "id": 2,
        "text": "Friedreich ataxia"
      },
      {
        "id": 3,
        "text": "Ataxia Telangiectasia"
      },
      {
        "id": 4,
        "text": "Spinocerebellar ataxia type 1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) <span class=\"customMeta\" data-dictid=\"0842a8a59f1692777182f44d334dda\">Ataxia</span> Telangiectasia</strong></p>\n\n<p><strong>Explanation</strong>:</p>\n\n<p>The clinical scenario (dysarthria, slurred speech, <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> infections, <span class=\"customMeta\" data-dictid=\"623d2000ca16927772004e68005b8a\">telangiectasia</span> shown in the image above, decreased <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> IgA, IgG, and IgE) suggests <strong>ataxia telangiectasia.</strong></p>\n\n<ul>\n\t<li>Ataxia <span class=\"customMeta\" data-dictid=\"623d2000ca16927772004e68005b8a\">Telangiectasia</span> (AT) is an autosomal-recessive disorder.</li>\n\t<li>Key features: <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> <span class=\"customMeta\" data-dictid=\"053afdc7031692777187c2079a86a3\">gait</span> (ataxia), <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> malformations (telangiectases), neurological deficits, increased tumors, and immunodeficiency.</li>\n\t<li>Immunodeficiency impacts both B and T cells, mainly causing <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> production of <span class=\"customMeta\" data-dictid=\"68bae589ad169277718918627baff4\">IgA</span> and IgG2 antibodies.</li>\n\t<li>Thymic <span class=\"customMeta\" data-dictid=\"35c595890e1692777189a68438427a\">hypoplasia</span> often results in milder T-cell defects.</li>\n\t<li>Patients frequently experience <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections, <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> issues, and higher cancer risks.</li>\n\t<li>Caused by a <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">mutation</span> in the gene on <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 11 <span class=\"customMeta\" data-dictid=\"b989cb3b0d1692777187dd7965b4d3\">encoding</span> the <span class=\"customMeta\" data-dictid=\"17b09d09f81692777182bb007591a1\">ATM</span> protein kinase.</li>\n\t<li>ATM activates <span class=\"customMeta\" data-dictid=\"14caf753cb169277719405bdd25002\">p53</span> in response to DNA damage, prompting <span class=\"customMeta\" data-dictid=\"5173f9c96716927771843cbe0c7611\">cell cycle</span> checkpoints and apoptosis. <span class=\"customMeta\" data-dictid=\"17b09d09f81692777182bb007591a1\">ATM</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> impairs DNA repair, affecting <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> generation and Ig <span class=\"customMeta\" data-dictid=\"4159c0df18169277719069a18b4ff5\">isotype</span> switching.</li>\n\t<li>Significantly increased risk of <span class=\"customMeta\" data-dictid=\"5a31d184f21692777191a2e457d646\">lymphoma</span> in AT patients.</li>\n</ul>\n\n<p><strong>Hereditary <span class=\"customMeta\" data-dictid=\"1ce806f0111692777198eedf1b5824\">spastic</span> <span class=\"customMeta\" data-dictid=\"30a0481dd9169277719423368f6884\">paraplegia</span> (Option A) </strong>presents with <span class=\"customMeta\" data-dictid=\"86b057bddf1692777198e020fc1aad\">spasticity</span> in the lower limbs but does not typically involve cerebellar <span class=\"customMeta\" data-dictid=\"3662597407169277718640a12868f5\">dysfunction</span> or telangiectasias.</p>\n\n<p><strong>Friedreich <span class=\"customMeta\" data-dictid=\"0842a8a59f1692777182f44d334dda\">ataxia</span> (Option B)</strong>\u00a0is a <span class=\"customMeta\" data-dictid=\"74dd17aa171692777200dcc186c177\">trinucleotide</span> repeat disorder that presents with progressive <span class=\"customMeta\" data-dictid=\"053afdc7031692777187c2079a86a3\">gait</span> and limb <span class=\"customMeta\" data-dictid=\"0842a8a59f1692777182f44d334dda\">ataxia</span> but does not typically present with telangiectasias or immunodeficiency.</p>\n\n<p><strong>Spinocerebellar <span class=\"customMeta\" data-dictid=\"0842a8a59f1692777182f44d334dda\">ataxia</span> (Option D)</strong> <span class=\"customMeta\" data-dictid=\"ebcb7136251692777201ef4b5c5718\">type 1</span> is characterised by progressive cerebellar <span class=\"customMeta\" data-dictid=\"0842a8a59f1692777182f44d334dda\">ataxia</span> but does not typically present with telangiectasias or immunodeficiency.</p>",
    "question_images": [
      "https://image.prepladder.com/content/P7CKymiyYnfbUB9MDkAt1737363249.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/FiG6irHm66qR7u9df01O1746450695.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/fVeaLv7fUJsSy4YqnmEp1746451059.mp3"
  },
  {
    "text": "<p>An 8-month-old infant is brought to the clinic with a history of persistent, severe respiratory infections since birth. Physical examination reveals failure to thrive and absent tonsils and lymph nodes. The Child is diagnosed with adenosine deaminase deficiency; what is the most appropriate diagnosis?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "DiGeorge Syndrome"
      },
      {
        "id": 2,
        "text": "X-linked Agammaglobulinemia (XLA)"
      },
      {
        "id": 3,
        "text": "Hyper-IgM Syndrome"
      },
      {
        "id": 4,
        "text": "Severe Combined Immunodeficiency (SCID)"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Severe <span class=\"customMeta\" data-dictid=\"4dc8c69a7016927771850f8a074583\">Combined Immunodeficiency</span> (SCID)</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>Adenosine <span class=\"customMeta\" data-dictid=\"8da63c3e5316927771852b78bac0ba\">deaminase</span> <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> aligns with the clinical picture of <strong>SCID</strong>, where affected individuals are highly <span class=\"customMeta\" data-dictid=\"55691242bb1692777199360f64cb67\">susceptible</span> to severe infections.</p>\n\n<p><strong>Severe <span class=\"customMeta\" data-dictid=\"4dc8c69a7016927771850f8a074583\">Combined Immunodeficiency</span> (SCID)</strong>: Various genetically distinct syndromes with defects in both <span class=\"customMeta\" data-dictid=\"1a6d065f851692777189ba5533d1ef\">humoral</span> and cell-mediated immunity.</p>\n\n<ul>\n\t<li><strong>Presentation</strong>: Infants show oral <span class=\"customMeta\" data-dictid=\"39ca145a0f1692777183a33d06e96d\">candidiasis</span> (thrush), extensive diaper rash, and failure to thrive.\u00a0</li>\n\t<li><strong>GVHD</strong>: Some may develop a <span class=\"customMeta\" data-dictid=\"dc75edd604169277719735ac5b4d5b\">rash</span> from <span class=\"customMeta\" data-dictid=\"a191a950d7169277719148e72a75e2\">maternal</span> T cells attacking the fetus.</li>\n\t<li><strong>T-Cell Defect</strong>: Typically primary, with secondary <span class=\"customMeta\" data-dictid=\"4885d5d0021692777189aac6dc80f7\">impairment</span> of <span class=\"customMeta\" data-dictid=\"1a6d065f851692777189ba5533d1ef\">humoral</span> immunity.</li>\n\t<li><strong>Treatment</strong>: Requires <span class=\"customMeta\" data-dictid=\"d2e0ab499c169277718886ab5a46bf\">hematopoietic</span> <span class=\"customMeta\" data-dictid=\"467c0b4fc016927771997e1043aeda\">stem cell transplantation</span> or gene therapy.</li>\n</ul>\n\n<p><strong>Types of SCID</strong>:</p>\n\n<ul>\n\t<li><strong>X-Linked SCID</strong>:\n\n\t<ul>\n\t\t<li>The most frequent <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> primarily affects boys.</li>\n\t\t<li>Mutation in the common \u03b3-chain (\u03b3c) subunit of <span class=\"customMeta\" data-dictid=\"0ac01cc0c31692777185cae5f28175\">cytokine</span> receptors.</li>\n\t\t<li>Severe reduction in T-cell numbers, impaired <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> synthesis, and often <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> in NK cells due to IL-15 <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> involvement.</li>\n\t\t<li>Contains lobules resembling <span class=\"customMeta\" data-dictid=\"f375a3584316927772020efa386e3e\">fetal</span> thymus.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Autosomal <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">Recessive</span> SCID</strong>:\n\t<ul>\n\t\t<li>Often due to <span class=\"customMeta\" data-dictid=\"d3f6a49b7416927771802124ccddf0\">adenosine</span> <span class=\"customMeta\" data-dictid=\"8da63c3e5316927771852b78bac0ba\">deaminase</span> (ADA) deficiency.</li>\n\t\t<li>ADA <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> leads to toxic accumulation of <span class=\"customMeta\" data-dictid=\"4836db413416927771853a3b9d2409\">deoxyadenosine</span> derivatives, particularly affecting rapidly dividing T lymphocytes.</li>\n\t\t<li>Hypoplastic <span class=\"customMeta\" data-dictid=\"32599f889a169277719169e3483e62\">lymphoid</span> tissues with marked <span class=\"customMeta\" data-dictid=\"7061e0e0051692777186ba9c5f27df\">depletion</span> of T-cell areas and sometimes B-cell zones.</li>\n\t\t<li><strong>Other Causes</strong> include mutations in recombinase-activating genes (RAG), JAK3, and various <span class=\"customMeta\" data-dictid=\"f9016f36fd1692777198b0fd5e9c6d\">signaling</span> molecules associated with T-cell receptors and <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> channels.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Options A, B, and C do not typically lead to a virtual absence of <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> <span class=\"customMeta\" data-dictid=\"32599f889a169277719169e3483e62\">lymphoid</span> organs,</strong> as seen in <span class=\"customMeta\" data-dictid=\"d3f6a49b7416927771802124ccddf0\">adenosine</span> <span class=\"customMeta\" data-dictid=\"8da63c3e5316927771852b78bac0ba\">deaminase</span> deficiency.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/ScgWSbNCWtrAJNwiRZ4M1750230599.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/CfjngxVzPl62Xftq6t7X1750230698.mp3"
  },
  {
    "text": "<p>A 4-year-old child presents with recurrent infections, congenital heart defects, and facial dysmorphisms, including a long face with a prominent nasal bridge. Genetic testing reveals a microdeletion on chromosome 22q11. What is the most likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Down syndrome"
      },
      {
        "id": 2,
        "text": "Turner syndrome"
      },
      {
        "id": 3,
        "text": "DiGeorge syndrome"
      },
      {
        "id": 4,
        "text": "Cri-du-chat syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) DiGeorge syndrome</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li><strong>DiGeorge syndrome</strong>, or <strong>22q11.2 <span class=\"customMeta\" data-dictid=\"cf1e8ec6121692777185eba2630061\">deletion</span> syndrome</strong>, is characterised by a <span class=\"customMeta\" data-dictid=\"d61ba45e111692777192fbba1d5776\">microdeletion</span> on <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 22q11.</li>\n\t<li><strong>Clinical features represented by CATCH22</strong></li>\n\t<li><strong>C</strong>: <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">Cardiac</span> defects, especially <span class=\"customMeta\" data-dictid=\"380578d6a21692777185fcd0f94fa4\">conotruncal</span> anomalies</li>\n\t<li><strong>A</strong>: <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">Abnormal</span> <span class=\"customMeta\" data-dictid=\"9fdd7489051692777202cffe3f24cc\">facial</span> features, such as low set ears, hypertelorism, and short philtrum</li>\n\t<li><strong>T</strong>: <span class=\"customMeta\" data-dictid=\"2221edbfce16927772007d62c44d48\">Thymic</span> hypoplasia</li>\n\t<li><strong>C</strong>: <span class=\"customMeta\" data-dictid=\"7aa38569251692777184021705e8de\">Cleft</span> <span class=\"customMeta\" data-dictid=\"a0f278b4b416927771943c92485603\">palate</span> or <span class=\"customMeta\" data-dictid=\"12a6f23332169277718402ca6703e2\">cellular</span> immune deficiency</li>\n\t<li><strong>H</strong>: <span class=\"customMeta\" data-dictid=\"0b27888c2e16927771896397bdd88d\">Hypoparathyroidism</span> with hypocalcemia</li>\n</ul>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>It presents with low <span class=\"customMeta\" data-dictid=\"4f9ee631c21692777189b1e0cdc91c\">immunity</span> and <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> infections due to variable loss of T <span class=\"customMeta\" data-dictid=\"5eb50cf561169277718491671207db\">cell-mediated immunity</span> (resulting from <span class=\"customMeta\" data-dictid=\"35c595890e1692777189a68438427a\">hypoplasia</span> or lack of the thymus), <span class=\"customMeta\" data-dictid=\"3d62cb9e271692777200980467ea01\">tetany</span> (resulting from lack of the parathyroids), <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> defects of the heart (Tetralogy of Fallot) and great vessels. <span class=\"customMeta\" data-dictid=\"9fdd7489051692777202cffe3f24cc\">Facial</span> dysmorphisms, including a long face with a prominent <span class=\"customMeta\" data-dictid=\"31c5d0e75f16927771938d8e2daa4c\">nasal</span> bridge, are consistent with the findings in this case.</li>\n\t<li>The T-cell zones of <span class=\"customMeta\" data-dictid=\"32599f889a169277719169e3483e62\">lymphoid</span> organs\u2014the paracortical areas of the <span class=\"customMeta\" data-dictid=\"4df97a6cbf169277719172fd1af767\">lymph</span> nodes and the periarteriolar sheaths of the spleen\u2014are depleted.</li>\n\t<li>Ig levels may be normal or reduced, depending on the severity of the T-cell deficiency.</li>\n</ul>\n\n<p>One gene in the deleted region is TBX1, which is required to develop the <span class=\"customMeta\" data-dictid=\"cb3fde922016927771830912ac2fcf\">branchial</span> <span class=\"customMeta\" data-dictid=\"9a89dd67841692777182ee412af263\">arch</span> and the great vessels.</p>\n\n<p><strong>Down syndrome (Option A): </strong>Down syndrome is characterized by <span class=\"customMeta\" data-dictid=\"5e54fdc4d3169277720003f231621d\">trisomy</span> 21.</p>\n\n<p><strong>Turner syndrome (Option B): </strong>Turner syndrome results from complete or partial <span class=\"customMeta\" data-dictid=\"93e077ee021692777192666a61cfbc\">monosomy</span> of the X chromosome.</p>\n\n<p><strong>Cri-du-chat syndrome (Option D):</strong> Cri-du-chat syndrome is caused by a <span class=\"customMeta\" data-dictid=\"cf1e8ec6121692777185eba2630061\">deletion</span> on the short arm of <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 5. It presents with a high-pitched cat-like cry, intellectual disability, microcephaly, and <span class=\"customMeta\" data-dictid=\"9fdd7489051692777202cffe3f24cc\">facial</span> dysmorphisms but lacks the <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> anomalies and <span class=\"customMeta\" data-dictid=\"2221edbfce16927772007d62c44d48\">thymic</span> <span class=\"customMeta\" data-dictid=\"5dff4943631692777181b8974b302b\">aplasia</span> seen in DiGeorge syndrome.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/xotiIIqmKJYJMfWOgvjI1750230368.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/me02dCcmqVK11P6h1iCz1750230455.mp3"
  }
];
        let quizName = '22 Immunodeficiency Disorders';
        const quizFilename = '22-immunodeficiency-disorders-f56df44b.html';
        let hierarchy = ["PrepLadder", "qBank", "Pathology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>