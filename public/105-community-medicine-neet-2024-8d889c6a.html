<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>105 Community Medicine Neet 2024 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Community Medicine
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">33</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Identify the image representing the National Leprosy eradication program:",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given <strong>image 2</strong>\u00a0represents the <strong>National Leprosy Eradication Programme (NLEP).</strong></p>\n<p><strong>Characteristics of the NLEP emblem:</strong></p>\n<ul>\n<li>The <strong>lotus</strong> in the\u00a0NLEP emblem<strong>\u00a0</strong>symbolizes beauty and purity.</li>\n<li>A\u00a0<strong>partially affected thumb,</strong>\u00a0a\u00a0<strong>normal forefinger,</strong>\u00a0and the\u00a0<strong>shape of a house </strong>symbolize that leprosy can be cured and that a patient with leprosy can be a useful member of society.</li>\n<li>The\u00a0<strong>rising</strong>\u00a0<strong>sun</strong> symbolizes hope and optimism.</li>\n<li>The emblem captures the spirit of hope and positivity in the eradication of leprosy.</li>\n</ul>\n<p>NLEP is a centrally sponsored health scheme of the Ministry of Health and Family Welfare, Government of India.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Poshan Abhiyaan:</strong> It aims to enhance key nutritional indicators for both children and women.</p>\n<p>Option C: <strong>National Health Mission:</strong> It is a public health initiative focused on ensuring universal access to affordable, equitable, and high-quality healthcare services.</p>\n<p>Option D: <strong>Ayushman Bharat:</strong> It provides nationwide medical coverage and cashless hospitalization benefits for enrolled families in both public and private hospitals.</p>\n<p>The given image shows the correct logos for these programs</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/39ea2257604b48e49f2492f612d38344.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/685e5f87de9548f49f2c6d0f4891cf42x1280x1394.JPEG"
    ]
  },
  {
    "text": "What is calculated with the following information?",
    "choices": [
      {
        "id": 1,
        "text": "Maternal Mortality Rate"
      },
      {
        "id": 2,
        "text": "Maternal Mortality Ratio"
      },
      {
        "id": 3,
        "text": "Death rate in reproductive women"
      },
      {
        "id": 4,
        "text": "Total fertility rate"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given expression is used for calculating <strong>the maternal mortality rate. </strong>The maternal mortality<strong> rate\u00a0</strong>is expressed as the \"number of maternal deaths in a given period per<strong> 100,000 women in reproductive age\u00a0</strong>during the same time period\".</p>\n<p>Other options:</p>\n<p>Option B:<strong>\u00a0</strong>The <strong>maternal mortality ratio</strong> is\u00a0<span style=\"box-sizing: border-box; margin: 0px; padding: 0px;\">the \"number of maternal deaths during a given period per<strong>\u00a0100,000 live births\u00a0</strong>during the same time</span>\".</p>\n<p>Option C: The <strong>death rate in reproductive women</strong> is expressed as the \"number of deaths among women aged 15-49 years during a given period per <strong>1,000 women</strong> of the same age group during the same time period.</p>\n<p>Option D: The <strong>Total Fertility Rate (TFR)</strong> is expressed as the \"average number of children a woman would have over her lifetime if she were to experience the current age-specific fertility rates throughout her reproductive years (typically ages 15-49).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/560ff6ef83c84f4fb6668dd45fd0295c.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Every pregnant woman receives a free antenatal check-up on the 9th of each month, along with free medicines and delivery services, including cesarean sections, under the JSSK program. What does JSSK stand for?",
    "choices": [
      {
        "id": 1,
        "text": "Janani Shishu Swasthya Karyakram"
      },
      {
        "id": 2,
        "text": "Janani Shishu Suraksha Kendra"
      },
      {
        "id": 3,
        "text": "Janani Shishu Suraksha Karyakram"
      },
      {
        "id": 4,
        "text": "Janani Shishu Swasthya kendra"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>JSSK stands for Janani Shishu Suraksha Karyakram. It is an initiative by the Indian government aimed at reducing maternal and infant mortality.</p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">The </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">provisions</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> of JSSK include:</span></p>\n<ul>\n<li>Free transport</li>\n<li>Free treatment</li>\n<li>Free drugs and consumables</li>\n<li>Free diagnostics and diet</li>\n<li>Free and cashless delivery</li>\n<li><strong>Free C-Section</strong></li>\n<li>Free provision of blood</li>\n</ul>\n<p>Note: Previously under JSSK, the free entitlements were provided only for sick newborns till 30 days after birth. Now it is expanded to cover <strong>infants</strong> also.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/589124d1e96f4cbaa0bdfe095476a61f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is the communication barrier if interpretation of a words are understood in a different manner?",
    "choices": [
      {
        "id": 1,
        "text": "Linguistic barrier"
      },
      {
        "id": 2,
        "text": "Semantic barrier"
      },
      {
        "id": 3,
        "text": "Psychological barrier"
      },
      {
        "id": 4,
        "text": "Cultural barrier"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The communication barrier that occurs when the interpretation of words is understood differently is called a <strong>s</strong><strong>emantic Barrier.</strong></p>\n<p>Semantic barriers arise from misunderstandings due to <strong>differences</strong> in the meaning of <strong>words, phrases, or symbols. </strong>These barriers can cause confusion and misinterpretation, leading to ineffective communication.</p>\n<p>example: In a public health campaign, \"herd immunity\" may be misunderstood by some as meaning they don\u2019t need vaccination or as related to animals. This confusion can reduce vaccination rates and is a perfect example of a semantic barrier.\u00a0</p>\n<p>other options:</p>\n<p>Option A: Linguistic Barrier: This barrier occurs when the<strong> language or dialect used </strong>in communication is <strong>not understood </strong>by one or more parties. It can include differences in language, vocabulary, or grammar, making it difficult to convey the intended message.</p>\n<p>Option C: Psychological Barrier: Psychological barriers involve <strong>emotions, attitudes, or mental states</strong> that affect communication. These could include stress, fear, anger, or low self-esteem, which can hinder the ability to send, receive, or interpret messages accurately.</p>\n<p>Option D: Cultural Barrier: Cultural barriers arise when differences in<strong> cultural backgrounds, beliefs, values, or practices </strong>lead to misunderstandings. These barriers can affect how messages are interpreted and can lead to miscommunication if cultural contexts are not considered.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "30 young volunteers with previous lifestyle modifications were contributing to drug trial for cholesterol levels based on statin therapy for 9 months. Which of the following tests is performed?",
    "choices": [
      {
        "id": 1,
        "text": "Chi-square test"
      },
      {
        "id": 2,
        "text": "Paired t-test"
      },
      {
        "id": 3,
        "text": "McNemar's test"
      },
      {
        "id": 4,
        "text": "Unpaired T-test"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>McNemar's test</strong> is a <strong>non-parametric</strong> test for analysing <strong>paired nominal data</strong>. This test examines the <strong>marginal homogeneity</strong> of <strong>two dichotomous</strong> variables using a 2 x 2 contingency table. One independent variable with two dependent groups and one nominal variable with two categories (dichotomous) are needed for the test.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8f60076743994ff5927840ceaa7482a1x1280x1351.JPEG"
    ]
  },
  {
    "text": "A case-control study is conducted on the association between intake of Vitamin C and the occurrence of respiratory illness. What is the order in which the following steps are conducted?",
    "choices": [
      {
        "id": 1,
        "text": "3-2-1-4"
      },
      {
        "id": 2,
        "text": "1-2-3-4"
      },
      {
        "id": 3,
        "text": "4-3-2-1"
      },
      {
        "id": 4,
        "text": "3-1-2-4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correct order of steps in this case-control study is: <strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Selecting case and control groups (3) -&gt; </span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Matching (2) -&gt; </span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Measurement of exposure (1) -&gt; Analysis (4)</span></strong></p>\n<p><strong class=\"ng-binding\">Case-Control Studies </strong>are also called <strong>retrospective</strong>\u00a0<strong>studies.</strong> This study proceeds from\u00a0<strong>effect to cause</strong>\u00a0and is done after the exposure and outcome have occurred. They focus on diseases or health problems that have already developed. They are less time-consuming and have no risk of attrition because they <strong>do not require follow-up</strong>.</p>\n<p class=\"p1\">There are four basic steps in conducting a case-control study:</p>\n<ul>\n<li><strong>Selection of cases and controls</strong></li>\n<li><strong>Matching</strong>- This is done to ensure comparability between cases and controls. Controls are selected such that they are similar to cases with respect to certain pertinent selected variables that influence the disease outcome.</li>\n<li><strong>Measurement of exposure - </strong>This is<strong>\u00a0</strong>obtained by interviews, questionnaires, or study of the past records of cases.</li>\n<li><strong>Analysis</strong> in the form of exposure rates, risk ratio, and odds ratio.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which among the following diseases will be the best representation of the submerged portion?",
    "choices": [
      {
        "id": 1,
        "text": "Tetanus"
      },
      {
        "id": 2,
        "text": "Influenza"
      },
      {
        "id": 3,
        "text": "Chicken Pox"
      },
      {
        "id": 4,
        "text": "Rabies"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The best representation of the<strong> submerged portion</strong> of the iceberg phenomenon would be<strong> influenza,</strong> as it often has a large number of <strong>asymptomatic</strong> or <strong>mild cases </strong>that go undetected, especially in milder seasons.<strong> </strong></p>\n<p><strong>Tetanus</strong> (option A), <strong>chickenpox</strong>(option C), r<strong>abies</strong> (option D) and measles are typically <strong>acute</strong> and <strong>severe,</strong> with most cases being <strong>symptomatic</strong> and well-recognized when they occur. They <strong>do not show</strong> the iceberg phenomenon.</p>\n<p>Iceberg phenomenon is shown by:</p>\n<ul>\n<li>Polio</li>\n<li>Influenza</li>\n<li>Rubella</li>\n<li>Mumps</li>\n<li>Japanese Encephalitis</li>\n<li>Diphtheria</li>\n<li>Hepatitis A and B</li>\n<li>Tuberculosis</li>\n<li>Diabetes</li>\n<li>Malnutrition</li>\n<li>Hypertension</li>\n</ul>\n<p>Note: If a disease has <strong>more</strong> number of<strong> subclinical infections</strong>, it shows the <strong>iceberg phenomenon</strong> of disease depicted in the image below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1e7eaa78579940989793f3dc1e5fe7a4.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0bc171ac344f4c69ae5e07529257efdcx1280x1252.JPEG"
    ]
  },
  {
    "text": "What does line B represent in the graph given?",
    "choices": [
      {
        "id": 1,
        "text": "Death rate"
      },
      {
        "id": 2,
        "text": "Birth rate"
      },
      {
        "id": 3,
        "text": "Total population"
      },
      {
        "id": 4,
        "text": "Population growth rate"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The line <strong>B</strong> here represents the <strong>death rate.</strong></p>\n<p>Line <strong>A</strong> represents the <strong>Birth</strong> <strong>rate</strong></p>\n<p>Line <strong>C</strong> represents the <strong>Total</strong> <strong>population</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4e94a60b5cb84cb880dd288fd0b4f3a4.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "In a sudden onset disaster, the 'recovery' phase consists of which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "i, ii, iii and iv"
      },
      {
        "id": 2,
        "text": "ii, iii and iv only"
      },
      {
        "id": 3,
        "text": "ii and iii only"
      },
      {
        "id": 4,
        "text": "i, ii and iv only"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In disaster management, the recovery phase consists of <strong>response</strong> and <strong>rehabilitation.</strong></p>\n<p><strong>Disaster preparedness</strong> refers to <strong>long-term development activities</strong> that strengthen the capacity of a country\u00a0<span style=\"box-sizing: border-box; margin: 0px; padding: 0px;\">to\u00a0<strong>manage</strong>\u00a0all kinds of\u00a0<strong>emergencies effectively</strong></span>.\u00a0</p>\n<ul>\n<li><strong>Response</strong> - This includes activities such as:</li>\n</ul>\n<ol>\n<li><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Triage</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">: </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Classifying</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">\u00a0the\u00a0</span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">injured</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">\u00a0based on the\u00a0</span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">severity</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">\u00a0of the\u00a0</span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">injuries</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> and chances of survival with medical intervention.</span></li>\n<li><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Tagging</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">: Tags with name, age, triage category, diagnosis and treatment are put for identification purposes. </span></li>\n<li><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Identification of the dead</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">: The dead bodies should be shifted from the disaster site to the mortuary.</span></li>\n</ol>\n<ul>\n<li><strong>Rehabilitation</strong> -\u00a0This includes\u00a0<strong>measures</strong> that lead to the\u00a0<strong>restoration\u00a0</strong>of\u00a0<strong>pre-disaster conditions.\u00a0</strong>These measures include water supply restoration, food safety, basic sanitation,\u00a0personal hygiene, and vector control.</li>\n<li><strong>Mitigation\u00a0</strong>- This includes <strong>measures</strong> to<strong> prevent disasters</strong> from <strong>causing emergencies</strong>\u00a0or to lessen the likely effects of emergencies<strong>.\u00a0</strong>Some of them are flood mitigation, land use planning, improved building codes, and the reduction and protection of vulnerable populations or structures.\u00a0</li>\n<li><strong>Preparedness</strong> - This is a program that aims at <strong>strengthening</strong> the <strong>capacity</strong> of a <strong>country</strong> to manage all types of emergencies efficiently. Its <strong>objective</strong> is to ensure that appropriate measurements are taken for the <strong>relief</strong> and <strong>rehabilitation</strong> of disaster victims.</li>\n</ul>\n<div class=\"page\" title=\"Page 868\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Some measures that should be followed by all <strong>in case of an emergency</strong> include:</p>\n<ul>\n<li>Avoiding telephone use, unless it is to call for help</li>\n<li>Listen to and carry out the radio or loudspeaker broadcast messages</li>\n<li>Carry out the official instructions given over the radio or by loudspeaker</li>\n<li>Keep a family emergency kit ready</li>\n</ul>\n</div>\n</div>\n</div>\n<p>Note: Vaccination of the general population post-disaster against typhoid, cholera, and tetanus\u00a0is<strong> not recommended.\u00a0</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/809cbb270756434d8959a436b1beab42x1280x1665.JPEG"
    ]
  },
  {
    "text": "A pharmacist randomly selects from three groups of medicines: plant-based, animal-derived, and synthetic. What type of sampling is this?",
    "choices": [
      {
        "id": 1,
        "text": "Simple random sampling"
      },
      {
        "id": 2,
        "text": "Stratified sampling"
      },
      {
        "id": 3,
        "text": "Systemic sampling"
      },
      {
        "id": 4,
        "text": "Cluster sampling"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The type of sampling described is <strong>stratified random sampling</strong>.</p>\n<p>In stratified random sampling, the population is divided into distinct <strong>subgroups</strong> or <strong>\"strata\" </strong>(in this case, plant-based, animal-derived, and synthetic medicines). A random sample is then taken from each subgroup.</p>\n<p>Other options:</p>\n<p>Option A: In<strong> simple random sampling</strong>, every member of the population has an<strong> equal chance </strong>of being selected,</p>\n<p>Option C: In <strong>systemic sampling, </strong>elements from a larger population are selected at regular intervals, known as <strong>sampling intervals.</strong></p>\n<p>Option D: In <strong>cluster sampling,</strong> the population is divided into distinct groups, or \"clusters\", and then a random sample of these clusters is selected</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The children in a school underwent a health check-up whose ages were 2,3,4,4,5,6,7,8. What is their median age?",
    "choices": [
      {
        "id": 1,
        "text": "4"
      },
      {
        "id": 2,
        "text": "4.5"
      },
      {
        "id": 3,
        "text": "4.8"
      },
      {
        "id": 4,
        "text": "5"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The median age here is <strong>4.5 years</strong>.</p>\n<p>In a distribution that has an\u00a0<strong>odd\u00a0</strong>number of<strong>\u00a0elements</strong>, the median is the<strong>\u00a0middle value</strong>. In a distribution that has an\u00a0<strong>even\u00a0</strong>number of\u00a0<strong>elements</strong>, the median is the<strong>\u00a0average\u00a0</strong>of the<strong>\u00a0middle values</strong>, i.e., the arithmetic mean of the two middle values.</p>\n<p>Here: elements: 2,3,4,<strong>4,5,</strong>6,7,8, therefore median = <strong>(4+5)/2= 4.5</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the use of this image",
    "choices": [
      {
        "id": 1,
        "text": "Cooling power of air"
      },
      {
        "id": 2,
        "text": "Air temperature"
      },
      {
        "id": 3,
        "text": "Air humidity"
      },
      {
        "id": 4,
        "text": "Radiant heat"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows a <strong>Kata thermometer,</strong> it is a specialized device used to measure <strong>the cooling power of air.</strong>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/52b2250f250743bebf25eaa2ec5977ee.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A student was making a presentation with charts but lost titles while editing. What could be the heading for the following chart?",
    "choices": [
      {
        "id": 1,
        "text": "Physical Quality of Life Index"
      },
      {
        "id": 2,
        "text": "Multidimensional Poverty Index"
      },
      {
        "id": 3,
        "text": "Disability-adjusted life years"
      },
      {
        "id": 4,
        "text": "Human Development Index"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The index that is calculated using the given indicators such as <strong>life expectancy at birth</strong>, mean and expected years of <strong>schooling</strong>, and the <strong>per capita income</strong> is the <strong>Human Developmental Index (HDI).</strong></p>\n<p><strong>Human Development Index (HDI)</strong> is defined as a composite index focusing on three basic dimensions of human development. It assesses abilities\u00a0</p>\n<ul>\n<li>To lead a healthy long life - measured by <strong>life expectancy </strong>at<strong> birth</strong></li>\n<li>To acquire knowledge- measured by <strong>mean years </strong>of <strong>schooling </strong></li>\n<li>To achieve a decent standard of living- measured by <strong>gross national income per capita</strong></li>\n</ul>\n<p>Hence the 3 dimension indices used to calculate the human development index are as follows life expectancy index, education index, and gross national index.\u00a0</p>\n<p>Other options:</p>\n<p>Option A-<strong> Physical Quality of Life Index (PQLI) </strong>uses\u00a0three indicators which include infant mortality, life expectancy at age one, and literacy rate.</p>\n<p>Option B-<strong> Multidimensional Poverty Index (MPI)</strong> - It is an international measure of acute multidimensional poverty by capturing the acute deprivations in health, education, and living standards that a person faces simultaneously. It is assessed using 3 dimensions and 10 indicators which are as follows:</p>\n<ol>\n<li>Health -\u00a0Nutrition and child mortality</li>\n<li>Education- Years of schooling and school attendance</li>\n<li>Standard of living -\u00a0\n<ul>\n<li>Cooking fuel</li>\n<li>Sanitation</li>\n<li>Drinking water</li>\n<li>Electricity</li>\n<li>Housing</li>\n<li>Assets</li>\n</ul>\n</li>\n</ol>\n<p>Option C-<strong> Disability-adjusted life years (DALY)</strong>:\u00a0It is the amount of time lost due to ill health. It is expressed as the number of years lost due to ill-health, disability, or early death. The components of DALY are:</p>\n<ul>\n<li>Years of life lost due to premature death</li>\n<li>Years lived with disability (YLD)</li>\n<li>Years lived in a state less than full health</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A mother delivers a baby in a rural area with the assistance of a skilled birth attendant. The attendant cuts the umbilical cord cleanly, ties the ends with new threads, bathes the baby with warm water, wipes the baby\u2019s eyes with a sterile wet cloth from the medial to lateral corner, and then hands the baby to the mother for skin-to-skin contact. Which of these steps is incorrect?",
    "choices": [
      {
        "id": 1,
        "text": "Using new threads to tie the ends of the umbilical cord"
      },
      {
        "id": 2,
        "text": "Wiping the baby\u2019s eyes from medial to lateral corner"
      },
      {
        "id": 3,
        "text": "Skin-to-skin contact with the mother"
      },
      {
        "id": 4,
        "text": "Bathing the child with warm water"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The incorrect step is <strong>bathing the child with warm water</strong> immediately after birth. It is generally recommended to <strong>delay bathing</strong> in the immediate newborn period to help <strong>maintain</strong> the baby\u2019s body <strong>temperature</strong> and prevent hypothermia.\u00a0</p>\n<p>Other options:</p>\n<p>Option A: Using new threads to tie the ends of the umbilical cord is correct and helps <strong>prevent infection</strong> and ensure proper cord care.</p>\n<p>Option B: Wiping the baby\u2019s eyes from the medial to lateral corner is appropriate to prevent the spread of any potential infection from the eye\u2019s inner to outer corners.</p>\n<p>Option C: Skin-to-skin contact with the mother is beneficial as it helps stabilize the<strong> baby\u2019s temperature, promotes bonding, and supports early breastfeeding</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A homeless man comes with diarrhea, dementia, and dermatitis. He consumes alcohol occasionally. He admits to having 'X' as his staple diet. Which of the following is X most likely to be?",
    "choices": [
      {
        "id": 1,
        "text": "Maize"
      },
      {
        "id": 2,
        "text": "Wheat"
      },
      {
        "id": 3,
        "text": "Milk"
      },
      {
        "id": 4,
        "text": "Peanuts"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Casal\u2019s necklace finding in niacin deficiency</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6cf4030a592c46fead09e9edf9399244x720x521.JPEG"
    ]
  },
  {
    "text": "In the Motivation model of health education, there are three stages for the adoption of new ideas. What is the third one other than awareness & motivation?",
    "choices": [
      {
        "id": 1,
        "text": "Contemplation"
      },
      {
        "id": 2,
        "text": "Reflection"
      },
      {
        "id": 3,
        "text": "Action"
      },
      {
        "id": 4,
        "text": "Dedication"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>third stage</strong> in the <strong>Motivation model</strong> of <strong>health education</strong>, following awareness and motivation, is <strong>action</strong>.</p>\n<p>In the process of <strong>adopting new ideas</strong> or behaviours, individuals progress through distinct stages. The <strong>first stage</strong>, <strong>awareness</strong>, involves <strong>gaining general information</strong> about health needs and issues, which serves as the foundation for further exploration. Without awareness, individuals may not recognize the importance of making changes to their health behaviours.</p>\n<p>The <strong>second stage</strong>, <strong>motivation</strong>, encompasses <strong>interest, evaluation</strong>, and <strong>decision-making</strong>. Here, individuals express curiosity about the information presented, seek out additional details, and weigh the pros and cons of adopting the new behaviour. This stage often requires<strong> interpersonal communication</strong> and support from peers and family, as individuals contemplate the implications of their choices.</p>\n<p>Finally, in the <strong>action stage</strong>, individuals actively adopt and implement the<strong> new behaviour</strong> or idea into their lives. This involves not just the decision to change but also taking concrete steps to integrate the new practice into their daily routine. It is during this stage that the new behaviour becomes part of an individual's values and lifestyle, leading to sustained change. <strong>Effective communication strategies </strong>are essential to support individuals as they navigate through these stages, ensuring a <strong>successful transition</strong> to healthier behaviours.</p>\n<p>Note:\u00a0 The <strong>three models</strong> of <strong>health education</strong>:</p>\n<ul>\n<li><strong>Medical model</strong>: Transfer of proven medical information into education</li>\n<li><strong>Motivational model</strong>: Awareness \u2192 Motivation \u2192 Action or Internalization</li>\n<li><strong>Social intervention model:</strong> Changing of a social environment</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An unvaccinated 5-year-old child presents with a sore throat and difficulty in swallowing. On examination, she has a greyish membrane over her tonsils. She has a fully vaccinated 2-year-old brother who was asymptomatic.  What is the appropriate management of this contact?",
    "choices": [
      {
        "id": 1,
        "text": "No intervention"
      },
      {
        "id": 2,
        "text": "Booster dose of toxoid"
      },
      {
        "id": 3,
        "text": "Single dose of immunoglobulin"
      },
      {
        "id": 4,
        "text": "Prophylactic dose of penicillin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical features of <strong>sore throat</strong> and difficulty in swallowing with a <strong>greyish-white membrane</strong> over the<strong> tonsils</strong> in an <strong>unvaccinated</strong> child is suggestive of <strong>pharyngeal diphtheria</strong>. The <strong>appropriate management</strong> for the <strong>asymptomatic</strong> 2-year-old brother of the child with diphtheria is to initiate <strong>prophylactic antibiotic treatment</strong> with <strong>penicillin</strong>, <strong>regardless</strong> of his <strong>immunization status</strong>.</p>\n<p><strong>Diphtheria </strong>is caused by the bacteria <strong><em>Corynebacterium diphtheriae</em></strong> which spreads via <strong>droplets</strong> through the <strong>respiratory tract</strong> (most important), cutaneous lesions, and fomites. <strong>Management </strong>includes <strong>antitoxin therapy</strong> as a <strong>single empirical dose</strong> of 20,000-100,000 units and antibiotics. <strong>Penicillin G/ Benzylpenicillin</strong> is the <strong>drug of choice</strong> for diphtheria. However, in case of an <strong>allergy</strong> to the same, <strong>Erythromycin</strong> is used. Other antibiotics used are clindamycin, rifampin, and tetracycline.</p>\n<p>All\u00a0<strong>household contacts</strong> of diphtheria should be closely <strong>monitored </strong>for<strong> 7 days</strong>. Culture should be taken from both the throat and nose. After culture, all contacts should receive the following:</p>\n<div class=\"page\" title=\"Page 2352\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 2352\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li><strong>Antibiotic prophylaxis </strong>(benzathine <strong>penicillin</strong> G or erythromycin),\u00a0regardless of immunization status.</li>\n<li>If\u00a0<strong>fewer than three doses</strong>\u00a0of diphtheria toxoid have been given, or\u00a0<strong>vaccination history</strong> is <strong>unknown</strong>, an immediate dose of\u00a0<strong>diphtheria toxoid</strong>\u00a0should be given and the primary series completed according to the current schedule.</li>\n<li>If<strong>\u00a0more than 5 years</strong>\u00a0have elapsed since the administration of the diphtheria toxoid-containing vaccine, a\u00a0<strong>booster dose</strong>\u00a0should be given.</li>\n<li>If the most recent dose was\u00a0<strong>within 5 years</strong>,\u00a0<strong>no booster</strong>\u00a0is required.</li>\n</ul>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p>At least <strong>two successive negative cultures</strong> obtained <strong>24 hr apart</strong> after completion of therapy are needed to confirm the elimination of the organism.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A disease has an incubation period of 3-14 days. It has a median incubation of 10 days. A person had to travel abroad and he was not vaccinated. As the disease is of international significance, how long will he have to be quarantined?",
    "choices": [
      {
        "id": 1,
        "text": "20 days"
      },
      {
        "id": 2,
        "text": "14 days"
      },
      {
        "id": 3,
        "text": "28 days"
      },
      {
        "id": 4,
        "text": "10 days"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A person who is <strong>not vaccinated</strong> and has been exposed to a disease of <strong>international significance</strong> (like COVID) with an incubation period of 3-14 days should be <strong>quarantined</strong> for<strong> 14 days(longest incubation period).</strong></p>\n<p><strong>Quarantine</strong> is defined as the <strong>limitation</strong> of <strong>freedom of movement</strong> of well-persons or animals, <strong>exposed</strong> to a <strong>communicable disease</strong> for a period of time <strong>not longer</strong> than the<strong> longest usual incubation period</strong>, to <strong>prevent contact</strong> with those not exposed. This is done to prevent the potential spread of the disease during its incubation period, which is the time between <strong>exposure</strong> and the <strong>onset</strong> of symptoms.</p>\n<p>The quarantined person:</p>\n<ul>\n<li style=\"font-weight: 400;\">Should stay in a <strong>well-ventilated single room</strong> and stay away from high-risk individuals</li>\n<li style=\"font-weight: 400;\">Should not attend any religious or social gatherings</li>\n<li style=\"font-weight: 400;\">Must wash hands often</li>\n<li style=\"font-weight: 400;\">Their surroundings must be disinfected with 1% sodium hypochlorite solution</li>\n</ul>\n<p>In case the person being quarantined <strong>becomes symptomatic</strong>, all his <strong>contacts</strong> should be home quarantined for <strong>14 days</strong> and followed up for another 14 days or till the report turns out negative on lab testing.</p>\n<p>Note: The <strong>median incubation period</strong> refers to the time between <strong>exposure</strong> to a pathogen and the <strong>onset</strong> of symptoms in <strong>50% </strong>of <strong>cases</strong>. And <strong>isolation</strong> is the separation and restriction of movements or activities of persons who are <strong>sick</strong>, to prevent the transmission of disease.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The image shown corresponds to which health program and disease?",
    "choices": [
      {
        "id": 1,
        "text": "AROHI for HIV"
      },
      {
        "id": 2,
        "text": "AMITHA for polio"
      },
      {
        "id": 3,
        "text": "SAPANA for leprosy"
      },
      {
        "id": 4,
        "text": "GAURI for cataract"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image is of <strong>SAPANA for leprosy. </strong><strong>Sapana</strong>\u00a0refers to a local school-going girl who will help to spread awareness in the community.</p>\n<p>The other <strong>developments </strong>under<strong> NLEP </strong>are:</p>\n<ul>\n<li><strong>Mycobacterium Indicus Prani\u00a0(MiP)</strong> <strong>vaccine</strong>\u00a0for multibacillary leprosy patients and their contacts (it is in a project mode).</li>\n<li><strong>Nikusth: </strong>A web-based system for the data management of leprosy cases.</li>\n</ul>\n<p><strong>Note</strong>: <strong>Meena</strong> is a nine-year-old girl, who is the symbol of <strong>UNICEF's</strong> Girl Empowerment programme to impart\u00a0important messages on gender, child rights, education, health and development in the South Asian region.</p>\n<p>The posters below depict the role play by <strong>Sapna</strong>:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1f6444f4afab49c29058d60c66481af6.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3c3f3fd64065464892abdd6ae9e7e1d1x966x524.PNG"
    ]
  },
  {
    "text": "A study is investigating the relationship between diet and the incidence of a particular disease. Among 100 vegetarians, 30 individuals are found to have the disease, while among 100 non-vegetarians, 50 individuals are affected. Which biostatistical method is most appropriate to determine if there is no significant association between diet and disease incidence?",
    "choices": [
      {
        "id": 1,
        "text": "Mann-Whitney test"
      },
      {
        "id": 2,
        "text": "Correlation coefficient"
      },
      {
        "id": 3,
        "text": "T-squared test"
      },
      {
        "id": 4,
        "text": "Chi-square test"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>To determine whether there is an association between <strong>diet</strong> (vegetarians vs. non-vegetarians) and the <strong>incidence of disease</strong> (present or absent), the best biostatistical method to use is the <strong>Chi-square test.</strong></p>\n<p>Other options:</p>\n<p>Option A: <strong>Mann-Whitney test </strong>is used for comparing two independent groups on a continuous or ordinal outcome, but in this case, both variables (diet and disease) are categorical.</p>\n<p>Option B: The <strong>correlation coefficient </strong>measures the strength of a linear relationship between two continuous variables, but it is not appropriate for categorical data.</p>\n<p>Option C: <strong>T-squared test </strong>is typically used for multivariate hypothesis testing and is not suited for testing relationships between categorical variables like diet and disease incidence.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following options best defines the correct sequence of the phases of the demographic cycle?",
    "choices": [
      {
        "id": 1,
        "text": "High expanding\u2192 Early stationary \u2192 Late expanding \u2192 Low stationary \u2192 Declining"
      },
      {
        "id": 2,
        "text": "High stationary \u2192 Early expanding \u2192 Late expanding \u2192 Low stationary \u2192 Declining"
      },
      {
        "id": 3,
        "text": "Low stationary \u2192 Early expanding \u2192 Declining"
      },
      {
        "id": 4,
        "text": "Late expanding \u2192 High stationary \u2192 Declining"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correct sequence of the phases of the demographic cycle is <strong>High stationary \u2192 Early expanding \u2192 Late expanding \u2192 Low stationary \u2192 Declining.</strong></p>\n<div class=\"ng-scope\">\n<div class=\"ng-scope\">\n<p>India is currently in the \"<strong>late expanding</strong>\" stage which is the third stage in the demographic cycle where <strong>declining death rates and declining birth rates</strong> are seen.</p>\n<p>Another important concept of the demographic cycle is the demographic gap which\u00a0is the\u00a0<strong>difference between birth rate and death rate.</strong>\u00a0The demographic gap is\u00a0<strong>maximum in the early-expanding phase,</strong>\u00a0characterized by a high birth rate and low death rate. As the demography of the country transitions to the late-expanding phase, both birth rate and death rate falls causing a\u00a0<strong>decreasing demographic gap.\u00a0</strong>Although the birth rate is falling in the late-expanding phase, it is still higher than the death rate, which causes the\u00a0<strong>population to increase.</strong></p>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A man presents with sudden onset bilateral leg swelling, diarrhea, and difficulty breathing. He reports consuming mustard oil purchased from a local vendor prior to the onset of symptoms. A health inspector is investigating the cause of his condition. Which test is the most appropriate to detect the adulterant in the mustard oil?",
    "choices": [
      {
        "id": 1,
        "text": "Paper Chromatography Test"
      },
      {
        "id": 2,
        "text": "Methylene Blue Test"
      },
      {
        "id": 3,
        "text": "Phosphatase Test"
      },
      {
        "id": 4,
        "text": "Nitric Acid Test"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical scenario is suggestive of\u00a0<strong>epidemic dropsy. Paper chromatography test </strong>is used to identify the presence of toxic alkaloids from<strong> Argemone mexicana seeds</strong> that adulterate <strong>mustard oil.</strong></p>\n<p>Epidemic dropsy is caused by the toxic compound <strong>sanguinarine</strong>, which is present in\u00a0<strong>argemone oil </strong>extracted from argemone seeds. It is commonly used as an\u00a0<strong>adulterant</strong>\u00a0in <strong>mustard oil.</strong></p>\n<p>Epidemic dropsy results in sudden onset of swelling of lower limbs,\u00a0<strong>diarrhea</strong>, and breathlessness. Some patients may develop\u00a0<strong>hypersecretory glaucoma</strong>. It can lead to death due to\u00a0<strong>cardiac failure</strong>.</p>\n<p>Adulteration with argemone oil can be detected by the following tests:</p>\n<ul>\n<li>Paper chromatography - most sensitive test</li>\n<li>Nitric acid test</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a population of 30,000, there were 500 live births & 14 still births in the year 2023. There were 18 children that died before the age of 1 year, 12 before 28 days of life & among that, 9 died in the first 7 days of life. Calculate the early neonatal mortality rate?",
    "choices": [
      {
        "id": 1,
        "text": "24"
      },
      {
        "id": 2,
        "text": "18"
      },
      {
        "id": 3,
        "text": "32"
      },
      {
        "id": 4,
        "text": "36"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>\u00a0</p>\n<p>The neonatal mortality rate (NMR) refers to the rate of deaths within the first 28 days of life. It is calculated using the following parameters:</p>\n<ul>\n<li>Early neonatal deaths- death in the first 7 days of life</li>\n<li>Late neonatal deaths - after 7th day but before 28th completed day of life</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0f2f060fa5d8441b90ff6aee8ec9b41fx1280x972.JPEG"
    ]
  },
  {
    "text": "A 37-year-old woman from Bihar presents with fever and unexplained weight loss over the past 6 months. Examination reveals massive splenomegaly and blood investigations show anemia, thrombocytopenia, and hypergammaglobulinemia. What is the vector of the organism causing this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Phlebotomus species"
      },
      {
        "id": 2,
        "text": "Aedes mosquito"
      },
      {
        "id": 3,
        "text": "Mite"
      },
      {
        "id": 4,
        "text": "Female anopheles mosquito"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>\u00a0</p>\n<p>Other options:</p>\n<p>Option B: The<strong> Aedes mosquito </strong>is the vector for diseases such as dengue, chikungunya, and Zika virus, none of which fit the clinical profile of visceral leishmaniasis.</p>\n<p>Option C: <strong>Mites</strong> are vectors for diseases such as scrub typhus, which typically presents with fever and an eschar, but it does not explain the massive splenomegaly or hematologic findings seen in this case.</p>\n<p>Option D: <strong>Ixodid ticks</strong> are vectors for tick-borne diseases such as Lyme disease and babesiosis. These conditions do not present with the clinical features observed in this patient.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f825931f89a74adf9b3ad3567b2f9b91x1000x750.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f1b29e56c8214de7b675d863f9302240x720x539.GIF"
    ]
  },
  {
    "text": "A hospital collected nasopharyngeal swabs from 1000 patients every day from the onset of the disease. The organism count was found to be maximum on the 5th day, which also showed the maximum infectivity (infecting 825 patients). What is this period of 5 days from the onset of the disease known as?",
    "choices": [
      {
        "id": 1,
        "text": "Generation time"
      },
      {
        "id": 2,
        "text": "Median Incubation period"
      },
      {
        "id": 3,
        "text": "Serial interval"
      },
      {
        "id": 4,
        "text": "Lead time"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The time interval between the <strong>receipt</strong> of <strong>infection</strong> by a <strong>host</strong> and the <strong>maximal infectivity</strong> of that host is known as the <strong>generation time.</strong></p>\n<p>The time of <strong>maximum communicability</strong> may <strong>precede</strong> or follow the <strong>incubation</strong> period.\u00a0</p>\n<p>Other Options:\u00a0</p>\n<p>Option B: The <strong>median incubation period</strong> refers to the time between exposure to a pathogen and the onset of symptoms in 50% of cases.</p>\n<p>Option C: <strong>Serial interval</strong> is the gap in time between the onset of the primary case and the second case. The term serial interval is used in an outbreak of disease.</p>\n<p>Option D: <strong>Lead time </strong>is the period between the first possible time of detection and the usual time of diagnosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following are not included in the School Health Programme under Ayushman Bharat?",
    "choices": [
      {
        "id": 1,
        "text": "Monthly IFA tablets for all children"
      },
      {
        "id": 2,
        "text": "Health screening"
      },
      {
        "id": 3,
        "text": "Deworming for school going children"
      },
      {
        "id": 4,
        "text": "Sanitary napkins for adolescent girls"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Weekly Iron Folic Acid Supplementation</strong>\u00a0is included in School Heath Programme <strong>not</strong> monthly IFA tablets for all children.</p>\n<p>The Weekly Iron Folic Acid Supplementation (WIFS) program is a<strong> </strong>school health program that<strong> provides iron </strong>and<strong> folic acid (IFA) tablets </strong>which aims to r<strong>educe the prevalence of anemia</strong> in school going children.</p>\n<p>The school health programs are managed by the<strong> primary health center (PHC).</strong></p>\n<p>The School Health Committee (1961) in India recommended that the school health services should be a part of the general health services administered through PHCs. Formation of school health committees at the village, block, district, state, and national levels was recommended. The National School Health Council was created as an advisory and coordinating body.</p>\n<p>PHCs provide the following school health services:</p>\n<ul>\n<li><strong>Screening</strong> and general assessments for\u00a0</li>\n</ul>\n<ol>\n<li><strong>Anemia/nutritional status</strong></li>\n<li>Visual acuity and hearing problems</li>\n<li>Dental check-up</li>\n<li>Physical disabilities</li>\n<li>Learning disorders and behavior problems</li>\n</ol>\n<ul>\n<li>Basic medicines for<strong> common ailments</strong></li>\n<li><strong>Immunization </strong></li>\n<li><strong>Micronutrient management (vitamin A, iron, and folic acid)</strong></li>\n<li><strong>Deworming </strong></li>\n<li>Mid-day meal</li>\n<li>Provison of <strong>sanitary napkins</strong></li>\n</ul>\n<p>Note: National Programme for Mid-Day Meal in Schools has recently been renamed Pradhan Mantri Poshan Shakti Nirman (PM POSHAN).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is true about longevity dividend?",
    "choices": [
      {
        "id": 1,
        "text": "The intervention can delay the onset of the disease"
      },
      {
        "id": 2,
        "text": "Small amounts of damage is accumulated over time"
      },
      {
        "id": 3,
        "text": "The older you are the more prone you are to disease"
      },
      {
        "id": 4,
        "text": "Economic and health benefit for the society"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The intervention can delay the onset of the disease (Statement 1) is true about <strong>longevity dividend.</strong></p>\n<p>The longevity dividend is a <strong>horizontal approach</strong> to public health which is based on a broader strategy which means to foster health for all generations. This can be done by developing a new model for health promotion and disease prevention. The longevity-dividend model<strong> aims to prevent or delay the root causes of disease </strong>and disability by decimating the one major risk factor which is <strong>biological aging.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "For standards of ventilation, the widely quoted standard is that of De Chaumont who advocated a fresh air supply of 3000 cubic feet per person per hour. It is calculated based on which parameter?",
    "choices": [
      {
        "id": 1,
        "text": "Humidity of air"
      },
      {
        "id": 2,
        "text": "O2 content of air"
      },
      {
        "id": 3,
        "text": "Temperature of air"
      },
      {
        "id": 4,
        "text": "CO2 content of air"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>For standards of ventilation, <strong>CO2 content of air </strong>is the paramater used to calculate fresh air supply of 3000 cubic feet per person per hour which was advocated by De Chaumont.</p>\n<p>Ventilation i<strong>nvolves the quality control of incoming air</strong> but not quality control of outgoing air.\u00a0It also involves the <strong>replacement of vitiated air</strong>(air with decreased oxygen content) by a supply of fresh outdoor air. It aims to provide <strong>a comfortable thermal environment and reduce the risk of infections.</strong></p>\n<p>Fresh air supply of f 3000 cubic feet per person per hour is a <strong>good standard </strong>for air\u00a0requirement. It is observed that the <strong>amount of CO2</strong> due to respiration is <strong>not more than 2 parts</strong> in 1000 parts of air, then the air in the room is considered fresh.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which vaccine will be placed at zone 3 in the device shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Pentavalent"
      },
      {
        "id": 2,
        "text": "Hep B"
      },
      {
        "id": 3,
        "text": "OPV"
      },
      {
        "id": 4,
        "text": "DPT"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shown in the question is of an<strong>\u00a0ice-lined refrigerator</strong> (ILR). The OPV vaccines are stored in the zone 3 that corresponds to the lowest\u00a0</p>\n<p>ILRs are the main method of <strong>vaccine storage</strong> in <strong>primary health centers</strong>. They are an important part of the cold chain and they maintain a temperature of <strong>2 to 8 \u00b0C</strong> for the storage of vaccines. <br /><br />They have different temperature zones for different vaccines.\u00a0The<strong> upper zone </strong>is for<strong> freeze-sensitive vaccines</strong> like cholera, hep B, rotavirus(liquid), etc while the <strong>lower zone</strong> is for<strong> heat-sensitive vaccines</strong> like OPV, measles, etc.</p>\n<p>All vaccines are kept in the basket provided with ILR. Vaccines like OPV, BCG, measles, and JE can be kept at the bottom of the basket while, DPT, TT, Hep B, IPV, and pentavalent vaccines and diluents are kept in the upper part of the basket.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b44e05bd95f94b8b9c41ebb368ea9fde.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4295441d637c41278ca4921a825fdcf5x1280x1415.JPEG"
    ]
  },
  {
    "text": "Pick the correct statement regarding the Sanchol cholera vaccine",
    "choices": [
      {
        "id": 1,
        "text": "Bivalent vaccine given in 2 liquid doses orally to children >=1 year of age"
      },
      {
        "id": 2,
        "text": "Bivalent given in single dose orally to children >1 years of age"
      },
      {
        "id": 3,
        "text": "Monovalent given in 2 liquid doses orally with a bicarbonate buffer"
      },
      {
        "id": 4,
        "text": "Monovalent given in a single dose orally with a bicarbonate buffer"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The Sanchol cholera vaccine is a <strong>bivalent vaccine</strong> given in 2 liquid doses orally to children &gt;=1 year of age.\u00a0</p>\n<p>The <strong>Sanchol cholera</strong> vaccine is a <strong>bivalent oral cholera vaccine</strong> (OCV) that targets both <strong>Vibrio cholerae O1</strong> and <strong>Vibrio cholerae O139</strong> serogroups, which are the primary causes of cholera outbreaks. It is designed to provide immunity by <strong>stimulating</strong> the production of <strong>antibodies</strong> in the <strong>intestines,</strong> the site of infection.</p>\n<p>Key Features of the Sanchol Vaccine:<br />Bivalent Nature: The vaccine protects against two strains of the cholera bacterium: O1, which is responsible for most global cholera cases, and O139 which is seen in <strong>South Asia.</strong></p>\n<p>Dosing Schedule: The Sanchol vaccine is administered in <strong>two oral doses.</strong> The doses are given <strong>14</strong> days apart for children aged 1 year and above as well as <strong>adults.</strong> This <strong>two-dose</strong> regimen is essential for achieving <strong>effective immunity.</strong> The vaccine is provided in <strong>liquid form,</strong> making it easy to administer. It does not require any special preparation, such as mixing with a bicarbonate buffer, which is needed for some older cholera vaccines.</p>\n<p>Age Recommendation: The vaccine is recommended for individuals aged <strong>1 year</strong> and <strong>older.</strong> It is particularly useful in <strong>endemic regions</strong> or during <strong>outbreaks</strong> to prevent the spread of the disease.</p>\n<p>Efficacy and Duration: Sanchol has been shown to provide significant protection against cholera for up to <strong>3-5</strong> years after vaccination, although <strong>booster doses</strong> may be required in areas with <strong>ongoing</strong> transmission.</p>\n<p>The vaccine is widely used in <strong>mass vaccination campaigns,</strong> especially in <strong>areas prone</strong> to <strong>cholera outbreaks,</strong> such as <strong>refugee camps</strong> or regions with <strong>poor sanitation.</strong> It has been a critical tool in reducing the incidence of cholera in many endemic areas.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a town, there were 1000 live births in a period of 6 months. During the same period, 12 women died due to the following causes. What is the maternal mortality ratio?",
    "choices": [
      {
        "id": 1,
        "text": "800 per 100000 live births"
      },
      {
        "id": 2,
        "text": "20 per 1000 live births"
      },
      {
        "id": 3,
        "text": "125 per 1000 live births"
      },
      {
        "id": 4,
        "text": "400 per 100000 live births"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This town's maternal mortality\u00a0ratio (MMR) is <strong>800\u00a0per 100,000 live births</strong>.</p>\n<p>Maternal mortality refers to deaths during pregnancy or within 42 days of termination of pregnancy, from <strong>causes</strong> related to <strong>pregnancy</strong>. Excluding the deaths from traffic accidents and snake bite, the total number of maternal deaths is 8.</p>\n<p>MMR = (Number of maternal deaths in a given year / Number of live births in the same area and year) x 1,00,000 (or 1000).</p>\n<p>Hence, MMR = 8 x 100000/1000 = 800 per 100,000 live births.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following steps of disaster management is in correct order?",
    "choices": [
      {
        "id": 1,
        "text": "Disaster impact \u2013 Mitigation \u2013 Rehabilitation \u2013 Response"
      },
      {
        "id": 2,
        "text": "Rehabilitation \u2013 Response \u2013 Disaster Impact \u2013 Mitigation"
      },
      {
        "id": 3,
        "text": "Disaster impact \u2013 Response \u2013 Rehabilitation \u2013 Mitigation"
      },
      {
        "id": 4,
        "text": "Response \u2013 Disaster impact \u2013 Rehabilitation \u2013 Mitigation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct order is:<strong> Disaster impact \u2013 Response \u2013 Rehabilitation \u2013 Mitigation</strong></p>\n<ul>\n<li><strong>Disaster impact and response includes:</strong>\n<ul>\n<li>Search, rescue and first aid must be done first.</li>\n<li>Field care</li>\n<li>Triage</li>\n<li>Lagging</li>\n<li>Identification of dead</li>\n</ul>\n</li>\n<li><strong>Rehabilitation or recovery includes:</strong>\n<ul>\n<li>Water supply</li>\n<li>Sanitation and personal hygiene</li>\n<li>Food safety</li>\n<li>Vector control</li>\n</ul>\n</li>\n<li><strong>Mitigation:</strong>\n<ul>\n<li>Measures designed to either prevent hazards or reduce the effects of the disaster leading to disaster preparedness.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ae6916c1749c4d8e87da69802f969138x1280x2191.JPEG"
    ]
  },
  {
    "text": "Which of the following are components of the physical quality of life index (PQLI)?",
    "choices": [
      {
        "id": 1,
        "text": "1,3 and 5"
      },
      {
        "id": 2,
        "text": "2 and 5"
      },
      {
        "id": 3,
        "text": "1,2 and 4"
      },
      {
        "id": 4,
        "text": "1,3 and 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Infant mortality rate, literacy rate, and life expectancy at 1 year of age\u00a0are the\u00a0components of the <strong>physical quality of life index</strong>\u00a0(PQLI).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '105 Community Medicine Neet 2024';
        let hierarchy = ["Marrow", "PYQs", "Community Medicine"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>