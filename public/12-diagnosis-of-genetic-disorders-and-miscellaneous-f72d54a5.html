<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12 Diagnosis Of Genetic Disorders And Miscellaneous - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pathology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">15</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>In a community where consanguineous marriages are prevalent, a distant relative couple decide to get married. They later have a child who presents with symptoms of anaemia and requires regular blood transfusions. Further investigation reveals that the child has beta-thalassemia, a genetic disorder prevalent in the region. Which of the following symbols can be anticipated in this couple, which is a risk factor for this disease?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/veL2k1ldiPhGHGYbFmem1736825441.png\" width=\"2709\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>CORRECT ANSWER:</strong>\u00a0 B</p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<p>Consanguineous marriages <strong>(marriages between relatives)</strong> increase the risk of their children developing genetic (autosomal recessive) disorders. This symbol represents this risk in the <span class=\"customMeta\" data-dictid=\"064ecc6e2316927771956dc56b9ba4\">pedigree</span> chart.</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"PL copyright\" data-source=\"NA\" data-tags=\"\" height=\"398\" src=\"https://image.prepladder.com/content/k8RkT4qcUVKIV0CEwy1h1736826072.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p><strong>The symbols used in the <span class=\"customMeta\" data-dictid=\"064ecc6e2316927771956dc56b9ba4\">pedigree</span> chart:</strong></p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"PL copyright\" data-source=\"NA\" data-tags=\"\" height=\"493\" src=\"https://image.prepladder.com/content/tyx4oIwyoYvpwhy8ls2B1736825640.png\" width=\"500\" /></p>",
    "question_images": [
      "https://image.prepladder.com/content/veL2k1ldiPhGHGYbFmem1736825441.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/k8RkT4qcUVKIV0CEwy1h1736826072.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/ZHNzGHm0TAs4LG0cNuiK1748355310.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/OoqZNA4L1rCZUeL6rlOT1748355415.mp3"
  },
  {
    "text": "<p>A couple seeks medical advice after their daughter presents with frequent nosebleeds and easy bruising. Lab investigations reveal prolonged bleeding time, prolonged aPTT, and a normal PT. A detailed history and a pedigree analysis were obtained, suspecting a genetic disorder. Based on the pedigree chart, what is this condition's most likely inheritance pattern?</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"PL copyright\" data-source=\"NA\" data-tags=\"\" height=\"2990\" src=\"https://image.prepladder.com/content/2epnyIHdn7oKI8k5ZDgH1736826163.png\" width=\"4041\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal recessive"
      },
      {
        "id": 2,
        "text": "Autosomal dominant"
      },
      {
        "id": 3,
        "text": "X linked recessive"
      },
      {
        "id": 4,
        "text": "X linked dominant"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>CORRECT ANSWER: B) Autosomal dominant</strong></p>\n\n<p><br />\n\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<p>\u00a0</p>\n\n<p>The clinical presentation of a female with <strong>frequent nosebleeds, easy bruising, prolonged <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> time & aPTT, and normal PT</strong> is suggestive of <strong>Von Willebrand disease.</strong></p>\n\n<p>\u00a0</p>\n\n<h3><strong>Platelet Function & Factor VIII \u2013 1-Molybdenum Deficiency</strong></h3>\n\n<ul>\n\t<li>\n\t<p>Platelet Adhesion:</p>\n\n\t<ul>\n\t\t<li>\n\t\t<p>Factor VIII is part of the <span class=\"customMeta\" data-dictid=\"a6795c876e169277719057a1099465\">intrinsic</span> <span class=\"customMeta\" data-dictid=\"42f1e4deb8169277718412c0681a54\">coagulation</span> pathway</p>\n\t\t</li>\n\t\t<li>\n\t\t<p>1-Molybdenum <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> \u2192 <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> <span class=\"customMeta\" data-dictid=\"e7032bae7f1692777195d693722e54\">platelet</span> <span class=\"customMeta\" data-dictid=\"2b1931a185169277718065e3fa42dd\">adhesion</span> \u2192 <span class=\"customMeta\" data-dictid=\"41e858bf2816927771836d46c619b9\">bleeding</span> time \u2191</p>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li>\n\t<p>Coagulation Defect:</p>\n\n\t<ul>\n\t\t<li>\n\t\t<p>Factor VIII cannot function normally \u2192 factor VIII activity \u2193</p>\n\t\t</li>\n\t\t<li>\n\t\t<p>Leads to prolonged APTT (activated partial <span class=\"customMeta\" data-dictid=\"9b51982d06169277720063c9420fbb\">thromboplastin</span> time)</p>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>The <span class=\"customMeta\" data-dictid=\"064ecc6e2316927771956dc56b9ba4\">pedigree</span> chart shows a <strong>vertical transmission pattern</strong> with <strong>no skipping of generations</strong> and is suggestive of <strong>autosomal dominant</strong> inheritance.</p>\n\n<p>Autosomal <span class=\"customMeta\" data-dictid=\"18e7ddb7841692777186f7e78b2206\">dominant inheritance</span> pattern:</p>\n\n<ul>\n\t<li>The mode of transmission is <strong>vertical</strong>. An affected person has an affected parent.</li>\n\t<li>There is a <strong>50% chance of the <span class=\"customMeta\" data-dictid=\"86b9c2235e1692777186cdb50a8a01\">dominant trait</span> being transmitted</strong> to offspring.</li>\n\t<li>Both males and females are <strong>equally affected.</strong></li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"PL copyright\" data-source=\"NA\" data-tags=\"\" height=\"2990\" src=\"https://image.prepladder.com/content/rmOwLpzLVgRjDMrGnsQN1736826192.png\" width=\"4041\" /></p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/2epnyIHdn7oKI8k5ZDgH1736826163.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/rmOwLpzLVgRjDMrGnsQN1736826192.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/nsoXGCwYnNrOfxqkns4P1746450126.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/3dvDzfsWQBzmO4AIZBuf1746450265.mp3"
  },
  {
    "text": "<p>A 10-year-old boy presents to the clinic with complaints of unsteady gait and frequent falls. Upon further inquiry, it is revealed that he has experienced progressive difficulty with coordination and balance over the past few years. His parents report a similar history in his older sister, who is now 15 years old. Interestingly, the parents are both asymptomatic, but the boy's maternal uncle was diagnosed with a similar condition in his late 20s. What is the most likely inheritance pattern seen in this condition?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal Dominant"
      },
      {
        "id": 2,
        "text": "X linked dominant"
      },
      {
        "id": 3,
        "text": "X linked recessive"
      },
      {
        "id": 4,
        "text": "Autosomal Recessive"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct answer:</strong> <strong>D) Autosomal recessive</strong></p>\n\n<p><br />\n\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p>The progressive difficulty with <span class=\"customMeta\" data-dictid=\"3820ba101416927771858fe257e119\">coordination</span> and balance in both siblings, along with the <span class=\"customMeta\" data-dictid=\"a191a950d7169277719148e72a75e2\">maternal</span> uncle's being affected, suggests Friedreich's <span class=\"customMeta\" data-dictid=\"0842a8a59f1692777182f44d334dda\">ataxia</span> (A repeat expansion of the <span class=\"customMeta\" data-dictid=\"74dd17aa171692777200dcc186c177\">trinucleotide</span> GAA (guanine-adenine-adenine), typically in the gene's first intron, is the leading cause of this disease) a pattern consistent with <strong>autosomal recessive</strong> inheritance. In this scenario, <strong>both parents are likely carriers</strong> of a <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> gene responsible for Friedreich's ataxia, and <strong>each sibling has inherited two copies of the <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> gene</strong>, resulting in the development of this disorder.</p>\n\n<p>\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"PL copyright\" data-source=\"NA\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/KPrN1K8Tm8HyitTzwksZ1736826368.png\" width=\"4167\" /></p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>Examples of autosomal <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> disorders:</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mnemonic</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Disease</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Pasta</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>P</strong>henylketonuria</li>\n\t\t\t\t<li><strong>A</strong>lkaptonuria</li>\n\t\t\t\t<li><strong>S</strong>ickle cell anemia</li>\n\t\t\t\t<li><strong>T</strong>halassemi<strong>a</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fried</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>F</strong>riedrich\u2019s ataxia:</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Chawal</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>C</strong>ystic fibrosis, <strong>C</strong>ongenital <span class=\"customMeta\" data-dictid=\"f955f012f716927771801d01e7d163\">adrenal</span> hyperplasia</li>\n\t\t\t\t<li><strong>H</strong>emophilia C, <strong>H</strong>omocystinuria, <strong>H</strong>emochromatosis</li>\n\t\t\t\t<li><strong>A</strong>lpha-1-antitrypsin deficiency</li>\n\t\t\t\t<li><strong>W</strong>ilson\u2019s disease</li>\n\t\t\t\t<li><strong>A</strong>lbinism</li>\n\t\t\t\t<li><strong>L</strong>ysosomal storage disorders, g<strong>l</strong>ycogen storage disorders</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>DNA repair defects</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Big</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>B</strong>loom syndrome</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fax</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>F</strong>anconi\u2019s anemia</li>\n\t\t\t\t<li><strong>A</strong>taxia telangiectasia</li>\n\t\t\t\t<li><strong>X</strong>eroderma pigmentosum</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>X-linked recessive\u00a0(Option C) </strong> is less likely because the sister is affected (females are usually carriers).</p>\n\n<p><strong>X-linked dominant\u00a0(Option B) </strong> and <strong>autosomal dominant (Option A)\u00a0</strong> are unlikely since <strong>parents are asymptomatic</strong>, and dominant conditions usually show up in at least one parent.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/KPrN1K8Tm8HyitTzwksZ1736826368.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/oblQGnCAyjAedTFYCttO1747209527.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/L6LrYapWv8fYFyoehpNK1747303030.mp3"
  },
  {
    "text": "<p>A 6-year-old boy presents to the clinic with complaints of muscle weakness and difficulty walking. His parents report a family history of similar symptoms. A detailed history was obtained, and a pedigree analysis was done, which is shown below. What is the most likely diagnosis and the inheritance pattern seen in this condition?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"PL copyright\" data-source=\"NA \" data-tags=\"\" height=\"767\" src=\"https://image.prepladder.com/content/eFWxdPoQyZm57EHLNk8F1736826486.png\" width=\"1000\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Dystonia myotonica, autosomal dominant"
      },
      {
        "id": 2,
        "text": "Dystonia myotonica, X-linked recessive"
      },
      {
        "id": 3,
        "text": "Duchenne muscular dystrophy, autosomal recessive"
      },
      {
        "id": 4,
        "text": "Duchenne muscular dystrophy, X-linked recessive"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>CORRECT ANSWER:</strong> <strong>D) Duchenne <span class=\"customMeta\" data-dictid=\"9e2d8a3f5a16927771932c2348ec52\">muscular</span> dystrophy, X-linked recessive</strong><br />\n\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<p>Duchenne <span class=\"customMeta\" data-dictid=\"9e2d8a3f5a16927771932c2348ec52\">muscular</span> <span class=\"customMeta\" data-dictid=\"04568e3d19169277718672d9da94fd\">dystrophy</span> is an X-linked <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> disease.</p>\n\n<p>\u00a0</p>\n\n<p>X-linked <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> disorders:</p>\n\n<ul>\n\t<li>Females (XX) are carriers.</li>\n</ul>\n\n<p>Males are <strong>affected</strong> by the disease.</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"PL copyright\" data-source=\"NA\" data-tags=\"\" height=\"384\" src=\"https://image.prepladder.com/content/WrD1WIEfJgDskM5Qag291736826522.png\" width=\"500\" /></p>\n\n<p>Examples of X-linked <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> disorders:</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mnemonic</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diseases</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Wise</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Wiskott-Aldrich syndrome</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>AB</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Hemophilia A, B</li>\n\t\t\t\t<li>Ocular albinism</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>B</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Bruton\u2019s agammaglobulinemia</li>\n\t\t\t\t<li>Becker <span class=\"customMeta\" data-dictid=\"9e2d8a3f5a16927771932c2348ec52\">muscular</span> dystrophy</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>C</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Chronic <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> disease</li>\n\t\t\t\t<li>Color <span class=\"customMeta\" data-dictid=\"cf284485b71692777183c57876bed2\">blindness</span> (Red-green)</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>D</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Duchenne <span class=\"customMeta\" data-dictid=\"9e2d8a3f5a16927771932c2348ec52\">Muscular</span> dystrophy</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>E</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Lesch Nyhan syndrome</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>F</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Fabry disease</li>\n\t\t\t\t<li>Fragile-X syndrome (X-linked <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> > X-linked recessive)</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>G</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>G-6-PD deficiency</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>H</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Hunter\u2019s disease</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/eFWxdPoQyZm57EHLNk8F1736826486.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/WrD1WIEfJgDskM5Qag291736826522.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/WhgSO7wRMn4MEkM53Pub1748355591.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/jzDsRCARUf9ZLXOBorYJ1748355685.mp3"
  },
  {
    "text": "<p>In which of the following conditions can you see this pedigree chart?</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"Prepladder\" data-source=\"NA\" data-tags=\"\" height=\"233\" src=\"https://image.prepladder.com/content/2Gx5FnuC6qHonoMTcuBE1737458368.png\" width=\"500\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Fabry disease"
      },
      {
        "id": 2,
        "text": "Albinism"
      },
      {
        "id": 3,
        "text": "Reye syndrome"
      },
      {
        "id": 4,
        "text": "Alport syndrome"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer:</strong> <strong>D) Alport syndrome</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>An <strong>affected male</strong> will transmit the disease to <strong>all his daughters</strong> but not sons.</li>\n\t<li>An <strong>affected female</strong> can transmit the disease to <strong>both daughters and sons.</strong></li>\n\t<li>Conditions with X-linked dominant inheritance:\n\t<ul>\n\t\t<li>Rett syndrome.</li>\n\t\t<li><strong>Alport syndrome</strong> (M/C <span class=\"customMeta\" data-dictid=\"3b632faa131692777190ac40c2f1ea\">inheritance</span> pattern is X-linked dominant).</li>\n\t\t<li>Vitamin D-resistant rickets.</li>\n\t\t<li>Incontinentia pigmenti.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>Fabry\u2019s disease (Option A)</strong> is X-linked <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> in inheritance.</li>\n\t<li><strong>Albinism (Option B) </strong>is autosomal <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> in <span class=\"customMeta\" data-dictid=\"3b632faa131692777190ac40c2f1ea\">inheritance</span> (ocular albinism: X-linked recessive)</li>\n\t<li><strong>Reye syndrome (Option C)</strong> is a rare but serious condition primarily affecting children and teenagers, characterized by <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"b37b211cbc169277718725f07b5473\">encephalopathy</span> and liver dysfunction, often following a <span class=\"customMeta\" data-dictid=\"5cc2d9fac616927772021889ee6d52\">viral</span> infection such as <span class=\"customMeta\" data-dictid=\"c3817918b816927771902d2176d0c8\">influenza</span> or chickenpox, and strongly associated with the use of <span class=\"customMeta\" data-dictid=\"deba671f4716927771828c95a320e5\">aspirin</span> during these infections.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/2Gx5FnuC6qHonoMTcuBE1737458368.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/S66OJyV2jmQw45Uf2go21748355840.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/OJWwROpmWHfFYq4cBidc1748355911.mp3"
  },
  {
    "text": "<p>Hairy pinna is associated with which type of Mendelian inheritance?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal dominant"
      },
      {
        "id": 2,
        "text": "X-linked recessive"
      },
      {
        "id": 3,
        "text": "Mitochondrial inheritance"
      },
      {
        "id": 4,
        "text": "Y-linked inheritance"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>CORRECT ANSWER:</strong> <strong>D)Y-linked inheritance</strong></p>\n\n<p><br />\n\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<p>\u00a0</p>\n\n<p>Hairy <span class=\"customMeta\" data-dictid=\"7aafd1d2571692777195e9d2250eab\">pinna</span> (hypertrichosis of pinna) is associated with Y-linked inheritance/ Holandric inheritance.</p>\n\n<p><strong>Other examples:</strong></p>\n\n<ul>\n\t<li>Webbed toes</li>\n\t<li>Porcupine man</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>The image below shows a <span class=\"customMeta\" data-dictid=\"064ecc6e2316927771956dc56b9ba4\">pedigree</span> chart of Y-linked inheritance. Only males are affected, and transmission occurs only to the sons.</p>\n\n<p>\u00a0</p>\n\n<p><img alt=\"\" data-author=\"Madibc68\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Wiki_Drawing_-_Y-Linked_%281%29.svg\" data-tags=\"\" height=\"249\" src=\"https://image.prepladder.com/content/btNeutDMDznHUBMKb4j81737458679.png\" width=\"500\" /></p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/btNeutDMDznHUBMKb4j81737458679.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/YisH7u8iyWNNDZXh3Jbs1748355957.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/OyyLXTxb8qNt9tBDdltT1748356032.mp3"
  },
  {
    "text": "<p>A 25-year-old male has been complaining of painless, progressive central vision loss in both eyes over the past few months. He reports a family history of similar visual problems, with his maternal grandfather and maternal uncle experiencing sudden vision loss in their 20s. On examination, the ophthalmologist notes bilateral optic disc pallor and central scotomas on visual field testing. The patient denies any systemic symptoms or significant medical history. What is the inheritance pattern seen in this condition?</p>",
    "choices": [
      {
        "id": 1,
        "text": ""
      },
      {
        "id": 2,
        "text": ""
      },
      {
        "id": 3,
        "text": ""
      },
      {
        "id": 4,
        "text": ""
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>CORRECT ANSWER:</strong>\u00a0D)</p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<p>\u00a0</p>\n\n<p>The clinical presentation, along with the family history of sudden vision loss in multiple <span class=\"customMeta\" data-dictid=\"a191a950d7169277719148e72a75e2\">maternal</span> relatives, is highly suggestive of <strong>Leber <span class=\"customMeta\" data-dictid=\"ee5175c06116927771880846d1cbe0\">hereditary</span> <span class=\"customMeta\" data-dictid=\"1b9a354cdb1692777194802683234d\">optic</span> <span class=\"customMeta\" data-dictid=\"2d9476094c16927771933bcb162f19\">neuropathy</span> (LHON)</strong>, a <strong>maternally inherited mitochondrial disorder</strong> affecting the <span class=\"customMeta\" data-dictid=\"1b9a354cdb1692777194802683234d\">optic</span> nerves.</p>\n\n<p>\u00a0</p>\n\n<p>Mitochondrial inheritance:</p>\n\n<ul>\n\t<li>A unique feature of mitochondrial DNA (mtDNA) is <strong>maternal inheritance.</strong></li>\n\t<li>This peculiarity exists because <strong>ova contain numerous mitochondria</strong> within their abundant cytoplasm, whereas <span class=\"customMeta\" data-dictid=\"b8de2260ef1692777199037ce4faf5\">spermatozoa</span> contain few, if any.</li>\n\t<li>Hence the mtDNA <span class=\"customMeta\" data-dictid=\"f0ff39a3fa1692777184cf743ca1e7\">complement</span> of the <span class=\"customMeta\" data-dictid=\"0052ecdccc1692777202bad37cc0f1\">zygote</span> is <strong>derived entirely from the ovum.</strong></li>\n\t<li>Thus, <strong>mothers transmit mtDNA to all their offspring</strong>, male and female.</li>\n\t<li>Father does <strong>not transmit</strong> mitochondrial DNA \u2192 none of his children affected</li>\n\t<li>Daughters transmit the DNA to their further progeny.</li>\n\t<li>Most common mitochondrial disease: <strong>MELAS, Leber <span class=\"customMeta\" data-dictid=\"ee5175c06116927771880846d1cbe0\">hereditary</span> <span class=\"customMeta\" data-dictid=\"1b9a354cdb1692777194802683234d\">optic</span> <span class=\"customMeta\" data-dictid=\"2d9476094c16927771933bcb162f19\">neuropathy</span> (LHON)</strong></li>\n</ul>\n\n<p>All generations of the family are affected in a vertical pattern with equal male and female involvement. Hence it shows autosomal dominant inheritance.(OPTION A)</p>\n\n<p>The mother has transmitted the <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> gene to both her son and daughter. But, in the second generation, the father has transmitted the disease only to females. Hence it shows an X-linked <span class=\"customMeta\" data-dictid=\"18e7ddb7841692777186f7e78b2206\">dominant inheritance</span> pattern.(OPTION B)</p>\n\n<p>The females are carriers in all generations, and only the males are affected by the disease. Hence, it shows an X-linked <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> <span class=\"customMeta\" data-dictid=\"3b632faa131692777190ac40c2f1ea\">inheritance</span> pattern.(OPTION C)</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/WjAgNRjASZkBcf48Bffg1748366638.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/5cj0P0pykCt3rHzrkHBh1748366713.mp3"
  },
  {
    "text": "<p>Which of the following statements regarding gonadal mosaicism is true?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "It is associated with autosomal recessive disorders."
      },
      {
        "id": 2,
        "text": "It occurs due to a pre-zygotic mutation during early embryonic development."
      },
      {
        "id": 3,
        "text": "It can be associated with osteogenesis imperfecta."
      },
      {
        "id": 4,
        "text": "It follows the laws of Mendelian inheritance."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>CORRECT ANSWER:</strong> <strong>C)It can be associated with <span class=\"customMeta\" data-dictid=\"aa5eaa8b7316927771940e3ae8dbe6\">osteogenesis</span> imperfecta.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<p>\u00a0</p>\n\n<p>The true statement regarding <span class=\"customMeta\" data-dictid=\"c99392c35e1692777188c8bcc977f8\">gonadal mosaicism</span> is that it can be associated with <span class=\"customMeta\" data-dictid=\"aa5eaa8b7316927771940e3ae8dbe6\">osteogenesis</span> imperfecta.</p>\n\n<p><strong>GONADAL MOSAICISM/GERMLINE MOSAICISM</strong></p>\n\n<ul>\n\t<li>The parent's <span class=\"customMeta\" data-dictid=\"8dc15ef09e1692777198320917e46b\">sperm</span> and <span class=\"customMeta\" data-dictid=\"53c2b1ed0f1692777194d5ef066e39\">ova</span> are genotypically normal.</li>\n\t<li>On the <span class=\"customMeta\" data-dictid=\"a7dfeb385e1692777203302bcf142d\">fusion</span> of normal <span class=\"customMeta\" data-dictid=\"8dc15ef09e1692777198320917e46b\">sperm</span> and normal ova, a normal <span class=\"customMeta\" data-dictid=\"0052ecdccc1692777202bad37cc0f1\">zygote</span> isformed.</li>\n\t<li>Post Zygotic <span class=\"customMeta\" data-dictid=\"7a67bdf6f81692777193cfd480f228\">mutation</span> results in the disease.</li>\n</ul>\n\n<p>Gonadal <span class=\"customMeta\" data-dictid=\"afec33b365169277719202aa2139c1\">mosaicism</span> can be seen in:</p>\n\n<ul>\n\t<li>Osteogenesis imperfecta.\u00a0</li>\n\t<li>Tuberous sclerosis.</li>\n\t<li>Achondroplasia</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/SmLl39UPLvIF9KKHbGoQ1748367037.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/bYDhm2ZLsBbwb83z5idL1748367152.mp3"
  },
  {
    "text": "<p>A 45-year-old woman has been newly diagnosed with breast cancer. Histopathological analysis of the tumour reveals invasive ductal carcinoma. Given the aggressive nature of her tumour, the oncologist wants to determine if the patient's cancer is HER2-positive. Which diagnostic method is most appropriate for detecting HER2/neu amplification in this patient?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Immunohistochemistry (IHC)"
      },
      {
        "id": 2,
        "text": "Fluorescence In Situ Hybridization (FISH)"
      },
      {
        "id": 3,
        "text": "Polymerase Chain Reaction (PCR)"
      },
      {
        "id": 4,
        "text": "Western Blotting"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>CORRECT ANSWER: B) <span class=\"customMeta\" data-dictid=\"da0e2a00fa1692777202d6e2054b26\">Fluorescence</span> <span class=\"customMeta\" data-dictid=\"96aaaa68ce1692777190096abe3c8a\">In Situ</span> <span class=\"customMeta\" data-dictid=\"7ac003b8c41692777189e14eda8f2d\">Hybridization</span> (FISH)</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>EXPLANATION:</strong></p>\n\n<ul>\n\t<li>FISH uses DNA probes that recognize sequences specific to particular chromosomal regions.</li>\n\t<li>In the case of HER2 testing, FISH directly visualizes HER2 gene <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> by labelling the HER2 gene with a <span class=\"customMeta\" data-dictid=\"df068e6efc16927772029693b5023e\">fluorescent</span> probe.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"3503\" src=\"https://image.prepladder.com/content/vUPRLbcaegcmA1oineqe1736827536.png\" width=\"4167\" /></p>\n\n<ul>\n\t<li>HER2 protein overexpression is virtually always caused by <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> of the region of <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 17q that contains the HER2 gene.</li>\n\t<li>The increase in HER2 gene <span class=\"customMeta\" data-dictid=\"061348eada16927771853267503805\">copy number</span> is detected by <span class=\"customMeta\" data-dictid=\"da0e2a00fa1692777202d6e2054b26\">fluorescence</span> <span class=\"customMeta\" data-dictid=\"96aaaa68ce1692777190096abe3c8a\">in situ</span> <span class=\"customMeta\" data-dictid=\"7ac003b8c41692777189e14eda8f2d\">hybridization</span> using a HER2-specific <span class=\"customMeta\" data-dictid=\"175eb86b5f16927771964d5ced6bf3\">probe</span> (red signal), which is typically co-hybridized to tumour cell <span class=\"customMeta\" data-dictid=\"e6b47028191692777193eb698e43b6\">nuclei</span> with a second <span class=\"customMeta\" data-dictid=\"175eb86b5f16927771964d5ced6bf3\">probe</span> specific for the centromeric region of <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 17 (green signal), allowing the <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 17 <span class=\"customMeta\" data-dictid=\"061348eada16927771853267503805\">copy number</span> to be determined.</li>\n\t<li>\n\t<p>Scoring / Interpretation:</p>\n\t</li>\n\t<li>\n\t<p>Positive (+1 / +2 / +3 or equivocal):</p>\n\n\t<ul>\n\t\t<li>\n\t\t<p>HER2/CEP17 ratio >2.0 \u2192 HER2 amplified \u2192 positive</p>\n\t\t</li>\n\t\t<li>\n\t\t<p>HER2/CEP17 ratio 1.8\u20132.0 \u2192 equivocal \u2192 repeat testing or IHC correlation</p>\n\t\t</li>\n\t\t<li>\n\t\t<p>HER2/CEP17 ratio <2.0 \u2192 negative</p>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>FISH can be used for testing:</strong>\n\n\t<ul>\n\t\t<li>Chromosomal translocations</li>\n\t\t<li>Deletions</li>\n\t\t<li>Amplifications</li>\n\t\t<li><strong>FISH cannot detect point mutations. </strong></li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><br />\n\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>Immunohistochemistry (IHC):<strong>(Option A)</strong></p>\n\n<p>IHC involves <span class=\"customMeta\" data-dictid=\"3b007026bd16927771997ae809b603\">staining</span> tissue samples with antibodies specific to HER2/neu protein. While widely used for HER2 testing, it does not directly measure gene amplification</p>\n\n<p>\u00a0</p>\n\n<p>Polymerase Chain Reaction (PCR)<strong>(Option C )</strong></p>\n\n<p>PCR amplifies DNA sequences, including the HER2 gene, from tumour samples. It can detect gene <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> but It is not commonly used for HER2 testing in breast cancer patients.</p>\n\n<p>\u00a0</p>\n\n<p>Western Blotting<strong>(Option D)</strong></p>\n\n<p>Western <span class=\"customMeta\" data-dictid=\"94d75664451692777183028ad73753\">blotting</span> detects specific proteins in a sample but does not directly measure gene amplification. It is not commonly used for HER2 testing in breast cancer patients.</p>\n\n<p><br />\n\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/vUPRLbcaegcmA1oineqe1736827536.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/26GPaXrm6No2Y8DqgxOG1748367307.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/BMuA5wF7LK5ijaQjlfVp1748367414.mp3"
  },
  {
    "text": "<p>A 35-year-old pregnant woman presents for prenatal screening due to advanced maternal age. She undergoes amniocentesis, and chromosome analysis is performed on the fetal cells to assess for chromosomal abnormalities<strong>. </strong>The results indicate Down syndrome.<strong> </strong>From the below chromosomal analysis, which of the following results is most likely associated with this case?</p>",
    "choices": [
      {
        "id": 1,
        "text": ""
      },
      {
        "id": 2,
        "text": ""
      },
      {
        "id": 3,
        "text": ""
      },
      {
        "id": 4,
        "text": ""
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>CORRECT ANSWER: B</strong></p>\n\n<p><strong>EXPLANATION:</strong> B demonstrates the result as <span class=\"customMeta\" data-dictid=\"5e54fdc4d3169277720003f231621d\">trisomy</span> of <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 21, as along with two normal chromosomes, one extra <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> is present, indicating <span class=\"customMeta\" data-dictid=\"5e54fdc4d3169277720003f231621d\">trisomy</span> 21 or Down\u2019s syndrome as a diagnosis.</p>\n\n<p>\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"U.S. Department of Energy Human Genome Program.\" data-hash=\"\" data-license=\"open Source - Public Domain\" data-source=\"https://commons.wikimedia.org/wiki/File:21_trisomy_-_Down_syndrome.png\" data-tags=\"\" height=\"3304\" src=\"https://image.prepladder.com/content/o5Mz4LBekgFM73qyiVAu1736828763.png\" width=\"4167\" /></p>\n\n<p>\u00a0</p>\n\n<p>TRISOMY 21: DOWN SYNDROME</p>\n\n<p>Karyotypes:</p>\n\n<p>Trisomy 21 type: 47,XX, +21</p>\n\n<p>Translocation type: 46,XX,der(14;21)(q10;q10),+21</p>\n\n<p>Mosaic type: 46,XX/47,XX, +21</p>\n\n<p>The given image represents a normal karyotype.\u00a0<strong>(Option A):\u00a0</strong></p>\n\n<p><img alt=\"\" data-author=\"Wyatt, Philip. \" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.researchgate.net/figure/Normal-male-karyotype-showing-46-chromosomes-including-an-X-and-Y_fig1_40689039\" data-tags=\"\" height=\"367\" src=\"https://image.prepladder.com/content/pzqceYh7ZyYzMi0MRK8L1737457273.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<p>The given image represents <span class=\"customMeta\" data-dictid=\"5e54fdc4d3169277720003f231621d\">trisomy</span> 18 \u2013 Edward syndrome <strong>(Option C)</strong></p>\n\n<p><img alt=\"\" data-author=\"Serra Amoros\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://en.wikipedia.org/wiki/Trisomy_18#/media/File:Trisomia_18.jpg\" data-tags=\"\" height=\"306\" src=\"https://image.prepladder.com/content/L7IY9DWhv1kO8DE2RhAx1737457128.png\" width=\"500\" /></p>\n\n<p>The given image represents two X chromosomes and one Y <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> \u2013 Klinefelter\u2019s syndrome <strong>(Option D)</strong></p>\n\n<p>\u00a0</p>\n\n<p><img alt=\"\" data-author=\"Nami ja\" data-hash=\"\" data-license=\"Open Source - Public Domain\" data-source=\"https://en.wikipedia.org/wiki/Klinefelter_syndrome#/media/File:Human_chromosomesXXY01.png\" data-tags=\"\" height=\"369\" src=\"https://image.prepladder.com/content/cBQW537osTuYW0cLx8eg1737457035.png\" width=\"500\" /></p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/o5Mz4LBekgFM73qyiVAu1736828763.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/hJvVpCWRi78mB2w55gNI1748367477.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/uU2DQiNHd9jRvJjxyWfJ1748367542.mp3"
  },
  {
    "text": "<p>In a cytogenetics laboratory, a technician is tasked with preparing chromosomes obtained from a patient's blood sample for analysis under a light microscope. The patient has been experiencing unexplained developmental delays, and the physician suspects a potential chromosomal abnormality. To aid in the identification and analysis of individual chromosomes, which technique will the technician employ to produce distinct banding patterns?</p>",
    "choices": [
      {
        "id": 1,
        "text": "G-banding"
      },
      {
        "id": 2,
        "text": "C-banding"
      },
      {
        "id": 3,
        "text": "Q-banding"
      },
      {
        "id": 4,
        "text": "R-banding"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct answer: A) G-banding </strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>G-banding involves <span class=\"customMeta\" data-dictid=\"3b007026bd16927771997ae809b603\">staining</span> chromosomes with Giemsa dye, which results in characteristic dark and light bands along the length of each chromosome.</p>\n\n<ul>\n\t<li>\n\t<p><strong>G-banding</strong> is the most widely used <span class=\"customMeta\" data-dictid=\"2878159c181692777185d495ce6244\">cytogenetic</span> technique to <span class=\"customMeta\" data-dictid=\"67407c787d1692777202245c791c31\">visualize</span> <strong>distinct <span class=\"customMeta\" data-dictid=\"14a6f814ea1692777182619ddd636c\">banding</span> patterns</strong> on chromosomes. It helps in:</p>\n\t</li>\n\t<li>\n\t<p><strong>Identifying individual chromosomes</strong></p>\n\t</li>\n\t<li>\n\t<p><strong>Detecting structural abnormalities</strong> (e.g., deletions, duplications, translocations)</p>\n\t</li>\n\t<li>\n\t<p><strong>Diagnosing chromosomal disorders</strong> <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to developmental delays</p>\n\t</li>\n\t<li>\n\t<p>It allows <span class=\"customMeta\" data-dictid=\"856149f6931692777190f9c81409c5\">karyotyping</span> with high accuracy.</p>\n\t</li>\n\t<li>\n\t<p>Each <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> has a <strong>unique <span class=\"customMeta\" data-dictid=\"14a6f814ea1692777182619ddd636c\">banding</span> pattern</strong>, making it easier to detect abnormalities like trisomy, deletions, or rearrangements</p>\n\t</li>\n</ul>\n\n<p>C-banding\u00a0<strong>(Option B)</strong> selectively stains the centromeric regions\u00a0</p>\n\n<p>Q-banding <strong>(Option C)\u00a0</strong>also known as quinacrine staining, involves <span class=\"customMeta\" data-dictid=\"3b007026bd16927771997ae809b603\">staining</span> chromosomes with quinacrine mustard, which fluoresces under <span class=\"customMeta\" data-dictid=\"84608ab7f91692777201521a0fdc0b\">ultraviolet</span> light\u00a0</p>\n\n<p>R-banding <strong>(Option D)\u00a0</strong>or reverse banding, is the reverse of G-banding<strong>.\u00a0</strong>it produces light bands where G-banding shows dark, and vice versa.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/qQqEPjvJseoi5BcqvqIX1748367640.mp3",
    "explanation_audio_hin": ""
  },
  {
    "text": "<p>Which steps are NOT involved in the Polymerase Chain Reaction (PCR) process?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Denaturation"
      },
      {
        "id": 2,
        "text": "Annealing"
      },
      {
        "id": 3,
        "text": "Amplification"
      },
      {
        "id": 4,
        "text": "Ligation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer</strong>:<strong> D) Ligation</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Polymerase Chain Reaction (PCR) involves three main steps:</p>\n\n<ol>\n\t<li>Denaturation, where the DNA double-strand separates into two single strands at 94 degrees Celsius.</li>\n\t<li>Annealing, where primers bind to the target DNA sequence at 54 degrees Celsius.</li>\n\t<li>Amplification, where DNA <span class=\"customMeta\" data-dictid=\"d419920a6616927771969805c3d65d\">polymerase</span> extends the primers to replicate the target sequence at 72 degrees Celsius.</li>\n</ol>\n\n<ul>\n\t<li>Ligation, which is the process of joining DNA fragments together, is not a step in PCR.</li>\n\t<li>Multiplex Ligation-dependent Probe Amplification in which <span class=\"customMeta\" data-dictid=\"dcfb6667ee1692777191f00c3df2df\">ligation</span> is done</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/xkBivYOZDdG2ZcGb6RgV1748367845.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Q5Tk9f0PHFOOM1mns1Jp1748367908.mp3"
  },
  {
    "text": "<p>A 35-year-old female undergoes genetic testing due to a family history of Cystic Fibrosis. The test reveals a suspected deletion in the CFTR gene. Which technique is most suitable for confirming large deletions or duplications in the CFTR gene?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Polymerase Chain Reaction (PCR)"
      },
      {
        "id": 2,
        "text": "Comparative Genomic Hybridization (CGH)"
      },
      {
        "id": 3,
        "text": "Multiplex Ligation Dependent Probe Amplification (MLPA)"
      },
      {
        "id": 4,
        "text": "Sanger sequencing"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer:</strong> <strong>C) Multiplex <span class=\"customMeta\" data-dictid=\"dcfb6667ee1692777191f00c3df2df\">Ligation</span> Dependent <span class=\"customMeta\" data-dictid=\"175eb86b5f16927771964d5ced6bf3\">Probe</span> <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">Amplification</span> (MLPA)</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Multiplex <span class=\"customMeta\" data-dictid=\"dcfb6667ee1692777191f00c3df2df\">Ligation</span> Dependent <span class=\"customMeta\" data-dictid=\"175eb86b5f16927771964d5ced6bf3\">Probe</span> <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">Amplification</span> (MLPA) is a molecular technique specifically designed for detecting <span class=\"customMeta\" data-dictid=\"061348eada16927771853267503805\">copy number</span> variations (CNVs), including large deletions or duplications in genes such as CFTR. It involves using multiple probes to target specific genomic regions, followed by <span class=\"customMeta\" data-dictid=\"dcfb6667ee1692777191f00c3df2df\">ligation</span> and amplification, allowing for the quantification and identification of CNVs.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<ul>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/TfQsQKAypwFzhjOkgRFc1748367992.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/FWA0IseLJGKebyTWTKCB1748368046.mp3"
  },
  {
    "text": "<p>A researcher wants to analyze gene expression levels in a sample using a PCR technique that quantifies the amount of DNA produced after each amplification cycle. Which type of PCR is most suitable for this purpose?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Real-time PCR"
      },
      {
        "id": 2,
        "text": "Nested PCR"
      },
      {
        "id": 3,
        "text": "Reverse Transcription PCR (RT-PCR)"
      },
      {
        "id": 4,
        "text": "Multiplex PCR"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer:</strong> <strong>A) <span class=\"customMeta\" data-dictid=\"9ddd195e9a1692777197bb3f135c2e\">Real-time</span> <span class=\"customMeta\" data-dictid=\"fa67319b42169277719498abc93db6\">PCR</span> </strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Types of PCR:</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\">\n\t\t\t<p><strong>Type of PCR</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:bottom\">\n\t\t\t<p><strong>Characteristics</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p><strong>Real-time <span class=\"customMeta\" data-dictid=\"fa67319b42169277719498abc93db6\">PCR</span> (qPCR) (Option A)</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<ul>\n\t\t\t\t<li>Quantitative measurement of DNA <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> in real-time.</li>\n\t\t\t\t<li>Allows for <span class=\"customMeta\" data-dictid=\"e90d7fdd7316927771880df273d8ef\">gene expression</span> analysis, <span class=\"customMeta\" data-dictid=\"5cc2d9fac616927772021889ee6d52\">viral</span> load determination, and <span class=\"customMeta\" data-dictid=\"ef5cb829b8169277719603304e73cb\">quantitative</span> DNA/RNA analysis.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p><strong>Nested <span class=\"customMeta\" data-dictid=\"fa67319b42169277719498abc93db6\">PCR</span> (Option B)</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<ul>\n\t\t\t\t<li>Two rounds of <span class=\"customMeta\" data-dictid=\"fa67319b42169277719498abc93db6\">PCR</span> <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> using two sets of primers.</li>\n\t\t\t\t<li>Improves <span class=\"customMeta\" data-dictid=\"e70dd3ea9916927771988faba61d64\">specificity</span> and sensitivity compared to conventional PCR.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p><strong>PCR (RT-PCR) (Option C)</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<ul>\n\t\t\t\t<li>Enables <span class=\"customMeta\" data-dictid=\"e90d7fdd7316927771880df273d8ef\">gene expression</span> analysis by amplifying <span class=\"customMeta\" data-dictid=\"cc65bdc03f169277719726a675e8a7\">RNA</span> targets.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"4\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p><strong>Multiplex <span class=\"customMeta\" data-dictid=\"fa67319b42169277719498abc93db6\">PCR</span> (Option D)</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"4\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<ul>\n\t\t\t\t<li>Simultaneous <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> of multiple DNA targets in a single reaction.</li>\n\t\t\t\t<li>Reduces time and cost by amplifying multiple targets together.</li>\n\t\t\t\t<li>Highly accurate for determining <span class=\"customMeta\" data-dictid=\"e90d7fdd7316927771880df273d8ef\">gene expression</span> levels, <span class=\"customMeta\" data-dictid=\"5cc2d9fac616927772021889ee6d52\">viral</span> load, and <span class=\"customMeta\" data-dictid=\"061348eada16927771853267503805\">copy number</span> variations.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p><strong>Digital PCR</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<ul>\n\t\t\t\t<li>Divides the sample into thousands of individual reactions, allowing for absolute quantification of DNA targets.</li>\n\t\t\t\t<li>Provides high <span class=\"customMeta\" data-dictid=\"55748e259a169277719699c6638990\">precision</span> and sensitivity for rare target detection.</li>\n\t\t\t\t<li>Used in rare <span class=\"customMeta\" data-dictid=\"88c5dcbf0a1692777181e199712f81\">allele</span> detection, <span class=\"customMeta\" data-dictid=\"061348eada16927771853267503805\">copy number</span> variation analysis, and precise quantification of nucleic acids.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<p><strong>Hot Start PCR</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #0d0d0d; border-left:1px solid #0d0d0d; border-right:1px solid #0d0d0d; border-top:1px solid #0d0d0d; vertical-align:middle\">\n\t\t\t<ul>\n\t\t\t\t<li>Minimizes non-specific <span class=\"customMeta\" data-dictid=\"13e14b31b21692777181520d7c651c\">amplification</span> and primer-dimer formation by activating the <span class=\"customMeta\" data-dictid=\"59b270e4eb1692777186cf05589eda\">DNA polymerase</span> after an initial <span class=\"customMeta\" data-dictid=\"4b8ccd7c3516927771851fdaee3f80\">denaturation</span> step.</li>\n\t\t\t\t<li>Prevents background noise and <span class=\"customMeta\" data-dictid=\"b0151941a0169277720265b58da84e\">false-positive</span> results.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/CnEXjXPlilDxWlurj2ne1748369566.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/lxX4PDMxCH3hOYGbyP5z1748369694.mp3"
  },
  {
    "text": "<p>Arrange the following steps of karyotyping in the correct sequence:</p>\n\n<ol>\n\t<li>Staining/Banding</li>\n\t<li>Sample collection</li>\n\t<li>Fixative</li>\n\t<li>Arrangement of chromosomes</li>\n\t<li>Arrest</li>\n\t<li>Interpretation</li>\n</ol>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "2, 5, 3, 1, 4, 6"
      },
      {
        "id": 2,
        "text": "2, 3, 5, 1, 4, 6"
      },
      {
        "id": 3,
        "text": "1, 2, 3, 5, 4, 6"
      },
      {
        "id": 4,
        "text": "3, 5, 2, 4, 1, 6"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) 2, 5, 3, 1, 4, 6</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p><strong>Karyotyping</strong> is the study of chromosomes.</p>\n\n<ol>\n\t<li><strong>Sample collection: </strong></li>\n</ol>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:482px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Patient type </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Sample type </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Pregnant woman</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Amniocentesis</li>\n\t\t\t\t<li>Chorionic <span class=\"customMeta\" data-dictid=\"838d2bdb8516927772023871643ffb\">villous</span> sampling</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>10 year old boy</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Lymphocyte blood sample (preferred)</li>\n\t\t\t\t<li>Fibroblast skin sample</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>2.Arrest:</strong> It is carried out in <strong>metaphase</strong> using <strong>colchicine.</strong></p>\n\n<p><strong>3.Fixative:</strong> Using <strong>Carnoy fixative</strong> (Methanol: Glacial <span class=\"customMeta\" data-dictid=\"0dd11cf9621692777180830d7825b2\">acetic</span> acid in <strong>3:1 ratio</strong>)</p>\n\n<p><strong>4.Staining/ Banding:</strong> <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">Chromosome</span> has dark (AT nucleotides rich) and light (CG nucleotides rich) bands.</p>\n\n<p><strong>5.Arrangement of Chromosomes: </strong></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>According to length in <span class=\"customMeta\" data-dictid=\"0cf8ac70611692777186b133d027f6\">descending</span> order.</li>\n\t<li>Shortest <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> is <span class=\"customMeta\" data-dictid=\"7157c1f59916927771846116d74646\">chromosome</span> 21.</li>\n</ul>\n\n<p><strong>6. Interpretations:\u00a0</strong></p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:668px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Trisomy 21</strong></p>\n\n\t\t\t<p>(Down\u2019s syndrome)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"\" data-author=\"U.S. Department of Energy Human Genome Program.\" data-hash=\"\" data-license=\"open Source - Public Domain\" data-source=\"https://commons.wikimedia.org/wiki/File:21_trisomy_-_Down_syndrome.png\" data-tags=\"\" height=\"396\" src=\"https://image.prepladder.com/content/WkgMgzEpPcDSRITsLHMh1737456509.png\" width=\"500\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Trisomy 18</strong></p>\n\n\t\t\t<p>(Edwards syndrome)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"\" data-author=\"Serra Amoros\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://en.wikipedia.org/wiki/Trisomy_18#/media/File:Trisomia_18.jpg\" data-tags=\"\" height=\"306\" src=\"https://image.prepladder.com/content/NoS67fqdKzgGaEZJUOHF1737456370.png\" width=\"500\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>47 XXY</strong></p>\n\n\t\t\t<p>(Klinefelter syndrome)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"\" data-author=\"Nami ja\" data-hash=\"\" data-license=\"Open Source - Public Domain\" data-source=\"https://en.wikipedia.org/wiki/Klinefelter_syndrome#/media/File:Human_chromosomesXXY01.png\" data-tags=\"\" height=\"369\" src=\"https://image.prepladder.com/content/QzIlhPaL2Q2lZACyrdiV1737456644.png\" width=\"500\" /></td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/WkgMgzEpPcDSRITsLHMh1737456509.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/nKs8tpD1fzRFHdZsnYE51748370086.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/485IaQ3UNzY0goohAN9C1748370186.mp3"
  }
];
        let quizName = '12 Diagnosis Of Genetic Disorders And Miscellaneous';
        const quizFilename = '12-diagnosis-of-genetic-disorders-and-miscellaneous-f72d54a5.html';
        let hierarchy = ["PrepLadder", "qBank", "Pathology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>