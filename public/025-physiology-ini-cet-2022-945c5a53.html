<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>025 Physiology Ini-Cet 2022 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Physiology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">31</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which physiological adaptation does not happen at high altitudes?",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary vasoconstriction"
      },
      {
        "id": 2,
        "text": "Polycythemia"
      },
      {
        "id": 3,
        "text": "Respiratory acidosis"
      },
      {
        "id": 4,
        "text": "Hypoxia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The physiological adaptation that does not happen at high altitudes is respiratory acidosis<strong>. Respiratory alkalosis\u00a0</strong>is the physiological adaptation seen at high altitudes due to hyperventilation. It is a method of acclimatization. Compensatory mechanisms that are carried out to increase altitude tolerance are called <strong>acclimatization</strong>.\u00a0</p>\n<p>Following are the physiological changes that occur during acclimatization:</p>\n<ul>\n<li aria-level=\"1\"><strong>Hyperventilation leads</strong> to\u00a0<strong>respiratory alkalosis</strong>\u00a0and\u00a0<strong>shift</strong>\u00a0of the\u00a0<strong>oxygen\u2013hemoglobin dissociation curve</strong>\u00a0to the\u00a0<strong>left</strong>\u00a0(and shifts to right after aclimitization)<strong>.</strong></li>\n<li aria-level=\"1\"><strong>Increased erythropoietin</strong>\u00a0secretion, leading to an increase in circulating red blood cells</li>\n<li aria-level=\"1\">Increased number of mitochondria</li>\n<li aria-level=\"1\">Increased myoglobin to facilitate the movement of O2 into the tissues.</li>\n<li aria-level=\"1\">Increased tissue cytochrome oxidase</li>\n<li aria-level=\"1\">Increased sympathetic tone</li>\n<li aria-level=\"1\">Renal suppression of carbonic anhydrase and excretion of dilute alkaline urine brings the pH of the blood to normal.</li>\n<li aria-level=\"1\">Decreased maximal exercise capacity (by ~1% for every 100 meters gained above 1500 meters)\u00a0</li>\n</ul>\n<p>Other options:</p>\n<p>Option A-\u00a0In response to the high altitude hypoxia, <strong>pulmonary vasoconstriction</strong> occurs due to which blood flow is distributed where it is most effective, leading to distribution of blood flow to the pulmonary areas in proportion to their alveolar O2 pressures.</p>\n<p>Option B-\u00a0<strong>Polycythemia </strong>-\u00a0Erythropoietin secretion increases on the ascent to high altitude which results in polycythemia</p>\n<p>Option D-\u00a0<strong>Hypoxia\u00a0</strong>- Total barometric pressure decreases as altitude increases, resulting in <strong>decreased\u00a0Po<sub>2</sub></strong>\u00a0(partial pressure of oxygen) leading to <strong>hypoxic hypoxia</strong>.\u00a0<br /><br /><br /></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Countercurrent mechanism is present in which of the following parts of the body?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2 are correct"
      },
      {
        "id": 2,
        "text": "1,2,3 are correct"
      },
      {
        "id": 3,
        "text": "1,2,3,4,5 are correct"
      },
      {
        "id": 4,
        "text": "2,3,4,5 are correct"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The countercurrent mechanism is used in the <strong>villi</strong> to decrease the oxygen availability for local metabolic reactions of the gut. Hence this will <strong>increase the blood flow</strong> in the intestine during gastrointestinal activity.</p>\n<p>Countercurrent exchange of <strong>oxygen</strong> is seen in the <strong>lungs</strong> as well.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b46080f7e2ea48f7ba2e86503c9c41b0x1280x1806.JPEG"
    ]
  },
  {
    "text": "Match the following molecules with their carriers in plasma:",
    "choices": [
      {
        "id": 1,
        "text": "1-b, 2-c, 3-d, 4-a"
      },
      {
        "id": 2,
        "text": "1-a, 2-b, 3-c 4-d"
      },
      {
        "id": 3,
        "text": "1-a, 2-d, 3-b 4-c"
      },
      {
        "id": 4,
        "text": "1-b, 2-c, 3-a, 4-d"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<table style=\"width: 371px; border-color: #080707;\" border=\"1\">\n<tbody>\n<tr style=\"height: 43.1953px;\">\n<td style=\"width: 186.641px; height: 43.1953px;\">Molecules</td>\n<td style=\"width: 186.359px; height: 43.1953px;\">Carriers</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 186.641px; height: 18px;\">Thyroxine</td>\n<td style=\"width: 186.359px; height: 18px;\">Prealbumin</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 186.641px; height: 18px;\">Free fatty acid</td>\n<td style=\"width: 186.359px; height: 18px;\">Albumin</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 186.641px; height: 18px;\">Hemoglobin</td>\n<td style=\"width: 186.359px; height: 18px;\">Haptoglobin</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 186.641px; height: 18px;\">Heme</td>\n<td style=\"width: 186.359px; height: 18px;\">Hemopexin</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;Plasma&nbsp;contains various components like ions, inorganic and organic molecules which help in the transport of substances across various parts of the body. <strong>Albumin, globulin</strong>, and <strong>fibrinogen </strong>fractions are important plasma proteins. Some of the plasma proteins act as antibodies and are also concerned with blood clotting. Where some others are non-specific carriers of hormones, drugs, and other solutes. Majority of&nbsp;plasma proteins are synthesized in the<strong> liver.</strong>&nbsp;The above table shows some of the proteins synthesized by the liver and the molecules they carry.&nbsp;</p>\n<p>Thyroxine is carried by thyroid-binding <strong>pre-albumin</strong> which is also known as <strong>transthyretin.</strong></p>\n<p><strong> Albumin</strong> is a carrier protein as well as an osmotic regulator which carries hormones, amino acids, vitamins, and steroids too.&nbsp;</p>\n<p><strong>Hemopexin&nbsp;</strong>binds with heme, particularly for heme recycling.&nbsp;</p>\n<p><strong>Haptoglobin</strong> binds to free <strong>hemoglobin</strong> and prevents its excretion in urine.Hence, haptoglobin levels decrease in the presence of free hemoglobin as seen in hemolytic anemia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Myosin ceases to be in contact with actin filaments as a result of:",
    "choices": [
      {
        "id": 1,
        "text": "Dissociation of ADP and Pi"
      },
      {
        "id": 2,
        "text": "Cessation of calcium release from sarcoplasm"
      },
      {
        "id": 3,
        "text": "Conformational change in Troponin T"
      },
      {
        "id": 4,
        "text": "Attachment of ATP to myosin head"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Muscle contraction occurs by sliding of thin filament over thick filament. The sequence of events are as follows:&nbsp;</p>\n<ul>\n<li><strong>&nbsp;Troponin I</strong> is bound to actin and tropomyosin and <strong>covers</strong> the sites where <strong>actin</strong> interacts with myosin heads in a resting muscle. The myosin head contains tightly bound adenosine phosphate (ADP) and inorganic phosphate (Pi).</li>\n<li>Following an action potential,<strong> cytosolic Ca2+</strong> is <strong>increased</strong> due to the Ca2+ released from the sarcoplasmic reticulum.&nbsp; Simultaneously&nbsp;Ca2+ influx happens through voltage-gated Ca2+ channels too.&nbsp;</li>\n<li>The <strong>free Ca2+</strong> binds with&nbsp;<strong>troponin C</strong>. This binding will weaken the troponin I interaction with actin and <strong>exposes</strong> the <strong>actin-binding site</strong> for myosin.</li>\n<li>This results in the formation of myosin-actin <strong>cross-bridges</strong>.</li>\n<li>The&nbsp;cross-bridge between the head of the myosin and the active site of the actin causes a <strong>conformational change</strong> in the head and the&nbsp;<strong>power stroke</strong>&nbsp;occurs,&nbsp;moving the thin filament relative to the thick filament.&nbsp;</li>\n<li>Once the head of the cross-bridge tilts, the&nbsp;<strong>ADP and phosphate</strong>&nbsp;ion that were previously attached to the head are&nbsp;<strong>released</strong>&nbsp;and a new ATP molecule can bind in that place.</li>\n<li>The <strong>binding </strong>of the new <strong>ATP</strong> molecule&nbsp;to the free site on the <strong>myosin</strong> causes&nbsp;<strong>detachment </strong>of the <strong>head </strong>of the myosin&nbsp;from the actin.&nbsp;</li>\n<li><strong>ATP</strong> is <strong>hydrolyzed</strong> and Pi released, causing a <strong>re-cocking</strong>&nbsp;of the myosin head and completing the cycle.&nbsp;</li>\n</ul>\n<div class=\"page\" title=\"Page 116\">&nbsp;</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a3c27f19b832464d939cbafcfab1208ax1280x2133.JPEG"
    ]
  },
  {
    "text": "Transport of iron into enterocytes is done by which of the following proteins:",
    "choices": [
      {
        "id": 1,
        "text": "Transferrin"
      },
      {
        "id": 2,
        "text": "Ferroportin"
      },
      {
        "id": 3,
        "text": "Hepcidin"
      },
      {
        "id": 4,
        "text": "Divalent metal transporter - 1"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Heme iron is moved across the apical membrane into the cytoplasm through <strong>heme transporters</strong>.</p>\n<p>In the duodenal cells, Fe<sup>2+</sup> iron can follow one of two pathways: transport to the blood or storage as mucosal iron. The nonstorage form of Fe<sup>2+</sup> iron is transported from the cytoplasm into circulation by the protein <strong>ferroportin&nbsp;</strong>(Option B).</p>\n<p>Once in circulation, Fe<sup>2+</sup> is again oxidized back to Fe<sup>3+</sup> iron by <strong>hephaestin</strong> and <strong>ceruloplasmin</strong>. The newly absorbed Fe<sup>3+</sup> iron binds rapidly to <strong>transferrin&nbsp;</strong>(Option A), which delivers iron to red cell progenitors in the marrow.</p>\n<p><strong>Hepcidin&nbsp;</strong>(Option C), is a protein secreted from the liver that plays a major role in the regulation of iron absorption. When the body&rsquo;s iron stores are adequate, it downregulates the expression of ferroportin and thereby decreases iron absorption.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b05574808efc4a0780f7afd696181bb0x1279x1210.JPEG"
    ]
  },
  {
    "text": "Vessel A has a length of L and diameter of D and vessel B has 2L and 2D. Considering the flow is laminar through both the cylinders, the flow through B is how many times as much as the flow through A?",
    "choices": [
      {
        "id": 1,
        "text": "4 times"
      },
      {
        "id": 2,
        "text": "8 times"
      },
      {
        "id": 3,
        "text": "16 times"
      },
      {
        "id": 4,
        "text": "32 times"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Flow through B will be <strong>8 times&nbsp;</strong>more than the flow through A.&nbsp;</p>\n<p style=\"text-align: left;\">According to <strong>Poiseuille&nbsp;Hagen formula,</strong></p>\n<p style=\"text-align: left;\"><strong>F=&nbsp;&Delta;P x&nbsp;</strong><span class=\"texhtml mvar\"><strong>&pi;/8 x 1/n x r<sup>4</sup>/L&nbsp;</strong><br /></span></p>\n<p style=\"text-align: left;\">F = flow</p>\n<p style=\"text-align: left;\">&Delta;P =&nbsp;pressure difference between two ends of the tube</p>\n<p style=\"text-align: left;\">&eta; = viscosity</p>\n<p style=\"text-align: left;\">r = radius of the tube</p>\n<p style=\"text-align: left;\">L = length of the tube</p>\n<p style=\"text-align: left;\">Hence flow directly varies to the 4th power of radius and inversely varies to length.&nbsp;</p>\n<p style=\"text-align: left;\">Flow through B = (2r)<sup>4</sup>/2L = <strong>8 times&nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2d8575d05f49484681456d13ea3cc05a.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "If the pH is reduced from 7.4 to 7.3 with the PO2 being constant at 100 mmHg, which line would PCO2 follow?",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the question image, only <strong>line 1</strong> has been <strong>shifted </strong>to the<strong> left</strong> and has a <strong>different</strong> point of <strong>intersection</strong>&nbsp;on x-axis compared to other lines. Therefore, line 1 is the answer.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/79dbea08008743ad8998fb51030aa71e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eba007690fae4fa4a8f8684df420453ax1020x972.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c973df7cb21f4fbca5c9638cc4e17f3bx1020x1002.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7e7b37131df345b6872614b425465647x1280x1130.JPEG"
    ]
  },
  {
    "text": "Substances and the type of transport across a membrane are given below, choose the correct combination:",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2 are correct"
      },
      {
        "id": 2,
        "text": "1, 2, and 4 are correct"
      },
      {
        "id": 3,
        "text": "1, 2, 3, 4, and 5  are correct"
      },
      {
        "id": 4,
        "text": "1, 2, and 5 are correct"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>5)<strong>Active transport</strong> - Transporting of substances <strong>against</strong> the gradients, and requires energy. Ca2+ ATPase that pumps out <strong>calcium</strong> out of the cells is an example.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f0941e4fba2d41b1b3d7366a52269fe3x1280x1057.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1e39cd526e184e4fbe13680c4237ad48x1280x1135.JPEG"
    ]
  },
  {
    "text": "A and B in the graph below represent which of the following ions, in terms of permeability for action potential generation?",
    "choices": [
      {
        "id": 1,
        "text": "A is Na+,  B is K+"
      },
      {
        "id": 2,
        "text": "A is Na+,  B is Ca2+"
      },
      {
        "id": 3,
        "text": "A is K+, B is Ca2+"
      },
      {
        "id": 4,
        "text": "A is Ca2+, B is K+"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the given graph, showing action potential generation in terms of ion permeability, wave<strong> A</strong> represents&nbsp;<strong>Na+</strong> and <strong>B</strong> represents<strong>&nbsp;K+</strong>.&nbsp;</p>\n<p>The sequence of events during the action potential&nbsp;occurs in 7 steps as described below.</p>\n<p>1.&nbsp;Resting-state -&nbsp;<strong>Both channels</strong> are<strong> closed</strong></p>\n<p>2.&nbsp;<strong>Na+ channels open</strong>&nbsp;in response to depolarizing stimulus. Sodium enters the cell. The membrane reaches&nbsp;<strong>threshold potential.</strong></p>\n<p>3. The sodium influx causes the&nbsp;<strong>opening </strong>of more&nbsp;<strong>Na+ </strong><strong>channels</strong>&nbsp;through a&nbsp;<strong>positive feedback</strong>&nbsp;mechanism.&nbsp;<strong>Rapid depolarization</strong>&nbsp;occurs.</p>\n<p>4. Sodium conductance decreases.</p>\n<p>5. <strong>Na+</strong> channels<strong> close</strong> and&nbsp;<strong>K+</strong> channels<strong> open</strong>.&nbsp;<strong>Repolarization</strong>&nbsp;occurs.</p>\n<p>6.&nbsp;<strong>Sodium</strong>&nbsp;channels are&nbsp;<strong>reset</strong>, and are ready to respond to another depolarizing stimulus (<strong>relative refractory period</strong>). During this phase, the&nbsp;<strong>potassium</strong>&nbsp;channels remain open and&nbsp;<strong>slowly return</strong> to <strong>closed</strong>&nbsp;state causing&nbsp;<strong>after-hyperpolarization</strong>.</p>\n<p>7. Both channels are closed. The membrane returns to&nbsp;<strong>RMP</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2cdbf488d5ce48fa8621aa6d10c499b0.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b7ddca57aa114fca80bfea1841dd7ebbx1279x1402.JPEG"
    ]
  },
  {
    "text": "Transcutaneous electrical nerve stimulation (TENS)  is used to relieve pain. What is the mechanism behind it?",
    "choices": [
      {
        "id": 1,
        "text": "Gate control theory"
      },
      {
        "id": 2,
        "text": "Conditioned pain modulation"
      },
      {
        "id": 3,
        "text": "Descending inhibition"
      },
      {
        "id": 4,
        "text": "Central inhibition"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Gate theory of pain</strong>&nbsp;is the mechanism behind <strong>t</strong><strong>ranscutaneous electrical nerve stimulation</strong>&nbsp;(TENS).&nbsp;This method uses electrodes to activate <strong>A&alpha;</strong> and <strong>A&beta; fibres</strong> near the injury to relieve pain.<br />At the site of sensory afferent termination, transmission in <strong>nociceptive pathways</strong> can be interrupted. This is done by the actions within the <strong>dorsal horn of the spinal cord</strong>. Pain subsiding when the site of injury is rubbed or shook is an example. Afferents of&nbsp;<strong>innocuous cutaneous mechanoreceptors</strong> emit collaterals that terminate in the dorsal horn. The responsiveness of dorsal horn neurons&nbsp;to their input from nociceptive afferent terminals is reduced by these afferents This is called the gate-control mechanism of pain modulation.&nbsp;</p>\n<p>The given image depicts the gate control theory of pain:</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/81e48c4d7b954e899057161ac1260a5dx1280x1288.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8bb8f0c4dcf040c490e944165210d3e5x1280x1131.JPEG"
    ]
  },
  {
    "text": "The parents notice that their child is tired and that he has shortness of breath on climbing stairs and while lying down. What is the first investigation that you would do?",
    "choices": [
      {
        "id": 1,
        "text": "Echocardiogram"
      },
      {
        "id": 2,
        "text": "Chest x-ray"
      },
      {
        "id": 3,
        "text": "Spirometry"
      },
      {
        "id": 4,
        "text": "MRI to rule out enlarged heart"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The first investigation to be done for a child who feels shortness of breath on climbing stairs and in the supine position is a <strong>chest x-ray</strong>.</p>\n<p>The child having shortness of breath on climbing stairs is known as <strong>dyspnea on exertion</strong>. The most common cause is <strong>congestive heart failure</strong>.&nbsp;The child feeling&nbsp;shortness of breath&nbsp;in the <strong>supine</strong> position is <strong>or</strong><strong>thopnea</strong>. It is relieved on sitting or standing.</p>\n<p>Respiratory causes include asthma, chronic obstructive pulmonary disorder (COPD), pneumonia, and pulmonary embolism. Cardiovascular causes include congestive heart failure(CHF), pulmonary edema, valvular heart defect, and pulmonary hypertension.&nbsp;</p>\n<p>Evaluation begins with assessing the airway, breathing, and circulation of the patient. <strong>Oxygen saturation</strong> can appear normal at rest, and hence oxygen saturation during physical activity should be obtained. A <strong>chest x-ray</strong> is the <strong>first diagnostic test</strong>&nbsp;which can show pulmonary pathology or pumonary edema and other signs of CHF that could help in identifying the cause and further evaluation.</p>\n<p>Other options:</p>\n<p>Option A: An <strong>echocardiogram</strong> can be done if the chest X-ray is abnormal. It is done to evaluate <strong>cardiac function</strong>, valvular function, and pericardial space.</p>\n<p>Option C: <strong>Spirometry</strong> is done when the chest x-ray is normal. It is done to determine<strong> lung function</strong>. Abnormal spirometry can indicate either an obstructive pathology such as asthma, or COPD or a restrictive disease such as interstitial fibrosis.&nbsp;</p>\n<p>Option D: <strong>Cardiac MRI </strong>(Magnetic resonance imaging)<strong>&nbsp;</strong>is an emerging modality done to look for <strong>cardiomegaly</strong>. It is for the accurate evaluation of left and right ventricular mass, size, and function. It is also used for localizing ischemic and non-ischemic causes such as myocarditis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following molecules with their carriers in plasma:",
    "choices": [
      {
        "id": 1,
        "text": "1-b, 2-c, 3-d, 4-a"
      },
      {
        "id": 2,
        "text": "1-a, 2-b, 3-c 4-d"
      },
      {
        "id": 3,
        "text": "1-a, 2-d, 3-b 4-c"
      },
      {
        "id": 4,
        "text": "1-b, 2-c, 3-a, 4-d"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correct pairs are as follows:</p>\n<p>1. Thyroxine - B. Pre-albumin<br />2. Vitamin B12 - C. Transcobalamin<br />3. Hemoglobin - D. Haptoglobin<br />4. Heme - A. Hemopexin</p>\n<p>&nbsp;</p>\n<p><strong>Thyroxine</strong> is carried by thyroid-binding <strong>prealbumin</strong>,&nbsp;which is also known as <strong>transthyretin.</strong></p>\n<p><strong>Vitamin B12</strong> binds to <strong>transcobalamin II&nbsp;</strong>in the ileal cells&nbsp;and is secreted into the plasma. Transcobalamin II delivers vitamin B12 to the liver and other cells of the body, including rapidly proliferating cells in the bone marrow and the gastrointestinal tract.</p>\n<div class=\"page\" title=\"Page 656\"><strong>Hemopexin&nbsp;</strong>binds to porphyrins, particularly <strong>heme</strong>, for heme recycling.</div>\n<p><strong>Haptoglobin</strong> binds to <strong>free</strong> <strong>hemoglobin</strong> and prevents its excretion in urine.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Arrange the following steps of ventricular action potential in the correct order.",
    "choices": [
      {
        "id": 1,
        "text": "B, A, C, D"
      },
      {
        "id": 2,
        "text": "D, C, B, A"
      },
      {
        "id": 3,
        "text": "C, D, A, B"
      },
      {
        "id": 4,
        "text": "A, B, C, D"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct sequence for ventricular action potential is as follows:</p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Ventricular action potential sequence order?  \\nA- Opening of voltage-gated sodium channels\\nB-Transient outward flow of potassium\\nC-opening of voltage-gated calcium channels\\nD- Repolarising K+ currents&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:3,&quot;3&quot;:2},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">C. Opening of voltage-gated sodium channels<br />D. Transient outward flow of potassium&nbsp;<br />A. Opening of voltage-gated calcium channels<br />B. Repolarizing K+ currents</span></p>\n<p>The events of action potential&nbsp;occur in the following sequence:</p>\n<ul>\n<li><strong>Phase 0:</strong>&nbsp;<strong>Voltage-gated Na<sup>+</sup>&nbsp;channels open&nbsp;</strong>in response to depolarizing stimulus (rapid depolarization phase)</li>\n<li><strong>Phase 1:&nbsp;Inactivation</strong> of voltage-gated <strong>Na<sup>+</sup></strong>&nbsp;<strong>channels</strong> and transient<strong> outward flow of K<sup>+&nbsp;</sup></strong>causes rapid repolarization (rapid repolarization phase)</li>\n<li><strong>Phase 2</strong>: Opening of <strong>slow voltage-gated Ca&sup2;\u207a channels</strong> causes the influx of calcium into the cells and results in the plateau phase (plateau phase)</li>\n<li><strong>Phase 3:&nbsp;Opening</strong> of various <strong>K<sup>+&nbsp;</sup>channels</strong> results in the efflux of K<sup>+&nbsp;</sup>from the cells and results in slow repolarization (slow repolarization phase).</li>\n<li><strong>Phase 4</strong>: Return to resting membrane potential</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ed2304fdf11143c7b9ec574322a5847cx960x720.GIF"
    ]
  },
  {
    "text": "What does the zero pressure indicate in the pressure-volume curve?",
    "choices": [
      {
        "id": 1,
        "text": "Residual volume"
      },
      {
        "id": 2,
        "text": "Functional residual capacity"
      },
      {
        "id": 3,
        "text": "Tidal volume"
      },
      {
        "id": 4,
        "text": "Inspiratory reserve volume"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The zero pressure in the pressure-volume curve indicates the <strong>functional&nbsp;residual capacity.</strong></p>\n<p>The pressure-volume relationship is basic to the understanding of the fundamental relationship between the <strong>compliance</strong> of the <strong>lungs</strong> and the <strong>chest</strong> <strong>wall</strong>. It is measured by a <strong>spirometer</strong>.</p>\n<p>The functional residual capacity is the volume of the air that <strong>remains</strong> in the lungs after <strong>normal expiration</strong>. The normal value is about 2.5 liters.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Residual volume</strong> is the air left in the lungs&nbsp;after a <strong>maximal expiratory</strong> effort.</p>\n<div class=\"page\" title=\"Page 628\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 628\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option C: <strong>Tidal volume</strong> is the amount of air that moves in during each <strong>inspiration</strong> or the amount of air that moves out with each <strong>expiration</strong>, during <strong>quiet breathing</strong>. The normal tidal volume is&nbsp;<strong>500&ndash;750 mL</strong>.</p>\n<div class=\"page\" title=\"Page 628\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 628\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option D:<strong> Inspiratory reserve volume</strong> is the air inspired with a <strong>maximal</strong> inspiratory effort in addition to the tidal volume.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "How is cerebral perfusion pressure calculated?",
    "choices": [
      {
        "id": 1,
        "text": "Systolic blood pressure + Intracranial pressure"
      },
      {
        "id": 2,
        "text": "Systolic blood pressure - intracranial pressure"
      },
      {
        "id": 3,
        "text": "Mean arterial pressure/intracranial pressure"
      },
      {
        "id": 4,
        "text": "Mean arterial pressure - intracranial pressure"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<div class=\"page\" title=\"Page 375\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Cerebral perfusion pressure (CPP) is calculated as <strong>mean arterial pressure</strong> (MAP)<strong> - intracranial pressure </strong>(ICP).</p>\n<p>However, ICP values are not readily available. In this case, CPP may be calculated as <strong>MAP - central venous pressure</strong> (CVP), and if CVP &gt; ICP.</p>\n<p>The brain depends on <strong>continuous perfusion</strong> for oxygen and glucose delivery, thus its survival. The blood flow to the brain is normally about 55 mL per 100 g of brain tissue. If the cerebral flow reduces to less than 20 mL per minute, the brain undergoes ischemia.&nbsp;</p>\n<div class=\"page\" title=\"Page 350\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Blood flow depends on cerebral perfusion pressure (CPP). Normally the CPP is 75-105 mmHg, MAP is 90-110 mmHg and ICP is 5-15 mmHg.</p>\n<p>According to <strong>Monro Kellie</strong> doctrine, the cranium is a <strong>rigid box</strong> containing a <strong>nearly incompressible brain</strong>. In cases of head trauma, there is an expansion of cranial content, in the form of hematomas and brain swelling. This increase in cranial pressure is accommodated initially by the exclusion of fluid components, venous blood, and cerebrospinal fluid. Further increase in the cranial pressure leads to an <strong>uncontrolled rise in ICP</strong> resulting in a <strong>compromise in cerebral perfusion</strong> and eventually <strong>cerebral herniation</strong>.</p>\n<p>Acute rise in ICP causes&nbsp;<span tabindex=\"0\" role=\"tooltip\"><span class=\"povykd\" tabindex=\"0\" role=\"button\" data-enable-toggle-animation=\"true\" data-extra-container-classes=\"ZLo7Eb\" data-hover-hide-delay=\"1000\" data-hover-open-delay=\"500\" data-send-open-event=\"true\" data-theme=\"0\" data-width=\"250\" data-ved=\"2ahUKEwiA0Y2K19X7AhUhSmwGHbCpCosQmpgGegQIHhAD\"><span class=\"JPfdse\" data-bubble-link=\"\" data-segment-text=\"Cushing triad\"><strong>Cushing reflex</strong>, a triad</span></span></span>&nbsp;of widened pulse pressure (increasing systolic, decreasing diastolic) bradycardia, and irregular respirations.</p>\n</div>\n</div>\n</div>\n</div>\n<p>Thus, in cases of head injury with <strong>intracranial bleeding</strong>, <strong>cranial decompression</strong> is performed to avoid further complications due to the raised ICP.&nbsp;</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Fluid leaving the proximal convoluted tubule in the absence of antidiuretic hormone is:",
    "choices": [
      {
        "id": 1,
        "text": "Isotonic"
      },
      {
        "id": 2,
        "text": "Hypotonic"
      },
      {
        "id": 3,
        "text": "Hypertonic"
      },
      {
        "id": 4,
        "text": "Depends on fluid intake"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Fluid leaving the proximal&nbsp;convoluted tubule&nbsp;(PCT) in the absence of a<span tabindex=\"0\" role=\"tooltip\"><span class=\"povykd\" tabindex=\"0\" role=\"button\" data-enable-toggle-animation=\"true\" data-extra-container-classes=\"ZLo7Eb\" data-hover-hide-delay=\"1000\" data-hover-open-delay=\"500\" data-send-open-event=\"true\" data-theme=\"0\" data-width=\"250\" data-ved=\"2ahUKEwiQuceL0Mb7AhUnwjgGHd8pC2oQmpgGegQIGxAD\"><span class=\"JPfdse\" data-bubble-link=\"\" data-segment-text=\"Antidiuretic\">ntidiuretic</span></span></span>&nbsp;hormone (ADH) is<strong> isotonic</strong>.</p>\n<p>The PCT is the<strong> site</strong> of <strong>maximum water reabsorption</strong>&nbsp;under normal physiological conditions. It&nbsp;reabsorbs around&nbsp;<strong>60%</strong>&nbsp;of the <strong>filtered NaCl</strong> and <strong>water</strong> and other nutrients such as glucose and amino acids. <strong>Isosmotic reabsorption</strong> occurs in the PCT, so the amount of solute and water reabsorbed are coupled and proportional to each other. Here, sodium is reabsorbed along with the water. The large amounts of sodium&nbsp;and water reabsorption are essential in <strong>maintaining</strong> the<strong> ECF volume</strong>.&nbsp;</p>\n<p>In addition to the isosmotic reabsorption, the water reabsorption in the PCT also occurs through <strong>aquaporin-1 </strong>which are&nbsp;active water channels.&nbsp;Reabsorption of sodium and water in PCT is <strong>not affected</strong> by <strong>ADH</strong> levels. Thus even in the <strong>absence of ADH</strong>, fluid is <strong>isotonic</strong> in PCT.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "2,3-BPG causes the unloading of oxygen to tissues by _________.",
    "choices": [
      {
        "id": 1,
        "text": "Increasing ATP production"
      },
      {
        "id": 2,
        "text": "Binding to beta subunit of Hb"
      },
      {
        "id": 3,
        "text": "Inhibiting taut structure"
      },
      {
        "id": 4,
        "text": "Decreasing ATP production"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 642\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>2,3-Bisphosphoglycerate (BPG) causes the unloading of oxygen to tissues by <strong>binding&nbsp;</strong>to the <strong>beta subunit of Hb.</strong></p>\n<p>2,3 BPG is formed from glycolysis. It is found in <strong>high amounts</strong> in <strong>red blood cells</strong> and in trace amounts in most other cells. 2,3 BPG facilitates increased oxygen delivery by reducing the affinity of&nbsp;hemoglobin for oxygen.&nbsp;</p>\n<p>Hemoglobin exists in <strong>2 forms</strong> in the blood. The <strong>deoxyhemoglobin</strong> form is called the <strong>taut or T form</strong>. This hemoglobin has a low affinity for oxygen. The oxyhemoglobin form is called the relaxed or R form. This hemoglobin has a high affinity for oxygen.&nbsp;</p>\n<p><strong>2,3 BPG</strong> binds more selectively to deoxyhemoglobin and <strong>stabilizes</strong> the <strong>taut conformation</strong> of hemoglobin (Option C).&nbsp;</p>\n<p>Other options:</p>\n<p>Options A and D:&nbsp;The process of unloading oxygen by 2,3 BPG is <strong>independent</strong> of ATP production.&nbsp;</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The graph below shows oxygen dissociation curves. What does the curve marked as 'A' indicate?",
    "choices": [
      {
        "id": 1,
        "text": "Myoglobin"
      },
      {
        "id": 2,
        "text": "Carboxyhemoglobinemia"
      },
      {
        "id": 3,
        "text": "Methemoglobin"
      },
      {
        "id": 4,
        "text": "Fetal hemoglobin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 651\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The curve 'A' shows a hyperbolic curve that is characteristic of oxygen dissociation in <strong>myoglobin.&nbsp;</strong></p>\n<p>Myoglobin is an <strong>iron-containing component</strong> of the <strong>skeletal muscle</strong>. Myoglobin can bind only to one oxygen molecule and hence lacks co-operative binding.&nbsp;It has a <strong>higher affinity</strong> to oxygen than hemoglobin and hence releases oxygen only at low PO<sub>2</sub> values. This leads to a <strong>leftward shift</strong> in the myoglobin oxygen dissociation curve.</p>\n<p>Myoglobin is present in large quantities in muscles that are commonly used for sustained <strong>contraction</strong>. During such contractions, muscle blood supply is decreased due to compression. Myoglobin facilitates <strong>oxygen supply</strong> in these conditions.</p>\n<p>Other options:</p>\n<p>Option B: Carbon monoxide (CO) reacts with hemoglobin to form<strong> carbon monoxyhemoglobin</strong> (carboxyhemoglobin or COHb).&nbsp;The affinity of hemoglobin for CO is <strong>210 times</strong> its affinity for O2, and COHb liberates CO very slowly. An additional difficulty is that when COHb is present, the dissociation <strong>curve of the remaining HbO2 shifts to the left</strong>, decreasing the amount of O2 released.</p>\n<div class=\"page\" title=\"Page 652\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 652\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option C: Hemoglobin normally has ferrous ion. When it is oxidized to ferric iron, it is called <strong>methemoglobin</strong>. It causes dark-coloured blood.</p>\n<p>Option D: <strong>Fetal hemoglobin</strong> (HbF) is structurally similar to hemoglobin A except for the gamma chains. It binds less avidly to 2,3 bisphosphoglycerate and hence has higher affinity for oxygen leading to left ward shift in the dissociation curve.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8b8f73bdac80474b8a02669e5c2d724e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which among the following organs has the least arteriovenous oxygen difference?",
    "choices": [
      {
        "id": 1,
        "text": "Brain"
      },
      {
        "id": 2,
        "text": "Kidney"
      },
      {
        "id": 3,
        "text": "Skin"
      },
      {
        "id": 4,
        "text": "Liver"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The organ with the least arteriovenous oxygen difference is the <strong>kidney</strong>.</p>\n<p>The\u00a0<span class=\"topic-highlight\">arteriovenous oxygen difference</span>\u00a0is the amount of oxygen the tissues take up from the blood. If the amount of oxygen utilized by the tissues is more, the greater the arteriovenous oxygen difference.\u00a0</p>\n<div class=\"page\" title=\"Page 677\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The renal cortical blood flow is comparatively greater as the main function is to filter large volumes of blood through the glomeruli. Here, the oxygen extracted from the blood is relatively less. The\u00a0<strong>arteriovenous oxygen difference</strong> for the kidney is only <strong>14 mL/L of blood</strong>, which is very less when compared to the brain and heart.</p>\n<div class=\"page\" title=\"Page 677\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<table style=\"width: 272.352px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 147px; height: 18px;\"><strong>Organs</strong></td>\n<td style=\"width: 264.352px; height: 18px;\">\n<div class=\"page\" title=\"Page 601\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Arteriovenous Oxygen Difference (mL/L)</strong></p>\n</div>\n</div>\n</div>\n</div>\n</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 147px; height: 18px;\">Brain</td>\n<td style=\"width: 264.352px; height: 18px;\">62</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 147px; height: 18px;\">Kidney</td>\n<td style=\"width: 264.352px; height: 18px;\">14</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 147px; height: 18px;\">Skin</td>\n<td style=\"width: 264.352px; height: 18px;\">25</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 147px; height: 18px;\">Liver</td>\n<td style=\"width: 264.352px; height: 18px;\">34</td>\n</tr>\n<tr style=\"height: 24.3438px;\">\n<td style=\"width: 147px; height: 24.3438px;\">Heart muscles</td>\n<td style=\"width: 264.352px; height: 24.3438px;\">114</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The image shows changes in membrane potential during an action potential. The region marked between 4 to 5 is due to ________.",
    "choices": [
      {
        "id": 1,
        "text": "Influx of Na+"
      },
      {
        "id": 2,
        "text": "Efflux of Na+"
      },
      {
        "id": 3,
        "text": "Influx of K+"
      },
      {
        "id": 4,
        "text": "Efflux of K+"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The sequence of events during the action potential&nbsp;occurs in the following sequence.</p>\n<p>1. Resting state:<strong>&nbsp;Both channels&nbsp;are&nbsp;closed.</strong></p>\n<p>2.&nbsp;<strong>Na<sup>+</sup>&nbsp;channels open</strong>&nbsp;in response to depolarizing stimulus. Sodium enters the cell. The membrane reaches&nbsp;<strong>threshold potential.</strong></p>\n<p>3. The sodium influx causes the&nbsp;<strong>opening&nbsp;</strong>of more&nbsp;<strong>Na<sup>+&nbsp;</sup></strong><strong>channels</strong>&nbsp;through a&nbsp;<strong>positive feedback</strong>&nbsp;mechanism.&nbsp;<strong>Rapid depolarization</strong>&nbsp;occurs.</p>\n<p>4. Sodium conductance decreases.</p>\n<p>5.&nbsp;<strong>Na<sup>+</sup></strong>&nbsp;channels<strong>&nbsp;close</strong>&nbsp;and&nbsp;<strong>K<sup>+</sup></strong>&nbsp;channels<strong>&nbsp;open</strong>. Due to&nbsp;<strong>K<sup>+</sup></strong><strong>&nbsp;efflux, repolarization&nbsp;</strong>occurs.</p>\n<p>6.&nbsp;<strong>Na<sup>+</sup></strong>&nbsp;channels are&nbsp;<strong>reset</strong>&nbsp;and are ready to respond to another depolarizing stimulus (<strong>relative refractory period</strong>). During this phase, the&nbsp;<strong>K<sup>+</sup></strong>&nbsp;channels remain open and&nbsp;<strong>slowly return</strong>&nbsp;to the&nbsp;<strong>closed</strong>&nbsp;state causing&nbsp;<strong>after-hyperpolarization</strong>.</p>\n<p>7. Both channels are closed. The membrane returns to&nbsp;<strong>RMP</strong>.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/584b7cf1c558435fad4c69f78f7d03c5.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2ee0041e324d46ef92fec66fda05413cx1280x1683.JPEG"
    ]
  },
  {
    "text": "What is the value of normal tissue oncotic pressure?",
    "choices": [
      {
        "id": 1,
        "text": "12 mmHg"
      },
      {
        "id": 2,
        "text": "25 mmHg"
      },
      {
        "id": 3,
        "text": "32 mmHg"
      },
      {
        "id": 4,
        "text": "54 mmHg"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The value of normal tissue oncotic pressure is <strong>12 mmHg. </strong>It refers to the <strong>interstitial</strong> osmotic pressure.</p>\n<p>The interstitial oncotic pressure, while very small, is the pressure exerted by a <strong>small amount</strong> of protein present in the interstitium that tends to pull fluids out of the capillaries. It is <strong>different</strong> for <strong>each organ</strong> based on the level of protein components. It is mostly <strong>negligible</strong>,<strong>&nbsp;</strong>but sometimes can be as high as <strong>6 mmHg</strong> in the brain. The values are also positive in the liver and kidneys.</p>\n<p>The colloid osmotic pressure or <strong>oncotic pressure</strong> is the osmotic pressure exerted due to the presence of <strong>colloidal proteins</strong> like albumin and globulin within the plasma. The colloidal proteins are impermeable to the semi-permeable cell membrane and cannot cross the membrane. Thus, it exerts osmotic pressure, which pulls fluid into the capillaries.</p>\n<p>The lowest number in the given options is 12 mmHg and, hence, is the best possible answer to this question.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Where is the signaling sequence in a type 2 membrane protein located?",
    "choices": [
      {
        "id": 1,
        "text": "Inside the membrane at the N-terminal end"
      },
      {
        "id": 2,
        "text": "Inside the membrane at the C-terminal end"
      },
      {
        "id": 3,
        "text": "Outside the membrane at the N-terminal end"
      },
      {
        "id": 4,
        "text": "Outside the membrane at the C-terminal end"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Signaling</strong> <strong>sequences</strong> are 16 to 30 amino acid residues in length and <strong>located</strong> at the <strong>N-terminal extension</strong> of the <strong>membrane proteins</strong>. After an appropriate trigger, they are either <strong>cleaved</strong> (and bind to MHC class I of the endoplasmic reticulum) or act as a <strong>membrane anchor</strong> (transporting proteins across the membrane).</p>\n<p><strong>Integral</strong> <strong>proteins</strong> can be&nbsp;divided into:</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Type I integral proteins</strong> have a <strong>cleavable</strong> N-terminal <strong>signal</strong> <strong>sequence</strong> (towards the cytosol). Examples include histocompatibility antigens, glycophorin, and membrane immunoglobulin.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Type II integral proteins</strong> have a <strong>non-cleavable&nbsp;</strong>N terminal <strong>combined</strong> <strong>signal/anchor sequence</strong>. Examples include transferrin receptors and glycosyl transferases.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4f7fee13e7ea4ca8bb231cb855ab5493x1279x818.JPEG"
    ]
  },
  {
    "text": "Which of the following primary second messengers is involved in the contraction of ciliary muscles while focusing on near objects?",
    "choices": [
      {
        "id": 1,
        "text": "cAMP"
      },
      {
        "id": 2,
        "text": "cGMP"
      },
      {
        "id": 3,
        "text": "Na+  inflow through a channel"
      },
      {
        "id": 4,
        "text": "IP3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<div class=\"page\" title=\"Page 266\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>IP<sub>3</sub></strong> is the primary second messenger involved in the&nbsp;<strong>contraction of ciliary muscles</strong> to focus on a near object.</p>\n</div>\n</div>\n</div>\n</div>\n<p>On focusing on a near object, stimulation of the <strong>parasympathetic nerve fibers</strong> leads to the <strong>contraction</strong> of the bilateral ciliary muscle, via short ciliary nerves, which relaxes the lens ligaments. The lens becomes thicker and the <strong>increase in the refractive index</strong> allows the eye to focus on the near object. This is known as the <strong>accommodation reflex</strong>.</p>\n<p>In the ciliary muscles of the eye, <strong>contraction</strong> is mediated via <strong>M<sub>3&nbsp;</sub>&gt; M<sub>2</sub></strong><sub>&nbsp;</sub>receptors, while <strong>relaxation</strong> is mediated via the <strong>&beta;</strong><sub><strong>2</strong>&nbsp;</sub>receptor.</p>\n<p><strong>M<sub>3&nbsp;</sub>receptors act via the&nbsp;</strong>formation of <strong>inositol 1,4,5-trisphosphate</strong> (IP<sub>3</sub>) and <strong>diacylglycerol</strong> (DAG), leading to an increase in <strong>intracellular Ca</strong><sup><strong>2+</strong>&nbsp;</sup>and activation of <strong>protein kinase C</strong>, respectively. The increase in intracellular&nbsp;Ca<sup>2+&nbsp;</sup>sets up a chain reaction which eventually leads to contraction of the ciliary smooth muscle of the eye.</p>\n<p>Thus, in the contraction of the ciliary muscle during focusing on a near object, the second messenger involved is the IP<sub>3</sub>-DAG pathway.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following tissues are dependent on insulin for glucose uptake?",
    "choices": [
      {
        "id": 1,
        "text": "Brain"
      },
      {
        "id": 2,
        "text": "Adipose tissue"
      },
      {
        "id": 3,
        "text": "Pancreas"
      },
      {
        "id": 4,
        "text": "Muscle"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Adipose tissue</strong> is dependent on insulin for glucose uptake.</p>\n<p>The uptake of glucose in skeletal muscles is also dependent on insulin but may be mediated via non-insulin-dependent mechanisms as well (such as muscle contractions).&nbsp;Therefore the best answer out of the given options is adipose tissue.</p>\n<p>Glucose uptake by skeletal muscle, cardiac muscle, and adipose tissues is via <strong>GLUT-4</strong> which is <strong>insulin-dependent</strong>. In the presence of insulin, GLUT-4 receptors translocate to the cell membrane and hence, glucose uptake by the cell occurs.&nbsp;</p>\n<div class=\"page\" title=\"Page 437\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Most of the <strong>other GLUT</strong> transporters are <strong>not insulin sensitive</strong> and are constitutively expressed in the cell membrane. Ex: GLUT-1 in RBCs, brain and kidneys. (GLUT-3 is also present in the brain and kidneys)</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The second phase of saliva secretion involves:",
    "choices": [
      {
        "id": 1,
        "text": "Active Na+ reabsorption, passive Cl- reabsorption, passive K+ secretion, active secretion of HCO3-"
      },
      {
        "id": 2,
        "text": "Passive Na+ reabsorption, active Cl- reabsorption, passive K+ secretion, active secretion of HCO3-"
      },
      {
        "id": 3,
        "text": "Passive Na+ secretion, active Cl- reabsorption, active K+ secretion, passive secretion of HCO3-"
      },
      {
        "id": 4,
        "text": "Active Na+ reabsorption, passive Cl- reabsorption, active K+ secretion, passive secretion of HCO3-"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>During the second phase of salivary secretion,&nbsp;<strong>Na<sup>+</sup></strong>&nbsp;is <strong>actively</strong> reabsorbed,&nbsp;<strong>Cl<sup>-&nbsp;</sup></strong>&nbsp;is reabsorbed <strong>passively</strong>,&nbsp;<strong>K<sup>+</sup></strong>&nbsp;is secreted <strong>actively</strong> and&nbsp;<strong>HCO<sub>3</sub><sup>-</sup></strong>&nbsp;is secreted <strong>passively</strong> (part of the secretion may be active as well, but among the given options, option D is the most accurate with respect to all the ions).</p>\n<p>Salivary secretion occurs in two stages:</p>\n<p>The&nbsp;<strong>first stage</strong>&nbsp;involves&nbsp;<strong>acini,</strong>&nbsp;which secrete ptyalin and/or mucin together with some ions. The composition of the ions is similar to that of the extra-cellular fluid.</p>\n<p>The&nbsp;<strong>second stage</strong>&nbsp;involves the&nbsp;<strong>ducts.</strong>&nbsp;As the primary salivary secretion flows through the ducts, two active transport processes occur:</p>\n<ul>\n<li><strong>Na<sup>+</sup>&nbsp;</strong>is actively re-absorbed and&nbsp;<strong>K<sup>+</sup></strong>&nbsp;is actively secreted, in exchange for Na<sup>+</sup>.</li>\n<li><strong>HCO<sub>3</sub><sup>-</sup>&nbsp;</strong>is secreted by the ductal epithelium into the lumen of the salivary ducts. Some of this secretion occurs by passive bicarbonate exchange for&nbsp;<strong>Cl<sup>-&nbsp;</sup></strong>and partly active secretion.</li>\n</ul>\n<p>As a result, the&nbsp;<strong>Na<sup>+</sup>&nbsp;and Cl<sup>-</sup></strong>&nbsp;concentrations are&nbsp;<strong>lower</strong>&nbsp;than that of plasma, while&nbsp;<strong>K<sup>+</sup>&nbsp;and HCO<sub>3</sub><sup>-</sup></strong>&nbsp;concentrations are&nbsp;<strong>higher</strong>&nbsp;than that of plasma.</p>\n<p><strong>Composition of ions:</strong></p>\n<ul>\n<li>Under resting conditions, the Na+ and Cl- concentrations in saliva are about 15 mEq/L each, which is 1/7th to 1/10th of the plasma concentrations.</li>\n<li><strong>K<sup>+</sup></strong>&nbsp;concentration is about&nbsp;<strong>30 mEq/L</strong>, which is seven times higher than that of plasma.</li>\n<li><strong>HCO<sub>3</sub><sup>-</sup>&nbsp;</strong>concentration is&nbsp;<strong>50 to 70 mEq/L</strong>, which is two to three times higher than that of the plasma.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Macula densa is made of specialized cells located at:",
    "choices": [
      {
        "id": 1,
        "text": "Junction of thick descending limb and DCT"
      },
      {
        "id": 2,
        "text": "Junction of thick descending limb and PCT"
      },
      {
        "id": 3,
        "text": "Junction of thick ascending limb and DCT"
      },
      {
        "id": 4,
        "text": "Junction of DCT and collecting duct"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>\u00a0</p>\n<p>Signals from the renal tubules affect filtration in its glomerulus. As the rate of flow through the ascending limb of the loop of Henle and the first part of the distal tubule increases, glomerular filtration in the same nephron decreases, and vice versa.\u00a0This is known as <strong>tubuloglomerular feedback</strong> which maintains the constancy of the load delivered to the distal tubule.</p>\n<p>The sensor is the <strong>macula densa.</strong> The Na<sup>+</sup> and Cl<sup>\u2212</sup>\u00a0in the fluid enter the macula densa cells via theNa<sup>+</sup>\u2013K\u20132Cl<sup>\u2212</sup> cotransporter in their apical membranes. The increased Na<sup>+</sup> increases the Na<sup>+</sup>-K<sup>+</sup>\u00a0ATPase activity causing ATP hydrolysis and the formation of adenosine. This acts on adenosine A1 receptors on the macula densa cells, causing the release of Ca<sup>2+</sup>\u00a0into the vascular smooth muscle in the afferent arterioles, leading to vasoconstriction and decreased GFR.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/db02372a64a546759369c679f5852cccx1279x1384.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/24554e06088645748d9dfd6582ecc2ccx1280x1970.JPEG"
    ]
  },
  {
    "text": "Which of the following can be used to calculate the cardiac output?",
    "choices": [
      {
        "id": 1,
        "text": "A, B, C, D"
      },
      {
        "id": 2,
        "text": "A, D"
      },
      {
        "id": 3,
        "text": "B, C, D"
      },
      {
        "id": 4,
        "text": "A, C, D"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Fick principle, thermodilution,</strong> and <strong>ECHO</strong> can be used to measure <strong>cardiac output</strong>.</p>\n<p>Cardiac output is the amount of blood pumped by the heart into the aorta every minute. The average cardiac output is <strong>5L/min</strong> and can be measured by various indirect methods.</p>\n<p><strong>Fick's principle</strong> uses the total amount of oxygen absorbed from the air by the lungs and the arteriovenous oxygen difference of blood to calculate the cardiac output using the following formula:</p>\n<div class=\"page\" title=\"Page 247\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Cardiac output (L/min) = (<strong><span style=\"text-decoration: underline;\">O<sub>2</sub> absorbed per minute by the lungs (mL/min))</span></strong><strong>&nbsp; /&nbsp; (Arterio-venous O<sub>2</sub> difference(mL/L of blood))&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</strong></p>\n<div class=\"page\" title=\"Page 247\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Thermodilution method&nbsp;</strong>employs cold saline which is infused into the right atrium through a double-lumen&nbsp;Swan&ndash;Ganz thermodilution catheter and the temperature change is measured at the pulmonary artery using a thermistor at the end of the catheter. The mean decrease in the temperature of blood is inversely proportional to the cardiac output.</p>\n<p>An <strong>ECHO</strong> uses ultrasound waves from a transducer placed on the chest wall to measure the velocity of blood flowing from the left ventricle into the aorta. Stroke volume can be calculated from this.&nbsp;<strong>Cardiac Output = Heart Rate X Stroke Volume.</strong></p>\n<p>The other methods that can be used to measure cardiac output include <strong>impedance cardiography</strong> a.k.a. thoracic electrical bioimpedance,&nbsp;<strong>electromagnetic or ultrasonic flowmeter</strong>,and&nbsp;&nbsp;<strong>indicator dilution method</strong>.</p>\n<p><strong>Ventilation-perfusion scan&nbsp;</strong>is <strong>not</strong> a method of <strong>cardiac output</strong> measurement. It is used to <strong>assess pulmonary circulation.</strong></p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 247\">&nbsp;</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the given cellular components with their respective marker enzymes.",
    "choices": [
      {
        "id": 1,
        "text": "1-D, 2-A, 3-C, 4-B"
      },
      {
        "id": 2,
        "text": "1-D,2-A,3-B,4-C"
      },
      {
        "id": 3,
        "text": "1-C, 2-B, 3-A, 4-D"
      },
      {
        "id": 4,
        "text": "1-B, 2-C, 3-D, 4-A"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correctly matched answer is&nbsp;<strong>1-D,2-A,3-B,4-C.</strong></p>\n<table style=\"height: 141px;\" width=\"417\">\n<tbody>\n<tr>\n<td style=\"width: 200.788px;\">Cellular components</td>\n<td style=\"width: 200.81px;\">Marker enzymes</td>\n</tr>\n<tr>\n<td style=\"width: 200.788px;\">1. Mitochondria</td>\n<td style=\"width: 200.81px;\">D. ATP synthase</td>\n</tr>\n<tr>\n<td style=\"width: 200.788px;\">2. Peroxisomes</td>\n<td style=\"width: 200.81px;\">A. Catalase&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 200.788px;\">3. Golgi complex</td>\n<td style=\"width: 200.81px;\">B. Galactosyl transferase</td>\n</tr>\n<tr>\n<td style=\"width: 200.788px;\">4. Endoplasmic reticulum</td>\n<td style=\"width: 200.81px;\">C. Glucose-6-phosphatase</td>\n</tr>\n</tbody>\n</table>\n<p>Each organelle has some specific enzymes are called marker enzymes. After centrifugation, the separated organelles are identified by the detection of marker enzymes in the sample.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Consider the following statements about sympathetic, parasympathetic, and motor nerves. Which of the following statements are true?",
    "choices": [
      {
        "id": 1,
        "text": "1,3"
      },
      {
        "id": 2,
        "text": "1,4"
      },
      {
        "id": 3,
        "text": "2,3"
      },
      {
        "id": 4,
        "text": "2,4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 19\">\n<div class=\"layoutArea\">\n<div class=\"column\">The true statements are <strong>1,4</strong>.</div>\n<div class=\"column\">&nbsp;</div>\n<div class=\"column\"><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Consider the following statements about sympathetic, parasympathetic, and motor nerves:\\n1. Sympathetic efferents are distributed all over the body/ extensively whereas parasympathetic distribution is limited.\\n2. Sympathetic fibres travel long distances after leaving the sympathetic chain, before finally synapsing and then a shorter distance to effector organs.\\n3. Parasympathetic fibres travel a shorter distance to their respective ganglia which are located close to the target organs.\\n4. Motor neurons are located in the ventral horn of the spinal cord from where the axons come out and divide into several branches, each of which supplies an individual muscle fibre.\\n\\n\\n&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\"><strong>Sympathetic efferents</strong> are distributed&nbsp;<strong>extensively</strong> all over the body whereas <strong>parasympathetic</strong> distribution is <strong>limited</strong> to head, neck, and trunk regions.</span></div>\n<div class=\"column\">&nbsp;</div>\n<div class=\"column\"><strong>Sympathetic</strong> fibers travel <strong>short distances</strong> to the sympathetic ganglionic chain, before finally synapsing and then have a <strong>long course</strong> to supply the<strong> target organs.&nbsp;</strong><strong>Parasympathetic</strong> fibers travel a <strong>longer distance</strong> to their respective ganglia which are located close to the target organs.</div>\n<div class=\"column\">&nbsp;</div>\n<div class=\"column\"><strong>Motor neurons</strong> are located in the ventral horn of the spinal cord from where the axons come out and divide into several <strong>branches</strong>, each of which supplies an <strong>individual muscle fiber</strong>. A <strong>motor unit</strong> comprises a motor neuron and a group of skeletal muscle fibers it innervates.</div>\n<div class=\"column\">&nbsp;</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the normal insensible water loss?",
    "choices": [
      {
        "id": 1,
        "text": "100 mL/hour"
      },
      {
        "id": 2,
        "text": "150 mL/hour"
      },
      {
        "id": 3,
        "text": "50 mL/hour"
      },
      {
        "id": 4,
        "text": "200 mL/hour"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The normal <strong>insensible water loss</strong><strong>&nbsp;</strong>is&nbsp;<strong>50 mL/hour.</strong></p>\n<p>In human beings, there is a loss of water through <strong>vaporization</strong> from the <strong>respiratory tract</strong> (300&ndash;400 mL) and <strong>diffusion </strong>from the<strong> skin</strong> (300&ndash;400 mL). This is called insensible water loss. It is about <strong>50 mL/hour</strong>. This insensible water loss via the skin is independent of sweating and occurs in people without sweat glands as well.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting.",
    "choices": [
      {
        "id": 1,
        "text": "6, 4, 2, 5, 1, 3"
      },
      {
        "id": 2,
        "text": "6, 4, 2, 3, 1, 5"
      },
      {
        "id": 3,
        "text": "4, 6, 2, 1, 3, 5"
      },
      {
        "id": 4,
        "text": "4, 6, 2, 5, 3, 1"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 19\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>\u00a0The correct sequence of vomiting is<strong> 6, 4, 2, 3, 1, 5.</strong></p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting:\\nA. LES opens and UES closes\\nB. Strong contractions in the stomach\\nC. Inspiration against closed glottis\\nD. Relaxation of pyloric sphincter\\nE. LES opens and UES opens\\nF. Reverse peristalsis in small intestine&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">6.\u00a0</span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting:\\nA. LES opens and UES closes\\nB. Strong contractions in the stomach\\nC. Inspiration against closed glottis\\nD. Relaxation of pyloric sphincter\\nE. LES opens and UES opens\\nF. Reverse peristalsis in small intestine&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">Reverse peristalsis in the small intestine.<br /></span>4. Relaxation of the pyloric sphincter.\u00a0<br /><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting:\\nA. LES opens and UES closes\\nB. Strong contractions in the stomach\\nC. Inspiration against closed glottis\\nD. Relaxation of pyloric sphincter\\nE. LES opens and UES opens\\nF. Reverse peristalsis in small intestine&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">2. Strong contractions in the stomach.<br /></span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting:\\nA. LES opens and UES closes\\nB. Strong contractions in the stomach\\nC. Inspiration against closed glottis\\nD. Relaxation of pyloric sphincter\\nE. LES opens and UES opens\\nF. Reverse peristalsis in small intestine&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">3. Inspiration against a closed glottis.\u00a0<br /></span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting:\\nA. LES opens and UES closes\\nB. Strong contractions in the stomach\\nC. Inspiration against closed glottis\\nD. Relaxation of pyloric sphincter\\nE. LES opens and UES opens\\nF. Reverse peristalsis in small intestine&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">1. LES is open and UES is closed.<br /></span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting:\\nA. LES opens and UES closes\\nB. Strong contractions in the stomach\\nC. Inspiration against closed glottis\\nD. Relaxation of pyloric sphincter\\nE. LES opens and UES opens\\nF. Reverse peristalsis in small intestine&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">5. LES opens and UES opens.</span></p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting:\\nA. LES opens and UES closes\\nB. Strong contractions in the stomach\\nC. Inspiration against closed glottis\\nD. Relaxation of pyloric sphincter\\nE. LES opens and UES opens\\nF. Reverse peristalsis in small intestine&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">The <strong>sensory signals</strong> that initiate vomiting are located in the pharynx, esophagus, stomach, and upper portions of the small intestines.\u00a0<strong>Excessive</strong> <strong>distention</strong> or <strong>irritation of the duodenum</strong> provides a strong stimulus for vomiting. <strong>Area postrema</strong> constitutes the vomiting centre.</span></p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;A woman has vomiting whenever she eats spicy food. Arrange the sequence of events during vomiting:\\nA. LES opens and UES closes\\nB. Strong contractions in the stomach\\nC. Inspiration against closed glottis\\nD. Relaxation of pyloric sphincter\\nE. LES opens and UES opens\\nF. Reverse peristalsis in small intestine&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16777215},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">In the early stage, <strong>reverse peristalsis</strong> begins often minutes before vomiting. It begins far down in the ileum and travels up the intestine. This process pushes a large share of lower small intestine contents to the duodenum and stomach. <strong>Relaxation of the pyloric sphincter</strong> occurs during this process.</span></p>\n<p>At the onset of vomiting, strong <strong>intrinsic</strong> <strong>contractions</strong> are seen in the duodenum and stomach. Once the vomiting centre has been stimulated, <strong>inspiration</strong> occurs against the <strong>closed glottis.</strong> It\u00a0prevents<strong>\u00a0</strong>the flow of vomitus into the <strong>lungs</strong>. The <strong>lower esophageal sphincter (LES) is open</strong> and the\u00a0<strong>upper esophageal sphincter</strong>\u00a0(UES) <strong>is closed at this stage.</strong></p>\n<p>The muscles of the abdominal wall contract, building <strong>intra-gastric pressure</strong>. Finally <strong>LES relaxes completely</strong> and <strong>UES also relaxes</strong> allowing the expulsion of the gastric contents.</p>\n<p>Note: The esophageal smooth muscle functions as LES at the gastro-esophageal junction. It normally remains tonically constricted. Receptive relaxation of LES occurs when the peristaltic wave passes down the esophagus.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '025 Physiology Ini-Cet 2022';
        let hierarchy = ["Marrow", "PYQs", "Physiology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>