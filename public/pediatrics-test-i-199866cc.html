<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pediatrics Test I - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2018 - 19
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A healthy child is able to stand with support. Which of the following fine motor milestones is attained at this age?",
    "choices": [
      {
        "id": 1,
        "text": "Immature pincer grasp"
      },
      {
        "id": 2,
        "text": "Mature pincer grasp"
      },
      {
        "id": 3,
        "text": "Reaches for objects with one hand"
      },
      {
        "id": 4,
        "text": "Reaches out for object with two hands"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>A Child stands with support at 9 months, fine motor milestone attained at this age is immature pincer gap.</p>\n<p>Developmental progression of grasp:</p>\n<ul>\n<li>6 months &ndash; Baby reaches and holds a larger object in a crude manner using ulnar aspect of his hand <strong>(ulnar palmar grasp).</strong></li>\n<li>8-9 months - Object grasped by radial side of palm <strong>(radial palmar grasp).</strong></li>\n<li>9 months - <strong>Immature pincer grasp</strong> develops. Object secured between adducted thumb and extended index finger.</li>\n<li>12 months - <strong>Mature pincer grasp</strong> develops. Object secured between opposed thumb and tip of index finger.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which pattern of inheritance does the pedigree chart denote?",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal dominant disorder"
      },
      {
        "id": 2,
        "text": "X - linked dominant disorder"
      },
      {
        "id": 3,
        "text": "Autosomal recessive disorder"
      },
      {
        "id": 4,
        "text": "X -  linked recessive disorder"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above pattern of pedigree chart denotes a pattern of <strong>X- linked dominant inheritance.</strong></p>\n<p>Points in favour of X linked dominant inheritance in the given chart:</p>\n<ul>\n<li>Females affected twice as often as males.</li>\n<li>Affected female shows 50% probability of transmitting the disease to her son or daughter.</li>\n<li>Affected male transmits the disease to all his daughters and none of his sons.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://daily-rounds-staging.s3.amazonaws.com/uploads/b1cd5073d2134506badfbe5b5a70a925.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A baby assessed at 5 minutes after birth, had blue extremities and irregular gasping respiration. Heart rate was 40/min and there was  grimace with some flexion of extremities. APGAR score for this newborn is _______",
    "choices": [
      {
        "id": 1,
        "text": "5"
      },
      {
        "id": 2,
        "text": "4"
      },
      {
        "id": 3,
        "text": "2"
      },
      {
        "id": 4,
        "text": "1"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>APGAR score in this baby is 5.</p>\n<p>In this baby</p>\n<ul>\n<li>Colour: Blue extremities -&nbsp;score 1</li>\n<li>HR &lt; 100/min - score 1</li>\n<li>Grimace - score 1</li>\n<li>Some flexion of extremities -&nbsp;score 1</li>\n<li>Irregular respiration -&nbsp;score 1</li>\n</ul>\n<p>Thus total score is 5.</p>\n<p>At 1 minute and 5 minutes after birth of the infant, the 5 objective signs listed here are evaluated and each is given a score of 0, 1, or 2.</p>\n<p>A total score of 10 indicates an infant in the best possible condition. An infant with a <strong>score of 0-3 requires immediate resuscitation</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old child is brought to the pediatric OPD by his parents with complaints of excessive sleepiness, and poor scholastic performance. On examination, the child has pallor involving the tongue, conjunctiva, and nail beds. A flow murmur is heard upon auscultation. Which of the following is the most likely cause of the underlying disease?",
    "choices": [
      {
        "id": 1,
        "text": "Congenital hypoplastic anemia"
      },
      {
        "id": 2,
        "text": "Acquired hypoproliferative anemia"
      },
      {
        "id": 3,
        "text": "Congenital hemoglobinopathies"
      },
      {
        "id": 4,
        "text": "Hyperproliferative anemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical signs and symptoms are suggestive of <strong>anemia</strong>. <strong>Acquired hypoproliferative anemia,</strong>&nbsp;is&nbsp;the <strong>most common</strong> <strong>cause</strong> of anemia in children among the given options.</p>\n<p><strong>Iron-deficiency anemia</strong> (which is classified as an acquired hypoproliferative anemia) is the <strong>most common cause </strong>of anemia in<strong> children and adults</strong> <strong>worldwide</strong>. Iron deficiency is also the <strong>most common nutrient deficiency worldwide.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following statements belong to the 10 steps of successful breastfeeding recommended by the Baby Friendly Hospital Initiative (BHFI), except _____.",
    "choices": [
      {
        "id": 1,
        "text": "Have a written breastfeeding policy"
      },
      {
        "id": 2,
        "text": "Help mothers initiate breastfeeding within 4 hours of birth"
      },
      {
        "id": 3,
        "text": "Counselling on formula milk"
      },
      {
        "id": 4,
        "text": "Practice rooming in 24 hours a day"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>BHFI recommends breastfeeding <strong>as soon as possible</strong>\u00a0after birth.</p>\n<p><strong>BFHI</strong> is sponsored by the WHO and the United Nations Children\u2019s Fund to <strong>promote breastfeeding.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A concerned mother brought her daughter to the clinic for evaluation of symptoms that have worsened in the last few weeks. The daughter frequently wakes up at night with severe headaches and vomiting. She has also been having some difficulty walking. On examination, ataxia and multiple cranial nerve palsies are noted.  Imaging is suggestive of a brainstem tumor. Which of the following is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pontine glioma"
      },
      {
        "id": 2,
        "text": "Medulloblastoma"
      },
      {
        "id": 3,
        "text": "Ependymoma"
      },
      {
        "id": 4,
        "text": "Acoustic neuroma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The MRI given shows a<strong> diffuse, infiltrating pontine lesion</strong>. Multiple cranial nerve dysfunctions, cerebellar signs, motor weakness, and features of raised intracranial pressure (ICP) are all strongly suggestive of a <strong>pontine glioma.</strong></p>\n<p>These are not amenable for surgical resection. The standard approach is&nbsp;<strong>radiation therapy</strong>. The prognosis is very poor.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0a15d91c0b284e22aa2a45d8927c8fdd.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "True regarding vitamin C deficiency is:\na) Poor mineralisation of bone\nb) Angular and sharp costochondral junction\nc) Nodularity at costochondral junction\nd)Lucent metaphyseal band underlying the calcified cartilage at metaphysis",
    "choices": [
      {
        "id": 1,
        "text": "Only A"
      },
      {
        "id": 2,
        "text": "A, B, C & D"
      },
      {
        "id": 3,
        "text": "B & D"
      },
      {
        "id": 4,
        "text": "D & C"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Angular and sharp costochondral junction i.e <strong>scorbutic rosary</strong> and lucent metaphyseal band underlying the calcified cartilage&nbsp; i.e. <strong>trummerfeld zone</strong> are seen in vitamin C deficiency.</p>\n<p><strong>Radiological signs in Vitamin C deficiency(scurvy):</strong></p>\n<ul>\n<li><strong>White line of Frankel</strong>: calcified cartilage at metaphysis</li>\n<li><strong>Trummerfeld zone</strong>: lucent metaphyseal band underlying Frankel line</li>\n<li><strong>Pelkan spur</strong>: lateral prolongation of white line which is present at cortical ends</li>\n<li><strong>Wimberger ring sign</strong>: circular, opaque radiologic shadow surrounding epiphyseal centres of ossification</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/19f2510d30254404850208d63d438268x725x589.PNG"
    ]
  },
  {
    "text": "Ponderal index is ____.",
    "choices": [
      {
        "id": 1,
        "text": "Square root of fetal weight (cm)*100/weight (g)"
      },
      {
        "id": 2,
        "text": "Fetal weight (g)*100/cube of fetal length (cm)"
      },
      {
        "id": 3,
        "text": "Fetal weight (kg)*100/cube of fetal length (cm)"
      },
      {
        "id": 4,
        "text": "Square root of fetal length (cm)*100/fetal weight (kg)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Ponderal index = Fetal weight in grams X 100/(fetal length in centimeters)<sup>3</sup>\u00a0</strong>(Option B)</p>\n<p>A ponderal index (PI) is one of the anthropometric methods used to diagnose impaired fetal growth. The percentiles allow the discrimination between symmetric and asymmetric growth restriction in preterm and term infants. PI below 10<sup>th</sup> centiles is taken as fetal growth restriction.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following primitive reflexes with its age of disappearance:",
    "choices": [
      {
        "id": 1,
        "text": "A- iv   B- v   C- ii  D- iii  E-i"
      },
      {
        "id": 2,
        "text": "A-iii  B- v   C- ii  D- iv  E- i"
      },
      {
        "id": 3,
        "text": "A- iii  B-v    C-i    D- iv  E-ii"
      },
      {
        "id": 4,
        "text": "A- iv B \u2013v   C-i    D- iii  E-ii"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Moro reflex disappears by 5-6 months of age.</li>\n<li>Parachute remains throughout life.</li>\n<li>Rooting is less prominent after 1 month of age.</li>\n<li>Tonic neck reflex disappears by 4 months of age.</li>\n<li>Palmar grasp disappears by 2-3 months of age.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "On your pediatrics rotation, you notice a 2-day-old baby with the rash shown in the image below. Which among the following is the most likely cause for this baby's rash?",
    "choices": [
      {
        "id": 1,
        "text": "Rubella"
      },
      {
        "id": 2,
        "text": "Measles"
      },
      {
        "id": 3,
        "text": "Erythema infectiosum"
      },
      {
        "id": 4,
        "text": "Varicella"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows&nbsp;<strong>purple papulonodular lesions,&nbsp;</strong>which are suggestive of&nbsp;<strong>blueberry muffin rash. </strong>It<strong>&nbsp;</strong>is seen in <strong>congenital&nbsp;rubella.</strong></p>\n<p>Blueberry muffin rash&nbsp;represents&nbsp;<strong>dermal erythropoiesis</strong>. In addition to congenital rubella, it can be seen in:&nbsp;</p>\n<ul>\n<li>Congenital viral infections such as cytomegalovirus and parvovirus</li>\n<li>Neoplasms such as neuroblastoma and acute myeloid leukemia</li>\n<li>Rh hemolytic disease</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/40ebdc760f064918adaa696eb811a7e5.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "All of the following are screening tests for development surveillance except _______",
    "choices": [
      {
        "id": 1,
        "text": "Denver II"
      },
      {
        "id": 2,
        "text": "Phatak\u2019s baroda test"
      },
      {
        "id": 3,
        "text": "Bayley \u2013 II"
      },
      {
        "id": 4,
        "text": "Gesel figures and block skill"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Bayley II</strong> is a <strong>definitive test</strong> of developmental quotient. Denver II,&nbsp;Phatak&rsquo;s baroda test and&nbsp;Gesel figures and block skill are developmental <strong>screening tests.</strong></p>\n<p>&nbsp;</p>\n<table style=\"width: 343px;\" border=\"1\"><caption><strong>Tests for developmental quotient</strong></caption>\n<tbody>\n<tr>\n<td style=\"width: 171px; text-align: center;\"><strong>Definitive Tests</strong></td>\n<td style=\"width: 162px; text-align: center;\"><strong>Screening tests</strong></td>\n</tr>\n<tr>\n<td style=\"width: 171px;\">\n<ul>\n<li>Bayley scales of infant and toddler development <strong>(Bayley-II)</strong></li>\n<li>Stanford-Binet Intelligence Scale</li>\n<li>Wechsler Intelligence Scale</li>\n<li>Developmental Activities Screening Inventory (DASI-II)</li>\n<li>Vineland adaptive behaviour scale II</li>\n</ul>\n</td>\n<td style=\"width: 162px;\">\n<ul>\n<li>Denver-II developmental screening test</li>\n<li>Phatak&rsquo;s Baroda screening test</li>\n<li>Trivandrum development screening chart</li>\n<li>CAT / CLAMS</li>\n<li>Goodenough Harris draw-a-man test</li>\n<li>Gesel figures and block skills</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 4-month-old infant who was started on a high-protein diet after weaning from breastfeeding developed severe metabolic acidosis, ketosis, failure to thrive, mild hepatomegaly, and an unusual swimming pool odor. A history of similar illness was noticed in his siblings and his father. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Maple syrup urine disease"
      },
      {
        "id": 2,
        "text": "Isovaleric acidemia"
      },
      {
        "id": 3,
        "text": "Hawkinsinuria"
      },
      {
        "id": 4,
        "text": "Phenylketonuria"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical vignette and the characteristic<strong>&nbsp;swimming pool odor</strong>&nbsp;describe&nbsp;<strong>Hawkinsinuria</strong>.</p>\n<p><strong>Hawkinsinuria&nbsp;</strong><strong>is an autosomal-dominant</strong>&nbsp;condition&nbsp;caused by <strong>mutations in the gene for 4-HPPD</strong>.</p>\n<p>In infants, this disease&nbsp;causes severe metabolic acidosis, ketosis, failure to thrive, mild hepatomegaly, and swimming pool odor. Mental development is usually normal. Affected individuals excrete <strong>hawkinsin</strong> (4-hydroxyphenylpyruvic acid), and its metabolites.</p>\n<p><strong>Treatment </strong>consists of a <strong>low-protein diet during infancy</strong>. Breastfeeding is encouraged. A trial with large doses of vitamin C (up to 1,000 mg/24 hour) is also recommended.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "2-year-old Neha has been having fever since yesterday and is refusing food. Parents became alarmed when she developed an abnormal barking cough today morning and have brought her to the casualty. On examination, the child looked exhausted and had visible chest retractions and stridor. The temperature was 39.6 degrees and SpO2 was 93% on room air. Chest X-ray reveals a 'steeple' sign. What is the treatment of choice in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Racemic epinephrine nebulization"
      },
      {
        "id": 2,
        "text": "Humidified oxygen and salbutamol nebulization"
      },
      {
        "id": 3,
        "text": "Send a throat swab and start IV antibiotics"
      },
      {
        "id": 4,
        "text": "High dose dexamethasone injection"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Fever, barking cough, inspiratory stridor and a steeple sign on chest radiograph are suggestive of <strong>acute laryngotracheobronchitis</strong> (croup). The treatment of choice in this child is <strong>nebulization&nbsp;with racemic epinephrine.&nbsp;</strong></p>\n<p>Epinephrine <strong>acts rapidly</strong> and provides immediate relief. It <strong>constricts pre-capillary arterioles</strong> in the upper airway mucosa and decreases capillary hydrostatic pressure. This increases fluid resorption and <strong>reduces airway edema.</strong></p>\n<p><strong>Westley Croup Severity Score:</strong>&nbsp;</p>\n<table style=\"height: 235px; width: 487px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 102px; height: 18px;\"><strong>Feature</strong></td>\n<td style=\"width: 63px; height: 18px;\"><strong>&nbsp;0</strong></td>\n<td style=\"width: 74px; height: 18px;\"><strong>1</strong></td>\n<td style=\"width: 72px; height: 18px;\"><strong>2</strong></td>\n<td style=\"width: 49px; height: 18px;\"><strong>3</strong></td>\n<td style=\"width: 62px; height: 18px;\"><strong>4</strong></td>\n<td style=\"width: 21px; height: 18px;\"><strong>5</strong></td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 102px; height: 36px;\"><strong>Stridor</strong></td>\n<td style=\"width: 63px; height: 36px;\">None</td>\n<td style=\"width: 74px; height: 36px;\">With agitation</td>\n<td style=\"width: 72px; height: 36px;\"><strong>At rest</strong></td>\n<td style=\"width: 49px; height: 36px;\">&nbsp;</td>\n<td style=\"width: 62px; height: 36px;\">&nbsp;</td>\n<td style=\"width: 21px; height: 36px;\">&nbsp;</td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 102px; height: 36px;\"><strong>Air Entry</strong></td>\n<td style=\"width: 63px; height: 36px;\">Normal</td>\n<td style=\"width: 74px; height: 36px;\">Decreased</td>\n<td style=\"width: 72px; height: 36px;\">Markedly decreased</td>\n<td style=\"width: 49px; height: 36px;\">&nbsp;</td>\n<td style=\"width: 62px; height: 36px;\">&nbsp;</td>\n<td style=\"width: 21px; height: 36px;\">&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 102px; height: 18px;\"><strong>Retractions</strong></td>\n<td style=\"width: 63px; height: 18px;\">None</td>\n<td style=\"width: 74px; height: 18px;\"><strong>Mild</strong></td>\n<td style=\"width: 72px; height: 18px;\">Moderate</td>\n<td style=\"width: 49px; height: 18px;\">Severe</td>\n<td style=\"width: 62px; height: 18px;\">&nbsp;</td>\n<td style=\"width: 21px; height: 18px;\">&nbsp;</td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 102px; height: 36px;\"><strong>Cyanosis</strong></td>\n<td style=\"width: 63px; height: 36px;\">None</td>\n<td style=\"width: 74px; height: 36px;\">&nbsp;</td>\n<td style=\"width: 72px; height: 36px;\">&nbsp;</td>\n<td style=\"width: 49px; height: 36px;\">&nbsp;</td>\n<td style=\"width: 62px; height: 36px;\">With agitation</td>\n<td style=\"width: 21px; height: 36px;\">At Rest</td>\n</tr>\n<tr style=\"height: 55px;\">\n<td style=\"width: 102px; height: 55px;\"><strong>Level of Consciousness</strong></td>\n<td style=\"width: 63px; height: 55px;\"><strong>Normal,</strong> including sleep</td>\n<td style=\"width: 74px; height: 55px;\">&nbsp;</td>\n<td style=\"width: 72px; height: 55px;\">&nbsp;</td>\n<td style=\"width: 49px; height: 55px;\">&nbsp;</td>\n<td style=\"width: 62px; height: 55px;\">&nbsp;</td>\n<td style=\"width: 21px; height: 55px;\">Disoriented</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Overall score and severity</strong></p>\n<ul>\n<li>0 to 2- mild</li>\n<li><strong>3 to 7- moderate</strong></li>\n<li>8 to 11- severe</li>\n<li>12 to 17- impending respiratory failure</li>\n</ul>\n<p><strong>Treatment of moderate to severe croup :</strong></p>\n<ul>\n<li>Racemic <strong>epinephrine</strong> nebulization</li>\n<li><strong>Dexamethasone </strong>is indicated in all grades of croup and is given<strong>&nbsp;</strong>by the least invasive route <strong>(Oral</strong>&gt;IM&gt;IV<strong>)</strong></li>\n<li><strong>Oxygen</strong> should be administered to children who are hypoxemic (SpO2 &lt;92 %)</li>\n<li>Antibiotics are <strong>not indicated</strong> in croup</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A fetus with intrauterine growth restriction was born prematurely with jaundice, hepatosplenomegaly, microcephaly, and diffuse petechiae at birth. A brain CT was done which revealed periventricular calcifications. What is the best method for the diagnosis of the etiological agent?",
    "choices": [
      {
        "id": 1,
        "text": "Urine examination"
      },
      {
        "id": 2,
        "text": "Liver biopsy"
      },
      {
        "id": 3,
        "text": "Blood examinaton"
      },
      {
        "id": 4,
        "text": "CSF examination"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Periventricular</strong> <strong>calcifications</strong>&nbsp;and&nbsp;<strong>microcephaly</strong> in a baby with suspected congenital infection point toward <strong>cytomegalovirus</strong> (CMV). The best diagnostic method for CMV is <strong>PCR</strong> or <strong>viral culture</strong> on <strong>urine</strong>.</p>\n<p>Since <strong>not</strong> all affected infants are <strong>viremic</strong> at birth, <strong>urine</strong>&nbsp;is a&nbsp;more <strong>reliable</strong> sample than blood.&nbsp;</p>\n<p>Intrauterine growth restriction (<strong>IUGR</strong>), <strong>prematurity</strong>, and hepatosplenomegaly raise the suspicion of <strong>congenital infection</strong>. <strong>Hepatosplenomegaly</strong>, <strong>jaundice</strong>, pneumonitis, <strong>petechiae</strong>, and <strong>meningoencephalitis</strong> are common to toxoplasmosis, rubella, CMV, herpes simplex virus (HSV), enteroviruses and syphilis. <strong>Hydrocephalus</strong> is seen in CMV, toxoplasmosis, HSV, and rubella.</p>\n<p>The characteristic clinical features of various congenital infections are described in the table below:</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Congenital infections</strong></td>\n<td><strong>Characteristic</strong> <strong>features</strong></td>\n</tr>\n<tr>\n<td>Cytomegalovirus (CMV)</td>\n<td>\n<p><strong>Periventricular calcifications</strong></p>\n<p>Microcephaly</p>\n</td>\n</tr>\n<tr>\n<td>Toxoplasmosis</td>\n<td>\n<p>Chorioretinitis&nbsp;</p>\n<p><strong>Diffuse intracranial calcifications&nbsp;</strong></p>\n<p>Hydrocephalus&nbsp;</p>\n</td>\n</tr>\n<tr>\n<td>Rubella</td>\n<td>\n<p><strong>Sensorineural hearing loss</strong></p>\n<p><strong>Salt-and-pepper</strong> retinopathy</p>\n<p>Cataract</p>\n<p>Glaucoma</p>\n<p>Congenital defects like <strong>patent ductus arteriosus</strong></p>\n</td>\n</tr>\n<tr>\n<td>Herpes simplex virus (HSV)</td>\n<td>\n<p><strong>Vesicles</strong></p>\n<p>Microcephaly</p>\n</td>\n</tr>\n<tr>\n<td>Syphilis</td>\n<td>\n<p>Bone lesions (osteochondritis, periostitis)</p>\n<p>Maculopapular rashes</p>\n</td>\n</tr>\n<tr>\n<td>Enterovirus&nbsp;(polio, rhinovirus, hepatitis A)</td>\n<td>\n<p>Myocarditis</p>\n<p>Paralysis</p>\n</td>\n</tr>\n<tr>\n<td>Varicella zoster virus</td>\n<td>\n<p><strong>Limb hypoplasia</strong></p>\n<p>Cicatricial skin lesions</p>\n<p>Cortical atrophy</p>\n</td>\n</tr>\n<tr>\n<td>Zika virus</td>\n<td>\n<p><strong>Subcortical calcifications</strong></p>\n<p>Microcephaly</p>\n<p>Congenital contractures (arthrogryposis)</p>\n</td>\n</tr>\n<tr>\n<td>HIV</td>\n<td>\n<p>Thrush</p>\n<p><strong>Failure to thrive</strong></p>\n<p>Recurrent bacterial infections</p>\n<p><strong>Calcification of basal ganglia</strong></p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>The triad of congenital CMV infection includes <strong>intracranial</strong> <strong>calcifications</strong> (periventricular), <strong>microcephaly</strong>, and <strong>chorioretinitis</strong>.</p>\n<p>Most CMV transmission occurs in the <strong>first</strong> <strong>trimester</strong>. The <strong>risk</strong> of transmission is high in the <strong>third</strong> trimester. 90% of the infected babies are <strong>asymptomatic</strong> and have lesser chances of having late sequelae.</p>\n<p>In symptomatic individuals, <strong>ganciclovir</strong> can<strong> limit hearing loss</strong> and improve the developmental outcome, while there is no definitive management for congenital CMV infection.</p>\n<p>The image below shows periventricular calcification in the head CT seen in CMV infection:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a723c4c17a8143848b294942b75f2f68x1280x1280.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d407d23ea0944e088269751a90b6e607x1280x1144.JPEG"
    ]
  },
  {
    "text": "A 5-year-old child brought to the hospital with a history of loose stools. The mother says he is irritable and drinks water hastily when given. On examination, eyes are sunken and during the skin pinch test, the skin retracted within two seconds but not immediately. What is the treatment for the child?",
    "choices": [
      {
        "id": 1,
        "text": "Administer the first dose of IV antibiotic and immediately refer to a higher center"
      },
      {
        "id": 2,
        "text": "Give oral fluids and ask the mother to continue the same and visit again the next day"
      },
      {
        "id": 3,
        "text": "Give zinc supplementation and oral rehydration solution only and ask mother to come back if some danger signs develop"
      },
      {
        "id": 4,
        "text": "Consider severe dehydration, start intravenous (IV) fluids, IV antibiotics, and refer to a higher center"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The child in this scenario has some degree of dehydration, since the&nbsp;child is restless and irritable, drinks water readily, has sunken eyes, and the skin goes back slowly on the skin pinch test (&lt;2 seconds) with sunken eyes.</p>\n<p>Treatment includes oral rehydration therapy and zinc supplementation &nbsp;according to WHO Integrated Management of Neonatal and Childhood Diseases (IMNCI) Protocol, Plan B.</p>\n<p>WHO IMNCI PLANS:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f174f3e0e9654f8898e1d3176b16b078x510x428.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/faa30532230b4f2a8f6be81f7d14f35bx1280x601.GIF"
    ]
  },
  {
    "text": "What is the cause of hypercoagulability in nephrotic syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "A, B and C"
      },
      {
        "id": 2,
        "text": "A & C"
      },
      {
        "id": 3,
        "text": "B & C"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Hypercoagulability</strong> in <strong>nephrotic syndrome</strong> is due to the following factors:</p>\n<ul>\n<li>Vascular <strong>stasis</strong> due to hemoconcentration and intravascular volume depletion.</li>\n<li><strong>Increase\u00a0</strong>(not decrease) in hepatic production of fibrinogen.</li>\n<li>Urinary <strong>loss of antithrombin III and protein S</strong>.</li>\n<li>Increased platelet number and aggregability.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "According to the expanded new Ballard score, which of the following criteria for neuromuscular maturity shows a popliteal angle?",
    "choices": [
      {
        "id": 1,
        "text": "D only"
      },
      {
        "id": 2,
        "text": "C & D"
      },
      {
        "id": 3,
        "text": "E only"
      },
      {
        "id": 4,
        "text": "F only"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>According to the expanded new ballard score, criteria for neuromascular maturity given in row \"D\" depicts popliteal angle.</p>\n<p><strong>Expanded New Ballard score:</strong></p>\n<ul>\n<li><strong>5 points (maximum score)</strong> can be assigned to only 2 of the criteria:\n<ul>\n<li><strong>Popliteal angle</strong> (criteria for neuromuscular maturity)</li>\n<li><strong>Skin </strong>(criteria for physical maturity)</li>\n</ul>\n</li>\n<li>For all other criteria, 4 is the maximum score.</li>\n<li>-1 is the minimum score for all criteria except posture and arm recoil. For both these, 0 is the minimum score.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/33830b07fcac4225a27363aa0d53287c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9401c700938d448fbeaefa1abab5fe4bx1280x1696.JPEG"
    ]
  },
  {
    "text": "Which of the following medicine taken during pregnancy is responsible for defect seen in child below?",
    "choices": [
      {
        "id": 1,
        "text": "Ferrous sulfate"
      },
      {
        "id": 2,
        "text": "Isotretinoin"
      },
      {
        "id": 3,
        "text": "Folic acid"
      },
      {
        "id": 4,
        "text": "Metoclopramide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Facial defects including cleft lip seen in this child is characteristic of teratogenic effect of isoretinoin.</p>\n<p>Systemic retinoids are highly teratogenic .There is no safe dose during pregnancy. Common malformations include craniofacial,cardiovascular,thymic and central nervous system abnormalities.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/414955eacb164de7b76b10922113edf7.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "An anxious mother brought her 4-year-old daughter to the pediatrician. The girl was passing loose, bulky stools for the past 4 days. This was often associated with pain in the abdomen. The pediatrician ordered stool examination, which showed the following organisms. Which vitamin deficiency is the child at the greatest risk for?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin B1 deficiency"
      },
      {
        "id": 2,
        "text": "Vitamin A deficiency"
      },
      {
        "id": 3,
        "text": "Vitamin B6 deficiency"
      },
      {
        "id": 4,
        "text": "Vitamin C deficiency"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The stool examination (image) shows&nbsp;<strong>pear-shaped trophozoites</strong> having two nuclei and a flagellum, typical of <strong><em>Giardia lamblia</em>.&nbsp;</strong>Giardiasis is associated with&nbsp;a deficiency of fat-soluble vitamins like vitamin A.</p>\n<p><em>Giardia lamblia&nbsp;</em>is transmitted via contaminated drinking water.</p>\n<p>Clinical features include acute infectious diarrhea or <strong>chronic diarrhea</strong>, failure to thrive, and abdominal pain. Stools initially may be profuse and watery and later become greasy and <strong>foul-smelling</strong>. Stools do not contain blood, mucus, or leukocytes. It is associated with fat-soluble vitamin deficiencies, iron deficiency, and growth stunting.</p>\n<p>Diagnosis is done by <strong>stool enzyme immunoassay (EIA)</strong> or direct fluorescent antibody tests for<em> Giardia</em> antigens; EIA is superior to microscopy.</p>\n<p>Treatment includes tinidazole and nitazoxanide.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b254d177a26d47a192da5d336c15f58d.jpg"
    ],
    "explanation_images": []
  },
  {
    "text": "As per revised 2014 WHO  guidelines which of the following pneumonia case is safe to treat at home?",
    "choices": [
      {
        "id": 1,
        "text": "Convulsions"
      },
      {
        "id": 2,
        "text": "Severe malnutrition"
      },
      {
        "id": 3,
        "text": "Chest indrawing"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The revised 2014 WHO guidelines states that it is safe to treat chest indrawing pneumonia at home.</p>\n<p>However, a child who is HIV positive and has chest indrawing needs to be referred for inpatient treatment.</p>\n<p>Only those children who have the following general danger signs are classified as having &ldquo;severe pneumonia&rdquo; and need to be referred to a higher level (hospital admission):</p>\n<ul>\n<li>Not able to drink</li>\n<li>Persistent vomiting</li>\n<li>Convulsions lethargic or unconscious</li>\n<li>Stridor in a calm child</li>\n<li>Severe malnutrition</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child with rickets not responding to treatment is being evaluated. Investigations show serum calcium level of 9 mg/dL, low phosphate level of 2 mg/dL,  elevated alkaline phosphatase, and normal parathyroid hormone levels with normal arterial blood gas levels. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Renal tubular acidosis"
      },
      {
        "id": 2,
        "text": "Hypophosphatemic rickets"
      },
      {
        "id": 3,
        "text": "Chronic kidney disease"
      },
      {
        "id": 4,
        "text": "Vitamin D-dependant rickets, type 2"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This clinical scenario of a child with a history of treatment-resistant rickets, normal levels of calcium (9 to 11 mg/dL), parathyroid hormone, arterial blood gas (ABG), with<strong> decreased phosphate</strong> (normal, 2.5 to 4.3 mg/dL), and elevated levels of alkaline phosphatase (normal, 33 to 96 U/L) is suggestive of <strong>hypophosphatemic rickets</strong>.</p>\n<p><strong>Hypophosphatemic rickets:</strong></p>\n<p>X-linked dominant hypophosphatemic rickets is the&nbsp;<strong>most common genetic cause</strong>&nbsp;of rickets while the most common, overall is nutritional vitamin D deficiency.&nbsp;<strong>PHEX&nbsp;gene</strong>&nbsp;(<strong>ph</strong>osphate-regulating&nbsp;<strong>e</strong>ndopeptidase on&nbsp;<strong>x</strong>&nbsp;chromosome) products are responsible for the&nbsp;<strong>inactivation of phosphatonin</strong>. Mutation of this&nbsp;PHEX&nbsp;leads to increased phosphatonin (FGF 23) levels, and hence, the <strong>excretion of phosphorous</strong> is <strong>increased</strong>. This is also associated with <strong>impaired</strong> renal tubular <strong>reabsorption</strong> of phosphate leading to its excess excretion.</p>\n<p>The chart attached below summarizes the evaluation of hypophosphatemic rickets.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a7c805ae6ab94a9db6b9d957014e9d99x1280x1837.8561354019746.JPEG"
    ]
  },
  {
    "text": "An 8 days old child presents with yellow sclera, whitish stool and turmeric colour urine on 3rd day of septicaemia on broad spectrum antibiotics , the likely diagnosis is -",
    "choices": [
      {
        "id": 1,
        "text": "Galactosidase deficiency"
      },
      {
        "id": 2,
        "text": "Ammonia toxicity"
      },
      {
        "id": 3,
        "text": "Galactose 1- phosphate uridyl transferase deficiency"
      },
      {
        "id": 4,
        "text": "Glucose 6 phosphatase deficiency"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Feature of conjugated bilirubinemia on 3<sup>rd</sup> day accompanied by sepsis in a neonate suggests diagnosis of Galactosemia, in which there is deficiency of <strong>galactose 1 phosphate uridyl transferase</strong>.</p>\n<p><strong>Galactosemia:</strong></p>\n<ul>\n<li>Deficiency of galactose 1-phosphate uridyl transferase.</li>\n<li>Autosomal recessive disorder</li>\n<li>Newborn infant receives high amounts of lactose from breast milk or other formulas which consists of equal amounts of glucose and galactose. Without the transferase enzyme the infant is unable to metabolize galactose 1 phosphate,the accumlation of which results in injury to kidney,liver and brain.This injury may begin prenatally in affected fetus.</li>\n<li>Patients with galactosemia are at increased risk for e.coli neonatal sepsis.</li>\n<li>Treatment:\n<ul>\n<li><strong>Non lactose containing milk</strong> substitutes should be used.</li>\n<li>Elimination of galactose from diet along with adequate <strong>calcium supplementation</strong> reverses growth failure and renal and hepatic dysfunction.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Sheila, a widowed maid brings her youngest child to your OPD with complaints of cough and cold. She has not been able to feed her kids after the lockdown affected her work. The image of the child is shown below.  Which of the following is least likely to be seen in this case?",
    "choices": [
      {
        "id": 1,
        "text": "Baggy pant appearance"
      },
      {
        "id": 2,
        "text": "Reduced mid arm circumferance"
      },
      {
        "id": 3,
        "text": "Apathy"
      },
      {
        "id": 4,
        "text": "Pitting not seen"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shows a child with <strong>marasmus </strong>which is <strong>not associated with apathy</strong>. Apathy is a psychomotor change seen in kwashiorkor.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/dab52325ee3d4091adba30dd4d3097dd.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which fungal infection spreads in neonates through the care giver's hand?",
    "choices": [
      {
        "id": 1,
        "text": "Candida albicans"
      },
      {
        "id": 2,
        "text": "Candida parapsilosis"
      },
      {
        "id": 3,
        "text": "Candida tropicalis"
      },
      {
        "id": 4,
        "text": "Candida glabrata"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><em><strong>Candida</strong> <strong>parapsilosis</strong></em> is increasingly responsible for hospital outbreaks, and the hands of healthcare workers may be predominant environment sources.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A male baby born at term from uncomplicated delivery develops respiratory distress shortly after birth. The chest x-ray shows a diffuse ground-glass appearance of lung fields. Surfactant replacement and mechanical ventilation fail to improve hypoxemia. There is a history of death of a term male sibling at 1 month of age due to respiratory distress. Which of the following is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Neonatal pulmonary alveolar proteinosis"
      },
      {
        "id": 2,
        "text": "Meconium aspiration syndrome"
      },
      {
        "id": 3,
        "text": "Hyaline membrane disease"
      },
      {
        "id": 4,
        "text": "Transient tachypnea of newborn"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical history of <strong>respiratory distress</strong> and <strong>no response </strong>to<strong> surfactant</strong> therapy in a newborn and a <strong>family history</strong> of sibling death point toward a diagnosis of <strong>n</strong><strong>eonatal pulmonary alveolar proteinosis&nbsp;</strong>(PAP).</p>\n<p>It is a disorder characterized by <strong>intra-alveolar accumulation</strong> of pulmonary surfactant due to abnormal surfactant production or impaired clearance by alveolar macrophages. Inherited PAP occurs due to the dysfunction of various surfactant proteins.</p>\n<div class=\"page\" title=\"Page 3997\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 4001\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Pulmonary alveolar proteinosis</strong>&nbsp;is classified into primary and secondary PAP. Primary pulmonary alveolar proteinosis&nbsp;is caused due to disruption of granulocyte-macrophage colony-stimulating factor (GM-CSF) signaling. Secondary PAP is caused due to several different diseases that reduce alveolar macrophage number or function.</p>\n</div>\n</div>\n</div>\n</div>\n<p>In the neonatal period, the disease may manifest as a severe respiratory failure whereas in older children it has an insidious onset of chronic interstitial lung disease.&nbsp;Infants present with symptoms of dyspnea, fatigue, cough, weight loss, chest pain, or hemoptysis.</p>\n</div>\n</div>\n</div>\n<p>Chest x-ray shows <strong>diffuse alveolointerstitial infiltrates</strong> presenting as <strong>ground-glass opacities</strong>. <strong>Lung biopsy </strong>is the gold standard investigation to diagnose PAP<strong>.&nbsp;</strong>Latex agglutination tests for the presence of anti&ndash;GM-CSF antibodies in BAL fluid or blood can also be done. They are highly sensitive and specific for the autoimmune forms of alveolar proteinosis.</p>\n<p>The disease is <strong>progressive</strong> and is <strong>refractory to surfactant replacement therapy</strong>.<strong>&nbsp;</strong>Neonates with&nbsp;severe respiratory failure require mechanical ventilation and can also be treated with extracorporeal membrane oxygenation.&nbsp;Neonatal intensive care interventions and lung transplantation have been successful in a few cases. A <strong>total&nbsp;lung lavage</strong>&nbsp;is a therapeutic option for patients with childhood PAP.&nbsp;Subcutaneous or inhaled administration of <strong>recombinant GM-CSF</strong> may improve pulmonary function in some adults with later-onset PAP.&nbsp;</p>\n<p>Other options:<br /><br />Option B: <strong>Meconium aspiration syndrome</strong> (MAS) presents immediately after birth, with features of <strong>respiratory distress </strong>due to<strong> aspiration of meconium</strong> in utero, resulting in <strong>airway obstruction</strong>. Most cases improve well with supportive care and mechanical ventilation.&nbsp;</p>\n<div class=\"page\" title=\"Page 1470\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option C: <strong>Hyaline membrane disease</strong> occurs in <strong>premature infants</strong> due to <strong>surfactant deficiency</strong>. Distress ensues within a few minutes of birth. If untreated, it may result in respiratory failure. <strong>Surfactant replacement therapy</strong> and mechanical ventilation will greatly improve the condition.</p>\n<p>Option D: <strong>Transient tachypnea of the newborn</strong> is <strong>self-limiting</strong> tachypnea occurring in full-term infants due to <strong>reduced clearance of fetal lung fluid</strong>. Treatment is mainly <strong>supportive</strong>.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "If a child presents with albinism he should be evaluated for:",
    "choices": [
      {
        "id": 1,
        "text": "ENT consultation"
      },
      {
        "id": 2,
        "text": "Eye consultation"
      },
      {
        "id": 3,
        "text": "Electrocardiography"
      },
      {
        "id": 4,
        "text": "Neurosurgery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>If a child presents with albinism, he should be evaluated for an <strong>eye consultation.</strong></p>\n<p><strong>Oculocutaneous albinism type 1(OCA1)</strong> is characterized by great reduction or absence&nbsp; of tyrosinase activity. OCA1A the most severe form is characterized by photophobia, nystagmus, defective visual acuity, white hair and white skin.</p>\n<p><strong>OCA2</strong> ranges from normal to closely resembling type 1 albinism. It is the most common form seen worldwide. Progressive improvement in visual acuity and nystagmus occurs with aging.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young girl who was grossly emaciated and undernourished was started on partial parenteral nutrition together with enteral nutrition via a nasogastric tube. In the first week, which among the following would be the hallmark for the development of refeeding syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Hyperphosphatemia"
      },
      {
        "id": 2,
        "text": "Hypophosphatemia"
      },
      {
        "id": 3,
        "text": "Hypokalemia"
      },
      {
        "id": 4,
        "text": "Hyperkalemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>hallmark of refeeding syndrome</strong> is the development of<strong> severe hypophosphatemia</strong>.</p>\n<p>Refeeding syndrome is a complication of the acute nutritional rehabilitation of <strong>children who are undernourished</strong> from any cause, and it may follow <strong>overly aggressive enteral or parenteral alimentation.</strong></p>\n<p>When excessive carbohydrates are administered, the resultant increase in serum insulin levels may produce the following:</p>\n<ol>\n<li><strong>Hypophosphatemia</strong> (hallmark)</li>\n<li>Hypokalemia</li>\n<li>Hypomagnesemia</li>\n</ol>\n<p>A controlled <strong>transition over 3 days</strong>&nbsp;from F-75 to F-100 is recommended by the WHO for treating malnutrition, to prevent refeeding syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the instrument shown.",
    "choices": [
      {
        "id": 1,
        "text": "Spring balance"
      },
      {
        "id": 2,
        "text": "Beam balance"
      },
      {
        "id": 3,
        "text": "Electronic weighing scale"
      },
      {
        "id": 4,
        "text": "Salter scale"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The instrument shown is <strong>salter scale.</strong></p>\n<p>It is accepted by <strong>UNICEF</strong> and the central govt. as a mechanical machine used for weighing children from age 1-5 yr. It is donated by UNICEF in various anganwadi centres of different states for weighing children and recording the growth monitoring chart.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5601934f996244949af768603f696f69.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A primary school teacher notices a peculiar behavior in one of her pupils. Whenever he plays with his friends, she notices that her fingers and lips turn blue. The child then squats for sometime after which he feels better. Which of the following does not occur during squatting?",
    "choices": [
      {
        "id": 1,
        "text": "It increases  the systemic vascular resistance"
      },
      {
        "id": 2,
        "text": "It increases the magnitude of right-to-left shunt"
      },
      {
        "id": 3,
        "text": "Leads to trapping of deoxygenated blood in lower limbs"
      },
      {
        "id": 4,
        "text": "Both A and C"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Squatting <strong>decreases the magnitude of the right-to-left shunt </strong>in a child with <strong>tetralogy of Fallot</strong> (TOF) .</p>\n<p>The child feels comfortable while squatting due to two compensatory mechanisms:</p>\n<ul>\n<li>Increasing systemic vascular resistance and, thus,&nbsp;<strong>decreasing the magnitude of the right-to-left shunt</strong> across the ventricular septal defect (VSD). Therefore, more blood goes to the&nbsp;lungs for oxygenation.</li>\n<li><strong>Trapping deoxygenated venous blood</strong> in the lower limbs.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An 18 month old baby who hasn't received immunisation so far, was brought to the clinic. Which of the following vaccines can be given?",
    "choices": [
      {
        "id": 1,
        "text": "Pentavalent vaccine only"
      },
      {
        "id": 2,
        "text": "OPV+DPT+Measles 1st dose"
      },
      {
        "id": 3,
        "text": "BCG + OPV + MMR"
      },
      {
        "id": 4,
        "text": "OPV + DPT booster"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Vaccines which can be given to an 18 month old unimmunized baby brought to the clinic for the first time are OPV+DPT+Measles 1st dose.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You come across a child with growth hormone deficiency during your ward rounds. Which of the following features would you not expect in this child?",
    "choices": [
      {
        "id": 1,
        "text": "History of short stature at birth"
      },
      {
        "id": 2,
        "text": "High-pitched voice"
      },
      {
        "id": 3,
        "text": "Normal intelligence"
      },
      {
        "id": 4,
        "text": "Proportionate short stature"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Children with growth hormone deficiency usually have&nbsp;<strong>normal growth at birth. G</strong><strong>rowth retardation</strong>&nbsp;(decline in growth velocity) becomes apparent around <strong>1 year</strong> of age.&nbsp;</p>\n<p>Growth <strong>in-utero</strong> is dependant on <strong>genetic, environmental, nutrition</strong> and <strong>growth factors.</strong> GH levels peak at mid-gestation, increase at birth, and then reduce by 2 weeks of life. At around <strong>6 months</strong> of age, <strong>GH</strong> levels reach <strong>pre-pubertal levels</strong> and from there on have a major <strong>influence</strong> on <strong>growth.</strong>&nbsp;Thus the deficiency becomes apparent after a significant period of GH-dependent growth has occurred.&nbsp;</p>\n<p><strong>Characteristic</strong> features of <strong>growth hormone deficiency</strong> (<strong>Pituitary Dwarfism</strong>):</p>\n<ol>\n<li>Normal growth at birth&nbsp;with growth retardation becoming apparent around 1 year of age</li>\n<li><strong>Proportionate short stature</strong></li>\n<li>Hypoglycemic seizures in newborn</li>\n<li>Small larynx with a&nbsp;<strong>high-pitched voice</strong></li>\n<li>Small genitalia (micropenis)</li>\n<li>Delayed skeletal maturation</li>\n<li>Delayed dentition</li>\n<li>Delayed puberty (sexual infantilism)</li>\n<li>Doll-like facial appearance: small, round facies, frontal prominence, depressed nasal bridge (saddle nose), eyes may bulge, underdeveloped mandible and chin, normal head circumference but craniofacial disproportion due to small facies</li>\n<li>Short neck</li>\n<li><strong>Normal intelligence</strong>.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child with recurrent UTI comes to OPD for evaluation.The child passes frequent small amounts of urine with burning sensation. Voiding cystourethrography shows unilateral vesicoureteral reflux (VUR). Identify the grade as per image?",
    "choices": [
      {
        "id": 1,
        "text": "Grade 2"
      },
      {
        "id": 2,
        "text": "Grade 4"
      },
      {
        "id": 3,
        "text": "Grade 5"
      },
      {
        "id": 4,
        "text": "Grade 3"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Voiding cystourethrography </strong>shows vesicoureteral reflux of Grade 4, in which contrast media fill and grossly dilate the ureter and the collecting&nbsp; system with blunting of calyces. Some tortuosity of ureter is also present.</p>\n<p>VUR severity is graded is based on the <strong>appearance of the urinary tract on a contrast voiding cystourethrogram</strong>.</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9b6b46dc2b474e58b682ec88babc8370.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/df05cd22dab44d2d9474ca95b637208dx787x200.PNG"
    ]
  },
  {
    "text": "Which of the following babies has least risk of developing hypoglycaemia?",
    "choices": [
      {
        "id": 1,
        "text": "A baby born to hypertensive mother taking propranolol"
      },
      {
        "id": 2,
        "text": "Infant of diabetic mothers taking oral hypoglycemic drugs"
      },
      {
        "id": 3,
        "text": "A baby born to hypertensive mother taking methyldopa"
      },
      {
        "id": 4,
        "text": "Infants with birth weight more than 90th percentile"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Infants with hypertensive mother taking methyldopa,a alpha 2 adernergic receptor agonist have the least risk of developing hypoglycaemia.</p>\n<p>Hypoglycemia in newborns</p>\n<p>Blood sugar levels &lt;40mg/dl</p>\n<p>High risk situations where screening is recommended -</p>\n<ul>\n<li>Low birth weight &lt;2000gms</li>\n<li>Preterm infants &lt;35 weeks</li>\n<li>Small for gestational age.birth weight&lt;10<sup>th</sup> percentile</li>\n<li>Infant of diabetic mothers. (insulin dependent and gestational diabetes)</li>\n<li>Large for gestational age infants. birth weight&gt;90<sup>th</sup> percentile</li>\n<li>Infants with Rh haemolytic disease</li>\n<li>Infants with morphological IUGR</li>\n<li>Infants born to mother receiving therapy with terbutaline/propranolol/labetolol/oral hypoglycemic agents.</li>\n<li>Any sick neonate</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A concerned mother brings her 15-day old baby to you with complaints of decreased activity and vomiting. On examination, the baby is hypotensive, has depressed fontanelles and reduced skin turgor. The image of the external genitalia of the baby is shown below. Which electrolyte abnormality can you expect to see in this baby?",
    "choices": [
      {
        "id": 1,
        "text": "Hypokalemia"
      },
      {
        "id": 2,
        "text": "Hyperkalemia"
      },
      {
        "id": 3,
        "text": "Hypocalcemia"
      },
      {
        "id": 4,
        "text": "Hypercalcemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows <strong>ambiguous genitalia</strong>. This along with signs of <strong>dehydration</strong> and <strong>hypotension</strong> suggest <strong>congenital adrenal hyperplasia</strong> due to <strong>21-hydroxylase deficiency. Hyperkalemia</strong>&nbsp;and hyponatremia (due to mineralocorticoid deficiency) can be seen in this condition.&nbsp;</p>\n<p>These babies present at <strong>10&ndash;14 days of age</strong> with progressive weight loss, weakness, anorexia, vomiting, <strong>dehydration</strong>,<strong> hypoglycemia,&nbsp;and hypotension</strong>.</p>\n<p>Without treatment,<strong> shock</strong>, cardiac arrhythmias, and death may occur within days or weeks.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8875362964284b4d8aeca0c5054aeea5.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false?",
    "choices": [
      {
        "id": 1,
        "text": "Head circumference should be measured within 24 hours after birth"
      },
      {
        "id": 2,
        "text": "Head circumference equals chest circumference at 1 year of age"
      },
      {
        "id": 3,
        "text": "A boys height at 2 and half years is half of his adult height"
      },
      {
        "id": 4,
        "text": "A girls height at 2 years is half of her adult height"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Head circumference <strong>should not be measured within 24 hours</strong> because the head is subjected to molding during delivery, which makes the measurements unreliable.</p>\n<p>The maximum circumference of the head from the <strong>occipital protuberance</strong> to the <strong>supraorbital ridges</strong> on the forehead is recorded using the&nbsp;cross-tape method.</p>\n<table border=\"1\">\n<tbody>\n<tr>\n<td style=\"text-align: center;\"><strong>Age</strong></td>\n<td style=\"text-align: center;\"><strong>Head circumference</strong></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">At birth</td>\n<td style=\"text-align: center;\">33 to 35cm</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3 m</td>\n<td style=\"text-align: center;\">40 cm</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">6 m</td>\n<td style=\"text-align: center;\">43 cm</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1 year</td>\n<td style=\"text-align: center;\">46 cm</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2 years</td>\n<td style=\"text-align: center;\">48 cm</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3 years</td>\n<td style=\"text-align: center;\">49 cm</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">4 years</td>\n<td style=\"text-align: center;\">50 cm</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">12 years</td>\n<td style=\"text-align: center;\">52 cm (adult size)</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>Head circumference increases by the following:\n<ul>\n<li>2 cm/month in first 3 months</li>\n<li>1 cm/month in next 3 months</li>\n<li>0.5 cm/month in next 6 months</li>\n</ul>\n</li>\n</ul>\n<p>Head circumference is more than chest circumference by 2.5 cm at birth.</p>\n<ul>\n<li>At birth: <strong>Head circumference</strong> <strong>&gt;</strong> <strong>Chest circumference</strong></li>\n<li>At 9-12 months:&nbsp;<strong>Head circumference = Chest circumference</strong></li>\n<li>After 1 year: Head circumference <strong>&lt;</strong> <strong>Chest circumference</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the disease shown in the karyotype:",
    "choices": [
      {
        "id": 1,
        "text": "Cri-du\u2013chat syndrome"
      },
      {
        "id": 2,
        "text": "Bloom syndrome"
      },
      {
        "id": 3,
        "text": "Angelman syndrome"
      },
      {
        "id": 4,
        "text": "Fragile X syndrome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the karyotype, there is a\u00a0<strong>partial deletion of the short arm of chromosome 5</strong>, which leads to <strong>Cri-du-chat syndrome.\u00a0</strong>Partial aneuploidy\u00a0occurs as a result of the breakdown of the chromosomes.</p>\n<p>Cri-du-chat syndrome is a rare genetic disorder.<strong>\u00a0</strong>Features<strong>\u00a0</strong>of the condition are <strong>hypotonia</strong>,<strong> short stature</strong>, <strong>characteristic cry</strong> called a cat's cry in the first few weeks of life, <strong>microcephaly</strong> with protruding metopic sutures, <strong>hypertelorism</strong>, bilateral epicanthic folds, high arched palate, flat nasal bridge, and <strong>intellectual disability.</strong></p>\n<p>Diagnosis is based on clinical findings and chromosomal analysis.\u00a0<strong>Fluorescence in situ hybridization</strong> (FISH) is the specific test to confirm the diagnosis.\u00a0</p>\n<p>Given below is a picture of the facies in cri-du-chat syndrome:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f0df819cbf3a4cd0bef5401fcb6063f3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0502276cef0f47aba609aa6b5d3f46bex740x985.JPEG"
    ]
  },
  {
    "text": "Identify the apparatus used in paediatrics",
    "choices": [
      {
        "id": 1,
        "text": "Electronic weighing scale"
      },
      {
        "id": 2,
        "text": "Resuscitator"
      },
      {
        "id": 3,
        "text": "Radiant warmer"
      },
      {
        "id": 4,
        "text": "Phototherapy unit"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Image shows <strong>Radiant warmer</strong> used to maintain the body temperature of newborn infants.<br />This is done so that the energy expended for metabolic heat production is minimized.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/54152e3d5df84fb4907e7e0bc6e0f03b.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following fetal hormones does not play any role in fetal growth?",
    "choices": [
      {
        "id": 1,
        "text": "Insulin"
      },
      {
        "id": 2,
        "text": "Glucocorticoid"
      },
      {
        "id": 3,
        "text": "Thyroxine"
      },
      {
        "id": 4,
        "text": "Growth hormone"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Growth hormone</strong> does not play any role in fetal growth, although it is present in high levels during the fetal period. However, it does have a role in the&nbsp;<strong>postnatal period</strong>.&nbsp;</p>\n<p><strong>Insulin</strong> and <strong>thyroxine</strong> hormones are required for normal growth and development during late gestation. <strong>Glucocorticoid</strong> has a role in the prepartum maturation of organs such as liver, lungs, and gastrointestinal tract.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a component of Polio Endgame Strategy 2019-2023 by WHO?",
    "choices": [
      {
        "id": 1,
        "text": "Stop all circulating vaccine-derived poliovirus (cVDPV) outbreaks within 120 days of detection"
      },
      {
        "id": 2,
        "text": "Separation of polio surveillance and vaccine preventable disease surveillance"
      },
      {
        "id": 3,
        "text": "Certify eradication of Wild Poliovirus (WPV)"
      },
      {
        "id": 4,
        "text": "Interrupt transmission of all wild poliovirus (WPV)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Integration,&nbsp;</strong>not separation, of polio surveillance with vaccine-preventable disease (VPD) surveillance, is a part of <strong>Polio Endgame Strategy 2019-2023.</strong></p>\n<p><span style=\"text-decoration: underline;\">Goals of the Polio Endgame Strategy 2019&ndash;2023</span></p>\n<p><strong>Goal One: Eradication </strong></p>\n<ul>\n<li>Interrupt transmission of all wild poliovirus (WPV)</li>\n<li>Stop all circulating vaccine-derived poliovirus (cVDPV) outbreaks within 120 days of detection and eliminate the risk of emergence of future VDPVs</li>\n</ul>\n<p><strong>Goal two: Integration</strong></p>\n<ul>\n<li>Contribute to strengthening immunization and health systems to help achieve and sustain polio eradication</li>\n<li>Ensure sensitive poliovirus surveillance through integration with comprehensive vaccine-preventable disease (VPD) and communicable disease surveillance systems</li>\n<li>Prepare for and respond to future outbreaks and emergencies</li>\n</ul>\n<p><strong>Goal Three: Certification &amp; Containment</strong></p>\n<ul>\n<li>Certify eradication of WPV</li>\n<li>Contain all polioviruses</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The given image shows an infant feeding cup. It is used for feeding ________",
    "choices": [
      {
        "id": 1,
        "text": "Malnourished infant"
      },
      {
        "id": 2,
        "text": "Hypoglycemic infant"
      },
      {
        "id": 3,
        "text": "Normal infant"
      },
      {
        "id": 4,
        "text": "Low birth weight  infants"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Technique shown is <strong>Paladai feeding</strong> technique used for<strong> low birth weight , premature infants</strong>.</p>\n<p>A paladai is a small bowl with a long pointed lip .The advantages of this feeding method are that it usually faster than spoon or even cup feeding and there is less spillage.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b3a9b72ed44443de860194758b5e3c0e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following does not belong to clinical stage 3 of HIV in children /infants -",
    "choices": [
      {
        "id": 1,
        "text": "Oral hairy leukoplakia"
      },
      {
        "id": 2,
        "text": "Unexplained anemia/neutropenia/thrombocytopenia"
      },
      {
        "id": 3,
        "text": "Persistent oral candidiasis"
      },
      {
        "id": 4,
        "text": "Oesophageal candidiasis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Oesophageal candidiasis</strong> does not belong to clinical stage 3.<br /> Its <strong>stage 4</strong> of HIV in infants.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following congential malformation with its findings -",
    "choices": [
      {
        "id": 1,
        "text": "A-iii   B-iv     C-ii     D-i"
      },
      {
        "id": 2,
        "text": "A -iv    B-iii    C-i    D-ii"
      },
      {
        "id": 3,
        "text": "A-iii     B-iv    C-i   D-ii"
      },
      {
        "id": 4,
        "text": "A-iv      B-iii   C-ii   D-i"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Coffee bean sign is seen in sigmoid volvulus in plain erect xray.</p>",
    "explanation_video": "",
    "question_images": [
      "https://daily-rounds-staging.s3.amazonaws.com/uploads/2f55afca76714aba837864e316b434c5.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5c5e360f5c2242a1a7d3367c135cf774x1123x1205.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/da54df3fa46648598aa7e399aee67b09x319x598.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/98b3a32b5e614964a5e1165d2593a02ex400x505.PNG"
    ]
  },
  {
    "text": "A child starts saying -mama, baba at this age the social development seen is -",
    "choices": [
      {
        "id": 1,
        "text": "Waves bye bye"
      },
      {
        "id": 2,
        "text": "Stranger anxiety"
      },
      {
        "id": 3,
        "text": "Mimicry"
      },
      {
        "id": 4,
        "text": "Recognises mother"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Mama, Baba are bisyllables which is language milestone at age of 9 months at this age social development seen is child waves bye bye.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A postnatal  period of life which provide the platform for remarkable growth and development,setting the trajectory for a child's life-",
    "choices": [
      {
        "id": 1,
        "text": "Newborn"
      },
      {
        "id": 2,
        "text": "Infancy"
      },
      {
        "id": 3,
        "text": "Toddler"
      },
      {
        "id": 4,
        "text": "Preschool child"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>A postnatal period of life which provide the platform for remarkable growth and development,setting the trajectory for a child's life is the first year of life that is infancy.</p>\n<p>First four weeks after birth is newborn.It is the time for marked physiologic transitions occuring in all organ systems, and the newborn infant learn to respond to many forms of external stimuli.</p>\n<p>1-3 years postnatal is toddler.It's newly found ability to walk allows separation and independence.</p>\n<p>Preschool is 3-6 years of age .The emergence of language and exposure of children to an expanding social sphere represent the critical milestone</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A final year student is asked to give a seminar on 'fetal circulation.' Which among the following statement told by him in the seminar is likely to be false?",
    "choices": [
      {
        "id": 1,
        "text": "Heart receives blood with high oxygen saturation"
      },
      {
        "id": 2,
        "text": "Pressure in right and left ventricles are equal"
      },
      {
        "id": 3,
        "text": "Liver receives blood with low oxygen saturation compared to the brain"
      },
      {
        "id": 4,
        "text": "Blood in inferior venacava has lower oxygen concentration compared to superior venacava"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Blood in the inferior vena cava has a&nbsp;<strong>higher</strong> oxygen concentration compared to the superior vena cava.</p>\n<p>The superior vena cava carries the deoxygenated blood from the upper part of the body to the right atrium. The&nbsp;<strong data-stringify-type=\"bold\">highly oxygenated blood</strong>&nbsp;is carried to the fetus from the placenta via the<strong data-stringify-type=\"bold\">&nbsp;umbilical vein&nbsp;</strong>with 50% of the umbilical venous blood entering the hepatic circulation and the rest bypassing the liver and joining the inferior vena cava (IVC) via the ductus venosus. Hence, the blood in the inferior vena cava has a <strong>higher</strong> oxygen concentration compared to the superior vena cava. Also, relatively a larger percentage of oxygen-rich blood is perfused to the brain.</p>\n<p>Pressures in both the right and left ventricles are equal in a developing fetus. The upper part of the body is perfused exclusively by the left ventricle while the lower extremities are perfused by the right ventricle.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A mother comes with her 3 month  child asking the physician if she can feed her child with cereal. What problem can this lead to ?",
    "choices": [
      {
        "id": 1,
        "text": "Allergy due to food content"
      },
      {
        "id": 2,
        "text": "Risk of gastrointestinal infection"
      },
      {
        "id": 3,
        "text": "Retarded oro-motor development"
      },
      {
        "id": 4,
        "text": "Contaminated food leading to reflux"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Babies should receive only breast milk or infant formula for the first 6 months of life.<br /> Most important reason for this is <strong>allergy due to food content.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A teacher complains that a 7-year-old girl with falling grades is inattentive in class and has unresponsive episodes with staring. On hyperventilation, her symptoms increase and her EEG findings show a 3Hz spike and wave discharge. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Myoclonic seizures"
      },
      {
        "id": 2,
        "text": "Myoclonus"
      },
      {
        "id": 3,
        "text": "Typical Absence seizure"
      },
      {
        "id": 4,
        "text": "Juvenile myoclonic epilepsy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most likely diagnosis based on the clinical vignette and <strong>EEG features</strong> is<strong> typical absence seizures</strong>.</p>\n<p>Absence seizures are a form of <strong>generalized seizures</strong> marked by <strong>unresponsiveness</strong>, <strong>staring</strong>, and eye flutter which usually last for a few seconds.\u00a0<strong>GABA<sub>B</sub>\u00a0receptors, T-type Ca<sup>2+</sup>\u00a0channels</strong>, and\u00a0<strong>K<sup>+</sup>\u00a0channels</strong>\u00a0situated within the <strong>thalamus\u00a0</strong>are involved in the pathophysiology of absence seizures.</p>\n<p>It is of two types:</p>\n<ul>\n<li>Typical absence seizures\u00a0\u00a0</li>\n<li>Atypical absence seizures\u00a0\u00a0</li>\n</ul>\n<p>Typical absence seizures are associated with <strong>3-Hz spike</strong> and <strong>slow wave discharges</strong> on EEG. It usually starts by the age of <strong>5-8 years</strong> and can occur up to a <strong>hundred times</strong> per day.<strong> Hyperventilation</strong> can precipitate seizures and EEG changes. They last only for a <strong>few seconds</strong> and do not have an aura. It can be accompanied by eyelid flutter or upward rolling of the eyes. <strong>Simple automatisms</strong> such as lip smacking or picking at clothing can also be seen. There is <strong>no postictal period</strong> and the child usually <strong>resumes whatever activity</strong> he/she was engaged in prior to the episode.\u00a0</p>\n<p><strong>Atypical absence seizures</strong>\u00a0are associated with <strong>1-2-Hz spike-and-slow-wave discharges</strong>. Head atonia and <strong>myoclonus</strong> can also be seen during the seizures. It is precipitated by <strong>drowsiness</strong> and is generally more difficult to treat.\u00a0</p>\n<p><strong>Juvenile absence seizures</strong> occur at a later stage and are similar to typical absences. It is marked by 4-to-6 Hz spike-and-slow-wave and polyspike-and-slow-wave discharges. It is associated with juvenile myoclonic epilepsy.</p>\n<p><strong>EEG\u00a0</strong>is the<strong> diagnostic test </strong>for\u00a0absence seizures. An <strong>MRI</strong> would appear normal and so is not useful.\u00a0<strong>Ethosuximide</strong>\u00a0is the drug of choice for typical absence seizures. Its mechanism of action is\u00a0<strong>inhibition\u00a0</strong>of<strong>\u00a0T-type calcium channels</strong>.\u00a0<strong>Phenytoin, carbamazepine</strong>, and\u00a0<strong>oxcarbazepine</strong>\u00a0have all been associated with\u00a0<strong>aggravation </strong>of<strong> absence seizures</strong>\u00a0and even\u00a0<strong>absence status epilepticus</strong>\u00a0in children with absence epilepsy.</p>\n<p>The<strong>\u00a0</strong>following\u00a0epilepsy syndromes are associated with absence seizures:</p>\n<ul>\n<li><strong>Childhood absence epilepsy</strong></li>\n<li><strong>Juvenile absence epilepsy</strong></li>\n<li><strong>Juvenile myoclonic epilepsy</strong></li>\n<li><strong>Myoclonic absence epilepsy</strong></li>\n<li><strong>Lennox-gestaut syndrome</strong></li>\n</ul>\n<p>Other options:</p>\n<p>Option A: <strong>Myoclonic seizures</strong> can be focal, multifocal, or generalized. It is marked by the <strong>rapidity</strong> of jerks (&lt;50 mseconds). EEG changes depend on the type of myoclonic seizure.</p>\n<p>Option B: <strong>Myoclonus</strong> is very brief, abrupt, and involuntary jerky contractions of a single muscle or muscle group. Some causes of myoclonus in children include hiccups (physiologic), <strong>meningitis</strong>, and<strong> electrolyte disturbances</strong>.\u00a0\u00a0</p>\n<p>Option D: <strong>Juvenile myoclonic epilepsy</strong> also known as <strong>Janz syndrome</strong> is a type of generalized epilepsy seen in young adults. It presents as myoclonic jerks in the morning and generalized tonic-clonic or clonic-tonic-clonic seizures upon awakening. <strong>Sleep deprivation</strong> and photic stimulation can precipitate the episodes. <strong>4-5 Hz polyspike-and-slow-wave discharges</strong> can be seen on EEG.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/101872b202064d2cb7b92bcc2e363cc4.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A child in your unit is receiving treatment for chronic diarrhea. His diet history is remarkable for a high phytate-rich diet. His labs reveal low serum zinc. Which of the following findings is least likely to be seen in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Dwarfism"
      },
      {
        "id": 2,
        "text": "Incomplete development of gonads"
      },
      {
        "id": 3,
        "text": "Dermatitis of extremities"
      },
      {
        "id": 4,
        "text": "Predominant impairment of humoral immunity"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical vignette is suggestive of&nbsp;<strong>chronic zinc</strong>&nbsp;deficiency. Zinc deficiency affects both cell-mediated and humoral immunity. The&nbsp;<strong>cell-mediated immunity</strong>&nbsp;is impaired predominantly, as <strong>zinc</strong> is essential for T-cell division, maturation, and differentiation.&nbsp;</p>\n<p>In a child with a&nbsp;<strong>phytate-rich</strong>&nbsp;diet, a chronic deficiency of zinc and iron usually co-exist. Isolated chronic zinc deficiency can be seen in the setting of a child suffering from&nbsp;<strong>chronic diarrhoea</strong>, repeated pneumonia or chest infections, and congenital malabsorption disorders.</p>\n<p>Chronic zinc deficiency manifests as:</p>\n<ol>\n<li>Dwarfism</li>\n<li>Hypogonadism</li>\n<li>Dermatitis of extremities and around orifices</li>\n<li>T-cell immunodeficiency</li>\n<li>Diarrhoea&nbsp;</li>\n</ol>\n<p>The features of acute zinc deficiency include:</p>\n<ol>\n<li>Decreased growth</li>\n<li>Poor wound healing&nbsp;</li>\n<li>Diarrhea</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following cardiac lesions are expected in the patient seen in the image?",
    "choices": [
      {
        "id": 1,
        "text": "Aortic regurgitation"
      },
      {
        "id": 2,
        "text": "Coarctation of the aorta"
      },
      {
        "id": 3,
        "text": "VSD"
      },
      {
        "id": 4,
        "text": "ASD"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This is a patient with a\u00a0<strong>webbed neck</strong>, seen typically in\u00a0Turner\u2019s syndrome.</p>\n<p><strong>Turner\u2019s syndrome:</strong></p>\n<ul>\n<li>Also known as Ullrisch- Turner syndrome or <strong>\u2018Gonadal dysgenesis\u2019</strong> \u2013 Caused by absence of set of genes from the short arm of X chromosome ( 45XO )</li>\n<li>Breast development is absent with ovarian failure and primary or secondary amenorrhea.</li>\n<li>Lymphadema, short stature</li>\n<li>Low set ears, low hairline and webbed neck</li>\n<li>Horse shoe kidney</li>\n<li>Cardiac manifestations \u2013 <strong>Coarctation of aorta</strong>, bicuspid aortic valve</li>\n<li>Treatment \u2013 GH, Estrogen replacement therapy</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/dc936e0da19143d59f433666de254391.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 3 yr old male child with left flank pain is diagnosed to have an acute UTI. On USG, the left ureter was found to be duplicated. The most probable site of the opening of ectopic ureter will be?",
    "choices": [
      {
        "id": 1,
        "text": "Prostatic urethra"
      },
      {
        "id": 2,
        "text": "Seminal vesicle"
      },
      {
        "id": 3,
        "text": "Ejaculatory duct"
      },
      {
        "id": 4,
        "text": "Trigone of bladder"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Opening of the ectopic ureter in male (most to least common)&nbsp;:</p>\n<ul>\n<li><strong>Posterior urethra (prostatic) above the external sphincter</strong></li>\n<li>Seminal vesicle</li>\n<li>Prostatic utricle</li>\n<li>Ejaculatory duct</li>\n<li>Vas deferens</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Pediatrics Test I';
        const quizFilename = 'pediatrics-test-i-199866cc.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2018 - 19"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>