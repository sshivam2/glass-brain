<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>17 Miscellaneous Bacteria - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Microbiology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">7</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>A 28-year-old man presents with symptoms of tracheobronchitis and a persistent cough. After testing, <em>Mycoplasma pneumoniae</em> is identified as the causative agent. Which of the following is a notable feature of <em>Mycoplasma pneumoniae</em> infection that helps in its diagnosis?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "The presence of a characteristic \"fried egg\" colony appearance in blood agar culture"
      },
      {
        "id": 2,
        "text": "Detection of mycoplasma DNA through polymerase chain reaction (PCR)"
      },
      {
        "id": 3,
        "text": "High titers of cold agglutinins in the blood at 37\u00b0C"
      },
      {
        "id": 4,
        "text": "Indirect Coombs test detects red blood cells coated with antigens"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Answer: B) <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">Detection</span> of <span class=\"customMeta\" data-dictid=\"28c0a387c916927771930b5215e045\">mycoplasma</span> DNA through <span class=\"customMeta\" data-dictid=\"d419920a6616927771969805c3d65d\">polymerase</span> chain reaction (PCR)</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>PCR-based <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">detection</span> of <span class=\"customMeta\" data-dictid=\"28c0a387c916927771930b5215e045\">mycoplasma</span> DNA is a specific and effective method for diagnosing <em>Mycoplasma pneumoniae</em> infections.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Features of Mycoplasma: </strong></p>\n\n<ul>\n\t<li>Smallest free-living organism</li>\n\t<li>Lack of <span class=\"customMeta\" data-dictid=\"97294d26a21692777184b7ddc59c4e\">cell wall</span> (therefore Resistant to <span class=\"customMeta\" data-dictid=\"ff6b4f4d491692777181a02bad075e\">antibiotic</span> <span class=\"customMeta\" data-dictid=\"653140d1dc16927771903445309f4e\">interfering</span> <span class=\"customMeta\" data-dictid=\"97294d26a21692777184b7ddc59c4e\">cell wall</span> <span class=\"customMeta\" data-dictid=\"3fda45538a1692777199ec2a5478a5\">synthesis</span> for ex:</li>\n\t<li>B lactams), leading to <span class=\"customMeta\" data-dictid=\"d391ed597c1692777195574de6cc11\">pleomorphic</span> nature</li>\n\t<li>Cell <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> contains sterols</li>\n\t<li>Ability to pass through standard bacterial filters</li>\n\t<li>Historically misclassified as viruses (Joker of the microbiological park)</li>\n\t<li>Chemoorganotrophs</li>\n\t<li>Energy production via fermentation</li>\n\t<li>Main energy sources: <span class=\"customMeta\" data-dictid=\"af3ae60c0c16927771889b84ca41c0\">glucose</span> or arginine</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Clinical Features:</strong></p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:655px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pulmonary Infections:</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Genital Infections:</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Extrapulmonary Infections:</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Causative Agent</strong>: <em>Mycoplasma pneumoniae </em>(mc cause of <span class=\"customMeta\" data-dictid=\"06123ff61a1692777182e19b790ebc\">atypical</span> pneumonia)</li>\n\t\t\t\t<li><strong>Common Name</strong>: Primary <span class=\"customMeta\" data-dictid=\"06123ff61a1692777182e19b790ebc\">atypical</span> pneumonia</li>\n\t\t\t\t<li><strong>Presentation</strong>: Tracheobronchitis, <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">Acute</span> <span class=\"customMeta\" data-dictid=\"32a1e3c77516927771956ec2bbac4c\">pharyngitis</span> (less common), Gradual onset of fever, malaise, headache, <span class=\"customMeta\" data-dictid=\"0d8cd9c1b516927771981287d4850f\">sore</span> throat, Persistent cough, potentially blood-tinged sputum</li>\n\t\t\t\t<li><strong>Incidence</strong>: About one-third develop pneumonia</li>\n\t\t\t\t<li>Incubation Period: 1 to 3 weeks</li>\n\t\t\t\t<li><strong>Diagnosis</strong>: Radiological assessments reveal patchy <span class=\"customMeta\" data-dictid=\"b1357efd5116927771859dfba380e7\">consolidation</span> in lower lobes of lungs</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Causative Agents</strong>: <em>Mycoplasma hominis, <span class=\"customMeta\" data-dictid=\"9e677e1cbf16927772015b2f99940a\">Ureaplasma</span> urealyticum</em></li>\n\t\t\t\t<li><strong>Transmission</strong>: Sexual contact</li>\n\t\t\t\t<li>Conditions in Men: Urethritis, proctitis, balanoposthitis, Reiter's syndrome</li>\n\t\t\t\t<li><strong>Conditions in Women</strong>: <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">Acute</span> salpingitis, <span class=\"customMeta\" data-dictid=\"7cd6eb19341692777195d83aafdcb3\">pelvic</span> <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> disease, cervicitis, vaginitis, Infertility, abortion, <span class=\"customMeta\" data-dictid=\"3d885759d516927771966b84bfa470\">postpartum</span> fever, chorioamnionitis, low birth weight in infants</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>GI: </strong>nausea, vomiting, diarrhea</p>\n\n\t\t\t<p><strong>Cardiovascular</strong>: myocarditis, pericarditis</p>\n\n\t\t\t<p><strong>Neurological</strong>: meningitis, encephalitis, <span class=\"customMeta\" data-dictid=\"1b9a354cdb1692777194802683234d\">optic</span> neuritis</p>\n\n\t\t\t<p><strong>Musculoskeletal/skin</strong>: <span class=\"customMeta\" data-dictid=\"f0f3e105661692777187df507b1f26\">Erythema</span> multiforme, SJS, Maculopapular/vesicular rash</p>\n\n\t\t\t<p><strong>Others</strong>: cold AIHA, bullous myringitis, vasculitis</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<h3><strong>Diagnosis of <span class=\"customMeta\" data-dictid=\"28c0a387c916927771930b5215e045\">Mycoplasma</span> Infection</strong></h3>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Method</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Description</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Details</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Culture</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Requires specialized media and has slow growth <strong>(Option A ruled out)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Takes 1 to 3 weeks for visible colonies</li>\n\t\t\t\t<li>Colonies have a \"fried egg\" appearance (In <span class=\"customMeta\" data-dictid=\"0f9fec7e9c16927771962dccb6a1b1\">PPLO</span> agar, with Dienes stain)</li>\n\t\t\t</ul>\n\n\t\t\t<figure class=\"caption_element\"><img alt=\"Mycoplasma fried-egg appearance.\" data-author=\"Metwally, Mirihan & Yassin, Aymen & Essam, Tamer & Hamouda, Hayam & Amin, Magdy\" data-hash=\"9872\" data-license=\"CC BY\" data-source=\"https://www.researchgate.net/figure/Mycoplasma-colonies-with-fried-egg-appearance_fig1_269774822\" data-tags=\"April2025\" src=\"https://image.prepladder.com/notes/ukUjHpfRZUWWgHcdpa1x1744445807.png\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\n\t\t\t<ul>\n\t\t\t\t<li>M. pneumoniae shows beta-hemolysis and <span class=\"customMeta\" data-dictid=\"d7487b368b1692777188a53895b52a\">guinea pig</span> <span class=\"customMeta\" data-dictid=\"248111ded81692777197946454db52\">red blood cell</span> agglutination</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Molecular Methods</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Detects <span class=\"customMeta\" data-dictid=\"28c0a387c916927771930b5215e045\">mycoplasma</span> DNA</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>PCR is used for f<strong>aster and more specific <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">detection</span> of DNA</strong>, particularly useful for <strong>slow-growing organisms</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Serology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Detects antibodies in response to <span class=\"customMeta\" data-dictid=\"28c0a387c916927771930b5215e045\">Mycoplasma</span> infection</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Specific Tests</strong>:</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Immunofluorescence, <span class=\"customMeta\" data-dictid=\"41e9ba2129169277718831c5f18f40\">hemagglutination</span> inhibition, growth inhibition</li>\n\t\t\t\t<li>Complement fixation, <span class=\"customMeta\" data-dictid=\"2f73e160ba1692777190d65065c95b\">indirect</span> <span class=\"customMeta\" data-dictid=\"41e9ba2129169277718831c5f18f40\">hemagglutination</span> (less sensitive)</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>Non-Specific Tests</strong>:</p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Streptococcus MG test</strong>: <span class=\"customMeta\" data-dictid=\"36e1a07ab01692777180db73f01e84\">Agglutination</span> with <span class=\"customMeta\" data-dictid=\"6c8421504e1692777200e552c3b421\">titre</span> of 1:20 or higher</li>\n\t\t\t\t<li><strong>Cold <span class=\"customMeta\" data-dictid=\"36e1a07ab01692777180db73f01e84\">agglutination</span> test</strong>: where <span class=\"customMeta\" data-dictid=\"7cc5d500951692777184bdd73ef72d\">clumping</span> of red blood cells is observed after the mixture is incubated at 4\u00b0C and disappears upon warming to 37\u00b0C <strong>(Option C ruled out)</strong>; <span class=\"customMeta\" data-dictid=\"6c8421504e1692777200e552c3b421\">titre</span> of 1:32 or greater</li>\n\t\t\t\t<li><strong>Indirect Coombs test</strong>: Detects red blood cells coated with antibodies. <strong>(Option D ruled out)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<h3><strong>Treatment of <span class=\"customMeta\" data-dictid=\"28c0a387c916927771930b5215e045\">Mycoplasma</span> Infection</strong></h3>\n\n<ul>\n\t<li><strong>Antibiotics:</strong>\n\n\t<ul>\n\t\t<li>Tetracyclines (e.g., doxycycline)</li>\n\t\t<li>Macrolides (e.g., erythromycin)</li>\n\t</ul>\n\t</li>\n\t<li><strong>Concerns:</strong>\n\t<ul>\n\t\t<li>Emerging resistance, especially among certain <span class=\"customMeta\" data-dictid=\"9e677e1cbf16927772015b2f99940a\">Ureaplasma</span> strains</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/ukUjHpfRZUWWgHcdpa1x1744445807.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/kTFjtXCRkt64tlm29N7B1751220459.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/w8jBKUk0j5gq1V2KDYTi1751220562.mp3"
  },
  {
    "text": "<p>A 25-year-old patient presents with fever, abdominal pain, and watery diarrhoea. The stool examination reveals the presence of leukocytes and blood. The patient has a history of consuming undercooked poultry. Direct microscopic examination of the stool shows darting motility of spiral rods. The laboratory report indicates that the pathogen is a Gram-negative rod that grows optimally at 42\u00b0C in microaerophilic conditions. Which of the following is the most likely causative agent of this infection?</p>\n\n<p style=\"text-align:center\"><img alt=\"Campylobacter jejuni - E/m\" data-author=\"CDC\" data-hash=\"12738\" data-license=\"Open access\" data-source=\"https://commons.wikimedia.org/wiki/File:Campylobacter_jejuni_5778_lores.jpg\" data-tags=\"May2025\" height=\"286\" src=\"https://image.prepladder.com/notes/viilB1pjCXuO4yh9zVsr1747246425.png\" width=\"400\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Salmonella enterica"
      },
      {
        "id": 2,
        "text": "Shigella dysenteriae"
      },
      {
        "id": 3,
        "text": "Campylobacter jejuni"
      },
      {
        "id": 4,
        "text": "Escherichia coli"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Answer: C) </strong><strong><em>Campylobacter jejuni</em></strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><em>Campylobacter jejuni </em>is known to cause diarrheal disease with symptoms including fever, <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> pain, and watery diarrhoea. The presence of darting <span class=\"customMeta\" data-dictid=\"c8c1db40c9169277719258df1a6b43\">motility</span> in stool, growth at 42\u00b0C, and a history of consuming undercooked poultry are characteristic of <em>Campylobacter jejuni</em>. It is a Gram-negative, spiral-shaped rod and is strongly oxidase-positive.</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"Campylobacter jejuni - E/m\" data-author=\"CDC\" data-hash=\"12738\" data-license=\"Open access\" data-source=\"https://commons.wikimedia.org/wiki/File:Campylobacter_jejuni_5778_lores.jpg\" data-tags=\"May2025\" height=\"286\" src=\"https://image.prepladder.com/notes/viilB1pjCXuO4yh9zVsr1747246425.png\" width=\"400\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p style=\"text-align:center\">Scanning <span class=\"customMeta\" data-dictid=\"d416281a201692777187899c00aed8\">electron</span> <span class=\"customMeta\" data-dictid=\"29a78106261692777192076b69e828\">micrograph</span> of the single <span class=\"customMeta\" data-dictid=\"a274393046169277719601ea5a6864\">polar</span> <span class=\"customMeta\" data-dictid=\"7063cf9ec416927772024bece96ced\">flagellum</span> and corkscrew shape of Campylobacter jejuni. These morphologic characteristics contribute to the characteristic darting <span class=\"customMeta\" data-dictid=\"c8c1db40c9169277719258df1a6b43\">motility</span> of C jejuni.</p>\n\n<p>\u00a0</p>\n\n<h4><strong>Campylobacter Features:</strong></h4>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Description</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Morphology and Structure</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Slender, spirally curved, Gram-negative rods; comma-shaped, may <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> 'S' or multispiral chains; non-sporing; single unsheathed <span class=\"customMeta\" data-dictid=\"a274393046169277719601ea5a6864\">polar</span> flagellum</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Growth Conditions</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Microaerophilic; 5% oxygen concentration; <span class=\"customMeta\" data-dictid=\"9d273e74cc16927772007297b9dbf9\">thermophilic</span> species grow at 42\u00b0C; strongly <span class=\"customMeta\" data-dictid=\"4a14dfa14e1692777194882f818d87\">oxidase</span> positive</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pathogenic Significance</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><em>Campylobacter jejuni</em> is the most common cause of bacterial diarrheal disease in developed countries</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Clinical Features:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Aspect</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Description</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Infection Pathway</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Ingestion; primary sites: <span class=\"customMeta\" data-dictid=\"4b145c8d1b1692777190177246177d\">jejunum</span> and ileum; may spread to <span class=\"customMeta\" data-dictid=\"0fce15e71f1692777184feb9af5303\">colon</span> and rectum</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pathogenesis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Invasive pathogen; <span class=\"customMeta\" data-dictid=\"78e661328b1692777190280365ea89\">incubation</span> period: 1-7 days; damages small <span class=\"customMeta\" data-dictid=\"7840cca3ed16927771901d2f6cb32b\">intestine</span> cells, disrupting fluid absorption</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Symptoms</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fever, <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> pain, watery diarrhea; <span class=\"customMeta\" data-dictid=\"44335bb8bf1692777199a956cb31bf\">stool</span> may contain leukocytes and blood; typically self-limiting with possible continued shedding</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Diagnosis:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Method</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Description</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Direct Microscopic Examination</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Phase-contrast or dark field <span class=\"customMeta\" data-dictid=\"51df8cdfc91692777192aa76f4de51\">microscopy</span> for motility; stained smears for <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">detection</span> of small curved rods</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Culture Techniques</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Plated on selective media; use transport medium if delayed; commonly used media include Skirrow's, Butzler's, Campy BAP</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Incubation Conditions</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>42\u00b0C with 5% oxygen, 10% CO\u2082, 85% N\u2082; also at 37\u00b0C; suppresses normal fecal flora</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Colony Appearance</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Non-hemolytic, grey/colorless, moist, flat/convex; appears in 48 hours</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Identification</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Gram staining, motility, <span class=\"customMeta\" data-dictid=\"4a14dfa14e1692777194882f818d87\">oxidase</span> tests; biochemical tests for confirmation (positive <span class=\"customMeta\" data-dictid=\"553253f1ce1692777183d395babc1b\">catalase</span> and <span class=\"customMeta\" data-dictid=\"ad09a76257169277719349e2735418\">nitrate</span> reduction)</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Treatment</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:406px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Treatment Type</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Description</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Primary Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fluid and <span class=\"customMeta\" data-dictid=\"2e0552462e16927771871413861fb7\">electrolyte</span> replacement</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Antibiotic Therapy</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Erythromycin is the preferred antibiotic</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong><em>Salmonella enterica </em></strong><strong>(Option A)</strong>: Although it is associated with poultry, Salmonella typically does not display darting <span class=\"customMeta\" data-dictid=\"c8c1db40c9169277719258df1a6b43\">motility</span> or a <span class=\"customMeta\" data-dictid=\"0b34a9891d16927771998a84595013\">spiral</span> shape and does not grow optimally at 42\u00b0C in <span class=\"customMeta\" data-dictid=\"c845a5039b16927771924dd5bd0a6b\">microaerophilic</span> conditions.</p>\n\n<p>\u00a0</p>\n\n<p><strong><em>Shigella dysenteriae </em></strong><strong>(Option B)</strong>: Shigella is a Gram-negative rod but does not have darting <span class=\"customMeta\" data-dictid=\"c8c1db40c9169277719258df1a6b43\">motility</span> or a <span class=\"customMeta\" data-dictid=\"0b34a9891d16927771998a84595013\">spiral</span> shape, <span class=\"customMeta\" data-dictid=\"fe5171bb0016927771933a5ca5d376\">nor</span> does it require <span class=\"customMeta\" data-dictid=\"c845a5039b16927771924dd5bd0a6b\">microaerophilic</span> conditions or high temperatures for growth.</p>\n\n<p>\u00a0</p>\n\n<p><strong><em>Escherichia <span class=\"customMeta\" data-dictid=\"cd0a7121a516927771846d8f5248bb\">coli</span> </em></strong><strong>(Option D)</strong>: While certain strains can cause bloody diarrhea, E. <span class=\"customMeta\" data-dictid=\"cd0a7121a516927771846d8f5248bb\">coli</span> is not spiral-shaped and does not exhibit darting <span class=\"customMeta\" data-dictid=\"c8c1db40c9169277719258df1a6b43\">motility</span> or a growth preference at 42\u00b0C under <span class=\"customMeta\" data-dictid=\"c845a5039b16927771924dd5bd0a6b\">microaerophilic</span> conditions.</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/viilB1pjCXuO4yh9zVsr1747246425.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/viilB1pjCXuO4yh9zVsr1747246425.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/Ha3IpNu3QinY3HitEbUl1751220663.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/fVGcngCJmKTzd3r7iBA31751220768.mp3"
  },
  {
    "text": "<p>A 55-year-old patient with chronic gastritis undergoes diagnostic testing for Helicobacter pylori infection. The tests include both invasive and non-invasive methods. Which of the following non-invasive tests is specifically known for its ability to detect active <em>H. pylori</em> infection and provide rapid results?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Endoscopic Biopsy with Microscopy"
      },
      {
        "id": 2,
        "text": "Urea Breath Test"
      },
      {
        "id": 3,
        "text": "Rapid Urease Test"
      },
      {
        "id": 4,
        "text": "Culture analysis on nutrient-rich medium"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Answer: B) <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">Urea</span> Breath Test</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The <strong>Urea Breath Test</strong> is a non-invasive test that involves ingesting carbon-labelled urea, which is broken down by <em>H. pylori</em> to release <span class=\"customMeta\" data-dictid=\"c32b3a9fac16927771831530888fdf\">carbon dioxide</span> that is measured in the breath. It is specifically known for detecting active infection and provides rapid and reliable results. The other options are <span class=\"customMeta\" data-dictid=\"1c5272ad3d1692777190e71409d07a\">invasive</span> modalities.</p>\n\n<h3><strong><em>Helicobacter pylori</em></strong><strong>: </strong></h3>\n\n<ul>\n\t<li><strong>Genetic Diversity and Pathogenesis</strong>\n\n\t<ul>\n\t\t<li><em>H. pylori</em> exhibits significant genetic diversity, impacting its virulence.</li>\n\t\t<li>Key genes:<strong> </strong><strong><em>cag</em></strong><strong> (cytotoxin-associated gene) and </strong><strong><em>vac</em></strong><strong> (vacuolating <span class=\"customMeta\" data-dictid=\"ba3f49d25616927771850c02249e5f\">cytotoxin</span> gene).</strong></li>\n\t\t<li>Contributes to <span class=\"customMeta\" data-dictid=\"715b4caf0316927771943797627d8d\">pathogenesis</span> via <span class=\"customMeta\" data-dictid=\"f9076f5a1d1692777201e6af082c74\">urease</span> production and motility.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Clinical Manifestations</strong>\n\t<ul>\n\t\t<li>Range from <span class=\"customMeta\" data-dictid=\"d1a9a79f701692777182066af09044\">asymptomatic</span> <span class=\"customMeta\" data-dictid=\"d9e023242c16927771840efda08ae3\">colonization</span> to severe <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> diseases.</li>\n\t\t<li>Potential outcomes include<strong> <span class=\"customMeta\" data-dictid=\"f6768ff15f1692777195a493cad3a9\">peptic</span> <span class=\"customMeta\" data-dictid=\"7b4370a0b01692777201a5bc0739c2\">ulcer</span> disease, chronic atrophic gastritis, <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> adenocarcinoma, and <span class=\"customMeta\" data-dictid=\"62de0ec43c16927771912c01f6f373\">MALT</span> lymphomas.</strong></li>\n\t</ul>\n\t</li>\n\t<li><strong>Immune Response</strong>\n\t<ul>\n\t\t<li>The infection triggers a complex <span class=\"customMeta\" data-dictid=\"dc6add5cf91692777189b30a6bae38\">immune response</span> involving IgM, IgG, IgA, and <span class=\"customMeta\" data-dictid=\"12a6f23332169277718402ca6703e2\">cellular</span> immunity.</li>\n\t\t<li>Immune response does not effectively protect against infection.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<h3><strong>Diagnosis of</strong><strong><em> H. pylori</em></strong><strong> Infection</strong></h3>\n\n<h4><strong>Invasive Tests</strong></h4>\n\n<ul>\n\t<li><strong>Endoscopic Biopsy</strong>: Tissue sample from the <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> mucosa. <strong>(Option A rule out)</strong>\n\n\t<ul>\n\t\t<li><strong>Rapid <span class=\"customMeta\" data-dictid=\"f9076f5a1d1692777201e6af082c74\">Urease</span> Test</strong>: Detects <span class=\"customMeta\" data-dictid=\"f9076f5a1d1692777201e6af082c74\">urease</span> in the biopsy; results available within minutes. <strong>(Option C ruled out)</strong></li>\n\t\t<li><strong>Microscopy</strong>: Identifies <em>H. pylori</em> through <span class=\"customMeta\" data-dictid=\"3b007026bd16927771997ae809b603\">staining</span> (Warthin starry stain)</li>\n\t\t<li><strong>Culture</strong>: Most sensitive method; involves growing bacteria from a <span class=\"customMeta\" data-dictid=\"754ab07a2e1692777183ed178c883d\">biopsy</span> on a nutrient-rich medium under specific conditions (<strong>37\u00b0C, <span class=\"customMeta\" data-dictid=\"c845a5039b16927771924dd5bd0a6b\">microaerophilic</span> environment</strong>). Results in 3-7 days. Further characterization includes biochemical tests (catalase and <span class=\"customMeta\" data-dictid=\"4a14dfa14e1692777194882f818d87\">oxidase</span> positive). <strong>(Option D ruled out)</strong></li>\n\t</ul>\n\t</li>\n</ul>\n\n<h4><strong>Non-Invasive Tests</strong></h4>\n\n<ul>\n\t<li><strong>Serology (ELISA)</strong>: Detects antibodies against <em>H. pylori</em>; useful for epidemiological studies, less reliable for diagnosing active infection or monitoring treatment.</li>\n\t<li><strong>Urea Breath Test</strong>: Involves <span class=\"customMeta\" data-dictid=\"eba893313f16927771906290ce7e79\">ingestion</span> of carbon-labeled urea; <span class=\"customMeta\" data-dictid=\"903370f259169277718385f6060dd7\">breakdown</span> by <em>H. pylori </em>releases carbon dioxide, measured in breath. Sensitive and reliable, but requires specialized equipment.</li>\n</ul>\n\n<h3><strong>Treatment</strong></h3>\n\n<ul>\n\t<li><strong>Antibiotic and <span class=\"customMeta\" data-dictid=\"2940cc0ecd169277718375b839902c\">Bismuth</span> Salt Regimen</strong>\n\n\t<ul>\n\t\t<li>Standard treatment: <span class=\"customMeta\" data-dictid=\"2940cc0ecd169277718375b839902c\">Bismuth</span> subsalicylate + two antibiotics (tetracycline or <span class=\"customMeta\" data-dictid=\"d1e73ea72b1692777181fe0162bd92\">amoxicillin</span> + metronidazole) for two weeks.</li>\n\t\t<li>Alternative: <span class=\"customMeta\" data-dictid=\"9c823198d61692777196bc71097d6d\">Proton</span> pump <span class=\"customMeta\" data-dictid=\"b5fb56a28b1692777190396ae8b625\">inhibitor</span> (e.g., omeprazole) + clarithromycin.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Indications for Treatment</strong>\n\t<ul>\n\t\t<li>Recommended for<em> H. pylori</em>-associated <span class=\"customMeta\" data-dictid=\"12347b15191692777188bc86d226e1\">gastric</span> or duodenal ulcers.</li>\n\t\t<li>Asymptomatic <span class=\"customMeta\" data-dictid=\"d9e023242c16927771840efda08ae3\">colonization</span> does not require treatment.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Challenges</strong>\n\t<ul>\n\t\t<li>Increasing <span class=\"customMeta\" data-dictid=\"ff6b4f4d491692777181a02bad075e\">antibiotic</span> resistance.</li>\n\t\t<li>High rate of infection recurrence.</li>\n\t</ul>\n\t</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/La2fihz5VEFrLMjuiK9b1751220888.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Wdtoy8tD7AwZ6EM2AxVA1751220955.mp3"
  },
  {
    "text": "<p>A 55-year-old man presents with fever, non-productive cough, and shortness of breath. A chest X-ray shows signs of pneumonia. Suspecting Legionnaires' disease, a sputum sample is cultured on Buffered Charcoal Yeast Extract (BCYE) agar. Which of the following findings on BCYE agar is indicative of <em>Legionella</em> growth?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Blue-green pigment"
      },
      {
        "id": 2,
        "text": "Yellow colonies"
      },
      {
        "id": 3,
        "text": "Black or grayish colonies"
      },
      {
        "id": 4,
        "text": "Hemolytic zones around colonies"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Answer: C) Black or grayish colonies</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>On Buffered <span class=\"customMeta\" data-dictid=\"e7626b047e169277718484971217b8\">Charcoal</span> <span class=\"customMeta\" data-dictid=\"3655d8847516927772026e1e299f2a\">Yeast</span> <span class=\"customMeta\" data-dictid=\"387ff6837a16927771876363756d5a\">Extract</span> (BCYE) agar, <em>Legionella</em> species typically <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> small, grayish or black colonies due to the reduction of iron salts in the medium. This color change is distinctive for <em>Legionella</em> and aids in its identification.</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"BCYE - Legionella\" data-author=\"Fuochi, Virginia & Coniglio, Maria & Laghi, Luca & Rescifina, Antonio & Caruso, Massimo & Stivala, Aldo & Furneri, Pio Maria. Fuochi, Virginia & Coniglio, Maria & Laghi, Luca & Rescifina, Antonio & Caruso, Massimo & Stivala, Aldo & Furneri, Pio Maria.\" data-hash=\"12733\" data-license=\"CC BY 4.0\" data-source=\"https://www.researchgate.net/figure/Left-Buffered-Charcoal-Yeast-Extract-BCYE-agar-after-14-days-of-incubation-at-37C-in_fig1_334030404\" data-tags=\"May2025\" height=\"393\" src=\"https://image.prepladder.com/notes/LbTiwVWrPvg3IKT9p3831747245047.png\" width=\"400\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p style=\"text-align:center\">\u00a0</p>\n\n<p style=\"text-align:center\"><strong>Legionella </strong></p>\n\n<p><strong>Features</strong></p>\n\n<ul>\n\t<li>Thin, Gram-negative, non-capsulated <span class=\"customMeta\" data-dictid=\"fe0005a48b1692777182143f69e1d5\">bacilli</span> (2-5 x 0.1-0.3 \u00b5m).</li>\n\t<li>Poor Gram staining; best visualized by direct <span class=\"customMeta\" data-dictid=\"df068e6efc16927772029693b5023e\">fluorescent</span> <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">antibody</span> (DFA) staining.</li>\n\t<li>Requires buffered <span class=\"customMeta\" data-dictid=\"e7626b047e169277718484971217b8\">charcoal</span> <span class=\"customMeta\" data-dictid=\"3655d8847516927772026e1e299f2a\">yeast</span> <span class=\"customMeta\" data-dictid=\"387ff6837a16927771876363756d5a\">extract</span> (BCYE) <span class=\"customMeta\" data-dictid=\"2c294889fb169277718046e4ef230c\">agar</span> for growth.</li>\n</ul>\n\n<p><strong>Clinical Features</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Condition</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Characteristics</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Severity</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Legionnaires' Disease</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fever, non-productive cough, dyspnea, progressing to pneumonia, diarrhea, encephalopathy, causes SIADH (hyponatremia, seizures)</p>\n\n\t\t\t<p>Causes both typical and <span class=\"customMeta\" data-dictid=\"06123ff61a1692777182e19b790ebc\">atypical</span> pneumonia.</p>\n\n\t\t\t<p>Mode of infection:</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>microaspiration and <span class=\"customMeta\" data-dictid=\"c54afbcf861692777180adb352ee0d\">aerosol</span> inhalation</li>\n\t\t\t\t<li>There is no human to human transmission</li>\n\t\t\t</ul>\n\n\t\t\t<p>Associated with: AC, showers, coolers, cruise</p>\n\n\t\t\t<p>Seen in : Smokers, <span class=\"customMeta\" data-dictid=\"a3cc9f976916927771895692a1a8a0\">immunocompromised</span> patients, older patients</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>High (15-20% fatality)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pontiac Fever</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Mild, non-fatal symptoms: fever, chills, myalgia, headache</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Mild</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Diagnosis Methods</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:625px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Method</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Sample Type</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Notes</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Direct <span class=\"customMeta\" data-dictid=\"df068e6efc16927772029693b5023e\">Fluorescent</span> <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">Antibody</span> (DFA)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Sputum, bronchial aspirate, lung biopsy</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Detects Legionella in specimens</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Culture</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Clinical specimens</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Buffered <span class=\"customMeta\" data-dictid=\"e7626b047e169277718484971217b8\">Charcoal</span> <span class=\"customMeta\" data-dictid=\"3655d8847516927772026e1e299f2a\">Yeast</span> <span class=\"customMeta\" data-dictid=\"387ff6837a16927771876363756d5a\">Extract</span> (BCYE) Agar</strong>- Gold standard for <em>Legionella</em> culture; contains <span class=\"customMeta\" data-dictid=\"3655d8847516927772026e1e299f2a\">yeast</span> extract, iron, L-cysteine, and charcoal; <span class=\"customMeta\" data-dictid=\"208cf74d74169277719486afd05eb3\">optimal</span> pH ~6.9</li>\n\t\t\t\t<li><strong>Small colonies, often grayish or black</strong>, due to iron reduction by bacteria. <strong>(Option C)</strong></li>\n\t\t\t\t<li><strong>L-cysteine Presence</strong>: Required for growth, confirming <span class=\"customMeta\" data-dictid=\"cced7d91ec169277719680ab298ccf\">presumptive</span> <em>Legionella</em> colonies.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Antigen Detection in Urine</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Urine</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Latex <span class=\"customMeta\" data-dictid=\"36e1a07ab01692777180db73f01e84\">agglutination</span> or ELISA</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Serum <span class=\"customMeta\" data-dictid=\"9d7a12cab116927771811a0079086d\">Antibody</span> Detection</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Blood</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>ELISA or <span class=\"customMeta\" data-dictid=\"2f73e160ba1692777190d65065c95b\">indirect</span> immunofluorescence</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Treatment</strong></p>\n\n<ul>\n\t<li><strong>First-line options</strong>: Macrolides, ciprofloxacin, tetracyclines.</li>\n\t<li><strong>Severe cases</strong>: Rifampicin may be added.</li>\n\t<li><strong>Ineffective antibiotics</strong>: Beta-lactamase antibiotics and aminoglycosides.</li>\n</ul>\n\n<p><strong>Blue-green <span class=\"customMeta\" data-dictid=\"05e2e2617c16927771952bcbeea08b\">pigment</span> (Option A):</strong> It is characteristic of <em>Pseudomonas aeruginosa</em>.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Yellow colonies (Option B):</strong> <em>Legionella</em> does not produce yellow colonies on BCYE agar.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Hemolytic zones (Option D):</strong> <em>Legionella</em> does not typically cause <span class=\"customMeta\" data-dictid=\"c2b082746716927771888f0933941d\">hemolysis</span> on BCYE agar.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/LbTiwVWrPvg3IKT9p3831747245047.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A microbiologist is studying <em>Klebsiella pneumoniae</em> and its microscopic characteristics. Which of the following statements about the microscopy of <em>Klebsiella pneumoniae</em> is true?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "It is Gram-positive and appears purple under Gram staining"
      },
      {
        "id": 2,
        "text": "Its capsule is visible using the Warthin-Starry method."
      },
      {
        "id": 3,
        "text": "They are observed as elongated, slender rods that are encapsulated"
      },
      {
        "id": 4,
        "text": "There is an absence of biofilm when examined with a scanning electron microscope (SEM)."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Answer: B) Its <span class=\"customMeta\" data-dictid=\"54635b1bf01692777183247ecff5e0\">capsule</span> is visible using the Warthin-Starry method.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The Warthin-Starry method is a specific <span class=\"customMeta\" data-dictid=\"3b007026bd16927771997ae809b603\">staining</span> technique that highlights the <span class=\"customMeta\" data-dictid=\"aea912322316927771960b320d4f65\">polysaccharide</span> <span class=\"customMeta\" data-dictid=\"54635b1bf01692777183247ecff5e0\">capsule</span> of <em>Klebsiella pneumoniae</em>, which plays a crucial role in its <span class=\"customMeta\" data-dictid=\"d325b5afd71692777202405d5f5c59\">virulence</span> by helping it evade phagocytosis.</p>\n\n<p><strong>Klebsiella:</strong></p>\n\n<table align=\"center\" cellspacing=\"0\" style=\"border-collapse:collapse; width:900px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Features</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Non-motile, capsulated, short, plump rods (1-2 \u00b5m x 0.5-1.8 \u00b5m).</li>\n\t\t\t\t<li>Common as intestinal commensals and saprophytes in soil and water.</li>\n\t\t\t\t<li>Ferment glucose, lactose, sucrose, and mannitol, producing acid and gas</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Clinical Features</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Major healthcare-associated pathogen, commonly causing:</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Pneumonia (upper <span class=\"customMeta\" data-dictid=\"d7dd6ae43c1692777191cf75c0bd58\">lobe</span> pneumonia): Severe, often affecting middle-aged/older adults with risk factors (e.g., alcoholism, diabetes).</li>\n\t\t\t\t<li>UTIs, particularly catheter-associated (CAUTI).</li>\n\t\t\t\t<li>Lung abscess, red current <span class=\"customMeta\" data-dictid=\"88bc2baef31692777190f5b09925aa\">jelly</span> sputum, bulging <span class=\"customMeta\" data-dictid=\"b2af124a931692777203c9f8031b77\">fissure</span> sign</li>\n\t\t\t\t<li>Neonatal sepsis: High mortality due to multidrug resistance.</li>\n\t\t\t\t<li>Septicemia and other <span class=\"customMeta\" data-dictid=\"f6332ef2d21692777196294f154e57\">pyogenic</span> infections.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Morphological Characteristics</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Appears as short, plump, <span class=\"customMeta\" data-dictid=\"e26ba9a1d41692777187d0ad03a8c1\">encapsulated</span> rods with visible halos in Gram-stained smears. <strong>(Option C ruled out)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Gram Staining</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Gram-negative; appears pink after counterstaining with safranin. <strong>(Option A ruled out)</strong></li>\n\t\t\t\t<li>Typically rod-shaped (bacilli).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Capsule Visualization</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Encapsulation visualized using <span class=\"customMeta\" data-dictid=\"3b007026bd16927771997ae809b603\">staining</span> techniques (e.g., Warthin-Starry method, India ink preparation), highlighting the <span class=\"customMeta\" data-dictid=\"aea912322316927771960b320d4f65\">polysaccharide</span> capsule, crucial for evading phagocytosis.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Fluorescence Microscopy</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Used to assess <span class=\"customMeta\" data-dictid=\"ff6b4f4d491692777181a02bad075e\">antibiotic</span> <span class=\"customMeta\" data-dictid=\"7f80be61231692777187391e91e867\">efficacy</span> (e.g., meropenem) and monitor <span class=\"customMeta\" data-dictid=\"55beab619216927771925caac38373\">morphological</span> changes post-treatment, showing enlarged or distorted cells.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Biofilm Structure</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Studied using <span class=\"customMeta\" data-dictid=\"c497b556951692777198b599e4ba86\">scanning</span> <span class=\"customMeta\" data-dictid=\"d416281a201692777187899c00aed8\">electron</span> <span class=\"customMeta\" data-dictid=\"51df8cdfc91692777192aa76f4de51\">microscopy</span> (SEM) to <span class=\"customMeta\" data-dictid=\"67407c787d1692777202245c791c31\">visualize</span> complex <span class=\"customMeta\" data-dictid=\"dde6d4ec8216927771835986a542e1\">biofilm</span> architecture, essential for understanding bacterial <span class=\"customMeta\" data-dictid=\"5f8b7d103016927771806be7e4190b\">adherence</span> and interaction with surfaces. <strong>(Option D ruled out)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Biochemical tests: </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-color:#000000; border-style:solid; border-width:1px; text-align:center; vertical-align:top\">\n\t\t\t<figure class=\"caption_element\"><img alt=\"Klebsiella biochemical test\" data-author=\"NA\" data-hash=\"12734\" data-license=\"CC BY SA 3.0\" data-source=\"https://en.wikipedia.org/wiki/IMViC#/media/File:IMViC_Results.jpg\" data-tags=\"May2025\" height=\"245\" src=\"https://image.prepladder.com/notes/RlpjS3EAdDF6at3l7M841747245271.png\" width=\"500\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Empiric therapy for <span class=\"customMeta\" data-dictid=\"a813884d6016927771838d2d1f9d1d\">bloodstream</span> infections often needed:</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Options include piperacillin-tazobactam, cefoperazone-sulbactam, or amikacin.</li>\n\t\t\t\t<li>Carbapenems (imipenem, meropenem) are preferred for resistant or critical cases.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Klebsiella Infections: </strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Aspect</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Description</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Common Infections</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Pneumonia, UTIs, septicemia, <span class=\"customMeta\" data-dictid=\"77493a5b781692777193df12530299\">neonatal</span> sepsis, <span class=\"customMeta\" data-dictid=\"f6332ef2d21692777196294f154e57\">pyogenic</span> infections</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>High-Risk Groups</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Middle-aged/older adults with comorbidities (alcoholism, diabetes), neonates, <span class=\"customMeta\" data-dictid=\"dcf52bc6051692777189bc6d95b5e5\">ICU</span> patients</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Mortality Factors</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>High for <span class=\"customMeta\" data-dictid=\"1000989d33169277719652247cd559\">pneumonia</span> and <span class=\"customMeta\" data-dictid=\"77493a5b781692777193df12530299\">neonatal</span> sepsis, often due to multidrug-resistant strains</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Treatment:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Infection Type</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Initial Empiric Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Resistant/Critical Cases Treatment</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Bloodstream Infections</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Piperacillin-tazobactam, cefoperazone-sulbactam, amikacin</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Carbapenems (imipenem, meropenem)</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/RlpjS3EAdDF6at3l7M841747245271.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following statements regarding the diagnosis of <em>Francisella tularensis</em> infection (tularemia) is true?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Culturing F. tularensis is easily performed on standard blood agar."
      },
      {
        "id": 2,
        "text": "Serological tests are always reliable and do not require confirmation with other diagnostic methods"
      },
      {
        "id": 3,
        "text": "Direct microscopy of patient samples is the primary method for diagnosis"
      },
      {
        "id": 4,
        "text": "Isolation of the organism from clinical specimens is essential for confirming tularemia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Answer: D) Isolation of the organism from clinical specimens is essential for confirming tularemia.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Isolation of <em>Francisella tularensis</em> from clinical specimens, such as blood or tissue samples, is the gold standard for diagnosing tularemia. This method provides <span class=\"customMeta\" data-dictid=\"32b854324a1692777185c6c79fdc99\">definitive</span> evidence of the pathogen's presence, while other methods, like serological tests, may not be reliable in all cases and could lead to false negatives. Therefore, culture confirmation is crucial for accurate diagnosis and appropriate treatment.</p>\n\n<p><strong><em>Francisella tularensis</em></strong></p>\n\n<ul>\n\t<li><strong>Characteristics:</strong>\n\n\t<ul>\n\t\t<li>Minute, capsulated, non-motile, <span class=\"customMeta\" data-dictid=\"08cb2b02c81692777188b83845c84c\">Gram-negative</span> bacillus.</li>\n\t\t<li>Filterable and capable of <span class=\"customMeta\" data-dictid=\"f2c2c255f216927772028fa256c9e9\">filament</span> formation and budding, similar to <em>Mycoplasma</em>.</li>\n\t</ul>\n\t</li>\n\t<li>Strains are classified into biotypes based on <span class=\"customMeta\" data-dictid=\"d325b5afd71692777202405d5f5c59\">virulence</span> and epidemiological behavior:\n\t<ul>\n\t\t<li>Highly <span class=\"customMeta\" data-dictid=\"417d56229b1692777202ce72999b28\">virulent</span> strains are exclusive to North America.</li>\n\t\t<li>Low-virulence strains are found in Europe and Asia.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Clinical Features</strong></p>\n\n<ul>\n\t<li><em>Francisella tularensis</em> causes tularemia, a zoonotic infection transmitted to humans from rabbits and rodents.</li>\n\t<li>Transmission occurs via:\n\t<ul>\n\t\t<li>Tick bites</li>\n\t\t<li>Ingestion of contaminated meat or water</li>\n\t\t<li>Inhalation of <span class=\"customMeta\" data-dictid=\"aa279cf1f016927771903f195bb1b9\">infectious</span> aerosols</li>\n\t</ul>\n\t</li>\n\t<li>Clinical manifestations include:\n\t<ul>\n\t\t<li>Tularemia also called ulceroglandular fever: Local <span class=\"customMeta\" data-dictid=\"50f4196df6169277720181ef605c33\">ulceration</span> with lymphadenopathy</li>\n\t\t<li>Typhoid-like fever with <span class=\"customMeta\" data-dictid=\"c2f9d01ba91692777188d264244b6a\">glandular</span> swelling</li>\n\t\t<li>Influenza-like <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> symptoms</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Disease progression: </strong></p>\n\n<p>Ticket bite during rabbit killing \u2192 hand <span class=\"customMeta\" data-dictid=\"7b4370a0b01692777201a5bc0739c2\">ulcer</span> \u2192 axillary lymphadenitis</p>\n\n<p>\u00a0</p>\n\n<p><strong>Diagnosis</strong></p>\n\n<ul>\n\t<li>Diagnosis of <span class=\"customMeta\" data-dictid=\"33f5ee9ea11692777201b1a7e528f2\">tularemia</span> can be achieved through several methods:</li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Method</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Description</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Culture</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Requires specialized media (e.g., Francis\u2019 blood <span class=\"customMeta\" data-dictid=\"baf8b019b01692777186c856f83721\">dextrose</span> <span class=\"customMeta\" data-dictid=\"c65131cb591692777185e8b4d0055f\">cystine</span> agar); small <span class=\"customMeta\" data-dictid=\"fb59d538e21692777200b3702d4802\">transparent</span> colonies appear after 3-5 days of incubation. <strong>(Option A ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Animal Inoculation</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Identified by inoculating guinea pigs or mice with patient samples.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Serology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Detection of agglutinating antibodies in patient sera. Can yield false negatives and therefore require further confirmation with cultures.<strong>(Option B ruled out)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Treatment</strong></p>\n\n<ul>\n\t<li>An attenuated vaccine can be given by <span class=\"customMeta\" data-dictid=\"5e90a849311692777198b3ae643e6c\">scarification</span> to high-risk individuals.</li>\n</ul>\n\n<p><strong>Direct <span class=\"customMeta\" data-dictid=\"51df8cdfc91692777192aa76f4de51\">microscopy</span> of patient samples is the primary method for diagnosis (Option C):</strong> Direct <span class=\"customMeta\" data-dictid=\"51df8cdfc91692777192aa76f4de51\">microscopy</span> is not the primary method for diagnosing tularemia. While it can be used to <span class=\"customMeta\" data-dictid=\"67407c787d1692777202245c791c31\">visualize</span> organisms in tissue samples, it is not sufficiently sensitive or specific to serve as the main <span class=\"customMeta\" data-dictid=\"552e9ef8811692777186997018b858\">diagnostic</span> tool.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/tW4fZ72hztSk3YK4vOzV1751221382.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/6IFFIQ1yA0Etk30BqBbX1751221475.mp3"
  },
  {
    "text": "<p>Match the following features/diseases with their respective organisms:</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1. Klebsiella pneumoniae</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>a. Chronic granulomatous hypertrophy of nose</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2. Klebsiella ozaenae</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>b. Foul-smelling nasal discharge</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>3. Klebsiella rhinoscleromatis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>c. Healthcare-associated infections, UTI, septicemia</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "choices": [
      {
        "id": 1,
        "text": "1-a ; 2-b ; 3-c"
      },
      {
        "id": 2,
        "text": "1-c ; 2-b ; 3-a"
      },
      {
        "id": 3,
        "text": "1-b ; 2-c ; 3-a"
      },
      {
        "id": 4,
        "text": "1-a ; 2-c ; 3-b"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer: B) 1-c; 2-b; 3-a</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1. Klebsiella pneumoniae</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>c. Healthcare-associated infections, UTI, septicemia</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2. Klebsiella ozaenae</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>b. Foul-smelling <span class=\"customMeta\" data-dictid=\"31c5d0e75f16927771938d8e2daa4c\">nasal</span> discharge</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>3. Klebsiella rhinoscleromatis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>a. Chronic <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> <span class=\"customMeta\" data-dictid=\"3baac9012a1692777189cb4dc70c04\">hypertrophy</span> of nose</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>1. Klebsiella pneumoniae (Friedlander's bacillus, <span class=\"customMeta\" data-dictid=\"461ee544961692777182696a650b05\">Bacillus</span> mucosus capsulatus) : </strong></p>\n\n<ul>\n\t<li>They grow well on <strong>ordinary media</strong>, forming large,<strong> dome-shaped</strong>, <span class=\"customMeta\" data-dictid=\"14f3af3bf516927771939c1efb8726\">mucoid</span> colonies of varying degrees of stickiness.</li>\n\t<li>On MacConkey agar, they grow as lactose-forming colonies</li>\n\t<li>Common infections associated with K. pneumoniae are pneumonia, <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> infection, septicemia, several <span class=\"customMeta\" data-dictid=\"f6332ef2d21692777196294f154e57\">pyogenic</span> infections and, very rarely, diarrhea</li>\n</ul>\n\n<p><strong>Pneumonia due to Klebsiella</strong> is a serious disease with high case fatality:</p>\n\n<ul>\n\t<li>It occurs in middle-aged or older persons with risk factors such as alcoholism, chronic <span class=\"customMeta\" data-dictid=\"96449e83e1169277718352d3106918\">bronchopulmonary</span> disease or diabetes mellitus.</li>\n\t<li>The disease is characterized by massive <span class=\"customMeta\" data-dictid=\"14f3af3bf516927771939c1efb8726\">mucoid</span> <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> <span class=\"customMeta\" data-dictid=\"2df02c8a091692777187db6df500a1\">exudate</span> of <span class=\"customMeta\" data-dictid=\"82ded933641692777191ee421dc094\">lobar</span> or lobular distribution, involving one or more lobes of the lung.</li>\n\t<li>Necrosis and <span class=\"customMeta\" data-dictid=\"5618681fbe16927771804370383aaa\">abscess</span> formation are more frequent than in pneumococcal pneumonia. Serotypes 1, 2 and 3 are usually responsible for pneumonia.</li>\n</ul>\n\n<p><strong>K.pneumoniae is a frequent cause of : </strong></p>\n\n<ul>\n\t<li>Urinary infection, often causing catheter-associated <span class=\"customMeta\" data-dictid=\"210e94f8861692777201a0d6de4b0e\">UTI</span> (CAUTI).</li>\n\t<li>As most strains are resistant to antibiotics, treatment poses serious problems.</li>\n\t<li>It also causes <span class=\"customMeta\" data-dictid=\"f6332ef2d21692777196294f154e57\">pyogenic</span> infections such as abscesses, <span class=\"customMeta\" data-dictid=\"7d8f74eaae16927771928214d10c17\">meningitis</span> and septicemia.</li>\n\t<li>Mortality is high in <span class=\"customMeta\" data-dictid=\"77493a5b781692777193df12530299\">neonatal</span> <span class=\"customMeta\" data-dictid=\"fe9ab8afe416927771980091186846\">sepsis</span> caused by Klebsiella pneumoniae, as mostly multidrug-resistant strains cause these infections.</li>\n</ul>\n\n<p><strong>2. K.ozaenae</strong> :</p>\n\n<ul>\n\t<li>It is a <span class=\"customMeta\" data-dictid=\"461ee544961692777182696a650b05\">bacillus</span> associated with ozena, a disease characterized by foul-smelling <span class=\"customMeta\" data-dictid=\"31c5d0e75f16927771938d8e2daa4c\">nasal</span> discharge.</li>\n\t<li>Identification is difficult due to wide variations in the biochemical reactions of individual strains.</li>\n\t<li>K.ozaenae belongs to capsular types 3-6.</li>\n</ul>\n\n<p><strong>3. K.rhinoscleromatis: </strong></p>\n\n<ul>\n\t<li>It causes rhinoscleroma, a chronic <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> <span class=\"customMeta\" data-dictid=\"3baac9012a1692777189cb4dc70c04\">hypertrophy</span> of the nose.</li>\n\t<li>The <span class=\"customMeta\" data-dictid=\"fe0005a48b1692777182143f69e1d5\">bacilli</span> are seen intracellularly in lesions.</li>\n\t<li>It can be identified by biochemical reactions and belongs to capsular type 3</li>\n</ul>\n\n<p><strong>Biochemical reaction differentiating Klebsiella species: </strong></p>\n\n<p><img alt=\"Biochemical reaction differentiating Klebsiella species\" data-author=\"\" data-hash=\"9875\" data-license=\"\" data-source=\"\" data-tags=\"April2025\" height=\"500\" src=\"https://image.prepladder.com/notes/XonorHWxanBA82UzmI6G1744445885.png\" width=\"500\" /></p>\n\n<ul>\n\t<li>Klebsiella <span class=\"customMeta\" data-dictid=\"9af2ec7d1c16927772021e06a81cb5\">ferment</span> carbohydrates (glucose, lactose, <span class=\"customMeta\" data-dictid=\"8a90a1b8ed16927771997b65c1558b\">sucrose</span> and mannitol) with the production of acid and abundant gas.</li>\n\t<li>The IMViC reaction is - -+ +.</li>\n</ul>\n\n<p><strong>Treatment: </strong></p>\n\n<ul>\n\t<li>Empiric treatment is done for <span class=\"customMeta\" data-dictid=\"a813884d6016927771838d2d1f9d1d\">bloodstream</span> infections. 4.5 g of Piperacillin + Tazobactam every six hours <strong>OR</strong></li>\n\t<li>3 g of Cefoperazone-sulbactam every 12 hours or Aminoglycoside, e.g., <span class=\"customMeta\" data-dictid=\"29b51ba65b1692777181574e73b9ae\">amikacin</span> 20 mg/ kg/ day must be given.</li>\n\t<li>Carbapenems like <span class=\"customMeta\" data-dictid=\"9fb94657df1692777189cfd67776b0\">imipenem</span> and Meropenem must be given in resistant isolates and critically ill patients.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/XonorHWxanBA82UzmI6G1744445885.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/Dqj5PxsNInC1GKWEQuEp1751221120.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/DGIlhtQPbsmMzpgRla161751221184.mp3"
  }
];
        let quizName = '17 Miscellaneous Bacteria';
        const quizFilename = '17-miscellaneous-bacteria-dd5a5590.html';
        let hierarchy = ["PrepLadder", "qBank", "Microbiology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>