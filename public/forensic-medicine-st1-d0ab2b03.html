<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forensic Medicine St1 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2017 - 18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "In which part of the body does a lesser impact cause a maximum bruise",
    "choices": [
      {
        "id": 1,
        "text": "Face"
      },
      {
        "id": 2,
        "text": "Sole"
      },
      {
        "id": 3,
        "text": "Back"
      },
      {
        "id": 4,
        "text": "Palm"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>In vascular and loose parts</strong>, such as face, vulva and scrotum, a <strong>slight degree of violence (lesser impact) causes a large bruise,</strong>\u00a0as there is sufficient space for blood to accumulate.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following pattern of erythema is characteristic of _____.",
    "choices": [
      {
        "id": 1,
        "text": "Lightning stroke"
      },
      {
        "id": 2,
        "text": "Electrical injuries"
      },
      {
        "id": 3,
        "text": "Scalds"
      },
      {
        "id": 4,
        "text": "Heat burns"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image shows superficial fern-like erythema called <strong>arborescent or filigree burns or Lichtenberg's flowers</strong>&nbsp;resembling branches of a tree which is <strong>characteristic of lightning stroke injury.</strong></p>\n<p><strong>Electrical burns </strong>may lead to the formation of<strong> vesicles or bullae, </strong>or lead to the&nbsp;<strong>destruction of skin </strong>and subcutaneous tissues.</p>\n<p>The image below shows an electrical burn.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b5817a022de1406e9ccba759db9021a0.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/222272c5276446b9a14900573b579ba6x529x599.JPEG"
    ]
  },
  {
    "text": "A 48-year-old man, who works in a mortuary was caught by the police while obtaining sexual gratification with a corpse.  He is punishable under",
    "choices": [
      {
        "id": 1,
        "text": "Sec 292 BNS (290 IPC)"
      },
      {
        "id": 2,
        "text": "Sec 296 BNS (294 IPC)"
      },
      {
        "id": 3,
        "text": "Sec 301 BNS (297 IPC)"
      },
      {
        "id": 4,
        "text": "Sec 101 BNS (300 IPC)"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical scenario of a man obtaining sexual gratification with dead bodies describes <strong>necrophilia</strong>. Necrophilia is punishable under<strong> Sec 301 BNS </strong>(297 IPC)<strong>.</strong></p>\n<p>It<strong> </strong>deals with a punishment of <strong>imprisonment of up to 1 year and/or a fine</strong> for both\u00a0<strong>necrophilia and necrophagia.</strong></p>\n<p><strong>Necrophilia </strong>describes a person who obtains sexual gratification by intercourse with dead bodies. <strong>Necrophagia</strong>\u00a0describes a person who sucks the wound, bites the skin, sucks the blood, and eats the flesh of a dead body to derive sexual pleasure.</p>\n<p><strong>Other options:</strong></p>\n<p>Option A: Sec <strong>292 BNS</strong> (290 IPC) <strong>- Punishment for frotteurism</strong> with fine up to Rs. 1000.</p>\n<p>Option B: Sec <strong>296 BNS </strong>(294 IPC) - <strong>Punishment for exhibitionism</strong> with imprisonment of up to 3 months or a fine.\u00a0</p>\n<p>Option D: Sec <strong>101 BNS</strong> (300 IPC)<strong> - Definition of murder.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "\u201cMotorcyclist\u2019s fracture\u201d is which of the following",
    "choices": [
      {
        "id": 1,
        "text": "Ring fracture of base of skull"
      },
      {
        "id": 2,
        "text": "Hinge fracture of base of skull"
      },
      {
        "id": 3,
        "text": "Comminuted fracture of skull"
      },
      {
        "id": 4,
        "text": "Depressed fracture of skull"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Motorcyclist's fracture is Hinge fracture of the base of skull</strong> in which base of skull is divided into 2 halves, each moving independently of each other like a hinge.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/914517ea05c142d5a19d87bbdad29a09x316x505.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ed143d3195ff4a1b89d3e816fd311ee6x1279x1477.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e7c0bb08e76d45ce84d2053f513842c1x1280x1373.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2338efa0315d4a03bd538ad094ee92e0x1280x1055.JPEG"
    ]
  },
  {
    "text": "A middle aged man comes to OPD with paraethesia of hands and feet, hyperkeratosis of palms, rain drop pigmentation and transverse lines on nails. Most likely the person is having",
    "choices": [
      {
        "id": 1,
        "text": "Arsenic poisoning"
      },
      {
        "id": 2,
        "text": "Lead poisoning"
      },
      {
        "id": 3,
        "text": "Mercury poisoning"
      },
      {
        "id": 4,
        "text": "Cadmium poisoning"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Arsenic poisoning:</strong></p>\n<p><strong>Fatal dose</strong>: 0.1-0.2 gm.\u00a0</p>\n<p><strong>Arsenophagist</strong>: People who consume arsenic regularly as aphrodisiac.</p>\n<p><strong>Features:</strong></p>\n<ul>\n<li>Nausea.</li>\n<li><strong>Aldrich Mees lines.</strong></li>\n<li>Garlic odour in breath.</li>\n<li><strong>Rain drop pigmentation of skin</strong>.</li>\n<li><strong>Hyperkeratosis </strong>of palms and soles.</li>\n<li>Abdominal pain.</li>\n<li>Neuritis - Sensory motor polyneuropathy.</li>\n<li>Red velvety appearance of mucosa of stomach.</li>\n<li>Arsenic poisoning <strong>delays putrefaction</strong>.</li>\n</ul>\n<p>It can be <strong>found in bones, hair,\u00a0and nail</strong>.</p>\n<p><strong>Tests to detect arsenic</strong>:</p>\n<ul>\n<li>Marsh\u2019s test.</li>\n<li>Reinsch\u2019s test.</li>\n<li>Atomic absorption spectrometry.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Colour of post mortem staining in hypothermia is",
    "choices": [
      {
        "id": 1,
        "text": "Cherry red"
      },
      {
        "id": 2,
        "text": "Bright pink"
      },
      {
        "id": 3,
        "text": "Bluish green"
      },
      {
        "id": 4,
        "text": "Brown"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In hypothermia colour of postmortem staining is bright pink.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Kennedy\u2019s phenomenon is related to difficulty in",
    "choices": [
      {
        "id": 1,
        "text": "Wound healing"
      },
      {
        "id": 2,
        "text": "Wound identification"
      },
      {
        "id": 3,
        "text": "Identifying scene of crime"
      },
      {
        "id": 4,
        "text": "Evaluating wound embolism"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Kennedy\u2019s phenomenon </strong>is related to <strong>firearm wounds identification i.e. to differentiate between entrance and exit wound.</strong></p>\n<ul>\n<li>It states that surgical alteration or suturing of gunshot wounds makes difficult to <strong>identify </strong>whether it was entrance or exit wound.</li>\n<li>During the <strong>assassination of John F. Kennedy,</strong>\u00a0the<strong> exit wound </strong>at the front of the neck could not be examined well as it had been <strong>obscured during tracheostomy</strong> measures to save the president.</li>\n</ul>\n<p><strong>Rayalaseema phenomenon :\u00a0</strong>Medico-legal evaluation of a <strong>fire arm injury</strong> made difficult by <strong>deliberate mutilation.</strong> Eg Cutting or stabbing.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Gettler\u2019s test is positive in:",
    "choices": [
      {
        "id": 1,
        "text": "Hanging"
      },
      {
        "id": 2,
        "text": "Drowning"
      },
      {
        "id": 3,
        "text": "Strangulation"
      },
      {
        "id": 4,
        "text": "Firearm injury"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Gettler test</strong> is done for<strong> drowning</strong>. It estimates\u00a0the <strong>chloride content </strong>of<strong> blood </strong>from <strong>both sides of the heart</strong>.</p>\n<p>Normally, chloride content is equal in the right and left chambers of the heart (approx. 600 mg/100 ml).\u00a0In<strong> freshwater drowning</strong>, due to <strong>hemodilution</strong>, the chloride content is<strong> decreased on\u00a0the left side o</strong>f the heart by<strong> 50%</strong>.<strong>\u00a0</strong>In<strong> saltwater drowning</strong> due to <strong>hemoconcentration</strong>, the chloride content is<strong> increased </strong>in the<strong> left side </strong>of the heart by <strong>30-40%</strong>.</p>\n<p>This test is said to be\u00a0<strong>negative </strong>in<strong>\u00a0post-mortem drowning</strong>.\u00a0</p>\n<p>Limitations of the test:</p>\n<p>No value in atypical drowning, or congenital cardiac defects, if the drowning medium contains the same amount of chloride. There is a progressive loss of chlorine from blood after death. Therefore, the test has to be made within a reasonably short time after death.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following type of wound can be seen in all, except ?",
    "choices": [
      {
        "id": 1,
        "text": "Bursting of skull"
      },
      {
        "id": 2,
        "text": "Firearm Exit wound"
      },
      {
        "id": 3,
        "text": "Contact shot"
      },
      {
        "id": 4,
        "text": "Close shot"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above image shows a <strong>stellate/ cruciate type </strong>of wound, which is seen in a contact shot, <strong>not </strong>in a\u00a0close shot.</p>\n<p><strong>Close-shot</strong> wound features include wounds with the victim within a range of <strong>5 </strong>to<strong> 8 cm</strong>, characterized by <strong>circular shapes</strong> with <strong>inverted edges</strong>. Notable signs include <strong>blackening</strong> and <strong>tattooing</strong> around the wound area. Additionally, there may be burning of hair, along with abrasion and the presence of a <strong>grease collar</strong>.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Bursting</strong> of the <strong>skull</strong> is associated with a <strong>contact shot wound</strong>. \u00a0</p>\n<p>Option B: <strong>Firearm exit wounds</strong> can be of various shapes, such as round, <strong>cruciate</strong>, stellate, elliptical, or crescent-shaped. Exit wounds of the head are usually star-shaped.</p>\n<p>Option C: <strong>Contact shot </strong>features are :</p>\n<ul>\n<li>An imprint of muzzle around the wound \u2013 Recoil abrasion.</li>\n<li>Back spatter -\u00a0Sucking of tissue, Cloth fibers, inside the barrel.</li>\n<li>Pinkish-red discoloration due to CO.</li>\n<li>Shape -\u00a0<strong>Stellate, Cruciate, Elliptical</strong>.</li>\n<li>Margins - everted.</li>\n<li>Bursting fractures \u2013 In head wounds.</li>\n<li>Cavitation - abdominal wounds.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5ed8a58d1c9a4f0ebe14d00dd742ebd4.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "All of the following indices are used to determine race of the individual except",
    "choices": [
      {
        "id": 1,
        "text": "Cephalic index"
      },
      {
        "id": 2,
        "text": "Medullary index"
      },
      {
        "id": 3,
        "text": "Brachial index"
      },
      {
        "id": 4,
        "text": "Intermembranal index"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Cephalic index, brachial index, intermembranal index are all used to determine race of the individual whereas medullary index is used to differentiate between human v/s animal hairs.</p>\n<p>Osteometric indices to determine race are:</p>\n<ul>\n<li>Cephalic index.</li>\n<li>Brachial index.</li>\n<li>Crural index.</li>\n<li>Humero-femoral index.</li>\n<li>Inter-membranal index.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Induction of MTP is not allowed unless for serious maternal causes when the period of gestation exceeds",
    "choices": [
      {
        "id": 1,
        "text": "12 weeks"
      },
      {
        "id": 2,
        "text": "18 weeks"
      },
      {
        "id": 3,
        "text": "20 weeks"
      },
      {
        "id": 4,
        "text": "24 weeks"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>According to the <strong>MTP Amendment Act 2021</strong>, <strong>induction</strong> of MTP is allowed up to <strong>24 weeks </strong>of gestation unless for serious maternal causes. In case of serious causes (substantial fetal anomalies), it is allowed only with the approval of the medical board.</p>\n<p>Pregnancy below <strong>20 weeks</strong> can be terminated on the opinion of a <strong>single doctor</strong>.</p>\n<p>Between <strong>20 to 24 weeks</strong>, <strong>two doctors</strong> must agree that there is an indication.</p>\n<p>In an <strong>emergency</strong>, MTP can be done by a single doctor even after 20 weeks of gestation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are tests to check cessation of circulation except",
    "choices": [
      {
        "id": 1,
        "text": "Diaphanous test"
      },
      {
        "id": 2,
        "text": "Winslow\u2019s test"
      },
      {
        "id": 3,
        "text": "Magnus\u2019s test"
      },
      {
        "id": 4,
        "text": "Icard\u2019s test"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Magnus&rsquo;s test (ligature test), </strong><strong>Diaphanous test (Transillumination test), Icard&rsquo;s test, Fingernail test</strong> are tests to check <strong>cessation of circulation</strong>. <strong>Option b:</strong> <strong>Winslow&rsquo;s test</strong> is used to check <strong>cessation of respiration</strong>.</p>\n<p><strong>Tests for confirming cessation of circulation:&nbsp;</strong><strong>No audible heart sounds</strong> on continuous auscultation on precordial area of chest for a <strong>minimum of 5 minutes</strong>, is suggestive of cessation of circulation and a <strong>flat ECG recording for 5 minutes</strong> confirms this.</p>\n<p><strong>Other tests:</strong></p>\n<ul>\n<li><strong>Magnus&rsquo;s test (Ligature test)&mdash;</strong>fingers fail to show congestion distal to a ligature applied at their base.</li>\n<li><strong>Diaphanous test (Transillumination test)</strong>&mdash;Failure to show redness in the web space between the fingers on transillumination from behind.</li>\n<li><strong>Icard&rsquo;s test</strong>&mdash;fluorescent dye on being injected at a given site in a dead body fails to produces any discolouration.</li>\n<li><strong>Fingernail test</strong>&mdash;no blanching and filling of blood in the fingernail on application of pressure and release.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During autopsy, stomach is opened",
    "choices": [
      {
        "id": 1,
        "text": "Along the lesser curvature, from cardiac to pyloric end"
      },
      {
        "id": 2,
        "text": "Along the lesser curvature, from pyloric to cardiac end"
      },
      {
        "id": 3,
        "text": "Along the greater curvature, from cardiac to pyloric end"
      },
      {
        "id": 4,
        "text": "Along the greater curvature, from pyloric to cardiac end"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>During autopsy stomach is opened along the greater curvature, starting from the cardiac end and proceeding towards pyloric end.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Magnan\u2019s symptoms is a form of",
    "choices": [
      {
        "id": 1,
        "text": "Delusion"
      },
      {
        "id": 2,
        "text": "Formication"
      },
      {
        "id": 3,
        "text": "Illusion"
      },
      {
        "id": 4,
        "text": "Depersonalisation"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Magnan's symptoms is a<strong> form of formication or tactile hallucination</strong>.</li>\n<li>It is seen in people with\u00a0<strong>Cocaine addiction</strong>.</li>\n<li>It is a feeling that <strong>grains of sand are lying under the skin</strong> or small <strong>insects are creeping on skin.</strong></li>\n<li>It is referred to as <strong>cocaine bugs.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Hydrocution is another name for which of the following",
    "choices": [
      {
        "id": 1,
        "text": "Immersion syndrome"
      },
      {
        "id": 2,
        "text": "Electrocution in water"
      },
      {
        "id": 3,
        "text": "Lightning attack in water"
      },
      {
        "id": 4,
        "text": "Snake bite in water"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Immersion syndrome/ hydrocution/ submersion inhibition</strong>\u00a0is <strong>death due to cardiac arrest due to vagal inhibition.</strong></p>\n<p>Vagal inhibition of the heart due to peripheral vagal nerve stimulation occurs by:</p>\n<ul>\n<li>Sudden entry of water into the nasopharynx or larynx.</li>\n<li>Water striking epigastrium while diving.</li>\n<li>Sudden inrush of cold water into the ears.</li>\n</ul>\n<p><strong>Predisposing factors:</strong></p>\n<ul>\n<li>Young swimmers.</li>\n<li>Under the influence of Alcohol.</li>\n<li>Excitement and emotions.</li>\n<li>Overeating prior to swimming.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The crown heel length of a 6-month-old fetus would likely be:",
    "choices": [
      {
        "id": 1,
        "text": "36 cm"
      },
      {
        "id": 2,
        "text": "30 cm"
      },
      {
        "id": 3,
        "text": "25 cm"
      },
      {
        "id": 4,
        "text": "12 cm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>According to <strong>Haase's modification of Morisson's law</strong>, the <strong>Age</strong> of the fetus during the <strong>last 5 months</strong> of pregnancy = <strong>Crown heel length(in cm)/5</strong>. So, crown heel length = age in months \u00d7 5 i.e. 6 \u00d7 5 = 30cm. Therefore, the crown heel length of a 6-month-old fetus is 30cm.</p>\n<p><strong>Rule of Haase</strong>: A rough method of calculating the age of the fetus. The length of the fetus is measured from the crown to the hell in centimeters. During the first five months of pregnancy, the<strong> square root of the length </strong>gives the <strong>approximate age </strong>of the fetus<strong> in months</strong>. E.g., a fetus of 16cm is four months old.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A bullet that follows the following trajectory in its path is a",
    "choices": [
      {
        "id": 1,
        "text": "Ricochet bullet"
      },
      {
        "id": 2,
        "text": "Tandem bullet"
      },
      {
        "id": 3,
        "text": "Tumbling bullet"
      },
      {
        "id": 4,
        "text": "Yawning bullet"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image shows a bullet that<strong> rotates end-to-end</strong> during its motion and it is called a <strong>tumbling bullet</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1ffb0fc3fdff48eb95cabfeafb2d8cf3.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient has been bitten by the snake shown in the picture. The venom in this bite would be predominantly.",
    "choices": [
      {
        "id": 1,
        "text": "Musculotoxic"
      },
      {
        "id": 2,
        "text": "Hematotoxic"
      },
      {
        "id": 3,
        "text": "Neurotoxic"
      },
      {
        "id": 4,
        "text": "Cardiotoxic"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The snake in the given image has white bands on the body which is a feature of common krait and it belongs to the elapidae family. The venom of the common krait is <strong>Neurotoxic.</strong></p>\n<p>Krait venom <strong>produces only paralysis, not convulsions.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/38501ca1575a4387a5ddecac9538c663.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The following ossification centres are present before birth except",
    "choices": [
      {
        "id": 1,
        "text": "Talus"
      },
      {
        "id": 2,
        "text": "Calcaneum"
      },
      {
        "id": 3,
        "text": "Mandible"
      },
      {
        "id": 4,
        "text": "Head of femur"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Head of femur appears at 6 months to 1 year of age.</p>\n<p><strong>Ossification centres present before birth:</strong></p>\n<ul>\n<li>2 months &ndash; upper segment of sacrum, mandible.</li>\n<li>3 months &ndash; middle segment of sacrum.</li>\n<li>6 months &ndash; Calcaneum.</li>\n<li>7 months &ndash; talus.</li>\n<li>8 months &ndash; lower segment of sacrum.</li>\n<li>9 months &ndash; lower end of femur.</li>\n<li>10 months &ndash; upper end of tibia.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A man who had a fistfight with a neighbor was brought to you with a fracture of the lower central incisor and soft tissue injury to the area around his mouth. He also had contusions on his legs. What is the nature of this injury?",
    "choices": [
      {
        "id": 1,
        "text": "Grievous injury"
      },
      {
        "id": 2,
        "text": "Simple injury"
      },
      {
        "id": 3,
        "text": "Dangerous injury"
      },
      {
        "id": 4,
        "text": "Homicidal injury"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Fracture </strong>or dislocation of\u00a0bone or<strong style=\"font-weight: bold;\"> tooth </strong>is categorized as<strong><strong>\u00a0</strong>grievous injury</strong>.</p>\n<p>Grievous hurt is inflicted voluntarily to another person and comprise of any of the eight kinds (clauses) enumerated below:</p>\n<ul>\n<li>Clause 1 \u2014 <strong>Emasculation.</strong></li>\n<li>Clause 2 \u2014 Permanent privation of sight of either<strong> eye.</strong>\u00a0</li>\n<li>Clause 3 \u2014 Permanent privation of hearing of either <strong>ear</strong>.</li>\n<li>Clause 4 \u2014<strong> Privation</strong> of any member or <strong>joint</strong>.</li>\n<li>Clause 5 \u2014 <strong>Destruction or permanent impairment</strong> of powers of any member or<strong> joint.</strong></li>\n<li>Clause 6 \u2014 Permanent disfigurement of <strong>head or face</strong>.</li>\n<li>Clause 7 \u2014 Fracture or dislocation of<strong> bone or tooth</strong>.</li>\n<li>Clause 8 \u2014 Any hurt which<strong> endangers life </strong>or which causes the sufferer to be, during the period of 15 days, in severe bodily pain or unable to follow his or her ordinary pursuits.</li>\n</ul>\n<p>Grievous hurt is a <strong>cognizable offence</strong> for which a police officer can arrest a person without a warrant from magistrate. (<strong>BNS</strong> <strong>Sec 116/</strong>320 IPC)</p>\n<p><strong>Punishment for grievous hurt :</strong></p>\n<ul>\n<li>BNS Sec 117(2): Punishment for <strong>voluntarily</strong> causing <strong>grievous hurt</strong> \u2013imprisonment up to seven years and fine.</li>\n<li>BNS Sec 118(2) Punishment for voluntarily causing grievous hurt <strong>by dangerous weapons or means</strong>\u2014minimum imprisonment of 1 year, extendable up to 10 years and fine.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A person knows the truth and willfully conceals the truth and instead gives false evidence in the court of law. He will be punished under which IPC",
    "choices": [
      {
        "id": 1,
        "text": "193"
      },
      {
        "id": 2,
        "text": "192"
      },
      {
        "id": 3,
        "text": "191"
      },
      {
        "id": 4,
        "text": "197"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The person in the above situation has committed <strong>perjury</strong>.</p>\n<p><strong>Section 193 IPC </strong>deals with<strong> Punishment for giving</strong> or fabricating false evidence in judicial proceeding or in any other case.</p>\n<table style=\"height: 129px; width: 294px;\">\n<tbody>\n<tr style=\"height: 13px;\">\n<td style=\"width: 49px; height: 13px;\"><strong>Section</strong></td>\n<td style=\"width: 233px; height: 13px;\"><strong>Related with</strong></td>\n</tr>\n<tr style=\"height: 52px;\">\n<td style=\"width: 49px; height: 52px;\"><strong>191</strong></td>\n<td style=\"width: 233px; height: 52px;\"><strong>Deals with false evidence</strong> and is based upon recognition of decline of moral values and <strong>erosion of sanctity of oath</strong>.(<strong>Perjury)</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 49px; height: 13px;\"><strong>192</strong></td>\n<td style=\"width: 233px; height: 13px;\">Fabricating false evidence</td>\n</tr>\n<tr style=\"height: 39px;\">\n<td style=\"width: 49px; height: 39px;\"><strong>193</strong></td>\n<td style=\"width: 233px; height: 39px;\"><strong>Punishment for giving</strong> or fabricating false evidence in judicial proceeding or in any other case.</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 49px; height: 13px;\"><strong>197</strong></td>\n<td style=\"width: 233px; height: 13px;\">Issuing or signing a certificate knowing or believing that the certificate is false.</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>\n<p>\u00a0</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Number of carpal bones at 4 years of age is",
    "choices": [
      {
        "id": 1,
        "text": "2"
      },
      {
        "id": 2,
        "text": "3"
      },
      {
        "id": 3,
        "text": "4"
      },
      {
        "id": 4,
        "text": "5"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Between the age of <strong>2-6 years</strong>, the number of carpal bones seen on X-ray indicates approximate age in years. Carpal bones present at 4 years of age are capitate, hamate, Triquetrum and lunate.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Seminal stains are identified by",
    "choices": [
      {
        "id": 1,
        "text": "Teichmann test"
      },
      {
        "id": 2,
        "text": "Takayama test"
      },
      {
        "id": 3,
        "text": "Acid phosphatase test"
      },
      {
        "id": 4,
        "text": "Kastlemayer test"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Acid phosphatase test is used to identify seminal stains. Teichmann, Takayama and Kastlemayer tests are used to detect blood stains.</p>\n<p><strong>Forensic tests to detect</strong>:</p>\n<table style=\"height: 87px;\" width=\"430\">\n<tbody>\n<tr style=\"height: 22px;\">\n<td style=\"width: 207px; height: 22px;\"><strong>Seminal stains</strong></td>\n<td style=\"width: 207px; height: 22px;\"><strong>Blood stains</strong></td>\n</tr>\n<tr style=\"height: 36px;\">\n<td style=\"width: 207px; height: 36px;\">\n<p>1. Barberio test</p>\n<p>2. Florence test</p>\n<p>3. Acid phosphatase test</p>\n<p>4. Creatine phosphokinase test</p>\n<p>5. Immunological test to detect PSA (Prostate Specific Antigen)</p>\n</td>\n<td style=\"width: 207px; height: 36px;\">\n<p>1. Benzidine test</p>\n<p>2. Phenophthalein (Kastle Meyer) test</p>\n<p>3. Takayama hemochromogen crystal test</p>\n<p>4. Teichmann\u2019s hemin crystal test</p>\n<p>5. Spectroscopic test</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "About 2 kg of tension in the ligature around the neck occludes which of the following structure",
    "choices": [
      {
        "id": 1,
        "text": "Jugular vein"
      },
      {
        "id": 2,
        "text": "Carotid artery"
      },
      {
        "id": 3,
        "text": "Vertebral artery"
      },
      {
        "id": 4,
        "text": "Trachea"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>2 kg of tension in the ligature must be present to occlude jugular vein.</p>\n<table style=\"height: 112px; width: 327px;\">\n<tbody>\n<tr style=\"height: 26px;\">\n<td style=\"width: 193px; height: 26px;\"><strong>Structures affected by ligature around neck</strong></td>\n<td style=\"width: 122px; height: 26px;\"><strong>Tension in ligature</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 193px; height: 13px;\">Jugular vein</td>\n<td style=\"width: 122px; height: 13px;\">2 Kg</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 193px; height: 13px;\">Carotid artery</td>\n<td style=\"width: 122px; height: 13px;\">5 Kg</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 193px; height: 13px;\">Trachea</td>\n<td style=\"width: 122px; height: 13px;\">15 Kg</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 193px; height: 13px;\">Vertebral artery</td>\n<td style=\"width: 122px; height: 13px;\">20 Kg</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "St. Anthony\u2019s fire is due to",
    "choices": [
      {
        "id": 1,
        "text": "Pyromania"
      },
      {
        "id": 2,
        "text": "Ergot poisoning"
      },
      {
        "id": 3,
        "text": "Illusion"
      },
      {
        "id": 4,
        "text": "Datura poisoning"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>St. Anthony\u2019s Fire</strong>: It is an epidemic of dysaesthesia produced by eating rye bread contaminated with ergot.</p>\n<p><strong>Its features</strong>\u00a0include:</p>\n<ul>\n<li>Burning sensation in extremities.</li>\n<li>Delirium.</li>\n<li>Convulsions.</li>\n</ul>\n<p><strong>Ergot poisoning:</strong></p>\n<ul>\n<li>It is caused by the dried sclerotium of fungus <strong>Claviceps purpurea</strong>.</li>\n</ul>\n<p><strong>Signs and symptoms</strong> of ergot poisoning:</p>\n<ul>\n<li>Nausea, vomiting, diarrhoea</li>\n<li>Giddiness</li>\n<li>Tightness in chest</li>\n<li>Difficulty in breathing</li>\n<li>Marked muscular weakness and fatigue.</li>\n<li>Tingling, numbness in hands and feet</li>\n<li>Paraesthesia followed by cramps</li>\n<li>Bleeding from nose and mucosa after taking large doses</li>\n<li>Weak and rapid pulse</li>\n<li>Dilated pupils Raised BP</li>\n</ul>\n<p><strong>Treatment:</strong></p>\n<p>Stomach wash and purgatives.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Burn (heat) hematoma is seen between",
    "choices": [
      {
        "id": 1,
        "text": "Skull and dura"
      },
      {
        "id": 2,
        "text": "Brain and arachnoid"
      },
      {
        "id": 3,
        "text": "Arachnoid and pia"
      },
      {
        "id": 4,
        "text": "Pia and dura"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>\"Heat hematoma\" within the burnt skull can resemble an extradural hemorrhage</strong> of antemortem origin and is hence<strong> between the skull and dura.</strong></li>\n<li>The frothy brown appearance of the false clot along with heating effects upon the adjacent brain, help in differentiation.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An 8-year-old girl is brought for medical examination by her parents, with complaints of being sexually assaulted by her neighbor. What would be the likely hymenal finding in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Ruptured since it is superficially situated"
      },
      {
        "id": 2,
        "text": "Ruptured since it is very thin"
      },
      {
        "id": 3,
        "text": "Unruptured since it is deeply situated"
      },
      {
        "id": 4,
        "text": "Unruptured since it is highly elastic"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>\u00a0In this child, the hymen is likely to be <strong>unruptured</strong> since it is <strong>deeply situated</strong> and\u00a0usually <strong>intact</strong> after intercourse.</p>\n<p>\u00a0As the <strong>vagina</strong> is very <strong>small</strong>, it is impossible for the penetration of the adult organ to take place. In children, there are few or no signs of general\u00a0 \u00a0violence, as the child is <strong>unaware</strong> of the assault and incapable of resisting.</p>\n<p>\u00a0The penis is usually placed within the <strong>vulva</strong> and between the thighs. Forceful penetration may cause the penis to be pushed backward by the\u00a0 \u00a0symphysis pubis, and the hymen may be torn <strong>posteriorly</strong>.</p>\n<p>\u00a0A few indicators for routine enquiry are pain on <strong>urination</strong> and/or <strong>defecation</strong>, <strong>abdominal pain,</strong> inability to sleep, sudden withdrawal from peers/adults,\u00a0 \u00a0feelings of <strong>anxiety</strong>, nervousness, helplessness, weight loss, and feelings of ending one\u2019s life.</p>\n<div class=\"row mt-3\">\n<p>\u00a0On examination, blood may be oozing from the injured parts or\u00a0<strong>blood</strong>\u00a0<strong>clots</strong>\u00a0may be found. An attempt to separate the thighs may cause\u00a0<strong>pain</strong>. The child\u00a0 \u00a0 may walk with difficulty due to the pain. The <strong>labia majora</strong>\u00a0may be\u00a0<strong>contused</strong>,\u00a0<strong>abraded</strong>,\u00a0or\u00a0<strong>lacerated.\u00a0</strong><strong>Circumferential</strong>\u00a0<strong>tears</strong> may be seen in children\u00a0 \u00a0 \u00a0 \u00a0 up\u00a0 to six years.</p>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Hemodialysis can be done in all of the following except",
    "choices": [
      {
        "id": 1,
        "text": "Copper sulphate"
      },
      {
        "id": 2,
        "text": "Ethylene glycol"
      },
      {
        "id": 3,
        "text": "Methanol"
      },
      {
        "id": 4,
        "text": "Barbiturate"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Hemodialysis is not useful in <strong>Copper sulphate poisoning</strong>.</p>\n<p><strong>Hemodialysis not useful</strong> in poisoning cases of:</p>\n<ul>\n<li>Copper sulphate</li>\n<li>Kerosene oil</li>\n<li>Benzodiazepine</li>\n<li>Organophosphate</li>\n<li>Digitalis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Given below is an image of Spanish windlass. What type of execution is it",
    "choices": [
      {
        "id": 1,
        "text": "Bansdola"
      },
      {
        "id": 2,
        "text": "Mugging"
      },
      {
        "id": 3,
        "text": "Garrotting"
      },
      {
        "id": 4,
        "text": "Hanging"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Spanish windlass is a type of garrotting.</p>\n<p>It used to be the <strong>official mode of execution in Spain</strong>. In this, an iron collar around the neck was tightened by a screw for strangulation.</p>\n<p><strong>Garotting</strong> is used in lonely places to kill and rob travelers, where the victim is attacked from behind without warning. The throat may be grasped or a ligature is thrown over the neck and quickly tightened resulting in <strong>sudden loss of consciousness and collapse.</strong> In this way a single assailant can kill a healthy adult male.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/94f44328054e4d3c9c9c7e0236c39c15.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Length of the humerus corresponds to ___% of stature of individual",
    "choices": [
      {
        "id": 1,
        "text": "20"
      },
      {
        "id": 2,
        "text": "22"
      },
      {
        "id": 3,
        "text": "27"
      },
      {
        "id": 4,
        "text": "35"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Length of the humerus is 20% of the stature.</p>\n<p><strong>Estimation of stature from skeletal remains:</strong></p>\n<table style=\"height: 104px; width: 160px;\">\n<tbody>\n<tr style=\"height: 14px;\">\n<td style=\"width: 69px; height: 14px;\"><strong>Bone</strong></td>\n<td style=\"width: 79px; height: 14px;\"><strong>% of height</strong></td>\n</tr>\n<tr style=\"height: 14px;\">\n<td style=\"width: 69px; height: 14px;\"><strong>Humerus</strong></td>\n<td style=\"width: 79px; height: 14px;\">20</td>\n</tr>\n<tr style=\"height: 14px;\">\n<td style=\"width: 69px; height: 14px;\"><strong>Tibia</strong></td>\n<td style=\"width: 79px; height: 14px;\">22</td>\n</tr>\n<tr style=\"height: 14px;\">\n<td style=\"width: 69px; height: 14px;\"><strong>Femur</strong></td>\n<td style=\"width: 79px; height: 14px;\">27</td>\n</tr>\n<tr style=\"height: 14px;\">\n<td style=\"width: 69px; height: 14px;\"><strong>Spine</strong></td>\n<td style=\"width: 79px; height: 14px;\">35</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A forensic expert is called onto examine a scene of crime involving firearms. Three persons are suspected. Minute traces of gunshot residue on the body of suspects can be best examined by which of the following methods",
    "choices": [
      {
        "id": 1,
        "text": "Harrison and Gilroy test"
      },
      {
        "id": 2,
        "text": "Flameless Atomic Absorption Spectroscopy"
      },
      {
        "id": 3,
        "text": "SEM \u2013 Energy Dispersive X ray analysis"
      },
      {
        "id": 4,
        "text": "Neutron activation analysis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Minute traces of gunshot residue on the body of suspects can be best examined by\u00a0SEM \u2013 Energy Dispersive X ray analysis.</p>\n<p><strong>SEM \u2013 EDXA</strong></p>\n<ul>\n<li>It is the <strong>most sophisticated too</strong>l to examine minute traces of<strong> gunshot residue.</strong></li>\n<li>Gunshot residue comprises of gases, metals like antimony, Barium, Copper deposited on hands, face, cloths of suspect.</li>\n<li>This method has<strong> negligible margin of error.</strong></li>\n</ul>\n<p><strong>Other options :</strong></p>\n<p><strong>Harrison and Gilroy test</strong></p>\n<ul>\n<li>It tests the presence of antimony, barium, lead.</li>\n<li>Not specific for firearms.</li>\n</ul>\n<p><strong>FAAS (Flameless Atomic Absorption Spectroscopy)</strong></p>\n<ul>\n<li>Tests the presence of Antimony, Barium, copper.</li>\n<li>Uses<strong> high temperatures </strong>to vaporize metallic elements.</li>\n<li>Aids in :\n<ul>\n<li>Identifying <strong>holes in clothing as bullet holes.</strong></li>\n<li>Determining <strong>Range of fire.</strong></li>\n<li>Determining <strong>common origin of bullet fragments.</strong></li>\n</ul>\n</li>\n</ul>\n<p><strong>Neutron Activation analysis</strong></p>\n<ul>\n<li>It is the chemical analysis of <strong>antimony and copper.</strong></li>\n<li>Based on characteristic<strong> radioisotopes formed</strong> by irradiation of elements.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "\u2018Charas\u2019 is",
    "choices": [
      {
        "id": 1,
        "text": "Stem of Cannabis indica"
      },
      {
        "id": 2,
        "text": "Leaves of Cannabis indica"
      },
      {
        "id": 3,
        "text": "Resin of Cannabis indica"
      },
      {
        "id": 4,
        "text": "Flowers of Cannabis indica"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Resin</strong> exuding from the leaves and stems of the&nbsp;Cannabis indica plant is known as <strong>Charas.</strong></p>\n<p><strong>Charas:</strong></p>\n<ul>\n<li>It is also called as<strong> Hashish.</strong></li>\n<li>It is the purest form of cannabis obtained from <strong>resin of Cannabis indica.</strong></li>\n<li>It is the resin (dope or shit) exuding from the leaves and stems of the plant.</li>\n<li>It is<strong> dark green or brown</strong> in colour, and contains 25 to 40 per cent of the active principle.</li>\n<li>This is also mixed with tobacco and <strong>used to smoke</strong> by a pipe or hookah.</li>\n</ul>\n<p><strong>Cannabis poisoning:</strong></p>\n<ul>\n<li>Cannabis is classified under <strong>deliriant cerebral neurotic plant poison.</strong></li>\n<li>Active principle is usually a fat soluble oleoresin called <strong>cannabinol</strong>.</li>\n</ul>\n<p><strong>Cannabis preparations</strong> are:</p>\n<ul>\n<li>Ganja</li>\n<li>Charas</li>\n<li>Bhang</li>\n<li>Marijuana</li>\n</ul>\n<p><strong>Signs and symptoms:</strong></p>\n<table style=\"height: 50px; width: 263px;\">\n<tbody>\n<tr>\n<td style=\"width: 136px;\"><strong>Acute poisoning:</strong></td>\n<td style=\"width: 115px;\"><strong>Chronic poisoning:</strong></td>\n</tr>\n<tr>\n<td style=\"width: 136px;\">\n<ul>\n<li>Relaxation</li>\n<li>Drowsiness</li>\n<li>Hypertension</li>\n<li>Tachycardia</li>\n<li>Slurred speech</li>\n<li>Ataxia</li>\n<li>Excessive appetite</li>\n<li>Eating food with great relish</li>\n</ul>\n</td>\n<td style=\"width: 115px;\">\n<ul>\n<li>Anti motivational syndrome</li>\n<li>Hallucinations</li>\n<li>Delusions</li>\n<li>Run Amok</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Treatment:</strong></p>\n<p><strong>Acute poisoning cases:</strong></p>\n<ul>\n<li>Gastric lavage with warm water/emesis.</li>\n<li>Activated charcoal orally is effective in cases reported within an hour of ingestion.</li>\n<li>Give strong tea, coffee.</li>\n<li>Provide artificial respiration, if necessary.</li>\n<li>Saline purgatives may be helpful.</li>\n<li>Haloperidol is to be given to control psychotic manifestations if any.</li>\n<li>Psychotherapy.</li>\n</ul>\n<p><strong>Chronic poisoning cases:</strong></p>\n<ul>\n<li>Gradual withdrawal of the drug.</li>\n<li>Diazepam for sedation.</li>\n<li>Haloperidol for psychotic reaction.</li>\n<li>Psychotherapy.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b6210131deb746a7a84dd909ee1fd5aa.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Lightning flash can cause injury by all of the following except",
    "choices": [
      {
        "id": 1,
        "text": "Direct effect of electric current"
      },
      {
        "id": 2,
        "text": "Super heated air"
      },
      {
        "id": 3,
        "text": "Expanded and repelled air"
      },
      {
        "id": 4,
        "text": "Compressed air pushed after the current"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Lightning flash can cause injury by <strong>4 factors of Spencer</strong></p>\n<ul>\n<li>Direct effect of high voltage current.</li>\n<li>Burning caused by superheated air.</li>\n<li>Effect of expanded and repelled air.</li>\n<li>Sledgehammer blow by compressed air pushed<strong> before the current</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A person X shoots a person Y with a revolver. The bullet grazes past through Y leaving a minor injury. The following are false except",
    "choices": [
      {
        "id": 1,
        "text": "X can be imprisoned for 3 years plus fine charges levied"
      },
      {
        "id": 2,
        "text": "The injury caused to Y  is defined by Sec 320 IPC"
      },
      {
        "id": 3,
        "text": "The punishment for the act committed by X is defined by Sec 323 IPC"
      },
      {
        "id": 4,
        "text": "X can be imprisoned for 7 years plus fine charges levied"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Injury caused to Y is \u2018<strong>hurt</strong>\u2019 and it is by a revolver = <strong>dangerous weapon.</strong> It is punishable under<strong> Sec 324 IPC </strong>for a<strong> period of 3 years + fine (or) both.</strong></p>\n<p><strong>Laws relating to <strong>hurt</strong>\u00a0are :</strong></p>\n<table style=\"height: 137px; width: 354px;\">\n<tbody>\n<tr>\n<td style=\"width: 98px;\"><strong>Sections of IPC</strong></td>\n<td style=\"width: 244px;\"><strong>Dealing with</strong></td>\n</tr>\n<tr>\n<td style=\"width: 98px;\">319</td>\n<td style=\"width: 244px;\">Defines hurt</td>\n</tr>\n<tr>\n<td style=\"width: 98px;\">320</td>\n<td style=\"width: 244px;\">Defines grievous hurt</td>\n</tr>\n<tr>\n<td style=\"width: 98px;\">323</td>\n<td style=\"width: 244px;\">Punishment for voluntarily causing hurt. \u2013 upto 1 year</td>\n</tr>\n<tr>\n<td style=\"width: 98px;\">324</td>\n<td style=\"width: 244px;\">Punishment for voluntarily causing <strong>hurt</strong> by dangerous weapons or means \u2013 upto 3 years + fine (or) both</td>\n</tr>\n<tr>\n<td style=\"width: 98px;\">325</td>\n<td style=\"width: 244px;\">Punishment for voluntarily causing grievous hurt \u2013 upto 7 years + fine (or) both</td>\n</tr>\n<tr>\n<td style=\"width: 98px;\">326</td>\n<td style=\"width: 244px;\">Punishment for voluntarily causing <strong>grievous hurt</strong> by dangerous weapons or means \u2013 upto 10 years + fine (or) both</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Respiratory depression is caused by all except?",
    "choices": [
      {
        "id": 1,
        "text": "Barbiturate"
      },
      {
        "id": 2,
        "text": "Gelsemine"
      },
      {
        "id": 3,
        "text": "Strychnine"
      },
      {
        "id": 4,
        "text": "Opium"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Strychnine poisoning</strong>:\u00a0</p>\n<p>It is a spinal poison affecting anterior horn cell. It is the <strong>CNS stimulant </strong>hence it will not cause respiratory depression<strong>.</strong> The <strong>crushed seed</strong> of Strychnous nux vomica is the toxic part of the plant.</p>\n<p><strong>Symptoms </strong>include:</p>\n<ul>\n<li>Anxiety and restlessness due to increased CNS activity.</li>\n<li>Respiration and circulation becomes slightly stimulated.</li>\n<li>Twitching and tremors of muscles.</li>\n<li>Severe convulsions may cause opisthotonous position and risus sardonicus.</li>\n<li>Blood stained froth and cyanosis may be seen.</li>\n<li>Postmortem caloricity can be seen.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/394a4a39a61a4e90951429ec9e0930a8x1280x910.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cc70119565c545c5a289f7f9ad4af13dx615x600.JPEG"
    ]
  },
  {
    "text": "Which of the following statements is false regarding the given below picture",
    "choices": [
      {
        "id": 1,
        "text": "Diatoms are aquatic unicellular plant"
      },
      {
        "id": 2,
        "text": "Diatoms have an extracellular coat composed of magnesium"
      },
      {
        "id": 3,
        "text": "Acid digestion technique is used to extract diatoms"
      },
      {
        "id": 4,
        "text": "Presence of diatoms in the femoral bone marrow is an indicator of antemortem inhalation of water"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The extracellular coat of diatoms has <strong>silica</strong> and not magnesium.</p>\n<p>Diatoms are a class of <strong>microscopic unicellular algae</strong>(Option A)&nbsp;found suspended in most natural waters. Their cell walls are impregnated with<strong> silica, </strong>chlorophyll, diatomic, and a brown pigment<strong>.</strong> Diatoms enter the pulmonary circulation during drowning.</p>\n<p>The drowning fluid and the particles in it, e.g., diatoms and plankton, pass from the ruptured alveolar wall into lymph channels and pulmonary veins and thus enter the left heart. Only a <strong>live body</strong> with circulation could transport diatoms from the lungs to the brain, bone marrow, liver and other viscera, and skeletal muscle. They are also found in bile and urine. Bone marrow is highly suitable and reliable.</p>\n<p>Isolation of diatoms involves <strong>acid digestion of tissue </strong>(Option C)&nbsp;- bone marrow, lung, blood, and kidneys with subsequent centrifugation and final residue is aspirated and examined for diatoms, which are birefringent, using dark ground illumination. <span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">A water sample is collected at the time of body retrieval in a clean container and the similarity of different species of diatom is compared.</span></p>\n<div class=\"page\" title=\"Page 206\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>The presence of diatoms in the lung, brain, liver, kidneys, and <strong>bone marrow </strong>of the femur (best site for analysis) or humerus is suggestive proof of <strong>antemortem drowning</strong>. (Option D)</li>\n<li>Since diatoms resist putrefaction, the diatom test may have some value in the examination of decomposed bodies.</li>\n<li>The test is negative in postmortem submersion and in dry drowning.&nbsp;</li>\n</ul>\n<div class=\"page\" title=\"Page 207\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Diatoms are ubiquitous in the environment and may enter circulation via the gastrointestinal tract (as contaminants of foods)or via the respiratory tract (which are present in the air). Still, t<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">he diatom test is considered the<strong> gold standard</strong> for the diagnosis of typical drowning.&nbsp;</span></p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/62266c1d93b845a2b414bdf9d5aacd7e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Among the skull suture, most successful age estimation can be done from",
    "choices": [
      {
        "id": 1,
        "text": "Metopic suture"
      },
      {
        "id": 2,
        "text": "Sagittal suture"
      },
      {
        "id": 3,
        "text": "Coronal suture"
      },
      {
        "id": 4,
        "text": "Lambdoid suture"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The most successful age estimation is done from <strong>sagittal suture, next Lambdoid and then coronal.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During the examination of an alcohol-intoxicated person, the pupils are constricted, but pinching the skin of the neck leads to transient dilatation of pupils, with a slow return to the original constricted state. What is this sign called?",
    "choices": [
      {
        "id": 1,
        "text": "Lisker's sign"
      },
      {
        "id": 2,
        "text": "McEwan's sign"
      },
      {
        "id": 3,
        "text": "Beevor's sign"
      },
      {
        "id": 4,
        "text": "Myerson's sign"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\">This sign is called<strong>&nbsp;</strong><strong>McEwan's sign</strong>.<strong>&nbsp;</strong>In an alcohol-intoxicated patient, the pupils are constricted. But on the application of painful stimuli like pinching or slapping, the pupils slowly dilate. Once the painful stimulus is stopped, the pupils return back to their constricted state.</p>\n<p class=\"p1\">This is a characteristic finding of&nbsp;ethanol toxicity, seen at blood alcohol concentration&nbsp;levels&nbsp;&gt;300 mg%.&nbsp;It is helpful in <strong>differentiating alcoholic coma </strong>from other comatose conditions.</p>\n<p>The effects of alcohol intoxication at various blood alcohol concentrations are listed below.</p>\n<table style=\"width: 501.656px;\">\n<tbody>\n<tr>\n<td style=\"width: 155px;\">Blood alcohol concentration (mg/dL)</td>\n<td style=\"width: 329.656px;\">Effects&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 155px;\">30&ndash;50</td>\n<td style=\"width: 329.656px;\">Impairment of driving and similar skills</td>\n</tr>\n<tr>\n<td style=\"width: 155px;\">50&ndash;100</td>\n<td style=\"width: 329.656px;\">Reduced inhibitions, talkativeness, laughter</td>\n</tr>\n<tr>\n<td style=\"width: 155px;\">100&ndash;150</td>\n<td style=\"width: 329.656px;\">Incoordination, unsteadiness, slurred speech</td>\n</tr>\n<tr>\n<td style=\"width: 155px;\">150&ndash;200</td>\n<td style=\"width: 329.656px;\">Obvious drunkenness, nausea, and ataxia</td>\n</tr>\n<tr>\n<td style=\"width: 155px;\">200&ndash;300</td>\n<td style=\"width: 329.656px;\">Vomiting, stupor</td>\n</tr>\n<tr>\n<td style=\"width: 155px;\">300&ndash;350</td>\n<td style=\"width: 329.656px;\">Stupor , coma, risk of aspirating vomitus</td>\n</tr>\n<tr>\n<td style=\"width: 155px;\">350&ndash;450 and above</td>\n<td style=\"width: 329.656px;\">Danger of death from respiratory paralysis</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following cause traumatic asphyxia, except",
    "choices": [
      {
        "id": 1,
        "text": "Railway accident"
      },
      {
        "id": 2,
        "text": "Road traffic accident"
      },
      {
        "id": 3,
        "text": "Accidental strangulation"
      },
      {
        "id": 4,
        "text": "Stampede in crowd"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Traumatic asphyxia, or\u00a0Perthes's syndrome, </strong>is a medical emergency caused by an<strong> intense compression of the thoracic cage, </strong>causing back-flow of blood from the right side of the heart into the veins of the neck and the brain.</p>\n<p><strong>Accidental strangulation</strong> involves <strong>obstruction</strong> of the <strong>airway</strong> or <strong>compression</strong> of <strong>blood vessels</strong> in the <strong>neck,</strong> not the intense thoracic compression required for traumatic asphyxia.</p>\n<p>Traumatic asphyxia occurs due to <strong>sudden, intense pressure</strong> on the <strong>chest</strong> that obstructs blood flow into the veins of the neck, head, and upper chest, leading to venous congestion, petechiae, and cyanosis.\u00a0This may occur during <strong>road traffic collisions</strong> or following <strong>collapse</strong> of <strong>structures</strong> such as <strong>mine tunnels,</strong> or buildings in <strong>earthquakes.</strong></p>\n<p>Pressure on the chest that restricts movement may also occur if the individual simply gets into, or is placed into, a<strong> position in which the free movement of the chest is restricted.</strong> This positional asphyxia occurs most commonly in individuals that are<strong> rendered immobile through alcohol or drugs </strong>and may be seen following restraint in custodial settings.</p>\n<p>It may also be seen in the healthy, for example, attempting to<strong> climb through a small window</strong> to gain access to a property.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "43 in FDI system indicates",
    "choices": [
      {
        "id": 1,
        "text": "Lower right canine"
      },
      {
        "id": 2,
        "text": "Lower  left  canine"
      },
      {
        "id": 3,
        "text": "Upper right canine"
      },
      {
        "id": 4,
        "text": "Upper left canine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Number 4 indicates lower right quadrant</strong> according to FDI system and <strong>number 3 indicates canine tooth</strong>. So 43 indicates lower right canine.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e214a6cbf6f64edaa14866b94e26766cx1280x1001.PNG"
    ]
  },
  {
    "text": "A patient was brought to the ER with nausea,vomiting , breathlessness for 2 hours after ingestion of insecticide. On examination there is pin- point pupil and kerosene like smell emitting from the patient. Which of the following is not correct regarding the management of this patient",
    "choices": [
      {
        "id": 1,
        "text": "Activated charcoal has no proven therapeutic role"
      },
      {
        "id": 2,
        "text": "Choline-esterase levels do not have prognostic significance"
      },
      {
        "id": 3,
        "text": "Atropine is the treatment of choice"
      },
      {
        "id": 4,
        "text": "Atropine reverses respiratory muscle weakness"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Organophosphorous poisoning</strong>:</p>\n<ul>\n<li>Most common mode of suicide is by use of <strong>insecticide.\u00a0</strong></li>\n<li><strong>Kersone like smell </strong>is emitted from the patient<strong>.</strong></li>\n</ul>\n<p><strong>Symptoms</strong> of organophosphorous poisoning:</p>\n<ul>\n<li><strong>Muscarinic :</strong>\n<ul>\n<li>Emesis, diarrhea.</li>\n<li>Bronchoconstriction simulating bronchial asthma.</li>\n<li>Dyspnoea, cough, cyanosis.</li>\n<li>Bradycardia.</li>\n<li><strong>Miosis</strong> (pin point pupil).</li>\n<li>Increased salivation, sweating, lacrimation (<strong>Chromolacryorrhoea</strong>), micturition.</li>\n</ul>\n</li>\n<li><strong>Nicotinic :</strong>\n<ul>\n<li>Striated muscle weakness, areflexia.</li>\n<li><strong>Weakness of respiratory muscles</strong></li>\n<li>Sympathetic ganglia- Hypertension.</li>\n</ul>\n</li>\n<li><strong>CNS:</strong>\n<ul>\n<li>Irritability.</li>\n<li>Confusion.</li>\n<li>Fine tremors.</li>\n</ul>\n</li>\n</ul>\n<p>Diagnosis:<strong> RBC choline esterase level estimation.</strong> It is helpful in diagnosis but has no prognostic significance<strong>.</strong></p>\n<ul>\n<li><strong>Treatment :</strong>\n<ul>\n<li>Decontamination, airway management.</li>\n<li>Stomach wash- Tap water with or without KMnO4.</li>\n<li>Activated charcoal shouldnot be used.</li>\n<li>Atropine is used.</li>\n<li>Atropine is highly effective in counteracting the peripheral muscarinic effects and antagonize CNS effects at higher doses. But it is not effective against nicotinic actions like respiratory muscle weakess.</li>\n<li>Oximes can be used early as they have more pronounced action on nicotincic sites.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient came to the doctor with right sided hearing loss. He was operated for the same. Post surgery the patient notices that his left ear has been operated upon. Which of  the following statements is true?",
    "choices": [
      {
        "id": 1,
        "text": "Its a case of professional misconduct"
      },
      {
        "id": 2,
        "text": "The doctor is punishable under Sec 304 A of IPC"
      },
      {
        "id": 3,
        "text": "The doctor is punishable under Sec 336 of IPC"
      },
      {
        "id": 4,
        "text": "Doctrine of medical maloccurence can be applied"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Operating on the wrong side is a case of <strong>criminal negligence</strong>.&nbsp;The doctor is punishable with imprisonment or fine or both as per provisions of the Sec 336 IPC.</p>\n<p>Sec 336 IPC -&nbsp;Act endangering life or personal safety of others - Whoever does any act so rashly or <strong>negligently as to endanger human life</strong> or the personal safety of others, shall be punished with <strong>impris&shy;onment</strong> of either description for a term which may extend to three months, <strong>or with fine</strong> which may extend to two hundred and fifty rupees, <strong>or with both</strong>.</p>\n<p>Sec 337 IPC -&nbsp; Causing <strong>hurt</strong> by act endangering life or personal safety of others.</p>\n<p>Sec 338 IPC -&nbsp;Causing <strong>grievous hurt</strong> by act endangering life or personal safety of others. In this case, <strong>if the patient had loss of hearing in the left ear post surgery</strong> then the doctor will be punishable under Sec 338 IPC</p>\n<p><strong>Criminal negligence&nbsp;</strong>refers to <strong>lack of skill and care</strong> or <strong>gross carelessness</strong> during surgery, anesthesia and includes:</p>\n<ul>\n<li>Operating on the wrong side</li>\n<li>Leaving surgical accessories in any part of the body</li>\n<li>Giving wrong blood</li>\n<li>Performing illegal abortion</li>\n<li>Injecting drugs in fatal dose</li>\n</ul>\n<p>Option A:- Professional misconduct is the infamous conduct in professional respect like :</p>\n<ul>\n<li style=\"padding-left: 30px;\">Avoiding consultation</li>\n<li style=\"padding-left: 30px;\">Advertising</li>\n<li style=\"padding-left: 30px;\">Commercialization</li>\n<li style=\"padding-left: 30px;\">Fee splitting</li>\n</ul>\n<p>Option B:-&nbsp;<strong>Sec 304 A</strong> IPC:&nbsp;<strong>Causing death by negligence</strong> - Whoever causes the death of any person by doing any rash or negligent act not amounting to culpable homicide, shall be punished with imprisonment of either description for a term which may extend to two years, or with fine, or with both.</p>\n<p>Option D:- Medical maloccurence is the <strong>inevitable accident</strong> like failure to respond, suffering adverse reaction of drug etc.</p>\n<p>Options B and C have been revised in order to make the MCQ factually more correct. Previously the answer for the given scenario was Sec 304 A IPC,&nbsp;which was factually incorrect as the Sec 304 A IPC deals with 'Death because of negligence', and the given scenario talks about the&nbsp;operation on the wrong side without causing any grievous hurt, and this falls under the purview of Sec 336 of IPC.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A pregnant lady was awarded a death sentence for committing murder by the session's court. However, her death sentence was converted to life imprisonment by the High Court. Which of the following sections describes this procedure?",
    "choices": [
      {
        "id": 1,
        "text": "BNS Section 88"
      },
      {
        "id": 2,
        "text": "BNS Section 94"
      },
      {
        "id": 3,
        "text": "BNSS Section 455"
      },
      {
        "id": 4,
        "text": "BNSS Section 456"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>BNSS Section 456: Commutation of capital sentence on pregnant woman </strong>i.e. If a woman sentenced to death is found to be pregnant, the High Court shall commute the sentence to imprisonment for life.</p>\n<p>Other options:</p>\n<div class=\"page\" title=\"Page 401\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option A:<strong> Section 88</strong> of BNS<strong> </strong>states that <strong>miscarriage</strong> induced <strong>not</strong> for the purpose of <strong>saving</strong> the <strong>life/good</strong> of the <strong>woman,</strong> be punished with imprisonment for 3 years. If the woman is \u201cquick with child\u201d the period is extended for 7 years more.</p>\n<p>Option B:<strong> Section 94</strong> of BNS \u2013 <strong>concealment</strong> of <strong>birth</strong> and <strong>secret disposal</strong> of the <strong>fetus</strong> are punishable.</p>\n<p>Option C: <strong>BNSS Section 455 </strong>deals with the <strong>Commutation of death sentence</strong> in case of <strong>appeal to the Supreme Court</strong>.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Exception to the rule of professional secrecy is allowed under the following circumstances except",
    "choices": [
      {
        "id": 1,
        "text": "In negligent suits"
      },
      {
        "id": 2,
        "text": "In the court of law"
      },
      {
        "id": 3,
        "text": "In interest of relatives"
      },
      {
        "id": 4,
        "text": "In cases of suspected crime"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Interest of relatives is<strong> not an exception</strong> for Professional secrecy.</p>\n<p>Exceptions to the rule of\u00a0 Professional secrecy includes :</p>\n<p>\"No CIVIC SINS \"</p>\n<ul>\n<li><strong>No</strong> \u2013 <strong>Notifiable </strong>diseases, birth, death</li>\n<li><strong>C</strong> -\u00a0 suspected <strong>Crime</strong></li>\n<li><strong>I</strong> \u2013 self <strong>Interest</strong></li>\n<li><strong>V</strong> \u2013 <strong>Venereal</strong> disease (STD)</li>\n<li><strong>C </strong>- <strong>Court</strong> of law</li>\n<li><strong>S </strong>\u2013 <strong>Social </strong>duty</li>\n<li><strong>I </strong>\u2013 <strong>Infectious</strong> disease</li>\n<li><strong>N</strong> \u2013 <strong>Negligence</strong> suits</li>\n<li><strong>S </strong>- <strong>Servant </strong>and employee</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following increases the rate of postmortem cooling except",
    "choices": [
      {
        "id": 1,
        "text": "Increased difference in the temperature between body and atmosphere"
      },
      {
        "id": 2,
        "text": "Larger surface area of the body"
      },
      {
        "id": 3,
        "text": "Body immersed in running water"
      },
      {
        "id": 4,
        "text": "Excess fat"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Excess fat decreases the rate of postmortem cooling.</p>\n<p><strong>Factors increasing the rate of postmortem cooling:</strong></p>\n<ul>\n<li>Increased difference in the temperature between body and the atmosphere.</li>\n<li>Large body surface area.</li>\n<li>Children and old aged people.</li>\n<li>Higher humidity and rapid air velocity.</li>\n<li>Body immersed in running water.</li>\n</ul>\n<p><strong>Rate of cooling is decreased in:</strong></p>\n<ul>\n<li>Excess fat.</li>\n<li>Edema.</li>\n<li>Body covered with clothing.</li>\n<li>Bodies in small, ill-ventilated room.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with suspected poisoning presents with brownish oral mucosa and tongue, constricted pupils, with strenuous breathing and greenish brown urine. The poison in this case is",
    "choices": [
      {
        "id": 1,
        "text": "Sulphuric acid"
      },
      {
        "id": 2,
        "text": "Morphine"
      },
      {
        "id": 3,
        "text": "Cannabis"
      },
      {
        "id": 4,
        "text": "Carbolic Acid"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Carbolic acid refers to <strong>phenol.</strong></p>\n<p><strong>Toxic metabolites</strong>: Pyrocatechol and hydroquinone.</p>\n<p><strong>Features</strong>:</p>\n<ul>\n<li>Constricted pupils.</li>\n<li>Peripheral neuropathy.</li>\n<li>White opaque eschar on the skin.</li>\n<li>Pulmonary and laryngeal edema.</li>\n<li>Strenuous breathing.</li>\n<li>Carboluria: Greenish urine.</li>\n<li>Ochronosis.</li>\n<li>Brownish discoloration of oral mucosa.</li>\n</ul>\n<p><strong>Post</strong> <strong>mortem changes</strong>:</p>\n<ul>\n<li>Delayed putrefaction.</li>\n<li>Hemorrhagic nephritis.</li>\n<li>White leathery appearance of stomach mucosa.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The given sign is most prominent after how many hours of death?",
    "choices": [
      {
        "id": 1,
        "text": "12\u201324 hours"
      },
      {
        "id": 2,
        "text": "24\u201336 hours"
      },
      {
        "id": 3,
        "text": "36\u201348 hours"
      },
      {
        "id": 4,
        "text": "48\u201360 hours"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>This picture shows <strong>postmortem marbling</strong>, i.e. <strong>greenish brown </strong>or <strong>purplish red discoloration </strong>of <strong>superficial veins</strong>. It becomes <strong>most prominent</strong> after <strong>36-48 hours</strong> of death.&nbsp;</p>\n<p><strong>Marbling&nbsp;</strong>is&nbsp;seen when blood in the vessels is&nbsp;<strong>hemolyzed to sulfmeth-hemoglobin</strong>, which&nbsp;<strong>stains the vessel walls</strong>&nbsp;and the adjacent tissues, giving rise to a&nbsp;<strong>marbled appearance</strong>. The marbling of the skin&nbsp;<strong>begins&nbsp;</strong>at&nbsp;about&nbsp;<strong>24 hours</strong>&nbsp;and becomes prominent in&nbsp;<strong>36&ndash;48 hours</strong>&nbsp;after death.</p>\n<p>It is a visible <strong>postmortem change</strong> that is characterized by linear <strong>branching patterns</strong> on skin that correspond to the course of superficial veins.&nbsp;<strong>Intestinal bacteria infest</strong>&nbsp;the venous system, and there is subsequent gas production and hemolysis, which stains the vessel walls.&nbsp;This becomes prominent in the summer and is distinctly appreciable in the superficial veins of the abdomen, shoulders, chest, and inguinal region.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/aedc2e415cdb4a8d9a0033d0b18e8d1c.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Juvenile is",
    "choices": [
      {
        "id": 1,
        "text": "Boy and girl < 18 years"
      },
      {
        "id": 2,
        "text": "Boy < 18 years and girl < 16 years"
      },
      {
        "id": 3,
        "text": "Boy < 16 years and girl < 18 years"
      },
      {
        "id": 4,
        "text": "Boy and girl < 16 years"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>According to Juvenile Justice (Care and Protection of Children) Act, 2000, <strong>juvenile means a boy or girl who has not completed 18 years of age. </strong> <strong>Recent update:</strong> Parliament of India passed <strong>Juvenile Justice.</strong></li>\n<li><strong>Recent update:</strong> Parliament of India passed <strong>Juvenile Justice (Care and Protection of Children) Act - 2015</strong> which came into effect from 15<sup>th</sup> January 2016. It states that <strong>juveniles in conflict with Law in the age group of 16&ndash;18, involved in Heinous Offences, can be tried as adults</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Presence of smegma on corona glandis indicates",
    "choices": [
      {
        "id": 1,
        "text": "Person has engaged in sexual act recently"
      },
      {
        "id": 2,
        "text": "Person had not engaged in sexual act in last 24 hours"
      },
      {
        "id": 3,
        "text": "Person had not engaged in sexual act in last 48 hours"
      },
      {
        "id": 4,
        "text": "Person had not engaged in sexual act in last 1 week"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Smegma usually <strong>collects in 24 hours</strong> and is <strong>rubbed off during intercourse</strong>. Hence its <strong>presence indicates that the person wasn\u2019t engaged in sexual activity in last 24 hours</strong>. Absence indicates sexual activity might have occurred in last 24 hours</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A driver wearing seat belt , suddenly applies brakes to avoid a collision. Which of the following body parts is most likely to be injured",
    "choices": [
      {
        "id": 1,
        "text": "Pancrease"
      },
      {
        "id": 2,
        "text": "Liver"
      },
      {
        "id": 3,
        "text": "Mesentry"
      },
      {
        "id": 4,
        "text": "Abdominal aorta"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Seat belt syndrome</strong> due to injuries caused by seat belt on sudden application of brakes to avoid collision is characterized by<strong> small intestinal, omental and mesenteric contusion, laceration, perforation and avulsions.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Forensic Medicine St1';
        const quizFilename = 'forensic-medicine-st1-d0ab2b03.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2017 - 18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>