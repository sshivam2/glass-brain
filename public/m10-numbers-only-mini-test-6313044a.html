<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M10 -  Numbers Only  Mini Test - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2017-18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A patient was diagnosed with multibacillary leprosy. For how long should she be treated and monitored for relapse, respectively?",
    "choices": [
      {
        "id": 1,
        "text": "6 months, 2 years"
      },
      {
        "id": 2,
        "text": "6 months, 3 years"
      },
      {
        "id": 3,
        "text": "12 months, 5 years"
      },
      {
        "id": 4,
        "text": "12 months, 10 years"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A patient with&nbsp;<strong>multibacillary leprosy</strong>&nbsp;should be <strong>treated</strong> for&nbsp;<strong>12 months&nbsp;</strong>and <strong>monitored for relapse</strong> for at least <strong>5 years.</strong></p>\n<p>Leprosy is a chronic infectious disease that mainly affects the skin, the peripheral nerves, upper respiratory tract mucosa, and the eyes caused by&nbsp;<em>Mycobacterium leprae. </em>If&nbsp;left untreated, it can lead to permanent damage to the skin, nerves, limbs, and eyes.</p>\n<p>Leprosy is classified as paucibacillary (PB) or multibacillary (MB).&nbsp;<strong>Paucibacillary</strong>&nbsp;leprosy refers to cases with <strong>1-5 skin lesions</strong>, <strong>no or only 1 involved</strong> <strong>nerve</strong>, with <strong>no bacilli</strong> in a skin smear.&nbsp;<strong>Multibacillary</strong>&nbsp;leprosy refers to cases with <strong>&gt;5 skin lesions,</strong>&nbsp;with <strong>&gt;1&nbsp;nerve involvement</strong>, or with the <strong>presence of bacilli</strong> in the skin smear, irrespective of the number of skin lesions.</p>\n<p>WHO recommends multidrug therapy (MDT) for the treatment of leprosy. The currently recommended MDT regimen includes <strong>dapsone, rifampicin</strong> and <strong>clofazimine</strong>. It is given for&nbsp;<strong>6 months</strong> in <strong>paucibacillary</strong> leprosy and <strong>12 months</strong> for <strong>multibacillary</strong> cases.&nbsp;</p>\n<div class=\"page\" title=\"Page 1430\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The majority of the cases are cured following MDT, however, relapse may occur. A <strong>multibacillary patient</strong> has to be <strong>monitored for 5 years</strong> and the <strong>paucibacillary patient</strong> has to be <strong>monitored for 2 years</strong> after completion of treatment.</p>\n<p>The blister pack provided for the treatment of multibacillary leprosy is shown below.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/df1b88f8af0a487786d1a18785861967x307x146.JPEG"
    ]
  },
  {
    "text": "In extra dural haemorrhage lucid interval is seen in",
    "choices": [
      {
        "id": 1,
        "text": "50-60% of cases"
      },
      {
        "id": 2,
        "text": "30-40% of cases"
      },
      {
        "id": 3,
        "text": "60-80% of cases"
      },
      {
        "id": 4,
        "text": "80-100% of cases"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>In extra dural haemorrhage lucid interval is seen in 30-40% of cases.</li>\n<li>Lucid interval is not seen if the injury of the brain is sufficiently great because of the overlapping of unconsciousness due to brain injury and due to the presence of extra dural haemorrhage.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What percentage of drug given will be eliminated by first order kinetics after 4 half lives?",
    "choices": [
      {
        "id": 1,
        "text": "75.0%"
      },
      {
        "id": 2,
        "text": "87.5%"
      },
      {
        "id": 3,
        "text": "50.00%"
      },
      {
        "id": 4,
        "text": "93.75%"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>In first order kinetics ,\u00a0 the rate of elimination of drug is directly proportional to the drug concentration.</li>\n<li>Rate of clearance remains constant.</li>\n</ul>\n<table>\n<tbody>\n<tr>\n<td><strong>Half life</strong></td>\n<td><strong>Elimination (%)</strong></td>\n</tr>\n<tr>\n<td>First</td>\n<td>50</td>\n</tr>\n<tr>\n<td>Second</td>\n<td>75</td>\n</tr>\n<tr>\n<td>Third</td>\n<td>87.5</td>\n</tr>\n<tr>\n<td><strong>Fourth</strong></td>\n<td><strong>93.75</strong></td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Middle ear transformer ratio is",
    "choices": [
      {
        "id": 1,
        "text": "1.3:1"
      },
      {
        "id": 2,
        "text": "18:1"
      },
      {
        "id": 3,
        "text": "14:1"
      },
      {
        "id": 4,
        "text": "12:1"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Effective vibratory area of TM: 45 mm2</li>\n<li>Footplate area: 3.2 mm2</li>\n<li>Areal ratio: 14:1</li>\n<li>Lever ratio (ossicles): 1.3:1</li>\n<li>Total transformer ratio 14 &times; 1.3 = 18.2:1 or <strong>18:1</strong></li>\n</ul>\n<p><strong>Note: </strong>This is a controversial topic. There are two different schools of thought regarding the effective vibratory area of the tympanic membrane.&nbsp;<br />i) One considers the effective area of the tympanic membrane to be 45mm2 giving a total ratio of 18:1<br />ii) The second one by Wever and Lawrence considers the effective area to be 55mm2, giving a total ratio of 22:1.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Size of airborne droplet nuclei is usually less than or equal to:",
    "choices": [
      {
        "id": 1,
        "text": "5 microns"
      },
      {
        "id": 2,
        "text": "10 microns"
      },
      {
        "id": 3,
        "text": "3 microns"
      },
      {
        "id": 4,
        "text": "2.5 microns"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li data-listid=\"2\" data-aria-posinset=\"1\" data-aria-level=\"1\"><strong>Droplet nuclei</strong>&nbsp;are sized less than or equal to 5 microns.&nbsp;</li>\n<li data-listid=\"2\" data-aria-posinset=\"2\" data-aria-level=\"1\">They are the&nbsp;<strong>dried residue</strong>&nbsp;of infectious droplets and are capable to indirect airborne transmission of diseases like tuberculosis, influenza, chicken pox, measles, etc.&nbsp;</li>\n<li data-listid=\"2\" data-aria-posinset=\"3\" data-aria-level=\"1\">They can also be generated using atomizing devices.&nbsp;</li>\n<li data-listid=\"2\" data-aria-posinset=\"4\" data-aria-level=\"1\">These small particles are capable to travelling to the alveoli and getting retained there.&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Number of carbon atoms in Palmitic acid?",
    "choices": [
      {
        "id": 1,
        "text": "12"
      },
      {
        "id": 2,
        "text": "16"
      },
      {
        "id": 3,
        "text": "14"
      },
      {
        "id": 4,
        "text": "18"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The formula for Palmitic Acid is: CH<sub>3</sub>(CH<sub>2</sub>)<sub>14</sub>COOH. It has 16 carbon atoms.</p>\n<p>Few examples of fatty acids with their carbon atom content numbers \u2013</p>\n<ul>\n<li>Acetic acid 2</li>\n<li>Butyric acid 4</li>\n<li>Valeric acid 5</li>\n<li>Caproic acid 6</li>\n<li>Lauricacid12</li>\n<li>Myristicacid 14</li>\n<li><strong>Palmitic acid 16</strong></li>\n<li>Stearic acid 18</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The method of ulcer healing shown below generates a pressure of",
    "choices": [
      {
        "id": 1,
        "text": "\u2013 125 mm of water"
      },
      {
        "id": 2,
        "text": "-125 mm of Hg"
      },
      {
        "id": 3,
        "text": "- 100 mm of water"
      },
      {
        "id": 4,
        "text": "- 100 mm of Hg"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image above shows <strong>the vacuum-assisted closure of an ulcer.</strong></p>\n<p>It creates a<strong> negative pressure of 125 mm Hg to </strong>promote the formation\u00a0<strong>of healthy granulation tissue.</strong></p>\n<p><strong>It acts by</strong></p>\n<ul>\n<li><strong>Reducing</strong> tissue <strong>edema</strong></li>\n<li>Clearing interstitial fluid</li>\n<li><strong>Improves perfusion</strong> and increases the healing process</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4648fc324a564848b896139a48cbdf5a.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Diazepam is   ____  % plasma bound?",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "50"
      },
      {
        "id": 3,
        "text": "99"
      },
      {
        "id": 4,
        "text": "70"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>Diazepam and warfarin are 99% plasma bound.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Uteroplacental blood flow at term is:",
    "choices": [
      {
        "id": 1,
        "text": "300-500ml/min"
      },
      {
        "id": 2,
        "text": "700-900ml/min"
      },
      {
        "id": 3,
        "text": "900-1100ml/min"
      },
      {
        "id": 4,
        "text": "500-700ml/min"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The uteroplacental blood flow at term is <strong>700-900ml/min.</strong></p>\n<p>Maternal blood within the intervillous space is the primary unit of maternal-fetal transfer. The substances transferred from mother to fetus first enter the intervillous space and are then transported to the syncytiotrophoblast.</p>\n<p>Intervillous and uteroplacental blood flow increases throught the 1st trimester of normal pregnancies. At term the residual volume of intervillous space is 140ml.</p>\n<p>The uteroplacental blood flow near term has been estimated to be 700-900ml/min, with most of the blood going to the intervillous space.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Nasal cycle which is rhythmic congestion and decongestion occurs every",
    "choices": [
      {
        "id": 1,
        "text": "2\u00bd - 4 hours"
      },
      {
        "id": 2,
        "text": "4 \u2013 6 hours"
      },
      {
        "id": 3,
        "text": "6 \u2013 8 hours"
      },
      {
        "id": 4,
        "text": "10 \u2013 12 hours"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Nasal cycle - </strong>Nasal mucosa undergoes rhythmic cyclical congestion and decongestion, thus controlling the airflow through nasal chambers. Nasal cycle varies every 2&frac12;&ndash;4 h and may be characteristic of an individual.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Arachidonic acid contains how many double bonds?",
    "choices": [
      {
        "id": 1,
        "text": "4"
      },
      {
        "id": 2,
        "text": "1"
      },
      {
        "id": 3,
        "text": "2"
      },
      {
        "id": 4,
        "text": "3"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Arachidonic acids</strong> contains <strong>4 double bonds</strong> in it\u2019s structure.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/208bc9b018044025b3087c92d539e611x800x707.PNG"
    ]
  },
  {
    "text": "The following suture material gets absorbed in how many days?",
    "choices": [
      {
        "id": 1,
        "text": "7 days"
      },
      {
        "id": 2,
        "text": "21 days"
      },
      {
        "id": 3,
        "text": "Non absorbable"
      },
      {
        "id": 4,
        "text": "90 days"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The image shows a <strong>violet color braided multifilament</strong> suture material which is <strong><strong>vicryl (p<strong>olyglactin).\u00a0</strong></strong></strong>It gets <strong>absorbed</strong> <strong>completely</strong> in <strong>60-90 days.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/cde7e6e202f24ef8a258212e1085e7db.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The days of isolation recommended for German measles is:",
    "choices": [
      {
        "id": 1,
        "text": "7 days"
      },
      {
        "id": 2,
        "text": "10 days"
      },
      {
        "id": 3,
        "text": "3 days"
      },
      {
        "id": 4,
        "text": "0 days"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>No isolation period is required for <strong>rubella or German measles</strong> except that women who are in their 1<sup>st</sup> trimester or sexually active or non-immune without contraception usage should not be exposed.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the dose of Dapsone used in multibacillary leprosy drug regimen?",
    "choices": [
      {
        "id": 1,
        "text": "600 mg"
      },
      {
        "id": 2,
        "text": "100 mg"
      },
      {
        "id": 3,
        "text": "50 mg"
      },
      {
        "id": 4,
        "text": "300 mg"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li><strong>Dapsone is given at a dose of 100 mg daily </strong>\u00a0self administered for treatment regimen of multibacillary and paucibacillary leprosy</li>\n<li><strong>Multi drug therapy of leprosy:</strong></li>\n</ul>\n<p>\u00a0</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "According to Krogman\u2019s degree of accuracy of sexing skeletal remains, degree of accuracy when skull alone is used is",
    "choices": [
      {
        "id": 1,
        "text": "100%"
      },
      {
        "id": 2,
        "text": "90%"
      },
      {
        "id": 3,
        "text": "85%"
      },
      {
        "id": 4,
        "text": "95%"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>According to Krogman, the degree of accuracy of sexing adult skeletal remains using&nbsp;skull is 90%. Krogman&rsquo;s degree of accuracy in sexing adult skeletal remains:&nbsp;</p>\n<ul>\n<li data-listid=\"7\" data-aria-posinset=\"1\" data-aria-level=\"1\">Entire skeleton &ndash; 100%&nbsp;</li>\n<li data-listid=\"7\" data-aria-posinset=\"2\" data-aria-level=\"1\">Pelvis alone &ndash; 95%&nbsp;</li>\n<li data-listid=\"7\" data-aria-posinset=\"3\" data-aria-level=\"1\">Skull alone &ndash; 90%&nbsp;</li>\n<li data-listid=\"7\" data-aria-posinset=\"4\" data-aria-level=\"1\">Pelvis plus skull &ndash; 98%&nbsp;</li>\n<li data-listid=\"7\" data-aria-posinset=\"5\" data-aria-level=\"1\">Long bones alone &ndash; 80%&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Complete anatomical obliteration of the ductus arteriosus occurs at",
    "choices": [
      {
        "id": 1,
        "text": "Birth"
      },
      {
        "id": 2,
        "text": "3-4 days"
      },
      {
        "id": 3,
        "text": "10 days"
      },
      {
        "id": 4,
        "text": "30 days"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>Closure of the ductus arteriosus by <strong>contraction of its muscular wall </strong>occurs almost <strong>immediately after birth</strong>. It is mediated by <strong>bradykinin.</strong></li>\n<li><strong>Complete anatomical obliteration</strong> by proliferation of the intima is thought to take<strong> 1 to 3 months</strong>.</li>\n<li>In the adult, the obliterated ductus arteriosus forms the ligamentum arteriosum.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the least crown heel length to be included in the perinatal mortality rate if birth weight and gestational period are not available?",
    "choices": [
      {
        "id": 1,
        "text": "35 cm"
      },
      {
        "id": 2,
        "text": "30 cm"
      },
      {
        "id": 3,
        "text": "40 cm"
      },
      {
        "id": 4,
        "text": "45 cm"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Perinatal mortality rate (PMR)</strong> includes stillbirths which are categorized as late foetal deaths.</p>\n<p>Perinatal mortality Rate (PMR) = (Late fetal deaths + early neonatal deaths/ Late fetal deaths + live births) x 1000</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "To which generation of IUDs does Lippes Loop belong to?",
    "choices": [
      {
        "id": 1,
        "text": "1st"
      },
      {
        "id": 2,
        "text": "2nd"
      },
      {
        "id": 3,
        "text": "3rd"
      },
      {
        "id": 4,
        "text": "4th"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>Lippes Loop belongs to <strong>1<sup>st</sup> </strong>generation IUDs.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/6a2ac5e1fd21479ebc67ab45bdaf0374x182x167.PNG"
    ]
  },
  {
    "text": "Approximately when does the structural development of the heart begin?",
    "choices": [
      {
        "id": 1,
        "text": "5 days"
      },
      {
        "id": 2,
        "text": "10 days"
      },
      {
        "id": 3,
        "text": "15 days"
      },
      {
        "id": 4,
        "text": "20 days"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>It is approximately after 16 days after fertilization the structural development of the heart begins. The most appropriate answer is 15 days.</li>\n<li>On approximately day 16, heart progenitor cells migrate through the primitive streak where they establish a horseshoe-shaped region in the splanchnic layer of lateral plate mesoderm called the primary heart field (PHF).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4fc241fd240f46aeb33e76ed1388f466x1280x680.PNG"
    ]
  },
  {
    "text": "Intraorbital part of optic nerve measures about",
    "choices": [
      {
        "id": 1,
        "text": "30 mm"
      },
      {
        "id": 2,
        "text": "10 mm"
      },
      {
        "id": 3,
        "text": "50 mm"
      },
      {
        "id": 4,
        "text": "20 mm"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Intraorbital part</strong> is the longest part of optic nerve.</p>\n<p>\u00a0It measures from <strong>25 mm to 30 mm.</strong></p>\n<p>Length of the optic nerve ranges from <strong>3.5 cm to 5.5 cm</strong>.</p>\n<p><strong>Parts of optic nerve :</strong></p>\n<table>\n<tbody>\n<tr>\n<td><strong>Parts</strong></td>\n<td><strong>Length</strong></td>\n</tr>\n<tr>\n<td>Intraocular part</td>\n<td><strong>1 mm</strong></td>\n</tr>\n<tr>\n<td>Intraorbital part</td>\n<td><strong>30 mm</strong></td>\n</tr>\n<tr>\n<td>Intracanalicular part</td>\n<td>6 mm</td>\n</tr>\n<tr>\n<td>Intracranial part</td>\n<td>10 mm</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Total number of amino acids encoded by the human genetic code",
    "choices": [
      {
        "id": 1,
        "text": "20"
      },
      {
        "id": 2,
        "text": "30"
      },
      {
        "id": 3,
        "text": "200"
      },
      {
        "id": 4,
        "text": "300"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>20 amino acids are encoded by human genetic code</li>\n<li>Although more than 300 amino acids occur in nature, proteins are synthesized almost exclusively from the set of <strong>20 L-alpha amino acids encoded by nucleotide triplets called CODONS.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the resting membrane potential of the sinoatrial (SA) node?",
    "choices": [
      {
        "id": 1,
        "text": "-70mv"
      },
      {
        "id": 2,
        "text": "-80mv"
      },
      {
        "id": 3,
        "text": "-55 to -60mv"
      },
      {
        "id": 4,
        "text": "-90mv"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The resting membrane potential (RMP) of the sinoatrial (<strong>SA) node</strong> is <strong>-55 to-60 millivolts.</strong></p>\n<p>RMPs of some excitable tissues</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Tissue</strong></td>\n<td><strong>RMP(mV)</strong></td>\n</tr>\n<tr>\n<td>Neurons</td>\n<td>-60 to -70</td>\n</tr>\n<tr>\n<td>Skeletal muscle</td>\n<td>-85 to -95</td>\n</tr>\n<tr>\n<td><strong>SA node</strong></td>\n<td><strong>-55 to -60</strong></td>\n</tr>\n<tr>\n<td>Myocardial muscle</td>\n<td>-85 to -90</td>\n</tr>\n<tr>\n<td>Smooth muscle</td>\n<td>-50 to -60</td>\n</tr>\n<tr>\n<td>Hair (cochlea)</td>\n<td>-15 to -40</td>\n</tr>\n<tr>\n<td>Erythrocyte</td>\n<td>-8 to -12</td>\n</tr>\n<tr>\n<td>Photoreceptor</td>\n<td>-40 (dark) to -70(light)</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Duramater is supplied by all cranial nerves except",
    "choices": [
      {
        "id": 1,
        "text": "12"
      },
      {
        "id": 2,
        "text": "4"
      },
      {
        "id": 3,
        "text": "5"
      },
      {
        "id": 4,
        "text": "10"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>CN 4(trochlear nerve) is a pure motor nerve to supply the superior oblique muscle.</p>\n<p><strong>Innervation of the dura mater </strong>is derived mainly from three sources:</p>\n<ul>\n<li>Three divisions of the trigeminal nerve</li>\n<li>Second and third cervical spinal nerves</li>\n<li>The cervical sympathetic trunk</li>\n<li>Meningeal branches arising from the vagus, hypoglossal nerves, facial and glossopharyngeal nerves.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In Broca index for calculation of ideal body weight, the formula is height (in cms) minus:",
    "choices": [
      {
        "id": 1,
        "text": "100"
      },
      {
        "id": 2,
        "text": "80"
      },
      {
        "id": 3,
        "text": "90"
      },
      {
        "id": 4,
        "text": "75"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Broca index</strong> is given by <strong>height (in cms) minus 100.</strong></li>\n<li>For example, if the person&rsquo;s height is 178 cms, his ideal weight would be 78 kgs.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A waist-hip ratio higher than what is considered high risk for cardiovascular disease in men?",
    "choices": [
      {
        "id": 1,
        "text": "1.5"
      },
      {
        "id": 2,
        "text": "1.2"
      },
      {
        "id": 3,
        "text": "1.0"
      },
      {
        "id": 4,
        "text": "0.8"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li><strong>Waist-hip ratio</strong> can indicate fat accumulation and a high ratio can be a risk factor for cardiovascular disease.</li>\n<li>In men, a WHR of more than 1.0 and in women, more than 0.85 are considered as a potential risk factor.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "How many molecules of acetyl-CoA are produced in oxidation of palmitic acid (C16), which involves seven rounds of oxidation?",
    "choices": [
      {
        "id": 1,
        "text": "6"
      },
      {
        "id": 2,
        "text": "7"
      },
      {
        "id": 3,
        "text": "8"
      },
      {
        "id": 4,
        "text": "9"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>In<strong> oxidation of palmitic acid (C<sub>16</sub>)</strong>,<strong>8</strong> molecules of <strong>acetyl-CoA</strong> are produced.</li>\n<li>In the <strong>Beta-oxidation </strong>pathway, two carbons at a time are cleaved from acyl-CoA molecules, starting at the carboxyl end. The two-carbon units formed are acetyl-CoA; thus, palmitoyl-CoA forms eight acetyl-CoA molecules.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Density of endothelial cells in corneal endothelium in  adult is about ?",
    "choices": [
      {
        "id": 1,
        "text": "2000 \u2013 2500 cells / mm2"
      },
      {
        "id": 2,
        "text": "1000 \u2013 1500 cells / mm2"
      },
      {
        "id": 3,
        "text": "3500 \u2013 4000 cells / mm2"
      },
      {
        "id": 4,
        "text": "2500 \u2013 3000 cells / mm2"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>The cell density of corneal endothelium is around <strong>3000 cells / mm<sup>2</sup></strong> in young adults which <strong>decreases</strong> with age.</li>\n<li>When endothelial cells are damaged they <strong>do not proliferate</strong>, instead they undergo <strong>polymegathism</strong> and <strong>pleomorphism.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Sleep apnoea is defined as temporary pause in breathing during sleep for atleast ?",
    "choices": [
      {
        "id": 1,
        "text": "30 s"
      },
      {
        "id": 2,
        "text": "20 s"
      },
      {
        "id": 3,
        "text": "10 s"
      },
      {
        "id": 4,
        "text": "15 s"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>Sleep apnoea is defined <strong>as breath cessation for at least 10 seconds.</strong></li>\n<li>Sleep apnoea may be:\n<ul>\n<li>Central</li>\n<li>Obstructive</li>\n</ul>\n</li>\n<li><strong>Features:</strong>\n<ul>\n<li>Obese</li>\n<li>Snoring</li>\n<li>Daytime somnolence</li>\n</ul>\n</li>\n<li><strong>Complications:</strong>\n<ul>\n<li>Pulmonary hypertension</li>\n<li>Type II respiratory failure</li>\n</ul>\n</li>\n<li><strong>Investigations</strong>- Polysomnography</li>\n<li><strong>Management: </strong>\n<ul>\n<li>Weight reduction</li>\n<li>CPAP via a nasal mask during sleep</li>\n</ul>\n</li>\n<li><strong>AHI (Apnoea Hypopnoea Index)=</strong> No. of apneas+hypopnoeas / hour of sleep</li>\n<li><strong>RDI(Respiratory Disturbance Index)=</strong> Number of apneas + hypopneas + RERAs/ hour of sleep&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</li>\n<li><strong>Obstructive sleep apnoea/ hypopnoea syndrome severity scale:</strong></li>\n</ul>\n<table>\n<tbody>\n<tr>\n<td><strong>OSAHS grade</strong></td>\n<td><strong>No. of AHI events / hr</strong></td>\n</tr>\n<tr>\n<td><strong>Mild</strong></td>\n<td>5-14</td>\n</tr>\n<tr>\n<td><strong>Moderate</strong></td>\n<td>15-29</td>\n</tr>\n<tr>\n<td><strong>Severe</strong></td>\n<td>&ge;30</td>\n</tr>\n</tbody>\n</table>\n<p>*Respiratory effort&ndash;related arousal (RERA)</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Attachment of Sibson's fascia is at vertebra",
    "choices": [
      {
        "id": 1,
        "text": "C1"
      },
      {
        "id": 2,
        "text": "C2"
      },
      {
        "id": 3,
        "text": "C5"
      },
      {
        "id": 4,
        "text": "C7"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>The suprapleural membrane is the Sibson's fascia which attaches to the transverse processes of the C7 vertebra.</li>\n<li>It is attached <strong>anteriorly to the inner border of the first rib</strong>, and <strong>posteriorly to the anterior border of the transverse process of the C7 vertebra.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In electro-oculography, an Arden index value of above what is considered normal?",
    "choices": [
      {
        "id": 1,
        "text": "200"
      },
      {
        "id": 2,
        "text": "150"
      },
      {
        "id": 3,
        "text": "185"
      },
      {
        "id": 4,
        "text": "165"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>An <strong>Arden index</strong> value of above <strong>185</strong> is considered normal and below 150 is abnormal.</li>\n<li><strong>Arden index</strong> is used in <strong>electro-oculography (EOG).</strong></li>\n<li>In EOG, electrodes are used to pick up changes in ocular potential when the eyes are moved and these changes are recorded in accordance with changes in illumination.</li>\n<li>It indicates the activity of the pigmentary epithelium and the outer segments of visual receptors.</li>\n<li>Arden index is the <strong>ratio of the light peak over the dark trough.</strong></li>\n<li>This technique is of value in diagnosing retinal diseases.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The refractive index of cornea is:",
    "choices": [
      {
        "id": 1,
        "text": "1.406"
      },
      {
        "id": 2,
        "text": "1.336"
      },
      {
        "id": 3,
        "text": "1.376"
      },
      {
        "id": 4,
        "text": "1.386"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>The cornea</strong> has a refractive index of <strong>1.376</strong>.</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Refracting Medium</strong></td>\n<td><strong>Refractive Index</strong></td>\n</tr>\n<tr>\n<td>Air</td>\n<td>1.00</td>\n</tr>\n<tr>\n<td>Cornea</td>\n<td>1.376</td>\n</tr>\n<tr>\n<td>Aqueous humor</td>\n<td>1.336</td>\n</tr>\n<tr>\n<td>Lens cortex</td>\n<td>1.386</td>\n</tr>\n<tr>\n<td>Lens core</td>\n<td>1.406</td>\n</tr>\n<tr>\n<td>Vitreous humor</td>\n<td>1.336</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Voyeurism is punished under",
    "choices": [
      {
        "id": 1,
        "text": "BNS Sec 75 (354A IPC)"
      },
      {
        "id": 2,
        "text": "BNS Sec 76 (354B IPC)"
      },
      {
        "id": 3,
        "text": "BNS Sec 77 (354C IPC)"
      },
      {
        "id": 4,
        "text": "BNS Sec 78 (354D IPC)"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Voyeurism is punishable under BNS Sec 77 </strong>(354C IPC)<strong> </strong>with imprisonment of not less than 1 year, which may extend upto 3 years. For the second and subsequent offenses imprisonment of 3-7 years is given.</p>\n<p>Other options:</p>\n<p>Option A<strong>- BNS Sec 75 </strong>(354A IPC)<strong> \u2013 </strong>Defines and penalises<strong> sexual harassment</strong>.</p>\n<p>Option B- BNS Sec 76 (354B IPC) \u2013 deals with assault or use of criminal force on a woman with <strong>intent</strong> to <strong>disrobe</strong> her. Such an act can be punished with an imprisonment of 3 years, which may extend up to 7 years, and also a fine. </p>\n<p>Option D<strong>- BNS Sec 78 </strong>(354D IPC) \u2013<strong> </strong>deals with<strong> stalking.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Net ATP yield in oxidation of palmitic acid:",
    "choices": [
      {
        "id": 1,
        "text": "101"
      },
      {
        "id": 2,
        "text": "106"
      },
      {
        "id": 3,
        "text": "108"
      },
      {
        "id": 4,
        "text": "110"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Net ATP</strong> yield in <strong>oxidation</strong> of <strong>palmitic acid</strong> is <strong>106.</strong></p>\n<table style=\"width: 439px;\">\n<tbody>\n<tr style=\"height: 82px;\">\n<td style=\"width: 101px; height: 82px;\">\n<p><br /><strong>Step&nbsp;</strong><br /><br /></p>\n</td>\n<td style=\"width: 69px; height: 82px;\"><strong>&nbsp;Amount&nbsp; &nbsp;product</strong><br /><strong>&nbsp;formed/mol&nbsp; &nbsp;palmitate</strong></td>\n<td style=\"width: 69px; height: 82px;\"><strong>ATP formed/</strong><br /><strong>mol product</strong></td>\n<td style=\"width: 90px; height: 82px;\"><strong>Total ATP formed</strong><strong>/mol</strong><br /><strong>Palmitate</strong></td>\n<td style=\"width: 131px; height: 82px;\"><strong>ATP used/</strong><br /><strong>mol Palmitate</strong></td>\n</tr>\n<tr style=\"height: 30px;\">\n<td style=\"width: 101px; height: 30px;\">Activation&nbsp;</td>\n<td style=\"width: 69px; height: 30px;\">&nbsp;</td>\n<td style=\"width: 69px; height: 30px;\">&nbsp;</td>\n<td style=\"width: 90px; height: 30px;\">&nbsp;</td>\n<td style=\"width: 131px; height: 30px;\">&nbsp; &nbsp; &nbsp;2</td>\n</tr>\n<tr style=\"height: 35px;\">\n<td style=\"width: 101px; height: 35px;\">&beta;-oxidation</td>\n<td style=\"width: 69px; height: 35px;\">&nbsp; &nbsp;7 FADH2&nbsp; &nbsp;&nbsp;</td>\n<td style=\"width: 69px; height: 35px;\">&nbsp; &nbsp;1.5</td>\n<td style=\"width: 90px; height: 35px;\">&nbsp; &nbsp; 10.5</td>\n<td style=\"width: 131px; height: 35px;\">&nbsp;</td>\n</tr>\n<tr style=\"height: 38px;\">\n<td style=\"width: 101px; height: 38px;\">&beta;-oxidation</td>\n<td style=\"width: 69px; height: 38px;\">&nbsp; &nbsp;7 NADH</td>\n<td style=\"width: 69px; height: 38px;\">&nbsp; &nbsp;2.5</td>\n<td style=\"width: 90px; height: 38px;\">&nbsp; &nbsp; 17.5</td>\n<td style=\"width: 131px; height: 38px;\">&nbsp;</td>\n</tr>\n<tr style=\"height: 61px;\">\n<td style=\"width: 101px; height: 61px;\">Citric acid cycle</td>\n<td style=\"width: 69px; height: 61px;\">&nbsp;8 AcetylCoA&nbsp;&nbsp;</td>\n<td style=\"width: 69px; height: 61px;\">&nbsp; &nbsp;10</td>\n<td style=\"width: 90px; height: 61px;\">&nbsp; &nbsp; &nbsp; 80</td>\n<td style=\"width: 131px; height: 61px;\">&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<p>Total ATP formed/mol palmitate: 108<br />Total ATP used/mol palmitate: 2</p>\n<p>Net ATP produced = 106</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the maximum safe cold storage time for kidney",
    "choices": [
      {
        "id": 1,
        "text": "4 hours"
      },
      {
        "id": 2,
        "text": "6 hours"
      },
      {
        "id": 3,
        "text": "18 hours"
      },
      {
        "id": 4,
        "text": "36 hours"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>The maximum safe cold storage time for kidney transplant is about 36 hours.</strong></li>\n<li><strong>The optimal and maximum cold storage times for different organs (appproximate):</strong></li>\n</ul>\n<table>\n<tbody>\n<tr>\n<td>Organ</td>\n<td>Optimum(hours)</td>\n<td>Safe maximum(hours)</td>\n</tr>\n<tr>\n<td><strong>Kidney</strong></td>\n<td>&lt;18</td>\n<td><strong>36</strong></td>\n</tr>\n<tr>\n<td>Liver</td>\n<td>&lt;12</td>\n<td>18</td>\n</tr>\n<tr>\n<td>Pancreas</td>\n<td>&lt;10</td>\n<td>18</td>\n</tr>\n<tr>\n<td>Small intestine</td>\n<td>&lt;4</td>\n<td>6</td>\n</tr>\n<tr>\n<td>Heart</td>\n<td>&lt;3</td>\n<td>6</td>\n</tr>\n<tr>\n<td>Lung</td>\n<td>&lt;3</td>\n<td>8</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The spinal injuries are immediately fatal if the fracture occurs above the level of which cervical vertebrae?",
    "choices": [
      {
        "id": 1,
        "text": "C7"
      },
      {
        "id": 2,
        "text": "C6"
      },
      {
        "id": 3,
        "text": "C5"
      },
      {
        "id": 4,
        "text": "C4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>spinal injuries</strong> are <strong>immediately fatal</strong> if the <strong>fracture</strong> occurs above the level of the <strong>C4 cervical vertebra</strong>.&nbsp;</p>\n<p>The <strong>origin</strong> of the&nbsp;<strong>phrenic nerve</strong> or the&nbsp;spinal respiratory centre is mainly formed by the C4 spinal cord segment, with minor contributions from C3 and C5 segments. Thus&nbsp;injury&nbsp;to the spinal cord&nbsp;<strong>above C4</strong>&nbsp;vertebral level can be rapidly<strong>&nbsp;fatal</strong>&nbsp;from&nbsp;<strong>disruption&nbsp;</strong>of<strong>&nbsp;cardiorespiratory regulation centres</strong>.</p>\n<p>The <strong>most common</strong> part of the spine injured is the <strong>upper cervical vertebrae</strong>&nbsp;<strong>(C1&ndash;C4)</strong>. It accounts for 2/3rd&nbsp;of adult spine injuries.&nbsp;</p>\n<p>The order of frequency of injury to the spinal cord is cervical &gt; thoracolumbar &gt; lumbar &gt; thoracic &gt; sacral level.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Under normal circumstances, the percentage of hair follicles on the human scalp, present in anagen of the hair cycle are _______",
    "choices": [
      {
        "id": 1,
        "text": "< 10%"
      },
      {
        "id": 2,
        "text": "10 \u2013 50%"
      },
      {
        "id": 3,
        "text": "50 \u2013 80%"
      },
      {
        "id": 4,
        "text": "80 \u2013 90%"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Hair Cycle</strong> is usually described under <strong>three phases</strong>: <strong>Anagen</strong>, <strong>Catagen</strong> and <strong>Telogen</strong>. At any given time, under normal circumstances, <strong>80\u201390% of hair follicles</strong> on the human scalp are in <strong>anagen</strong> phase of growth.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Time interval between acute and persistent psychotic disease is",
    "choices": [
      {
        "id": 1,
        "text": "1week"
      },
      {
        "id": 2,
        "text": "2 week"
      },
      {
        "id": 3,
        "text": "3 week"
      },
      {
        "id": 4,
        "text": "1 months"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>If <strong>symptoms</strong> <strong>are for less than 1 months</strong>, it is transient psychotic disorder and if there are for more than 1 months, it is <strong>persistent psychotic disorder</strong> (persistent delusional disorder).</p>\n<p>Diagnosic criteria for delusional disorder (Persistent delusion disorder) has different durations in DSM IV and ICD-10 :-</p>\n<ol>\n<li>According to DSM IV, symptoms (Non bizzare delusion) should be for &gt; 1 months.</li>\n<li>According to ICD-10, Symptoms should be for &gt; 3 months.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 34-year-old man living in the UK is planning to travel to India. His doctor advises him to take the typhoral vaccine. Which of the following days are included in the schedule?",
    "choices": [
      {
        "id": 1,
        "text": "Days 1, 3, 5"
      },
      {
        "id": 2,
        "text": "Days 1, 2, 3"
      },
      {
        "id": 3,
        "text": "Days 1, 2, 4"
      },
      {
        "id": 4,
        "text": "Days 1, 7, 14"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Days 1, 3, and 5</strong>&nbsp;are included in the schedule of<strong>&nbsp;typhoral vaccine</strong>,<strong>&nbsp;</strong>if day 1 is the first dose of the vaccine. In other words, it should be given on <strong>alternate days.</strong></p>\n<p>Typhoral vaccine is a&nbsp;<strong>live oral typhoid vaccine</strong> containing a mutated&nbsp;<em>Salmonella typhi&nbsp;</em>Ty21a. This strain lacks the enzyme UDP- galactose- 4 epimerases. It initiates an infection after ingestion, but the strain is self-destructible. Hence does not cause a serious illness.&nbsp;&nbsp;</p>\n<p>The schedule is&nbsp;<strong>3 doses</strong> on alternate days, i.e., on the&nbsp;<strong>1st, 3rd, and 5th day.</strong>&nbsp;The capsules are enteric coated and taken an hour before food. No antibiotic should be taken during the schedule.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young girl presents with an abrasion over the forearm. On examination, it appears as a reddish-brown scab. The likely age of the abrasion is:",
    "choices": [
      {
        "id": 1,
        "text": "12-24 hrs"
      },
      {
        "id": 2,
        "text": "2-3 days"
      },
      {
        "id": 3,
        "text": "4-7 days"
      },
      {
        "id": 4,
        "text": "After 7 days"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the given scenario, the abrasion appears as a <strong>reddish-brown scab</strong>, so the likely age of the abrasion is <strong>2-3 days</strong>.</p>\n<p>Age of abrasions:</p>\n<table style=\"width: 326.078px;\">\n<tbody>\n<tr>\n<td style=\"width: 220px;\"><strong>Color of scab</strong></td>\n<td style=\"width: 86.0781px;\"><strong>Duration </strong></td>\n</tr>\n<tr>\n<td style=\"width: 220px;\">Bright red</td>\n<td style=\"width: 86.0781px;\">12-24 hrs</td>\n</tr>\n<tr>\n<td style=\"width: 220px;\"><strong>Reddish-brown</strong></td>\n<td style=\"width: 86.0781px;\"><strong>2-3 days</strong></td>\n</tr>\n<tr>\n<td style=\"width: 220px;\">Dark brown to brownish-black&nbsp; &nbsp; &nbsp;&nbsp;</td>\n<td style=\"width: 86.0781px;\">4-7 days</td>\n</tr>\n<tr>\n<td style=\"width: 220px;\">Scab dries shrinks and falls off&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</td>\n<td style=\"width: 86.0781px;\">After 7 days</td>\n</tr>\n</tbody>\n</table>\n<p>An abrasion is the most&nbsp;<strong>superficial</strong>&nbsp;of injuries and does<strong>&nbsp;not penetrate</strong>&nbsp;the<strong>&nbsp;full thickness</strong>&nbsp;of the&nbsp;<strong>epidermis</strong>.&nbsp;A&nbsp;<strong>pure abrasion&nbsp;</strong>does<strong>&nbsp;not bleed</strong>, as blood vessels are confined to the dermis. However, the&nbsp;<strong>dermal papillae</strong>&nbsp;are&nbsp;<strong>corrugated</strong>&nbsp;in nature. Thus, many&nbsp;abrasions&nbsp;enter the dermis and bleeding commonly occurs.</p>\n<p>Types of abrasions:&nbsp;</p>\n<ul>\n<li><strong>Linear</strong>&nbsp;abrasions/&nbsp;<strong>scratches&nbsp;</strong>-<strong>&nbsp;</strong>caused by relative movement of a pointed object on the skin\n<ul>\n<li>Examples - abrasion caused by nails, thorns, or the point of a sword or knife</li>\n</ul>\n</li>\n<li><strong>Grazed</strong>/ sliding/ scrapping/ grinding abrasion/ brush burns -<strong>&nbsp;</strong>caused by relative movement of a rough surface on a wide area of skin. They are the&nbsp;<strong>most common type</strong>&nbsp;of abrasions\n<ul>\n<li>Examples - abrasion caused by falls, a victim being dragged on the ground, road traffic accidents</li>\n</ul>\n</li>\n<li><strong>Imprint</strong>/ patterned abrasions - caused by the impact of a rigid hard rough surface over a localized area of the skin without any movement\n<ul>\n<li>Examples - abrasion caused by tire,&nbsp;grills, bicycle chain, bite marks</li>\n</ul>\n</li>\n<li><strong>Friction</strong>/ pressure abrasion - is caused by crushing of the superficial layers of the epidermis\n<ul>\n<li>Examples - abrasion caused by ligature marks around the neck in hanging</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following percentages represent a VLDL?",
    "choices": [
      {
        "id": 1,
        "text": "20% TAGs and 60% cholesterol and cholesteryl esters"
      },
      {
        "id": 2,
        "text": "50% TAGs and 50% cholesterol and cholesteryl esters"
      },
      {
        "id": 3,
        "text": "60% TAGs and 20% cholesterol and cholesteryl esters"
      },
      {
        "id": 4,
        "text": "40% TAGs and 30% cholesterol and cholesteryl esters"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li><strong>VLDL</strong> are composed predominantly of endogenous <strong>triacylglycerol</strong> (approximately <strong>60%), </strong><strong>20% cholesterol and cholesteryl esters</strong></li>\n<li>VLDLs are produced in the liver and their function is to carry this lipid from the liver (site of synthesis) to the peripheral tissues.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the recommended interval in months for administration of a live vaccine after administration of normal human immunoglobulin (NHIG)?",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "10"
      },
      {
        "id": 3,
        "text": "8"
      },
      {
        "id": 4,
        "text": "3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Live vaccines</strong> must not be given simultaneously with normal human immunoglobulin. It must be given at least <strong>3 weeks before </strong>or <strong>3 months after</strong> a NHIG injection.</li>\n<li>Immunoglobulins can reduce or block the immune response to live vaccines.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Multidose vaccine vials must be stored after opening at a temperature of:",
    "choices": [
      {
        "id": 1,
        "text": "0 to 3 degree Celsius"
      },
      {
        "id": 2,
        "text": "2 to 8 degree Celsius"
      },
      {
        "id": 3,
        "text": "5 to 15 degree Celsius"
      },
      {
        "id": 4,
        "text": "37 degree Celsius"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Most multidose vaccine vials that are opened must be stored at a temperature of <strong>2 to 8 degree Celsius</strong> during an immunization session or they must be used within 6 hours of opening.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The number of axostyles, and flagella possessed by trophozoite form of giardia lamblia are respectively ________",
    "choices": [
      {
        "id": 1,
        "text": "2 pairs, 2 pairs"
      },
      {
        "id": 2,
        "text": "1 pair, 2 pairs"
      },
      {
        "id": 3,
        "text": "2 pairs, 4 pairs"
      },
      {
        "id": 4,
        "text": "1 pair, 4 pairs"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>The number of axostyles, and flagella possessed by trophozoite form of giardia lamblia are respectively </strong>1 pair, 4 pairs.</p>\n<ul>\n<li>The <strong>trophozoite</strong> form of <strong>giardia lamblia</strong> is in the shape of <strong>tennis</strong> <strong>racket</strong> or &ldquo;<strong>Heart shaped</strong>&rdquo; or &ldquo;<strong>pyriform shaped</strong>&rdquo;.</li>\n<li>It is bilaterally symmetrical and possesses\n<ul>\n<li><strong>Nuclei</strong> &ndash; 1 Pair</li>\n<li><strong>Flagella</strong> &ndash; 4 Pairs</li>\n<li><strong>Blepharoplast</strong>/<strong>Basal</strong> <strong>bodies</strong> from which flagella arises &ndash; 4 Pairs</li>\n<li><strong>Axostyles</strong> running along the midline &ndash; 1 Pair</li>\n<li><strong>Parabasal</strong> or median bodies - 2</li>\n</ul>\n</li>\n<li>The image below shows structure of Giardia lamblia Trophozoite</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6b21aa2b77d84317b04772bd645b06d4x502x504.PNG"
    ]
  },
  {
    "text": "How many fully frozen ice packs must a vaccine carrier have?",
    "choices": [
      {
        "id": 1,
        "text": "3"
      },
      {
        "id": 2,
        "text": "5"
      },
      {
        "id": 3,
        "text": "4"
      },
      {
        "id": 4,
        "text": "6"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>A <strong>vaccine carrier</strong> should have <strong>4 fully frozen</strong> ice packs that line the sides.</li>\n<li>Vaccine carriers are used for transporting the vaccines and never for storage.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/81c6f8a99b534646880c55df669c9bedx432x288.PNG"
    ]
  },
  {
    "text": "The amount of bleaching powder per litre necessary to disinfect stool is:",
    "choices": [
      {
        "id": 1,
        "text": "50 grams"
      },
      {
        "id": 2,
        "text": "75 grams"
      },
      {
        "id": 3,
        "text": "90 grams"
      },
      {
        "id": 4,
        "text": "100 grams"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>50 grams/litre </strong>of bleaching powder is required for disinfecting feces and urine.</li>\n<li>Agents commonly used for disinfecting feces and urine are:</li>\n</ul>\n<table>\n<tbody>\n<tr>\n<td><strong>Disinfectant</strong></td>\n<td><strong>Amount per litre</strong></td>\n<td><strong>Percent</strong></td>\n</tr>\n<tr>\n<td>Bleaching powder</td>\n<td>50 grams</td>\n<td>5</td>\n</tr>\n<tr>\n<td>Crude phenol</td>\n<td>100 ml</td>\n<td>10</td>\n</tr>\n<tr>\n<td>Cresol</td>\n<td>50 ml</td>\n<td>5</td>\n</tr>\n<tr>\n<td>Formalin</td>\n<td>100 ml</td>\n<td>10</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "According to Levine and Mark\u2019s classification, an imbecile would have an IQ in the range of:",
    "choices": [
      {
        "id": 1,
        "text": "0 \u2013 24"
      },
      {
        "id": 2,
        "text": "25 \u2013 49"
      },
      {
        "id": 3,
        "text": "50 \u2013 74"
      },
      {
        "id": 4,
        "text": "85 \u2013 94"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>According to the <strong>Levine and Mark&rsquo;s</strong> classification, an <strong>imbecile </strong>would have an IQ of <strong>25 to 49.</strong></p>\n<table style=\"height: 319px; width: 250px;\">\n<tbody>\n<tr>\n<td style=\"width: 106px;\">IQ range&nbsp;</td>\n<td style=\"width: 132px;\">IQ classification</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">175 and over</td>\n<td style=\"width: 132px;\">Precocious</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">150-174</td>\n<td style=\"width: 132px;\">Very superior&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">125-149</td>\n<td style=\"width: 132px;\">Superior</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">115-124</td>\n<td style=\"width: 132px;\">Very bright</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">105-114</td>\n<td style=\"width: 132px;\">Bright</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">95-104</td>\n<td style=\"width: 132px;\">Average</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">85-94</td>\n<td style=\"width: 132px;\">Dull</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">75-84</td>\n<td style=\"width: 132px;\">Borderline</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">50-74</td>\n<td style=\"width: 132px;\">Morons</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">25-49</td>\n<td style=\"width: 132px;\">Imbecile</td>\n</tr>\n<tr>\n<td style=\"width: 106px;\">0-24</td>\n<td style=\"width: 132px;\">Idiots</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Dowry death is defined under which section of the law?",
    "choices": [
      {
        "id": 1,
        "text": "BNS 106 (304A IPC)"
      },
      {
        "id": 2,
        "text": "BNS 80 (304B IPC)"
      },
      {
        "id": 3,
        "text": "BNSS 194 (174 CrPC)"
      },
      {
        "id": 4,
        "text": "BNSS 196 (176 CrPC)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Dowry Death i</strong>s defined under section<strong> BNS 80 (304B IPC)</strong>.</p>\n<p>According to this if a husband or his relative subjects the woman to cruelty or harassment in demand of dowry<strong> within 7 years of marriage</strong>; they shall be deemed to have caused her death.</p>\n<p>The punishment for such cases is imprisonment for<strong> not less than 7 years</strong>\u00a0but may be extended to life imprisonment.</p>\n<p>Other options:</p>\n<p>Option A: Section <strong>BNS 106 (304A IPC): </strong>Causing death by negligence</p>\n<p>Option C: Section <strong>BNSS 194 (174 CrPC): </strong>Police inquest</p>\n<p>Option D: Section <strong>BNSS 196 (176 CrPC): </strong>Magistrate inquest</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A new family is a nuclear family that is younger than how many years?",
    "choices": [
      {
        "id": 1,
        "text": "10"
      },
      {
        "id": 2,
        "text": "1"
      },
      {
        "id": 3,
        "text": "5"
      },
      {
        "id": 4,
        "text": "15"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>The term <strong>new family</strong> is applied when nuclear families <strong>are younger than 10 years</strong> and consist of parents and children.</li>\n<li>A <strong>nuclear family</strong> or <strong>elementary family</strong> consists of only the married couple and their offspring while they are dependants.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The average blood loss in Ancylostomiasis with Ancylostoma duodenale, per worm is ____",
    "choices": [
      {
        "id": 1,
        "text": "0.2 ml/day"
      },
      {
        "id": 2,
        "text": "1 ml/day"
      },
      {
        "id": 3,
        "text": "0.03 ml/day"
      },
      {
        "id": 4,
        "text": "5 ml/day"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Ancylostomiasis</strong> is a <strong>hookworm disease</strong> caused by infection with <strong>Ancylostoma</strong> <strong>hookworms.</strong></p>\n<p><strong>Average blood loss</strong> by the host per worm per day is <strong>0.03 mL </strong>with<strong> Necator americanus</strong> and<strong> 0.2 mL </strong>with<strong> Ancylostoma duodenale</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An estimation of the poverty line is the expenditure required, in rural areas, for a daily calorie intake of _________ per person",
    "choices": [
      {
        "id": 1,
        "text": "1800"
      },
      {
        "id": 2,
        "text": "2000"
      },
      {
        "id": 3,
        "text": "2100"
      },
      {
        "id": 4,
        "text": "2400"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>An estimate of the poverty line is the expenditure required for a daily calorie intake of <strong>2100</strong> <strong>in urban areas</strong> and <strong>2400 in rural areas</strong>, per person.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'M10 -  Numbers Only  Mini Test';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2017-18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>