<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>089 Pathology Ini-Cet 2024 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Pathology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">31</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the following is not a marker for gastrointestinal stromal tumors?",
    "choices": [
      {
        "id": 1,
        "text": "KIT"
      },
      {
        "id": 2,
        "text": "SDH"
      },
      {
        "id": 3,
        "text": "PDGFRA"
      },
      {
        "id": 4,
        "text": "NRG-1"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Succinate dehydrogenase</strong> (SDH)-deficient GIST is a subset of wild-type GIST seen with Carney triad or Carney-Stratakis syndrome.\u00a0</p>\n<p><strong>Imatinib</strong> can be used to treat GIST with mutations in <strong>KIT</strong> or <strong>PDGFRA.</strong> Succinate dehydrogenase (SDH) - deficient GIST is imatinib-resistant, so sunitinib, sorafenib, or regorafenib can be used instead.\u00a0</p>\n<p>During surgical resection of GIST, care must be taken to prevent capsule rupture, which causes <strong>seeding</strong> of <strong>nearby tissues</strong> leading to <strong>relapse</strong> in <strong>100%</strong> of the <strong>cases.</strong> If capsule rupture occurs, adjuvant therapy with imatinib is indicated regardless of tumor extent.</p>\n<p>Other options:</p>\n<p>Option A: <strong>KIT (CD117):</strong> This is the most well-known marker for GISTs. About 85% of GISTs show mutations in the KIT gene, leading to the expression of the KIT protein on the cell surface. KIT is a receptor tyrosine kinase, and its activation is a key driver in the pathogenesis of GISTs.</p>\n<p>Option B: <strong>SDH (Succinate</strong> Dehydrogenase): SDH mutations are associated with a subset of GISTs, particularly those that are KIT and PDGFRA wild-type. Loss of SDH function is characteristic of this subgroup, and SDH deficiency can be demonstrated through immunohistochemistry.</p>\n<p>Option C: <strong>PDGFRA</strong> (Platelet-Derived Growth Factor Receptor Alpha): Mutations in the PDGFRA gene account for approximately 5-10% of GISTs. Similar to KIT, PDGFRA is a receptor tyrosine kinase, and mutations in this gene can lead to the development of GISTs.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a9bf9b67e36847358296aa149b9b4ea8x1280x1033.JPEG"
    ]
  },
  {
    "text": "Identify the given histopathological image of a carcinoma of the lung.",
    "choices": [
      {
        "id": 1,
        "text": "Adenocarcinoma"
      },
      {
        "id": 2,
        "text": "Small cell carcinoma"
      },
      {
        "id": 3,
        "text": "Squamous cell carcinoma"
      },
      {
        "id": 4,
        "text": "Sarcoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Option D:\u00a0 A sarcoma\u00a0 arises from connective tissues and not from epithelial cells, so it would not show glandular structures on histological examination.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/30d9534d625f4596b02dbbf08c3c6982.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/811ec3879a2a4950ae343a052c4e8a5fx380x371.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d5926879d346444e9c80a83684026542x800x600.JPEG"
    ]
  },
  {
    "text": "Aneurysm due to excessive degradation of connective tissue is seen in which of these disorders?",
    "choices": [
      {
        "id": 1,
        "text": "Marfan's syndrome"
      },
      {
        "id": 2,
        "text": "Ehler Danlos syndrome"
      },
      {
        "id": 3,
        "text": "Scurvy"
      },
      {
        "id": 4,
        "text": "Atherosclerosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Aneurysm</strong> due to excessive <strong>degradation</strong> of <strong>connective tissue</strong> is seen in <strong>Marfan's syndrome</strong>.</p>\n<p><strong>Marfan's syndrome</strong> arises from a mutation in the <strong>FBN1 gene</strong>, responsible for <strong>encoding fibrillin</strong>, a crucial protein essential for maintaining the structural integrity of connective tissues and regulating TGF-\u03b2 signaling. The condition primarily affects the <strong>skeleton</strong>, <strong>eyes</strong>, and <strong>cardiovascular system</strong>. Clinical manifestations commonly include tall stature, <strong>elongated fingers</strong>, bilateral lens subluxation, mitral valve prolapse, <strong>aortic aneurysm</strong>, and potentially <strong>life-threatening aortic dissection</strong>.</p>\n<p>Cardiovascular complications pose the greatest threat to this disorder. The two primary concerns are <strong>mitral valve prolapse </strong>and<strong> dilation</strong> of the <strong>ascending aorta</strong> due to <strong>cystic medial necrosis</strong>. Progressive <strong>dilation</strong> of the <strong>aortic root</strong> and valve ring results from the <strong>loss </strong>of <strong>medial support</strong>, leading to severe aortic incompetence. Additionally, medial weakening increases the <strong>risk</strong> of <strong>intimal tears</strong>, which can initiate <strong>intramural hematomas</strong>. These hematomas may cleave through layers of the aortic media, potentially causing <strong>aortic dissection</strong>. In some cases, the hemorrhage extends extensively, from the aortic root to the iliac arteries and may ultimately rupture through the aortic wall.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A known case of hemophilia-B comes with pain and swelling of the knee joint. Which of the following will be used in his management?",
    "choices": [
      {
        "id": 1,
        "text": "i, ii"
      },
      {
        "id": 2,
        "text": "ii, iv"
      },
      {
        "id": 3,
        "text": "i, iii"
      },
      {
        "id": 4,
        "text": "ii, iii, iv"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>For Hemophilia B, <strong>fresh frozen plasma</strong> and <strong>cryo-poor plasma</strong> can be used.</p>\n<p><strong>Hemophilia</strong> <strong>B</strong>, also known as Christmas Disease, occurs due to a deficiency of <strong>Factor IX,</strong> also called <strong>Christmas Factor,</strong> named after the first patient identified with the disease.</p>\n<p><strong>Fresh Frozen Plasma</strong> (FFP)contains <strong>all coagulation</strong> factors, including <strong>factor IX,</strong> and can be used to treat <strong>Hemophilia</strong> <strong>B</strong>, and cryo poor plasma is the plasma remaining after the <strong>cryoprecipitate</strong> has been <strong>removed,</strong> and it still contains <strong>factor IX,</strong> making it useful for treating Hemophilia B.\u00a0</p>\n<p>Hemophilia is a <strong>coagulation</strong> disorder occurring due to a <strong>deficiency</strong> of <strong>clotting factor VIII</strong> (Hemophilia A) or clotting factor IX (Hemophilia B), both of which present in the same manner. The disorder is <strong>X-linked recessive,</strong> meaning <strong>males</strong> are affected, and <strong>females</strong> are <strong>asymptomatic</strong> carriers.</p>\n<p>Patients present with <strong>ecchymoses, epistaxis, haematuria, menorrhagia,</strong> prolonged bleeding after dental or minor surgical procedures, haemarthrosis. However, Factor IX assays are more specific to diagnose Hemophilia B.</p>\n<p>Definitive treatment is by <strong>infusions</strong> of recombinant <strong>Factor IX.</strong></p>\n<p>Other options:</p>\n<p>Factor VIII: This is used in Hemophilia A, not Hemophilia B, because Hemophilia A is caused by a deficiency of factor VIII.<br /><br />Cryoprecipitate: This is used primarily for Hemophilia A and von Willebrand disease as it is rich in factor VIII and fibrinogen, but it does not contain significant amounts of factor IX, making it unsuitable for Hemophilia B.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presents with truncal obesity, abominal striae, poor wound healing. What is the likely cause of his symptoms?",
    "choices": [
      {
        "id": 1,
        "text": "Hypercortisolism"
      },
      {
        "id": 2,
        "text": "Addison's disease"
      },
      {
        "id": 3,
        "text": "Hyperestrogenism"
      },
      {
        "id": 4,
        "text": "Increased growth hormone"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This patient with <strong>abdominal striae,</strong> truncal <strong>obesity,</strong> and <strong>poor wound healing</strong> most likely has <strong>Cushing's</strong> syndrome. This is characterized by hypercortisolism.\u00a0</p>\n<p>Cushing's syndrome is a group of clinical features that occur due to <strong>chronic exposure</strong> to excess <strong>glucocorticoids</strong> of any etiology. Cushing's disease is specifically Cushing's syndrome <strong>occurs</strong> due to <strong>pituitary corticotrope adenoma.</strong>\u00a0</p>\n<table style=\"border-collapse: collapse; width: 50.5445%; height: 828.961px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 15.9855%; height: 22.3984px;\">System</td>\n<td style=\"width: 84.0145%; height: 22.3984px; text-align: center;\">Clinical features</td>\n</tr>\n<tr style=\"height: 99.1953px;\">\n<td style=\"width: 15.9855%; height: 99.1953px;\">Body fat</td>\n<td style=\"width: 84.0145%; height: 99.1953px;\">\n<ul>\n<li><strong>Central</strong> or truncal <strong>obesity</strong> (most common)</li>\n<li><strong>Buffalo hump</strong> (fat deposition behind the neck)</li>\n<li><strong>Moon</strong> facies\u00a0\u00a0</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 124.992px;\">\n<td style=\"width: 15.9855%; height: 124.992px;\">Skin</td>\n<td style=\"width: 84.0145%; height: 124.992px;\">\n<ul>\n<li><strong>Purple</strong> striae (over abdomen &amp; flanks)</li>\n<li><strong>Acne</strong> and Hirsutism</li>\n<li>Easy bruising</li>\n<li>Facial plethora</li>\n<li>Hyperpigmentation\u00a0</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 76.7969px;\">\n<td style=\"width: 15.9855%; height: 76.7969px;\">Musculoskeletal</td>\n<td style=\"width: 84.0145%; height: 76.7969px;\">\n<ul>\n<li>Proximal myopathy</li>\n<li>Osteoporosis</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 76.7969px;\">\n<td style=\"width: 15.9855%; height: 76.7969px;\">Metabolic</td>\n<td style=\"width: 84.0145%; height: 76.7969px;\">\n<ul>\n<li>Poorly controlled hyperglycemia</li>\n<li>Dyslipidemia</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 76.7969px;\">\n<td style=\"width: 15.9855%; height: 76.7969px;\">Reproductive</td>\n<td style=\"width: 84.0145%; height: 76.7969px;\">\n<ul>\n<li>Low libido</li>\n<li>Amenorrhea</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 54.3984px;\">\n<td style=\"width: 15.9855%; height: 54.3984px;\">Renal</td>\n<td style=\"width: 84.0145%; height: 54.3984px;\">\n<ul>\n<li>Hypokalemic alkalosis</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 99.1953px;\">\n<td style=\"width: 15.9855%; height: 99.1953px;\">CVS</td>\n<td style=\"width: 84.0145%; height: 99.1953px;\">\n<ul>\n<li>Atherosclerosis</li>\n<li>Diastolic hypertension</li>\n<li>Edema\u00a0</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 99.1953px;\">\n<td style=\"width: 15.9855%; height: 99.1953px;\">Hematologic</td>\n<td style=\"width: 84.0145%; height: 99.1953px;\">\n<ul>\n<li>Hypercoagulable state</li>\n<li>Neutrophilia</li>\n<li>Eosinopenia</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 99.1953px;\">\n<td style=\"width: 15.9855%; height: 99.1953px;\">CNS</td>\n<td style=\"width: 84.0145%; height: 99.1953px;\">\n<ul>\n<li>Depression, anxiety</li>\n<li>Psychosis</li>\n<li>Irritability</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Management of Cushing's syndrome includes: Surgical removal of the tumor followed by hydrocortisone replacement with gradual tapering is preferred.<br />Medical management includes metyrapone and ketoconazole.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following blood products with their corresponding shelf life.",
    "choices": [
      {
        "id": 1,
        "text": "1-B, 2-A, 3-D, 4-C"
      },
      {
        "id": 2,
        "text": "1-D, 2-C, 3-B, 4-A"
      },
      {
        "id": 3,
        "text": "1-A, 2-C, 3-B, 4-D"
      },
      {
        "id": 4,
        "text": "1-C, 2-D, 3-B, 4-A"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correct answer is option B <strong>1-D, 2-C, 3-B, 4-A</strong></p>\n<table style=\"border-collapse: collapse; width: 60.1193%; height: 89.5936px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 64.3691%; height: 22.3984px;\">1. \u00a0Packed RBC in additive solution\u00a0</td>\n<td style=\"width: 35.6309%; height: 22.3984px;\">D. 42 days\u00a0</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 64.3691%; height: 22.3984px;\">2. Granulocytes</td>\n<td style=\"width: 35.6309%; height: 22.3984px;\">C. 24 hours</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 64.3691%; height: 22.3984px;\">3. Single donor platelet solution</td>\n<td style=\"width: 35.6309%; height: 22.3984px;\">B. 5 days\u00a0</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 64.3691%; height: 22.3984px;\">4. Cryoprecipitate\u00a0</td>\n<td style=\"width: 35.6309%; height: 22.3984px;\">A. 1 year</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements about Hodgkin's Lymphoma is not true?",
    "choices": [
      {
        "id": 1,
        "text": "Waldeyer's ring is the most common site to be involved"
      },
      {
        "id": 2,
        "text": "RS cells are immunopositive for CD30 and PAX5"
      },
      {
        "id": 3,
        "text": "RS Cells are of B cell origin"
      },
      {
        "id": 4,
        "text": "Nodular sclerosis is the most common subtype and presents as a mediastinal mass"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>WHO classifies Hodgkin's lymphoma into 5 subtypes:</p>\n<ul>\n<li><strong>Nodular sclerosis:</strong> Frequent lacunar cells</li>\n<li>Mixed cellularity</li>\n<li>Lymphocyte-rich</li>\n<li>Lymphocyte depletion</li>\n<li>Nodular lymphocyte predominance</li>\n</ul>\n<p>The first 4 subtypes are considered classical <strong>Hodgkin's lymphoma.</strong> The RS cells are CD15+, <strong>PAX5</strong> and <strong>CD30+.</strong> The lymphocyte predominant type is considered non-classical Hodgkin's lymphoma with CD15-, CD30-, CD20+, and EB -.</p>\n<p>Other options:\u00a0</p>\n<p>Option B: RS cells are <strong>immunopositive</strong> for <strong>CD30</strong> and <strong>PAX5:</strong> Reed-Sternberg cells typically express CD30 and PAX5, among other markers. These <strong>immunohistochemical</strong> markers help in confirming the diagnosis of <strong>Hodgkin's</strong> Lymphoma.</p>\n<p>Option C: RS Cells are of B cell origin: Despite their <strong>atypical</strong> appearance, RS cells are derived from <strong>B</strong> <strong>lymphocytes,</strong> specifically from <strong>germinal center</strong> B cells.</p>\n<p>Option D: Nodular sclerosis is the most commonly present as a mediastinal mass: <strong>Nodular sclerosis</strong> is the most <strong>common subtype</strong> of <strong>Hodgkin's</strong> lymphoma and often presents with a <strong>mediastinal mass,</strong> particularly in younger patients.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ebf2e6c614de4074bdcd9413794ac0e6x650x487.JPEG"
    ]
  },
  {
    "text": "A patient presents to the ER with anaphylaxis. Which of the following is a part of the clinical criteria to diagnose anaphylaxis?",
    "choices": [
      {
        "id": 1,
        "text": "2,3,4,5"
      },
      {
        "id": 2,
        "text": "1,2,3,4"
      },
      {
        "id": 3,
        "text": "1,2,3,5"
      },
      {
        "id": 4,
        "text": "3,4,5"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Anaphylaxis is characterised by all of the above features except for hypertension. It causes hypotension.</p>\n<p>Anaphylaxis is a <strong>severe,</strong> potentially <strong>life-threatening allergic reaction</strong> that occurs rapidly and affects the whole body. It is characterized by a sudden release of <strong>histamines</strong> and other chemicals from the <strong>immune system</strong> in response to an <strong>allergen,</strong> such as certain foods, medications, insect stings, or latex. The onset of symptoms can occur within minutes to a few hours after exposure to the allergen.</p>\n<p>Clinically, anaphylaxis can present with a combination of symptoms that typically include:</p>\n<ul>\n<li><strong>Respiratory</strong> Symptoms: Patients often experience wheezing and respiratory distress due to bronchoconstriction. Other signs may include shortness of breath, coughing, and a feeling of tightness in the chest.</li>\n<li><strong>Skin</strong> Symptoms: Urticaria (hives) and angioedema (swelling of the skin and mucous membranes) are common. These skin reactions usually develop rapidly, often within minutes to two hours of exposure to the allergen.</li>\n<li><strong>Cardiovascular</strong> Symptoms: Hypotension (low blood pressure) is a key indicator of anaphylaxis. Patients may also experience tachycardia (increased heart rate) and, in severe cases, shock.</li>\n<li><strong>Gastrointestinal</strong> Symptoms: Abdominal pain, vomiting, diarrhea, and cramps can occur, particularly if the anaphylaxis is triggered by food allergens.</li>\n<li><strong>Neurological</strong> Symptoms: Dizziness, lightheadedness, or loss of consciousness can occur due to the sudden drop in blood pressure and reduced oxygen supply to the brain.</li>\n</ul>\n<p>Specific diagnostic <strong>criteria</strong> for anaphylaxis include the presence of <strong>acute</strong> onset <strong>symptoms</strong> involving the <strong>skin, mucosal</strong> tissue, or both (e.g., generalized hives, pruritus, or flushing, swollen lips-tongue-uvula), plus <strong>respiratory compromise</strong> (e.g., <strong>dyspnea, wheezing-bronchospasm, stridor,</strong> reduced peak expiratory flow), or <strong>hypotension</strong> or associated symptoms of <strong>end-organ dysfunction</strong> (e.g., hypotonia, collapse, syncope, incontinence). Alternatively, it can be diagnosed if <strong>two or more</strong> of the following occur rapidly after exposure to a likely allergen: involvement of the <strong>skin-mucosal</strong> tissue, <strong>respiratory</strong> compromise, <strong>hypotension</strong>, or persistent <strong>gastrointestinal</strong> symptoms.</p>\n<p><strong>Prompt treatment</strong> is critical in <strong>managing anaphylaxis.</strong> The <strong>first-line</strong> treatment is the immediate administration of <strong>intramuscular epinephrine,</strong> which counteracts the effects of histamines and other chemicals released during the reaction. Additional treatments may include <strong>antihistamines, corticosteroids,</strong> and <strong>bronchodilators</strong> to manage symptoms and prevent further complications.</p>\n<p>Patients with a history of <strong>anaphylaxis</strong> are typically advised to carry an <strong>epinephrine auto-injector </strong>at all times and to seek emergency medical care immediately if they experience symptoms of anaphylaxis. Long-term management may involve identifying and avoiding known allergens, as well as potentially undergoing allergen immunotherapy in certain cases.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presents with a neck swelling. An excision biopsy is performed and is shown below. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Tuberculosis"
      },
      {
        "id": 2,
        "text": "Sarcoidosis"
      },
      {
        "id": 3,
        "text": "Langerhans cell histiocytosis"
      },
      {
        "id": 4,
        "text": "Hodgkin's lymphoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario and the slide showing <strong>granulomatous inflammation</strong> with <strong>central caseous</strong> necrosis are suggestive of <strong>tuberculosis</strong> of cervical lymph nodes.\u00a0</p>\n<p>Once Mycobacterium tuberculosis enters the <strong>macrophage,</strong> it inhibits the formation of the <strong>phagolysosome.</strong> This allows it to replicate unchecked. M. tuberculosis recruits a host protein <strong>coronin</strong> to block the fusion of phagosome and lysosome. Th1 response to M. tuberculosis is mounted about three weeks following the infection. The antigen-presenting cells (APCs) present mycobacterial antigens to the T-cells in the lymph nodes and release <strong>IL-12</strong> and <strong>IL-18</strong> to cause the differentiation of <strong>T-cells</strong> into <strong>Th1</strong> cells. Th1 cells produce <strong>IFN-\u03b3.</strong> IFN-\u03b3 is the critical step in the body's defense against M. tuberculosis. It acts by activating macrophages, causing <strong>phagolysosome maturation,</strong> and inducing nitric oxide synthase enzyme to form more reactive nitrogen species. It also mobilizes anti-bacterial compounds like defensins and stimulates autophagy.</p>\n<p>Th1 response leads to the <strong>formation</strong> of a <strong>granuloma</strong> and <strong>caseous necrosis. Macrophages</strong> that are activated by the action of <strong>IFN-\u03b3 differentiate</strong> into <strong>epithelioid histiocytes.</strong> These are the cells that actually aggregate to form a <strong>granuloma.</strong> Some epithelioid cells may also fuse to form a giant cell.\u00a0</p>\n<p>Other options:\u00a0</p>\n<p>Option B: <strong>Sarcoidosis:</strong> This granulomatous disease can involve lymph nodes but typically does not produce caseous necrosis. <strong>Non-caseating granulomas</strong> are more characteristic of sarcoidosis.</p>\n<p>Option C: <strong>Langerhans</strong> Cell Histiocytosis: This rare disorder involves the proliferation of Langerhans cells and can affect lymph nodes, but it does not typically show caseous necrosis.</p>\n<p>Option D: <strong>Hodgkin's</strong> Lymphoma: This type of lymphoma often presents with lymph node enlargement and may show <strong>Reed-Sternberg</strong> cells on biopsy. Necrosis can be seen, but it is not typically caseous in nature.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/135ba1153c324f61a39bc2b704d319ed.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient was brought to the emergency following a heavy bleed and was transfused with multiple units of blood. Which of the following is not seen as a result of delayed hemolytic transfusion reaction?",
    "choices": [
      {
        "id": 1,
        "text": "Cola coloured urine in the first 2 hours"
      },
      {
        "id": 2,
        "text": "Failure of rise in Hemoglobin level"
      },
      {
        "id": 3,
        "text": "Increased Indirect Bilirubin"
      },
      {
        "id": 4,
        "text": "Increased LDH"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Cola-colored</strong> urine in the <strong>first 2 hours</strong> is not a feature of <strong>delayed transfusion</strong> hemolytic reaction. This is characteristic of an <strong>acute hemolytic</strong> transfusion reaction. Acute reactions present immediately or within a few hours of transfusion with symptoms like <strong>dark urine, fever,</strong> chills, and back pain.</p>\n<p>Delayed hemolytic transfusion reactions (DHTR) occur <strong>days</strong> to <strong>weeks</strong> after a <strong>blood transfusion,</strong> unlike acute reactions that manifest immediately or within a few hours. In DHTR, the recipient's immune system recognizes the transfused red blood cells as foreign and mounts an immune response against them, leading to their destruction. This delayed immune response is often due to the <strong>formation</strong> of <strong>alloantibodies</strong> against <strong>minor antigens</strong> on the donor red blood cells. Clinically, DHTR presents with symptoms such as a <strong>failure</strong> of <strong>rise</strong> in <strong>hemoglobin</strong> levels despite transfusion, increased levels of <strong>indirect bilirubin,</strong> and <strong>elevated lactate dehydrogenase</strong> (LDH) levels, indicative of <strong>ongoing hemolysis.</strong> While DHTR is generally less severe than acute reactions, it can still cause significant morbidity and necessitates careful monitoring and management.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Given below is the image of a survival analysis curve in patients with organ transplants. Which of the following statements are true about the graph?",
    "choices": [
      {
        "id": 1,
        "text": "Both CD4 and CD8 cells take part in allograft rejection"
      },
      {
        "id": 2,
        "text": "Both CD4 and CD8 participate in the protection against allograft rejection"
      },
      {
        "id": 3,
        "text": "CD4 cells are not involved in allograft rejection"
      },
      {
        "id": 4,
        "text": "CD8 cells have a predominant role in graft rejection"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>From the given graph is it evident that with anti CD8\u00a0 the increase in graft survival is negligible compared to the control, however with anti CD4 the graft survival doubles. When anti-CD4 and anti-CD8 are coadministered, the survival becomes four times that of control. From this, it can be inferred that<strong> both CD4 and CD8 cells take part in allograft rejection</strong>.</p>\n<p><strong>Rejection</strong> is a process in which <strong>T lymphocytes</strong> and <strong>antibodies</strong> produced against graft antigens react against and destroy tissue grafts. The major antigenic differences between a donor and recipient that result in the rejection of transplants are differences in <strong>HLA alleles</strong>. Following transplantation, the recipient\u2019s T cells recognize donor HLA antigens from the graft by two pathways. The graft antigens are either presented directly to recipient T cells by graft antigen-presenting cells (APCs), or the graft antigens are picked up by host APCs, processed, and presented to host T cells. These are called the <strong>direct</strong> and <strong>indirect</strong> pathways of recognition of alloantigens. Both lead to the activation of <strong>CD8+ T cells</strong>, which develop into <strong>cytotoxic T lymphocytes</strong> and <strong>CD4+ T cells</strong>, which become cytokine-producing effector cells, mainly <strong>Th1 cells</strong>.\u00a0</p>\n<p>Graft rejection is classified into hyperacute, acute, and chronic, based on clinical and pathologic features :\u00a0</p>\n<ul>\n<li><strong>Hyperacute rejection</strong> is mediated by <strong>preformed antibodies</strong> specific for antigens on <strong>graft endothelial</strong> cells.\u00a0</li>\n<li><strong>Acute rejection</strong> is mediated by <strong>T cells</strong> and antibodies that are activated by alloantigens in the graft.\u00a0</li>\n<li><strong>Chronic rejection</strong> is an indolent form of graft damage that occurs over months or years, leading to progressive loss of graft function.\u00a0</li>\n</ul>\n<p>Methods of increasing graft survival :</p>\n<p>In<strong> kidney</strong> transplants, there is substantial benefit if all the polymorphic <strong>HLA alleles</strong> are <strong>matched</strong>. However, HLA matching is usually <strong>not done</strong> for transplants of the <strong>liver</strong>, <strong>heart</strong>, and <strong>lungs</strong>.</p>\n<p>Except for identical twins, <strong>immunosuppressive therapy</strong> is essential in all donor-recipient combinations. Immunosuppressive drugs in current use include steroids (which reduce inflammation), mycophenolate mofetil (which inhibits lymphocyte proliferation), and tacrolimus (inhibitor of calcineurin).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b615415a2f94472291d234fc847c94b9.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient was brought to the emergency care following severe hemorrhage and was unable to get the matching blood type. Which blood group can be used for immediate transfusion?",
    "choices": [
      {
        "id": 1,
        "text": "1,2,3,4"
      },
      {
        "id": 2,
        "text": "2,4"
      },
      {
        "id": 3,
        "text": "3,4"
      },
      {
        "id": 4,
        "text": "1,2"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In this patient who was unable to get <strong>matched donor</strong> blood, <strong>O+ve</strong> and <strong>O-ve</strong> blood types can be administered to him.\u00a0</p>\n<p>In cases of <strong>severe hemorrhage</strong> where there is an immediate need for a blood transfusion but the matching blood type is not available, both <strong>O-negative</strong> and <strong>O-positive</strong> blood can be used for <strong>immediate transfusion,</strong> with specific considerations. <strong>O-negative</strong> blood is the <strong>universal donor type</strong> for all patients because it lacks <strong>A, B,</strong> and <strong>Rh antigens</strong> on the surface of its <strong>red blood cells,</strong> minimizing the risk of an adverse reaction in the recipient. This makes O-negative blood particularly valuable in emergency situations where the patient's blood type is unknown.</p>\n<p><strong>O-positive</strong> blood, on the other hand, can also be used in <strong>emergencies</strong> but is <strong>generally preferred</strong> for <strong>transfusing Rh-positive</strong> patients to conserve the limited supply of <strong>O-negative blood</strong> for those who are <strong>Rh-negative</strong> or when the <strong>blood type</strong> is <strong>entirely unknown.</strong> While O-positive blood is not universally compatible with O-negative, it is still a safe option for patients who are known to be <strong>Rh-positive,</strong> thus preventing an Rh incompatibility reaction.\u00a0</p>\n<p>Blood types <strong>A+ve</strong> and <strong>B+ve</strong> are <strong>not suitable</strong> for emergency universal transfusion because they contain <strong>A</strong> and <strong>B antigens,</strong> respectively, which can cause severe <strong>transfusion reactions</strong> if the recipient has antibodies against these antigens. For example, if a patient with type B blood (who has anti-A antibodies) receives type A+ve blood, it can lead to a dangerous immune response. Similarly, a patient with type A blood (who has anti-B antibodies) cannot safely receive type B+ve blood.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following does not differentiate between necrosis and apoptosis?",
    "choices": [
      {
        "id": 1,
        "text": "Intact cell contents"
      },
      {
        "id": 2,
        "text": "Altered cell shape"
      },
      {
        "id": 3,
        "text": "Intact plasma membrane"
      },
      {
        "id": 4,
        "text": "Lysosomal enzymatic digestion"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Necrosis and apoptosis <strong>cannot</strong> be differentiated based on the <strong>altered cell shape</strong>. They can however be differentiated based on <strong>cell size,</strong> where necrosis is associated with an <strong>enlarged cell</strong> and apoptosis with <strong>cell shrinkage</strong>.</p>\n<p><strong>Necrosis</strong> is a pathologic process that is the consequence of severe injury. Necrosis is characterized by <strong>denaturation</strong> of cellular proteins, <strong>leakage</strong> of cellular contents through damaged membranes, local inflammation, and <strong>enzymatic digestion</strong>. It is characterized by denaturation of cellular proteins, leakage of cellular contents through damaged membranes, local inflammation, and enzymatic digestion.</p>\n<p><strong>Apoptosis</strong> is a type of cell death that is induced by a tightly regulated suicide program in which cells destined to die activate intrinsic enzymes called <strong>caspases</strong> that degrade the cells\u2019 genomic DNA and nuclear and cytoplasmic proteins. Apoptotic cells break up into plasma membrane-bound fragments, called <strong>apoptotic bodies</strong>, which contain portions of the cytoplasm and nucleus. While the <strong>plasma</strong> <strong>membrane </strong>remains <strong>intact,</strong> its surface components are altered. As a result, the dead cell and its fragments are rapidly devoured, before the contents leak out, and therefore apoptosis <strong>does not</strong> elicit an inflammatory reaction.\u00a0</p>\n<table style=\"border-collapse: collapse; width: 38.2033%; height: 423px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 33.3337%; text-align: center; height: 22.3984px;\"><strong>Feature</strong></td>\n<td style=\"width: 33.3337%; text-align: center; height: 22.3984px;\"><strong>Necrosis</strong></td>\n<td style=\"width: 33.3337%; text-align: center; height: 22.3984px;\"><strong>Apoptosis</strong></td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 33.3337%; height: 22.3984px;\">Cell size</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Cells swell and enlarge.</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Cells shrink in size.</td>\n</tr>\n<tr style=\"height: 67.1953px;\">\n<td style=\"width: 33.3337%; height: 67.1953px;\">Nucleus</td>\n<td style=\"width: 33.3337%; height: 67.1953px;\">Undergoes condensation, fragmentation, and dissolution.</td>\n<td style=\"width: 33.3337%; height: 67.1953px;\">Breaks into smaller fragments.</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 33.3337%; height: 22.3984px;\">Membrane</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Membrane integrity is lost.</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Remains intact but lipid orientation may change</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 33.3337%; height: 22.3984px;\">Contents</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Cell contents are enzymatically digested and may leak out.</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Contents remain intact and may be released in apoptotic bodies.</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 33.3337%; height: 22.3984px;\">Inflammation</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Often accompanied by adjacent inflammation.</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">No adjacent inflammation typically occurs.</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 33.3337%; height: 22.3984px;\">Role</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Typically pathological, marking irreversible cell injury.<br />\u00a0</td>\n<td style=\"width: 33.3337%; height: 22.3984px;\">Often <strong>physiological,</strong> used to eliminate unwanted cells.</td>\n</tr>\n</tbody>\n</table>\n<p>Other options :</p>\n<p>Option 1 -\u00a0 Apoptosis is associated with <strong>intact cellular contents</strong>, while necrosis is associated with enzymatic digestion, and contents leak out.</p>\n<p>Option 3 - <strong>Intact plasma membrane</strong> is a feature of <strong>apoptosis</strong>; however, in necrosis, there is a disrupted plasma membrane.</p>\n<p>Option 4 - <strong>Lysosomal enzymatic digestion</strong> is a feature of <strong>necrosis</strong> and not apoptosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In comparison to Ulcerative colitis, Crohn's disease is associated with",
    "choices": [
      {
        "id": 1,
        "text": "Continuous lesions rather than segmented lesions"
      },
      {
        "id": 2,
        "text": "Less likely to present with daily hematochezia"
      },
      {
        "id": 3,
        "text": "Increased risk of developing cancer"
      },
      {
        "id": 4,
        "text": "Lower risk of perianal fistulas"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Patients with <strong>Crohn's</strong> disease are less likely to present with <strong>daily hematochezia</strong> compared to patients with <strong>ulcerative colitis.</strong>\u00a0</p>\n<p>CD is characterized by acute or chronic inflammation of the bowel. The most commonly involved site is the <strong>terminal ileum</strong> because of which patients present with diarrhea and <strong>right lower quadrant pain</strong>. Extensive inflammation can result in <strong>malabsorption</strong> and <strong>steatorrhea</strong>.\u00a0</p>\n<p>Blood investigations may reveal anemia, elevated ESR and CRP. <strong>Fecal calprotectin</strong> and <strong>lactoferrin</strong> levels are used to rule out irritable bowel syndrome and as a marker of ileo-colonic inflammation. A colonoscopy is done as part of the evaluation. It shows characteristic skip lesions and a <strong>cobblestone appearance</strong>. Biopsy shows <strong>transmural inflammation</strong> with <strong>non-caseating granulomas</strong>.\u00a0</p>\n<p><strong>Serological markers</strong> that are usually positive in patients with CD include the anti\u2013Saccharomyces cerevisiae antibody (ASCA). Other positive markers (however, with low sensitivity) include antibodies to bacterial proteins (OmpC and I2), flagellin, and bacterial carbohydrates.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following organisms with their association :",
    "choices": [
      {
        "id": 1,
        "text": "1 - a ; 2 - b ; 3 - c ; 4 - d"
      },
      {
        "id": 2,
        "text": "1 - c  ; 2 -d ; 3 - a ; 4 - b"
      },
      {
        "id": 3,
        "text": "1 - c  ; 2 -a ; 3 - d ; 4 - b"
      },
      {
        "id": 4,
        "text": "1 - d  ; 2 -c ; 3 - a ; 4 - b"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correct answer is option B: 1 - c \u00a0; 2 -d ; 3 - a ; 4 - b.</p>\n<table style=\"border-collapse: collapse; width: 46.5415%;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 50.0458%;\">\u00a01) H. pylori</td>\n<td style=\"width: 50.0458%;\">c)Gastric MALT</td>\n</tr>\n<tr>\n<td style=\"width: 50.0458%;\">2) C.psittaci\u00a0</td>\n<td style=\"width: 50.0458%;\">d)Ocular MALT</td>\n</tr>\n<tr>\n<td style=\"width: 50.0458%;\">3) Borrelia burgdorferi</td>\n<td style=\"width: 50.0458%;\">a)Cutaneous MALT</td>\n</tr>\n<tr>\n<td style=\"width: 50.0458%;\">4) Campylobacter jejuni</td>\n<td style=\"width: 50.0458%;\">b)Alpha heavy chain disease</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>\n<p><strong>MALT</strong> (mucosa-associated lymphoid tumor) <strong>lymphoma</strong> is an <strong>extranodal marginal zone</strong> lymphoma, most commonly seen in the <strong>stomach</strong>, but other common sites include the skin, salivary glands, small bowel, ocular adnexa, and synovium. It is associated with states of <strong>chronic inflammation</strong> due to either autoimmune diseases (<strong>Sjo\u0308gren\u2019s syndrome</strong> or <strong>Hashimoto\u2019s thyroiditis</strong>)\u00a0or chronic infections with organisms like <em>H. pylori </em>(<strong>gastric</strong>), <em>Borrelia burgdorferi</em> (<strong>skin</strong>), <em>C. psittaci</em> (<strong>conjunctiva</strong>), <em>C. jejuni</em> (<strong>intestines</strong>), and <strong>hepatitis C </strong>virus.</p>\n<p>The essential pathologic feature of MALT lymphoma is the presence of lymphoepithelial lesions, which result from the invasion of mucosal glands and crypts by the neoplastic lymphocytes. These cells are positive for <strong>CD19</strong>, <strong>CD20</strong>, and CD79a and negative for CD5 and CD10. Recurrent cytogenetic abnormalities include<strong> t(11;18)</strong>, t(14;18), t(1;14), t(3;14), and trisomy 8. The t(11;18) is most common, occurring in up to 50% of MALT lymphomas.</p>\n<p>Unlike other indolent B-cell lymphomas, MALT lymphomas present most commonly with stage I or II disease. In these cases, <strong>radiation therapy </strong>may be curative. Alternatively, patients may respond to <strong>antibiotics</strong> for the associated underlying infection.\u00a0</p>\n<p><strong>Alpha heavy chain disease</strong> / <strong>immunoproliferative small intestinal disease </strong>(IPSID) is recognized as an infectious pathogen-associated human lymphoma associated with <em>Campylobacter jejuni</em>. It involves mainly the <strong>proximal small intestine</strong>, resulting in <strong>malabsorption</strong>, diarrhea, and abdominal pain. IPSID is associated with <strong>excessive plasma cell differentiation</strong> and produces <strong>truncated alpha heavy chain</strong> proteins lacking the light chains. Early-stage IPSID responds to <strong>antibiotics </strong>(30\u201370% complete remission). Most untreated IPSID patients progress to <strong>lymphoplasmacytic</strong> and<strong> immunoblastic </strong>lymphoma.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a nuclear neuroendocrine immunohistochemical marker?",
    "choices": [
      {
        "id": 1,
        "text": "Synaptophysin"
      },
      {
        "id": 2,
        "text": "NCAM 1"
      },
      {
        "id": 3,
        "text": "INSM1"
      },
      {
        "id": 4,
        "text": "Chromogranin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>INSM1</strong> is a nuclear marker for <strong>neuroendocrine tumours.</strong>\u00a0</p>\n<p><strong>Insulinoma-associated</strong> <strong>protein 1</strong> is a nuclear protein that serves as a <strong>transcription factor</strong> and has gained prominence as a <strong>neuroendocrine marker</strong> in pathology. Originally identified in <strong>insulinomas,</strong> INSM1 has been to be a reliable marker for various <strong>neuroendocrine tumors</strong> (NETs).</p>\n<p>Other options:\u00a0</p>\n<p>Option A: <strong>Synaptophysin</strong> is a glycoprotein located in the membrane of presynaptic vesicles. It is a marker for neuroendocrine cells and tumors, but it is found in the <strong>cytoplasm,</strong> not the nucleus.</p>\n<p>Option B: <strong>NCAM</strong> 1 (Neural Cell Adhesion Molecule 1), also known as <strong>CD56,</strong> this marker is a <strong>cell surface glycoprotein</strong> involved in cell adhesion. It is often used in the diagnosis of neuroendocrine tumors, but it is not a nuclear marker.</p>\n<p>Option D:\u00a0 <strong>Chromogranin A</strong> is a protein found in the secretory vesicles of neuroendocrine cells. It is another commonly used marker for neuroendocrine tumors and is located in the <strong>cytoplasm.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is incorrect regarding myelodysplastic syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "More commonly seen in females"
      },
      {
        "id": 2,
        "text": "Treatment induced MDS is not dependent on age"
      },
      {
        "id": 3,
        "text": "Median age of onset 70 years"
      },
      {
        "id": 4,
        "text": "It can be radiation induced"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Myelodysplastic syndrome</strong> (MDS) is more commonly seen in <strong>males</strong> than females.</p>\n<p>The MDS is a heterogeneous group of hematologic disorders characterized by both <strong>cytopenias </strong>due to bone marrow failure and a high risk of development of <strong>acute myeloid leukemia</strong>. Anemia due to <strong>ineffective erythropoiesis</strong>, often with <strong>thrombocytopenia</strong> and <strong>neutropenia</strong>, is seen.</p>\n<p>MDS is a disease of the elderly; the mean age at onset is older than <strong>70 years </strong>(option C). There is a slight <strong>male</strong> predominance (option A). <strong>Secondary</strong> or <strong>therapy-related </strong>MDS is <strong>not age-related </strong>(option B). It occurs as a late toxicity of cancer treatment; <strong>radiation\u00a0</strong>(option D) and the radiomimetic <strong>alkylating agents</strong> such as busulfan, nitrosourea, or procarbazine (with a latent period of 5\u20137 years); or the <strong>DNA topoisomerase inhibitors</strong> (2-year latency). Acquired <strong>aplastic anemia</strong>, <strong>Fanconi anemia</strong>, and other constitutional marrow failure diseases can evolve into MDS.</p>\n<p><strong>Anemia</strong> dominates the early course. Most symptomatic patients complain of the gradual onset of fatigue and weakness, dyspnea, and pallor.\u00a0<strong>Platelets</strong> also are <strong>large</strong> and lack granules. In functional studies, they may show marked abnormalities, and patients may have bleeding symptoms despite seemingly adequate numbers. Neutrophils are <strong>hypo-granulated</strong>; have <strong>ringed</strong>, or abnormally segmented nuclei; contain <strong>Do\u0308hle bodies</strong>; and may be functionally deficient. Circulating <strong>myeloblasts</strong> usually correlate with marrow blast numbers, and their quantity is important for <strong>classification</strong> and <strong>prognosis</strong>.\u00a0</p>\n<p>The <strong>bone marrow</strong> is usually <strong>normal</strong> or <strong>hypercellular</strong>, but in about 20% of cases, it is sufficiently hypocellular to lead to confusion with aplastic anemia. The following are commonly observed: dyserythropoietic changes (especially nuclear abnormalities) and <strong>ringed sideroblasts</strong> in the erythroid lineage; hypogranulation and <strong>hyposegmentation </strong>in granulocytic precursors, with an increase in myeloblasts; and megakaryocytes showing reduced numbers of or disorganized nuclei.\u00a0</p>\n<p>Only <strong>hematopoietic stem cell transplantation</strong> offers a cure for MDS. The hypomethylating agents <strong>azacitidine</strong> and <strong>decitabine</strong> are frequently used in bone marrow failure clinics. <strong>Lenalidomide</strong>, a thalidomide derivative with a more favorable toxicity profile, is particularly effective in reversing anemia in MDS patients with 5q\u2013 syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which among the following is not a growth-promoting oncogene?",
    "choices": [
      {
        "id": 1,
        "text": "FGF"
      },
      {
        "id": 2,
        "text": "PDGF"
      },
      {
        "id": 3,
        "text": "TGF beta"
      },
      {
        "id": 4,
        "text": "TGF alpha"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>TGF beta</strong> is not a growth-promoting oncogene among the listed options.\u00a0</p>\n<p><strong>TGF beta</strong> (Transforming Growth Factor beta) primarily acts as a <strong>regulatory molecule</strong>\u00a0In normal cells, TGF beta functions mainly as a <strong>tumor suppressor</strong> by <strong>inhibiting cell proliferation,</strong> inducing apoptosis (programmed cell death), and promoting differentiation. It helps maintain tissue homeostasis and prevents the uncontrolled cell growth that can lead to cancer. In the <strong>early stages</strong> of <strong>tumorigenesis,</strong> TGF beta exerts <strong>anti-proliferative</strong> effects.</p>\n<p><strong>FGF</strong> (Fibroblast Growth Factor) is a family of <strong>growth factors</strong> involved in various processes, including <strong>angiogenesis, wound healing,</strong> and embryonic development. Some members of the FGF family can act as <strong>oncogenes,</strong> meaning they <strong>promote cell proliferation</strong> and survival, which can contribute to the development and progression of cancers. (Option A)</p>\n<p><strong>PDGF</strong> (Platelet-Derived Growth Factor) is another crucial growth factor that regulates cell growth and division. In the context of cancer, PDGF is often implicated due to its role in <strong>promoting cellular proliferation</strong> and survival. <strong>Dysregulation</strong> of <strong>PDGF signaling pathways</strong> is commonly observed in various tumors, making it a significant contributor to oncogenesis. (Option B)</p>\n<p><strong>TGF alpha</strong> (Transforming Growth Factor alpha) is a growth factor that binds to the <strong>EGF (Epidermal Growth Factor)</strong> receptor, promoting cell proliferation and survival. TGF alpha is frequently overexpressed in various types of cancers, where it stimulates the growth of tumor cells. Its ability to drive cellular proliferation through the activation of EGF receptors classifies it as a growth-promoting oncogene, contributing to the malignancy of cancers where it is overexpressed.(Option D)</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which vacutainer is used in electrolyte estimation?",
    "choices": [
      {
        "id": 1,
        "text": "Green"
      },
      {
        "id": 2,
        "text": "Lavender"
      },
      {
        "id": 3,
        "text": "Yellow"
      },
      {
        "id": 4,
        "text": "Gray"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>\u00a0</p>\n<table style=\"border-collapse: collapse; width: 100%;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 32.0511%;\">Vacutainer</td>\n<td style=\"width: 32.0511%;\">Additive</td>\n<td style=\"width: 32.0511%;\">Uses</td>\n</tr>\n<tr>\n<td style=\"width: 32.0511%;\"><strong>\u00a0Blue</strong></td>\n<td style=\"width: 32.0511%;\">Sodium citrate</td>\n<td style=\"width: 32.0511%;\">\n<p>Coagulation tests (APTT and prothrombin time)</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 32.0511%;\"><strong>Lavender</strong></td>\n<td style=\"width: 32.0511%;\">EDTA</td>\n<td style=\"width: 32.0511%;\">CBC, HbA1C <strong>\u00a0(Option A)</strong></td>\n</tr>\n<tr>\n<td style=\"width: 32.0511%;\"><strong>Yellow</strong></td>\n<td style=\"width: 32.0511%;\">Acid-citrate-dextrose</td>\n<td style=\"width: 32.0511%;\">HLA tissue typing, paternity testing, DNA studies <strong>(Option C)</strong></td>\n</tr>\n<tr>\n<td style=\"width: 32.0511%;\"><strong>Gray</strong></td>\n<td style=\"width: 32.0511%;\">Sodium fluoride and potassium oxalate</td>\n<td style=\"width: 32.0511%;\">Blood glucose estimation <strong>(Option D)</strong></td>\n</tr>\n<tr>\n<td style=\"width: 32.0511%;\"><strong>Green</strong></td>\n<td style=\"width: 32.0511%;\">Lithium heparin</td>\n<td style=\"width: 32.0511%;\">Chemistries <strong>(Option B)</strong></td>\n</tr>\n</tbody>\n</table>\n<p>Note: If <strong>serum electrolytes</strong> asked in the question - <strong>yellow bulb</strong> . If <strong>electrolyte</strong> only asked in the question- <strong>green bulb</strong>.</p>\n<p>Yellow bulb is ideal for testing serum electrolytes like sodium, potassium, and chloride because they allow easy separation of serum after centrifugation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6126edb63268400db7ed0d1af5e777d8x950x900.JPEG"
    ]
  },
  {
    "text": "Match the following with appropriate disorder.",
    "choices": [
      {
        "id": 1,
        "text": "i-b, ii-c, iii-a, iv-d"
      },
      {
        "id": 2,
        "text": "i-d, ii-c, iii-b, iv-a"
      },
      {
        "id": 3,
        "text": "i-b, ii-a, iii-c, iv-d"
      },
      {
        "id": 4,
        "text": "i-a, ii-b, iii-d, iv-c"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correct marking is<strong> i-d, ii-c, iii-b, iv-a.</strong></p>\n<table style=\"border-collapse: collapse; width: 69.0563%;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 48.0237%;\">i. Autosomal recessive\u00a0</td>\n<td style=\"width: 51.9763%;\">d. Cystic fibrosis</td>\n</tr>\n<tr>\n<td style=\"width: 48.0237%;\">ii. Mitochondrial \u00a0</td>\n<td style=\"width: 51.9763%;\">c. Leber\u2019s disease</td>\n</tr>\n<tr>\n<td style=\"width: 48.0237%;\">iii. X-linked recessive\u00a0</td>\n<td style=\"width: 51.9763%;\">b. Duchenne\u2019s muscular dystrophy</td>\n</tr>\n<tr>\n<td style=\"width: 48.0237%;\">iv. Trinucleotide repeats</td>\n<td style=\"width: 51.9763%;\">\u00a0a. Spinomuscular atrophy</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Cystic fibrosis:</strong> An <strong>autosomal recessive</strong> disorder caused by mutations in the <strong>CFTR gene.</strong> Affects the lungs, pancreas, and other organs, causing thick <strong>mucus buildup</strong> that leads to breathing difficulties and digestive issues.</p>\n<p><strong>Leber\u2019s hereditary optic neuropathy</strong> (Leber\u2019s disease): A<strong> mitochondrial disorder</strong>, as it is inherited maternally due to defects in mitochondrial DNA. <strong>Sudden vision</strong> loss due to damage to the optic nerve, often affecting young adults.</p>\n<p><strong>Duchenne\u2019s muscular dystrophy</strong>: An <strong>X-linked recessive disorder</strong> caused by mutations in the dystrophin gene on the X chromosome. A severe form of muscular dystrophy that primarily affects boys, leading to progressive <strong>muscle weakness</strong> and <strong>loss of mobility.</strong></p>\n<p><strong>Spinomuscular atrophy:</strong> Associated with <strong>trinucleotide repeat expansions</strong> (e.g., <strong>CAG</strong> repeats in some forms) leading to <strong>progressive muscle wasting</strong>. Affects <strong>motor neurons</strong> in the <strong>spinal cord</strong>, leading to muscle weakness and atrophy, often caused by mutations in the <strong>SMN1 gene.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following",
    "choices": [
      {
        "id": 1,
        "text": "a-i, b-ii, c-iii, d-iv"
      },
      {
        "id": 2,
        "text": "a-iii, b-ii, c-iv, d-i"
      },
      {
        "id": 3,
        "text": "a-ii, b-iii, c-iv, d-i"
      },
      {
        "id": 4,
        "text": "a-iv, b-iii, c-ii, d-i"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>a-iii, b-ii, c-iv, d-i</strong> is the correct match</p>\n<table style=\"border-collapse: collapse; width: 39.7081%;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 48.1216%;\">a. Medullary thyroid cancer</td>\n<td style=\"width: 51.8784%;\">iii. Calcitonin</td>\n</tr>\n<tr>\n<td style=\"width: 48.1216%;\">b. Hepatoblastoma</td>\n<td style=\"width: 51.8784%;\">\u00a0ii. AFP</td>\n</tr>\n<tr>\n<td style=\"width: 48.1216%;\">c. Choriocarcinoma</td>\n<td style=\"width: 51.8784%;\">iv. Beta HCG</td>\n</tr>\n<tr>\n<td style=\"width: 48.1216%;\">d. Pheochromocytoma</td>\n<td style=\"width: 51.8784%;\">i. Catecholamines</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0<br /><strong>Medullary thyroid carcinoma</strong> is a tumor of parafollicular (C cells) derived from the neural crest. Histological analysis shows characteristic amyloid stroma. High levels of <strong>calcitonin</strong> and carcinoembryonic antigen are produced by many medullary tumors.\u00a0</p>\n<p><strong>Hepatoblastoma</strong> presents as an asymptomatic mass in the right upper quadrant of the abdomen. It mostly arises from the right lobe of the liver. Patients have non-specific symptoms such as fever, fatigue, weight loss, and anorexia. A biopsy of the liver mass is necessary to make the diagnosis. <strong>Alpha-fetoprotein (AFP)</strong> is a useful tumor marker that is used in diagnosis and monitoring.\u00a0</p>\n<p><strong>Choriocarcinoma </strong>is a type of mixed germ cell tumor. It is highly vascular. Histologically, the tumor shows syncytiotrophoblasts and cytotrophoblasts. It secretes large quantities of <strong>human chorionic gonadotropin (hCG) </strong>hormone, which is used as a tumor marker in the diagnosis and management of the tumor.\u00a0</p>\n<p><strong>Pheochromocytoma</strong> is a <strong>catecholamine</strong>-secreting tumor derived from the chromaffin cells of the adrenal medulla. It most commonly presents as a classic triad of intermittent headache, palpitation, and profuse sweating, along with hypertension.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Epithelial-mesenchymal transition induced by which pair of transcription factors?",
    "choices": [
      {
        "id": 1,
        "text": "TF IIA & TF IIB"
      },
      {
        "id": 2,
        "text": "Cathepsin & MMP8"
      },
      {
        "id": 3,
        "text": "SNAIL & TWIST"
      },
      {
        "id": 4,
        "text": "STAT-5 & HIF- 1alpha"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Epithelial-mesenchymal transition is induced by <strong>SNAIL &amp; TWIST.</strong></p>\n<p><strong>Epithelial-mesenchymal transition (EMT)</strong> is a process where epithelial cells lose their cell polarity and adhesion properties, transitioning into a more motile mesenchymal cell phenotype. This is critical in embryogenesis, wound healing, and cancer metastasis.</p>\n<p><strong>SNAIL and TWIST</strong> encode <strong>transcription factors </strong>whose primary function is to promote epithelial-to-mesenchymal transition (EMT). SNAIL and TWIST downregulate E-cadherin expression.</p>\n<ul>\n<li>In EMT, carcinoma cells downregulate certain epithelial markers (e.g., E-cadherin) and upregulate certain mesenchymal markers (e.g. vimentin and smooth muscle actin).</li>\n<li>This favors the development of a promigratory phenotype that is essential for metastasis.</li>\n<li>Loss of E-cadherin expression seems to be a key event in EMT.</li>\n<li>EMT has been documented mainly in breast carcinoma</li>\n</ul>\n<p>Other Options:</p>\n<p><strong>Option A: TF IIA &amp; TF IIB: </strong>These are <strong>general transcription factors</strong> involved in the assembly of the transcription initiation complex, not specific to EMT.</p>\n<p><strong>Option B: Cathepsin &amp; MMP8: </strong>These are <strong>proteolytic enzymes</strong> involved in extracellular matrix remodeling, which may assist invasion during EMT but do not directly induce it.</p>\n<p><strong>Option D: STAT-5 &amp; HIF-1\u03b1: </strong>While these factors are involved in cellular responses to cytokines and hypoxia, respectively, they are <strong>not directly linked</strong> to the initiation of EMT.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young child presents with bleeding gums and bruising for two weeks. Bone marrow biopsy and flow cytometry were done. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "AML"
      },
      {
        "id": 2,
        "text": "CLL"
      },
      {
        "id": 3,
        "text": "ALL: B Phenotype"
      },
      {
        "id": 4,
        "text": "ALL: T phenotype"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Option D: In <strong>T ALL</strong>, the cells show markers such as intracellular tdt, CD 1, CD 2, CD 5, and CD 7 on flow cytometry. Tdt represents that the cells are blasts, CD 1, CD 2, CD 5 and CD 7 represent that cells are T cells.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/cc85fc028d704dfaabc93fa7f84819ee.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1a11415370b24af3b86fbe1edb61a4f1x720x1047.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f8774f1df0154601aa4354966de4cc57x355x512.JPEG"
    ]
  },
  {
    "text": "A patient presents with a lesion on the hand. Histopathology of the lesion is given. Which of the following is incorrect?",
    "choices": [
      {
        "id": 1,
        "text": "The lesion arises from cranial nerve"
      },
      {
        "id": 2,
        "text": "Verocay bodies are seen in light microscopy"
      },
      {
        "id": 3,
        "text": "Associated with neurofibromatosis"
      },
      {
        "id": 4,
        "text": "The lesion is malignant and metastasises frequently"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical and histopathological features are suggestive of <strong>Schwanomma,</strong> and they are <strong>benign</strong> and <strong>not malignant and do not metastasise</strong> frequently.</p>\n<p>Schwannomas are benign tumors that often arise from <strong>cranial (Option A) </strong>and peripheral nerves and exhibit Schwann cell differentiation. They can be sporadic or associated with neurofibromatosis-1 (NF1) or occur as vestibular schwannoma (acoustic neuroma) in cases of <strong>neurofibromatosis-2 (NF2) (Option C)</strong>.</p>\n<p>They present with features of nerve compression involving both the adjacent structures and the nerve involved. Most tumors occur in the cranium as acoustic neuromas that affect the vestibular branch of the VIII cranial nerve near the cerebellopontine angle. They present with tinnitus, hearing loss, and symptoms resulting from compression of the brainstem and cerebellum.</p>\n<p>Microscopically, it consists of dense areas called <strong>Antoni A</strong> area and loose areas called <strong>Antoni B </strong>area.</p>\n<ul>\n<li>The dense eosinophilic Antoni A areas contain spindle cells that are arranged into cellular intersecting fascicles. Palisading of nuclei is seen, with the nuclear-free zones between them, called <strong>Verocay bodies (Option B)</strong></li>\n<li>The Antoni B areas contain spindle-shaped cells that are loosely arranged and separated by a prominent myxoid extracellular matrix.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3d9f833ca9e845a9ad0c88510221812e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/161368f93d9341cb9a94985a5a639e5cx1279x662.JPEG"
    ]
  },
  {
    "text": "A 30-year-old female presented with weight loss and a cough. On investigation, it was found that she had pleural effusion, lymphadenopathy, and tree-in-bud appearance on the CT scan. On aspiration of the pleural fluid sample, adenosine deaminase was low, lymphocytes were high. What would be the finding in the aspirate of the mediastinal lymph node?",
    "choices": [
      {
        "id": 1,
        "text": "Necrotized epithelioid giant cells with necrosis"
      },
      {
        "id": 2,
        "text": "Reactive lymphoid hyperplasia"
      },
      {
        "id": 3,
        "text": "Fungal hyphae surrounded by lymphocytes"
      },
      {
        "id": 4,
        "text": "Anthracotic pigment"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical presentations of weight loss, cough, pleural effusion, and lymphadenopathy are suggestive of <strong>tuberculosis</strong>. <strong>Tree-in-bud appearance</strong> on the <strong>CT scan</strong> and <strong>elevated lymphocytes</strong> in the pleural fluid also point to TB. <strong>Necrotized epithelioid giant cells with necrosis</strong> would be the finding in the aspirate of the mediastinal lymph node, which is characteristic of <strong>tuberculosis</strong>.</p>\n<p>The given symptoms are classic symptoms of <strong>pulmonary tuberculosis</strong>. Elevated ADA levels are more commonly associated with TB-related pleural effusions. Low ADA can occur in some cases of TB-related pleural effusions. Lymphocytic pleural effusions are common in TB pleuritis.</p>\n<p>In tuberculosis, the characteristic histological feature in involved lymph nodes would be <strong>caseating</strong> <strong>granulomas</strong>, which consist of <strong>necrotized epithelioid giant cells</strong> with <strong>central necrosis</strong>. These granulomas are a hallmark of <strong>mycobacterial infection</strong> and are usually seen in the <strong>mediastinal lymph nodes</strong> of patients with active pulmonary tuberculosis.</p>\n<p>Other options</p>\n<p>Option B: <strong>Reactive lymphoid hyperplasia</strong> is typically seen in<strong> viral infections </strong>or other causes of non-specific lymphadenopathy, but it is not typical of tuberculosis.</p>\n<p>Option C: <strong>Fungal hyphae</strong> surrounded by <strong>lymphocytes</strong> would suggest a <strong>fungal infection</strong> (e.g., histoplasmosis or coccidioidomycosis), but the overall presentation in the given scenario does not point toward a fungal infection.</p>\n<p>Option D: <strong>Anthracotic pigment</strong> is seen in the lungs and lymph nodes of individuals with <strong>chronic exposure to coal dust</strong> or <strong>pollution</strong> but is not associated with tuberculosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following:",
    "choices": [
      {
        "id": 1,
        "text": "a-iv, b-ii, c-iii, d-i"
      },
      {
        "id": 2,
        "text": "a-iii, b-i, c-iv, d-ii"
      },
      {
        "id": 3,
        "text": "a-i,b-iv,c-ii,d-iii"
      },
      {
        "id": 4,
        "text": "a-ii, b-iii, c-i, d-iv"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Michaelis Gutmann bodies</strong> seen in Malakoplakia:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/18270fc9b2b041f9b419b13217194b05x1280x1066.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4bf0a1463b1e439da24ab459c6db0cbdx720x919.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/94f0b8c1912d43029e931e9b0b31c9f3x1279x1152.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b6839bd94f05445c9a909f8f3608ed6fx1279x1079.JPEG"
    ]
  },
  {
    "text": "All are hereditary causes of thrombosis except?",
    "choices": [
      {
        "id": 1,
        "text": "PNH"
      },
      {
        "id": 2,
        "text": "Protein S deficiency"
      },
      {
        "id": 3,
        "text": "Antithrombin deficiency"
      },
      {
        "id": 4,
        "text": "Homocystinuria"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Paroxysmal nocturnal hemoglobinuria (PNH) is not a hereditary cause of thrombosis.</p>\n<p><strong>PNH</strong> is an acquired disorder where RBCs are deficient in membrane-bound glycosylphosphatidylinositol (GPI)- CD55 (decay accelerating factor)and CD59 (membrane inhibitor of reactive lysis), which causes complement-mediated intravascular lysis of RBCs. It is characterised by a triad of<strong> pancytopenia </strong>with hypercellular marrow,<strong> nocturnal hemoglobinuria</strong> (decrease in blood pH during sleep), and <strong>acquired thrombosis</strong>.</p>\n<p>Hypercoagulable states or thrombophilias (thrombosis) can be inherited or acquired:</p>\n<p><strong>Inherited</strong> causes include:</p>\n<ul>\n<li>Factor V Leiden mutation</li>\n<li>Prothrombin mutation</li>\n<li>Protein C deficiency</li>\n<li><strong>Protein S deficiency</strong> (Option B)</li>\n<li><strong>Antithrombin III deficiency</strong> (Option C)</li>\n<li><strong>Homocystinuria </strong>(Option D)</li>\n</ul>\n<p><br /><strong>Acquired</strong> causes include:</p>\n<ul>\n<li>Surgery</li>\n<li>Malignancy</li>\n<li>Antiphospholipid syndrome</li>\n<li>Trauma</li>\n<li>Pregnancy</li>\n<li>Long-haul travel</li>\n<li>Obesity</li>\n<li>Oral contraceptives/hormone replacement</li>\n<li>Myeloproliferative disorders</li>\n<li>Polycythemia vera</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which anticoagulant is used in the test tube for estimating Hba1c?",
    "choices": [
      {
        "id": 1,
        "text": "Warfarin"
      },
      {
        "id": 2,
        "text": "Sodium Fluoride"
      },
      {
        "id": 3,
        "text": "EDTA"
      },
      {
        "id": 4,
        "text": "Heparin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>EDTA </strong>is used in test tubes as an anticoagulant for <strong>estimating HbA1C.</strong></p>\n<p><strong>EDTA </strong>(ethylenediaminetetraacetic acid) is used for estimating HbA1c because it <strong>prevents clotting</strong> and<strong> preserves</strong> the <strong>integrity</strong> of the <strong>red blood cells</strong> for accurate measurement of <strong>glycated hemoglobin</strong>. It is a <strong>chelating agent</strong>, that works by<strong> binding to calcium ions</strong> in the blood.</p>\n<p><strong>Other Options:</strong></p>\n<p><strong>Option A: Warfarin </strong>is an oral anticoagulant. It is <strong>not used</strong> in <strong>blood collection tubes</strong>. It is a therapeutic anticoagulant, not suitable for preserving blood samples for laboratory testing, such as HbA1c.</p>\n<p><strong>Option B: Sodium Fluoride </strong>is used in <strong>grey-top tubes </strong>for blood glucose testing. It is specific for <strong>glucose preservation</strong>, not for HbA1c estimation, as it does not effectively prevent clotting or preserve red blood cells.</p>\n<p><strong>Option D: Heparin </strong>is used in <strong>green-top tubes </strong>to collect <strong>plasma samples</strong>. It can interfere with some analytical methods for measuring glycated hemoglobin and does not preserve red blood cells effectively for this purpose.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Most common cause of inherited coagulopathy",
    "choices": [
      {
        "id": 1,
        "text": "Factor V leiden mutation"
      },
      {
        "id": 2,
        "text": "Antithrombin III deficiency"
      },
      {
        "id": 3,
        "text": "Protein C deficiency"
      },
      {
        "id": 4,
        "text": "Prothrombin G20210A"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most common genetic cause of <strong>inherited coagulopathy</strong> is the <strong>Factor V Leiden mutation</strong>.</p>\n<p><strong>Primary (inherited) hypercoagulability</strong> is most often caused by mutations in the <strong>Factor V</strong> and <strong>prothrombin genes</strong>. Factor V Leiden mutation is the most common cause, followed by prothrombin G20210A mutation.</p>\n<p>The Leiden mutation is inherited in an autosomal dominant pattern. The mutation makes Factor V resistant to cleavage and inactivation by protein C. This leads to the inactivation of an important antithrombotic counterregulatory pathway.</p>\n<p>Protein C, Protein S, and Antithrombin III deficiency are rare causes of primary hypercoagulability.</p>\n<p>Other options:</p>\n<p>Option B: <strong>Protein C deficiency</strong> causes thrombosis in teenagers. It may also be induced by liver dysfunction, vitamin K antagonists, renal failure, DIC, and active thrombosis.</p>\n<p>Option C: <strong>Antithrombin III</strong> forms a complex with thrombin by binding to heparin on endothelial cells. This complex inhibits coagulation. Its deficiency presents as early-age thrombosis (less than 50 years old) and carries the highest risk for thrombotic events among the inherited thrombophilias.</p>\n<p>Option D: The <strong>prothrombin G20210A mutation</strong> results in increased levels of prothrombin, which demonstrates a higher risk for arterial and venous thrombotic events.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the Following diseases with their respective gene mutation",
    "choices": [
      {
        "id": 1,
        "text": "a-i, b-ii, c-iii, d-iv"
      },
      {
        "id": 2,
        "text": "a-ii, b-iii, c-i, d-iv"
      },
      {
        "id": 3,
        "text": "a-iii, b-i, c-iv, d-ii"
      },
      {
        "id": 4,
        "text": "a-iv, b-ii, c-iii, d-i"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>a-iii, b-i, c-iv, d-ii</strong> is the correct match of the diseases with their respective gene mutations</p>\n<p>Tumor suppressor genes are the genes that control the proliferation of the cells, but abnormalities in these genes lead to failure of growth inhibition, which is one of the molecular hallmarks of carcinogenesis.\u00a0</p>\n<p>Mutated tumor suppressor genes lead to many familial syndromes, such as :</p>\n<table style=\"border-collapse: collapse; width: 45.3149%; height: 403.171px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">\u00a0Familial Syndrome</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">Mutated Tumor suppressor gene</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Components of syndromes</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\"><strong>Familial adenomatous polyposis</strong></td>\n<td style=\"width: 13.4172%; height: 22.3984px;\"><strong>APC</strong></td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Carcinoma of the stomach, colon, pancreas</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Neurofibromatosis I</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">NF1</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Neurofibroma, Malignant peripheral nerve sheath tumors</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Neurofibromatosis II</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">NF2</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Acoustic schwannoma and meningioma</td>\n</tr>\n<tr style=\"height: 89.5938px;\">\n<td style=\"width: 32.0837%; height: 89.5938px;\"><strong>Tuberous sclerosis</strong></td>\n<td style=\"width: 13.4172%; height: 89.5938px;\"><strong>TSC1</strong></td>\n<td style=\"width: 54.4992%; height: 89.5938px;\">subependymal nodules, giant cell astrocytoma, hypomelanotic macules (ash-leaf spots), facial angiofibroma, cardiac rhabdomyoma, renal angiomyolipoma</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Familial Retinoblastoma</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">RB</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Retinoblastoma, osteosarcoma\u00a0</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Cowden syndrome</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">PTEN</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Variety of benign skin, GI, and CNS growths</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Von-hippel lindau syndrome</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">VHL</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Renal cell carcinoma</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\"><strong>Peutz jeughers syndrome</strong></td>\n<td style=\"width: 13.4172%; height: 22.3984px;\"><strong>STK11</strong></td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">GI polyps, GI cancers, and pancreatic cancers</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\"><strong>Juvenile polyposis</strong></td>\n<td style=\"width: 13.4172%; height: 22.3984px;\"><strong>SMAD 4</strong></td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">-</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Familial Gastric cancer</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">CDH 1</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Gastric carcinoma</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Li Fraumeni syndrome</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">TP53</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Diverse cancers in the body</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Familial and male breast cancer, Ovarian carcinoma</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">BRCA1, BRCA 2</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">-</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Wilms tumor</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">WT 1</td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">-</td>\n</tr>\n<tr style=\"height: 22.3984px;\">\n<td style=\"width: 32.0837%; height: 22.3984px;\">Multiple Endocrine Neoplasia (MEN - 1)</td>\n<td style=\"width: 13.4172%; height: 22.3984px;\">MEN 1<br /><br /></td>\n<td style=\"width: 54.4992%; height: 22.3984px;\">Pituitary, parathyroid and Pancreatic endocrine tumours</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a component of MEN2B syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Medullary thyroid carcinoma"
      },
      {
        "id": 2,
        "text": "Marfanoid habitus"
      },
      {
        "id": 3,
        "text": "Mucosal ganglioneuromatosis"
      },
      {
        "id": 4,
        "text": "Parathyroid hyperplasia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Parathyroid hyperplasia is not a component of MEN2B syndrome. It is a feature of MEN2A.</p>\n<p><strong>MEN2B syndrome</strong> is a subtype of Multiple Endocrine Neoplasia type 2 (MEN2) caused by mutations in the RET proto-oncogene. Its characteristic features include:</p>\n<ol>\n<li><strong>Medullary Thyroid Carcinoma (MTC): </strong>(Option A): Aggressive and occurs early in life.</li>\n<li><strong>Pheochromocytoma: </strong>Tumor of the adrenal medulla</li>\n<li><strong>Mucosal Ganglioneuromatosis: \u00a0(Option C):</strong> A classic finding that is characterized by benign neuromas on mucosal surfaces such as the tongue, lips, and gastrointestinal tract.</li>\n<li><strong>Marfanoid Habitus: \u00a0(Option B): </strong>Long limbs, tall stature, and joint hypermobility.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '089 Pathology Ini-Cet 2024';
        let hierarchy = ["Marrow", "PYQs", "Pathology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>