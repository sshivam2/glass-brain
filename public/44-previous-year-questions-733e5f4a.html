<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>44 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pharmacology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">17</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>If codeine is coming to the market in combination with dextromethorphan as an anti-tussive, this combination ____________.</p>",
    "choices": [
      {
        "id": 1,
        "text": "Should not be used due to risk of addiction"
      },
      {
        "id": 2,
        "text": "Can be used as both have different mechanisms of action"
      },
      {
        "id": 3,
        "text": "Should not be used as it is irrational"
      },
      {
        "id": 4,
        "text": "Can be used to treat cough effectively"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer C - Should not be used as it is irrational</strong></p>\n\n<ul>\n\t<li><strong>Codeine </strong>and <strong>dextromethorphan </strong>are both antitussives that act on the central nervous system to suppress cough.</li>\n\t<li>Additionally, <span class=\"customMeta\" data-dictid=\"e7bbeaf7531692777184c116586ef7\">codeine</span> is an <span class=\"customMeta\" data-dictid=\"e22dbf6c52169277719441ac94a69e\">opioid</span> with risks of <span class=\"customMeta\" data-dictid=\"f6feed79981692777180c082188cc7\">addiction</span> and <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> depression, while <span class=\"customMeta\" data-dictid=\"56d115b220169277718668bf3af5b3\">dextromethorphan</span> is non-addictive.</li>\n\t<li>Combining them is irrational as they have similar mechanisms of action, offering no added benefit.</li>\n</ul>\n\n<p><strong>Should not be used due to risk of <span class=\"customMeta\" data-dictid=\"f6feed79981692777180c082188cc7\">addiction</span> (Option A) :</strong> Codeine, being an opioid, carries <span class=\"customMeta\" data-dictid=\"f6feed79981692777180c082188cc7\">addiction</span> potential, <span class=\"customMeta\" data-dictid=\"56d115b220169277718668bf3af5b3\">dextromethorphan</span> is not addictive. Combining these drugs does not increase the risk of addiction.</p>\n\n<p><strong>Can be used as both have different mechanisms of action (Option B):</strong> This option suggests the combination is beneficial because <span class=\"customMeta\" data-dictid=\"e7bbeaf7531692777184c116586ef7\">codeine</span> and <span class=\"customMeta\" data-dictid=\"56d115b220169277718668bf3af5b3\">dextromethorphan</span> have different mechanisms of action. However, both drugs act on the brain to suppress the <span class=\"customMeta\" data-dictid=\"8f02e74e821692777185a0c005c508\">cough</span> <span class=\"customMeta\" data-dictid=\"20f478f55f1692777197e351415f8f\">reflex</span> in a similar way, so combining them does not offer any additional <span class=\"customMeta\" data-dictid=\"8dfaeedbf91692777200561b2b1d2f\">therapeutic</span> benefit.</p>\n\n<p><strong>Can be used to treat <span class=\"customMeta\" data-dictid=\"8f02e74e821692777185a0c005c508\">cough</span> effectively (Option D) :</strong> This option implies the combination is effective for treating cough. However, combining <span class=\"customMeta\" data-dictid=\"e7bbeaf7531692777184c116586ef7\">codeine</span> with <span class=\"customMeta\" data-dictid=\"56d115b220169277718668bf3af5b3\">dextromethorphan</span> provides no extra benefit over using <span class=\"customMeta\" data-dictid=\"56d115b220169277718668bf3af5b3\">dextromethorphan</span> alone. The combination is considered irrational, and safer alternatives are available for <span class=\"customMeta\" data-dictid=\"8f02e74e821692777185a0c005c508\">cough</span> treatment.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient is on salbutamol and ipratropium but continues to have nocturnal exacerbations of asthma. What is the next step?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Oral corticosteroids"
      },
      {
        "id": 2,
        "text": "LABA plus inhalation steroids"
      },
      {
        "id": 3,
        "text": "Montelukast"
      },
      {
        "id": 4,
        "text": "Increase the dose of salbutamol"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B -</strong><strong> LABA plus <span class=\"customMeta\" data-dictid=\"0b1500fcd816927771900b59d16bde\">inhalation</span> steroids</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>1. Stepwise <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> management (GINA guidelines)</p>\n\n<p>Asthma treatment follows a step-up approach based on symptom control.</p>\n\n<p>For an adult with persistent symptoms despite SABA + LAMA:</p>\n\n<ul>\n\t<li>\n\t<p>If the patient is already on SABA (salbutamol) and LAMA (ipratropium) but still has <span class=\"customMeta\" data-dictid=\"d51601f2c41692777193ddfa55d163\">nocturnal</span> symptoms, this indicates uncontrolled asthma.</p>\n\t</li>\n\t<li>\n\t<p>The next controller step is to add an inhaled <span class=\"customMeta\" data-dictid=\"a3e96d80e9169277718551158bbcd4\">corticosteroid</span> (ICS) combined with a long-acting \u03b2\u2082-agonist (LABA).</p>\n\t</li>\n</ul>\n\n<p>2. ICS + LABA:</p>\n\n<ul>\n\t<li>\n\t<p>ICS: Reduces <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> (core <span class=\"customMeta\" data-dictid=\"54e0888a6616927771945a99208287\">pathology</span> in asthma).</p>\n\t</li>\n\t<li>\n\t<p>LABA: Provides long-acting bronchodilation, particularly useful for <span class=\"customMeta\" data-dictid=\"d51601f2c41692777193ddfa55d163\">nocturnal</span> symptoms (e.g., salmeterol, formoterol).</p>\n\t</li>\n\t<li>\n\t<p>Combination addresses both the <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> and <span class=\"customMeta\" data-dictid=\"9bde62b1091692777183cd433d9d47\">bronchospasm</span> components.</p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - Oral corticosteroids: </strong> Reserved for <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> severe exacerbations or very severe, uncontrolled <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> after inhaled therapy has been optimized; not the next immediate step here.</p>\n\n<p><strong>Option C - Montelukast:</strong> Leukotriene <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> antagonist; useful for allergic or exercise-induced asthma, but less effective than ICS + LABA for uncontrolled persistent asthma.</p>\n\n<p><strong>Option D - Increase <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">salbutamol</span> dose: </strong> SABA overuse does not control inflammation, can cause tolerance and side effects (tachycardia, hypokalemia).</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient with asthma on inhaled corticosteroids and LABA continues to have exacerbations. FEV1 is normal, and there is no improvement with salbutamol challenge. The symptoms worsen seasonally. Which of the following is the most appropriate next step?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Increase dose of ICS"
      },
      {
        "id": 2,
        "text": "Add LAMA"
      },
      {
        "id": 3,
        "text": "Add Theophylline"
      },
      {
        "id": 4,
        "text": "Add Omalizumab"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - Increase dose of ICS</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>This patient is <strong>uncontrolled on low- or moderate-dose <span class=\"customMeta\" data-dictid=\"e2c420c53d1692777189e40c773793\">ICS</span> + LABA</strong>.</li>\n\t<li>According to <strong>GINA stepwise therapy</strong>, the next step before adding advanced therapies is to <strong>optimize anti-inflammatory control by increasing the <span class=\"customMeta\" data-dictid=\"e2c420c53d1692777189e40c773793\">ICS</span> dose</strong>.</li>\n\t<li>Seasonal worsening points to allergic triggers, but biologics like <span class=\"customMeta\" data-dictid=\"38a6b74e4e169277719454007fa11a\">omalizumab</span> are reserved for severe, uncontrolled <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> despite <span class=\"customMeta\" data-dictid=\"c678bddb1d1692777192d2ee1ebd92\">maximal</span> inhaled therapy.</li>\n\t<li>Before stepping up therapy, clinicians must <strong>check adherence, <span class=\"customMeta\" data-dictid=\"302965be571692777190f632502628\">inhaler</span> technique, and remove triggers</strong>.</li>\n\t<li>Since FEV\u2081 is normal and there is no <span class=\"customMeta\" data-dictid=\"16abe8467e16927771837550ea9798\">bronchodilator</span> reversibility, the main aim is preventing exacerbations - which high-dose <span class=\"customMeta\" data-dictid=\"e2c420c53d1692777189e40c773793\">ICS</span> can better achieve.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"939\" src=\"https://image.prepladder.com/content/GftTORt8Inx8srJa6bi61755598714.png\" width=\"940\" /></p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<ul>\n\t<li><strong>Add LAMA (Option B):</strong> Tiotropium can be considered in Step 4/5 uncontrolled asthma, but it is generally added <strong>after</strong> optimizing <span class=\"customMeta\" data-dictid=\"e2c420c53d1692777189e40c773793\">ICS</span> dose, not before.</li>\n\t<li><strong>Add <span class=\"customMeta\" data-dictid=\"fa3cb2431b1692777200e3d12f2bcf\">Theophylline</span> (Option C):</strong> Due to its narrow <span class=\"customMeta\" data-dictid=\"8dfaeedbf91692777200561b2b1d2f\">therapeutic</span> index, drug interactions, and limited efficacy, <span class=\"customMeta\" data-dictid=\"fa3cb2431b1692777200e3d12f2bcf\">theophylline</span> is rarely used in modern <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> management.</li>\n\t<li><strong>Add <span class=\"customMeta\" data-dictid=\"38a6b74e4e169277719454007fa11a\">Omalizumab</span> (Option D):</strong> Anti-IgE therapy is for severe <span class=\"customMeta\" data-dictid=\"6ca07f1f771692777181a8a66497a2\">allergic asthma</span> with raised IgE and positive skin/RAST testing, uncontrolled despite high-dose <span class=\"customMeta\" data-dictid=\"e2c420c53d1692777189e40c773793\">ICS</span> + LABA. This patient has not yet reached that stage of management.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/GftTORt8Inx8srJa6bi61755598714.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following is NOT a side effect of salbutamol?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Tachycardia"
      },
      {
        "id": 2,
        "text": "Tolerance"
      },
      {
        "id": 3,
        "text": "Hypokalemia"
      },
      {
        "id": 4,
        "text": "Hypoglycemia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option is D: Hypoglycemia: </strong>Salbutamol, also known as albuterol, is a <span class=\"customMeta\" data-dictid=\"16abe8467e16927771837550ea9798\">bronchodilator</span> commonly used to treat <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> and other <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> conditions. While it has several potential adverse effects, <span class=\"customMeta\" data-dictid=\"78c658d4ed1692777189098c7544b9\">hypoglycemia</span> is not typically associated with <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">salbutamol</span> use.</p>\n\n<p>Hypoglycemia, or low <span class=\"customMeta\" data-dictid=\"88b48cf7241692777183e5f5b8adf1\">blood sugar</span> levels, is not a commonly reported adverse effect of salbutamol. It primarily acts on beta-2 <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> receptors in the lungs and has minimal effect on blood <span class=\"customMeta\" data-dictid=\"af3ae60c0c16927771889b84ca41c0\">glucose</span> levels.</p>\n\n<p><strong>Incorrect Options:</strong>\u00a0</p>\n\n<p><strong>Option A: Tachycardia: </strong>Salbutamol can cause an increase in heart rate (tachycardia) as it acts on beta-2 <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> receptors, which are present in the heart.</p>\n\n<p><strong>Option B: Tolerance: </strong>Prolonged use of <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">salbutamol</span> can lead to the development of tolerance, meaning that the body may become less responsive to the medication's effects over time. This may require adjustments in the <span class=\"customMeta\" data-dictid=\"b5bd69c9791692777186a40f45ffb6\">dosage</span> or additional medications.</p>\n\n<p><strong>Option C: Hypokalemia: </strong>Salbutamol can cause a decrease in <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"a995a613a016927771969d4395dc80\">potassium</span> levels (hypokalemia) due to its <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> of beta-2 <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> receptors, which can lead to increased <span class=\"customMeta\" data-dictid=\"12a6f23332169277718402ca6703e2\">cellular</span> <span class=\"customMeta\" data-dictid=\"cc20d2d7111692777201fb0caeb3f2\">uptake</span> of potassium.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following agents is not used in the management of bronchial asthma?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Phosphodiesterase inhibitors"
      },
      {
        "id": 2,
        "text": "Steroids"
      },
      {
        "id": 3,
        "text": "Beta-agonist"
      },
      {
        "id": 4,
        "text": "Cholinergic drugs"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer D - <span class=\"customMeta\" data-dictid=\"8656dac49a16927771846b41f8cf19\">Cholinergic</span> drugs<br />\n<br />\nExplanation: </strong></p>\n\n<p><strong>Cholinergic drugs</strong> are not used in bronchial <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> management, as <span class=\"customMeta\" data-dictid=\"8656dac49a16927771846b41f8cf19\">cholinergic</span> <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> can cause bronchoconstriction, worsening the condition.</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"4\" style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Drugs used in <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Category </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Examples </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>MOA</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Uses </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Short-acting beta-agonists (SABAs) </strong></p>\n\n\t\t\t<p><strong>(Option C)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Albuterol (Salbutamol), Levalbuterol</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Stimulates beta-2 <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> receptors, causing bronchial smooth muscle relaxation.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Acute relief of <span class=\"customMeta\" data-dictid=\"9bde62b1091692777183cd433d9d47\">bronchospasm</span> in <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> attacks (rescue medication).</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Long-acting beta-agonists (LABAs)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Salmeterol, Formoterol</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Prolonged <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> of beta-2 receptors for bronchodilation.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Maintenance therapy (always used with ICS).</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Anticholinergics (Short-acting)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Ipratropium</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Blocks <span class=\"customMeta\" data-dictid=\"0ad3c97c2916927771938768dcf298\">muscarinic</span> receptors, reducing bronchoconstriction.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Alternative or <span class=\"customMeta\" data-dictid=\"8fabe131a916927771802a448a329c\">additive</span> for <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> asthma, especially with SABAs.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Inhaled Corticosteroids (ICS) (Option B)</strong><br />\n\t\t\t\u00a0</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Beclomethasone, Budesonide, Fluticasone</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Reduces <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> and prevents exacerbations</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>First-line maintenance therapy in persistent asthma.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Leukotriene <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">Receptor</span> Antagonists (LTRAs)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Montelukast, Zafirlukast</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Blocks <span class=\"customMeta\" data-dictid=\"5a4fd169911692777191c1cb27b0d7\">leukotriene</span> receptors, reducing <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> and bronchoconstriction.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Maintenance therapy, especially in mild <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> or aspirin-induced asthma.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Mast Cell Stabilizers</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Sodium Cromoglycate, Nedocromil</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Inhibits <span class=\"customMeta\" data-dictid=\"1f95a52091169277719133cc234fe0\">mast</span> cell degranulation, reducing <span class=\"customMeta\" data-dictid=\"a993f205b0169277719284faad4c87\">mediator</span> release.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Preventive therapy for mild persistent <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> or exercise-induced asthma.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Biologics </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Omalizumab</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Binds to IgE, preventing its interaction with receptors on <span class=\"customMeta\" data-dictid=\"1f95a52091169277719133cc234fe0\">mast</span> cells.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Moderate to severe <span class=\"customMeta\" data-dictid=\"6ca07f1f771692777181a8a66497a2\">allergic asthma</span> uncontrolled with <span class=\"customMeta\" data-dictid=\"e2c420c53d1692777189e40c773793\">ICS</span> and LABAs.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Methylxanthines</strong></p>\n\n\t\t\t<p><strong>(Option A)</strong><br />\n\t\t\t\u00a0</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Theophylline, Aminophylline</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Non-selective <span class=\"customMeta\" data-dictid=\"646159048c1692777195054877afc9\">phosphodiesterase</span> <span class=\"customMeta\" data-dictid=\"f03ca2d2a716927771901227bc175a\">inhibition</span> leads to <span class=\"customMeta\" data-dictid=\"075923f4c01692777183a26fd689e3\">bronchodilation</span> and anti-inflammatory effects.</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Add-on therapy in severe or difficult-to-control asthma.</p>\n\n\t\t\t<p>Most commonly used in COPD rather than asthma.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Theophylline causes diuresis due to which of the following mechanisms?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Adenosine agonism"
      },
      {
        "id": 2,
        "text": "PDE 4 inhibition"
      },
      {
        "id": 3,
        "text": "Beta-2-agonism"
      },
      {
        "id": 4,
        "text": "PDE 3 inhibition"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A)\u00a0Adenosine antagonism</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Adenosine antagonism</strong> because <span class=\"customMeta\" data-dictid=\"fa3cb2431b1692777200e3d12f2bcf\">theophylline</span> causes <span class=\"customMeta\" data-dictid=\"09562877f516927771865e4cf1fd7e\">diuresis</span> by <span class=\"customMeta\" data-dictid=\"9dc12b322016927771830dff673eeb\">blocking</span> <span class=\"customMeta\" data-dictid=\"d3f6a49b7416927771802124ccddf0\">adenosine</span> receptors in the kidney, which reduces sodium <span class=\"customMeta\" data-dictid=\"3086fd09371692777197a351ddde07\">reabsorption</span> and increases <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> output.</p>\n\n<p><strong>Mechanism of Action of Theophylline:</strong></p>\n\n<ul>\n\t<li><strong>PDE Inhibition:</strong>\u00a0Nonselective <span class=\"customMeta\" data-dictid=\"f03ca2d2a716927771901227bc175a\">inhibition</span> of PDEs including <strong>PDE3</strong>, <strong>PDE4</strong>, and PDE5 increases <span class=\"customMeta\" data-dictid=\"a621be29da16927771901bc91014d1\">intracellular</span> cAMP and cGMP, leading to<strong> bronchodilation</strong>; PDE3 <span class=\"customMeta\" data-dictid=\"f03ca2d2a716927771901227bc175a\">inhibition</span> is a main mechanism of smooth muscle relaxation.\u00a0<strong>(Option B & D)</strong></li>\n\t<li><strong>Adenosine <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">Receptor</span> Antagonism:</strong> Blocks A1 and A2 receptors, reducing <span class=\"customMeta\" data-dictid=\"c9116ef24d16927771838d51f2946f\">bronchoconstriction</span> (via <span class=\"customMeta\" data-dictid=\"f03ca2d2a716927771901227bc175a\">inhibition</span> of <span class=\"customMeta\" data-dictid=\"b5d4ddbfe71692777189a12acd5502\">histamine</span> and <span class=\"customMeta\" data-dictid=\"5a4fd169911692777191c1cb27b0d7\">leukotriene</span> release). Also responsible for side effects like <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrhythmias, seizures, and diuresis.</li>\n\t<li><strong>Increased IL-10 Release:</strong> Enhances anti-inflammatory <span class=\"customMeta\" data-dictid=\"0ac01cc0c31692777185cae5f28175\">cytokine</span> IL-10, possibly via PDE inhibition.</li>\n\t<li><strong>Inhibits NF-\u03baB Translocation:</strong> Reduces <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> gene expression, especially at high concentrations.</li>\n\t<li><strong>Promotes Apoptosis: </strong>Induces <span class=\"customMeta\" data-dictid=\"4bfa3e6f2c1692777181c53b124cf7\">apoptosis</span> in eosinophils, neutrophils, and T lymphocytes through A2 <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> <span class=\"customMeta\" data-dictid=\"99de407a1516927771818ac910ab5f\">antagonism</span> and PDE inhibition.</li>\n\t<li><strong>Histone deacetylase (HDAC) Activation:</strong> Enhances <span class=\"customMeta\" data-dictid=\"a3e96d80e9169277718551158bbcd4\">corticosteroid</span> response by increasing HDAC2 activity via PI3K-\u03b4 <span class=\"customMeta\" data-dictid=\"f03ca2d2a716927771901227bc175a\">inhibition</span> at low <span class=\"customMeta\" data-dictid=\"8dfaeedbf91692777200561b2b1d2f\">therapeutic</span> concentrations.</li>\n</ul>\n\n<p style=\"text-align:center\"><img alt=\"PH138\" data-author=\"\" data-hash=\"11842\" data-license=\"\" data-source=\"\" data-tags=\"May2025\" src=\"https://image.prepladder.com/notes/EKWzz1rxxXDwcfGKYp8a1746436283.png\" /></p>\n\n<p><strong>Beta 2 agonism (Option C) </strong>is not seen with theophylline, and it does not act as a <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> 2 agonist.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/EKWzz1rxxXDwcfGKYp8a1746436283.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the most common drawback of the given device?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"Magnus Manske\" data-hash=\"\" data-license=\"CC BY SA 3.0\" data-source=\"https://en.wikipedia.org/wiki/File:Inhaler.jpg\" data-tags=\"\" height=\"364\" src=\"https://image.prepladder.com/content/utd2GBPj5jHP7OTdPJsA1745822551.png\" width=\"454\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Bacterial contamination"
      },
      {
        "id": 2,
        "text": "Does not provide multiple doses"
      },
      {
        "id": 3,
        "text": "Drug deposition in the oropharynx"
      },
      {
        "id": 4,
        "text": "Not portable"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer C - Drug deposition in the oropharynx</strong></p>\n\n<ul>\n\t<li><strong>Metered dose inhalers (MDIs) </strong>are commonly used to deliver medication directly into the <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> system to treat conditions such as <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> and COPD.</li>\n\t<li>However, one of the drawbacks of MDIs is that a significant portion of the medication can deposit in the <span class=\"customMeta\" data-dictid=\"4356afe522169277719436b593e4b1\">oropharynx</span> (back of the throat) instead of reaching the intended target in the lungs. This can reduce the effectiveness of the medication and may lead to inadequate symptom relief.</li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"BruceBlaus \" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://en.wikipedia.org/wiki/Inhaler_spacer\" data-tags=\"\" height=\"432\" src=\"https://image.prepladder.com/content/3nqEVVUcDmFyMpqtwasw1745822604.png\" width=\"515\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<ul>\n\t<li>Using a <strong>large-volume spacer</strong> will reduce the amount of drug deposited in the oropharynx, reducing the amount reaching GIT and reducing <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> side effects.</li>\n\t<li><strong>A <span class=\"customMeta\" data-dictid=\"0015d2217516927771985acdc14af9\">spacer</span> </strong>reduces the <span class=\"customMeta\" data-dictid=\"12c4510e191692777201c23ec126a3\">velocity</span> & size of particles entering the upper airways.</li>\n</ul>\n\n<p><strong>Bacterial <span class=\"customMeta\" data-dictid=\"22b9188ade169277718581ce9dc589\">contamination</span> (Option A)</strong> can be a concern with medical devices, but it is not the most common issue associated with metered-dose inhalers. Proper cleaning and maintenance can reduce the risk of contamination.</p>\n\n<p><strong>Does not provide multiple doses (Option B): </strong>Metered-dose inhalers are designed to provide multiple doses. They contain a canister that delivers a specific number of doses, with each actuation releasing a measured amount of medication. It is important to track the number of remaining doses to ensure the <span class=\"customMeta\" data-dictid=\"302965be571692777190f632502628\">inhaler</span> isn't empty when needed.</p>\n\n<p><strong>Not portable (Option D): </strong>Metered-dose inhalers are <span class=\"customMeta\" data-dictid=\"c8b985e4811692777184848b0cab5d\">compact</span> and portable, making them easy to carry and use in different settings. Therefore, \"not portable\" is not a valid drawback of metered-dose inhalers.</p>",
    "question_images": [
      "https://image.prepladder.com/content/utd2GBPj5jHP7OTdPJsA1745822551.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/3nqEVVUcDmFyMpqtwasw1745822604.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following statements is incorrect regarding Samter's triad?</p>",
    "choices": [
      {
        "id": 1,
        "text": "It is only triggered by aspirin."
      },
      {
        "id": 2,
        "text": "Other NSAIDs with COX-1 blocking ability can also trigger symptoms."
      },
      {
        "id": 3,
        "text": "It is characterized by asthma, nasal polyps, and aspirin sensitivity."
      },
      {
        "id": 4,
        "text": "It involves overproduction of leukotrienes."
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a0</strong><strong>It is only <span class=\"customMeta\" data-dictid=\"3978e9614f1692777200abbe4cfa34\">triggered</span> by <span class=\"customMeta\" data-dictid=\"deba671f4716927771828c95a320e5\">aspirin</span> (Incorrect Statement):</strong></p>\n\n<ul>\n\t<li>This statement is incorrect because Samter's triad, also known as aspirin-exacerbated <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> disease (AERD), can be <span class=\"customMeta\" data-dictid=\"3978e9614f1692777200abbe4cfa34\">triggered</span> not only by <span class=\"customMeta\" data-dictid=\"deba671f4716927771828c95a320e5\">aspirin</span> but also by other nonsteroidal anti-inflammatory drugs (NSAIDs) that <span class=\"customMeta\" data-dictid=\"6b3de87b7c16927771901326efbcd2\">inhibit</span> cyclooxygenase-1 (COX-1). These include ibuprofen, naproxen, and others that block COX-1. Therefore, patients with Samter's <span class=\"customMeta\" data-dictid=\"1a0a43d74e16927772004473a05ae3\">triad</span> must avoid all COX-1 inhibiting NSAIDs, not just aspirin.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option B - Other NSAIDs with COX-1 <span class=\"customMeta\" data-dictid=\"9dc12b322016927771830dff673eeb\">blocking</span> ability can also trigger symptoms (Correct Statement):</strong></p>\n\n<ul>\n\t<li>\n\t<p>This is a correct statement. In Samter's triad, the use of NSAIDs that <span class=\"customMeta\" data-dictid=\"6b3de87b7c16927771901326efbcd2\">inhibit</span> COX-1 can trigger symptoms like <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> exacerbation, <span class=\"customMeta\" data-dictid=\"31c5d0e75f16927771938d8e2daa4c\">nasal</span> congestion, and other <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> issues due to their impact on the <span class=\"customMeta\" data-dictid=\"403abe852c169277718297dd131d29\">arachidonic acid</span> pathway, leading to increased production of leukotrienes.</p>\n\t</li>\n</ul>\n\n<p><strong>Option C - It is characterized by asthma, <span class=\"customMeta\" data-dictid=\"31c5d0e75f16927771938d8e2daa4c\">nasal</span> polyps, and <span class=\"customMeta\" data-dictid=\"deba671f4716927771828c95a320e5\">aspirin</span> sensitivity (Correct Statement):</strong></p>\n\n<ul>\n\t<li>This is a correct statement. Samter's <span class=\"customMeta\" data-dictid=\"1a0a43d74e16927772004473a05ae3\">triad</span> is defined by the presence of three key features: asthma, chronic <span class=\"customMeta\" data-dictid=\"ff83ca45f61692777197d9b9e93792\">rhinosinusitis</span> with <span class=\"customMeta\" data-dictid=\"31c5d0e75f16927771938d8e2daa4c\">nasal</span> polyps, and sensitivity to <span class=\"customMeta\" data-dictid=\"deba671f4716927771828c95a320e5\">aspirin</span> or other COX-1 inhibiting NSAIDs.</li>\n</ul>\n\n<p><strong>Option D - It involves overproduction of leukotrienes (Correct Statement):</strong></p>\n\n<ul>\n\t<li><strong>Explanation:</strong> This is a correct statement. In Samter's triad, the <span class=\"customMeta\" data-dictid=\"f03ca2d2a716927771901227bc175a\">inhibition</span> of COX-1 by <span class=\"customMeta\" data-dictid=\"deba671f4716927771828c95a320e5\">aspirin</span> or NSAIDs leads to the overproduction of leukotrienes, which are <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> mediators that contribute to the symptoms of asthma, <span class=\"customMeta\" data-dictid=\"31c5d0e75f16927771938d8e2daa4c\">nasal</span> polyps, and other <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> issues.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Paradoxical bronchoconstriction is seen with ipratropium bromide due to all of the following except?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Hypertonic saline"
      },
      {
        "id": 2,
        "text": "EDTA"
      },
      {
        "id": 3,
        "text": "Benzalkonium chloride"
      },
      {
        "id": 4,
        "text": "Prejunctional M2 receptor Blockade"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer A - <span class=\"customMeta\" data-dictid=\"f97c39ea7a1692777189ea0ea68b49\">Hypertonic</span> saline:</strong></p>\n\n<ul>\n\t<li>Paradoxical <span class=\"customMeta\" data-dictid=\"c9116ef24d16927771838d51f2946f\">bronchoconstriction</span> with ipratropium <span class=\"customMeta\" data-dictid=\"749f9a02041692777183f4f13efcc5\">bromide</span> is not seen with <span class=\"customMeta\" data-dictid=\"f97c39ea7a1692777189ea0ea68b49\">hypertonic</span> saline; rather, it occurs with <span class=\"customMeta\" data-dictid=\"6c1412e72916927771893d06180642\">hypotonic</span> <span class=\"customMeta\" data-dictid=\"894da1dfe6169277719871d7210619\">saline</span> nebulization.</li>\n\t<li>Paradoxical <span class=\"customMeta\" data-dictid=\"c9116ef24d16927771838d51f2946f\">bronchoconstriction</span> refers to a situation where instead of dilating the airways, the medication actually causes the airways to constrict.</li>\n\t<li>Adverse effects associated with the use of <strong>Ipratropium bromide</strong>, an <span class=\"customMeta\" data-dictid=\"9b4dbbb3321692777181e6fe172b88\">anticholinergic</span> medication used for the treatment of <span class=\"customMeta\" data-dictid=\"9bde62b1091692777183cd433d9d47\">bronchospasm</span> in conditions such as <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> and <span class=\"customMeta\" data-dictid=\"cc2003e35d1692777184a26dae1a68\">chronic obstructive <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> disease</span> (COPD).</li>\n\t<li>It may occur due to:</li>\n\t<li><strong>Hypotonic</strong> <span class=\"customMeta\" data-dictid=\"7977f4bc591692777193df8f2e8ccd\">nebulizer</span> solution</li>\n\t<li>Antibacterial additives - <strong>Benzalkonium</strong> <strong>chloride</strong> and <strong>ETDA (Option B and C)</strong></li>\n\t<li><strong>Prejunctional</strong> <strong>M2</strong> <strong>receptor</strong> <strong>blockade</strong> on the <span class=\"customMeta\" data-dictid=\"8656dac49a16927771846b41f8cf19\">cholinergic</span> nerves present in the airway, causes increased release of acetylcholine, leading to <span class=\"customMeta\" data-dictid=\"c9116ef24d16927771838d51f2946f\">bronchoconstriction</span> <strong>(Option D)</strong></li>\n\t<li>Not seen with Tiotropium bromide, as it is selective for M1 and M3 receptors and does not cause prejunctional M2 <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> blockade.</li>\n</ul>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"425\" src=\"https://image.prepladder.com/content/zKPKmPT23Z5aBJZk7t281745570148.png\" width=\"600\" /></p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/zKPKmPT23Z5aBJZk7t281745570148.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following is a centrally acting opioid antitussive?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Ambroxol"
      },
      {
        "id": 2,
        "text": "Diphenoxylate"
      },
      {
        "id": 3,
        "text": "Levopropoxyphene"
      },
      {
        "id": 4,
        "text": "Levorphanol"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer C - Levopropoxyphene</strong></p>\n\n<ul>\n\t<li><strong>Levopropoxyphene </strong>is a centrally acting <span class=\"customMeta\" data-dictid=\"e22dbf6c52169277719441ac94a69e\">opioid</span> <span class=\"customMeta\" data-dictid=\"2fae9d36501692777181061b2b43fc\">antitussive</span> drug that is used to suppress the <span class=\"customMeta\" data-dictid=\"8f02e74e821692777185a0c005c508\">cough</span> <span class=\"customMeta\" data-dictid=\"20f478f55f1692777197e351415f8f\">reflex</span> in the brain.</li>\n\t<li>Dose - 50-100 mg every 4 hours.</li>\n\t<li>It has no <span class=\"customMeta\" data-dictid=\"fe706b145216927771819c62504cd8\">analgesic</span> property ,but it may cause sedation</li>\n\t<li>It has a high abuse potential thus it was withdrawn from the market in several countries.</li>\n\t<li>It may lead to <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> depression and <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrhythmias.</li>\n</ul>\n\n<p><strong>Ambroxol (Option A) </strong>is a <span class=\"customMeta\" data-dictid=\"d3957bd7ec16927771931064fb9a0a\">mucolytic</span> medication that is used to treat <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> diseases such as bronchitis, asthma, and COPD. It works by breaking down and thinning <span class=\"customMeta\" data-dictid=\"ab75ea330616927771938a64f8ebd6\">mucus</span> in the <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> tract, making it easier to <span class=\"customMeta\" data-dictid=\"8f02e74e821692777185a0c005c508\">cough</span> up.</p>\n\n<p><strong>Diphenoxylate (Option B)</strong> is used to treat diarrhoea. It works by slowing down the movement of the intestines, reducing the number of <span class=\"customMeta\" data-dictid=\"37863e7aec169277718310f33c6a11\">bowel</span> movements and making the <span class=\"customMeta\" data-dictid=\"44335bb8bf1692777199a956cb31bf\">stool</span> more solid. It is an <span class=\"customMeta\" data-dictid=\"e22dbf6c52169277719441ac94a69e\">opioid</span> medication and can be abused, leading to addiction. It is usually combined with <span class=\"customMeta\" data-dictid=\"90b10f842b1692777182e4a9268284\">atropine</span> to discourage its abuse due to its unpleasant side effects.</p>\n\n<p><strong>Levorphanol</strong> (<strong>Option D)</strong> is a potent <span class=\"customMeta\" data-dictid=\"61fbe2173416927771998e7aa0b432\">synthetic</span> <span class=\"customMeta\" data-dictid=\"e22dbf6c52169277719441ac94a69e\">opioid</span> that is used to treat severe pain. It works by binding to <span class=\"customMeta\" data-dictid=\"e22dbf6c52169277719441ac94a69e\">opioid</span> receptors in the brain and <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> cord along with <span class=\"customMeta\" data-dictid=\"f03ca2d2a716927771901227bc175a\">inhibition</span> of <span class=\"customMeta\" data-dictid=\"42c441fad11692777197258f322307\">reuptake</span> of 5HT/Norepinephrine and <span class=\"customMeta\" data-dictid=\"99de407a1516927771818ac910ab5f\">antagonism</span> at the <span class=\"customMeta\" data-dictid=\"000b76a37716927771932ba41c5089\">NMDA</span> receptor, reducing the perception of pain. It has a higher <span class=\"customMeta\" data-dictid=\"2a93f2d9a11692777196928bd78855\">potency</span> than <span class=\"customMeta\" data-dictid=\"27d6d97dc51692777192f1043b6a79\">morphine</span> and is used when other <span class=\"customMeta\" data-dictid=\"e22dbf6c52169277719441ac94a69e\">opioid</span> medications are not effective or have intolerable side effects.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which one of the following medications utilized in the immediate treatment of asthma does not exert its effects by widening the bronchial airways?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Salbutamol"
      },
      {
        "id": 2,
        "text": "Ipratropium"
      },
      {
        "id": 3,
        "text": "Deriphylline"
      },
      {
        "id": 4,
        "text": "Hydrocortisone"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer D - Hydrocortisone</strong></p>\n\n<ul>\n\t<li>Hydrocortisone is a <span class=\"customMeta\" data-dictid=\"a3e96d80e9169277718551158bbcd4\">corticosteroid</span> that works by reducing <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> in the airways, not by directly widening the bronchial airways.</li>\n</ul>\n\n<p><strong>Mechanism of Corticosteroids in Asthma:</strong></p>\n\n<ul>\n\t<li><strong>Reduces inflammation</strong> in the airways by inhibiting <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> mediators (prostaglandins, leukotrienes, cytokines).</li>\n\t<li><strong>Decreases <span class=\"customMeta\" data-dictid=\"ab75ea330616927771938a64f8ebd6\">mucus</span> production</strong> in the airways.</li>\n\t<li><strong>Inhibits <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> remodelling</strong> and thickening of <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> walls.</li>\n\t<li><strong>Enhances the effectiveness</strong> of bronchodilators.</li>\n</ul>\n\n<p><strong>Anti-inflammatory drugs in Asthma : </strong></p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"638\" src=\"https://image.prepladder.com/content/PGnYACzY8q6bhiBZMkUX1746017113.png\" width=\"926\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p><strong>Salbutamol (Option A)</strong> is a <strong>short-acting beta-2 <span class=\"customMeta\" data-dictid=\"7d8d28cda71692777180c89a3c86ce\">agonist</span> </strong>that works by relaxing the smooth muscles of the bronchial airways, thereby widening them.</p>\n\n<p><strong>Ipratropium (Option B)</strong> is an <strong>anticholinergic</strong> that works by <span class=\"customMeta\" data-dictid=\"9dc12b322016927771830dff673eeb\">blocking</span> the action of <span class=\"customMeta\" data-dictid=\"a79a62c36e169277718062f9630d56\">acetylcholine</span> on the <span class=\"customMeta\" data-dictid=\"0ad3c97c2916927771938768dcf298\">muscarinic</span> receptors, leading to bronchodilation.</p>\n\n<p><strong>Deriphylline (Option C)</strong> is a <span class=\"customMeta\" data-dictid=\"16abe8467e16927771837550ea9798\">bronchodilator</span> that works by inhibiting <span class=\"customMeta\" data-dictid=\"646159048c1692777195054877afc9\">phosphodiesterase</span> and promoting bronchodilation.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/PGnYACzY8q6bhiBZMkUX1746017113.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient with chronic obstructive pulmonary disease (COPD) is already on inhaled salmeterol therapy, but they are currently experiencing no improvement and have presented to the outpatient department. Which of the following medications can be included in their treatment plan?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Theophylline"
      },
      {
        "id": 2,
        "text": "Azithromycin"
      },
      {
        "id": 3,
        "text": "Oral glucocorticoids"
      },
      {
        "id": 4,
        "text": "Ipratropium"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer D - Ipratropium</strong></p>\n\n<ul>\n\t<li>In this case, the patient is already on the <span class=\"customMeta\" data-dictid=\"16abe8467e16927771837550ea9798\">bronchodilator</span> <strong>Salmeterol</strong>.</li>\n\t<li>The next best step would be to add another bronchodilator, such as ipratropium, which is a <span class=\"customMeta\" data-dictid=\"0ad3c97c2916927771938768dcf298\">muscarinic</span> antagonist.</li>\n</ul>\n\n<p><strong>Ipratropium <span class=\"customMeta\" data-dictid=\"749f9a02041692777183f4f13efcc5\">bromide</span> </strong>is an <span class=\"customMeta\" data-dictid=\"9b4dbbb3321692777181e6fe172b88\">anticholinergic</span> that <strong>inhibits the M3 receptors</strong> on the <span class=\"customMeta\" data-dictid=\"c8da04ed171692777201da65246acd\">vagus</span> nerve, supplying the bronchioles of the lung to cause bronchodilation.</p>\n\n<ul>\n\t<li>The <span class=\"customMeta\" data-dictid=\"075923f4c01692777183a26fd689e3\">bronchodilation</span> effect is minimal in normal airways.</li>\n\t<li>The effect is more significant in <span class=\"customMeta\" data-dictid=\"cc2003e35d1692777184a26dae1a68\">chronic obstructive <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> disease</span> (COPD) patients.</li>\n\t<li>COPD patients have structurally narrowed airways.</li>\n\t<li>Higher <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> resistance in <span class=\"customMeta\" data-dictid=\"6a75d857ea1692777185f9245b02b8\">COPD</span> is due to the <span class=\"customMeta\" data-dictid=\"459918ac4616927771903ea16da4c9\">inverse</span> relationship between <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> resistance and the fourth power of the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> radius.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"686\" src=\"https://image.prepladder.com/content/Vg20tLxuydwWoVh0GiuK1745843191.png\" width=\"448\" />\u00a0<img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"619\" src=\"https://image.prepladder.com/content/5oJj2IFNmMtgR8uNq6fj1745843195.png\" width=\"465\" /></p>\n\n<ul>\n\t<li>Inhaled <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> <span class=\"customMeta\" data-dictid=\"806eb8418c16927771822855b56695\">beta</span> 2 agonists and inhaled anticholinergics act on different primary sites in the <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> system.</li>\n\t<li>Salbutamol primarily relaxes the smooth muscle in the bronchioles.</li>\n\t<li>Ipratropium mainly prevents <span class=\"customMeta\" data-dictid=\"c9116ef24d16927771838d51f2946f\">bronchoconstriction</span> in the larger airways.</li>\n</ul>\n\n<p><strong>Theophylline (Option A)</strong> can improve <span class=\"customMeta\" data-dictid=\"632c0c215816927771878b6e818a11\">expiratory</span> flow rates, but it is not the most appropriate next step in this scenario.</p>\n\n<p><strong>Azithromycin (Option B)</strong>, an antibiotic, may have a role in preventing exacerbations but is not a first-line choice for immediate symptom improvement.</p>\n\n<p><strong>Oral glucocorticoids (Option C)</strong>: Although oral glucocorticoids may be used during severe exacerbations, they are not the next step for this patient. Inhaled corticosteroids combined with bronchodilators are typically preferred for managing stable COPD.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/Vg20tLxuydwWoVh0GiuK1745843191.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient comes to you with increased cough, breathlessness, and decreased exercise capacity. Chest X-ray shows pulmonary fibrosis. Which drug can be administered in the given condition?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Bortezomib"
      },
      {
        "id": 2,
        "text": "Roflumilast"
      },
      {
        "id": 3,
        "text": "Imatinib"
      },
      {
        "id": 4,
        "text": "Pirfenidone"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer D - Pirfenidone </strong></p>\n\n<ul>\n\t<li><strong>Pirfenidone</strong> is the correct answer, as it is an <span class=\"customMeta\" data-dictid=\"ef13e54c6b169277718132a0ef3ece\">antifibrotic</span> agent approved for treating <strong>Idiopathic <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">Pulmonary</span> <span class=\"customMeta\" data-dictid=\"21e2d5a70616927772021fcdec0ca9\">Fibrosis</span> (IPF).</strong></li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Management of <span class=\"customMeta\" data-dictid=\"f46ba26d111692777190def3b1d80a\">Interstitial</span> lung disease </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Disease </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Treatment </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Idiopathic <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> fibrosis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Pirfenidone + Nintedanib</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Nonspecific <span class=\"customMeta\" data-dictid=\"f46ba26d111692777190def3b1d80a\">interstitial</span> pneumonitis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Prednisolone + <span class=\"customMeta\" data-dictid=\"a6ed2a5f63169277718507c569e576\">cyclophosphamide</span> or rituximab</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Desquamative <span class=\"customMeta\" data-dictid=\"f46ba26d111692777190def3b1d80a\">interstitial</span> pneumonitis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Corticosteroids</strong> or <strong>Cytotoxic agents (Azathioprine) </strong></p>\n\n\t\t\t<p><strong>Bronchodilators </strong>may be used</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Cryptogenic organising pneumonia</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Corticosteroids</strong></p>\n\n\t\t\t<p>Cyclophosphamide or <span class=\"customMeta\" data-dictid=\"e3802f488416927771979c6d76c756\">Rituximab</span> can be used alternatively</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Hamman-Rich syndrome</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Mechanical <span class=\"customMeta\" data-dictid=\"a58f1f33f81692777201ad5e0d60ca\">ventilation</span> </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Bortezomib (Option A) </strong>is a <span class=\"customMeta\" data-dictid=\"f8f858a92616927771968a69ba60d6\">proteasome</span> <span class=\"customMeta\" data-dictid=\"b5fb56a28b1692777190396ae8b625\">inhibitor</span> for treating <span class=\"customMeta\" data-dictid=\"652999e42416927771936e1f3246e3\">multiple myeloma</span> and <span class=\"customMeta\" data-dictid=\"5ec65d4890169277719136decb922c\">mantle</span> cell lymphoma.</p>\n\n<p><strong>Roflumilast (Option B)</strong> is a phosphodiesterase-4 <span class=\"customMeta\" data-dictid=\"b5fb56a28b1692777190396ae8b625\">inhibitor</span> used to treat <span class=\"customMeta\" data-dictid=\"cc2003e35d1692777184a26dae1a68\">chronic obstructive <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> disease</span> (COPD).</p>\n\n<p><strong>Imatinib (Option C)</strong> is a tyrosine <span class=\"customMeta\" data-dictid=\"9863da498e1692777190e1c6515b48\">kinase</span> <span class=\"customMeta\" data-dictid=\"b5fb56a28b1692777190396ae8b625\">inhibitor</span> used to treat <span class=\"customMeta\" data-dictid=\"dc80b4e7901692777184c5b45d1bf5\">chronic <span class=\"customMeta\" data-dictid=\"da88d7f2211692777193037caba514\">myeloid</span> leukemia</span> (CML) and <span class=\"customMeta\" data-dictid=\"b3a647ce2516927771881427f56c1d\">gastrointestinal</span> stromal tumours (GISTs).</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient presents with a cough and thick sputum. What should be the drug given to this patient?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Bromhexine"
      },
      {
        "id": 2,
        "text": "Codeine"
      },
      {
        "id": 3,
        "text": "Dextromethorphan"
      },
      {
        "id": 4,
        "text": "Benzonatate"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - Bromhexine:</strong></p>\n\n<ul>\n\t<li>This drug is a <span class=\"customMeta\" data-dictid=\"d3957bd7ec16927771931064fb9a0a\">mucolytic</span> agent that helps to thin and loosen <span class=\"customMeta\" data-dictid=\"ab75ea330616927771938a64f8ebd6\">mucus</span> in the airways, making it easier to <span class=\"customMeta\" data-dictid=\"8f02e74e821692777185a0c005c508\">cough</span> up and clear from the <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> tract. It is particularly useful for patients with thick sputum.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<ul>\n\t<li>Options B, C, and D are <span class=\"customMeta\" data-dictid=\"8f02e74e821692777185a0c005c508\">cough</span> suppressants and are not recommended in case of thick sputum.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A group of people are travelling to the mountains, and a girl starts complaining of mountain sickness. What is the drug of choice?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Promethazine"
      },
      {
        "id": 2,
        "text": "Acetazolamide"
      },
      {
        "id": 3,
        "text": "Dimenhydrinate"
      },
      {
        "id": 4,
        "text": "Thiazide"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Acetazolamide</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li>The drug of choice for preventing and treating <strong>acute mountain sickness</strong> is <strong>acetazolamide</strong>.</li>\n\t<li>It is a carbonic <span class=\"customMeta\" data-dictid=\"0a72e82d651692777181ef79d77e61\">anhydrase</span> <span class=\"customMeta\" data-dictid=\"b5fb56a28b1692777190396ae8b625\">inhibitor</span> that acts on PCT and leads to Na<sup>+</sup>/HCO<sub>3</sub><sup>-</sup> <span class=\"customMeta\" data-dictid=\"0f7653c9ef1692777187deaa35f749\">excretion</span> in urine.</li>\n\t<li>In <strong>Mountain sickness</strong> (<strong>acute mountain sickness</strong> or <strong>AMS</strong>), at high altitudes, <strong>lower oxygen levels</strong> lead to <strong>hyperventilation</strong>, which causes CO<sub>2</sub> <span class=\"customMeta\" data-dictid=\"67d67b341916927772029cd0d951df\">washout</span> and <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> <span class=\"customMeta\" data-dictid=\"0dae4cbf251692777181bd4fb21a24\">alkalosis</span> (alkaline blood suppresses CNS).</li>\n\t<li>Symptoms include headache, nausea, dizziness, fatigue, and shortness of breath.</li>\n\t<li>When <span class=\"customMeta\" data-dictid=\"bd1418cfce1692777180087a9f293c\">Acetazolamide</span> is taken, it <strong>produces <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> acidosis</strong> and reduces hyperventilation.</li>\n</ul>\n\n<p><strong>Promethazine</strong><strong> (Option A) </strong>is an <strong>antihistamine</strong> commonly used for <strong>motion sickness</strong>, nausea, and vertigo. While it can relieve <span class=\"customMeta\" data-dictid=\"9a8412e39e1692777193c550a5dbb4\">nausea</span> and <span class=\"customMeta\" data-dictid=\"21b3779eca1692777186ec4f369d76\">dizziness</span> associated with mountain sickness, it does not address the underlying <strong>acclimatisation issues</strong> that cause AMS.</p>\n\n<p><strong>Dimenhydrinate</strong><strong> (Option C)</strong><strong> </strong>is another <strong>antihistamine</strong> used for <strong>motion sickness</strong> and nausea. Like promethazine, it helps with symptoms but does not <strong>prevent</strong> or <strong>treat</strong> the root cause of mountain sickness.</p>\n\n<p><br />\n<strong>Thiazide </strong><strong>(Option D)</strong> diuretics are primarily used for managing <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> and edema. They are<strong> not used</strong> for <span class=\"customMeta\" data-dictid=\"0fe458146b16927771923e5742e418\">mountain sickness</span> and have no role in altitude adaptation.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which <span class=\"marker\">anti-asthma drug should be avoided with Erythromycin</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Salbutamol"
      },
      {
        "id": 2,
        "text": "Theophylline"
      },
      {
        "id": 3,
        "text": "Terbutaline"
      },
      {
        "id": 4,
        "text": "Ipratropium"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option\u00a0B - Theophylline:</strong></p>\n\n<ul>\n\t<li>\n\t<p>Among the options provided, the anti-asthma drug that is typically avoided with <span class=\"customMeta\" data-dictid=\"259b36252716927771879987e01054\">erythromycin</span> is Theophylline. <span class=\"customMeta\" data-dictid=\"259b36252716927771879987e01054\">Erythromycin</span> is known to <span class=\"customMeta\" data-dictid=\"6b3de87b7c16927771901326efbcd2\">inhibit</span> the <span class=\"customMeta\" data-dictid=\"5b1a045f5f169277719210c0ac7a1e\">metabolism</span> of theophylline, leading to an increase in its blood levels. This can result in <span class=\"customMeta\" data-dictid=\"fa3cb2431b1692777200e3d12f2bcf\">theophylline</span> toxicity, which may manifest as symptoms such as nausea, vomiting, tremors, rapid heartbeat, and even seizures.</p>\n\t</li>\n\t<li>\n\t<p>Theophylline is a <span class=\"customMeta\" data-dictid=\"16abe8467e16927771837550ea9798\">bronchodilator</span> used in the management of <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> and other <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> conditions. It works by relaxing the smooth muscles in the airways, thereby improving breathing. As it is metabolised by <span class=\"customMeta\" data-dictid=\"29e8e2a5dd16927771855db589c581\">cytochrome</span> P450 and <span class=\"customMeta\" data-dictid=\"259b36252716927771879987e01054\">erythromycin</span> is a Microsomal <span class=\"customMeta\" data-dictid=\"0f160e4e42169277718771b715516a\">enzyme</span> (cytochrome P450) inhibitors causing increased <span class=\"customMeta\" data-dictid=\"fa3cb2431b1692777200e3d12f2bcf\">theophylline</span> level..</p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options: </strong></p>\n\n<p><strong>Option A - Salbutamol: </strong>There is no significant interaction between <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">salbutamol</span> (also known as albuterol) and erythromycin. <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">Salbutamol</span> is a short-acting beta-agonist <span class=\"customMeta\" data-dictid=\"16abe8467e16927771837550ea9798\">bronchodilator</span> used for the relief of <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> symptoms.</p>\n\n<p><strong>Option\u00a0C - Terbutaline: </strong>Like salbutamol, terbutaline is a beta-agonist bronchodilator. It does not have a documented interaction with <span class=\"customMeta\" data-dictid=\"259b36252716927771879987e01054\">erythromycin</span> that requires avoidance.</p>\n\n<p><strong>Option\u00a0D - Ipratropium: </strong>Ipratropium is an <span class=\"customMeta\" data-dictid=\"9b4dbbb3321692777181e6fe172b88\">anticholinergic</span> <span class=\"customMeta\" data-dictid=\"16abe8467e16927771837550ea9798\">bronchodilator</span> used for the treatment of <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> and <span class=\"customMeta\" data-dictid=\"cc2003e35d1692777184a26dae1a68\">chronic obstructive <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> disease</span> (COPD). It does not have a significant interaction with erythromycin.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the <span class=\"marker\">following is not a side effect of salbutamol</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Hypoglycemia"
      },
      {
        "id": 2,
        "text": "Hypokalemia"
      },
      {
        "id": 3,
        "text": "Tremors"
      },
      {
        "id": 4,
        "text": "Tachycardia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a0Hypoglycemia:</strong></p>\n\n<ul>\n\t<li>\n\t<p>Hypoglycemia, which refers to low <span class=\"customMeta\" data-dictid=\"88b48cf7241692777183e5f5b8adf1\">blood sugar</span> levels, is not a known <span class=\"customMeta\" data-dictid=\"79506a117416927771988bbe7a8302\">side effect</span> of salbutamol. <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">Salbutamol</span> is primarily used as a <span class=\"customMeta\" data-dictid=\"16abe8467e16927771837550ea9798\">bronchodilator</span> to relieve symptoms of <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> and other <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> conditions. It works by relaxing the smooth muscles in the airways, which helps improve breathing. While <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">salbutamol</span> can affect <span class=\"customMeta\" data-dictid=\"af3ae60c0c16927771889b84ca41c0\">glucose</span> metabolism, it typically does not cause significant changes in <span class=\"customMeta\" data-dictid=\"88b48cf7241692777183e5f5b8adf1\">blood sugar</span> levels.</p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option B - Hypokalemia:\u00a0</strong> <span class=\"customMeta\" data-dictid=\"3f0fd5e3bf1692777189b24e452bca\">Hypokalemia</span> refers to low levels of <span class=\"customMeta\" data-dictid=\"a995a613a016927771969d4395dc80\">potassium</span> in the blood. <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">Salbutamol</span> is a beta-2 <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> agonist, and its use can lead to an <span class=\"customMeta\" data-dictid=\"a621be29da16927771901bc91014d1\">intracellular</span> shift of potassium, potentially causing <span class=\"customMeta\" data-dictid=\"a6cf2c3dc51692777200ef7fb22f69\">transient</span> hypokalemia. This occurs due to the <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> of beta-2 <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> receptors, which can <span class=\"customMeta\" data-dictid=\"dddc752e1716927771807f985bb8bb\">activate</span> the <span class=\"customMeta\" data-dictid=\"4632a7497f169277719834502883b1\">sodium-potassium pump</span> and cause the movement of <span class=\"customMeta\" data-dictid=\"a995a613a016927771969d4395dc80\">potassium</span> into cells. However, significant <span class=\"customMeta\" data-dictid=\"3f0fd5e3bf1692777189b24e452bca\">hypokalemia</span> is more commonly associated with higher doses or prolonged use of salbutamol. It can also be used to treat hyperkalemia.</p>\n\n<p><strong>Option C - Tremors: </strong>Tremors, or <span class=\"customMeta\" data-dictid=\"42b110efe11692777190ea5720c867\">involuntary</span> shaking of the hands, is a known <span class=\"customMeta\" data-dictid=\"79506a117416927771988bbe7a8302\">side effect</span> of salbutamol. It is a result of the drug's <span class=\"customMeta\" data-dictid=\"7f3792072b1692777199fd8e2c4f59\">stimulation</span> of beta-2 <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> receptors in the muscles. While tremors can be bothersome, they are generally temporary and resolve once the drug is metabolized and cleared from the body.</p>\n\n<p><strong>Option D - Tachycardia: </strong>Tachycardia, which refers to a rapid heart rate, is a common <span class=\"customMeta\" data-dictid=\"79506a117416927771988bbe7a8302\">side effect</span> of salbutamol. <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">Salbutamol</span> stimulates beta-2 <span class=\"customMeta\" data-dictid=\"0132a02ec31692777180a840765aff\">adrenergic</span> receptors in the heart, leading to an increased heart rate. This effect is desired in the context of <span class=\"customMeta\" data-dictid=\"075923f4c01692777183a26fd689e3\">bronchodilation</span> but can be a concern in individuals with pre-existing heart conditions. It is important to monitor heart rate during <span class=\"customMeta\" data-dictid=\"479585b1c81692777198b4f752d734\">salbutamol</span> use, especially in individuals with <span class=\"customMeta\" data-dictid=\"e2b5f013011692777183ea1b11ed9c\">cardiovascular</span> issues.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '44 Previous Year Questions';
        let hierarchy = ["PrepLadder", "qBank", "Pharmacology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>