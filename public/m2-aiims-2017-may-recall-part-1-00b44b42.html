<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M2 - Aiims 2017 May Recall - Part 1 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2017-18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Nucleus pulposus is derived from ____________.",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Nucleus pulposus</strong> is derived from the <strong>notochord&nbsp;</strong>(marked as 1).</p>\n<p>The other labelled structures are</p>\n<p>2 - Ectoderm<br />3 - Endoderm<br />4 - Intraembryonic mesoderm</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d74387d8592a4c6c80bca98e01cf6b98.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following diseases primarily involves the marked structure?",
    "choices": [
      {
        "id": 1,
        "text": "Paralysis agitans"
      },
      {
        "id": 2,
        "text": "Depression"
      },
      {
        "id": 3,
        "text": "Alzheimers"
      },
      {
        "id": 4,
        "text": "Huntington chorea"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The structure marked in this transverse section of the brain at the level of superior colliculus is <strong>substantia nigra</strong>. Degeneration of substantia nigra is seen in <strong>Parkinson's disease</strong>, also known as <strong>paralysis agitans</strong>.</p>\n<p><strong>Substantia nigra</strong> is pigmented due to the presence of <strong>neuromelanin</strong> granules, which help in the synthesis of <strong>dopamine</strong>. In Parkinson's disease, there is an <strong>absence/reduced pigmentation</strong> of the substantia nigra.</p>\n<p><strong>Bradykinesia, rigidity</strong>, and <strong>resting tremor</strong> are classic features of Parkinson's disease. Because of motor disability, it is also referred to as paralysis agitans.</p>\n<p>Other options:</p>\n<p>Option B: <strong>Depression</strong> is often a comorbid finding with Parkinson's disease, but is <strong>not</strong> due to damage to the substantia nigra.</p>\n<p>Option C: <strong>Alzheimer&rsquo;s disease</strong> is the most common cause of dementia. It is due to atrophy of the entorhinal cortex, located in the <strong>medial temporal lobe</strong>.</p>\n<p>Option D: <strong>Huntington&rsquo;s chorea</strong> is an autosomal dominant disorder of movement and cognition primarily involving the <strong>striatum</strong> (caudate nucleus and putamen).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/71be37076f91458cbdb3a43fada1746f.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5f813fbb8ee5461a8455492a12746f77x600x906.JPEG"
    ]
  },
  {
    "text": "The image below shows the insertion of transversus abdominis muscle. Identify the conjoint tendon:",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The structure marked C is the <strong>conjoint tendon</strong>.</p>\n<p>The conjoint tendon is formed from the lower fibers of the&nbsp;<strong>internal oblique</strong> and the lower part of the <strong>aponeurosis of transversus</strong> <strong>abdominis</strong>. It is attached the pubic crest and extends to a variable extent along the pectineal line.</p>\n<p><strong>Transversus Abdominis muscle:</strong></p>\n<ul>\n<li>Origin: Internal surface of 7<sup>th</sup>-12<sup>th</sup> costal cartilages, thoracolumbar fascia, iliac crest, connective tissue deep to lateral third of inguinal ligament.</li>\n<li>Insertion: Linea Alba with aponeurosis of internal oblique, pubic crest, and pecten pubis via the<strong> conjoint tendon.</strong></li>\n</ul>\n<p>Other options:</p>\n<p><strong>A</strong>: Lumbar fascia <br /><strong>B</strong>: Transversus abdominis<br /><strong>D</strong>: Inguinal ligament</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d2f3388891bc44969cc9d61230f4bbac.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following structures does the cell pointed in arrow inhibit?",
    "choices": [
      {
        "id": 1,
        "text": "Vestibular nuclei"
      },
      {
        "id": 2,
        "text": "Anterior horn of spinal"
      },
      {
        "id": 3,
        "text": "Basal ganglia"
      },
      {
        "id": 4,
        "text": "Deep nuclei of cerebellum"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The cell pointed in arrow inhibit deep nuclei of cerebellum.</p>\n<p>Image shows a <strong>histopathological section of the cerebellum.</strong> Cells marked with the arrow in the image are<strong> Purkinje cells</strong>.</p>\n<p><strong>Axons of Purkinje cells</strong> form the only output from cerebellar cortex and they<strong> project to the deep cerebellar nuclei</strong>(mainly dentate nucleus).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c53993b155d14422afe7051b7db76dd2.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f418084c4f4144b0844069d2f6c9fa9ax800x536.PNG"
    ]
  },
  {
    "text": "Which of the following can be responsible for Bezold-Jarisch reflex?",
    "choices": [
      {
        "id": 1,
        "text": "Serotonin"
      },
      {
        "id": 2,
        "text": "Histamine"
      },
      {
        "id": 3,
        "text": "Prostaglandin"
      },
      {
        "id": 4,
        "text": "Angiotensin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Serotonin </strong>can be responsible for&nbsp;Bezold&ndash;Jarisch reflex.</p>\n<p>Activation of chemosensitive vagal C fibers located in the cardiopulmonary region (ex: ventricles, atria, great veins, pulmonary artery, juxtacapillary region of alveoli) causes <strong>profound bradycardia, hypotension, and apnea followed by rapid shallow breathing</strong>. This response is called Bezold-Jarisch reflex.</p>\n<p>Other substances that can cause Bezold&ndash;Jarisch reflex are <strong>capsaicin, phenyl biguanide, and veratridine.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the constituent of the marked area in the electron microscopic picture of muscle?",
    "choices": [
      {
        "id": 1,
        "text": "Alpha actinin"
      },
      {
        "id": 2,
        "text": "Actin"
      },
      {
        "id": 3,
        "text": "Titin"
      },
      {
        "id": 4,
        "text": "Tropomyosin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Alpha actinin is the constituent of the marked area.</p>\n<p>The image depicts sarcomere and the arrow points towards Z-line. Alpha actinin binds actin to Z-lines.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6aa1a9a6e86d46eea486b230398fd84e.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8478ad20252a4950811900da27222470x794x600.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5b3b50ddb02941f5ac80cc10bcdae0fbx775x599.PNG"
    ]
  },
  {
    "text": "Thiamine deficiency results in decreased\u200b energy production, because TPP _______",
    "choices": [
      {
        "id": 1,
        "text": "Interferes with alcohol metabolism"
      },
      {
        "id": 2,
        "text": "Interferes  with transketolase activity"
      },
      {
        "id": 3,
        "text": "Is coenzyme for pyruvate and alpha ketoglutarate dehydrogenase"
      },
      {
        "id": 4,
        "text": "Interferes with energy production from amino acids"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Thiamine deficiency results in decreased energy production because thiamine pyrophosphate (TPP) is a coenzyme of pyruvate and&nbsp;&alpha;-ketoglutarate dehydrogenase, which are required for the production of ATP using NADH.</p>\n<p>Thiamine pyrophosphate is an important coenzyme in three multienzyme complexes that catalyze oxidative decarboxylation reactions:</p>\n<ul>\n<li><strong>Pyruvate dehydrogenase</strong> in carbohydrate metabolism.</li>\n<li><strong>&alpha;-ketoglutarate dehydrogenase</strong>&nbsp;in the citric acid cycle.</li>\n<li><strong>Branched-chain ketoacid dehydrogenase</strong> involved in the metabolism of leucine, isoleucine and valine.</li>\n</ul>\n<p>NAD is a co-factor in pyruvate and &alpha;-ketoglutarate dehydrogenase. Hence in thiamine deficiency, there is decreased ATP production owing to reduced NADH entering into the electron transport chain.</p>\n<p><strong>Option A:</strong>&nbsp;Thiamine does not interfere in alcohol metabolism but alcohol&nbsp;interferes directly with the absorption of thiamine and with the synthesis of thiamine pyrophosphate.</p>\n<p><strong>Option B:</strong> Thiamine is also the coenzyme for transketolase in the pentose phosphate pathway (HMP shunt) but there is no ATP synthesized in this pathway.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The magenta-colored tongue is seen in which vitamin deficiency?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin B 2"
      },
      {
        "id": 2,
        "text": "Vitamin B 6"
      },
      {
        "id": 3,
        "text": "Vitamin B 12"
      },
      {
        "id": 4,
        "text": "Vitamin B 1"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Magenta-colored tongue seen in vitamin B2 deficiency.</p>\n<p>Riboflavin deficiency is assessed by measurement of the activation of erythrocyte glutathione reductase by FAD added in vitro. Riboflavin provides the reactive moieties of the coenzymes flavin mononucleotide (FMN) and flavin adenine dinucleotide (FAD).</p>\n<p><strong>Clinical features</strong> of riboflavin deficiency include:</p>\n<ul>\n<li>Corneal neovascularization</li>\n<li>Cheilosis or angular stomatitis (cracking or scaling of lip borders and corners of the mouth)</li>\n<li>Magenta-colored tongue</li>\n<li>Seborrheic dermatitis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Of the following, which parasite\u2019s life cycle is shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Clonorchis sinensis"
      },
      {
        "id": 2,
        "text": "Fasciola buski"
      },
      {
        "id": 3,
        "text": "Paragonimus westermani"
      },
      {
        "id": 4,
        "text": "Fasciola hepatica"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The life cycle shown is of clonorchis sinensis.</p>\n<p>Clonorchis sinensis causes<strong> clonorchiasis (Asian liver fluke infection)</strong><br />Humans are infected by <strong>eating raw or undercooked fish containing the encysted larvae (metacercariae)</strong>.</p>\n<p>The immature flukes after excystation in the duodenum&nbsp;enter the <strong>biliary ducts</strong> and differentiate into adults. <br />The hermaphroditic adults produce eggs which are excreted in the feces. Upon reaching fresh water the eggs are ingested by snails , which are the first intermediate hosts. The eggs hatch within the gut and differentiate first into larvae (rediae) and then into many free swimming cercariae. Cercariae encyst under the scales of certain freshwater fish which are then ingested by humans.</p>\n<p>Clonorchiasis is endemic in China, Japan, Korea and Indochina&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/efc2cf4ca8124a81bb8bdd4f85b1992c.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the egg in the picture given below",
    "choices": [
      {
        "id": 1,
        "text": "A. lumbricoides"
      },
      {
        "id": 2,
        "text": "Strongyloides stercoralis"
      },
      {
        "id": 3,
        "text": "E. vermicularis"
      },
      {
        "id": 4,
        "text": "Ancylostoma duodenale"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The egg in the given picture indicates&nbsp;<strong>hookworm egg</strong>.</p>\n<p>Eggs of both Ancylostoma Duodenale (old world hookworm) and Necator Americanus(new world hookworm) are identical.</p>\n<p>The eggs of hookworm are :</p>\n<ul>\n<li>Oval or elliptical</li>\n<li>Colorless,</li>\n<li>Not bile stained,</li>\n<li>With a<strong> thin</strong> transparent hyaline shell membrane</li>\n<li><strong>Thin</strong> shell</li>\n<li><strong>Segmented</strong> ovum - 4 to 8 blastomeres</li>\n<li>There is clear space between segmented ovum and egg shell.</li>\n<li>Eggs float in saturated salt solution.</li>\n</ul>\n<p>Humans are infected when<strong> filariform larvae </strong>in moist soil<strong> penetrate the skin.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://daily-rounds-staging.s3.amazonaws.com/uploads/64349820a3984af7b4c40575fc93750b.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "When papain acts on a molecule of immunoglobulin, which of the following are the end products?",
    "choices": [
      {
        "id": 1,
        "text": "2 FC and 1 FAB fragments"
      },
      {
        "id": 2,
        "text": "1 Variable chain and 1 constant chain"
      },
      {
        "id": 3,
        "text": "1 Fc and 2 Fab fragments"
      },
      {
        "id": 4,
        "text": "1 FAB and 1 hypervariable region"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>When papain acts on a molecule of immunoglobulin, the end products are 1 Fc and 2 Fab fragments.&nbsp;</p>\n<p><strong>Enzymatic digestion</strong> of antibody with Papain, Pepsin and Mercaptoethanol produces fragments as follows:&nbsp;</p>\n<p>a) <strong>Papain</strong>: 2 Fab fragments and one Fc fragment<br />b) <strong>Pepsin</strong>: One F(ab&rsquo;)<sub>2</sub>&nbsp;fragment and many smaller fragments<br />c) <strong>Mercaptoethanol</strong>: 2 H and 2 L chains</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ed5b747004044f42a88ee1ddf8a962a6x1280x740.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e1742d59fb8c42c2af99e8a5a6d746c7x1280x740.JPEG"
    ]
  },
  {
    "text": "A 50-year-old man presented with the blurring of vision. Urine examination showed proteinuria. Fundus examination showed dot and blot hemorrhages, microaneurysms, and cotton wool spots. Histopathology of the kidney was as shown below. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Renal amyloidosis"
      },
      {
        "id": 2,
        "text": "Focal segmental glomerulosclerosis"
      },
      {
        "id": 3,
        "text": "Kimmelstiel-Wilson disease"
      },
      {
        "id": 4,
        "text": "Lupus nephritis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Histopathological image shows <strong>acellular periodic acid Schiff (PAS)-positive nodules</strong> suggestive of&nbsp;nodular glomerulosclerosis/intercapillary glomerulosclerosis/Kimmelstiel&ndash;Wilson disease, which occurs in patients with&nbsp;diabetic nephropathy.</p>\n<p>Three renal lesions are encountered in diabetic nephropathy:</p>\n<ul>\n<li><strong>Glomerular lesions</strong>:\n<ul>\n<li>Capillary basement membrane thickening</li>\n<li>Diffuse mesangial sclerosis</li>\n<li>Nodular glomerulosclerosis/Kimmelstiel&ndash;Wilson disease</li>\n</ul>\n</li>\n<li><strong>Renal vascular lesions</strong>, principally hyaline arteriolosclerosis</li>\n<li><strong>Pyelonephritis</strong>, including necrotizing papillitis</li>\n</ul>\n<p>Renal histopathology in</p>\n<ul>\n<li>Amyloidosis:&nbsp;Glomerular deposits appearing as thickenings of the mesangial matrix, forming interlacing broad ribbons of amyloid</li>\n<li>Lupus nephritis:&nbsp;Immune complex deposits in the mesangium or along the entire basement membrane (wire loop lesions), with mesangial cell proliferation</li>\n<li>Focal segmental glomerulosclerosis:&nbsp;Focal and segmental hyalinosis and sclerosis of the capillary wall; lipid droplets in the sclerosed area.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b3c44ea8c8b2424f9c3cda87fa40f7c8.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The histopathological slide given below is suggestive of:",
    "choices": [
      {
        "id": 1,
        "text": "Psoriasis vulgaris"
      },
      {
        "id": 2,
        "text": "Leishmaniasis"
      },
      {
        "id": 3,
        "text": "Mycosis fungoides"
      },
      {
        "id": 4,
        "text": "Pemphigus vulgaris"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given slide shows a<strong>&nbsp;row of tombstones&nbsp;</strong>appearance, which is classically seen in&nbsp;<strong>pemphigus</strong> <strong>vulgaris.</strong>&nbsp;</p>\n<p>In this condition, there is a <strong>suprabasal splitting</strong> of the epidermis leading to blister formation. The <strong>basal layer</strong>&nbsp;remains&nbsp;<strong>adherent</strong> to the <strong>basement</strong> <strong>membrane</strong> and gives the resemblance to a row of tombstones as shown in the histology image below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7202feb9ae9e4bd2a0e8ecccc9407651.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0c66be1b066a4daaaca44d79f53553efx510x517.GIF",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0f94366c078c446e8976a3fec9ef39c9x1279x1302.JPEG"
    ]
  },
  {
    "text": "What does the red cell distribution width (RDW) deal with ?",
    "choices": [
      {
        "id": 1,
        "text": "Hypochromia"
      },
      {
        "id": 2,
        "text": "Anisocytosis"
      },
      {
        "id": 3,
        "text": "Poikilocytosis"
      },
      {
        "id": 4,
        "text": "Anisochromia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>RDW deal with anisocytosis.</p>\n<p>When the<strong> red cells vary greatly in size, anisocytosis is said to be present</strong>.</p>\n<p>The electronic cell counter provides an independent assessment of variability in red cell size. It measures the range of red cell volumes and reports the results as <strong>&ldquo;red cell distribution width&rdquo; (RDW)</strong>. This value is calculated from the <strong>MCV</strong>; thus,<strong> cell width is not being measured but cell&nbsp;</strong><strong>volume is.</strong> <br />In the presence of morphologic anisocytosis, RDW (normally 11&ndash;14%) increases to 15&ndash;18%. <br />In patients with microcytic anaemia, the differential diagnosis is generally between iron deficiency and thalassemia. In thalassemia, the small red cells are generally of uniform size with a normal small RDW. In iron deficiency, the size variability and the RDW are large.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a negative acute phase reactant?",
    "choices": [
      {
        "id": 1,
        "text": "Albumin"
      },
      {
        "id": 2,
        "text": "Haptoglobin"
      },
      {
        "id": 3,
        "text": "Ferritin"
      },
      {
        "id": 4,
        "text": "C reactive protein"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Albumin is a negative acute phase reactant while haptoglobin, ferritin and C-reactive protein are positive acute phase reactants.</p>\n<p>Acute phase reactants are classified as positive and negative based on whether their levels decrease or increase in inflammatory states.</p>\n<p>Markers such as <strong>CRP, inflammatory cytokines(positive acute phase reactants)</strong> are elevated while markers such as <strong>albumin, fetuin(negative acute phase reactants) </strong>decrease<strong>.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not seen in the development of T lymphocyte?",
    "choices": [
      {
        "id": 1,
        "text": "CD34"
      },
      {
        "id": 2,
        "text": "Tdt"
      },
      {
        "id": 3,
        "text": "CD1a"
      },
      {
        "id": 4,
        "text": "PAX5"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>PAX5</strong> is a <strong>transcription factor</strong> required<strong> for B cell development</strong> not T cell development.<br /><strong>CD34</strong> is marker of<strong> hematopoietic stem cell</strong>.<br /><strong>Tdt</strong> - Terminal deoxynucleotidyl transferase (TdT) is a specialized DNA polymerase, that is expressed only in<strong> pre-B and pre-T lymphoblasts.</strong><br /><strong>CD1a</strong> - CD1 are common to<strong> all T Cells.</strong> CD1 is also seen in langerhans type of dendritic cell.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following can alter the gene expression by methylation and acetylation but not change the gene sequence?",
    "choices": [
      {
        "id": 1,
        "text": "Mutation"
      },
      {
        "id": 2,
        "text": "Epigenetics"
      },
      {
        "id": 3,
        "text": "Translocation"
      },
      {
        "id": 4,
        "text": "Inversion"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Epigenetics is defined as heritable changes in gene expression that are not caused by alteration in gene sequence.</strong><br />It means &ldquo;above genetics&rdquo; and refers to the fact that gene regulatory mechanisms do not change the underlying regulated DNA sequence, but rather simply the expression patterns of the DNA.</p>\n<p><br />Epigenetic mechanisms play a key role in establishment, maintenance, and reversibility of transcriptional states. A key feature is that the controlled transcriptional on/off states can be maintained through multiple rounds of cell division. This observation indicates there must be robust mechanisms to maintain and stably propagate these epigenetic states.</p>\n<p><br />Histone <strong>M</strong>ethylation Mostly Makes DNA <strong>M</strong>ute.<br />Histone <strong>A</strong>cetylation: Relaxes DNA coiling, allowing for transcription. Histone Acetylation makes DNA<strong> A</strong>ctive.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "If the RB gene is hypophosphorylated, which of the following will happen?",
    "choices": [
      {
        "id": 1,
        "text": "Cell cycle will stop at G2."
      },
      {
        "id": 2,
        "text": "Cell cycle will stop at G1."
      },
      {
        "id": 3,
        "text": "There will be no effect on cell cycle as RB gene phosphorylation is not needed."
      },
      {
        "id": 4,
        "text": "The cell cycle progresses and cell divides."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>If the Rb gene is hypophosphorylated, then <strong>cell cycle will stop at G1</strong>.</p>\n<p><strong>Rb is a cell-cycle regulator</strong> because it binds to and inactivates a transcription factor (E2F) necessary for the transcription of certain genes necessary for the progression from G1 to S phase.</p>\n<p><strong>The phosphorylation of Rb</strong>&nbsp;results in the&nbsp;release of E2F, whereby gene transcription activation ensues and<strong> cell-cycle progression takes place</strong>.</p>\n<p>Remember:</p>\n<ul>\n<li>Rb gene in active hypophosphorylated state: Cell cycle arrest</li>\n<li>Rb gene in inactive hyperphosphorylated state: transcriptional activation and cell cycle progression.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/29bf2ddb213f40ef99a55fe6f4f0e5f0x1280x856.JPEG"
    ]
  },
  {
    "text": "A 40-year-old man presents with complaints of facial puffiness and frothy urine. Given below is the histological image of the condition. What do you think is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Membranous nephropathy"
      },
      {
        "id": 2,
        "text": "Focal segmental glomerulosclerosis"
      },
      {
        "id": 3,
        "text": "Membranoproliferative nephritis"
      },
      {
        "id": 4,
        "text": "Dense deposit disease"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image is characteristic of <strong>membranous nephropathy</strong>. The given hematoxylin and eosin (H&amp;E)-stained image shows uniform, diffuse thickening of the glomerular capillary wall. (intense pink color)</p>\n<p>Membranous nephropathy is one of the most common causes of nephrotic syndrome. It is a form of chronic immune-complex-mediated disease.</p>\n<ul>\n<li>Light microscopy: diffuse thickening of the glomerular capillary wall without cellular proliferation.&nbsp;Irregular spikes projecting from the basement membrane are best seen with silver stains.</li>\n<li>Immunofluorescence microscopy:&nbsp;granular deposits containing Ig and complement along the glomerular basement membrane</li>\n<li>Electron micrograph:&nbsp;electron-dense subepithelial deposits (epimembranous spikes) and effacement of foot processes of podocytes</li>\n</ul>\n<div class=\"page\" title=\"Page 920\">&nbsp;</div>\n<div class=\"page\" title=\"Page 920\"><strong>Image:&nbsp;</strong>The silver stain of the glomerulus highlights the proteinaceous basement membranes in black. There are characteristic \"<strong>spikes\" of basement membrane between the immune deposits of membranous nephropathy.</strong>&nbsp;The black basement membrane material shown here appears as&nbsp;<strong>projections&nbsp;</strong>in the capillary loops.&nbsp;</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6b9695d8d4a948fdab31186b9d420440.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/14de4faa32f6428793277d7d8e12fbcax800x533.JPEG"
    ]
  },
  {
    "text": "A 25 year old female came to opd 1 year after delivery. She was treated for iron deficiency anemia while pregnant. Now she was pale and her Hb was 5% and reticulocyte count was 9%. Her corrected retic count is: (Take normal Hb as 15g/dl)",
    "choices": [
      {
        "id": 1,
        "text": "6"
      },
      {
        "id": 2,
        "text": "4.5"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Corrected Reticulocyte is calculated as=<strong>&nbsp;(Actual hb/Normal hb) x Reticulocyte %</strong></p>\n<p>According to values given in this question,</p>\n<p>Corrected reticulocyte count=5 x 9/15 = 3%.</p>\n<p>Note: Normal Hb is taken as 15g/dl</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following Immunohistochemistry marker is used in Cyclin D1 negative Mantle cell lymphoma?",
    "choices": [
      {
        "id": 1,
        "text": "SOX11"
      },
      {
        "id": 2,
        "text": "ITRA 1"
      },
      {
        "id": 3,
        "text": "MYD88"
      },
      {
        "id": 4,
        "text": "Annexin V"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>SOX11 is used in Cyclin D1 negative Mantle cell lymphoma. Mutation of SOX11 is associated with worse prognosis in mantle cell lymphoma.</p>\n<p>Other options are not associated with mantle cell lymphoma.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not an idiosyncratic reaction of carbamazepine?",
    "choices": [
      {
        "id": 1,
        "text": "Blurred vision"
      },
      {
        "id": 2,
        "text": "Agranulocytosis"
      },
      {
        "id": 3,
        "text": "Rash"
      },
      {
        "id": 4,
        "text": "Steven Johnson Syndrome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Blurred vision is not an idiosyncratic reaction of carbamazepine.</p>\n<p>Idiosyncratic blood dyscrasias with carbamazepine, include fatal cases of <strong>aplastic anaemia</strong> and <strong>agranulocytosis.</strong> The most common idiosyncratic reaction is an <strong>erythematous skin rash.</strong> It can rarely cause<strong> Steven Johnson Syndrome.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Among the following what can be used as an antidote for fibrinolytic therapy?",
    "choices": [
      {
        "id": 1,
        "text": "Protamine"
      },
      {
        "id": 2,
        "text": "Streptokinase"
      },
      {
        "id": 3,
        "text": "Heparin"
      },
      {
        "id": 4,
        "text": "Epsilon aminocaproic acid"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Aminocaproic acid</strong> is a clinically <strong>useful inhibitor of fibrinolysis</strong>. Heparin and oral anticoagulant drugs do not affect the fibrinolytic mechanism.</p>\n<p>Streptokinase is a fibrinolytic agent.</p>\n<p>Schematic representation of fibrinolytic system:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e5f9b50cb0344598b0aaabf6a3573ccbx487x397.PNG"
    ]
  },
  {
    "text": "A 10 year old boy came with complaints of 6 patches on back and on left arm that were hypopigmented with the loss of sensation. Which of the following is the treatment for this case?",
    "choices": [
      {
        "id": 1,
        "text": "Rifampicin (450 mg)+ Dapsone (50mg) + clofazimine (150 mg) monthly and 50 mg daily"
      },
      {
        "id": 2,
        "text": "Rifampicin (450mg) + Dapsone (50mg) + clofazimine (150 mg) monthly and 50 mg alternate days"
      },
      {
        "id": 3,
        "text": "Rifampicin (600mg) + Dapsone (150mg) + clofazimine (300 mg) monthly and 50 mg daily"
      },
      {
        "id": 4,
        "text": "Rifampicin (600mg) + dapsone (150mg) only"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The presence of 6 patches on back and on left arm that were hypopigmented with loss of sensation suggest multibacillary leprosy.</p>\n<p>According to the<strong> NLEP</strong> recommended multidrug therapy regimens for Hansen disease Multibacillary (LL,BL,BB) in <strong>pediatric patients</strong></p>\n<table border=\"1\">\n<tbody>\n<tr>\n<td style=\"text-align: center;\"><strong>Monthly</strong><br />(SUPERVISED)</td>\n<td style=\"text-align: center;\"><strong>Daily</strong><br />(SELF ADMINISTERED)</td>\n</tr>\n<tr>\n<td>Rifampicin 450mg</td>\n<td>Dapsone 50mg</td>\n</tr>\n<tr>\n<td>Clofazimine 150mg</td>\n<td>\n<p>Clofazimine 50mg<br /><br /></p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a middle aged diabetic with CKD stage 5 , which of the following can  be given safely without altering the dose?",
    "choices": [
      {
        "id": 1,
        "text": "Vildagliptin"
      },
      {
        "id": 2,
        "text": "Linagliptin"
      },
      {
        "id": 3,
        "text": "Saxagliptin"
      },
      {
        "id": 4,
        "text": "Sitagliptin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Linagliptin can be given safely without altering the dose for this patient.</p>\n<p>Linagliptin is a Dipeptidyl-peptidase-4 (DPP-4) Inhibitor. It is used in type 2 diabetes as monotherapy or in combination therapy with other drugs when metformin is not tolerated or contraindicated.</p>\n<p>Linagliptin is a DPP-4 inhibitor that is eliminated by a<strong> hepatobiliary route.&nbsp;</strong>Hence no dosage adjustment is needed in renal failure. Other DPP-4 inhibitors (sitagliptin, vildagliptin, saxagliptin, alogliptin) show renal elimination.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Mechanism of action of Oseltamivir  as an antiviral agent is:",
    "choices": [
      {
        "id": 1,
        "text": "Inhibition of M2 receptor"
      },
      {
        "id": 2,
        "text": "Neuraminidase inhibition"
      },
      {
        "id": 3,
        "text": "Inhibition of RNA dependent DNA polymerase"
      },
      {
        "id": 4,
        "text": "Apoptosis of infected cells"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Mechanism of action of Oseltamivir as an antiviral agent is neuraminidase inhibition.</p>\n<p>Oseltamivir carboxylate is a transition state analog of sialic acid&nbsp; that is a potent selective inhibitor of influenza&nbsp; A and B virus neuraminidases.</p>\n<p>Drug of choice in viral diseases:</p>\n<p>Measels, Respiratory syncytial virus, viral hemorrhagic fever:Ribavirin</p>\n<p>Seasonal influenza ,avian influenza:Oseltamivir</p>\n<p>Oseltamivir resistant influenza:zanamivir</p>\n<p>Prion disease:Flupirtine</p>\n<p>Herpes simplex ,varicella :acyclovir</p>\n<p>Acute herpes zooster: valacyclovir</p>\n<p>Cytomegalovirus retinitis : Gancicyclovir</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Observe the following curves, which of the following is true statement about sensitivity and specificity when the curve changes from green to pink?",
    "choices": [
      {
        "id": 1,
        "text": "Both sensitivity and specificity increase"
      },
      {
        "id": 2,
        "text": "Both sensitivity and specificity decrease"
      },
      {
        "id": 3,
        "text": "Sensitivity increases while specificity decreases"
      },
      {
        "id": 4,
        "text": "Sensitivity decreases while specificity increases"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The true statement is both sensitivity and specificity increase.</p>\n<p>Sensitivity: Proportion of all people with disease who test positive, or the probability that when the disease is present, the test is positive.<br /><strong>Sensitivity = TP / (TP + FN) or Sensitivity = 1 &ndash; false-negative rate</strong></p>\n<p>Specificity: Proportion of all people without disease who test negative, or the probability that when the disease is absent, the test is negative.<br /><strong>Specificity= TN / (TN + FP) or specificity= 1 &ndash; false-positive rate</strong></p>\n<p>In this question, switching from green to red increases number of true positive and true negatives and decreases false positive and negatives.<br />Hence <strong>leading to increased sensitivity and specificity.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://daily-rounds-staging.s3.amazonaws.com/uploads/83d8463ff30a456a8c6c81964733f35e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9666eeb443d94a1caa626022fda9e753x1280x715.JPEG"
    ]
  },
  {
    "text": "An autopsy was performed to find the cause of death of a person brought dead to the casualty and it showed a fracture of the thyroid cartilage and bruising around the neck. The cause of death is?",
    "choices": [
      {
        "id": 1,
        "text": "Hanging"
      },
      {
        "id": 2,
        "text": "Throttling"
      },
      {
        "id": 3,
        "text": "Strangulation"
      },
      {
        "id": 4,
        "text": "Mugging"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Both<strong> bruising around the neck</strong>&nbsp;and the<strong> fracture of the thyroid cartilage</strong>&nbsp;are findings seen in<strong> throttling.&nbsp;</strong>Throttling/manual strangulation is when bare hands are used to compress the neck and strangulate.</p>\n<p><br />Mechanism of death:</p>\n<ul>\n<li>Occlusion of blood vessels supplying blood to the brain (carotid arteries).</li>\n<li>Occlusion to airway probably plays a minor role if any, in causing death</li>\n<li>Carotid sinus pressure may result in vagus nerve stimulation, resulting in cardiac arrest (vagal inhibition)</li>\n</ul>\n<p>Autopsy findings:</p>\n<ul>\n<li>Bruising of neck: due to the grasping of the neck by the assailant.</li>\n<li>Abrasions on the neck: fingernail marks from assailant or victim</li>\n<li>Fracture of thyroid cartilage</li>\n<li>Inward fracture of greater cornu of the hyoid bone.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the test shown below.",
    "choices": [
      {
        "id": 1,
        "text": "Pachymetry"
      },
      {
        "id": 2,
        "text": "Tonometry"
      },
      {
        "id": 3,
        "text": "Refractometer"
      },
      {
        "id": 4,
        "text": "Laser interferometry"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image shows tonometry.</p>\n<p>This is a&nbsp;<strong>dynamic contour tonometer</strong> (Pascal).</p>\n<p>Intraocular pressure (IOP) readings are not affected by central corneal thickness.</p>\n<p>Pascal is the tonometer of choice for <strong>post LASIK corneas</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/61e38e2285db4ed3b16b6688aa4403a2.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient came to the Opthalmology OPD with corneal abrasion, corneal ulcer, corneal perforation and foreign body. Which of the following will not cause hypotonic maculopathy in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Suprachoroidal haemorrhage"
      },
      {
        "id": 2,
        "text": "Cyclodialysis of uvea"
      },
      {
        "id": 3,
        "text": "Corneal perforation"
      },
      {
        "id": 4,
        "text": "Filtration site leak"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Suprachoroidal haemorrhage will not cause hypotonic maculopathy in this patient.</p>\n<p>Maculopathy is common in eyes <strong>developing hypotony</strong>, defined a<strong>s IOP less than 5 mmHg</strong>. The most common cause is excessive drainage following glaucoma filtration surgery.</p>\n<p>Other causes include:</p>\n<ul style=\"list-style-type: disc;\">\n<li>Trauma (cyclodialysis cleft, penetrating injury)</li>\n<li>Chronic uveitis</li>\n<li>Retinal detachment.</li>\n<li>Systemic causes of hypotony (usually bilateral) include dehydration, hyperglycaemia in uncontrolled diabetes, uraemia and treatment with hyperosmotic agents or carbonic anhydrase inhibitors.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Regarding the procedure done with the needle shown below, which of the following is false?",
    "choices": [
      {
        "id": 1,
        "text": "To be done in lateral recumbent position"
      },
      {
        "id": 2,
        "text": "Breath holding is not necessary"
      },
      {
        "id": 3,
        "text": "The bevel should face upwards while inserting the needle"
      },
      {
        "id": 4,
        "text": "Coagulopathy is not an absolute contraindication"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above image shows a&nbsp;<strong>Lumbar puncture</strong> needle. Coagulopathy is an absolute contraindication.</p>\n<p>Absolute contraindications for lumbar puncture include:</p>\n<ul>\n<li>Thrombocytopenia or other bleeding diathesis (including ongoing anticoagulant therapy).</li>\n<li>Possible raised intracranial pressure.</li>\n<li>Suspected spinal epidural abscess.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8d962d89d54f487fa7141c5d458eb6d7.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient presented with hair loss and itching of the scalp along with mild discharge. Which of the following is useful for diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Tzanck smear"
      },
      {
        "id": 2,
        "text": "Gram stain"
      },
      {
        "id": 3,
        "text": "Slit skin smear"
      },
      {
        "id": 4,
        "text": "KOH mount"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above image shows <strong>tinea capitis,</strong> which presents with a well demarcated scaly patch in which hair shafts are broken off just above the skin resulting in alopecia. <strong>KOH mount</strong> is useful for the depicted condition.</p>\n<p>The disease may vary from scaling with minimal hair loss to discrete patches with &ldquo;black dots&rdquo; (broken infected hair) to boggy plaque with pustules (kerion).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c1921afef8e84c45a374fe5804ffcc2c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eee8ba7b9fbc4646b19cfcef0b4c2891x422x462.JPEG",
      "https://cdn1.dailyrounds.org/uploads/6ff2168014fc49df80019d204f97402cx421x285.JPEG"
    ]
  },
  {
    "text": "A child presented with complaints of itching and discharges on flexure aspect of elbow and the lesions were red as shown below. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pemphigus vulgaris"
      },
      {
        "id": 2,
        "text": "Psoriasis"
      },
      {
        "id": 3,
        "text": "Post traumatic pigmentation"
      },
      {
        "id": 4,
        "text": "Atopic dermatitis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the above case, the probable diagnosis is <strong>Atopic dermatitis. </strong></p>\n<p><strong>Atopic dermatitis </strong>is the cutaneous expression of the atopic state, characterised by a family history of asthma, allergic rhinitis or eczema.</p>\n<p>The etiology is only partially defined, but there is a clear genetic predisposition. A characteristic defect is impaired epidermal barrier. In many patients a mutation in gene encoding filaggrin (a structural protein in the stratum corneum) is responsible. The lesions are distributed in the flexural aspects.(as shown in the image).</p>\n<p>Patients may display many immunoregulatory abnormalities, including increased IgE synthesis, increased serum IgE levels, delayed type hypersensitivity reactions.</p>\n<p>Clinical features:</p>\n<ul>\n<li>Pruritus and scratching</li>\n<li>Course marked by exacerbations and remissions</li>\n<li>Lesions typical of eczematous dermatitis</li>\n<li>Personal or family history of atopy (asthma, allergic rhinitis, food allergy, eczema)</li>\n<li>Clinical course more than 6 weeks</li>\n<li>Lichenification of skin</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f3bc09412b924e29a5455de8e4bc65f0.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Of the following, all are findings of the condition in the below chest X-Ray except",
    "choices": [
      {
        "id": 1,
        "text": "Increased pulmonary blood flow"
      },
      {
        "id": 2,
        "text": "Narrow vascular pedicle"
      },
      {
        "id": 3,
        "text": "Right atrial enlargement"
      },
      {
        "id": 4,
        "text": "Pulmonary venous hypertension"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above x-ray is characteristic of Transposition of Great Arteries (egg on a string appearance). Findings that can be seein TGA are narrow vascular pedicle, right atrial enlargement, normal to increased pulmonary blood flow, but <strong>not</strong> pulmonary venous hypertension.</p>\n<p>The above X-Ray shows a heart which appears globular due to an abnormal convexity of the right atrial border and left atrial enlargement, and therefore appears like an egg. The superior mediastinum appears narrow which gives the appearance of an <strong>egg-on-a-string</strong>, which is characteristic of <strong>Transposition of Great Arteries (TGA).</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3b1e7385978c4c0582d80345cb7c87b3.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which is a mood stabiliser with an anti-suicidal role?",
    "choices": [
      {
        "id": 1,
        "text": "Carbamazepine"
      },
      {
        "id": 2,
        "text": "Lamotrigine"
      },
      {
        "id": 3,
        "text": "Lithium"
      },
      {
        "id": 4,
        "text": "Valproate"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Lithium</strong> is a mood stabilizer with an<strong> antisuicidal role</strong>.</p>\n<p>Maintenance treatment with lithium has shown to<strong> decrease the rate of suicide in mood disorders</strong>. Lithium was found to be better than other mood stabilizers such as carbamazepine, lamotrigine, and valproate.</p>\n<p>Other uses of lithium in depression:</p>\n<p>Recurrent depression with a cyclic pattern is controlled by either lithium or imipramine. Lithium is also used to augment standard antidepressant response in acute major depression in those patients who have had an inadequate response to monotherapy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the  name of the instrument given below:",
    "choices": [
      {
        "id": 1,
        "text": "Bent Hohmann Retractors"
      },
      {
        "id": 2,
        "text": "Bone holding forceps"
      },
      {
        "id": 3,
        "text": "Bone Distractors"
      },
      {
        "id": 4,
        "text": "Bone curretes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows bone holding forceps.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/85f6cfab968c49d5a924f0480b2abc0f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "While volunteering in an orphanage that takes care of disabled kids, you notice the typical hand-knee gait of polio in a child. He walks by putting his right hand on his right lower thigh while stepping forward. Which of the following muscle weakness is responsible for this finding?",
    "choices": [
      {
        "id": 1,
        "text": "Gluteus medius"
      },
      {
        "id": 2,
        "text": "Quadriceps"
      },
      {
        "id": 3,
        "text": "Gastrocnemius-soleus"
      },
      {
        "id": 4,
        "text": "Gluteus maximus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Polio commonly affects the<strong> quadriceps</strong>, and weakness of the quadriceps leads to the<strong> buckling (bending) of the knee</strong> while walking or bearing weight on the leg. So, in order to walk, the person has to prevent the buckling of the knee by <strong>supporting with the hand, producing a hand-knee gait</strong>.</p>\n<p>Examination findings in paralytic polio:</p>\n<p>A. In the early stage</p>\n<ul>\n<li><strong>Asymmetric motor paralysis -</strong>&nbsp;involvement of affected muscles is haphazard. No associated sensory loss.</li>\n<li>Commonly affects the&nbsp;<strong>lower limbs</strong></li>\n<li>Most common muscle affected - Quadriceps, although it is most often partially paralyzed</li>\n<li>Most common muscle to undergo<strong> complete paralysis - Tibialis anterior</strong></li>\n<li>The most affected muscle in the hand - Opponens pollicis</li>\n<li>Bulbar/bulbospinal polio - It is a rare but life-threatening disease affecting the motor neurons of the medulla and resulting in the involvement of the respiratory and cardiovascular centers, which may cause death.</li>\n</ul>\n<p>B. In the late-stage</p>\n<ul>\n<li>Weakness,<strong> wasting, and deformity of the limbs</strong></li>\n<li>At the hip-flexion-abduction-external rotation</li>\n<li>At the knee, flexion deformity is common; in severe cases, there is <strong>triple deformity: flexion, posterior subluxation, and external rotation</strong></li>\n<li>At the foot, the commonest deformity is equino-varus. Other deformities - equinovalgus, calcaneo-valgus, and calcaneo-varus</li>\n<li>In the upper limb: affects the shoulder and elbow, hand muscles are spared.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "March fracture is seen following stress in ____ of second metatarsal",
    "choices": [
      {
        "id": 1,
        "text": "Head"
      },
      {
        "id": 2,
        "text": "Neck"
      },
      {
        "id": 3,
        "text": "Shaft"
      },
      {
        "id": 4,
        "text": "Base"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This question is about stress fracture of the 2nd metatarsal which is called <strong>March fracture.</strong> <br />This is a controversial question. We have chosen <strong>Neck</strong> as the right answer, since only one option can be chosen.</p>\n<p>What various sources say:</p>\n<ul>\n<li>Campbell orthopedics 13/e says, \" patients often note the gradual onset of pain directly over the second metatarsal neck region.\"</li>\n<li>Uptodate says, \" A disproportionate number of stress fractures occur in the second metatarsal shaft, especially at the neck.\"</li>\n<li>Grays anatomy 41/e says, \"&nbsp; Metatarsals are miniature long bones and have a shaft, proximal base and distal head.\"</li>\n</ul>\n<p>This question is controversial because according to Gray&rsquo;s anatomy 41/e, the metatarsal bones do not have a neck. But when we have a look at uptodate, things start to get clear. Neck is part of the shaft and is the most common site for fracture. This is also confirmed by Campbell orthopedics. As this is an orthopedics question the best answer is neck of the metatarsal. The best answer to the question is in the following order:</p>\n<p><strong>Neck of the shaft &gt; Neck &gt; Shaft</strong></p>\n<p>March fracture is the neck of the shaft fracture of 2nd and 3rd metatarsal resulting from long, continued or often repeated stress like prolonged walking or running in people not accustomed to it. Thus it may occur in army recruits freshly committed to marching hence the name March Fracture.</p>\n<p>It heals spontaneously , so its treatment is symptomatic.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A pregnant lady with PIH was being monitored with bed rest in supine position. Which of the following is a complication of the below representation?",
    "choices": [
      {
        "id": 1,
        "text": "Ascending aorta syndrome"
      },
      {
        "id": 2,
        "text": "Superior vena caval syndrome"
      },
      {
        "id": 3,
        "text": "Abdominal aorta syndrome"
      },
      {
        "id": 4,
        "text": "Supine venacava syndrome"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Supine vena cava syndrome</strong> is the complication of the given representation. The image shows compression of the <strong>inferior vena cava</strong> by the gravid uterus which can sometimes lead to<strong> supine hypotension.</strong></p>\n<p>During <strong>late pregnancy</strong>, the <strong>gravid uterus</strong> compresses the <strong>great vessels</strong> against the hard <strong>spine</strong>, when the<strong> patient</strong> is in the&nbsp;<strong>supine</strong> position. Of the two vessels, the <strong>vena cava</strong> is compressed, but the aorta, owing to its structure&nbsp;is relatively resistant.</p>\n<p>Normally, the <strong>vena cava compression</strong> results in opening up collateral circulation by means of paravertebral and azygous veins but in some cases, when the <strong>collateral circulation fails to open up</strong>, the <strong>venous return of the heart</strong> may be seriously <strong>curtailed&nbsp;</strong>resulting in <strong>hypotension,</strong> <strong>tachycardia</strong>,&nbsp;and <strong>syncope</strong> and is called supine vena cava&nbsp;syndrome.</p>\n<p>The normal blood pressure is quickly restored by turning the patient to the&nbsp;lateral position.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8d89ac892aa7494bad6ee4d5ecd4cd0d.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 30 year old woman came to OPD with a twin pregnancy at 10 weeks of gestation. She has a 3 year old female child who was born at term and had 2 first trimester abortions previously. Which of the following is the correct representation of her obstetric score/formula. G=gravid, P= para:",
    "choices": [
      {
        "id": 1,
        "text": "G4P2L1A2"
      },
      {
        "id": 2,
        "text": "G4P1 A2 L1"
      },
      {
        "id": 3,
        "text": "G5P0 L1 A 2"
      },
      {
        "id": 4,
        "text": "G5P1 A2 L1"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The obstetric score is G4P1A2L1.</p>\n<p>Gravida and para refer to pregnancies and not to babies. <br /><strong>Gravida</strong>: Total number of pregnancies including the present one.<br /><strong>Para</strong>: Total number of pregnancies crossing the period of viability, which is 28 weeks in India.</p>\n<p><br />As such, a woman who delivers twins in the first pregnancy is still a gravida 1 and para 1. A pregnant woman with a previous history of 2 abortions and 1 term delivery can be expressed as 4th Gravida but primipara.</p>\n<p><br />It is customary in clinical practice to summarise the past obstetric history by 2 digits</p>\n<p>First digit: Number of viable births <br />Second digit: Number of abortions<br />Both digits connected with a &ldquo;+&rdquo; sign affixing the letter P.<br />Thus, P1+2 denotes patient had 1 viable birth and 2 abortions.</p>\n<p><br />In some centres, it is expressed by 4digits connected by dashes, <strong>P(A-B-C-D)</strong><br />A: Number of term pregnancies (37-42 weeks)<br />B: Number of preterm pregnancies (28 to less than 37 weeks)<br />C: Number of miscarriages (less than 28 weeks)<br />D: Number of children alive at present.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The partogram is plotted in regular intervals after _ cm dilatation:",
    "choices": [
      {
        "id": 1,
        "text": "5 cm"
      },
      {
        "id": 2,
        "text": "8 cm"
      },
      {
        "id": 3,
        "text": "4 cm"
      },
      {
        "id": 4,
        "text": "6 cm"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The partograph is plotted in regular intervals after <strong>4 cm dilatation.</strong></p>\n<p>In a partograph, the labor process is divided into</p>\n<ol style=\"list-style-type: lower-alpha;\">\n<li><strong>The latent phase</strong> ends when cervix dilated up to<strong>&nbsp;4 cm</strong></li>\n<li><strong>The active phase</strong> begins with cervical dilatation of<strong> &ge;6&nbsp;cm and ends at 10 cm dilatation</strong> at the rate of 1 cm/hour.</li>\n</ol>\n<p>The latent phase of labor&nbsp;is slow and extremely variable, while the active phase of labor is fairly predictable in terms of duration. Even though the active phase of labor&nbsp;is from more than 6cm dilatation, partograph is marked from 4 cm dilatation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In fetal alcohol syndrome, which of the following is not seen?",
    "choices": [
      {
        "id": 1,
        "text": "Thinning of corpus callosum"
      },
      {
        "id": 2,
        "text": "Microcephaly"
      },
      {
        "id": 3,
        "text": "Holoprosencephaly"
      },
      {
        "id": 4,
        "text": "Macrocephaly"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Fetal alcohol syndrome is associated with microcephaly rather than macrocephaly.</p>\n<ul>\n<li>High levels of alcohol ingestion during pregnancy can be damaging to embryonic and fetal development.</li>\n<li>The presence of at least one of the below characteristics is defined as fetal alcohol syndrome:</li>\n</ul>\n<ul style=\"list-style-type: circle;\">\n<li>&nbsp;Growth restriction before and/or after birth</li>\n<li>Facial anomalies: small palpebral fissures, indistinct or absent philtrum, epicanthic folds, flattened nasal bridge, short length of nose, thin upper lip, lowset and unparallel ears, retarded midfacial development.</li>\n<li>CNS dysfunction: Microcephaly, mental retardation, abnormal neurobehavioral development (attention deficit with hyperactivity)</li>\n</ul>\n<p>Other features:</p>\n<ul style=\"list-style-type: circle;\">\n<li>Incomplete holoprosencephaly</li>\n<li>Agenesis of corpus callosum and the cerebellar vermis.</li>\n<li>Cardiac anomalies :VSD&gt;ASD ,tetralogy of fallot.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 3 month old male child came with history of fever and respiratory distress. Suspecting pneumonia, chest X ray was ordered. Which of the following is most likely organism?",
    "choices": [
      {
        "id": 1,
        "text": "Klebsiella pneumonia"
      },
      {
        "id": 2,
        "text": "Streptococcus pneumonia"
      },
      {
        "id": 3,
        "text": "Mycoplasma pneumonia"
      },
      {
        "id": 4,
        "text": "Staphylococcal pneumonia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The X-ray shows pneumatoceles (air filled cysts within lung parenchyma), these commonly occur in staphylococcus pneumonia.</p>\n<p>Pneumonia caused by Staphylococcus may be primary or secondary after a viral infection such as influenza. Common symptoms and signs include high fever, abdominal pain, tachypnoea, dyspnoea and localised or diffuse bronchopneumonia or lobar disease.</p>\n<p>S. aureus often causes a necrotizing pneumonitis that may be associated with the early development of empyema, pneumatocele,pyopneumothorax and bronchopleural fistulas.</p>\n<p><strong>Note:</strong> Pneumatocoele can also be caused by&nbsp;Streptococcus pneumoniae,&nbsp;Haemophilus influenzae, E. coli,&nbsp;group A streptococci,&nbsp;Klebsiella pneumoniae, etc.&nbsp; But&nbsp;Staphylococcus aureus is most common.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ea202ee493844d848986c4963ea0e4cd.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient was brought to the casualty ward with high fever and pain abdomen.  He had a history of bloody diarrhea for several months. The abdominal X-ray image obtained is shown below. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Toxic megacolon"
      },
      {
        "id": 2,
        "text": "Volvulus"
      },
      {
        "id": 3,
        "text": "Intestinal perforation"
      },
      {
        "id": 4,
        "text": "Pneumatosis intestinalis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The probable diagnosis is toxic megacolon.</p>\n<p>The X-ray image shows a dilated loop of the transverse colon. The <strong>history of bloody diarrhea since many days is highly suggestive of ulcerative colitis</strong>. Sudden onset of fever, abdominal pain with<strong> dilated loops of bowel in a patient </strong>of<strong> ulcerative colitis is highly suggestive of toxic megacolon.</strong></p>\n<p>A plain abdominal X-ray film may indicate the severity of ulcerative colitis in the acute setting and is particularly valuable in demonstrating the development of toxic megacolon.<br />Feces are present only in parts that are normal or only mildly inflamed. Mucosal islands can sometimes be seen. Small bowel loops in the right lower quadrant maybe a sign of severe disease.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0322f09ac36d47dbbaf621d24c10969b.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old woman was brought to the casualty ward with a history of road traffic accident (RTA) and head trauma.  Her eye opens to pain, moans, can localize limb towards the pain stimulus on the left hand and away from the pain stimulus on the right hand and both the legs in extended posture. Calculate her GCS.",
    "choices": [
      {
        "id": 1,
        "text": "11"
      },
      {
        "id": 2,
        "text": "9"
      },
      {
        "id": 3,
        "text": "7"
      },
      {
        "id": 4,
        "text": "3"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The GCS (Glasgow Coma Scale) of this patient is E2V2M5, which comes to a total score of 9.<br />E2-Eye opens to pain<br />V2-Moans<br />M5-Localizes to pain on the left hand (the score represents the best performance elicited, which would be localizing towards the pain stimulus)</p>\n<p>Revised Glasgow coma scale for head injury:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40 year old female with burns over her abdomen, both limbs and back and presented after 8 hours. Which of the following is the formula for calculation of fluid infusion?",
    "choices": [
      {
        "id": 1,
        "text": "2 ml/kg X %TBSA for the next 16 hours"
      },
      {
        "id": 2,
        "text": "5 ml/kg X %TSBA for the next 16 hours"
      },
      {
        "id": 3,
        "text": "4 ml/kg X %TSBA for first 8 hours then 2 ml/kg X %TBSA for next 16 hours"
      },
      {
        "id": 4,
        "text": "4 ml/kg X%TSBA for the next 16 hours"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Fluid resuscitation in burns:</strong></p>\n<p>According to ATLS 10th edition, 2018, the<strong> resuscitation formula</strong> used in thermal burns is&nbsp;<strong>2 mL/kg &times; % TBSA.</strong></p>\n<p>First 8 hours: 1 mL/kg &times; % TBSA (lactated Ringer solution)<br />Next 16 hours: 1 mL/kg &times; % TBSA (lactated Ringer solution)</p>\n<p>For a patient presenting 8 hours after sustaining thermal burns, the total volume using resuscitation formula should be given in the next 16 hours i.e;&nbsp;<strong>2 mL/kg &times; % TBSA in the next 16 hours&nbsp;</strong>while maintaining target urine output&nbsp;of 0.5 mL/kg/hr for adults.</p>\n<p>In adults, urine output should be maintained between 30 and 50 cc/hr to minimize potential over-resuscitation.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fecbb8ae8afd47268d6bb945e9d77ad6x317x400.PNG"
    ]
  },
  {
    "text": "A 25 year old patient presented with neck swelling which moves with deglutition as shown below. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Branchial cyst"
      },
      {
        "id": 2,
        "text": "Cystic hygroma"
      },
      {
        "id": 3,
        "text": "Thyroglossal cyst"
      },
      {
        "id": 4,
        "text": "Cervical lymphadenopathy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The probable diagnosis is thyroglossal cyst.</p>\n<p>The above question describes a swelling which moves with deglutition. <strong>Classically, swellings associated with the thyroid move with deglutition</strong>. Goitre and thyroglossal cyst, move with deglutition. In this question, only thyroglossal cyst is given, so this is the answer.</p>\n<p>The thyroid gland descends early in fetal life from the base of the tongue towards its position in the lower neck. At the time of descent, the hyoid bone has not been formed and the track of the thyroid gland is variable, passing in front, through or behind the eventual position of the hyoid body. <strong>Thyroglossal cyst represents the persistence of the track of thyroid gland and can be found adjacent to the midline.</strong></p>\n<p>Classically the cyst moves upwards on swallowing and on tongue protrusion , and it indicates attachment to the hyoid bone. Although they often occur in children they may also present in adults, even as late as 6th or 7th decade.</p>\n<p>Treatment:</p>\n<p><strong>Sistrunk&rsquo;s operation</strong></p>\n<p>Excision of the whole thyroglossal tract , involving removal of the body of the hyoid bone, and suprahyoid tract through the tongue base to the vallecula at the site of the primitive foramen caecum together with the core of tissue on either side.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/78629fb4cce54471b45ec6223212b1f4.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is not a feature of Myasthenia Gravis among the following?",
    "choices": [
      {
        "id": 1,
        "text": "Muscle fatigue"
      },
      {
        "id": 2,
        "text": "Absent deep tendon reflexes"
      },
      {
        "id": 3,
        "text": "Normal pupillary reflex"
      },
      {
        "id": 4,
        "text": "Ptosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Absent deep tendon reflex is not a feature of myasthenia gravis.</p>\n<p>Myasthenia gravis is an autoimmune neuromuscular disorder characterized by weakness and fatigability of skeletal muscles. Reflexes are normal in Myasthenia gravis.<br />The underlying defect is a decrease in the number of available acetylcholine receptors (AChRs) at neuromuscular junction due to an antibody mediated autoimmune attack.</p>\n<p>Clinical features:</p>\n<ul>\n<li><strong>Weakness increases during repeated use or late in the day and may improve following rest or sleep.</strong></li>\n<li>Cranial muscles particularly the lids and extraocular muscles are involved early in the course - <strong>diplopia, ptosis</strong></li>\n<li>Facial weakness - snarling expression on smiling</li>\n<li>Weakness in chewing</li>\n<li>Speech with nasal timbre due to weakness of palate and tongue</li>\n<li>Difficulty in swallowing</li>\n<li>Bulbar weakness</li>\n<li><strong>Limb weakness is proximal and asymmetric</strong></li>\n<li><strong>Deep tendon reflexes are preserved</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient came to the casualty after a RTA with fracture of femur. On 3rd day of admission he developed sudden breathlessness. Which of the following is the most common cause",
    "choices": [
      {
        "id": 1,
        "text": "Hypovolemic shock"
      },
      {
        "id": 2,
        "text": "Pulmonary hypertension"
      },
      {
        "id": 3,
        "text": "Post trauma MI"
      },
      {
        "id": 4,
        "text": "Fat embolism"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>History of sudden onset breathlessness on day 3rd of admission after femur fracture should raise suspicion of fat embolism(<strong>fracture femur + breathlessness after 48 hours: fat embolism)</strong>. Considering all the options given in this question, fat embolism is the appropriate answer.</p>\n<p>Fat embolism is the presence of fat globules in vital organs and peripheral circulation after fracture of the long bone or other major trauma.</p>\n<p>The pathogenesis can be explained by 2 events</p>\n<ul>\n<li>Release of <strong>free fatty acids</strong> by action of lipases on the neutral fats</li>\n<li>Actual obstruction of small pulmonary vessels by fat globules</li>\n</ul>\n<p>Clinical features:</p>\n<ul>\n<li>Early signs are <strong>fever and tachycardia</strong></li>\n<li>Presenting features are 2 types</li>\n<li><strong>Cerebral type</strong>: drowsy, restless, disoriented</li>\n<li><strong>Pulmonary type</strong>: tachypnoea, tachycardia</li>\n<li>Other features:<strong> petechial rash</strong> in front of neck/ anterior axillary fold/ chest/ conjunctiva</li>\n</ul>\n<p><br /><strong>Classic triad: dyspnea/tachypnea + confusion/disorientation + Petechial rash</strong></p>\n<p>Diagnosis:</p>\n<p><strong>Gurds criterion for fat embolism:</strong></p>\n<p>Major criteria:</p>\n<ul>\n<li><strong>P</strong>etechiae</li>\n<li><strong>P</strong>ao2 &lt;60mmhg</li>\n<li><strong>P</strong>ulmonary edema</li>\n<li>CNS de<strong>p</strong>ression</li>\n</ul>\n<p>Minor criteria include tachycardia, fever, anaemia, thrombocytopenia, fat globules in sputum, fat globules in urine(Gurd test), Increasing ESR, retinal emboli.<br /><strong>Diagnosis: 1 major + 4 minor criteria</strong></p>\n<p><strong>X-Ray chest</strong> shows <strong>patchy pulmonary infiltration (snow storm appearance)</strong></p>\n<p>Treatment:</p>\n<ul>\n<li>Respiratory support(O2 is the only therapeutic tool of proven benefit)</li>\n<li>Heparinization(increases lipoprotein lipase activity)</li>\n<li>Intravenous low molecular weight dextran</li>\n<li>Corticosteroids: To avoid pneumonitis</li>\n<li>IV 5% dextrose solution(decreases free fatty acid production) with 5% alcohol(vasodilator and lipolytic effect) helps emulsification of fat globules.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A middle aged man presented with frontal bossing, a large tongue and he had spade shaped hands. Which of the following tests will you do for diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Thyroid hormone assay"
      },
      {
        "id": 2,
        "text": "Serum prolactin"
      },
      {
        "id": 3,
        "text": "Insulin like growth factor"
      },
      {
        "id": 4,
        "text": "Serum testosterone"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The question describes a middle-aged man with frontal bossing, a large tongue and spade-shaped hands, this is highly suggestive of acromegaly. Insulin-like growth factor(IGF-1) levels are used for diagnosis of acromegaly.</p>\n<p>Acromegaly is the clinical syndrome that results from excessive secretion of growth hormone (GH).</p>\n<p><strong>Clinical features</strong> of Acromegaly are:</p>\n<ul>\n<li>Soft tissue swelling results in increased heel pad thickness</li>\n<li><strong>Increased shoe or glove size, ring tightening</strong></li>\n<li>Characteristic <strong>coarse facial features-frontal bossing</strong>, mandibular enlargement with <strong>prognathism</strong>, widened space between the lower incisor teeth, and a large fleshy nose.</li>\n<li>Hyperhidrosis &amp; oily skin</li>\n<li>A deep and hollow-sounding voice</li>\n<li>Arthropathy, kyphosis and <strong>carpal tunnel syndrome</strong></li>\n<li>Proximal muscle weakness and fatigue</li>\n<li><strong>Acanthosis nigricans</strong> and skin tags.</li>\n<li>Generalized visceromegaly occurs, including cardiomegaly, <strong>macroglossia,</strong> and thyroid gland enlargement.</li>\n</ul>\n<p>Diagnosis:</p>\n<p><strong>Screening test: Insulin-like growth factor(IGF-1)</strong> levels&nbsp;are measures. GH is also increased but interpretation of GH values is unreliable because of pulsatility in GH secretion.<br /><strong>Confirmatory test: GH suppression test</strong>: Demonstrating the failure of GH suppression to &lt;0.4 &mu;g/L within 1&ndash;2 h of an oral glucose load (75 g).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'M2 - Aiims 2017 May Recall - Part 1';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2017-18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>