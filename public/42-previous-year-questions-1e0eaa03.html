<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>42 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pediatrics
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">15</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>\u00a0</p>\n\n<p>A 10-year-old\u00a0 child, treated with antibiotics for follicular tonsillitis, presents with periorbital edema. Blood work reveals eosinophilia and urine microscopy shows WBC casts. What is the most likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Pyelonephritis"
      },
      {
        "id": 2,
        "text": "Allergic interstitial nephritis"
      },
      {
        "id": 3,
        "text": "Glomerulonephritis"
      },
      {
        "id": 4,
        "text": "IgA nephritis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - Allergic <span class=\"customMeta\" data-dictid=\"f46ba26d111692777190def3b1d80a\">interstitial</span> nephritis:</strong></p>\n\n<ul>\n\t<li>The presence of\u00a0eosinophilia along with WBC\u00a0casts in\u00a0the urine\u00a0of a patient after consuming a course of antibiotics indicates a potential diagnosis of <span class=\"customMeta\" data-dictid=\"822dbdee8c169277718110f56ff9c2\">allergic <span class=\"customMeta\" data-dictid=\"f46ba26d111692777190def3b1d80a\">interstitial</span> nephritis</span> (AIN).</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Options A, B, and C </strong>do not exhibit <span class=\"customMeta\" data-dictid=\"91bc3a9b3e16927771871bcff74db7\">eosinophilic</span> casts in the urine.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 4-year-old child presents with a 14 cm tender mass in the flank region. The parents report noticing the mass gradually increasing in size over the past few weeks. On physical examination, the child appears well but discomforted due to the mass. The mass is non-fluctuant, firm, and non-mobile, with no signs of inflammation or skin changes. There are no other associated symptoms. What is the most likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Wilm\u2019s tumor"
      },
      {
        "id": 2,
        "text": "Angiomyolipoma"
      },
      {
        "id": 3,
        "text": "Renal cell carcinoma"
      },
      {
        "id": 4,
        "text": "Neuroblastoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a0Wilm's tumor: </strong></p>\n\n<ul>\n\t<li>This is the correct answer. Wilm's tumor, also known as nephroblastoma, is a rare <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> cancer that primarily affects children. The symptoms described, including a large, firm, non-mobile mass in the <span class=\"customMeta\" data-dictid=\"316968b3e116927772021379938005\">flank</span> region, are consistent with this diagnosis. Wilm's tumor is the most common <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> cancer in children, and most cases are diagnosed before the age of 5.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option B - Angiomyolipoma: </strong>Angiomyolipomas are <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> tumors that typically occur in the kidney. While they can cause a <span class=\"customMeta\" data-dictid=\"bd478e4ff816927771949528846af9\">palpable</span> mass, they are much more common in adults and are very rare in children.</p>\n\n<p><strong>Option C - <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">Renal</span> cell carcinoma: </strong>Renal cell <span class=\"customMeta\" data-dictid=\"988c19e3131692777183b6744d1920\">carcinoma</span> is the most common type of <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> cancer in adults, but it is very rare in children. The child's age and the characteristics of the mass make this an unlikely diagnosis.</p>\n\n<p><strong>Option D - Neuroblastoma: </strong>Neuroblastoma is a cancer that often starts in the <span class=\"customMeta\" data-dictid=\"f955f012f716927771801d01e7d163\">adrenal</span> glands, which are on top of the kidneys. It can cause a mass in the abdomen, but it is usually associated with other symptoms such as fever, bone pain, and unexplained weight loss.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 4-year-old male child with a body weight of 15kg and height of 100cm is admitted with renal failure. His blood urea was 100 mg/dL and serum creatinine was 1 mg/dL. What is the closest calculated eGFR in the patient?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "33 ml/min/1.73 m2 BSA"
      },
      {
        "id": 2,
        "text": "40 ml/min/1.73 m2 BSA"
      },
      {
        "id": 3,
        "text": "55 ml/min/1.73 m2 BSA"
      },
      {
        "id": 4,
        "text": "80 ml/min/1.73 m2 BSA"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>\u00a0</p>\n\n<p><strong>Correct Answer: B) 40 ml/min/1.73 m2 <span class=\"customMeta\" data-dictid=\"270c00aff316927771839a8749b963\">BSA</span> </strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong>The closest calculated eGFR in the patient is <strong>40 ml/min/1.73 m2 BSA. </strong></p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:568px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Schwartz formula</strong></p>\n\t\t\t\u00a0\n\n\t\t\t<p><strong>GFR (mL/min/1.73 m\u00b2) = (k x height (cm)) / <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">Serum</span> <span class=\"customMeta\" data-dictid=\"2ead0fd0301692777185187bd72768\">creatinine</span> (mg/dL)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>Substituting the values:</strong></li>\n</ul>\n\n<p>GFR = (0.41 x 100 cm) / 1 mg/dL = 41 mL/min/1.73 m\u00b2 BSA.</p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li><strong>Purpose: </strong>Quick, bedside estimation of <span class=\"customMeta\" data-dictid=\"1c745475f51692777188c744487e6f\">GFR</span> using <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"2ead0fd0301692777185187bd72768\">creatinine</span> and height.</li>\n\t<li><strong>Creatinine-Based: </strong>The formula uses <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"2ead0fd0301692777185187bd72768\">creatinine</span> as a marker, which can be affected by factors such as age, muscle mass, and diet.</li>\n\t<li><strong>Height Inclusion:</strong> Height is included in the formula to account for the relationship between body size and <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> function, which is particularly important in growing children.</li>\n\t<li><strong>Constant \"k\":</strong> The value of k varies as a function of age and sex being 0.33 in <span class=\"customMeta\" data-dictid=\"ac9f7287191692777196e8c02d1f3d\">preterm</span> infants, 0.45 in full-term infants, 0.55 in children and adolescent girls, and 0.70 in adolescent boys.</li>\n\t<li>This formula is generally used for estimating <span class=\"customMeta\" data-dictid=\"1c745475f51692777188c744487e6f\">GFR</span> in <strong>children and adolescents up to 18 years old</strong>.</li>\n\t<li><strong>Limitations:</strong>\n\t<ul>\n\t\t<li>Accuracy issues in populations with altered <span class=\"customMeta\" data-dictid=\"2ead0fd0301692777185187bd72768\">creatinine</span> production or excretion.</li>\n\t\t<li><strong>Not a gold standard</strong>; less accurate compared to <span class=\"customMeta\" data-dictid=\"148f7d4c3616927771902fa8ee1baa\">inulin</span> or <span class=\"customMeta\" data-dictid=\"313beedc511692777190a72fab789d\">iohexol</span> clearance.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Clinical use:</strong>\n\t<ul>\n\t\t<li>Often used alongside other findings to assess <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> function.</li>\n\t\t<li>Interpret results within the broader clinical picture, recognizing limitations.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><br />\n\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Age Group</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>GFR (mL/min/1.73 m\u00b2)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Inference</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Birth (Full-term Infants)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>15-20</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>GFR is low at birth; <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> function is still maturing.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Birth (Preterm Infants)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>10-15</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Lower <span class=\"customMeta\" data-dictid=\"1c745475f51692777188c744487e6f\">GFR</span> compared to full-term infants due to underdeveloped kidneys.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2 Weeks</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>35-45</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Rapid increase in <span class=\"customMeta\" data-dictid=\"1c745475f51692777188c744487e6f\">GFR</span> as <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> function starts maturing.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2 Months</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>75-80</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Continued rapid increase, nearing levels seen in older infants.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Childhood (up to 2 years)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Approaches 80-120 (comparable to adults after <span class=\"customMeta\" data-dictid=\"92a52a7756169277718538d58fe1a9\">correction</span> for body size)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Renal function continues to improve, reaching near-adult <span class=\"customMeta\" data-dictid=\"1c745475f51692777188c744487e6f\">GFR</span> levels by age two when corrected for body surface area.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Regarding urinary tract infection (UTI) in children, which of the following is true?</p>\n\n<ol>\n\t<li>Most common cause of UTI is Streptococcus pneumoniae.</li>\n\t<li>Bowel, bladder dysfunction increases the risk of recurrence.</li>\n\t<li>Cotrimoxazole is not given.</li>\n\t<li>Micturating cysto-urethrogram (MCU) is done in children with recurrence of UTI.</li>\n</ol>",
    "choices": [
      {
        "id": 1,
        "text": "1, 3, 4"
      },
      {
        "id": 2,
        "text": "2, 4"
      },
      {
        "id": 3,
        "text": "2, 3, 4"
      },
      {
        "id": 4,
        "text": "1, 4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) 2, 4\u00a0</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation: </strong>The true statements regarding <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections (UTI) in children are that <strong>bowel-bladder <span class=\"customMeta\" data-dictid=\"3662597407169277718640a12868f5\">dysfunction</span> increases the risk of <span class=\"customMeta\" data-dictid=\"210e94f8861692777201a0d6de4b0e\">UTI</span> recurrence</strong>, and <strong>micturating cysto-urethrogram (MCU) is performed in cases of recurrence.</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Urinary <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">Tract</span> Infections (UTIs) in Children:</strong>\u00a0</p>\n\n<ul>\n\t<li><strong>Etiology and Prevalence:</strong>\n\n\t<ul>\n\t\t<li><strong>Primary Cause:</strong> <span class=\"customMeta\" data-dictid=\"566fcef0991692777184068f36db82\">Colonic</span> bacteria <span class=\"customMeta\" data-dictid=\"62f0d7c8491692777182ab7cc82edb\">ascending</span> the <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> tract.</li>\n\t\t<li><strong>Common Pathogen: <span class=\"customMeta\" data-dictid=\"c2ea0d4bf01692777187d486aa6385\">Escherichia</span> <span class=\"customMeta\" data-dictid=\"cd0a7121a516927771846d8f5248bb\">coli</span> (54-67% of cases). (1)</strong></li>\n\t\t<li><strong>Other Pathogens:</strong> <span class=\"customMeta\" data-dictid=\"50f3c6e8dd16927771902c55d555b8\">Klebsiella</span> spp., <span class=\"customMeta\" data-dictid=\"6b6c88fbf01692777196110a6c7118\">Proteus</span> spp., Enterococcus, Pseudomonas.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Clinical Features and Classification:</strong>\n\t<ul>\n\t\t<li><strong>Pyelonephritis (Kidney Infection):</strong> Upper <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> collecting system involved\n\t\t<ul>\n\t\t\t<li>Symptoms: Abdominal/back/flank pain, fever, malaise, nausea, vomiting, diarrhea.</li>\n\t\t\t<li>Newborns: Non-specific symptoms like poor feeding, irritability, jaundice, weight loss.</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li><strong>Cystitis (Bladder Infection): </strong>Only <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> involved\n\t\t<ul>\n\t\t\t<li>Symptoms: Dysuria, urgency, frequency, <span class=\"customMeta\" data-dictid=\"9011a765f816927771996863c4d12e\">suprapubic</span> pain, incontinence, malodorous urine.</li>\n\t\t\t<li>Typically does not cause high fever or <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> injury.</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li><strong>Risk Factors for <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">Recurrent</span> UTI:</strong>\n\t<ul>\n\t\t<li>Vesicoureteral <span class=\"customMeta\" data-dictid=\"def94cc96d16927771970d1a5cfb71\">Reflux</span> (VUR)</li>\n\t\t<li><strong>Bladder-Bowel <span class=\"customMeta\" data-dictid=\"3662597407169277718640a12868f5\">Dysfunction</span> (BBD) (2)</strong></li>\n\t\t<li>Obstructive Uropathy</li>\n\t\t<li>Urinary <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">Tract</span> Abnormalities: <span class=\"customMeta\" data-dictid=\"116f86834a1692777181a914379270\">Anatomical</span> issues like <span class=\"customMeta\" data-dictid=\"59733f304e1692777191d9deb34f10\">labial</span> adhesion.</li>\n\t\t<li>Neuropathic Bladder</li>\n\t\t<li>Catheterisation: Procedures introducing bacteria.</li>\n\t\t<li>Sexual Activity: Increases <span class=\"customMeta\" data-dictid=\"210e94f8861692777201a0d6de4b0e\">UTI</span> risk in females.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Diagnosis:</strong>\n\t<ul>\n\t\t<li><strong>Urine Culture: </strong>Gold standard for <span class=\"customMeta\" data-dictid=\"210e94f8861692777201a0d6de4b0e\">UTI</span> diagnosis; identifies and quantifies bacteria.\n\t\t<ul>\n\t\t\t<li><strong>Interpretation:\u00a0</strong></li>\n\t\t\t<li>A colony count of >50,000 colony-forming units/mL of a single pathogen, along with <span class=\"customMeta\" data-dictid=\"53d0aa97fa1692777196817c1db471\">pyuria</span> or <span class=\"customMeta\" data-dictid=\"12ad1324531692777182ebea7440b6\">bacteriuria</span> in a <span class=\"customMeta\" data-dictid=\"509310d4411692777199f2ffdb7769\">symptomatic</span> child, is generally considered <span class=\"customMeta\" data-dictid=\"552e9ef8811692777186997018b858\">diagnostic</span> of a UTI.</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li><strong>Urinalysis: </strong>Leukocyte <span class=\"customMeta\" data-dictid=\"ca1d8cf43716927771875762739d8d\">Esterase</span> and Nitrites positive.</li>\n\t\t<li><strong>Imaging Studies:\u00a0 </strong></li>\n\t</ul>\n\t</li>\n</ul>\n\n<p style=\"text-align:center\"><img alt=\"UTI Investigation\" data-author=\"\" data-hash=\"10705\" data-license=\"\" data-source=\"\" data-tags=\"April2025\" height=\"400\" src=\"https://image.prepladder.com/notes/TyMvCDiYJdzyM6X0We3H1745244119.jpg\" width=\"400\" /></p>\n\n<p><strong>Treatment:</strong></p>\n\n<ul>\n\t<li><strong>Antibiotic Therapy: </strong>Mainstay of <span class=\"customMeta\" data-dictid=\"210e94f8861692777201a0d6de4b0e\">UTI</span> treatment.</li>\n</ul>\n\n<table cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"vertical-align:top\">\n\t\t\t<p><strong>Treatment Specific to <span class=\"customMeta\" data-dictid=\"210e94f8861692777201a0d6de4b0e\">UTI</span> Presentations</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"vertical-align:top\">\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"vertical-align:top\">\n\t\t\t<p><strong>Acute Cystitis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"vertical-align:top\">\n\t\t\t<p>\u2022 Common Antibiotics: <strong>TMP-SMX (cotrimoxazole) (3)</strong>, Nitrofurantoin, Amoxicillin\u00a0</p>\n\n\t\t\t<p>\u2022 Duration: 3-5 days</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"vertical-align:top\">\n\t\t\t<p><strong>Acute Pyelonephritis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"vertical-align:top\">\n\t\t\t<p>\u2022 Hospitalized: IV Ceftriaxone, Cefepime, Cefotaxime</p>\n\n\t\t\t<p>\u2022 Outpatient: Oral Cefixime, Cephalexin</p>\n\n\t\t\t<p>\u2022 Avoid Nitrofurantoin<strong>,</strong> use Fluoroquinolones for resistant strains.</p>\n\n\t\t\t<p>\u2022 Duration: 7-14 days</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"vertical-align:top\">\n\t\t\t<p><strong>Acute <span class=\"customMeta\" data-dictid=\"82ded933641692777191ee421dc094\">Lobar</span> Nephronia/Abscess</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"vertical-align:top\">\n\t\t\t<p>\u2022 Similar to pyelonephritis, but longer duration (14-21 days)</p>\n\n\t\t\t<p>\u2022 <span class=\"customMeta\" data-dictid=\"b2fb1a3a5416927771953ea4fa15e1\">Percutaneous</span> or <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> <span class=\"customMeta\" data-dictid=\"dd824a31e71692777186c7f8168998\">drainage</span> for abscesses</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/TyMvCDiYJdzyM6X0We3H1745244119.jpg"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>An 8-year-old boy presented with dark-coloured urine, oliguria, hypertension, and facial puffiness for 3 days. The urine test is positive for albumin. He had a history of throat infection 2 weeks back. On microscopic examination, enlarged, pale glomeruli and epithelial humps are seen. Which of the following is the most likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Post-staphylococcal glomerulonephritis"
      },
      {
        "id": 2,
        "text": "Post-streptococcal glomerulonephritis"
      },
      {
        "id": 3,
        "text": "Nephrotic syndrome"
      },
      {
        "id": 4,
        "text": "IgA nephropathy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer B - Post-streptococcal glomerulonephritis</strong></p>\n\n<ul>\n\t<li>The child here presents with dark urine, proteinuria, oliguria, <span class=\"customMeta\" data-dictid=\"45372f6c361692777189ff3209e642\">hypertension</span> and oedema with a history of throat infection 2 weeks back all suggest the diagnosis of <strong>post-streptococcal glomerulonephritis</strong>.</li>\n</ul>\n\n<table align=\"center\" cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Post-streptococcal <span class=\"customMeta\" data-dictid=\"d3658e1af116927771887bc5b8a57e\">glomerulonephritis</span> (PSGN)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Clinical Presentation</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Acute nephritic syndrome: Hematuria, oliguria, edema, hypertension</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Proteinuria</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>(1+ to 2+) levels of proteinuria</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Hematuria</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Common, with cola-colored <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> due to gross hematuria</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Urinary Casts</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Red blood cell casts (indicating <span class=\"customMeta\" data-dictid=\"1ad1e71a4a1692777188853097f685\">glomerular</span> inflammation)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Serum Albumin</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Usually normal unless severe <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> impairment</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Blood <span class=\"customMeta\" data-dictid=\"38d4be106e169277720105b006c26b\">Urea</span> and Creatinine</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Elevated due to impaired <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> function</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Serum <span class=\"customMeta\" data-dictid=\"f0ff39a3fa1692777184cf743ca1e7\">Complement</span> C3</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Low in 90% of cases, returns to normal in 8-12 weeks</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Cholesterol</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>No significant hypercholesterolemia</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>ASO/Anti-DNase B Titers</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Elevated <span class=\"customMeta\" data-dictid=\"3e7108fe871692777182786921689e\">ASO</span> titers (pharyngitis) or anti-DNase B (skin infection)</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Post-staphylococcal <span class=\"customMeta\" data-dictid=\"d3658e1af116927771887bc5b8a57e\">glomerulonephritis</span> (Option A):</strong> While <span class=\"customMeta\" data-dictid=\"71c203268816927771994a1fffd645\">Staphylococcus</span> aureus infections can also cause glomerulonephritis, they are less commonly associated with the classic immune complex deposits seen in PSGN.</p>\n\n<p><strong>Nephrotic syndrome (Option C) </strong>involves the clinical findings of hypoalbuminemia, oedema, proteinurua and hyperlipidemia. Even though some clinical findings are similar to that given in the scenario, <span class=\"customMeta\" data-dictid=\"7063996c3816927771930f70c92eb4\">nephrotic</span> syndrome does not cause dark-coloured urine</p>\n\n<p><strong>IgA <span class=\"customMeta\" data-dictid=\"b06dd1c5181692777193f14f3ed7d7\">nephropathy</span> (Option D) </strong>or Berger <span class=\"customMeta\" data-dictid=\"b06dd1c5181692777193f14f3ed7d7\">nephropathy</span> is a chronic <span class=\"customMeta\" data-dictid=\"1ad1e71a4a1692777188853097f685\">glomerular</span> disease in children characterised by an increased concentration of <span class=\"customMeta\" data-dictid=\"68bae589ad169277718918627baff4\">IgA</span> in the mesangial <span class=\"customMeta\" data-dictid=\"1ad1e71a4a1692777188853097f685\">glomerular</span> deposits with no <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> disease. It presents with <span class=\"customMeta\" data-dictid=\"2fb95074611692777188024c7d70a0\">gross hematuria</span> within 1-2 days of a previous upper <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> or GI infection and not after weeks; hence, it is not the diagnosis here.<br />\n\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the most probable diagnosis for a young girl who experiences constant urine dribbling, despite voiding normally, and has never been completely dry since birth, according to her parents?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Ectopic ureter"
      },
      {
        "id": 2,
        "text": "Ureterocele"
      },
      {
        "id": 3,
        "text": "Congenital megaureter"
      },
      {
        "id": 4,
        "text": "Vesicoureteric reflux"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) <span class=\"customMeta\" data-dictid=\"0decefe0901692777186f7f3f89b2a\">Ectopic</span> ureter</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The clinical scenario is suggestive of an <strong>ectopic ureter. </strong>This is a condition where the ureter, instead of terminating into the <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> bladder, terminates at a different site.</li>\n</ul>\n\n<p><strong>Ectopic ureter</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Etiology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Results from <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> embryological development, often associated with<strong> ureteral duplication.</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pathology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Ectopic ureters drain to sites other than the bladder, commonly associated with <span class=\"customMeta\" data-dictid=\"a474651a3816927771869b71041ec1\">duplication</span> of the ureter.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Pathophysiology</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Females, <span class=\"customMeta\" data-dictid=\"0decefe0901692777186f7f3f89b2a\">ectopic</span> ureters open below the urethral <span class=\"customMeta\" data-dictid=\"1a73a42f071692777199a59120f494\">sphincter</span> or into the vagina, leading to<strong> incontinence.</strong></li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Males, <span class=\"customMeta\" data-dictid=\"0decefe0901692777186f7f3f89b2a\">ectopic</span> ureters usually open above the external urethral sphincter, maintaining continence.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Types</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Bilateral <span class=\"customMeta\" data-dictid=\"0decefe0901692777186f7f3f89b2a\">ectopic</span> ureters (10% of cases).</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Unilateral <span class=\"customMeta\" data-dictid=\"0decefe0901692777186f7f3f89b2a\">ectopic</span> ureters.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Clinical Features</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Females: Continuous <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"76979fe6ab16927771902f20401597\">incontinence</span> despite normal voiding.</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Males: Typically <span class=\"customMeta\" data-dictid=\"d1a9a79f701692777182066af09044\">asymptomatic</span> or continent due to <span class=\"customMeta\" data-dictid=\"8cde7563da1692777201fca2b1f090\">ureter</span> opening above the sphincter.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Computed Tomo-Urography (CTU).</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Magnetic <span class=\"customMeta\" data-dictid=\"37b9856df8169277719716b550a15f\">Resonance</span> <span class=\"customMeta\" data-dictid=\"76d8f9a76716927772019c9b8a5fb8\">Urography</span> (MRU).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Laboratory Investigations</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Primarily imaging-based <span class=\"customMeta\" data-dictid=\"15329af01a1692777186974b692f03\">diagnostics</span> (CTU or MRU).</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Complications</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Persistent <span class=\"customMeta\" data-dictid=\"76979fe6ab16927771902f20401597\">incontinence</span> in females.</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Potential <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Differential Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td rowspan=\"3\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Vesicoureteral Reflux</li>\n\t\t\t\t<li>Urethral <span class=\"customMeta\" data-dictid=\"329b77e4b11692777199930404f75c\">Stricture</span> : Difficulty in <span class=\"customMeta\" data-dictid=\"01cdc9604816927772010d5f2b7e82\">urination</span> and weak stream, not continuous incontinence.</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Neurogenic <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">Bladder</span> :</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Surgical correction: Reposition it into the <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> to restore normal continence.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Ureterocele </strong><strong>(Option B) </strong>is a condition where the lower end of the <span class=\"customMeta\" data-dictid=\"8cde7563da1692777201fca2b1f090\">ureter</span> balloons out and forms a cyst-like structure within the bladder. This can cause <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> and lead to symptoms such as <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> frequency, urgency, or <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections.</p>\n\n<p><strong>Congenital <span class=\"customMeta\" data-dictid=\"745a6fcf161692777192087c0a52b7\">megaureter</span> </strong><strong>(Option C) </strong>refers to the <span class=\"customMeta\" data-dictid=\"d141b433d2169277718681e3ff6bc3\">dilation</span> or <span class=\"customMeta\" data-dictid=\"41e56d9a54169277718724ff8c225f\">enlargement</span> of the ureter. It can be caused by an <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> or a functional <span class=\"customMeta\" data-dictid=\"e7ed1a964716927771801ab913204a\">abnormality</span> of the ureter. <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">Congenital</span> <span class=\"customMeta\" data-dictid=\"745a6fcf161692777192087c0a52b7\">megaureter</span> can cause <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> stasis, infections, or <span class=\"customMeta\" data-dictid=\"639b2545551692777201eeadb06d68\">vesicoureteric</span> reflux, but does not cause continuous <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> leakage.</p>\n\n<p><strong>Vesicoureteric <span class=\"customMeta\" data-dictid=\"def94cc96d16927771970d1a5cfb71\">reflux</span> </strong><strong>(Option D)</strong> is a condition where <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> flows backwards from the <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> up into the ureters. It presents with <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> UTIs and possible <span class=\"customMeta\" data-dictid=\"441df40d111692777189b0e31acb06\">hydronephrosis</span> but does not cause continuous dribbling.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is true about vaccination in a child with steroid-dependent nephrotic syndrome who is brought to the OPD?</p>",
    "choices": [
      {
        "id": 1,
        "text": "All live vaccines under NIS can be given as per schedule"
      },
      {
        "id": 2,
        "text": "All killed vaccines under NIS can be given"
      },
      {
        "id": 3,
        "text": "Only pneumococcal vaccine should be given to the child in the acute phase"
      },
      {
        "id": 4,
        "text": "Live vaccines are contraindicated in the child's sibling"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) All killed vaccines under NIS can be given</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>All killed vaccines under the NIS (National <span class=\"customMeta\" data-dictid=\"f5f07a3262169277718915163d31e3\">Immunization</span> Schedule) can be given to a child suffering from steroid-dependent <span class=\"customMeta\" data-dictid=\"7063996c3816927771930f70c92eb4\">nephrotic</span> syndrome. They have compromised immune systems, making them <strong>more <span class=\"customMeta\" data-dictid=\"55691242bb1692777199360f64cb67\">susceptible</span> to infections, so live vaccines are not given.</strong></p>\n\n<ul>\n\t<li>Live vaccines can be administered in children receiving <span class=\"customMeta\" data-dictid=\"2d5e8899351692777196bdf7ced01d\">prednisolone</span> dose < 1mg/kg daily or 2mg/kg on <span class=\"customMeta\" data-dictid=\"d65e6c0e1616927771818ab537250d\">alternate</span> days.</li>\n\t<li>If a patient is receiving steroid-sparing agents,<strong> live vaccines are contraindicated. </strong></li>\n\t<li>In this case, as the patient is dependent on steroids, he must be receiving a higher dose of steroid/steroid-sparing agents. <strong>Hence, live vaccines are contraindicated in this case,</strong> as live vaccines contain weakened forms of the virus that can potentially cause the disease in individuals with weakened immune responses. <strong>(Option A ruled out)</strong></li>\n</ul>\n\n<p>While the<strong> pneumococcal vaccine</strong> is important and can be given to a child with steroid-dependent <span class=\"customMeta\" data-dictid=\"7063996c3816927771930f70c92eb4\">nephrotic</span> syndrome, it is not the only vaccine <strong>(Option C)</strong> that should be administered in the <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> phase. Full pneumococcal <span class=\"customMeta\" data-dictid=\"f23be6aa561692777201ca2e1aaa27\">vaccination</span> and <span class=\"customMeta\" data-dictid=\"c3817918b816927771902d2176d0c8\">influenza</span> <span class=\"customMeta\" data-dictid=\"f23be6aa561692777201ca2e1aaa27\">vaccination</span> can be given to the child and their household contact.</p>\n\n<p><strong>Immunisation of siblings (Option D)</strong> and household contacts with live vaccines are important to reduce the risk of transmission to the <span class=\"customMeta\" data-dictid=\"a3cc9f976916927771895692a1a8a0\">immunocompromised</span> child. Direct exposure to <span class=\"customMeta\" data-dictid=\"b3a647ce2516927771881427f56c1d\">gastrointestinal</span> and <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> secretions is avoided for about 3 -6 weeks after immunization.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A male infant was brought to the emergency pediatric unit with abdominal distention. There was a history of recurrent urinary tract infections. On examination, he was found to have urinary retention. Imaging showed bilateral hydronephrosis. What could be the probable diagnosis of his condition?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Vesicoureteric reflux"
      },
      {
        "id": 2,
        "text": "Posterior urethral valves"
      },
      {
        "id": 3,
        "text": "Horseshoe kidney"
      },
      {
        "id": 4,
        "text": "Pelviureteric junction obstruction"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer B- <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">Posterior</span> urethral valves</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li>The presentation of <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> distention, <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections, and <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"b668aed705169277719744b6db8f8e\">retention</span> is consistent with the diagnosis of <strong>Posterior urethral valves (PUV). </strong>Also the <span class=\"customMeta\" data-dictid=\"625feb7e3a1692777183aa9d923cfd\">bilateral</span> hydronephrosis, which is the <span class=\"customMeta\" data-dictid=\"d141b433d2169277718681e3ff6bc3\">dilation</span> of the <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"c25071fa3816927771955eeaf9d45e\">pelvis</span> and <span class=\"customMeta\" data-dictid=\"b8daf4c798169277718363179ec885\">calyces</span> due to <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> obstruction, further supports this diagnosis.</li>\n\t<li>Posterior urethral valves (PUV) are a <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> <span class=\"customMeta\" data-dictid=\"e7ed1a964716927771801ab913204a\">abnormality</span> that <strong>occurs only in males.</strong> It is characterized by the presence of <span class=\"customMeta\" data-dictid=\"458e050fdc16927771809854c9fd53\">abnormal</span> leaflets or flaps of tissue in the <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> urethra, leading to partial or complete <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> of <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> flow.</li>\n</ul>\n\n<p><strong>Posterior urethral valves:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Description</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Definition</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Abnormal flaps of tissue in the <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> <span class=\"customMeta\" data-dictid=\"a594ff734f16927772016f656d39eb\">urethra</span> that obstruct the flow of <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> in male infants</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Etiology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Developmental <span class=\"customMeta\" data-dictid=\"50a440f85816927771817d2fe50984\">anomaly</span> during <span class=\"customMeta\" data-dictid=\"f375a3584316927772020efa386e3e\">fetal</span> development</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Clinical Presentation</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Urinary <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> symptoms, such as poor <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> stream, dribbling, or difficulty urinating</li>\n\t\t\t\t<li>Urinary <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections (UTIs) with fever, irritability, and poor feeding</li>\n\t\t\t\t<li>Enlarged <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> (palpable <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> mass)</li>\n\t\t\t\t<li>Hydronephrosis (swelling of the kidneys due to <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> backup)</li>\n\t\t\t\t<li>Poor weight gain and growth</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Diagnostic Evaluation</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Voiding <span class=\"customMeta\" data-dictid=\"7d3833cfbf1692777185c44c246cf4\">cystourethrogram</span> (VCUG): Radiographic <span class=\"customMeta\" data-dictid=\"fe3220767716927771892419444041\">imaging</span> to <span class=\"customMeta\" data-dictid=\"67407c787d1692777202245c791c31\">visualize</span> the <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> and identify the valves</li>\n\t\t\t\t<li>Ultrasound of the kidneys and <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> to assess for hydronephrosis</li>\n\t\t\t\t<li>Blood tests: <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">Renal</span> function tests and <span class=\"customMeta\" data-dictid=\"2e0552462e16927771871413861fb7\">electrolyte</span> levels</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Management</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Endoscopic <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> <span class=\"customMeta\" data-dictid=\"eb788615bd16927771803d3841aa78\">ablation</span> or <span class=\"customMeta\" data-dictid=\"e06e32271216927772030141e67a00\">fulguration</span> to remove or destroy the obstructing valves</li>\n\t\t\t\t<li>Surgical intervention: <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">Valve</span> <span class=\"customMeta\" data-dictid=\"17b5bd50d91692777197ea9cb7f468\">resection</span> or <span class=\"customMeta\" data-dictid=\"b29f3bf7cd1692777197ee03d829e9\">reconstruction</span> in severe cases</li>\n\t\t\t\t<li>Management of <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections and associated complications</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Prognosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>The <span class=\"customMeta\" data-dictid=\"e580b4033e169277719609af594c16\">prognosis</span> varies depending on the severity of the <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> and associated <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> damage</li>\n\t\t\t\t<li>Early diagnosis and intervention can lead to better outcomes and improved <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> function</li>\n\t\t\t\t<li>Long-term monitoring and follow-up are necessary to monitor <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> function and manage any potential complications</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Vesicoureteric reflux</strong> <strong>(Option A): </strong>VUR is <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> flow from the <span class=\"customMeta\" data-dictid=\"e6cfda323816927771839cc83e376d\">bladder</span> to the ureters/kidneys due to an <span class=\"customMeta\" data-dictid=\"c6bd60f04c16927771907761dd90dd\">incompetent</span> <span class=\"customMeta\" data-dictid=\"416dd1004a169277720177d9a6adc5\">valve</span> at the ureter-bladder junction.<strong> </strong>While this condition can cause <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> UTIs, the primary feature is <span class=\"customMeta\" data-dictid=\"e38ca8e6931692777197ee6a68ac56\">retrograde</span> flow of <span class=\"customMeta\" data-dictid=\"0096f2a7631692777201eb9f21d5a7\">urine</span> & it typically doesn't present with significant <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"b668aed705169277719744b6db8f8e\">retention</span> or <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> distention.</p>\n\n<p><strong>Horseshoe kidney</strong> <strong>(Option C):</strong> A <span class=\"customMeta\" data-dictid=\"2c8df9337316927771897a1681efe1\">horseshoe kidney</span> is a <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> <span class=\"customMeta\" data-dictid=\"a7dfeb385e1692777203302bcf142d\">fusion</span> <span class=\"customMeta\" data-dictid=\"50a440f85816927771817d2fe50984\">anomaly</span> of the kidneys, where the kidneys are fused at the lower poles. While it may be associated with hydronephrosis, it does not typically cause <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"b668aed705169277719744b6db8f8e\">retention</span> or <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> UTIs as described in the scenario.</p>\n\n<p><strong>Pelviureteric <span class=\"customMeta\" data-dictid=\"9f0942c0b51692777190ee876713e5\">junction</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> (Option D): </strong>Although this condition can cause hydronephrosis, it typically presents unilaterally rather than bilaterally. Additionally, its presentation includes <span class=\"customMeta\" data-dictid=\"d1a9a79f701692777182066af09044\">asymptomatic</span> <span class=\"customMeta\" data-dictid=\"316968b3e116927772021379938005\">flank</span> mass, upper <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> pain & <span class=\"customMeta\" data-dictid=\"0b72f5e96b16927772018dec8a87e2\">urinary</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infection (UTI).</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 12-year-old child is diagnosed with systemic lupus erythematosus (SLE) and presents with nephrotic-range proteinuria. Renal biopsy reveals \"wire loop lesions. Which of the following is the drug of choice in this case?</p>",
    "choices": [
      {
        "id": 1,
        "text": "IV Steroids only"
      },
      {
        "id": 2,
        "text": "IV Steroids + cyclophosphamide"
      },
      {
        "id": 3,
        "text": "Mycophenolate mofetil"
      },
      {
        "id": 4,
        "text": "Cyclophosphamide only"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer- Option B) IV Steroids + cyclophosphamide</strong></p>\n\n<ul>\n\t<li>IV Steroids + cyclophosphamide: This is a standard and effective <span class=\"customMeta\" data-dictid=\"f447020b9616927771904d1c923d80\">induction</span> <span class=\"customMeta\" data-dictid=\"988bd8e7c71692777197b9f1d5d5ca\">regimen</span> for severe <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">lupus</span> nephritis.</li>\n</ul>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>IV Steroids only: This is generally insufficient for active, proliferative <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">lupus</span> <span class=\"customMeta\" data-dictid=\"d4d4bbdd341692777193b705a75667\">nephritis</span> like Class IV, especially with nephrotic-range proteinuria.<strong>(Option A ruled out)</strong></li>\n\t<li>Mycophenolate mofetil: While MMF is a valid option for induction, it's usually given in combination with steroids, not as <span class=\"customMeta\" data-dictid=\"e26d71db351692777192bd4e95fc68\">monotherapy</span> for initial severe cases. The option doesn't specify \"IV steroids + MMF.\" <strong>(Option C ruled out)</strong></li>\n\t<li>Cyclophosphamide only: This is also not typically used as <span class=\"customMeta\" data-dictid=\"e26d71db351692777192bd4e95fc68\">monotherapy</span> for induction; it's combined with steroids. <strong>(Option D ruled out)</strong></li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 5-year-old child with chronic kidney disease (CKD) presents with bow legs. Laboratory investigations reveal:</p>\n\n<p>Serum Calcium: 9.1 mg/dL (normal)</p>\n\n<p>Serum Phosphate: 6.9 mg/dL (elevated)</p>\n\n<p>Alkaline Phosphatase: Elevated</p>\n\n<p>25(OH) Vitamin D: Low</p>\n\n<p>What is the most appropriate next step in management?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Calcium supplementation"
      },
      {
        "id": 2,
        "text": "Phosphate binder"
      },
      {
        "id": 3,
        "text": "Oral calcium + Vitamin D"
      },
      {
        "id": 4,
        "text": "Growth hormone therapy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B. <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">Phosphate</span> binder.</strong></p>\n\n<p>This child has CKD-related rickets/renal osteodystrophy, which occurs due to:</p>\n\n<ul>\n\t<li>Hyperphosphatemia (due to <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> <span class=\"customMeta\" data-dictid=\"0f7653c9ef1692777187deaa35f749\">excretion</span> in CKD)</li>\n\t<li>Low active Vitamin D production (due to loss of <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> 1\u03b1-hydroxylase activity)</li>\n\t<li>Resulting secondary <span class=\"customMeta\" data-dictid=\"a21c150dc716927771893624a49628\">hyperparathyroidism</span> \u2192 bone changes (e.g., bow legs)</li>\n</ul>\n\n<p><strong>Key lab clues in this case:</strong></p>\n\n<ul>\n\t<li>Normal <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> \u2192 indicates that <span class=\"customMeta\" data-dictid=\"59f10ee7c31692777189a8544bb404\">hypocalcemia</span> is not the primary driver at this stage</li>\n\t<li>High <span class=\"customMeta\" data-dictid=\"1ffaec13de169277719828374cfda0\">serum</span> <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> \u2192 needs <span class=\"customMeta\" data-dictid=\"92a52a7756169277718538d58fe1a9\">correction</span> first to break the phosphate- PTH- bone cycle</li>\n\t<li>Low 25(OH) Vitamin D \u2192 will also need correction, but not before controlling <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> levels</li>\n</ul>\n\n<p><strong>First-line management:</strong></p>\n\n<ul>\n\t<li>Control <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> with dietary restriction and <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> binders (calcium <span class=\"customMeta\" data-dictid=\"fdae4d6e3a1692777183b5745d0c02\">carbonate</span> or sevelamer) to prevent further <span class=\"customMeta\" data-dictid=\"a21c150dc716927771893624a49628\">hyperparathyroidism</span> and bone damage.</li>\n\t<li>Once <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> is under control, give active vitamin D analogs (calcitriol/alfacalcidol) to correct the low vitamin D status.</li>\n</ul>\n\n<p><strong>Calcium supplementation (Option A): </strong>Not needed immediately since <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> is normal, and adding <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> without controlling <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> can worsen <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> calcifications.</p>\n\n<p><strong>Oral <span class=\"customMeta\" data-dictid=\"54de8b79a91692777183e608bc0dd4\">calcium</span> + Vitamin D (Option C):</strong> Will not address <span class=\"customMeta\" data-dictid=\"2311a51162169277718909f1112ccd\">hyperphosphatemia</span> and can worsen the <span class=\"customMeta\" data-dictid=\"189b6fc834169277719580eb39bb4c\">phosphate</span> load if the <span class=\"customMeta\" data-dictid=\"f19c6dd7c01692777183e1e331de64\">binder</span> role is not addressed first.</p>\n\n<p><strong>Growth <span class=\"customMeta\" data-dictid=\"be711e5c8316927771895447e0d316\">hormone therapy</span> (Option D): </strong>Used in CKD-related short stature, but here the immediate issue is bone mineral disturbance, not growth failure management.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What could be the likely diagnosis for an 8-year-old boy who has sensorineural hearing loss, eye defects, and presents with hematuria in the outpatient department, considering that his renal biopsy showed no abnormalities, and his maternal uncle has end-stage chronic kidney disease (CKD) and is currently undergoing dialysis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Alport syndrome"
      },
      {
        "id": 2,
        "text": "Goodpasture syndrome"
      },
      {
        "id": 3,
        "text": "lgA nephropathy"
      },
      {
        "id": 4,
        "text": "PSGN"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - Alport Syndrome:</strong></p>\n\n<ul>\n\t<li>The patient\u2019s presentation with <span class=\"customMeta\" data-dictid=\"a646a25d3616927771989c6e155498\">sensorineural</span> hearing loss, eye defects, hematuria, and a history of <span class=\"customMeta\" data-dictid=\"a191a950d7169277719148e72a75e2\">maternal</span> uncle with end-stage chronic <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> disease (CKD) undergoing <span class=\"customMeta\" data-dictid=\"5755720cc31692777186c957a0feb7\">dialysis</span> is suggestive of Alport syndrome.</li>\n\t<li>Alport syndrome is a genetic disorder characterized by <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> disease, hearing loss, and eye abnormalities.</li>\n\t<li>It is caused by mutations in genes <span class=\"customMeta\" data-dictid=\"b989cb3b0d1692777187dd7965b4d3\">encoding</span> <span class=\"customMeta\" data-dictid=\"4019d01072169277720163b0f7ec43\">type IV</span> collagen, which is an important component of the basement <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> in the kidney, inner ear, and eyes.</li>\n\t<li>The classic <span class=\"customMeta\" data-dictid=\"1a0a43d74e16927772004473a05ae3\">triad</span> of symptoms includes hematuria, <span class=\"customMeta\" data-dictid=\"a646a25d3616927771989c6e155498\">sensorineural</span> hearing loss, and <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> abnormalities.</li>\n\t<li>In some cases, <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"754ab07a2e1692777183ed178c883d\">biopsy</span> may appear normal on light microscopy, but <span class=\"customMeta\" data-dictid=\"d416281a201692777187899c00aed8\">electron</span> <span class=\"customMeta\" data-dictid=\"51df8cdfc91692777192aa76f4de51\">microscopy</span> or <span class=\"customMeta\" data-dictid=\"0b727fd0f6169277718942ed56d7a7\">immunohistochemistry</span> may reveal characteristic findings.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option\u00a0</strong>B: Goodpasture syndrome:</p>\n\n<ul>\n\t<li>Goodpasture syndrome is an <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> disorder characterized by the presence of antibodies directed against the basement <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> of the kidneys and lungs.</li>\n\t<li>It typically presents with <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> and <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> involvement, including <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> <span class=\"customMeta\" data-dictid=\"4642acfc0c16927771880b34fa5174\">hemorrhage</span> and glomerulonephritis.</li>\n</ul>\n\n<p><strong>Option\u00a0</strong>C: <span class=\"customMeta\" data-dictid=\"68bae589ad169277718918627baff4\">IgA</span> nephropathy:</p>\n\n<ul>\n\t<li>IgA nephropathy, also known as Berger's disease, is a <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> disorder characterized by the deposition of <span class=\"customMeta\" data-dictid=\"f8fab286571692777189bdfd087071\">immunoglobulin</span> A (IgA) in the glomeruli.</li>\n\t<li>It commonly presents with episodes of <span class=\"customMeta\" data-dictid=\"660645b0c91692777188bbdf3fedff\">hematuria</span> and can progress to chronic <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> disease.</li>\n</ul>\n\n<p><strong>Option\u00a0</strong>D: PSGN:</p>\n\n<ul>\n\t<li>PSGN is a type of <span class=\"customMeta\" data-dictid=\"d3658e1af116927771887bc5b8a57e\">glomerulonephritis</span> that occurs after an infection with certain strains of <span class=\"customMeta\" data-dictid=\"9562e26acc16927771995a2028dd05\">streptococcus</span> bacteria.</li>\n\t<li>It is characterized by immune complex deposition in the glomeruli, leading to <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> and <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> damage.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Unilateral renal agenesis in an infant is linked with:</p>",
    "choices": [
      {
        "id": 1,
        "text": "Single umbilical artery"
      },
      {
        "id": 2,
        "text": "Single umbilical Vein"
      },
      {
        "id": 3,
        "text": "Polyhydramnios"
      },
      {
        "id": 4,
        "text": "Maternal anemia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct option A - Single <span class=\"customMeta\" data-dictid=\"9cc3973459169277720194a0847477\">umbilical</span> artery:</strong></p>\n\n<p><strong>Unilateral <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> agenesis:</strong></p>\n\n<ul>\n\t<li>Absent <span class=\"customMeta\" data-dictid=\"4aa6035df41692777190b41d4a1583\">kidney</span> development on one side</li>\n\t<li>Secondary to <span class=\"customMeta\" data-dictid=\"359a8718a61692777185568ac80abb\">defect</span> of wol\ufb03an <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">duct</span> / ureteric <span class=\"customMeta\" data-dictid=\"fbaff1edd216927771835557d40049\">bud</span> / metanephric blastema</li>\n\t<li>Increased <span class=\"customMeta\" data-dictid=\"17cd3771bb1692777190950c142dbe\">incidence</span> in neonates with single <span class=\"customMeta\" data-dictid=\"9cc3973459169277720194a0847477\">umbilical</span> artery</li>\n</ul>\n\n<p><strong>Incorrect Options - B, C, and D are not <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to <span class=\"customMeta\" data-dictid=\"92b4dd0d9516927772013f2e4296b7\">unilateral</span> <span class=\"customMeta\" data-dictid=\"b9356afdba16927771979d068c6587\">renal</span> <span class=\"customMeta\" data-dictid=\"133b86a0a516927771809ea08682e8\">agenesis</span> in an infant.</strong></p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the most common presentation of generalised oedema and massive proteinuria?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Nephrotic syndrome"
      },
      {
        "id": 2,
        "text": "Acute post-streptococcal glomerulonephritis"
      },
      {
        "id": 3,
        "text": "Renal tubular acidosis"
      },
      {
        "id": 4,
        "text": "Nephrolithiasis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - <span class=\"customMeta\" data-dictid=\"7063996c3816927771930f70c92eb4\">Nephrotic</span> Syndrome: </strong></p>\n\n<ul>\n\t<li>Nephrotic syndrome is a condition characterized by the presence of significant proteinuria, hypoalbuminemia, edema, and hyperlipidemia.</li>\n</ul>\n\n<p><strong>Incorrect Options - B, C, and D are incorrect.</strong></p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the probable diagnosis for a child (with a history of pharyngitis) who has been experiencing brown-colored urine and reduced urine output for the past three days? The child also exhibits mild swelling in the face and feet, with a blood pressure reading of 126/90. The child has high levels of protein in the urine (2+), more than 100 red blood cells per high power field (HPF), and a few granular casts. Additionally, the child's creatinine level is 0.9 and urea level is 56.</p>",
    "choices": [
      {
        "id": 1,
        "text": "PSGN"
      },
      {
        "id": 2,
        "text": "Nephrolithiasis"
      },
      {
        "id": 3,
        "text": "Posterior Urethral Valve"
      },
      {
        "id": 4,
        "text": "Minimal change disease"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - PSGN:</strong></p>\n\n<ul>\n\t<li>The patient\u2019s presentation with <span class=\"customMeta\" data-dictid=\"2fb95074611692777188024c7d70a0\">gross hematuria</span> (cola colored urine), proteinuria, and <span class=\"customMeta\" data-dictid=\"18b452e75916927771864c9ad533e1\">edema</span> is suggestive of nephritic syndrome.</li>\n\t<li>PSGN is an immune-mediated <span class=\"customMeta\" data-dictid=\"1ad1e71a4a1692777188853097f685\">glomerular</span> disease that occurs as a result of a preceding streptococcal infection, such as a throat infection or impetigo.\n\t<ul>\n\t\t<li>Deposition of immune complexes with streptococcal <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> and <span class=\"customMeta\" data-dictid=\"f0ff39a3fa1692777184cf743ca1e7\">complement</span> activation.</li>\n\t\t<li>Antibodies against <span class=\"customMeta\" data-dictid=\"9562e26acc16927771995a2028dd05\">streptococcus</span> cross react with <span class=\"customMeta\" data-dictid=\"1ad1e71a4a1692777188853097f685\">glomerular</span> antigens due to molecular mimicry.\u00a0</li>\n\t</ul>\n\t</li>\n\t<li>It typically presents with features of nephritic syndrome, including brown-coloured urine, oliguria, <span class=\"customMeta\" data-dictid=\"9fdd7489051692777202cffe3f24cc\">facial</span> and <span class=\"customMeta\" data-dictid=\"e272cdded916927771951d2337037d\">pedal</span> edema, and hypertension.</li>\n\t<li>Dx: proteinuria, <span class=\"customMeta\" data-dictid=\"8790b4667016927771979066e8958c\">RBC</span> and <span class=\"customMeta\" data-dictid=\"8790b4667016927771979066e8958c\">RBC</span> casts, decreased levels of C3, increased <span class=\"customMeta\" data-dictid=\"3e7108fe871692777182786921689e\">ASO</span> <span class=\"customMeta\" data-dictid=\"07e6f3a1921692777200051f692a60\">titer</span> following pharyngitis, increased <span class=\"customMeta\" data-dictid=\"4665fdd0a0169277718100f58eb0d5\">Anti</span> <span class=\"customMeta\" data-dictid=\"d26515fc0d1692777186f2866114a0\">DNase</span> B following pyoderma\u00a0</li>\n\t<li>Tx: mainly supportive, early antibiotics, diuretics, salt and water restriction</li>\n</ul>\n\n<p><strong>Incorrect Options -</strong> Options B, C, and D are incorrect. Refer to the explanation of the correct answer.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the gene associated with Juvenile myoclonic epilepsy?</p>",
    "choices": [
      {
        "id": 1,
        "text": "CHYNN-1"
      },
      {
        "id": 2,
        "text": "GABRA-1"
      },
      {
        "id": 3,
        "text": "FMR-1"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option\u00a0B - GABRA-1:\u00a0</strong></p>\n\n<ul>\n\t<li>Juvenile myoclonic <span class=\"customMeta\" data-dictid=\"7546d26cea1692777187c257d4e14c\">epilepsy</span> (JME) is a type of <span class=\"customMeta\" data-dictid=\"7546d26cea1692777187c257d4e14c\">epilepsy</span> that typically begins in <span class=\"customMeta\" data-dictid=\"98d9739e5f1692777180d7de404750\">adolescence</span> and is characterized by myoclonic seizures, generalized <span class=\"customMeta\" data-dictid=\"a4156d43e216927772008460f9b582\">tonic-clonic</span> seizures, and sometimes absence seizures.</li>\n\t<li>GABRA-1, refers to the <span class=\"customMeta\" data-dictid=\"28451eadf61692777188721ee66cac\">gamma-aminobutyric acid</span> <span class=\"customMeta\" data-dictid=\"9e4959f6f316927771978bb152d440\">receptor</span> alpha-1 subunit gene.</li>\n\t<li>Mutations or variations in this gene have been associated with an increased risk of developing JME.</li>\n</ul>\n\n<p><strong>Incorrect Options</strong> - A, C, and D are not associated with <span class=\"customMeta\" data-dictid=\"b5d5db1f591692777190869c6a7223\">juvenile</span> myoclonic epilepsy.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '42 Previous Year Questions';
        const quizFilename = '42-previous-year-questions-1e0eaa03.html';
        let hierarchy = ["PrepLadder", "qBank", "Pediatrics"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>