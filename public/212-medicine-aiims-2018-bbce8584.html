<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>212 Medicine Aiims 2018 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Medicine
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">38</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "An 18-year-old girl with the diagnosis of acute promyelocytic leukemia was treated medically. She developed fever and tachypnea and a chest X-ray showed pulmonary infiltrates. What drug should she be given next?",
    "choices": [
      {
        "id": 1,
        "text": "Cytarabine"
      },
      {
        "id": 2,
        "text": "Dexamethasone"
      },
      {
        "id": 3,
        "text": "Doxorubicin"
      },
      {
        "id": 4,
        "text": "Methotrexate"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical scenario describes a patient of <strong>APL </strong>(acute promyelocytic leukemia) developing <strong>fever, tachypnea</strong>, and<strong> pulmonary infiltrates</strong> while <strong>on medical treatment</strong>. This is suggestive of <strong>APL differentiation syndrome</strong>, an <strong>adverse effect </strong>of <strong>all-trans-retinoic acid (ATRA)</strong>. The management involves glucocorticoids like <strong>dexamethasone</strong>.&nbsp;</p>\n<p>Along with <strong>glucocorticoids</strong>, the other management of APL differentiation syndrome includes <strong>chemotherapy </strong>for <strong>cytoreduction </strong>and <strong>supportive measures</strong>. In <strong>severe </strong>cases,<strong> temporary discontinuation of ATRA</strong> is necessary.</p>\n<p><strong>ATRA</strong> is an oral drug that induces the <strong>differentiation</strong> of leukemic cells bearing the <strong>t(15;17) </strong>chromosomal translocation. While ATRA reduces the incidence of <strong>DIC</strong> associated with <strong>cytarabine</strong> and <strong>daunorubicin</strong> used earlier in APL, it can cause <strong>APL differentiation syndrome</strong> due to the <strong>adhesion </strong>of differentiated neoplastic cells to the <strong>pulmonary vasculature endothelium</strong>.</p>\n<p>In <strong>low-risk APL </strong>patients with a low leukocyte count at presentation, a combination of <strong>ATRA </strong>and <strong>arsenic trioxide (ATO)</strong> has been found to be superior and is the current standard of care.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old man was brought to the emergency in an unconscious state. He had a fever for the past two days and is a known case of severe COPD. His ECG is given below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Ventricular tachycardia"
      },
      {
        "id": 2,
        "text": "Multifocal atrial tachycardia"
      },
      {
        "id": 3,
        "text": "Atrial fibrillation"
      },
      {
        "id": 4,
        "text": "Atrial tachycardia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario of chronic pulmonary disease and the ECG showing different p wave morphologies are suggestive of <strong>multifocal atrial tachycardia</strong>.</p>\n<p><strong>Multifocal atrial tachycardia </strong>(MAT) occurs due to impulses arising from <strong>multiple abnormal foci</strong> in the atria. This leads to supraventricular tachycardia with p waves and QRS complexes of different morphologies. It is usually encountered in patients with <strong>chronic pulmonary disease and acute illness.&nbsp;</strong></p>\n<p>Therapy for MAT is directed at <strong>treating the underlying disease</strong> and correcting any metabolic abnormalities. Calcium-channel blockers and radiofrequency ablation of the AV node are the other treatment modalities.</p>\n<p>The given ECG shows narrow QRS complexes with irregular RR intervals, hence it can be atrial fibrillation or multifocal atrial tachycardia. The next step is to look at the p waves. Multifocal atrial tachycardia (MAT) is characterized by at least<strong> 3 distinct P-wave morphologies</strong> (shown by arrows in the image).&nbsp;Whereas, in atrial fibrillation, there would be no distinct p waves seen.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ad613063d3a9426ca5cce755fc488010.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3ca1f22af8114d94ba32e0c4cd65fa6bx1280x697.JPEG"
    ]
  },
  {
    "text": "Infertility in Kartagener\u2019s syndrome is due to which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Oligospermia"
      },
      {
        "id": 2,
        "text": "Asthenospermia"
      },
      {
        "id": 3,
        "text": "Undescended testes"
      },
      {
        "id": 4,
        "text": "Epididymis obstruction"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Kartagener&rsquo;s syndrome</strong> is a type of <strong>primary ciliary dyskinesia</strong> characterized by the classical triad of</p>\n<ul>\n<li>Situs inversus</li>\n<li>Chronic sinusitis</li>\n<li>Bronchiectasis</li>\n</ul>\n<p><strong>Infertility</strong> in Kartagener&rsquo;s syndrome is due to <strong>asthenospermia</strong> (immotile spermatozoa due to impaired sperm flagella function), <strong>not azoospermia</strong> (complete absence of spermatozoa in ejaculate).</p>\n<p><strong>Primary ciliary dyskinesia</strong> (also called immotile cilia syndrome) is an <strong>autosomal recessive disorder affecting ciliary motility</strong>. It occurs due to <strong>ultrastructural defects in the dynein arm</strong> of cilia. This causes the retention of secretions due to a failed mucociliary clearance mechanism. Clinically, this manifests as <strong>chronic sinusitis</strong> and recurrent infections that ultimately lead to <strong>bronchiectasis</strong>. As ciliary function is necessary to ensure proper rotation of the developing organs in the chest and abdomen, its absence will lead to <strong>situs inversus or a partial lateralizing abnormality</strong>. Approximately half of the patients with primary ciliary dyskinesia have Kartagener syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Calculate the GCS Score in an intubated patient, with findings of eye movements to pain and abnormal flexion?",
    "choices": [
      {
        "id": 1,
        "text": "E2VTM4"
      },
      {
        "id": 2,
        "text": "E2VTM3"
      },
      {
        "id": 3,
        "text": "E2V1M3"
      },
      {
        "id": 4,
        "text": "E2VNTM3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The GCS score is <strong>E2VNTM3.&nbsp;</strong>In this case:</p>\n<ul>\n<li>Eye-opening to pain: E2</li>\n<li>In case of endotracheal intubation or tracheostomy, the verbal component of the score is denoted as 'not testable/NT'. Earlier in intubated patients, the V score was denoted as VT. According to the current update, the V score should be VNT.</li>\n<li>Abnormal flexion: M3</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Two brothers were arguing over a property dispute when the elder of the two complained of chest pain and collapsed and was later declared brought dead by the hospital. His family says he was previously healthy and there was no similar disease in the family members. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Infective cardiomyopathy"
      },
      {
        "id": 2,
        "text": "Takotsubo cardiomyopathy"
      },
      {
        "id": 3,
        "text": "Dilated cardiomyopathy"
      },
      {
        "id": 4,
        "text": "Hypertrophic cardiomyopathy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Other options:</strong></p>\n<p>Option A: <strong>Infective cardiomyopathy</strong>: The most common causes of infective myocarditis are <strong>viral infections</strong> and the protozoan <strong>Trypanosoma cruzi</strong>, which is associated with Chagas' disease. Acute viral myocarditis often presents with symptoms and signs of heart failure, although it can also manifest as chest pain and show electrocardiogram (ECG) changes resembling pericarditis or acute myocardial infarction. In Chagas' disease, specific features include abnormalities in the conduction system, particularly dysfunction of the sinus node and AV node, as well as the right bundle branch block.</p>\n<p>Option C:<strong> Dilated cardiomyopathy</strong>: It is the most common cardiomyopathy and is predominantly characterised by <strong>systolic dysfunction</strong>. Though it may present acutely, it <strong>progresses chronically</strong>. The familial form is due to mutations in TTN gene which encode the sarcomeric protein titin. Other etiologocal agents include alcohol, infective myocarditis, doxorubicin, hemochromatosis and sarcoidosis.\u00a0</p>\n<p>Option D: <strong>Hypertrophic cardiomyopathy</strong>: Hypertrophic cardiomyopathy (HCM) is the <strong>most common genetic</strong> cardiovascular disorder and is a prominent cause of <strong>sudden death</strong> before the age of 35 years. Family history is commonly present, a sarcomere mutation is present in ~50% of patients. Sudden death can be due to polymorphic ventricular tachycardia/fibrillation. Risk factors for sudden death in this disease include young age, nonsustained ventricular tachycardia, failure of blood pressure to increase during <strong>exercise</strong>, recent (within 6 months) syncope, ventricular wall thickness &gt;3 cm, and possibly the severity of LV outflow obstruction.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/410e6c56baec4d9399c51b74c39cb72dx1280x789.JPEG"
    ]
  },
  {
    "text": "Which of the following is used in the treatment of late cardiovascular syphilis?",
    "choices": [
      {
        "id": 1,
        "text": "Benzathine penicillin 2.4 million units weekly for three weeks"
      },
      {
        "id": 2,
        "text": "Benzathine penicillin 2.4 million units as single dose"
      },
      {
        "id": 3,
        "text": "Benzathine penicillin 12-24 million units for 21 days"
      },
      {
        "id": 4,
        "text": "Tetracycline 2g daily"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Benzathine penicillin 2.4 million</strong> units weekly for <strong>three weeks</strong> is the treatment of <strong>late cardiovascular</strong> syphilis.</p>\n<p>The treatment of syphilis is based on the CDC&rsquo;s 2015 guidelines:</p>\n<table style=\"width: 560px;\">\n<tbody>\n<tr>\n<td style=\"width: 83px;\"><strong>Stage of Syphilis</strong></td>\n<td style=\"width: 244.91px;\"><strong>Patients without Penicillin Allergy</strong></td>\n<td style=\"width: 220.09px;\"><strong>Patients with Confirmed Penicillin Allergy</strong></td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">Primary, Secondary and early latent</td>\n<td style=\"width: 244.91px;\">\n<p>CSF Normal or not examined: Penicillin G benzathine&nbsp; &nbsp; &nbsp;(single dose 2.4mU IM)&nbsp;</p>\n<p>CSF Abnormal: Treat as Neurosyphilis</p>\n</td>\n<td style=\"width: 220.09px;\">\n<p>CSF normal or not examined: Tetracycline HCl (500 mg PO qid)</p>\n<p>OR</p>\n<p>Doxycycline(100 mg PO bid) for 2 weeks&nbsp;CSF abnormal: Treat as neurosyphilis</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">Late latent (or latent of uncertain duration), <strong>Cardiovascular</strong> or benign tertiary</td>\n<td style=\"width: 244.91px;\">\n<p>CSF Normal or not examined: Penicillin G benzathine&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.4 mU IM weekly for 3 weeks &nbsp;</p>\n<p>CSF Abnormal: Treat as Neurosyphilis</p>\n</td>\n<td style=\"width: 220.09px;\">\n<p>CSF normal and patient not infected with HIV: Tetracycline HCl (500 mg PO qid)</p>\n<p>OR</p>\n<p>Doxycycline (100 mg PO bid) for 4 weeks&nbsp;</p>\n<p>CSF normal and patient infected with HIV: Desensitization and treatment with penicillin if compliance cannot be ensured&nbsp;</p>\n<p>CSF abnormal: Treat as neurosyphilis</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">Neurosyphilis (asymptomatic or symptomatic)</td>\n<td style=\"width: 244.91px;\">\n<p>Aqueous crystalline penicillin G (18-24 mU/d IV),&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; given as 3-4mU q4h or continuous infusion for 10-14 days.</p>\n<p>OR</p>\n<p>Aqueous procaine penicillin G (2.4mU/d IM)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Oral probenecid(500mg qid), both for 10-14 days.</p>\n</td>\n<td style=\"width: 220.09px;\">Desensitization and treatment with penicillin</td>\n</tr>\n<tr>\n<td style=\"width: 83px;\">Syphilis in Pregnancy</td>\n<td style=\"width: 244.91px;\">According to stage</td>\n<td style=\"width: 220.09px;\">Desensitization and treatment with penicillin&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p><strong>Note:</strong></p>\n<p class=\"p1\">mU is a million units, not milli-units.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs is commonly used for treating community-acquired pneumonia in OPD?",
    "choices": [
      {
        "id": 1,
        "text": "Vancomycin"
      },
      {
        "id": 2,
        "text": "Ceftriaxone"
      },
      {
        "id": 3,
        "text": "Azithromycin"
      },
      {
        "id": 4,
        "text": "Streptomycin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Azithromycin</strong> is the<strong> drug of choice</strong> for <strong>treatment of </strong>community-acquired<strong>&nbsp;</strong>pneumonia&nbsp;<strong>(CAP)</strong> in an <strong>OPD</strong> setup.</p>\n<p><strong>Outpatient management of CAP:&nbsp;</strong></p>\n<p>1. For previously healthy patients who have <strong>not</strong> taken antibiotics within the past 3 months:</p>\n<ul>\n<li>A macrolide &ndash;&nbsp;Azithromycin, 500 mg orally as a first dose and then 250 mg orally daily for 4 days, or 500 mg orally daily for 3 days, <strong>or</strong></li>\n<li>Clarithromycin, 500 mg orally twice a day; or</li>\n<li>Doxycycline 100 mg orally twice a day</li>\n</ul>\n<p>2.&nbsp;For patients with such <strong>comorbid medical conditions</strong> as chronic heart, lung, liver, or kidney disease, diabetes mellitus, alcoholism, malignancy, asplenia, immunosuppressant conditions or use of immunosuppressive drugs or use of antibiotics within the previous 3 months:</p>\n<ul>\n<li>A <strong>respiratory fluoroquinolone</strong> (moxifloxacin, 400 mg orally daily; gemifloxacin, 320 mg orally daily; levofloxacin, 750 mg orally daily) <strong>or</strong></li>\n<li>A <strong>macrolide (as above) plus a beta-lactam</strong> (amoxicillin, 1 g orally three times a day; amoxicillin-clavulanate, 2 g orally twice a day; cefuroxime, 500 mg orally twice a day).</li>\n</ul>\n<p>3.&nbsp;In regions with a <strong>high rate (&gt; 25%) of infection with high level (MIC &ge; 16 mcg/mL) macrolide-resistant</strong> <em>Streptococcus pneumoniae</em>, consider the use of alternative agents listed in (2) for patients with comorbidities.</p>\n<p>Other options: Vancomycin, Ceftriaxone, and Streptomycin are administered parenterally, and hence, not appropriate for outpatient management.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a component of Syndrome Z?",
    "choices": [
      {
        "id": 1,
        "text": "Obstructive sleep apnea"
      },
      {
        "id": 2,
        "text": "Blood pressure more than 130/85 mmHg"
      },
      {
        "id": 3,
        "text": "Fasting triglyceride more than150mg/dl"
      },
      {
        "id": 4,
        "text": "LDL more than 100mg/dl"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Syndrome</strong> <strong>Z</strong> is defined as a combination of obstructive sleep apnea syndrome with metabolic&nbsp;syndrome.&nbsp;LDL more than 100 mg/dL&nbsp;is not a criterion for the diagnosis of metabolic&nbsp;syndrome.</p>\n<p><strong>Metabolic syndrome</strong> is diagnosed based on <strong>The NCEP: ATP III Criteria</strong>. <strong>Three or more</strong> of the following must be present :</p>\n<ul>\n<li><strong>Central obesity</strong>: waist circumference &gt;102 cm (M), &gt;88 cm (F)</li>\n<li><strong>Hypertriglyceridemia</strong>: triglyceride level &ge;150 mg/dL or specific medication</li>\n<li><strong>Low HDL</strong> cholesterol: &lt;40 mg/dL and &lt;50 mg/dL for men and women, respectively, or specific medication</li>\n<li><strong>Hypertension</strong>: blood pressure &ge;130 mmHg systolic or &ge;85 mmHg diastolic or specific medication</li>\n<li><strong>Fasting</strong> plasma glucose level <strong>&ge;100 mg/dL</strong> or specific medication or previously diagnosed type 2 diabetes</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with a history of a backache for 10 days, has now presented with sudden onset difficulty in micturition and defaecation. There was no history of a cough or fever previously. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pott\u2019s Spine"
      },
      {
        "id": 2,
        "text": "Guillain Barre Syndrome"
      },
      {
        "id": 3,
        "text": "Cauda Equina Syndrome"
      },
      {
        "id": 4,
        "text": "Multiple Sclerosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>This is a case of<strong>&nbsp;cauda equina syndrome (CES).</strong></p>\n<p>CES signifies an injury of multiple lumbosacral nerve roots within the spinal canal distal to the termination of the spinal cord at L1-L2.&nbsp;It is commonly due to a ruptured lumbosacral intervertebral disk, lumbosacral spine fracture, hematoma within the spinal canal, compressive tumor, or other mass lesions.</p>\n<p><strong> Low back pain</strong>, weakness,&nbsp;and areflexia in the legs, saddle anesthesia, or <strong>loss of bladder function</strong> may occur.&nbsp;</p>\n<p>Treatment options include surgical decompression, sometimes urgently in an attempt to restore or preserve motor or sphincter function, or radiotherapy for metastatic tumors.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old male chronic smoker presents to the AIIMS OPD with fever, fatigue, yellow-colored urine, and clay-colored stools. For the past few days, he has developed an aversion to cigarette smoking. On examination icterus was present. What investigations would you advise to rule out acute viral hepatitis? Liver function test results are given below:",
    "choices": [
      {
        "id": 1,
        "text": "HBsAg, IgM antiHBC, AntiHCV, AntiHEV"
      },
      {
        "id": 2,
        "text": "AntiHAV, HBsAg, IgM antiHBc, AntiHCV"
      },
      {
        "id": 3,
        "text": "HBsAg, IgM antiHBc, AntiHDV, AntiHCV, Anti HEV"
      },
      {
        "id": 4,
        "text": "AntiHAV, IgM antiHBc, AntiHCV, AntiHEV"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario is suggestive of <strong>jaundice</strong>. The<strong> tests</strong> that should be done in this patient to rule out <strong>acute viral hepatitis </strong>include:</p>\n<ul>\n<li>Anti-HAV</li>\n<li>HBsAg</li>\n<li>IgM anti-HBc</li>\n<li>Anti-HCV</li>\n</ul>\n<table style=\"height: 304px; width: 255px;\">\n<tbody>\n<tr>\n<td style=\"width: 140px;\"><strong>Condition Suspected</strong></td>\n<td style=\"width: 107px;\"><strong>Targetted Test Performed</strong></td>\n</tr>\n<tr>\n<td style=\"width: 140px;\">Acute Hepatitis A</td>\n<td style=\"width: 107px;\">IgM Anti-HAV</td>\n</tr>\n<tr>\n<td style=\"width: 140px;\">Acute Hepatitis\u00a0B</td>\n<td style=\"width: 107px;\">\n<p>HBsAg and</p>\n<p>IgM Anti-HBc</p>\n<p>*1 or both can be positive. A positive IgM AntiHBc with negative\u00a0HBsAg is seen when HBsAg is below the detection threshold.\u00a0</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 140px;\">Acute Hepatitis C</td>\n<td style=\"width: 107px;\">Anti HCV</td>\n</tr>\n</tbody>\n</table>\n<p>We mainly test for hepatitis A, B, and C. Tests for hepatitis D and E are not used routinely.</p>\n<p><strong>Hepatitis D</strong> only occurs concurrently with Hepatitis B, either as a co-infection (when it is clinically indistinguishable from HBV infection) or superimposed on chronic HBV infection. In the latter scenario, it presents as a sudden worsening of the patient\u2019s condition. IgM anti-HDV, IgG anti-HDV, and HDV RNA assays are useful for diagnosis when hepatitis D is suspected.</p>\n<p><strong>Hepatitis E</strong> is <strong>not tested</strong> as the majority of patients who acquire hepatitis E virus (HEV) infection spontaneously clear the virus. Acute hepatic failure is more likely in those who are pregnant and in those who are malnourished or have preexisting liver disease. Chronic HEV has been described almost exclusively in immunocompromised hosts (e.g., organ transplantation). The diagnosis of acute HEV is typically based upon the detection of IgM antibodies to HEV. <strong>B</strong><strong>oth false positives </strong>and <strong>negatives </strong>are<strong> common</strong> with available assays and are thus, not very reliable. Thus, additional serologic testing or HEV RNA testing should be performed to confirm the diagnosis and not be useful as a screening test. [Please note the difference between anti-HBe and anti-HEV]</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 22-year-old man presented with diarrhea and intolerance to dairy products. On investigation, he was found to have a lactase deficiency. Which of the following agents is least likely to cause symptoms of lactose intolerance?",
    "choices": [
      {
        "id": 1,
        "text": "Condensed Milk"
      },
      {
        "id": 2,
        "text": "Skimmed Milk"
      },
      {
        "id": 3,
        "text": "Yogurt"
      },
      {
        "id": 4,
        "text": "Ice Cream"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Yogurt</strong> is the least likely to cause symptoms of lactose intolerance. It contains<strong> lactobacillus that produces lactase</strong> and is generally well tolerated.</p>\n<p><strong>Lactase </strong>is a brush border enzyme that <strong>hydrolyzes lactose into glucose and galactose</strong>. In lactase deficiency, patients have great variability in clinical symptoms, depending on both the severity of lactase deficiency and the amount of lactose ingested.</p>\n<p>The goal of treatment in patients with isolated lactase deficiency is achieving patient comfort through the elimination of dietary lactose.</p>\n<p>Foods that are <strong>high in lactose</strong> include <strong>milk</strong> (12 g/cup), <strong>ice cream</strong> (9 g/cup), and cottage cheese (8 g/cup). Aged cheese has lower lactose content. Most people can tolerate up to <strong>12g of lactose a day</strong> without significant symptoms.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the most likely causative organism of ventilator-associated pneumonia among the following?",
    "choices": [
      {
        "id": 1,
        "text": "Clostridium"
      },
      {
        "id": 2,
        "text": "Klebsiella"
      },
      {
        "id": 3,
        "text": "Acinetobacter"
      },
      {
        "id": 4,
        "text": "Hemophilus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Among the given options,<strong> Acinetobacter species</strong> is the <strong>most commonly isolated</strong> organism in cases of <strong>ventilator-associated pneumonia (VAP)</strong>.&nbsp;VAP develops in a mechanically ventilated patient <strong>&gt;48 hours </strong>after endotracheal intubation.</p>\n<p>The organisms causing ventilator-associated pneumonia (VAP) significantly vary from one hospital to another. However, the organisms that frequently cause VAP in hospital settings are <strong><em>Staphylococcus aureus</em></strong>, <strong><em>Pseudomonas aeruginosa</em>,&nbsp;</strong><em><strong>Acinetobacter sp.</strong>,&nbsp;Stenotrophomonas maltophilia, </em>and&nbsp;gram-negative rods (Enterobacter species, <em>K. pneumoniae</em>, and <em>Escherichia coli</em>).</p>\n<p>Three factors distinguish nosocomial pneumonia from community-acquired pneumonia:</p>\n<ol>\n<li>Different infectious agent</li>\n<li>Different antibiotic susceptibility patterns, specifically, a higher incidence of drug resistance</li>\n<li>Poorer underlying health status of patients putting them at risk for more severe infections</li>\n</ol>\n<p>Within 48 hours of admission, 75% of seriously ill hospitalized patients have their upper airway colonized with organisms from the hospital environment. Impaired cellular and mechanical defense mechanisms in the lungs of hospitalized patients raise the risk of infection after aspiration has occurred.</p>\n<p>VAP patients may be infected with <em>Acinetobacter</em> species and <em>Stenotrophomonas&nbsp;maltophilia</em>. Anaerobic organisms (<em>Bacteroides</em>, anaerobic streptococci, <em>Fusobacterium</em>) may also cause pneumonia in the hospitalized patient.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The arterial blood gas findings of a patient are pH = 7.12, pCO2 = 50, HCO3 = 28. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Respiratory acidosis with metabolic compensation"
      },
      {
        "id": 2,
        "text": "Metabolic acidosis with respiratory compensation"
      },
      {
        "id": 3,
        "text": "Respiratory alkalosis with metabolic compensation"
      },
      {
        "id": 4,
        "text": "Metabolic alkalosis with respiratory compensation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above findings give the diagnosis of<strong>&nbsp;respiratory acidosis </strong>with<strong> metabolic compensation</strong>.</p>\n<p>Interpretation of the ABG:</p>\n<p>Step 1: pH is reduced (7.12), hence <strong>acidosis</strong>.</p>\n<p>Step 2: Since pCO2 is raised (50 mmHg),&nbsp;it is <strong>respiratory</strong> acidosis.</p>\n<p>Step 3: HCO<sub>3</sub>&nbsp;is raised&nbsp;(28 mEq/L) suggesting there is <strong>metabolic compensation</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs is not used in rheumatoid arthritis?",
    "choices": [
      {
        "id": 1,
        "text": "Febuxostat"
      },
      {
        "id": 2,
        "text": "Leflunomide"
      },
      {
        "id": 3,
        "text": "Etanercept"
      },
      {
        "id": 4,
        "text": "Methotrexate"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Febuxostat</strong>&nbsp;is not used in rheumatoid arthritis. It is used in the treatment of <strong>gout</strong>.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A middle-aged woman with a history of constipation, dry skin and menorrhagia presents to the ER with altered sensorium, non-pitting edema, hypothermia, bradycardia, and hypotension. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Septic shock"
      },
      {
        "id": 2,
        "text": "Cardiogenic shock"
      },
      {
        "id": 3,
        "text": "Myxedema coma"
      },
      {
        "id": 4,
        "text": "Hypoglycemia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical history is typical&nbsp;of a <strong>case of hypothyroidism</strong> and the diagnosis is&nbsp;<strong>myxedema coma</strong>, which is a serious complication of hypothyroidism.</p>\n<p>Myxedema coma is a part of a larger clinical picture of <strong>myxedema crisis.</strong> Myxedema crisis refers to severe, life-threatening manifestations of hypothyroidism. It is often precipitated by the administration of sedatives, antidepressants, hypnotics, anaesthetics, or opioids.</p>\n<p>Clinical features of myxedema crisis :</p>\n<ul>\n<li>Impaired cognition, ranging from confusion to somnolence to coma (<strong>myxedema coma</strong>).</li>\n<li>Convulsions and abnormal CNS signs.</li>\n<li>Profound <strong>hypothermia</strong> (can reach 23&deg;C), hypoventilation,<strong> hyponatremia, hypoglycemia, </strong>hypoxemia<strong>, hypercapnia, </strong>and hypotension.</li>\n<li>Rhabdomyolysis and acute kidney injury</li>\n<li>A high mortality rate&nbsp;</li>\n</ul>\n<p><strong>Other options:&nbsp;</strong></p>\n<p><strong>Option A: </strong>Without a history of or focus of infection, septic shock is unlikely.&nbsp;</p>\n<p><strong>Option B:</strong> Cardiogenic shock would present with symptoms of left heart failure i.e. pitting pedal edema, abdominal distension, prominence of neck veins, and dyspnea.&nbsp;</p>\n<p><strong>Option D:</strong> Hypoglycemia usually presents with sweating, palpitations, and tachycardia&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly diabetic and hypertensive patient was carried to the emergency room in a comatose state. On examination, the blood pressure was 170/100 mmHg and pulse rate was >100/min. Plantar reflex was bilateral extensor. What is the next step to do?",
    "choices": [
      {
        "id": 1,
        "text": "Check blood sugar level"
      },
      {
        "id": 2,
        "text": "Give antihypertensive"
      },
      {
        "id": 3,
        "text": "IV mannitol"
      },
      {
        "id": 4,
        "text": "CT brain"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Ruling out <strong>glycemic</strong> <strong>extremes</strong> is the first step in the evaluation of this patient who is in a <strong>coma</strong> as most of the causes of coma are <strong>metabolic</strong> in origin and with appropriate treatment are completely <strong>reversible</strong>.</p>\n<p>In this elderly patient, with no other relevant history, the most likely cause of coma is <strong>diabetic ketoacidosis, hyperglycemic hyperosmolar state,</strong> or even <strong>hypoglycemia</strong> (which may present with hypertension).</p>\n<p><strong>Other options : </strong></p>\n<p>The patient presents with tachycardia which is not a sign of raised intracranial pressure(bradycardia, altered respiratory pattern, raised systolic blood pressure) and hence starting iv mannitol <strong>(option 3)</strong> to reduce intracranial pressure or doing a CT<strong> (option 4)</strong> to rule out intracranial space-occupying lesion is not required.</p>\n<p>The patient is a known case of hypertension which may cause hypertensive encephalopathy due to cerebral edema and would present with a similar history and signs of raised intracranial pressure giving antihypertensive <strong>(option 2) </strong>&nbsp;medications would treat the condition but it is not the first step as metabolic causes are more common and have to be addressed first.&nbsp;</p>\n<p><strong>Coma</strong> is defined as a deep sleep-like state from which the patient cannot be aroused.Coma could be due to:</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Metabolic</strong> and toxic encephalopathies, where brain imaging will be normal</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Meningitis syndromes</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Diseases with prominent focal signs like stroke, or hemorrhage</li>\n</ul>\n<p><strong>Urgent intervention </strong>is needed to prevent further brain damage. It is done by providing supplemental <strong>oxygen</strong>, intravenous <strong>thiamine</strong> (at least 100 mg), and intravenous 50% <strong>dextrose</strong> in water (25 g) empirically. It is crucial to measure baseline serum glucose levels before administering glucose.</p>\n<p>The initial examination includes <strong>evaluating</strong> the general appearance,vitals, breath sounds, <strong>response</strong> to stimulation, pupil size and <strong>responsiveness</strong>, and any abnormal posturing or movements. In trauma cases, the neck should be stabilized until ruling out cervical spine fracture. Airway protection and intravenous access is necessary.&nbsp;</p>\n<p><strong>Immediate therapeutic intervention</strong> should be done for hypotension, significant hypertension, bradycardia, arrhythmias affecting blood pressure or marked hyperthermia. Signs of <strong>meningeal irritation</strong> or <strong>fever</strong> indicate the need for urgent <strong>lumbar</strong> <strong>puncture</strong>. <strong>Fundus</strong> examination for papilledema and a CT scan of the brain should be performed prior to lumbar puncture in comatose patients.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old patient came with a history of hyponatremia. He was treated by a large volume of hypertonic fluids over 24 hours following which the patient developed quadriparesis. What is the most likely cause for this patient\u2019s condition?",
    "choices": [
      {
        "id": 1,
        "text": "Brain infarct"
      },
      {
        "id": 2,
        "text": "Brainstem injury"
      },
      {
        "id": 3,
        "text": "Central pontine myelinolysis"
      },
      {
        "id": 4,
        "text": "Rare cause of hypernatremia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shows the MRI finding of central pontine myelinolysis with axial fat saturated T2-Weighted MRI showing hyperintense signal in the central pons.</p>\n<p><strong>Note</strong>: Brain infarct or brain stem injury usually do not result in a quadriparesis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/97db1af1f9ec4e40ad21a8e7dfbbb7e8x477x547.PNG"
    ]
  },
  {
    "text": "An elderly woman presents with a chronic history of pain in the small joints of hands with stiffness of joints in the early hours of the day. The image of the patient\u2019s hands is given below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Rheumatoid Arthritis"
      },
      {
        "id": 2,
        "text": "Osteoarthritis"
      },
      {
        "id": 3,
        "text": "Complex Regional Pain Syndrome"
      },
      {
        "id": 4,
        "text": "Villonodular synovitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above image shows <strong>flexion</strong> at the <strong>PIP</strong> joint and <strong>extension</strong> in the <strong>DIP</strong> joints which is known as <strong>boutonniere deformity</strong> which is seen in <strong>rheumatoid arthritis(RA).&nbsp;</strong></p>\n<p>If the patient gives a history of pain/stiffness in the joints in the early hours of the day which usually decreases as the day progresses suggesting <strong>inflammatory arthritis</strong> and if it presents with predominant involvement of <strong>smaller</strong> joints, it is most likely a case of <strong>RA(option A).</strong></p>\n<p>It occurs due to the accumulation of <strong>inflammatory</strong> <strong>mediators</strong> which on increased joint mobility are flushed out due to increased blood supply.&nbsp;</p>\n<p>Pain and stiffness in <strong>osteoarthritis</strong> (Option B) usually <strong>increase</strong> as the day <strong>progresses</strong> due to an increase in the activity of the joint. They typically present with nodules around the distal interphalangeal joint <strong>(Heberden nodes)</strong> and proximal interphalangeal joint <strong>(Bouchard nodes). &nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9ab556c8071442dd931dff04b5748812.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A triad of skin lesions, asymmetric mononeuritis multiplex and eosinophilia is seen in which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Cryoglobulinemic vasculitis"
      },
      {
        "id": 2,
        "text": "Polyarteritis nodosa"
      },
      {
        "id": 3,
        "text": "Churg Strauss syndrome"
      },
      {
        "id": 4,
        "text": "Giant cell arteritis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A triad of <strong>skin lesions,</strong> asymmetric<strong> mononeuritis multiplex, </strong>and<strong> eosinophilia</strong> is seen in <strong>Churg&ndash;Strauss syndrome </strong>(eosinophilic&nbsp;granulomatosis with polyangiitis).</p>\n<p>It is a <strong>necrotizing vasculitis</strong> of the small-to-medium-sized vessels and in order to be diagnosed with Churg-Strauss, a patient should have evidence of <strong>asthma</strong>, peripheral blood and tissue <strong>eosinophilia</strong> (&gt;1000 cells/&mu;L), extravascular <strong>granuloma</strong> formation and clinical features consistent with vasculitis.&nbsp;</p>\n<p>Common presenting symptoms of this condition are<strong> lower respiratory tract symptoms </strong>such as severe attacks of asthma, u<strong>pper respiratory tract symptoms</strong> such as allergic rhinitis, sinusitis, and nasal polyps, mono neuritis multiplex (a type of peripheral neuropathy affecting at least two nerves) which presents with a complaint of pain, numbness, or weakness in the affected areas and skin lesions like palpable purpura and subcutaneous nodules.</p>\n<p><strong>Renal involvement</strong> is <strong>less</strong> common and less severe than other small vessel vasculitis.</p>\n<p><strong>P-ANCA</strong> antibodies are present in Churg Strauss syndrome.&nbsp;</p>\n<ul>\n<li>Severe attacks of <strong>asthma</strong></li>\n<li><strong>Mononeuritis multiplex:</strong>&nbsp;a type of peripheral neuropathy affecting at least two nerves. Patients will complain of pain, numbness, or weakness in the affected areas.</li>\n<li><strong>Skin lesions</strong> like palpable purpura and subcutaneous nodules.</li>\n</ul>\n<p><strong>Glucocorticoids</strong> show effective responses in these patients. Other drugs that have been tried are <strong>mepolizumab</strong> and <strong>rituximab</strong>.</p>\n<p>For fulminant multisystem disease, daily <strong>cyclophosphamide</strong> with <strong>prednisolone</strong> followed by <strong>azathioprine</strong> or <strong>methotrexate</strong> is used.</p>\n<p><strong>Option A: Cryoglobulinemic vasculitis</strong> presents with palpable purpura, arthralgia, neuropathy, and glomerulonephritis. &nbsp;It is most commonly associated with <strong>Hepatitis C.</strong></p>\n<p><strong>Option B: Polyarteritis nodosa</strong> can also present with mononeuritis multiplex and skin lesions, but they do <strong>not</strong> have <strong>eosinophilia, </strong>it has predominant<strong> neutrophilia.</strong></p>\n<p><strong>Option D: Giant cell arteritis</strong> manifests with the cardinal symptom of headache localized to the temporal region. Common symptoms include headache, polymyalgia rheumatica , jaw claudication, fever, and decrease in body weight. Laboratory results show increased ESR, CRP levels, normochromic or mildly hypochromic anemia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "'a' wave in JVP corresponds to?",
    "choices": [
      {
        "id": 1,
        "text": "Right atrial contraction"
      },
      {
        "id": 2,
        "text": "Closure of tricuspid valve"
      },
      {
        "id": 3,
        "text": "Onset of ventricular systole"
      },
      {
        "id": 4,
        "text": "Maximal atrial filling"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The<strong>&nbsp;\"a\" wave</strong> in jugular venous pressure (JVP) is a positive wave, which corresponds to<strong>&nbsp;right atrial contraction.</strong></p>\n<p>The waveforms seen in a normal JVP are:</p>\n<ul>\n<li>a wave corresponds to atrial contraction and occurs just after the P wave (on ECG) and just before the first heart sound.</li>\n<li>c wave represents the bulging of the tricuspid valve into the right atrium during ventricular systole.</li>\n<li>x descent corresponds to the atrial relaxation during atrial diastole.</li>\n<li>v wave represents atrial filling during ventricular systole and peaks at the second heart sound.</li>\n<li>y descent represents passive emptying of the right atrium into the right ventricle after tricuspid valve opening.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/29c964e05da6489d9d243a1f25e8a032x1280x1005.JPEG"
    ]
  },
  {
    "text": "Which among the following is wrong about DIC?",
    "choices": [
      {
        "id": 1,
        "text": "Increased schistocytes"
      },
      {
        "id": 2,
        "text": "Increased PT"
      },
      {
        "id": 3,
        "text": "Increased fibrinogen"
      },
      {
        "id": 4,
        "text": "Increased FDPs"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In disseminated intravascular coagulopathy (DIC), <strong>fibrinogen levels</strong> are<strong> decreased</strong>&nbsp;due to increased bleeding.&nbsp;</p>\n<p>Disseminated intravascular coagulation (DIC) is an <strong>acquired</strong> syndrome characterized by the <strong>widespread activation</strong> of blood clotting factors within blood vessels, resulting in a loss of clotting control. The primary mechanism of DIC involves the uncontrolled generation of <strong>thrombin</strong> through multiple pathways which leads to sustained <strong>coagulation activation</strong>, the formation of <strong>fibrin</strong>, and the consumption of clotting factors and platelets.</p>\n<p><strong>Infections</strong> are the most frequent cause of DIC.</p>\n<p><strong>Laboratory investigations in DIC:</strong></p>\n<ul>\n<li>Decreased platelet count&nbsp;</li>\n<li>Prolonged PT/TT</li>\n<li>Prolonged activated partial thromboplastin time (aPTT)</li>\n<li>Decreased fibrinogen</li>\n<li>Elevated fibrin degradation products (D-dimers)</li>\n<li>Peripheral smear: microangiopathic hemolytic anemia in DIC with schistocytes (fragmented red blood cells)&nbsp;</li>\n</ul>\n<p>The treatment involves <strong>platelet</strong> <strong>transfusion</strong> when platelet counts are <strong>below 10,000-20,000/</strong>&mu;L. Replacement of fibrinogen and coagulation factors is with<strong> fresh frozen plasma (FFP) </strong>along with <strong>cryoprecipitate</strong> or <strong>fibrinogen</strong> <strong>concentrate</strong>.</p>\n<p>In cases of low-grade DIC associated with solid tumors or acute promyelocytic leukemia <strong>low</strong> doses of <strong>continuous-infusion heparin</strong> has been effective.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 16-year-old girl, who is taking antiepileptics, has had a seizure-free period of 6 months. She has no family history of epilepsy. Her EEG is now normal and she has a normal neurological exam and intelligence. What would your advice be?",
    "choices": [
      {
        "id": 1,
        "text": "Stop the treatment and follow up"
      },
      {
        "id": 2,
        "text": "Gradually taper the drug and stop treatment"
      },
      {
        "id": 3,
        "text": "Continue treatment for another 18 months"
      },
      {
        "id": 4,
        "text": "Continue lifelong treatment with antiepileptics"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Other options:</p>\n<p>Option A: <strong>Sudden cessation</strong> of drug therapy may cause <strong>recurrence</strong> of seizure hence not advised.</p>\n<p>Option B: The patient has a seizure-free interval of only 6 months and therefore, is not yet eligible for considering medication withdrawal.</p>\n<p>Option D: Life-long treatment is not necessary in this case as the patient meets all the above-mentioned criteria for drug withdrawal after 2 years.</p>\n<p>Note: <strong>Juvenile myoclonic epilepsy</strong> (JME), the most common idiopathic generalized epilepsy syndrome is known to have a high risk of seizure recurrence, and hence <strong>antiepileptics</strong> are continued <strong>lifelong</strong> in a majority of patients.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "AKIN  and RIFLE criteria are used to classify",
    "choices": [
      {
        "id": 1,
        "text": "Acute kidney injury"
      },
      {
        "id": 2,
        "text": "Chronic renal failure"
      },
      {
        "id": 3,
        "text": "Acute glomerulonephritis"
      },
      {
        "id": 4,
        "text": "Nephrotic syndrome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>AKIN</strong> and <strong>RIFLE criteria</strong> are used to <strong>classify acute kidney injury</strong> (AKI).</p>\n<p>The various classifications used in AKI are:</p>\n<ul>\n<li>RIFLE criteria (Risk, Injury, Failure, Loss, End-stage)</li>\n<li>AKIN (AKI Network) Classification</li>\n<li>KDIGO (Kidney Disease Improving Global Outcomes) Classification</li>\n</ul>\n<p><strong>RIFLE, AKIN, KDIGO definitions</strong> of AKI:</p>\n<table>\n<tbody>\n<tr>\n<td>\u00a0</td>\n<td>RIFLE</td>\n<td>AKIN</td>\n<td>KDIGO</td>\n</tr>\n<tr>\n<td>S. creatinine</td>\n<td>&gt;50% increase that develops in &lt;7 days\u00a0</td>\n<td>&gt;0.3 mg/dl increase or &gt;50% increase that develops in &lt;48hr</td>\n<td>&gt;0.3 mg/dl increase or &gt;50% increase that develops in &lt;7 days</td>\n</tr>\n<tr>\n<td>Urine output</td>\n<td>&lt;0.5ml/kg/hr for &gt;6 hr</td>\n<td>&lt;0.5ml/kg/hr for &gt;6 hr</td>\n<td>&lt;0.5ml/kg/hr for &gt;6 hr</td>\n</tr>\n<tr>\n<td>\u00a0</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n</tr>\n</tbody>\n</table>\n<p><br /><strong>RIFLE, AKIN, KDIGO staging </strong>of AKI:</p>\n<table>\n<tbody>\n<tr>\n<td>RIFLE</td>\n<td>Increase in S.creatinine\u00a0</td>\n<td>AKIN</td>\n<td>Increase in S.creatinine</td>\n<td>KDIGO</td>\n<td>Increase in S.creatinine</td>\n<td>Urine output</td>\n</tr>\n<tr>\n<td><strong>R</strong>isk\u00a0</td>\n<td>\u226550%</td>\n<td>Stage 1</td>\n<td>\u22650.3mg/dl or \u226550%</td>\n<td>Stage 1</td>\n<td>\u22650.3mg/dl or \u226550%</td>\n<td>&lt;0.5mL/kg/hr for &gt;6h</td>\n</tr>\n<tr>\n<td><strong>I</strong>njury</td>\n<td>\u2265100%</td>\n<td>Stage 2</td>\n<td>\u2265100%</td>\n<td>Stage 2</td>\n<td>\u2265100%</td>\n<td>&lt;0.5mL/kg/hr for &gt;12 hr</td>\n</tr>\n<tr>\n<td><strong>F</strong>ailure</td>\n<td>\u2265200%</td>\n<td>Stage 3</td>\n<td>\u2265200%</td>\n<td>Stage 3</td>\n<td>\u2265200%</td>\n<td>&lt;0.3mL/kg/hr for &gt;24hr or anuria &gt;12hr</td>\n</tr>\n<tr>\n<td><strong>L</strong>oss</td>\n<td>Need for renal replacement therapy (RRT)&gt;4 weeks</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n</tr>\n<tr>\n<td><strong>E</strong>nd-stage</td>\n<td>Need RRT for &gt;3 months</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n<td>\u00a0</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The most common bleeding manifestation seen in severe hemophilia is:",
    "choices": [
      {
        "id": 1,
        "text": "Recurrent hematomas"
      },
      {
        "id": 2,
        "text": "Recurrent hemarthrosis"
      },
      {
        "id": 3,
        "text": "Hematuria"
      },
      {
        "id": 4,
        "text": "Intracranial hemorrhage"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Recurrent hemarthrosis</strong> is the <strong>most common</strong> bleeding manifestation of <strong>severe</strong> hemophilia.&nbsp;Hemophilia is said to be severe when the residual activity of factor VIII is <strong>&lt;1%</strong>.</p>\n<p>Hemophilia is an <strong>X-linked recessive </strong>hemorrhagic disorder and is caused by mutations in either the <strong>F8 gene (hemophilia A</strong> or classic hemophilia) or the<strong> F9 gene (hemophilia B).</strong> Clinically, it is impossible to distinguish between hemophilia A and hemophilia B as they present with <strong>similar symptoms. </strong>It can be classified based on residual activity of <strong>FVIII </strong>or<strong>&nbsp;FIX</strong> as severe (&lt;1%), moderate (1&ndash;5%), or mild (6&ndash;30% )&nbsp;</p>\n<p>Hemophilia presents early in life- <strong>bleeding after circumcision</strong> or when beginning to walk or crawl.</p>\n<p>Clinical features:</p>\n<ul>\n<li>Acute hemarthrosis:\n<ul>\n<li>Local pain, swelling</li>\n<li>Erythema</li>\n<li>Muscle contractures due to fixed positioning.</li>\n</ul>\n</li>\n<li>Chronic hemarthrosis:\n<ul>\n<li>Synovial thickening</li>\n<li>Synovitis (due to intraarticular blood)</li>\n</ul>\n</li>\n</ul>\n<p>The most common joint affected is the<strong> knee</strong>. One joint is affected more than the other. This is called the <strong>target joint</strong>. Muscle hematomas can lead to compartment syndromes.</p>\n<p>Hematuria is common but self-limited. Life-threatening bleeds such as bleeding into oropharyngeal spaces, CNS, and retroperitoneum can occur.</p>\n<p><strong>Treatment:</strong> Without treatment, severe hemophilia may limit life expectancy. <strong>Factor replacement</strong> for hemophilia has been the mainstay of therapy.</p>\n<ul>\n<li><strong>FVIII dose (IU)</strong> = Target FVIII levels &ndash; FVIII baseline levels &times; body weight (kg) &times; 0.5 unit/kg&nbsp; .</li>\n<li><strong>FIX dose (IU)</strong> = Target FIX levels &ndash; FIX baseline levels &times; body weight (kg) &times; 1 unit/kg&nbsp;</li>\n</ul>\n<p>The FVIII half-life of 8&ndash;12 h requires injections twice a day to maintain therapeutic levels, whereas the FIX half-life is longer, ~24 h so that once-a-day injection is sufficient.&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presents with left-sided facial paralysis and left-sided limb weakness for the past 1 hour. Her blood pressure is 160/100 mm Hg and her CT appears normal. What would be the next step of management?",
    "choices": [
      {
        "id": 1,
        "text": "Nothing, since CT was normal"
      },
      {
        "id": 2,
        "text": "Start on aspirin + clopidogrel"
      },
      {
        "id": 3,
        "text": "Intravenous thrombolysis"
      },
      {
        "id": 4,
        "text": "Advice BP control"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Sudden onset hemiparesis</strong> with apparently normal CT indicates<strong> ischemic stroke</strong> in this patient.<strong> Intravenous thrombolysis</strong>(alteplase 0.9 mg/kg ) should be immediately administered to patients with ischemic stroke who arrive in the window period i.e., within 3-4.5 hours of symptom onset.</p>\n<p><strong>Aspirin + clopidogrel</strong>(Option B) is used in secondary prevention of stroke and also to prevent stroke following TIA.</p>\n<p><strong> Transient ischemic attacks</strong> (TIAs) refer to episodes of stroke symptoms that have a brief duration, the standard definition of duration is &lt;24 h, but most TIAs <strong>last &lt;1 hr</strong>. TIAs may arise from <strong>emboli</strong> to the brain or from in situ <strong>thrombosis</strong> of an intracranial vessel. With a TIA, the occluded blood vessel reopens and neurologic function is restored. If a relevant brain infarction is identified on brain imaging, the clinical entity is now classified as <strong>stroke</strong> regardless of the duration of symptoms.</p>\n<p>The risk of stroke following a transient ischemic attack (TIA) is approximately 10-15% in the first three months, majorly in the first two days. A reliable estimation of this risk can be obtained using the <strong>ABCD2 score</strong>.&nbsp;<br /><br />Other options:&nbsp;</p>\n<p>Option A: If CT is normal it only rules out <strong>hemorrhagic stroke</strong> and changes of ischemic stroke usually take time to appear on NCCT.</p>\n<p>Option D: BP control is done when <strong>BP exceeds 220/120 mmHg</strong>, if there is malignant hypertension or concomitant myocardial ischemia, or if blood pressure is &gt;185/110 mmHg and thrombolytic therapy is anticipated.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Relative bradycardia occurs in:",
    "choices": [
      {
        "id": 1,
        "text": "Typhoid fever"
      },
      {
        "id": 2,
        "text": "Q fever"
      },
      {
        "id": 3,
        "text": "Leptospirosis"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the given options <strong>typhoid, Q fever, and leptospirosis </strong>are infectious causes of relative bradycardia.</p>\n<p><strong>Relative bradycardia,</strong> also known as <strong>Faget's sign</strong>, is observed when patients exhibit a lower heart rate than anticipated in relation to an increase in body temperature. Body temperature is commonly regarded as a factor that independently influences heart rate. It is estimated that for each 1&deg;C (1.8&deg;F) rise in temperature, the heart rate typically increases by approximately 15-20 beats per minute.</p>\n<p>While this pulse-temperature dissociation is not highly sensitive or specific for establishing a diagnosis, it can still prove beneficial in resource-limited settings due to its easy accessibility and simplicity.</p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Infectious causes of relative bradycardia include:&nbsp;</span></p>\n<ul>\n<li><em>Salmonella typhi</em></li>\n<li><em>Francisella tularensis</em></li>\n<li><em>Coxiella burnetii</em> (Q fever)</li>\n<li><em>Leptospira interrogans</em></li>\n<li><em>Legionella pneumophila</em></li>\n<li><em>Rickettsia</em> spp.</li>\n<li><em>Orientia tsutsugamushi</em> (scrub typhus)</li>\n<li><em>Corynebacterium diphtheriae</em></li>\n<li><em>Plasmodium</em> spp. (malaria)</li>\n</ul>\n<p>Noninfectious causes include:</p>\n<ul>\n<li>Drug fever</li>\n<li>Beta-blocker use</li>\n<li>Central nervous system lesions</li>\n<li>Malignant lymphoma</li>\n<li>Factitious fever</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the most specific marker for alcoholism?",
    "choices": [
      {
        "id": 1,
        "text": "ALT"
      },
      {
        "id": 2,
        "text": "GGT"
      },
      {
        "id": 3,
        "text": "ALP"
      },
      {
        "id": 4,
        "text": "LDH"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>GGT</strong> (Gamma Glutamyl Transferase) is the most<strong> specific</strong> marker of <strong>alcoholism</strong> among the given options.</p>\n<p>The markers with <strong>&gt;60% sensitivity</strong> and <strong>specificity</strong> for heavy alcohol use are <strong>gamma-glutamyl transferase</strong> (&gt;35 u) and <strong>carbohydrate-deficient transferrin</strong> (CDT), the combination of the two is likely to be more accurate than one. An isolated elevation in serum GGT or GGT elevation out of proportion to that of other enzymes (such as the ALT and ALP) may be an indicator of alcohol abuse or alcoholic liver disease.&nbsp;</p>\n<p><strong>ALT (option A)</strong> is usually elevated in acute hepatocellular conditions such as hepatitis. Alanine aminotransferase is predominantly found in the liver, hence a more specific marker of liver injury. A ratio of AST/ALT &gt; 2:1 indicates the possibility of alcoholic liver disease and &gt; 3:1 ratio is highly indicative of this condition. In alcoholic liver disease, ALT levels are often normal.</p>\n<p><strong>ALP (option C)</strong> is elevated in <strong>cholestasis</strong>, \u200b\u200bis also elevated when there is rapid bone growth like in children and adolescents because of bone alkaline phosphatase and in normal pregnancies due to placental alkaline phosphatase.</p>\n<p><strong>LDH (option D)</strong> elevation is nonspecific.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is a differentiating feature between cardiac tamponade and tension pneumothorax?",
    "choices": [
      {
        "id": 1,
        "text": "Breath sounds"
      },
      {
        "id": 2,
        "text": "Muffled heart sounds"
      },
      {
        "id": 3,
        "text": "Increased heart rate"
      },
      {
        "id": 4,
        "text": "Raised JVP"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The differentiating feature between cardiac tamponade and tension pneumothorax is breath sounds.&nbsp;The <strong>breath sounds</strong> are <strong>absent</strong> in <strong>tension pneumothorax</strong> while they are <strong>present in cardiac tamponade.</strong></p>\n<p>The presence of <strong>hypotension</strong>, d<strong>istended jugular veins, </strong>and <strong>muffled heart sounds (Beck's triad)</strong> suggest a <strong>cardiac tamponade.</strong> These features can also be seen in <strong>tension pneumothorax. </strong>Other clinical features pointing towards tension pneumothorax are <strong>absent breath sounds, hyper resonance to percussion, </strong>and <strong>shift</strong> of the <strong>mediastinum</strong> to the contralateral side.&nbsp;</p>\n<p>Heart sounds can be muffled by structures between the stethoscope and the heart, eg, adipose tissue deposition (obesity), fluid accumulation (pericardial effusion, pleural effusion), gas accumulation (pneumothorax, subcutaneous emphysema), soft tissue masses can lead to attenuation of heart sounds.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presented with chronic diarrhea and steatorrhea. D-xylose test was normal and the Schilling test was abnormal. A duodenal biopsy was normal. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Celiac disease"
      },
      {
        "id": 2,
        "text": "Ulcerative colitis"
      },
      {
        "id": 3,
        "text": "Intestinal lymphangiectasia"
      },
      {
        "id": 4,
        "text": "Pancreatic insufficiency"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical scenario describes a case of <strong>malabsorption syndrome </strong>(chronic diarrhea and steatorrhea), a <strong>normal xylose</strong> test and <strong>normal duodenal</strong> biopsy with <strong>abnormal</strong> <strong>schilling</strong> test points towards pancreatic insufficiency.</p>\n<p>A normal xylose test and normal duodenal biopsy rules out small intestinal pathologies like <strong>celiac disease </strong>(option A) and <strong>intestinal lymphangiectasia </strong>(option C), presence of steatorrhea rules out <strong>ulcerative colitis </strong>(option B) as it affects the large bowel which is not the main site of absorption of fat.&nbsp;&nbsp;</p>\n<p><strong>Ileal disease</strong> is also characterized by normal xylose test, normal duodenal biopsy and steatorrhea and abnormal schilling test but among the given options the most appropriate answer would be pancreatic insufficiency due to chronic pancreatitis.</p>\n<p><strong>Pancreatic insufficiency</strong> is characterised by the deficiency of exocrine pancreatic enzymes that result in maldigestion and malabsorption.</p>\n<p>The features in favor of the diagnosis:</p>\n<ul>\n<li style=\"font-weight: 400;\"><strong>Steatorrhea</strong> - a deficiency of pancreatic lipases can lead to <strong>undigested fat</strong> in stools.</li>\n<li style=\"font-weight: 400;\"><strong>D-xylose test</strong> - d-xylose is a monosaccharide that is directly absorbed by the intestinal mucosa without undergoing any enzymatic action. <strong>Normal</strong> d-xylose test denotes <strong>intact mucosa.</strong></li>\n<li style=\"font-weight: 400;\"><strong>Schilling test</strong> - it is abnormal as pancreatic enzymes are required for the absorption of vitamin B12.</li>\n</ul>\n<p><br />Diagnosis of various malabsorption syndromes:<br /><br /></p>\n<table style=\"width: 925.122px;\">\n<tbody>\n<tr>\n<td style=\"width: 195px;\"><strong>Pathologies</strong></td>\n<td style=\"width: 163px;\"><strong>D xylose test</strong></td>\n<td style=\"width: 285px;\"><strong>Duodenal mucosal biopsy</strong></td>\n<td style=\"width: 252.122px;\"><strong>Schilling test</strong></td>\n</tr>\n<tr>\n<td style=\"width: 195px;\">Celiac disease</td>\n<td style=\"width: 163px;\">Decreased&nbsp;</td>\n<td style=\"width: 285px;\">Abnormal; Short or absent villi; epithelial cell damage; crypts hypertrophy</td>\n<td style=\"width: 252.122px;\">Normal&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 195px;\">Ileal disease</td>\n<td style=\"width: 163px;\">Normal&nbsp;</td>\n<td style=\"width: 285px;\">Normal&nbsp;</td>\n<td style=\"width: 252.122px;\">Abnormal</td>\n</tr>\n<tr>\n<td style=\"width: 195px;\">Chronic pancreatitis</td>\n<td style=\"width: 163px;\">Normal&nbsp;</td>\n<td style=\"width: 285px;\">Normal&nbsp;</td>\n<td style=\"width: 252.122px;\">Abnormal; normal after pancreatic enzymes substitution</td>\n</tr>\n<tr>\n<td style=\"width: 195px;\">Intestinal lymphangiectasia</td>\n<td style=\"width: 163px;\">Normal&nbsp;</td>\n<td style=\"width: 285px;\">Abnormal; dilated lymphatics, clubbed villi</td>\n<td style=\"width: 252.122px;\">Normal&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 195px;\">Bacterial overgrowth syndrome</td>\n<td style=\"width: 163px;\">Normal or may be abnormal&nbsp;</td>\n<td style=\"width: 285px;\">Usually normal or can have diffuse non specific damage to villi</td>\n<td style=\"width: 252.122px;\">Usually abnormal; normal after antibiotics administration</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following leads would show maximum R wave with the cardiac axis as +90 degrees?",
    "choices": [
      {
        "id": 1,
        "text": "Lead aVF"
      },
      {
        "id": 2,
        "text": "Lead aVL"
      },
      {
        "id": 3,
        "text": "Lead I"
      },
      {
        "id": 4,
        "text": "Lead II"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>With the cardiac axis at&nbsp;<strong>+90 degrees,</strong>&nbsp;lead <strong>aVF</strong> would show the <strong>maximum R </strong>wave.&nbsp;</p>\n<p>The <strong>cardiac axis</strong> represents the <strong>mean QRS axis&nbsp;</strong>(direction of mean depolarization vector).</p>\n<p>The normal adult QRS axis is directed downward and to the left, which&nbsp;is between <strong>-30&nbsp;degrees&nbsp;</strong>and<strong> +100&nbsp;degrees.</strong></p>\n<p>The position of lead aVF is at +90 degrees. If the cardiac axis is also at +90 degrees, it would be in the same direction as lead aVF and hence aVF would show maximum R wave amplitude.</p>\n<p class=\"p1\">If the mean axis is:</p>\n<ul>\n<li class=\"p1\">More negative than <strong>&ndash;30 degrees:</strong>&nbsp;left axis deviation</li>\n<li class=\"p1\">More positive than <strong>+90 to +100 degrees:</strong>&nbsp;right axis deviation</li>\n<li class=\"p1\">Lies between <strong>-90 to +180 degrees:</strong> extreme axis deviation</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/13d3e5eab7d04922bed9fc140221676ax1280x1625.JPEG"
    ]
  },
  {
    "text": "A patient walks with a stomping gait. When asked to close his eyes and walk, he is unable to do so. Which of the following tracts is probably affected?",
    "choices": [
      {
        "id": 1,
        "text": "Spinocerebellar tract"
      },
      {
        "id": 2,
        "text": "Posterior column tract"
      },
      {
        "id": 3,
        "text": "Vestibulospinal tract"
      },
      {
        "id": 4,
        "text": "Rubrospinal tract"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario is suggestive of the involvement of the<strong> posterior column. </strong></p>\n<p>Posterior column carries<strong> proprioception</strong>&nbsp;which is essential for coordination of motor movements. Loss of this leads to the development of a <strong>stomping gait. </strong>This is seen in cases of<strong> vitamin B12 deficiency </strong>leading to subacute combined degeneration, tabes dorsalis&nbsp;or diabetic neuropathy.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with thalassemia has a history of multiple blood transfusions, iron overload, and cardiac arrhythmia. She has now come for blood transfusion and during the process, complains of backache and looks very anxious. What would you do next?",
    "choices": [
      {
        "id": 1,
        "text": "Stop the blood transfusion"
      },
      {
        "id": 2,
        "text": "Continue the transfusion but do an ECG"
      },
      {
        "id": 3,
        "text": "Stop the transfusion. Wait for patient to become normal and then start it again"
      },
      {
        "id": 4,
        "text": "Do clerical check and get ECG"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The patient&nbsp;is being<strong> transfused blood</strong> and has complaints of backache<strong>, </strong>this is suggestive of an <strong>acute hemolytic transfusion reaction. </strong></p>\n<p>The first step is to stop transfusion immediately and then collect<strong> blood samples</strong> for testing.</p>\n<p>Acute hemolytic transfusion reactions typically occur within the <strong>first 24 hours </strong>following a blood transfusion, primarily due to <strong>ABO incompatibility</strong>.</p>\n<p>It presents with symptoms such as hypotension, tachypnea, tachycardia, fever (1-2&deg;C increase in temperature), chills, chest and back pain, hemoglobinuria, and hemoglobinemia. In severe cases, disseminated intravascular coagulation (DIC), acute renal failure, shock, and death can occur.</p>\n<p>Management of immune-mediated acute hemolytic transfusion reactions is to provide supportive care, administer vigorous hydration with isotonic saline and use diuretics to maintain urine output.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with chronic kidney disease came with complaints of vomiting and diarrhea. His blood gas reports show pH = 7.40, HCO3- = 23 mEq/L, Na+ = 145 mEq/L, Cl- = 100 mEq/L. What is your probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "No acid base abnormality"
      },
      {
        "id": 2,
        "text": "Respiratory acidosis"
      },
      {
        "id": 3,
        "text": "Metabolic alkalosis"
      },
      {
        "id": 4,
        "text": "High anion gap metabolic acidosis with metabolic alkalosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The probable diagnosis is a&nbsp;high anion gap metabolic acidosis<strong> (HAGMA) </strong>with<strong> metabolic alkalosis</strong>.</p>\n<p>Interpretation of the ABG:</p>\n<p>Step 1: The pH being&nbsp;<strong>7.4</strong>&nbsp;is within normal limits.</p>\n<p>Step 2: Plasma HCO<sub>3</sub><sup>-</sup> is <strong>23 mEq/L</strong> and again is within normal limits.</p>\n<p>At this juncture, we have ruled out options B and C as this particular clinical scenario is not suggestive of a simple acid-base disorder.</p>\n<p>Step 3: Calculating the Anion gap:</p>\n<p>\u202f\u202fAnion gap = [Na+] &ndash; ([Cl-] + [HCO3-])</p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 145-(100+23)</p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= <strong>22 mEq/L</strong></p>\n<p>The presence of a high anion gap indicates that there's indeed an acid-base disorder, thus ruling out option A.</p>\n<p>A <strong>high anion gap </strong>indicates<strong> metabolic acidosis</strong>. However, HCO3- levels within normal limits suggest that there is also <strong>coexisting</strong> <strong>metabolic alkalosis</strong> in this patient.</p>\n<p>This can be confirmed by calculating the<strong>&nbsp;delta gap</strong>.</p>\n<p>Delta gap =&nbsp;<strong>&Delta;AG -&nbsp;&Delta;HCO<sub>3</sub><sup>-</sup></strong></p>\n<p>In this scenario: Delta gap = (22-10) - (24-23) = <strong>11</strong> <strong>mEq/L</strong></p>\n<p>Delta gap is &gt; +6 suggesting the presence of metabolic alkalosis along with HAGMA.</p>\n<p>If the delta gap is significantly <strong>positive (&gt;+6)</strong>,<strong> metabolic alkalosis</strong> is present because the rise in the anion gap is more than the fall in bicarbonate. If the delta gap is significantly <strong>negative (&lt;6)</strong> then <strong>hyperchloremic acidosis</strong> is usually present because a rise in the anion gap is less than a fall in bicarbonate.</p>\n<p>Alternatively, this can be confirmed by calculating the <strong>delta ratio</strong>.</p>\n<p>Delta ratio = the<strong> increase in Anion Gap / the decrease in HCO3-</strong></p>\n<p>It is used in the presence of a high anion gap metabolic acidosis (HAGMA), to check it is a &lsquo;pure&rsquo; HAGMA or if there is coexistant normal anion gap metabolic acidosis (NAGMA) or metabolic alkalosis.</p>\n<p>Delta ratio values:</p>\n<ul>\n<li>1-2 indicates HAGMA</li>\n<li>&lt; 1 indicates NAGMA + HAGMA</li>\n<li>&gt; 2 indicates HAGMA + Metabolic alkalosis</li>\n</ul>\n<p>In this scenario,</p>\n<p>Delta ratio = 12/1 = <strong>12</strong></p>\n<p>Thus, the acid-base disorder for the above scenario is <strong>HAGMA with metabolic alkalosis.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not done before drawing blood for arterial blood gas analysis?",
    "choices": [
      {
        "id": 1,
        "text": "Allen's test"
      },
      {
        "id": 2,
        "text": "Rinse syringe with heparin"
      },
      {
        "id": 3,
        "text": "Flexion of wrist"
      },
      {
        "id": 4,
        "text": "Placing needle at 45 degree angle"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The syringe used to draw blood for ABG analysis is <strong>rinsed with heparin</strong> prior to the procedure.&nbsp;Prior to collecting blood, 0.1 ml heparin is drawn into the syringe and then flushed out. The residue that lubricates the inner wall of the syringe&nbsp;is sufficient to prevent the blood from clotting.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ea86fa0647a9456bac259846ddc9dd57x1280x1474.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/59fa46e281d74732bbefef2cf5b70c5dx1280x3192.JPEG"
    ]
  },
  {
    "text": "Anti-nuclear antibodies are required for the diagnosis of which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Scleroderma"
      },
      {
        "id": 2,
        "text": "Systemic lupus erythematosus"
      },
      {
        "id": 3,
        "text": "Rheumatoid arthritis"
      },
      {
        "id": 4,
        "text": "Sjogren's syndrome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Antinuclear antibodies (ANAs) </strong>are required for the diagnosis of <strong>systemic lupus erythematosus.&nbsp;</strong></p>\n<p>ANAs are autoantibodies that bind to the contents of the cell nucleus. They are present in &gt; 95% of patients with SLE. A positive antinuclear antibody ( ANA ) test with a titer of at least 1:80 is the obligatory entry criterion along with the additive criteria in 7 clinical and 3 immunologic domains. If a total of &gt;10 points achieved, it is indicative of SLE according to <strong>2019 EULAR/ACR Classification Criteria </strong>for Systemic Lupus Erythematosus (SLE)&nbsp;</p>\n<p>Most sensitive antibody for SLE: <strong>ANA</strong></p>\n<p>Most specific antibody for SLE: <strong>Anti smith</strong> &gt; Anti dsDNA&nbsp;<br />ANA may also be positive in the other options but it is not a criterion for diagnosis of these conditions.</p>\n<p>The following antibodies are specific for their respective autoimmune conditions.&nbsp;</p>\n<ul>\n<li><strong>Scleroderma </strong>(option A)<strong>: Anti-topoisomerase I(Scl-70) </strong>and <strong>anti-centromere</strong> antibodies highly specific for Systemic sclerosis.</li>\n<li><strong>Rheumatoid arthritis</strong> (option C): <strong>RF</strong> and <strong>anti-CCP </strong>antibodies&nbsp;</li>\n<li><strong>Sjogren syndrome</strong> (option D): <strong>Anti-Ro, Anti-La&nbsp;</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An intern is asked to measure the blood pressure of a patient with cardiac tamponade. He/she should ask the patient to:",
    "choices": [
      {
        "id": 1,
        "text": "Hold breath"
      },
      {
        "id": 2,
        "text": "Take rapid shallow breaths"
      },
      {
        "id": 3,
        "text": "Take long deep breaths"
      },
      {
        "id": 4,
        "text": "Breathe normally"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The patient with<strong> cardiac tamponade</strong> is asked to breathe normally to elicit <strong>pulsus paradoxus.</strong></p>\n<p>In a patient with cardiac tamponade, both ventricles share an incompressible pericardial covering due to the fluid. As the right ventricle enlarges during inspiration, the interventricular septum bulges into the left ventricle, reducing the left ventricular volume.</p>\n<p>This results in <strong>reduced stroke volume</strong> and hence <strong>reduced systolic arterial pressure.&nbsp;</strong><br />As a result, there is a<strong> greater than normal (more than 10 mmHg)</strong> <strong>fall</strong> in <strong>systolic</strong> arterial blood pressure during inspiration, producing pulsus paradoxus.</p>\n<p>This cannot be elicited if the patient is holding his/her breath, taking long or shallow breaths.</p>\n<p>Pulsus paradoxus is also seen with<strong> effusive constrictive pericarditis, restrictive cardiomyopathy</strong> and <strong>right ventricular myocardial infarction.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In the sagittal section of the brain given below if the coloured area is affected, which of the following is not seen?",
    "choices": [
      {
        "id": 1,
        "text": "Urinary incontinence"
      },
      {
        "id": 2,
        "text": "Gait abnormality"
      },
      {
        "id": 3,
        "text": "Perianal anesthesia"
      },
      {
        "id": 4,
        "text": "Fecal incontinence"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Paracentral lobule (PCL)</strong> is the continuation of the <strong>precentral</strong> and <strong>postcentral</strong> <strong>gyri</strong> of the superolateral surface into the medial surface of cerebral hemisphere. It controls the motor and sensory innervations of the contralateral lower extremity. It is also responsible for cortical control of micturition and defecation.</p>\n<p>The anterior two-thirds of PCL belong to <strong>Brodmann area 4,</strong> it reflects the primary motor cortex for the muscles of contralateral leg, foot, and perineum,it is functionally important in control of bladder and anal sphincters. Therefore, it's called the cortical center of defecation and micturition.</p>\n<p>The posterior third of the PCL contains 3,2 and 1, it reflects the primary somatosensory representation of the leg and foot.</p>\n<p>The <strong>A2 segment</strong> of the <strong>anterior cerebral artery</strong> supplies the <strong>paracentral lobule. </strong>Lesions in the paracentral lobule lead to:</p>\n<ul>\n<li>Weakness and loss of sensation in contralateral lower limb</li>\n<li>Urinary incontinence</li>\n<li>Fecal incontinence.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/db04684e345449d1b3e3bcaf0e79f7df.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A hypertensive patient is on metoprolol. If verapamil is added, there is a risk of:",
    "choices": [
      {
        "id": 1,
        "text": "Atrial fibrillation"
      },
      {
        "id": 2,
        "text": "Bradycardia with AV block"
      },
      {
        "id": 3,
        "text": "Tachycardia"
      },
      {
        "id": 4,
        "text": "Torsades de pointes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Metoprolol, when added with verapamil, leads to <strong>bradycardia with AV block.</strong></p>\n<p>Verapamil and &beta; blockers have additive effect on inhibiting SA node and AV conduction,&nbsp;and the combination should be avoided to prevent severe bradycardia and conduction block.</p>\n<p>These agents can also have additive effect on decreasing left ventricular function which could seriously impair cardiac output in a patient with heart failure.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '212 Medicine Aiims 2018';
        let hierarchy = ["Marrow", "PYQs", "Medicine"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>