<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>36  Neck - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        DAMS / DQB / Anatomy
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">36</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "id": 50000,
    "choices": [
      {
        "id": 200000,
        "text": "1stbranchial arch"
      },
      {
        "id": 200001,
        "text": "2ndbranchial arch"
      },
      {
        "id": 200002,
        "text": "3rdbranchial arch"
      },
      {
        "id": 200003,
        "text": "4thbranchial arch"
      }
    ],
    "text": "Anterior belly of digastric is a derivate of :",
    "unique_key": "Q7462418",
    "question_audio": null,
    "question_video": null,
    "map_id": 34167228,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) 1st branchial arch The anterior belly of the digastric muscle is derived from the 1st branchial arch. The 1st branchial arch gives rise to muscles of mastication, including the mylohyoid and the anterior belly of the digastric. The muscle is innervated by the mandibular nerve (V3), which is a branch of the trigeminal nerve (CN V), further confirming its origin from the 1st branchial arch. Incorrect Answers: B. 2nd branchial arch The 2nd branchial arch contributes to the formation of muscles such as the stapedius, stylohyoid, and posterior belly of the digastric, which is innervated by the facial nerve (CN VII). However, the anterior belly of the digastric muscle is not derived from the 2nd arch, making this option incorrect. C. 3rd branchial arch The 3rd branchial arch gives rise to the stylopharyngeus muscle, which is innervated by the glossopharyngeal nerve (CN IX). This arch does not contribute to the formation of the digastric muscle, particularly the anterior belly, so this option is incorrect. D. 4th branchial arch The 4th branchial arch forms muscles of the larynx and pharynx, such as the cricothyroid muscle, innervated by the vagus nerve (CN X). It is not involved in the formation of the digastric muscle, making this option incorrect as well.",
    "correct_choice_id": 200000,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34066471698072675/34066471698072675.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34066471698072675/34066471698072675.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50001,
    "choices": [
      {
        "id": 200004,
        "text": "Adduction of arm"
      },
      {
        "id": 200005,
        "text": "Pronating scapula"
      },
      {
        "id": 200006,
        "text": "Shrugging of shoulder"
      },
      {
        "id": 200007,
        "text": "abduction of arm"
      }
    ],
    "text": "If there is a superficial cut in the region of middle part of posterior triangle of neck, patient will experience problem in:",
    "unique_key": "Q6295353",
    "question_audio": null,
    "question_video": null,
    "map_id": 34866632,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Shrugging of shoulder The middle part of the posterior triangle of the neck is where the accessory nerve (cranial nerve XI) runs, which innervates the sternocleidomastoid and trapezius muscles. The trapezius muscle is primarily responsible for the shrugging of the shoulder. A superficial cut in this region could damage the accessory nerve, leading to weakness or inability to shrug the shoulder. This would result in a condition called \"shoulder drop\" or difficulty in raising the shoulder. Therefore, the correct answer is C. Incorrect Answers: A. Adduction of arm Adduction of the arm is primarily controlled by the pectoralis major and latissimus dorsi muscles, which are innervated by the medial and lateral pectoral nerves and the thoracodorsal nerve, respectively. A superficial cut in the posterior triangle would not directly affect these muscles or their innervation, making adduction of the arm unaffected by such a cut. Hence, option A is incorrect. B. Pronating scapula The pronation of the scapula, which is primarily controlled by the serratus anterior muscle, is innervated by the long thoracic nerve. A superficial cut in the posterior triangle of the neck would not damage the long thoracic nerve, so the ability to pronate (or protract) the scapula would remain intact. Thus, option B is incorrect. D. Abduction of arm Abduction of the arm is mainly facilitated by the deltoid and supraspinatus muscles, which are innervated by the axillary nerve. A superficial cut in the posterior triangle would not impact the axillary nerve or these muscles. Therefore, abduction of the arm would not be affected, making option D incorrect.",
    "correct_choice_id": 200006,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/29835101698072710/29835101698072710.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/29835101698072710/29835101698072710.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50002,
    "choices": [
      {
        "id": 200008,
        "text": "Damage to scalenus medius"
      },
      {
        "id": 200009,
        "text": "Injury to suprascapular nerve"
      },
      {
        "id": 200010,
        "text": "Cut to spinal part of accessory nerve"
      },
      {
        "id": 200011,
        "text": "Spread of infection to shoulder joint"
      }
    ],
    "text": "A 43 year old woman came with a large abscess in the middle of the right posterior triangle of the neck. The physician incised and drained the abscess. Five days later the patient noticed that she could not abduct her right hand above her head to brush her hair. Which of the following is responsible for the signs and symptoms of additional harm",
    "unique_key": "Q3590663",
    "question_audio": null,
    "question_video": null,
    "map_id": 34317259,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Cut to spinal part of accessory nerve. The accessory nerve (cranial nerve XI) has both a cranial and spinal part. The spinal part of the accessory nerve provides motor innervation to the trapezius and sternocleidomastoid muscles. The trapezius muscle, in particular, is responsible for the ability to elevate and abduct the arm above the head. Damage to the spinal part of the accessory nerve (usually due to trauma, such as in surgical procedures or abscess drainage in the posterior triangle of the neck) can result in difficulty or inability to raise the arm above the head, which is consistent with the patient's symptoms. This is because the trapezius muscle is not functioning properly, leading to weakened shoulder abduction. Incorrect Options: A. Damage to scalenus medius: The scalenus medius is a muscle in the neck involved in the elevation of the first rib and aiding in respiration, particularly during forced inhalation. While damage to this muscle could potentially lead to respiratory issues, it would not affect the patient's ability to abduct the arm. The symptoms described, including difficulty in abducting the arm above the head, are not related to scalenus medius dysfunction. B. Injury to suprascapular nerve: The suprascapular nerve innervates the supraspinatus and infraspinatus muscles, which are involved in shoulder abduction and external rotation. Injury to the suprascapular nerve could indeed lead to weakness in shoulder abduction, but it typically affects the initial 15-30 degrees of abduction (performed by the supraspinatus), rather than the full range of abduction. Since the patient described difficulty in raising the arm above the head, which involves a larger range of motion, this points more to trapezius dysfunction rather than the supraspinatus. D. Spread of infection to shoulder joint: While infection spreading to the shoulder joint could cause pain and limited range of motion, it would more likely present with signs of infection (e.g., redness, swelling, fever) and local tenderness at the shoulder joint itself. The patient\u2019s symptoms are more consistent with a neurological injury affecting motor function, rather than an infectious spread to the joint. The absence of other signs of infection also makes this an unlikely cause.",
    "correct_choice_id": 200010,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/24174491698072737/24174491698072737.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/24174491698072737/24174491698072737.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50003,
    "choices": [
      {
        "id": 200012,
        "text": "Thyrocervical trunk"
      },
      {
        "id": 200013,
        "text": "Costocervical trunk"
      },
      {
        "id": 200014,
        "text": "Transverse cervical artery"
      },
      {
        "id": 200015,
        "text": "External carotid artery"
      }
    ],
    "text": "Inferior Thyroid artery is branch of \u2013",
    "unique_key": "Q9711882",
    "question_audio": null,
    "question_video": null,
    "map_id": 34313008,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Thyrocervical trunk. The inferior thyroid artery is a branch of the thyrocervical trunk, which arises from the subclavian artery. This artery supplies blood to the thyroid gland, parathyroid glands, and surrounding structures. The inferior thyroid artery specifically provides blood to the lower part of the thyroid gland and is an important source of vascularization for this region. Its origin from the thyrocervical trunk is well-established in the anatomical literature. Incorrect Options: B. Costocervical trunk: The costocervical trunk is another branch of the subclavian artery, but it gives rise to the deep cervical artery and the supreme intercostal artery. Neither of these arteries supplies the thyroid gland. Therefore, the costocervical trunk is not the source of the inferior thyroid artery. C. Transverse cervical artery: The transverse cervical artery is a branch of the thyrocervical trunk and supplies the muscles of the neck, including the trapezius. It does not supply the thyroid gland and is not involved in the vascularization of the inferior thyroid region. D. External carotid artery: The external carotid artery gives rise to several important branches, including the superior thyroid artery, but it does not provide the inferior thyroid artery. The external carotid artery is involved in the upper thyroid region, but the inferior thyroid artery, which supplies the lower portion, comes from the thyrocervical trunk.",
    "correct_choice_id": 200012,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/55438441698072760/55438441698072760.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/55438441698072760/55438441698072760.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50004,
    "choices": [
      {
        "id": 200016,
        "text": "Superior thyroid artery"
      },
      {
        "id": 200017,
        "text": "Inferior thyroid artery"
      },
      {
        "id": 200018,
        "text": "Facial artery"
      },
      {
        "id": 200019,
        "text": "Lingual artery"
      }
    ],
    "text": "The cervical oesphagus receive its blood supply from the \u2013",
    "unique_key": "Q7870851",
    "question_audio": null,
    "question_video": null,
    "map_id": 34512502,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Inferior thyroid artery. The cervical portion of the esophagus receives its blood supply primarily from the inferior thyroid artery. This artery is a branch of the thyrocervical trunk, which arises from the subclavian artery. The inferior thyroid artery supplies blood to the lower part of the thyroid gland and also gives off branches that provide vascularization to the cervical esophagus, making it the key blood supplier to this region of the esophagus. Incorrect Options: A. Superior thyroid artery: The superior thyroid artery, a branch of the external carotid artery, supplies the upper part of the thyroid gland, the larynx, and some surrounding structures, but it does not primarily supply the cervical esophagus. While it may contribute some small branches to the region, it is not the main blood supply to the cervical esophagus. C. Facial artery: The facial artery, which is a branch of the external carotid artery, supplies the face, including muscles of facial expression, the palate, and the submandibular gland. It does not supply the cervical esophagus, making it an incorrect choice for this question. D. Lingual artery: The lingual artery is another branch of the external carotid artery that supplies the tongue and the floor of the mouth. It does not provide blood supply to the cervical esophagus, so it is not relevant to this particular question.",
    "correct_choice_id": 200017,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/58721481698072877/58721481698072877.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/58721481698072877/58721481698072877.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50005,
    "choices": [
      {
        "id": 200020,
        "text": "Cartoid artery"
      },
      {
        "id": 200021,
        "text": "Internal jugular vein"
      },
      {
        "id": 200022,
        "text": "Vagus nerve"
      },
      {
        "id": 200023,
        "text": "Phrenic nerve"
      }
    ],
    "text": "Carotid sheath contains all except",
    "unique_key": "Q5180450",
    "question_audio": null,
    "question_video": null,
    "map_id": 34527940,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Phrenic nerve. The phrenic nerve is not contained within the carotid sheath. The carotid sheath is a connective tissue structure that surrounds and encloses several important structures in the neck, but the phrenic nerve runs outside of the carotid sheath. It originates from the cervical spinal nerves (C3, C4, and C5) and travels down to innervate the diaphragm. Therefore, the phrenic nerve is not part of the carotid sheath. Incorrect Options: A. Carotid artery: The carotid artery is one of the major vessels that runs within the carotid sheath. The common carotid artery, along with its bifurcation into the internal and external carotid arteries, is enclosed within the carotid sheath, making this option correct in the context of the carotid sheath's contents. B. Internal jugular vein: The internal jugular vein also runs within the carotid sheath. It is located lateral to the carotid artery and plays an important role in draining blood from the head and neck. Its presence in the carotid sheath makes this option correct. C. Vagus nerve: The vagus nerve (cranial nerve X) is a major structure contained within the carotid sheath. It runs between the carotid artery and internal jugular vein, supplying motor and sensory innervation to various organs in the thorax and abdomen. Therefore, the vagus nerve is an important component of the carotid sheath.",
    "correct_choice_id": 200023,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/63580241698075158/63580241698075158.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/63580241698075158/63580241698075158.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50006,
    "choices": [
      {
        "id": 200024,
        "text": "Below the level of crioid cartilage"
      },
      {
        "id": 200025,
        "text": "Above the level of cricoid cartilage"
      },
      {
        "id": 200026,
        "text": "At the same levels as cricoid cartilage"
      },
      {
        "id": 200027,
        "text": "Present at C7 level"
      }
    ],
    "text": "Chassaignac\u2019s tubercle is",
    "unique_key": "Q3767131",
    "question_audio": null,
    "question_video": null,
    "map_id": 34135672,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) At the same level as cricoid cartilage Chassaignac\u2019s tubercle is a prominent bony landmark located on the transverse process of the sixth cervical vertebra (C6). It is in line with the cricoid cartilage, which is located at the level of the C6 vertebra. This anatomical landmark is important in clinical practice, especially for procedures like the insertion of central venous catheters. Thus, Chassaignac\u2019s tubercle is at the same level as the cricoid cartilage. Incorrect Answers: A. Below the level of cricoid cartilage This option is incorrect because Chassaignac\u2019s tubercle is at the same level as the cricoid cartilage, not below it. The cricoid cartilage is at the C6 vertebral level, and Chassaignac's tubercle is also located at this level, so it is not situated lower than the cricoid cartilage. B. Above the level of cricoid cartilage This option is incorrect because Chassaignac's tubercle is at the same level as the cricoid cartilage (C6), not above it. Therefore, it cannot be located above the cricoid cartilage. D. Present at C7 level This option is incorrect because Chassaignac\u2019s tubercle is not at the C7 level. The C7 vertebra is located below the C6 vertebra where the cricoid cartilage and Chassaignac's tubercle are situated. Hence, this option does not accurately describe the location of Chassaignac's tubercle.",
    "correct_choice_id": 200026,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/78238281698075218/78238281698075218.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/78238281698075218/78238281698075218.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50007,
    "choices": [
      {
        "id": 200028,
        "text": "Jugulo omohyoid node"
      },
      {
        "id": 200029,
        "text": "Jugulo digastric node"
      },
      {
        "id": 200030,
        "text": "Submental node"
      },
      {
        "id": 200031,
        "text": "Upper deep cervical node"
      }
    ],
    "text": "Lymph from the tonsils drain into the-",
    "unique_key": "Q1722292",
    "question_audio": null,
    "question_video": null,
    "map_id": 34298039,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Jugulo-digastric node The lymph from the tonsils primarily drains into the jugulo-digastric node, which is a part of the upper deep cervical lymph nodes. The jugulo-digastric node is located just below the angle of the jaw and is often associated with the tonsillar region. It plays a key role in draining lymph from the tonsils, as well as from the tongue, pharynx, and the adjacent regions. This node is frequently examined during clinical evaluations of tonsillitis or other throat infections. Therefore, option B is correct. Incorrect Answers: A. Jugulo-omohyoid node The jugulo-omohyoid node is located in the upper deep cervical region but is typically involved in draining lymph from the lower parts of the neck, including the anterior triangle and the thyroid region. It does not serve as the primary drainage site for the tonsils. Thus, option A is incorrect. C. Submental node The submental lymph nodes are located in the floor of the mouth and primarily drain the anterior part of the tongue, the chin, and the lower lip. While the submental nodes contribute to the drainage of the oral cavity, they do not directly drain the tonsils. Therefore, option C is incorrect. D. Upper deep cervical node The upper deep cervical nodes include a group of nodes along the internal jugular vein, and while the tonsils do drain into these nodes, the specific node that first receives lymph from the tonsils is the jugulo-digastric node, which is a subset of the upper deep cervical nodes. Hence, while this answer is partly correct, it lacks the specificity required, and option B is the most accurate response. Therefore, option D is not the best choice.",
    "correct_choice_id": 200029,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/57130941698073545/57130941698073545.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/57130941698073545/57130941698073545.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50008,
    "choices": [
      {
        "id": 200032,
        "text": "Superior ganglion"
      },
      {
        "id": 200033,
        "text": "Middle ganglion"
      },
      {
        "id": 200034,
        "text": "Stellate ganglion"
      },
      {
        "id": 200035,
        "text": "Second thoracic ganglion"
      }
    ],
    "text": "The largest ganglion in the neck is -",
    "unique_key": "Q2627597",
    "question_audio": null,
    "question_video": null,
    "map_id": 34793044,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Superior ganglion The largest ganglion in the neck is the superior cervical ganglion. It is part of the sympathetic nervous system and is located at the level of the C2 and C3 vertebrae. This ganglion is responsible for a variety of functions, including providing sympathetic innervation to the head and neck, as well as parts of the heart and lungs. The superior cervical ganglion is the largest of the three cervical sympathetic ganglia (superior, middle, and inferior), making option A correct. Incorrect Answers: B. Middle ganglion The middle cervical ganglion is smaller than the superior cervical ganglion and is located at the level of the C6 vertebra. It is a smaller ganglion that provides sympathetic innervation to the heart, particularly the heart rate regulation, and the blood vessels in the neck. However, it is not the largest ganglion in the neck. Therefore, option B is incorrect. C. Stellate ganglion The stellate ganglion is a fusion of the inferior cervical ganglion and the first thoracic ganglion. It is located at the level of the C7 vertebra and is involved in sympathetic innervation to the upper limbs and heart. While significant in clinical contexts (such as sympathetic blocks), it is not the largest ganglion in the neck. Therefore, option C is incorrect. D. Second thoracic ganglion The second thoracic ganglion is part of the sympathetic trunk located in the thoracic region, not in the neck. It contributes to the sympathetic innervation of the heart and lungs, but it is not located in the neck, so it does not qualify as the largest ganglion in the neck.",
    "correct_choice_id": 200032,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/42711941698073564/42711941698073564.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/42711941698073564/42711941698073564.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50009,
    "choices": [
      {
        "id": 200036,
        "text": "Recurrent laryngeal nerve"
      },
      {
        "id": 200037,
        "text": "Internal laryngeal nerve"
      },
      {
        "id": 200038,
        "text": "External laryngeal nerve"
      },
      {
        "id": 200039,
        "text": "Hypoglossal nerve"
      }
    ],
    "text": "Cricothyroid is supplied by",
    "unique_key": "Q2686859",
    "question_audio": null,
    "question_video": null,
    "map_id": 34969136,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) External laryngeal nerve The cricothyroid muscle is innervated by the external laryngeal nerve, which is a branch of the superior laryngeal nerve. The superior laryngeal nerve, in turn, is a branch of the vagus nerve (cranial nerve X). The cricothyroid muscle plays a crucial role in tensioning the vocal cords, thereby helping to control pitch during speech. This muscle is the only intrinsic laryngeal muscle supplied by the external laryngeal nerve. Therefore, option C is correct. Incorrect Answers: A. Recurrent laryngeal nerve The recurrent laryngeal nerve is a branch of the vagus nerve that innervates all intrinsic muscles of the larynx, except for the cricothyroid muscle. It is responsible for motor innervation of most laryngeal muscles and provides sensory innervation below the vocal cords. Since the cricothyroid muscle is not supplied by the recurrent laryngeal nerve, option A is incorrect. B. Internal laryngeal nerve The internal laryngeal nerve is a branch of the superior laryngeal nerve, responsible for sensory innervation to the mucosa above the vocal cords. It does not provide motor function to the cricothyroid muscle. Therefore, option B is incorrect. D. Hypoglossal nerve The hypoglossal nerve (cranial nerve XII) primarily innervates the muscles of the tongue, and has no role in the motor control of the larynx or the cricothyroid muscle. Therefore, option D is incorrect.",
    "correct_choice_id": 200038,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/48212071698073582/48212071698073582.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/48212071698073582/48212071698073582.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50010,
    "choices": [
      {
        "id": 200040,
        "text": "External jugular"
      },
      {
        "id": 200041,
        "text": "Anterior jugular"
      },
      {
        "id": 200042,
        "text": "Internal jugular"
      },
      {
        "id": 200043,
        "text": "Brachiocephalic"
      }
    ],
    "text": "Middle thyroid vein drains into vein -",
    "unique_key": "Q9957192",
    "question_audio": null,
    "question_video": null,
    "map_id": 34887047,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Internal jugular The middle thyroid vein primarily drains into the internal jugular vein. The middle thyroid vein collects venous blood from the thyroid gland and then empties into the internal jugular vein, which is the main venous drainage vessel for the head and neck. This venous connection ensures that blood from the thyroid gland is returned to the systemic circulation. Therefore, option C is correct. Incorrect Answers: A. External jugular The external jugular vein primarily drains blood from the scalp and superficial structures of the head and neck. While it does receive some venous blood from the neck, it does not receive drainage from the middle thyroid vein, making option A incorrect. B. Anterior jugular The anterior jugular vein drains the superficial structures of the anterior neck and usually empties into the subclavian vein. However, the middle thyroid vein does not drain into the anterior jugular vein. Therefore, option B is incorrect. D. Brachiocephalic The brachiocephalic vein is formed by the union of the internal jugular and subclavian veins and is responsible for returning blood from the head, neck, and upper limbs to the superior vena cava. However, the middle thyroid vein does not directly drain into the brachiocephalic vein,",
    "correct_choice_id": 200042,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/55618821698073650/55618821698073650.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/55618821698073650/55618821698073650.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50011,
    "choices": [
      {
        "id": 200044,
        "text": "Levator veli palatine"
      },
      {
        "id": 200045,
        "text": "Ascending pharyngeal artery"
      },
      {
        "id": 200046,
        "text": "Glossopharyngeal nerve"
      },
      {
        "id": 200047,
        "text": "Tensor tympani"
      }
    ],
    "text": "Structure passing through Sinus of Morgagni:",
    "unique_key": "Q7139231",
    "question_audio": null,
    "question_video": null,
    "map_id": 34442351,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Levator veli palatini The Sinus of Morgagni is a small anatomical space located between the superior constrictor muscle and the base of the skull, specifically in the nasopharyngeal region. The levator veli palatini muscle passes through this space. This muscle plays an important role in elevating the soft palate, particularly during swallowing and speaking, to prevent food and liquids from entering the nasopharynx. Therefore, option A is correct. Incorrect Answers: B. Ascending pharyngeal artery The ascending pharyngeal artery does not pass through the Sinus of Morgagni. It arises from the external carotid artery and ascends along the pharynx, supplying the pharyngeal walls and related structures. It passes posterior to the structures in the nasopharyngeal area but does not specifically traverse the Sinus of Morgagni. Therefore, option B is incorrect. C. Glossopharyngeal nerve The glossopharyngeal nerve (cranial nerve IX) does not pass through the Sinus of Morgagni. It exits the skull via the jugular foramen and provides sensory and motor innervation to various structures, including the pharynx and tongue. The nerve is not associated with the Sinus of Morgagni. Therefore, option C is incorrect. D. Tensor tympani The tensor tympani muscle does not pass through the Sinus of Morgagni. It is located within the middle ear and is involved in dampening the sound of the vibrations of the eardrum. The muscle's innervation comes from the mandibular nerve (V3) and it is located in the tympanic cavity, not in the nasopharyngeal region or the Sinus of Morgagni. Therefore, option D is incorrect.",
    "correct_choice_id": 200044,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/15608421698073714/15608421698073714.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/15608421698073714/15608421698073714.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50012,
    "choices": [
      {
        "id": 200048,
        "text": "Platysma"
      },
      {
        "id": 200049,
        "text": "Sternocledomastoid"
      },
      {
        "id": 200050,
        "text": "Omohyoid"
      },
      {
        "id": 200051,
        "text": "Sternohyoid"
      }
    ],
    "text": "Subcutaneous muscle extending from the clavicle to the mandible \u2013",
    "unique_key": "Q6800815",
    "question_audio": null,
    "question_video": null,
    "map_id": 34433747,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Platysma. Explanation: The platysma is a subcutaneous muscle that extends from the clavicle and upper chest to the mandible. It lies just beneath the skin, and its primary function is to tighten the skin of the neck and lower face, as well as to help in expressions like frowning. The platysma is also involved in depressing the mandible. It is classified as a muscle of facial expression and is innervated by the facial nerve (CN VII). Why the other options are incorrect: Sternocleidomastoid (Option B) The sternocleidomastoid is a deep muscle that originates from the sternum (manubrium) and clavicle, and inserts at the mastoid process of the temporal bone. Its primary role is to rotate the head and flex the neck. Unlike the platysma, the sternocleidomastoid is not a subcutaneous muscle and does not extend from the clavicle to the mandible. Thus, it does not meet the description provided in the question. Omohyoid (Option C) The omohyoid is a neck muscle that extends from the scapula to the hyoid bone. It has two bellies (superior and inferior) and is involved in depressing the hyoid bone and stabilizing the neck during breathing and swallowing. The omohyoid does not extend from the clavicle to the mandible and is not subcutaneous, making it an incorrect choice. Sternohyoid (Option D) The sternohyoid is a muscle of the anterior neck that extends from the sternum to the hyoid bone. It is responsible for depressing the hyoid bone and larynx, particularly during swallowing. Like the omohyoid, it is not subcutaneous and does not extend from the clavicle to the mandible, so it is not the correct answer.",
    "correct_choice_id": 200048,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/77040741698074456/77040741698074456.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/77040741698074456/77040741698074456.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50013,
    "choices": [
      {
        "id": 200052,
        "text": "Berry ligament arises from deep cervical fascia"
      },
      {
        "id": 200053,
        "text": "Thyroid enclosed between 2 layers of deep cervical fascia"
      },
      {
        "id": 200054,
        "text": "Longer course of recurrent laryngeal nerve on left than right"
      },
      {
        "id": 200055,
        "text": "Superior thyroid artery related closely to external laryngeal nerve"
      }
    ],
    "text": "True regarding surgical anatomy of thyroid gland is all except",
    "unique_key": "Q8629715",
    "question_audio": null,
    "question_video": null,
    "map_id": 34394340,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Thyroid enclosed between 2 layers of deep cervical fascia. Explanation: The thyroid gland is not enclosed between two layers of the deep cervical fascia. Instead, it is located within the pretracheal fascia, which is a layer of the deep cervical fascia. The pretracheal fascia surrounds the thyroid gland and provides support. The gland is also related to the trachea and esophagus. The misconception in Option B arises from the idea that the thyroid is enclosed by two layers of the deep cervical fascia, which is not anatomically correct. Why the other options are correct: Berry ligament arises from deep cervical fascia (Option A) The Berry ligament is a connective tissue structure that anchors the thyroid gland to the trachea and larynx. It is an important surgical landmark and arises from the deep cervical fascia, specifically the pretracheal layer. It helps stabilize the thyroid gland in its position relative to the trachea and larynx. Longer course of recurrent laryngeal nerve on left than right (Option C) The recurrent laryngeal nerve on the left side takes a longer course because it loops around the aortic arch before ascending to the larynx, whereas the right recurrent laryngeal nerve loops around the right subclavian artery and has a shorter course. This anatomical difference is crucial for surgeons to be aware of when performing thyroid surgeries. Superior thyroid artery related closely to external laryngeal nerve (Option D) The superior thyroid artery is indeed closely related to the external laryngeal nerve. The external laryngeal nerve, a branch of the superior laryngeal nerve (from the vagus nerve), travels with the superior thyroid artery as they ascend to the thyroid gland. The close relationship between these two structures is important during thyroid surgeries to avoid injury to the nerve.",
    "correct_choice_id": 200053,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/11967461698075560/11967461698075560.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/11967461698075560/11967461698075560.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50014,
    "choices": [
      {
        "id": 200056,
        "text": "Greater auricular nerve"
      },
      {
        "id": 200057,
        "text": "Posterior auricular nerve"
      },
      {
        "id": 200058,
        "text": "Auriculotemporal nerve"
      },
      {
        "id": 200059,
        "text": "Facial nerve"
      }
    ],
    "text": "Skin over the angle of mandible and parotid area is supplied by \u2013",
    "unique_key": "Q8925139",
    "question_audio": null,
    "question_video": null,
    "map_id": 34024573,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Greater auricular nerve. Explanation: The greater auricular nerve is a branch of the cervical plexus (C2 and C3) and supplies sensation to the skin over the angle of the mandible and the parotid area. It provides sensory innervation to the skin around the external ear, including the area over the angle of the mandible and the parotid gland. This nerve is important for sensation in this region of the face. Why the other options are incorrect: Posterior auricular nerve (Option B) The posterior auricular nerve is a branch of the facial nerve (cranial nerve VII) and provides motor innervation to the muscles around the ear, such as the auricular muscles. It does not supply the skin over the angle of the mandible or the parotid area. It is more involved in the sensory innervation of the ear and the scalp behind the ear. Auriculotemporal nerve (Option C) The auriculotemporal nerve is a branch of the mandibular nerve (V3), part of the trigeminal nerve. It primarily provides sensory innervation to the skin of the temple, anterior auricle, and external acoustic meatus. It does not supply the skin over the angle of the mandible or parotid area, which is the domain of the greater auricular nerve. Facial nerve (Option D) The facial nerve (cranial nerve VII) is responsible for the motor innervation of the muscles of facial expression. It does not provide sensory innervation to the skin over the angle of the mandible or the parotid area, which are supplied by the greater auricular nerve. The facial nerve also has some other sensory functions, but they are not related to the skin over these areas.",
    "correct_choice_id": 200056,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/64643021698074619/64643021698074619.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/64643021698074619/64643021698074619.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50015,
    "choices": [
      {
        "id": 200060,
        "text": "Omohyoid"
      },
      {
        "id": 200061,
        "text": "Posterior cricoarytenoid"
      },
      {
        "id": 200062,
        "text": "Cricothyroid"
      },
      {
        "id": 200063,
        "text": "Stylopharyngeus"
      }
    ],
    "text": "The recurrent laryngeal nerve supplies -",
    "unique_key": "Q4137304",
    "question_audio": null,
    "question_video": null,
    "map_id": 34469740,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Posterior cricoarytenoid. Explanation: The recurrent laryngeal nerve is a branch of the vagus nerve (cranial nerve X). It provides motor innervation to most of the intrinsic muscles of the larynx, including the posterior cricoarytenoid muscle. The posterior cricoarytenoid is the only muscle responsible for abducting the vocal cords, which is essential for breathing. The recurrent laryngeal nerve plays a critical role in controlling the muscles involved in vocal cord movement, and damage to it can lead to voice and breathing difficulties. Why the other options are incorrect: Omohyoid (Option A) The omohyoid muscle is innervated by the ansa cervicalis, which is a loop of nerves from the cervical spinal nerves (C1-C3). The recurrent laryngeal nerve does not supply this muscle, making this option incorrect. Cricothyroid (Option C) The cricothyroid muscle is innervated by the external branch of the superior laryngeal nerve, which is a branch of the vagus nerve, not the recurrent laryngeal nerve. This muscle is responsible for tensing the vocal cords to regulate pitch. Therefore, the recurrent laryngeal nerve does not innervate this muscle. Stylopharyngeus (Option D) The stylopharyngeus muscle is innervated by the glossopharyngeal nerve (cranial nerve IX). It helps elevate the pharynx during swallowing. Since the recurrent laryngeal nerve does not supply this muscle, this option is incorrect.",
    "correct_choice_id": 200061,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/24774501698075577/24774501698075577.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/24774501698075577/24774501698075577.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50016,
    "choices": [
      {
        "id": 200064,
        "text": "Sternothyroid"
      },
      {
        "id": 200065,
        "text": "Thyrohyoid"
      },
      {
        "id": 200066,
        "text": "Sternohyoid"
      },
      {
        "id": 200067,
        "text": "Omohyoid"
      }
    ],
    "text": "Which of the following is not supplied by ansacervicalis -",
    "unique_key": "Q9559441",
    "question_audio": null,
    "question_video": null,
    "map_id": 34646379,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Thyrohyoid. Explanation: The thyrohyoid muscle is not supplied by the ansa cervicalis. Instead, it is innervated by the C1 fibers that travel with the hypoglossal nerve (cranial nerve XII). The thyrohyoid is unique in its innervation among the infrahyoid muscles, as most other infrahyoid muscles are supplied by the ansa cervicalis. This direct innervation allows for specific and independent control of the thyrohyoid muscle, which plays a role in depressing the hyoid bone or elevating the larynx during swallowing. Why the other options are incorrect: Sternothyroid (Option A) The sternothyroid muscle is supplied by the ansa cervicalis. It is a part of the infrahyoid muscle group and works to depress the larynx and thyroid cartilage, playing a role in speech and swallowing. Sternohyoid (Option C) The sternohyoid muscle is also innervated by the ansa cervicalis. Its function is to depress the hyoid bone, contributing to the overall movement and stabilization of the hyoid apparatus during swallowing. Omohyoid (Option D) The omohyoid muscle, which has superior and inferior bellies connected by an intermediate tendon, is innervated by the ansa cervicalis. It helps depress and stabilize the hyoid bone and plays a role in neck movements.",
    "correct_choice_id": 200065,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/25722231698075024/25722231698075024.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/25722231698075024/25722231698075024.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50017,
    "choices": [
      {
        "id": 200068,
        "text": "Deltoid"
      },
      {
        "id": 200069,
        "text": "Latissimus dorsi"
      },
      {
        "id": 200070,
        "text": "Levator scapulae"
      },
      {
        "id": 200071,
        "text": "Serratus anterior"
      },
      {
        "id": 200072,
        "text": "Trapezius"
      }
    ],
    "text": "A 37 years old previously healthy man comes to the office for evaluation of enlarged lymph nodes. He has 6 weeks history of progressively enlarging cervical lymph nodes associated with subjective fever, fatigue & drenching night sweat. After initial assessment you decode to take excisional biopsy of enlarged lymph nodes in the posterior triangle of neck. Two weeks later during a follow up visit, he describe difficulty in overhead activities such as combing his hair or placing dishes in the overhead shelves. Examination shows a left shoulder droop with weakness of left arm abduction above the horizontal position. Other shoulder movements are normal & there is no sensory loss. Which of the following muscle is most likely paralyzed in this patient \u2013",
    "unique_key": "Q9346688",
    "question_audio": null,
    "question_video": null,
    "map_id": 34714323,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (E) Spinal accessory nerve is injured here leading to paralysis of Trapezius.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/QID 5102 5104(2).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200072,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/42767181698324520/42767181698324520.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/42767181698324520/42767181698324520.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50018,
    "choices": [
      {
        "id": 200073,
        "text": "Accessory nerve"
      },
      {
        "id": 200074,
        "text": "Ansa cervicalis"
      },
      {
        "id": 200075,
        "text": "Hypoglossal nerve"
      },
      {
        "id": 200076,
        "text": "Recurrent laryngeal nerve"
      },
      {
        "id": 200077,
        "text": "Superior laryngeal nerve"
      }
    ],
    "text": "A 44 years old male comes to the you for evaluation of neck lump. He first noticed the lump 3 months ago & says that it seems to be growing in size. Physical examination shows a nodular mass in his left thyroid lobe. He has no pain, shortness of breath, cough, hoarseness or difficulty in swallowing. Serum TSH levels are normal. Fine needle aspiration biopsy is consistent with papillary thyroid cancer. A total thyroidectomy is performed. While attempting to ligate the inferior thyroid artery the surgeon accidently damages a structure that lies in close proximity to it. Which of the following nerves is most likely to be injured \u2013",
    "unique_key": "Q5869855",
    "question_audio": null,
    "question_video": null,
    "map_id": 34413350,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) because of proximity to inferior thyroid artery,Recurrent laryngeal nerve is at risk of injury.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/qid 69833.jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200076,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/12681901698324540/12681901698324540.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/12681901698324540/12681901698324540.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50019,
    "choices": [
      {
        "id": 200078,
        "text": "Aberrant left subclavian artery"
      },
      {
        "id": 200079,
        "text": "Aberrant right subclavian artery"
      },
      {
        "id": 200080,
        "text": "Aberrant left Common Carotid artery"
      },
      {
        "id": 200081,
        "text": "Aberrant right Common Carotid artery"
      },
      {
        "id": 200082,
        "text": "Double aortic arch"
      }
    ],
    "text": "A 36 years old man was referred to the Head and Neck surgery outpatient clinic for the evaluation of cervical mass on the right side. A fine needle aspiration (FNA) puncture was performed and the result was thyroid papillary cell carcinoma. Accordingly the surgeon decided that he should undergo total thyroidectomy.The right inferior thyroid artery was identified. Careful dissection was done to find the right recurrent laryngeal nerve in the area between inferior thyroid artery and mid-cervical (mid-tracheal) line, but no recurrent nerve was observed. So with doubt to have the anatomical variation (non-recurrent laryngeal nerve), the area above the inferior thyroid artery was dissected. Q: What is the embryological cause of this variation?",
    "unique_key": "Q4665992",
    "question_audio": null,
    "question_video": null,
    "map_id": 34489806,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Normally, right sided recurrent laryngeal nerve winds around right subclavian artery, in case of aberrant right subclavian artery, non-recurrent laryngeal nerve is observed in right side.",
    "correct_choice_id": 200079,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/12480761698324748/12480761698324748.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/12480761698324748/12480761698324748.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50020,
    "choices": [
      {
        "id": 200083,
        "text": "Paranasal sinuses"
      },
      {
        "id": 200084,
        "text": "Laryngeal vestibule"
      },
      {
        "id": 200085,
        "text": "False vocal cords"
      },
      {
        "id": 200086,
        "text": "True vocal cords"
      },
      {
        "id": 200087,
        "text": "Tracheal bifurcation"
      }
    ],
    "text": "A small DNA virus is described that has affinity for stratified squamous epithelium. The virus is most likely to affect which of the following respiratory structures?",
    "unique_key": "Q5437884",
    "question_audio": null,
    "question_video": null,
    "map_id": 34545429,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) In the respiratory tract, the nose, paranasal sinuses, nasopharynx, most of the larynx and the tracheobronchial tree are lined with pseudostratified ciliated columnar, mucus-secreting epithelium. Stratified squamous epithelium is found only in the oropharynx, laryngopharynx, anterior epiglottis, upper half of the posterior epiglottis, and vocal folds (true vocal cords).",
    "correct_choice_id": 200086,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/8922371698328332/8922371698328332.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/8922371698328332/8922371698328332.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50021,
    "choices": [
      {
        "id": 200088,
        "text": "Common carotid artery"
      },
      {
        "id": 200089,
        "text": "External carotid artery"
      },
      {
        "id": 200090,
        "text": "Facial vein"
      },
      {
        "id": 200091,
        "text": "Superior and inferior thyroid arteries"
      }
    ],
    "text": "While examining a post op patient surgeon tells an intern to tap the side of the face of a patient who just had thyroid surgery. The surgeon is most worried about damage to which of the following vessels?",
    "unique_key": "Q6116562",
    "question_audio": null,
    "question_video": null,
    "map_id": 34816061,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) The surgeon has asked the intern to test for tetany, which can occur if the blood supply to the parathyroid glands (through the superior and inferior thyroid arteries) is disrupted during thyroid surgery. Specifically, the medical student is being asked to tap with his fingers the muscles of mastication, notably the masseter, which because of its strength is a sensitive indicator of tetany. Tetany will be seen as an abnormally strong jerk or contraction related to the hypocalcemia that can develop if secretion of parathyroid hormone is inadequate.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/12_1(15).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200091,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/67368371698329373/67368371698329373.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/67368371698329373/67368371698329373.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50022,
    "choices": [
      {
        "id": 200092,
        "text": "Sixth cervical"
      },
      {
        "id": 200093,
        "text": "Third cervical"
      },
      {
        "id": 200094,
        "text": "Fourth cervical"
      },
      {
        "id": 200095,
        "text": "Fifth cervical"
      }
    ],
    "text": "A surgeon while travelling witnesses a road traffic accident, he is first on the scene. He finds a passenger bleeding profusely from the neck and correctly surmises that the bleeding is from the carotid artery. To control the bleeding, the surgeon can compress the carotid artery against the anterior tubercle of which of the following vertebrae?",
    "unique_key": "Q3085163",
    "question_audio": null,
    "question_video": null,
    "map_id": 34518521,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) The sixth cervical vertebra has a tubercle known as chassaignac tubercle against which carotid can be pressed.",
    "correct_choice_id": 200092,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/10776561698329423/10776561698329423.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/10776561698329423/10776561698329423.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50023,
    "choices": [
      {
        "id": 200096,
        "text": "Reactive lymph node"
      },
      {
        "id": 200097,
        "text": "Branchial cleft cyst"
      },
      {
        "id": 200098,
        "text": "Thyroglossal duct cyst"
      },
      {
        "id": 200099,
        "text": "Head and neck neoplasm"
      }
    ],
    "text": "A 6-year-old boy is brought to the office for evaluation of a neck mass. His mother reports that he first developed the mass 3 days ago, and it has not resolved. Further questioning reveals that he has recently recovered from a viral upper respiratory infection. He is otherwise healthy and is up to date on all recommended vaccinations. Physical examination shows a 2-cm neck mass in the midline immediately above the thyroid cartilage notch. The mass elevates when he sticks his tongue out of his mouth. Which of the following is the most likely diagnosis?",
    "unique_key": "Q4030781",
    "question_audio": null,
    "question_video": null,
    "map_id": 34716322,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Thyroglossal duct cysts are derived from the remnant of the thyroglossal duct. The thyroglossal duct extends from the foramen cecum of the tongue base to the thyroid gland during the embryologic development of the thyroid gland, and it typically degenerates completely. If a portion of the duct remains, it can develop into a cyst and enlarge, presenting as a midline neck mass. The pathognomonic finding of a thyroglossal duct is elevation during protrusion of the tongue, which is true in this case.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/16_1(11).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200098,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/21227081698329462/21227081698329462.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/21227081698329462/21227081698329462.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50024,
    "choices": [
      {
        "id": 200100,
        "text": "Internal laryngeal nerve"
      },
      {
        "id": 200101,
        "text": "Recurrent laryngeal nerve"
      },
      {
        "id": 200102,
        "text": "Thyroarytenoid muscle"
      },
      {
        "id": 200103,
        "text": "Vestibular folds"
      }
    ],
    "text": "A 45 -year-old man undergoes surgery for medullary carcinoma of the thyroid. After the surgery, he complains of a \u201cnoisy quality\u201d to his voice. This condition was most likely caused by damage to the",
    "unique_key": "Q9424216",
    "question_audio": null,
    "question_video": null,
    "map_id": 34696157,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) The recurrent laryngeal nerves are branches of the vagus (CN X), and supply all intrinsic muscles of the larynx except the cricothyroid. The right recurrent laryngeal nerve recurs around the right subclavian artery. The left recurrent laryngeal nerve recurs in the thorax around the arch of the aorta and ligamentum arteriosum. Both nerves ascend to the larynx by passing between the trachea and esophagus, close to the thyroid gland. The internal laryngeal nerve is a purely sensory branch of the superior laryngeal nerve.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/2_1(35).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200101,
    "solution_audio": null,
    "solution_video": "",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50025,
    "choices": [
      {
        "id": 200104,
        "text": "Suboccipital"
      },
      {
        "id": 200105,
        "text": "Great auricular nerve"
      },
      {
        "id": 200106,
        "text": "Facial"
      },
      {
        "id": 200107,
        "text": "Trigeminal"
      }
    ],
    "text": "Which of the following nerve marked in the image is thickened in leprosy-<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/9(436).jpg\" alt=\"Question Image\"></p>",
    "unique_key": "Q7557722",
    "question_audio": null,
    "question_video": null,
    "map_id": 34302826,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Option A-Suboccipital nerve runs in suboccipital region which is present on posterior aspect of neck. Option B-The nerve shown is coming from the posterior triangle and approaching lower part of pinna,therefore it is the greater auricular nerve. Option C-Facial nerve emerges from anterior border of parotid gland and divides into 5 branches. Option D-Trigeminal nerve divides into three divisions i.e,ophthalmic,maxillary and mandibular.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/10(512).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200105,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/17328851698506263/17328851698506263.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/17328851698506263/17328851698506263.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50026,
    "choices": [
      {
        "id": 200108,
        "text": "Pretracheal fascia"
      },
      {
        "id": 200109,
        "text": "Ligament of Berry"
      },
      {
        "id": 200110,
        "text": "Thyrohyoid membrane"
      },
      {
        "id": 200111,
        "text": "Sterno thyroid"
      }
    ],
    "text": "Upward extension of thyroid swelling is prevented by which of the following?",
    "unique_key": "Q6842557",
    "question_audio": null,
    "question_video": null,
    "map_id": 34866323,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Option A-Thyroid grand is enclosed in big peritracheal fascia,which prevents Upward extension of thyroid swelling. Option B-The Ligament of Berry is a dense condensation of pre-tracheal vascular fascia that attaches the thyroid to the crico-tracheal structures posteriorly. Option C-Thyrohyoid membrane is present between lower border of hyoid and upper border of thyroid cartilage. Option D-Sterno thyroid attaches at oblique line of lamina of thyroid cartilage.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/21(249).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200108,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41115241698504791/41115241698504791.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41115241698504791/41115241698504791.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50027,
    "choices": [
      {
        "id": 200112,
        "text": "Anterior ethmoidal artery"
      },
      {
        "id": 200113,
        "text": "Sphenopalatine artery"
      },
      {
        "id": 200114,
        "text": "Greater palatine artery"
      },
      {
        "id": 200115,
        "text": "Superior labial artery"
      }
    ],
    "text": "All of the following are branches of External carotid artery (ECA) supplying the nasal septum except:",
    "unique_key": "Q5478861",
    "question_audio": null,
    "question_video": null,
    "map_id": 34180187,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Option A-Anterior ethmoidal artery is a branch of ophthalmic artery which is further a branch of ICA. Option B,C-ECA gives a branch of Maxillary artery which gives 2 branches- greater palatine artery & sphenopalatine artery. Option D-ECA also gives facial artery which further gives superior labial artery.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/10_1(90).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200112,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41187991701774893/41187991701774893.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41187991701774893/41187991701774893.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50028,
    "choices": [
      {
        "id": 200116,
        "text": "Internal Carotid Artery"
      },
      {
        "id": 200117,
        "text": "Internal Jugular Vein"
      },
      {
        "id": 200118,
        "text": "IX cranial nerve"
      },
      {
        "id": 200119,
        "text": "Sympathetic chain"
      }
    ],
    "text": "Which of the following is not a content of Carotid sheath?",
    "unique_key": "Q1419566",
    "question_audio": null,
    "question_video": null,
    "map_id": 34935378,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Option A,B-Inside the carotid sheath are present- common carotid artery,internal carotid artery & initial part of external carotid artery,vagus nerve. Option C-Upper part of carotid sheath contains 9th to 12th nerve also. Option D-Sympathetic chain lies behind the carotid sheath.hence,it is not a content of Carotid sheath.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/12_1(74).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200119,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/35623241701774945/35623241701774945.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/35623241701774945/35623241701774945.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50029,
    "choices": [
      {
        "id": 200120,
        "text": "A"
      },
      {
        "id": 200121,
        "text": "B"
      },
      {
        "id": 200122,
        "text": "C"
      },
      {
        "id": 200123,
        "text": "D"
      }
    ],
    "text": "Third part of vertebral artery is related to which part of atlas?<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/16(320).jpg\" alt=\"Question Image\"></p>",
    "unique_key": "Q1176440",
    "question_audio": null,
    "question_video": null,
    "map_id": 34952226,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Option A- is posterior tubercle. Option B- is related to 3rd part of vertebral artery. Option C- is formaen transversium. Option D- is anterior tubercle.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/16_1(72).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200121,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/5353211701775231/5353211701775231.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/5353211701775231/5353211701775231.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50030,
    "choices": [
      {
        "id": 200124,
        "text": "Superior Laryngeal Nerve"
      },
      {
        "id": 200125,
        "text": "Recurrent Laryngeal Nerve"
      },
      {
        "id": 200126,
        "text": "Ansa Cervicalis"
      },
      {
        "id": 200127,
        "text": "Marginal Mandibular Nerve"
      }
    ],
    "text": "Which of the following nerve is least injured in thyroid surgery?",
    "unique_key": "Q7232747",
    "question_audio": null,
    "question_video": null,
    "map_id": 34785727,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (D) Option A-Superior Laryngeal Nerve divides into internal and external laryngeal nerve,external laryngeal nerve lies near the superior pole of thyroid. Option B-Recurrent Laryngeal Nerve lies near the inferior pole of thyroid. Option C-Ansa Cervicalis lies on anterior wall of carotid sheath and hence it lies in close proximity to thyroid. Option D-Marginal Mandibular Nerve is well away from thyroid gland and hence it is least injured in thyroid surgery.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/17_1(59).jpg\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200127,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41651461701775268/41651461701775268.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41651461701775268/41651461701775268.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50031,
    "choices": [
      {
        "id": 200128,
        "text": "Thyrocervical trunk"
      },
      {
        "id": 200129,
        "text": "Costocervical trunk"
      },
      {
        "id": 200130,
        "text": "ICA"
      },
      {
        "id": 200131,
        "text": "ECA"
      }
    ],
    "text": "Inferior thyroid artery is a branch of?",
    "unique_key": "Q9467231",
    "question_audio": null,
    "question_video": null,
    "map_id": 34210863,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) Option A-Thyrocervical trunk gives branches(SIT) ? suprascapular, inferior thyroid, Transverse cervical. Option B-Costocervical trunk gives rise to Deep cervical branch & superior intercostal branch. Option C-ICA do not supply thyroid. Option D-ECA gives superior thyroid artery.",
    "correct_choice_id": 200128,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/19775611701775288/19775611701775288.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/19775611701775288/19775611701775288.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50032,
    "choices": [
      {
        "id": 200132,
        "text": "Stylohyoid"
      },
      {
        "id": 200133,
        "text": "Stylopharyngeus"
      },
      {
        "id": 200134,
        "text": "Mylohyoid"
      },
      {
        "id": 200135,
        "text": "Palatopharyngeus"
      }
    ],
    "text": "Which of the following passes between superior & middle constrictor?",
    "unique_key": "Q8853302",
    "question_audio": null,
    "question_video": null,
    "map_id": 34081474,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Between the superior and middle pharyngeal constrictor muscles, the stylopharyngeus muscle and the glossopharyngeal nerve passes through. Between the middle and inferior pharyngeal constrictor muscles, the internal laryngeal nerve and the superior laryngeal artery and vein passes through.<p><img src=\"https://d2enu63wt1sf3u.cloudfront.net/ckfinder/files/3(273).png\" alt=\"Solution Image\"></p>",
    "correct_choice_id": 200133,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41369911721393037/41369911721393037.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41369911721393037/41369911721393037.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50033,
    "choices": [
      {
        "id": 200136,
        "text": "Posterior cricoarytenoid"
      },
      {
        "id": 200137,
        "text": "Lateral cricoarytenoid"
      },
      {
        "id": 200138,
        "text": "Cricothyroid"
      },
      {
        "id": 200139,
        "text": "Thyroarytenoid"
      }
    ],
    "text": "A singer presents with difficulty in singing at high pitch. On examination bowing of vocal cord is seen on right side. Which of the following muscle has been compromised?",
    "unique_key": "Q8280454",
    "question_audio": null,
    "question_video": null,
    "map_id": 34556052,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (C) Option A-Posterior cricoarytenoid muscle palsy leads to adduction of vocal cords. Option B-Lateral cricoarytenoid muscle palsy leads to abduction of vocal cords. Option C-Cricothyroid palsy leads to difficulty in singing at high pitch. On examination bowing of vocal cord will be seen. Option D-Thyroarytenoid muscle palsy leads to abduction of vocal cords.",
    "correct_choice_id": 200138,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/53839121725255939/53839121725255939.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/53839121725255939/53839121725255939.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50034,
    "choices": [
      {
        "id": 200140,
        "text": "9 and 10"
      },
      {
        "id": 200141,
        "text": "10 and 7"
      },
      {
        "id": 200142,
        "text": "7 and 5"
      },
      {
        "id": 200143,
        "text": "5 and 9"
      }
    ],
    "text": "An absent gag reflex can result from injury to which of the following nerves?",
    "unique_key": "Q1599480",
    "question_audio": null,
    "question_video": null,
    "map_id": 34113681,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (A) The gag reflex is a reflex contraction of the back of the throat, elicited by touching the posterior pharyngeal wall, tonsillar area, or the base of the tongue. Stimulation results in a visible contraction of the pharyngeal wall. The gag reflex is a protective response that prevents oral contents from entering the throat except as part of normal swallowing and helps prevent choking. The afferent limb of the reflex is supplied by the glossopharyngeal nerve (cranial nerve IX), which inputs to the nucleus solitarius and the spinal trigeminal nucleus. The efferent limb is supplied by the vagus nerve (cranial nerve X) from the nucleus ambiguus. All of these are located in the medulla. The lower cranial nerves are involved in pharyngeal and laryngeal function as well as in movements of the neck and tongue. Damage to them can result in problems with speech and swallowing.",
    "correct_choice_id": 200140,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/25766761725255960/25766761725255960.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/25766761725255960/25766761725255960.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "id": 50035,
    "choices": [
      {
        "id": 200144,
        "text": "Styloglossus"
      },
      {
        "id": 200145,
        "text": "Stylopharyngeus"
      },
      {
        "id": 200146,
        "text": "Sup. Laryngeal Artery"
      },
      {
        "id": 200147,
        "text": "Int. Laryngeal Nerve"
      }
    ],
    "text": "Which of the following passes through the gap between superior and middle constrictor muscles:-",
    "unique_key": "Q8464294",
    "question_audio": null,
    "question_video": null,
    "map_id": 34850455,
    "difficulty_level": "intermediate",
    "subjects_id": [],
    "solution": "Correct Answer (B) Option A-Styloglossus is a muscle of tongue and is supplied by hypoglossal nerve. Option B-Stylopharyngeus passes through the gap between superior and middle constrictor muscles. Option C,D-Superior Laryngeal Artery and Internal Laryngeal Nerve pierces thyrohyoid membrane.",
    "correct_choice_id": 200145,
    "solution_audio": null,
    "solution_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/52915061731674986/52915061731674986.m3u8",
    "audio_explanation_heading": null,
    "video_explanation_heading": null,
    "solution_media_position": "bottom",
    "tags": [],
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/52915061731674986/52915061731674986.m3u8",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '36  Neck';
        const quizFilename = '36-neck-55e93010.html';
        let hierarchy = ["DAMS", "DQB", "Anatomy"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on navigation
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>