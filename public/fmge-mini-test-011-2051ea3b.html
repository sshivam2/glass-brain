<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fmge Mini Test - 011 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / FMGE Mini Test Series / 2022
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">30</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the alphabets mark the C cells in the section of the thyroid gland shown below?",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Alphabet B marks the C cells in the section of the thyroid gland.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0e2f860b219e462bb92bd02a5f37738e.JPEG"
    ],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/d5713127fd574daeb13ab9bfd6efb896x562x470.JPEG"
    ]
  },
  {
    "text": "All of the following are components responsible for the countercurrent mechanism in the kidney except _____.",
    "choices": [
      {
        "id": 1,
        "text": "Sodium outflow in thick ascending limb"
      },
      {
        "id": 2,
        "text": "Water outflow in thin descending limb"
      },
      {
        "id": 3,
        "text": "Sodium outflow in thin ascending limb"
      },
      {
        "id": 4,
        "text": "Flow of tubular fluid from PCT to DCT"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Thin ascending limb is not a component of the countercurrent mechanism.&nbsp;</p>\n<p>The <strong>loop of Henle</strong> function as <strong>countercurrent multipliers</strong> and <strong>vasa recta</strong> as <strong>countercurrent exchangers.</strong></p>\n<p>The functioning of the loop of Henle depends upon:</p>\n<ol>\n<li>High permeability of the thin descending limb to water ( via aquaporin-1)</li>\n<li>Active transport of Na<sup>+</sup> and Cl<sup>-</sup> from the thick ascending limb</li>\n<li>Inflow of tubular fluid from proximal tubule and outflow to the distal tubule.</li>\n</ol>\n<p><strong>Note:</strong> The thin ascending limbs of juxtamedullary nephrons are permeable to Na<sup>+</sup> and Cl<sup>-</sup> and hence do contribute passively to countercurrent multiplication. However, among the options provided, Option C is the best answer as the other options are directly responsible for the countercurrent mechanism.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 15-year-old patient presents with symptoms of night blindness, loss of peripheral vision and says that far off objects have begun to look blurry, despite wearing lenses. Fundoscopic examination is shown in the image below. This autosomal recessive condition is caused by the deficiency of which of the following enzymes?",
    "choices": [
      {
        "id": 1,
        "text": "Ornithine transcarbamylase"
      },
      {
        "id": 2,
        "text": "Ornithine-\u0394-aminotransferase"
      },
      {
        "id": 3,
        "text": "Argininosuccinate lyase"
      },
      {
        "id": 4,
        "text": "Branched chain ketoacid dehydrogenase"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The fundoscopic image shows <strong>Gyrate&nbsp;atrophy </strong>of<strong> retina </strong>and<strong> choroid&nbsp;</strong>which is associated with an&nbsp;<strong>Ornithine-&Delta;-aminotransferase&nbsp;</strong>deficiency.</p>\n<p>&nbsp;</p>\n<p>Gyrate atrophy of the retina and choroid is an autosomal recessive disorder, caused by a deficiency of the enzyme&nbsp;<strong>Ornithine-&Delta;-aminotransferase</strong>,&nbsp;a vitamin B6-dependent mitochondrial matrix enzyme which catalyzes the conversion of L-ornithine, a non-proteinaceous amino acid, to proline and glutamic acid. It plays a critical role in cellular detoxi\ufb01cation by disposing of ornithine derived from dietary arginine which results in an increase in plasma ornithine concentrations.</p>\n<p>Patients classically present in the first decade of life with nyctalopia, early cataract formation and myopia, with fundus exam revealing circular patches of chorioretinal atrophy around the peripheral fundus.&nbsp;</p>\n<p>Other options:</p>\n<p>Option A:&nbsp;<strong>Ornithine transcarbamylase deficiency</strong> leads to lethargy progressing to coma, protein aversion, intellectual disability, hyperammonemia</p>\n<p>Option C:&nbsp;Argininosuccinate lyase leads to <strong>Arginosuccinic acidemia</strong> with symptoms similar to ornithine transcarbamylase deficiency</p>\n<p>Option D:&nbsp;Branched chain ketoacid dehydrogenase deficiency leads to <strong>Maple syrup urine disease</strong> with symptoms of lethargy, vomiting, encephalopathy, seizures, intellectual disability, &ldquo;maple syrup&rdquo; odor, protein intolerance</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/aef4176613324c4eb72010d13f06e4b0.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 64-year-old male patient is brought to the clinic for evaluation of frequent falls. He also complains of difficulty swallowing, urinary incontinence, and impotence. On examination, gross orthostatic changes in the blood pressure are noted. He has ocular dysmetria, scanning dysarthric speech, and gait ataxia. MRI of the brain shows atrophy of multiple regions of the brain and characteristic findings shown below. Which of the following will be the predominant pathological feature in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Neuronal loss and accumulation of tau-containing neurofibrillary tangles in the frontotemporal regions"
      },
      {
        "id": 2,
        "text": "Ballooned neurons and astrocytic plaques around the astrocytes in the anterior parietal lobes"
      },
      {
        "id": 3,
        "text": "Pallor of the substantia nigra and locus ceruleus with Lewy bodies"
      },
      {
        "id": 4,
        "text": "Atrophy of the cerebellum with alpha-synuclein containing inclusions in the oligodendrocytes"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><span data-preserver-spaces=\"true\">The given clinical vignette describes a case of&nbsp;</span><strong><span data-preserver-spaces=\"true\">multiple system atrophy</span></strong><span data-preserver-spaces=\"true\">&nbsp;with predominant cerebellar atrophy&nbsp;</span><strong><span data-preserver-spaces=\"true\">(MSA-C subtype)</span></strong><span data-preserver-spaces=\"true\">. The arrow points to the '<strong>hot cross bun'</strong> sign seen in MSA-C. This condition is characterized by atrophy of the cerebellum with alpha-synuclein-containing inclusions in the oligodendrocytes.</span></p>\n<p><strong><span data-preserver-spaces=\"true\">Multiple system atrophy:</span></strong></p>\n<p><span data-preserver-spaces=\"true\">It is a sporadic disease that affects several functional systems in the brain which is characterized by primary pathology in the glial cells.</span></p>\n<p><span data-preserver-spaces=\"true\">The predominant clinical features of MSA-C are <strong>cerebellar dysfunction</strong> that manifests as gait ataxia, limb ataxia, ataxic dysarthria, and cerebellar disturbances of eye movements which manifests as ocular dysmetria, gaze-evoked nystagmus, or impaired smooth pursuits with the saccadic intrusion. Dysphagia is a prominent symptom and the speech pattern is scanning dysarthria. Autonomic dysfunction includes orthostatic hypotension, erectile dysfunction, urinary incontinence, nocturnal enuresis, urinary retention, and hesitancy. Sleep and breathing pattern abnormalities may also be seen. Patients with MSA-P have predominant Parkinsonian features in association with the other features described above.<strong> MRI shows a characteristic 'hot cross bun sign'</strong>. There will be atrophy of the putamen, pons, and middle cerebellar peduncles.</span></p>\n<p><span data-preserver-spaces=\"true\">The pathological features in MSA mimic the clinical presentation of the condition. In this patient with cerebellar dysfunction, there will be atrophy of the cerebellum, including the peduncles, pons, basal pontis, inferior olive of the medulla. <strong>The diagnostic glial inclusions are demonstrated in the oligodendrocytes with silver impregnation</strong>. They contain alpha-synuclein as well as ubiquitin. Autonomic symptoms are related to cell loss from the catecholaminergic nuclei of the medulla.</span></p>\n<p><strong><span data-preserver-spaces=\"true\">Characteristic inclusions in various neurological conditions:</span></strong></p>\n<table style=\"width: 334px;\">\n<tbody>\n<tr>\n<td style=\"width: 132px;\"><strong>Proteins</strong></td>\n<td style=\"width: 196px;\"><strong>Disease with Inclusion</strong></td>\n</tr>\n<tr>\n<td style=\"width: 132px;\">A&beta;</td>\n<td style=\"width: 196px;\">Alzheimer disease</td>\n</tr>\n<tr>\n<td style=\"width: 132px;\">Tau</td>\n<td style=\"width: 196px;\">\n<p>Alzheimer disease</p>\n<p>Frontotemporal degeneration</p>\n<p>Parkinson's disease(with LRKK2 mutation)</p>\n<p>Progressive supranuclear palsy</p>\n<p>Corticobasal degeneration</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 132px;\">TPD-43</td>\n<td style=\"width: 196px;\">\n<p>Frontotemporal degeneration</p>\n<p>Amyotrophic lateral sclerosis</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 132px;\">FUS</td>\n<td style=\"width: 196px;\">\n<p>Frontotemporal degeneration</p>\n<p>Amyotrophic lateral sclerosis</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 132px;\">&alpha;- synuclein</td>\n<td style=\"width: 196px;\">\n<p>Parkinson disease</p>\n<p>Multiple system atrophy</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 132px;\">Polyglutamine aggregates</td>\n<td style=\"width: 196px;\">\n<p>Huntington's disease</p>\n<p>Some form of spinocerebellar ataxia</p>\n<p>Spinal bulbar muscular atrophy</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<p><strong><span data-preserver-spaces=\"true\">Other Options:</span></strong></p>\n<p><span data-preserver-spaces=\"true\">Neuronal loss and accumulation of tau-containing neurofibrillary tangles in the frontotemporal regions (Option A) is seen in frontotemporal dementia</span></p>\n<p><span data-preserver-spaces=\"true\">Ballooned neurons and astrocytic plaques around the astrocytes in the anterior parietal lobes (Option B) is seen progressive supranuclear palsy</span></p>\n<p><span data-preserver-spaces=\"true\">The pallor of the&nbsp;</span>substantia nigra&nbsp;<span data-preserver-spaces=\"true\">and locus ceruleus with Lewy bodies (Option C) is seen in Parkinson's disease</span></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a59ea19fd0734dd4a404faccca27d742.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient diagnosed with COVID-19 has been started on a \"cocktail therapy\" of Casirivimab and Imdevimab. What is the mechanism of action of these drugs?",
    "choices": [
      {
        "id": 1,
        "text": "Entry inhibitors"
      },
      {
        "id": 2,
        "text": "Protease inhibitors"
      },
      {
        "id": 3,
        "text": "Reverse transcriptase inhibitors"
      },
      {
        "id": 4,
        "text": "Integrase inhibitors"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Casirivimab and Imdevimab are <strong>entry inhibitors</strong>.</p>\n<p>Casirivimab and imdevimab are monoclonal antibodies that are specifically directed against the spike protein of SARS-CoV-2, designed to block the virus&rsquo; attachment and entry into human cells.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old man presented with fever, chills, and tender inguinal lymphadenopathy. Smears prepared from the discharge of these swellings revealed bacteria with bipolar staining. Which stain was used to prepare these smears?",
    "choices": [
      {
        "id": 1,
        "text": "Wayson stain"
      },
      {
        "id": 2,
        "text": "Albert stain"
      },
      {
        "id": 3,
        "text": "Warthin-starry stain"
      },
      {
        "id": 4,
        "text": "Neisser's stain"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario of fever, chills, tender inguinal lymphadenopathy, and a smear showing bipolar staining of bacteria is highly suggestive of <strong>bubonic plague</strong> caused by <em><strong>Yersinia pestis</strong></em>. The stain used for this organism is the <strong>Wayson stain</strong> containing methylene blue.</p>\n<p><strong>Plague&nbsp;</strong>is a zoonotic disease caused by <em><strong>Yersinia pestis</strong></em>.&nbsp;It is a gram-negative, non-motile, coccobacillus. The reservoirs of infection are&nbsp;<strong>wild rodents</strong> like&nbsp;field mice, gerbils, skunks, etc. In India, the <strong>gerbil</strong> (<strong>Tatera indica)</strong> is the main reservoir. The important vector of plague is rat flea (<em><strong>Xenopsylla cheopis</strong>).</em></p>\n<p>Humans acquire the disease by the bite of an infected flea, by direct contact with the tissues of the infected animal, or by droplet infection from cases of pneumonic plague.&nbsp;</p>\n<p class=\"p1\">Human plague mainly presents as:</p>\n<p class=\"p1\"><strong>Bubonic plague</strong>- This is the <strong>most common</strong> type of disease. The patient develops a sudden fever, chills, headache,&nbsp;and painful lymphadenitis. Within a few days, the <strong>lymph nodes</strong> in the <strong>groin</strong>, axilla, or neck enlarge and are called <strong>buboes</strong>. This is followed by the suppuration of the buboes. Bubonic plague cannot spread from person to person as the bacilli are locked up in the buboes and do not find a way or easy exit.</p>\n<p class=\"p1\"><strong>Pneumonic plague-&nbsp;</strong>It develops as a complication of bubonic-septicemic plague.&nbsp;</p>\n<p class=\"p1\"><strong>Septicemic plague-&nbsp;</strong>It occurs when the infection spreads to the blood.</p>\n<p class=\"p1\">Laboratory diagnosis- Microscopy reveals bacteria that show characteristic <strong>bipolar staining</strong> or <strong>safety pin appearance</strong> when stained with Wayson's stain.<strong> Antibodies </strong>to the <strong>F1</strong> <strong>antigen</strong> of the bacteria can also be demonstrated by passive hemagglutination. PCR is used for a rapid presumptive diagnosis.</p>\n<p class=\"p1\">Treatment- <span style=\"font-size: 14px;\">Streptomycin, doxycycline, and chloramphenicol can be used.</span></p>\n<p class=\"p1\"><span style=\"font-size: 14px;\">Other options:</span></p>\n<p class=\"p1\"><span style=\"font-size: 14px;\">Options B &amp; D- <strong>Albert's and Neisser's</strong> stains are used to stain <em><strong>Corynebacterium diphtheriae.&nbsp;</strong></em>They show the bacteria with metachromatic granules arranged in<strong> chinese-letter or cuneiform</strong> pattern.</span></p>\n<p class=\"p1\">Option C- <strong>Warthin-starry</strong> stain is used to stain <em><strong>Bartonella henselae</strong></em> which causes <strong>cat-scratch disease</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/66a838f8397544e99533833535afb826.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following IPC sections is not related to grievous injury?",
    "choices": [
      {
        "id": 1,
        "text": "IPC Section 320"
      },
      {
        "id": 2,
        "text": "IPC Section 326"
      },
      {
        "id": 3,
        "text": "IPC Section 319"
      },
      {
        "id": 4,
        "text": "IPC Section 331"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>IPC Section 319 defines hurt (not grievous hurt) that includes bodily pain, infirmity, or disease caused to any individual.</p>\n<p><strong>Grievous hurt</strong> or injury is defined to include injuries such as emasculation, permanent damage to eyesight(either eye), permanent damage to hearing(either ear), damage to any member or joint, destruction or permanent impairment of the power of any member or joint, permanent disfigurement of the head or face, fracture or dislocation of bone or tooth, and any hurt that endangers the victim's life or causes them severe bodily pain thereby impairing their ability to follow their daily routine for a period of 20 days.&nbsp;</p>\n<p>Other options:</p>\n<ul>\n<li><strong>Section 320</strong> - defines grievous hurt</li>\n<li>Section 326 - Punishment for voluntarily causing grievous hurt by dangerous weapon(imprisonment up to 10 years with fine)</li>\n<li>Section 331: Causing grievous hurt to extort confession. (imprisonment up to 10 years with fine). (imprisonment up to 10 years with fine).</li>\n</ul>\n<p>Other IPC sections related to grievous hurt:</p>\n<ul>\n<li>Sec 322: Voluntary causation of grievous hurt.</li>\n<li>Sec 325: Punishment for voluntarily causing grievous hurt (imprisonment up to 7 years with fine)</li>\n<li>Sec 329: Causing grievous hurt to extort property (imprisonment up to 10 years with fine)</li>\n<li>Sec 333: Causing hurt to deter public servant from the duty (imprisonment up to 10 years with fine)</li>\n<li>Sec 335: Causing grievous hurt on grave or sudden provocations (imprisonment with 4years + or &ndash;fine)</li>\n<li>Sec 338: Causing grievous hurt by act endangering life/safety of others (imprisonment with 2years + or &ndash;fine)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following surgery is done commonly in Tubotympanic type of CSOM?",
    "choices": [
      {
        "id": 1,
        "text": "Radical mastoidectomy"
      },
      {
        "id": 2,
        "text": "Simple mastoidectomy"
      },
      {
        "id": 3,
        "text": "Tympanoplasty"
      },
      {
        "id": 4,
        "text": "Modified radical mastoidectomy"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Tympanoplasty is done commonly in Tubotympanic type of CSOM.</p>\n<p>It is the eradication of disease from the middle ear and reconstruction of hearing (ossiculoplasty) with or without grafting of the tympanic membrane.</p>\n<p><strong>Myringoplasty</strong> is the term given for closure of perforation of tympanic membrane done to check repeated infections from external ear.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 51-year-old diabetic male presented with headache and eye pain for a few months. He also reports difficulty in driving at night and frequent changes in presbyopic glasses. On examination, his Intraocular pressure (IOP) was 22 mm Hg and a laminar dot sign was seen on fundoscopy. Which of the following is incorrect regarding the other fundus changes seen in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Bayoneting sign"
      },
      {
        "id": 2,
        "text": "Cup: disc ratio less than 0.5"
      },
      {
        "id": 3,
        "text": "Narrowing of neuroretinal rim"
      },
      {
        "id": 4,
        "text": "Loss of nasal neuroretinal rim"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario along with the finding of the&nbsp;<strong>laminar dot sign and</strong>&nbsp;<strong>raised IOP</strong> is&nbsp;suggestive of primary open-angle glaucoma and a cup: disc ratio of less than 0.5 is not seen in this condition.</p>\n<p>Primary open-angle glaucoma (POAG) is chronic, progressive optic neuropathy. It is mostly seen in <strong>more than</strong> <strong>40</strong> years of age and it runs in family. The major risk factors are <strong>diabetes mellitus</strong> and <strong>myopia</strong>.</p>\n<p>Most often patients having POAG presents with <strong>headaches</strong>, <strong>frequent changes in presbyopic correction</strong>, and <strong>difficulty in dark adaptation</strong>.&nbsp;</p>\n<p>The fundus examination in glaucoma shows a <strong>cup: disc ratio</strong> <strong>of more than 0.5</strong> and an asymmetry between the cup: disc ratio of two eyes of more than 0.2.&nbsp;</p>\n<p>Other changes include:</p>\n<ul>\n<li><strong>Narrowing</strong> and <strong>notching</strong> of the <strong>neuroretinal rim</strong> (NRR)</li>\n<li><strong>Disc hemorrhages</strong> extending from the NRR onto the retina</li>\n<li><strong>Bayoneting sign</strong> due to the double angulation of a blood vessel.</li>\n<li><strong>Loss of nasal NRR</strong> is characterized by developing space between the NRR and the central retinal vasculature</li>\n<li>The <strong>laminar dor sign</strong> is the grey dot-like fenestration in the exposed lamina cribrosa as the NRR recedes.</li>\n</ul>\n<p>Patients with affected first-degree relatives, diabetics, and myopes should be examined regularly after the age of 40 years to rule out glaucoma.</p>\n<p>Medical, laser, or surgical therapies can be used to achieve a <strong>target pressure of 16- 18 mm Hg</strong> that results in stabilization of POAG in most patients. Laser therapy for POAG consists of<strong> laser trabeculoplasty</strong> and is indicated only if the patient is refractory to medications and not compliant for surgery.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During the COVID 19 pandemic, plastic coverall used by a healthcare worker is disposed  in ________.",
    "choices": [
      {
        "id": 1,
        "text": "Red bin"
      },
      {
        "id": 2,
        "text": "Black bag"
      },
      {
        "id": 3,
        "text": "Yellow bin"
      },
      {
        "id": 4,
        "text": "White bag"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The plastic coverall used by a healthcare worker during COVID 19 pandemic is disposed in the <strong>red bin</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A cross-sectional study was conducted among a group of 600 individuals. 200 individuals were diseased, and out of this, 160 were identified correctly by a screening test. Among the 400 normal individuals, 320 were identified correctly as negative for the disease. Calculate the positive likelihood ratio of the above test.",
    "choices": [
      {
        "id": 1,
        "text": "8"
      },
      {
        "id": 2,
        "text": "6"
      },
      {
        "id": 3,
        "text": "4"
      },
      {
        "id": 4,
        "text": "2"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The positive likelihood ratio of the above screening test is <strong>4</strong>.</p>\n<p>The positive likelihood ratio deals with the <strong>likelihood</strong> of a patient <strong>having the disease</strong>&nbsp;obtaining a <strong>positive test</strong> result. This is used to assess how <strong>good</strong> a <strong>diagnostic test is</strong> and helps in <strong>selecting</strong> an <strong>appropriate diagnostic test</strong> for a specific disease.</p>\n<p>It is the ratio of the true positive rate to the false-positive rate</p>\n<p><strong>Positive likelihood ratio = sensitivity / (1-specificity)</strong></p>\n<p>In the above scenario:</p>\n<table style=\"height: 88px; width: 356px;\">\n<tbody>\n<tr style=\"height: 37px;\">\n<td style=\"width: 112.266px; height: 37px;\">&nbsp;</td>\n<td style=\"width: 109.734px; height: 37px;\">Diseased individuals</td>\n<td style=\"width: 110px; height: 37px;\">Normal individuals</td>\n</tr>\n<tr style=\"height: 25px;\">\n<td style=\"width: 112.266px; height: 25px;\">Test positive</td>\n<td style=\"width: 109.734px; height: 25px;\">160 (TP)</td>\n<td style=\"width: 110px; height: 25px;\">80&nbsp; (FP)</td>\n</tr>\n<tr style=\"height: 19.9375px;\">\n<td style=\"width: 112.266px; height: 19.9375px;\">Test negative</td>\n<td style=\"width: 109.734px; height: 19.9375px;\">40&nbsp; &nbsp;(FN)</td>\n<td style=\"width: 110px; height: 19.9375px;\">320 (TN)</td>\n</tr>\n</tbody>\n</table>\n<p>TP: True positive</p>\n<p>FP: False positive</p>\n<p>TN: True negative</p>\n<p>FN: False negative</p>\n<p>Using the above values, we get the sensitivity and specificity.</p>\n<ul>\n<li>Sensitivity= TP/TP+FN = 160/200</li>\n<li>Specificity= TN/FP+TN = 320/400</li>\n</ul>\n<p>Therefore, positive likelihood ratio= sensitivity/ 1- specificity</p>\n<p>= [160/200]/ [1-(320/400)] = 4</p>\n<p>Note:</p>\n<p>The negative likelihood ratio deals with the <strong>likelihood</strong> of a patient <strong>having the disease</strong>&nbsp;and obtaining a <strong>negative test</strong> result.</p>\n<p><strong>Negative likelihood ratio </strong>=<strong>&nbsp;(1- sensitivity) /specificity</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which among the following is COVID appropriate behaviour?",
    "choices": [
      {
        "id": 1,
        "text": "Maintain a distance of at least 2 feet in all public places"
      },
      {
        "id": 2,
        "text": "Remove the upper string of the mask first followed by the lower string"
      },
      {
        "id": 3,
        "text": "Tie the lower string of the mask first followed by upper string"
      },
      {
        "id": 4,
        "text": "The external pleats of the mask should face downwards"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>external pleats</strong> of the mask should face <strong>downwards</strong> is the only COVID appropriate behaviour in the above options.</p>\n<p>&nbsp;COVID appropriate behaviours prevent the transmission of COVID 19 infection. Important ones are:</p>\n<ul>\n<li>Greet without physical contact</li>\n<li>Maintain a distance of at least&nbsp;<strong>6 feet&nbsp;</strong>in all public places.</li>\n<li>Wear reusable hand-made face-cover or mask, at all times. While wearing a mask the nasal clip should be present over the nose and <strong>external pleats</strong> should face <strong>downwards.&nbsp;</strong>Open the mask pleats so that the mask covers the mouth and nose.&nbsp;<strong>Tie</strong> the <strong>upper strings</strong> of the mask<strong> first</strong> followed by lower strings. Do not touch the front of the mask. Replace the <strong>mask every 8 hours</strong> or when damp. While removing, the mask, <strong>remove</strong> the <strong>lower string</strong> of the mask <strong>first</strong> followed by the upper string. Dispose the mask and wash your hands.</li>\n<li>Avoid touching eyes, nose, and mouth</li>\n<li>Maintain respiratory hygiene.&nbsp;Cover your nose and mouth when you cough or sneeze with a tissue or handkerchief. If there is no tissue or handkerchief, always cover your nose and mouth with <strong>a bent elbow</strong> before coughing or sneezing. Immediately wash your hands after that.</li>\n<li>Wash hands frequently and thoroughly or sanitise with <strong>alcohol-based</strong> sanitiser.</li>\n<li>Regularly clean and disinfect frequently touched surfaces by wearing gloves.</li>\n<li>Do not spit in the open</li>\n<li>Avoid unnecessary travel and discourage crowd and social gatherings.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the ECG.",
    "choices": [
      {
        "id": 1,
        "text": "Left ventricular hypertrophy"
      },
      {
        "id": 2,
        "text": "Wolff Parkinson white syndrome"
      },
      {
        "id": 3,
        "text": "Right ventricular hypertrophy"
      },
      {
        "id": 4,
        "text": "Dextrocardia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above ECG is suggestive of <strong>dextrocardia </strong>based on the following features.</p>\n<ul>\n<li>Lead I is inverted with a negative P wave, QRS complex &amp; T wave.</li>\n<li>P wave is inverted in aVR and aVL</li>\n<li>Reversal of the usual pattern of Lead aVR.</li>\n<li>There is a loss of normal R-wave progression from V1 - V6 with dominant S waves throughout.</li>\n<li>Right-axis deviation</li>\n</ul>\n<p><strong>Differential diagnosis</strong>:</p>\n<p>Accidental reversal of right and left arm electrodes may produce similar findings as dextrocardia in the limb leads, but with normal appearances in the precordial leads.</p>\n<p>&nbsp;</p>\n<p>Reference - The ECG, by John Hampton, Page no. 57.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/426a8f0638c646ed89e9066cb38a5dbf.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Choose the false statement regarding Convalescent plasma therapy in COVID 19.",
    "choices": [
      {
        "id": 1,
        "text": "Use should be avoided in patients with IgA deficiency or immunoglobulin allergy"
      },
      {
        "id": 2,
        "text": "Plasma IgG titer (against S-protein RBD) above 1:640 should be used"
      },
      {
        "id": 3,
        "text": "Recipients should be closely monitored for several hours post-transfusion"
      },
      {
        "id": 4,
        "text": "Convalescent plasma therapy is useful only in severe COVID 19 cases"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The latest MoHFW COVID-19 treatment guidelines do not recommend convalescent plasma in severe disease.</p>\n<p><strong>Convalescent plasma</strong> may be considered in patients with <strong>moderate disease</strong> who are <strong>not improving</strong> (oxygen requirement is progressively increasing) despite the use of <strong>steroids</strong>.&nbsp;</p>\n<p>Special prerequisites while considering convalescent plasma include:&nbsp;</p>\n<ul>\n<li style=\"font-weight: 400;\">ABO compatibility and cross-matching of the donor plasma is required&nbsp;</li>\n<li style=\"font-weight: 400;\"><strong>Plasma IgG titer</strong> (against S-protein receptor binding domain) <strong>above 1:640</strong> should be used</li>\n<li style=\"font-weight: 400;\">The recipient should be closely monitored for several hours post-transfusion for any transfusion related adverse events&nbsp;&nbsp;</li>\n<li style=\"font-weight: 400;\">Use should be avoided in patients with IgA deficiency or immunoglobulin allergy</li>\n</ul>\n<p>The recommended dose is <strong>4-13ml/kg</strong>. Usually, a <strong>200 ml single dose</strong> is given.<br /><br /></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 70-year-old male was treated for atrial fibrillation with a drug showing the following adverse effect as shown. He now comes with palpitations and restlessness. What ECG pattern do you most likely expect to see in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "pseudo s waves"
      },
      {
        "id": 2,
        "text": "flutter waves"
      },
      {
        "id": 3,
        "text": "3 different p wave morphologies"
      },
      {
        "id": 4,
        "text": "wide QRS complexes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The patient being treated with <strong>amiodarone (blue man syndrome)</strong> for his atrial fibrillation will present with <strong>atrial flutter</strong> rather than atrial fibrillation. Atrial flutter will show characteristic flutter waves on ECG.</p>\n<div class=\"page\" title=\"Page 2\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 2\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>In some cases of atrial fibrillation treated with antiarrhythmic drugs which slow atrial conduction velocity and can promote reentry, particularly flecainide, propafenone, or amiodarone, may have a presentation of atrial flutter rather than fibrillation.</p>\n<p><strong>Flecainide, Propafenone (Group 1C)&nbsp;</strong>cause a slight increase in PR interval, increased QRS duration, and no change in QT interval.</p>\n<p><strong>Amiodarone (Group 3)</strong> but also has some group 1A properties. It causes increased PR interval, QRS duration, and QT interval.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/29fdd8428e43421c8a3c8f9f09f95095.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bd8a8520f8714d67836092432feec139x800x406.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2de3f654ae7646d68c564d04c5665df8x720x392.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/70541b95742c4c0bb17efed5baa40909x800x483.PNG"
    ]
  },
  {
    "text": "Identify the wrong match regarding COVID 19 vaccines",
    "choices": [
      {
        "id": 1,
        "text": "Pfizer - mRNA based vaccine"
      },
      {
        "id": 2,
        "text": "Covaxin - Inactivated vaccine"
      },
      {
        "id": 3,
        "text": "Moderna - Recombinant DNA vaccine"
      },
      {
        "id": 4,
        "text": "AstraZeneca - Non-replicating viral vector vaccine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>Moderna COVID 19 vaccine</strong> is also an <strong>mRNA based</strong> vaccine.</p>\n<p dir=\"ltr\">COVID 19 vaccines in development and various stages of approval:</p>\n<table style=\"height: 168px; width: 436px;\">\n<tbody>\n<tr>\n<td style=\"width: 211px;\"><strong>Vaccines</strong></td>\n<td style=\"width: 208px;\"><strong>Mechanism</strong></td>\n</tr>\n<tr>\n<td style=\"width: 211px;\">Pfizer/BioNtech</td>\n<td style=\"width: 208px;\">mRNA based vaccine&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 211px;\">Moderna</td>\n<td style=\"width: 208px;\">mRNA based vaccine&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 211px;\">Oxford University/ Astra Zeneca/ Serum Institute of India (Covishield)</td>\n<td style=\"width: 208px;\">Non-replicating viral vector</td>\n</tr>\n<tr>\n<td style=\"width: 211px;\">Gamaleya (Sputnik V)/ Dr.Reddys</td>\n<td style=\"width: 208px;\">Non-replicating viral vector</td>\n</tr>\n<tr>\n<td style=\"width: 211px;\">Johnson and Johnson&nbsp;</td>\n<td style=\"width: 208px;\">Non-replicating viral vector</td>\n</tr>\n<tr>\n<td style=\"width: 211px;\">Bharat biotech/NIV (Covaxin)</td>\n<td style=\"width: 208px;\">Inactivated vaccine</td>\n</tr>\n<tr>\n<td style=\"width: 211px;\">&nbsp;Zydus Cadilla (ZyCov-D)</td>\n<td style=\"width: 208px;\">Plasmid DNA vaccine</td>\n</tr>\n<tr>\n<td style=\"width: 211px;\">Novavax&nbsp;</td>\n<td style=\"width: 208px;\">Protein subunit</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "According to the CEAP classification, what will be the C stage in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "C2A"
      },
      {
        "id": 2,
        "text": "C2B"
      },
      {
        "id": 3,
        "text": "C4a"
      },
      {
        "id": 4,
        "text": "C1"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image above shows dilated, tortuous veins of the lower limb or <strong>varicose veins</strong>, and is classified as <strong>C2A</strong> according to the CEAP classification for chronic venous disorders.&nbsp;</p>\n<p>According to the <strong>CEAP (Clinical-Etiology-Anatomy-Pathophysiology) classification</strong>, the clinical classification of venous disease is as follows: For clinical classification:</p>\n<ul>\n<li>C0: no signs of venous disease</li>\n<li>C1: telangiectasia or reticular veins</li>\n<li>C2: varicose veins</li>\n<li>C3: edema</li>\n<li>C4a: pigmentation or eczema (including malleolar flare)</li>\n<li>C4b: lipodermatosclerosis or atrophie blanche.&nbsp;&nbsp;<strong>Lipodermatosclerosis</strong> (LDS) refers to chronic inflammation and fibrosis of the skin and subcutaneous tissues. This is seen as a tight, contracted, '<strong>woody leg'</strong> on examination. <strong>Atrophie blanche</strong>, which refers to localized areas of&nbsp;<strong>white, atrophic skin</strong>&nbsp;surrounded by telangiectasia and pigmentation.</li>\n<li>C5: healed venous ulcer</li>\n<li>C6: active venous ulcer</li>\n</ul>\n<p>Each clinical class is further characterized depending upon whether the patient is <strong>symptomatic (S)</strong> or <strong>asymptomatic (A)</strong>. Since the question stem does not mention any symptoms (S), the best answer would be C2A amongst the given choices.</p>\n<p>Image A -&nbsp;tortuous dilated veins&nbsp;- C2</p>\n<p>Image B -&nbsp;Atrophie blanche - C4b</p>\n<p>Image C -&nbsp;fan-shaped telangiectasia - C4c</p>\n<p>Image D -&nbsp; venous ulcer with active crusts - healing venous ulcer - C5.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7769bfb46c5a41b9b88356342c947b67.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/79e41f94990447fd908edffc540a6560x720x2707.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/782e30f3abda49e68ea3f6ee3e5a484ax1280x960.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0400f6b898e040d89a286cfd17edf069x495x375.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f41825348c364a6daca282e85c5d04aax1280x4050.JPEG"
    ]
  },
  {
    "text": "A young man presents to the emergency with a painful scrotum. On examination, the patient is febrile, scrotal erythema and on lifting the testis the pain is relieved. What is the most likely cause of the patient\u2019s condition?",
    "choices": [
      {
        "id": 1,
        "text": "Epididymal cyst rupture"
      },
      {
        "id": 2,
        "text": "Testicular appendix torsion"
      },
      {
        "id": 3,
        "text": "Epididymo-orchitis"
      },
      {
        "id": 4,
        "text": "Testicular inversion"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical scenario with positive Prehn's sign is suggestive of <strong>acute Epididymo-orchitis.&nbsp;</strong></p>\n<p>A <strong>positive Prehn&rsquo;s sign</strong> is used to differentiate epididymis from testicular torsion. A Prehn&rsquo;s sign is said to be positive when the <strong>pain gets relieved</strong> on <strong>lifting the testis</strong>. If it persists, it is likely to be testicular torsion.</p>\n<p><strong>Epididymo-orchitis&nbsp;</strong>is an inflammatory condition affecting the epididymitis and testis. The infection reaches the epididymitis from a primary infection of the urethra, seminal vesicles, or prostate. In <strong>young men</strong>, it is <strong>sexually acquired</strong> while in<strong> older men</strong> it is<strong> secondary to a urinary tract infection</strong>. It can occur post catheterization or instrumentation as well.&nbsp;</p>\n<p><strong><em>Chlamydia trachomatis</em></strong> is the most common cause of acute epididymitis in young, sexually active males.&nbsp;In older men(&gt;40yrs) with bladder outflow obstruction, epididymitis results from a&nbsp;<strong>urinary infection, </strong>most commonly due to <strong><em>Escherichia coli</em></strong>.</p>\n<p>Clinical features include <strong>pain and redness in the scrotum</strong>, <strong>fever</strong>, and <strong>tenderness</strong> of the scrotum.</p>\n<p>Initial investigations include urine specimen for culture, Nucleic acid amplification testing(NAAT), and a urethral swab to check for signs of infection.&nbsp;An ultrasound of the epididymis can show inflammation and abscess formation if any.&nbsp;</p>\n<p>Treatment is by <strong>antibiotics</strong> and scrotal support.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 42-year-old asymptomatic woman is diagnosed with COVID 19 infection. Her CT chest is unremarkable. She was incidentally diagnosed with gall stones 2 months back and wishes to get an elective surgery done. As per the American Society of Anesthesiologists, how long is the suggested wait time for elective surgeries after diagnosis of COVID 19?",
    "choices": [
      {
        "id": 1,
        "text": "4 weeks from date of diagnosis"
      },
      {
        "id": 2,
        "text": "8 weeks  from date of diagnosis"
      },
      {
        "id": 3,
        "text": "8 weeks from date of recovery"
      },
      {
        "id": 4,
        "text": "4 weeks from date of recovery"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>For asymptomatic and mildly symptomatic COVID 19 positive patients, elective surgeries can be planned <strong>4 weeks from the date of diagnosis.</strong></p>\n<p>The American Society of Anesthesiologists (ASA) recommended waiting time for elective surgery from the date of diagnosis of COVID-19 infection are as follows:&nbsp;&nbsp;</p>\n<ul>\n<li><strong>4 weeks</strong> for an asymptomatic patient or <strong>recovery from only</strong> <strong>mild</strong>, non-respiratory symptoms</li>\n<li><strong>6 weeks</strong> for symptomatic patients with cough/dyspnea <strong>not requiring hospitalization</strong></li>\n<li><strong>8 to 10 weeks</strong>&nbsp;for symptomatic patients who <strong>required hospitalization</strong> and/or <strong>diabetic</strong> patients and/or <strong>immunocompromised</strong></li>\n<li><strong>12 weeks</strong> for patients that had to be <strong>admitted to the ICU</strong> due to COVID 19&nbsp;&nbsp;</li>\n</ul>\n<p>The American College of Surgeons recommends <strong>non-operative managemen</strong>t, if feasible and safe for the patient in surgical emergencies in a COVID-19 positive patient or is at high clinical suspicion of COVID-19.</p>\n<p>If the surgery is required in such patients, then proper<strong> personal protective equipment</strong> should be utilized and precautions to be taken to protect the health care team.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 58-year-old woman presents to the clinic with a history of intermittent blood in stools and altered bowel habits for the past 3 months. After a detailed evaluation, she is diagnosed with rectal adenocarcinoma which is located at the anal sphincters and distal third of the rectum. There is no nodal or distant metastasis. What is the preferred management in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Anterior resection"
      },
      {
        "id": 2,
        "text": "Hartmann's operation"
      },
      {
        "id": 3,
        "text": "APR with permanent colostomy"
      },
      {
        "id": 4,
        "text": "Endoluminal stent"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: justify;\"><strong>Abdominoperineal resection with permanent colostomy</strong> is preferred for this patient.&nbsp;</p>\n<p style=\"text-align: justify;\">Abdominoperineal resection is the complete excision of the rectum and anus by dissecting through the abdomen and perineum followed by the creation of a permanent colostomy. This is indicated in patients where:</p>\n<ul style=\"text-align: justify;\">\n<li>Tumor involving the anal sphincters</li>\n<li>Tumor is too close to the sphincters to obtain a negative margin</li>\n<li>Sphincter-saving surgery is not possible</li>\n</ul>\n<p style=\"text-align: justify;\">This surgery increases the complete resection rates, reduces the risk of local perforation and local recurrence.</p>\n<p style=\"text-align: justify;\">Other options:</p>\n<p style=\"text-align: justify;\">Option A- <strong>Anterior resection</strong> is the resection of the proximal rectum or rectosigmoid above the peritoneal reflection through the abdominal approach. It is the term used for anterior proctosigmoidectomy with colorectal anastomosis.&nbsp;</p>\n<p style=\"text-align: justify;\">Option B- <strong>Hartman's operation</strong> is indicated in <strong>elderly</strong> and <strong>frail patients</strong> who has poor anal sphincter function or postoperative incontinence. In this surgery, colorectal excision is done along with the closure of the rectal stump and permanent proximal colostomy.</p>\n<p style=\"text-align: justify;\">Option D- <strong>Endoluminal stent</strong> is indicated in patients with <strong>obstructive rectal carcinoma</strong> and also as a palliative procedure. Only rectosigmoid and upper rectal tumors are suitable for stenting because, in low cancers, stent impingement results in tenesmus.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 37-week primigravida has mild labor pains for 20 hours and the cervix is persistently 1 cm dilated but non-effaced. What would be the appropriate management?",
    "choices": [
      {
        "id": 1,
        "text": "Sedation and wait"
      },
      {
        "id": 2,
        "text": "Augmentation with oxytocin"
      },
      {
        "id": 3,
        "text": "Cesarean section"
      },
      {
        "id": 4,
        "text": "Amniotomy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p class=\"p1\">The given clinical scenario is suggestive of either<strong>&nbsp;prolonged latent phase</strong>. The appropriate management is to <strong>sedate the patient and wait.</strong></p>\n<p>The first stage of labour consists of two phases :</p>\n<ol>\n<li><strong>Latent phase</strong>: It is considered to begin at the time the woman first perceives regular uterine contractions and is characterized by gradual cervical change (up to 5 cm of cervical dilatation).</li>\n<li><strong> Active phase</strong>: This follows the latent phase and is characterized by regular painful uterine contractions, cervical effacement, and rapid cervical dilatation from 5&nbsp;cm to full dilatation.</li>\n</ol>\n<p>A latent phase that exceeds <strong>20 hours</strong> in <strong>primigravidae</strong> or <strong>14 hours</strong> in <strong>multiparae</strong> is termed as a prolonged latent phase of labour. Bed rest is the preferred treatment unless there is any indication for expediting the delivery.</p>\n<p>The presence of false labour pains for a long time may be confused with a prolonged latent phase. The differences between them include</p>\n<table style=\"width: 595px;\">\n<tbody>\n<tr>\n<td style=\"width: 163.15625px;\"><strong>Features</strong></td>\n<td style=\"width: 211.84375px;\"><strong>True labour pains</strong></td>\n<td style=\"width: 207px;\"><strong>False labour pains</strong></td>\n</tr>\n<tr>\n<td style=\"width: 163.15625px;\">Cervical dilatation and effacement</td>\n<td style=\"width: 211.84375px;\">Present</td>\n<td style=\"width: 207px;\">Absent</td>\n</tr>\n<tr>\n<td style=\"width: 163.15625px;\">Pain</td>\n<td style=\"width: 211.84375px;\">Lower abdomen and back, radiating to thighs</td>\n<td style=\"width: 207px;\">Lower abdomen only</td>\n</tr>\n<tr>\n<td style=\"width: 163.15625px;\">Show</td>\n<td style=\"width: 211.84375px;\">Present</td>\n<td style=\"width: 207px;\">Absent</td>\n</tr>\n<tr>\n<td style=\"width: 163.15625px;\">Bag of water</td>\n<td style=\"width: 211.84375px;\">Formed</td>\n<td style=\"width: 207px;\">Absent</td>\n</tr>\n<tr>\n<td style=\"width: 163.15625px;\">Relief with enema</td>\n<td style=\"width: 211.84375px;\">No</td>\n<td style=\"width: 207px;\">Yes</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Augmentation with</strong> <strong>oxytocin</strong> is done only in those patients who even after therapeutic rest <strong>continue</strong> to be in a&nbsp;<strong>prolonged latent phase</strong>.&nbsp;There is no indication of the <strong>cesarean section</strong> unless cephalopelvic disproportion is present.&nbsp;<strong>Amniotomy</strong> is not useful and should be avoided in patients with prolonged latent phases due to the <strong>risk of infections</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "As a senior resident in the OBG department, You would consider uterine artery embolization as a treatment option in all of the following cases except ________",
    "choices": [
      {
        "id": 1,
        "text": "Patient with Postpartum haemorrhage"
      },
      {
        "id": 2,
        "text": "Prior to the removal of Placenta accreta in Multiparous woman"
      },
      {
        "id": 3,
        "text": "Patient diagnosed with calcified and pedunculated submucous fibroids"
      },
      {
        "id": 4,
        "text": "Multiparous woman with menorrhagia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Uterine artery embolization</strong> is indicated in all the above-given cases except in a patient with calcified and pedunculated submucous fibroids.</p>\n<p>A calcified fibroid does not shrink with the procedure. The pedunculated fibroids can fall off after the procedure resulting in intrauterine or peritoneal infections.</p>\n<p>Hence, the calcified, submucous, and subserous types of fibroids are <strong>contraindications</strong> for this procedure.&nbsp;</p>\n<p class=\"p1\"><strong>Other indications</strong> for&nbsp;Uterine artery embolization(UAE) include,</p>\n<ul>\n<li class=\"p1\">Postpartum hemorrhage.</li>\n<li class=\"p2\">Placenta accreta to reduce bleeding prior to placental removal, or caesarean delivery.</li>\n<li class=\"p1\">This technique&nbsp;is most suited for menorrhagia in a multiparous woman</li>\n</ul>\n<p class=\"p1\"><span class=\"s1\"><strong>Technique:</strong></span></p>\n<ul>\n<li>Under local sedation, bilateral UAE is ap&shy;proached through percutaneous femoral catheterization.</li>\n<li>It is done using polyvinyl alcohol (PVA), gel foam particles or metal coils.</li>\n</ul>\n<p class=\"p1\">Embolization reduces vascularity and the size of the fibroid in 3&ndash;4 months</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f9910f7a076046dab193b56eac42c1eax1280x2026.JPEG"
    ]
  },
  {
    "text": "A 30-year-old G2P1L1 woman is 18 weeks pregnant. She mentions that her previous labor was prolonged and tedious and eventually the doctor used an instrument to deliver her first child. Which of the following measurements would point towards the diagnosis of cephalo-pelvic disproportion at the pelvic inlet?",
    "choices": [
      {
        "id": 1,
        "text": "Interspinous diameter  < 8 cm"
      },
      {
        "id": 2,
        "text": "Diagonal conjugate  < 11.5 cm"
      },
      {
        "id": 3,
        "text": "Interischial diameter  < 8 cm"
      },
      {
        "id": 4,
        "text": "Transverse diameter < 13 cm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario is suggestive of the diagnosis as <strong>cephalo-pelvic disproportion (CPD).</strong> Cephalo-pelvic disproportion at the pelvic <strong>inlet</strong> is diagnosed when the <strong>diagonal conjugate &lt; 11.5 cm.</strong></p>\n<div class=\"page\" title=\"Page 432\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Disproportion with respect to the maternal pelvis is a state where the normal proportion between the size of the fetus to the size of the pelvis is disturbed. The disparity in the relation between the head and the pelvis is called cephalopelvic disproportion.</p>\n<p>It can either occur due to an average size baby with a small pelvis or a relatively large baby with a normal pelvis. A\u00a0history of <strong>prolonged or tedious</strong> <strong>labor</strong>, followed by either spontaneous or difficult <strong>instrumental delivery</strong> is suggestive of <strong>pelvic contraction</strong>. Difficult vaginal delivery ending in a stillborn or neonatal death without any etiological factor also suggests a contracted pelvis. Past history of fracture, <strong>rickets, osteomalacia, tuberculosis</strong> of the pelvic joints or spines, and <strong>poliomyelitis</strong> is elicited.</p>\n<p>CPD can occur at the inlet, mid pelvis, or at the pelvic outlet. It is diagnosed at these levels by the following measurements.</p>\n</div>\n</div>\n</div>\n</div>\n<ul>\n<li><strong>Inlet CPD</strong>\n<ul>\n<li>Anteroposterior diameter &lt; 10 cm</li>\n<li><strong>Diagonal conjugate &lt; 11.5 cm</strong></li>\n<li><strong>Transverse diameter &lt; 12 cm.</strong></li>\n</ul>\n</li>\n<li><strong>Midpelvis CPD</strong>\n<ul>\n<li>Sum of the interspinous and posterior sagittal diameters of the mid pelvis &lt;/= 13.5 cm</li>\n<li><strong>Interspinous diameter &lt; 8 cm</strong></li>\n</ul>\n</li>\n<li><strong>Outlet CPD</strong>\n<ul>\n<li><strong>Interischial diameter &lt;/= 8 cm.</strong></li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Regarding resuscitation and care of a neonate with suspected/symptomatic COVID-19, which of the following is true?",
    "choices": [
      {
        "id": 1,
        "text": "All neonates should be tested at birth using serology"
      },
      {
        "id": 2,
        "text": "Indications for intubation remain unchanged in this scenario"
      },
      {
        "id": 3,
        "text": "Endotracheal administration of drugs is recommended"
      },
      {
        "id": 4,
        "text": "Breastfeeding should be avoided in the first week"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>&nbsp;Guidelines for Neonatal management of a baby born to COVID19 positive mother include:</strong></p>\n<ol>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Mother and child should be separated from each other.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Colocation / Rooming-in should be avoided as and when possible.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">If the situation demands rooming-in or if the mother does not have a healthy caregiver or if she is not consenting to the separation, arrangements have to be made accordingly. A screen can be placed in between the two and a distance of 6 feet minimum can be maintained between the two.&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Breastfeeding is not contraindicated in COVID19 infected mothers.</strong>&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Mother can express the breastmilk using a dedicated breast pump and ask the caregiver to feed the child. If a dedicated breast pump is not available,&nbsp;all parts<br />that come into contact with breast milk should be thoroughly washed and the entire pump should be appropriately disinfected as per the manufacturer&rsquo;s instructions after each pumping session.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">In case the caregiver is not available, she can feed the child directly wearing a face mask and she must follow hand hygiene properly.</li>\n</ol>\n<p><strong>Guidelines regarding testing of neonates with suspected COVID-19 include:</strong></p>\n<ol>\n<li>Diagnosis should be confirmed with RT-PCR and swabs can be collected from the nasopharynx, oropharynx or nasal areas. <strong>Serology testing for acute infection in neonates is not currently recommended.&nbsp;</strong></li>\n<li>All neonates born to mothers who are COVID-19 positive or who have known exposure to a person with COVID-19, regardless of whether they are symptomatic or asymptomatic, should be tested at birth or within 24 hours of age. If the initial test results are negative or unavailable, they should be tested again at 5-14 days of birth/exposure. If new symptoms develop, they should be tested immediately.</li>\n<li>At least one test should be performed prior to discharge, if discharge is anticipated prior to 48 hours.&nbsp;</li>\n<li>In areas with limited testing capacity, testing should be prioritized for those neonates with signs suggestive of COVID-19 as well as those with SARS-CoV-2 exposure who require higher levels of care or who are expected to have prolonged hospitalizations depending on the mode of delivery.&nbsp;</li>\n</ol>\n<p><strong>Guidelines regarding neonatal resuscitation include:</strong></p>\n<ol>\n<li>Resuscitation should be done in a room earmarked for this purpose in a physically separated area. If not, at least 2m of distance should be maintained between the mother and the baby</li>\n<li>Delayed cord clamping and skin-to-skin may be practiced</li>\n<li>Mother should wear a triple layer mask and practice hand hygiene</li>\n<li>The resuscitation algorithm remains unchanged</li>\n<li><strong>Indications for intubation are unchanged</strong></li>\n<li><strong>Endotracheal administration of medications should be avoided as much as possible</strong></li>\n<li>Bathing is not recommended due to the risk of hypothermia and infections</li>\n<li>CPAP to be preferred over high flow nasal cannula and NIPPV</li>\n<li>The area providing respiratory support should be a negative-pressure area</li>\n</ol>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<p><strong>Note:</strong></p>\n<p><strong>According to CDC guidelines, if the first neonatal RT-PCR test is negative, the second test should be performed at 48 hours of age. But IAP guidelines, as mentioned above recommend doing a second test at 5-14 days.&nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 6-year-old boy who is a known case of protein C deficiency presents with a painful limp on the right side. His parents give a history of limping after he comes home from playing, 1 week back. On examination,  he is afebrile. The boy whines with pain during passive movement of the hip. The range of motion is restricted in the abduction and internal rotation. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Developmental dysplasia of hip"
      },
      {
        "id": 2,
        "text": "Slipped capital femoral epiphysis"
      },
      {
        "id": 3,
        "text": "Perthes disease"
      },
      {
        "id": 4,
        "text": "Septic arthritis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most likely diagnosis is <strong>Perthes disease</strong>.</p>\n<p><strong>Perthes disease</strong>, also known as Legg-Calve-Perthes disease, is the avascular necrosis of the proximal femoral epiphysis. It is <strong>most commonly</strong> seen in the age group of\u00a0<strong>4-8 years</strong>. The incidence is more in boys than girls. It is usually unilateral disease but can occur bilaterally in 10% of the cases. Risk factors include low birth weight, passive smoking, family history, low socioeconomic status, and attention deficit hyperactivity disorder. Perthes disease is associated with thrombophilia,<strong> protein C </strong>and<strong> S deficiencies.</strong></p>\n<p>The disease is characterized by the disruption of blood flow to the femoral head due to which the bone goes for <strong>osteonecrosis</strong> and <strong>stops growing</strong>. The lateral epiphyseal artery, a branch of the medial circumflex femoral artery is involved. Over time, healing and fibrosis occur by new blood vessels infiltrating the dead bone and removing the necrotic bone which leads to a loss of bone mass and weakening of the femoral head.\u00a0</p>\n<p>Clinical features include<strong>\u00a0pain</strong> and <strong>limping</strong>. Pain aggravates on doing any activity and relieves by rest. Physical examination reveals pain on passive movement of the hip and\u00a0<strong>abduction with internal rotation</strong>\u00a0movement is<strong> limited</strong>.</p>\n<p>Xray findings depend on the stages\u00a0</p>\n<ul>\n<li><strong>Initial phase</strong>: Medial joint space widening and increased density in the ossific nucleus</li>\n<li><strong>Fragmentation phase</strong>: Alternating patches of sclerosis and fibrosis</li>\n<li><strong>Re-ossification phase</strong>: Complete removal of necrotic bone. Epiphyseal density is regained in this phase</li>\n<li><strong>Remodelling phase</strong>: Remodelling occurs until skeletal maturity is attained</li>\n</ul>\n<p>The below radiograph shows features of bone necrosis followed by remodelling in Perthes disease.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7abac8ef9c63430eac8bc81ab98408d2x720x513.PNG"
    ]
  },
  {
    "text": "A 28-year-old G2P1L1, previous lower segment cesarean section, is brought to the hospital in an emergency with abdominal pain, hematuria, and vaginal bleeding. On examination, fetal bradycardia is seen and the fetal heart rate tracing is non-reassuring. The anesthetic technique of choice in this situation is____",
    "choices": [
      {
        "id": 1,
        "text": "General anesthesia"
      },
      {
        "id": 2,
        "text": "Spinal anesthesia"
      },
      {
        "id": 3,
        "text": "Epidural anesthesia"
      },
      {
        "id": 4,
        "text": "Caudal anesthesia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>A case of previous LSCS with symptoms of abdominal pain, hematuria and signs of fetal bradycardia, and a non-reassuring fetal heart rate tracing is suggestive of <strong>uterine scar dehiscence. </strong>So,<strong> emergency cesarean section </strong>is indicated.</p>\n<p><strong>General anesthesia</strong> is the preferred choice considering the emergency nature of surgery and the possibility of hemodynamic instability of impending uterine rupture.</p>\n<p>General anesthesia is preferred in certain emergency conditions such as:</p>\n<ul>\n<li>Massive bleeding (placenta previa or accreta, abruption placentae, or uterine rupture)</li>\n<li>Coagulopathy</li>\n<li>Hemodynamic instabilty</li>\n<li>Severe fetal distress</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 21-year-old male patient who is an athlete presents with pruritus of the groin. Examination of the groin reveals the following findings. He is diagnosed with a fungal infection. Which of the following is the most probable causative organism?",
    "choices": [
      {
        "id": 1,
        "text": "Exophiala werneckii"
      },
      {
        "id": 2,
        "text": "Trichophyton rubrum"
      },
      {
        "id": 3,
        "text": "Malassezia furfur"
      },
      {
        "id": 4,
        "text": "Trichosporon beigelii"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario and the image showing dry, erythematous, and a circumferential lesion in the groin is suggestive of <strong>tinea cruris</strong>. The most probable causative organism among the given options for tinea cruris is <em><strong>Trichophyton rubrum</strong>.&nbsp;</em></p>\n<p>Tinea cruris, or jock itch, refers to an infection that can involve the genital, pubic, perineal, and perianal skin. It is usually caused by dermatophytes like&nbsp;Trichyphyton rubrum or Epidermophyton floccosum.&nbsp;</p>\n<p>T. rubrum belongs to the<strong> dermatophyte</strong> group.<strong>&nbsp;</strong>Dermatophytes are classified as <strong>microsporum, trichophytoin, </strong>and<strong> epidermophyton</strong>. They are <strong>hyaline, filamentous fungi</strong> that enzymatically digest the keratin.&nbsp;Dermatophytes cause infection of the keratin-containing structures. These include the skin, hair, and nails.&nbsp;</p>\n<p>Infections caused by dermatophytes include the following:&nbsp;</p>\n<ul>\n<li><strong>Tinea barbae</strong> - beard 'barber's itch'&nbsp;</li>\n<li><strong>Tinea corporis</strong> - body&nbsp;</li>\n<li>Tinea imbricata - a type of tinea corporis that exists in the tropical climate</li>\n<li><strong>Tinea capitis</strong> - scalp&nbsp;</li>\n<li>Tinea cruris - groin 'jock itch'</li>\n<li>Tinea pedis - foot 'athlete's foot'</li>\n<li>Tinea manuum - hand</li>\n<li>Tinea unguium - nails&nbsp;</li>\n</ul>\n<p>The examination will reveal <strong>erythematous, pruritic, circular, scaly patches. &nbsp;</strong></p>\n<p>Diagnosis of dermatophyte infection is done with&nbsp;<strong>Wood's lamp</strong> which will reveal&nbsp;<strong>fluorescence</strong>.&nbsp;<strong>KOH preparation</strong> will reveal <strong>branching hyaline septate hyphae</strong>.&nbsp;Sabouraud dextrose agar is used to culture dermatophytes.&nbsp;</p>\n<p>Topical azoles like <strong>miconazole, clotrimazole</strong>, or <strong>terbinafine</strong> are used to treat dermatophyte infections.&nbsp;</p>\n<p>Other options:&nbsp;</p>\n<p>Option A -&nbsp;<strong>Exophiala weneckii</strong> causes <strong>tinea nigra</strong>, an&nbsp;infection of the <strong>stratum corneum</strong>&nbsp;in the areas of the <strong>palm</strong> leading to <strong>dark macules</strong>.&nbsp;</p>\n<p>Option C -&nbsp;<strong>Malassezia furfur&nbsp;</strong>causes pityriasis versicolor, also known as <strong>tinea versicolor</strong>. This fungus causes infection of the stratum corneum leading to discolored or depigmented macules over the thorax, abdomen, and upper limbs.&nbsp;</p>\n<p>Option D -&nbsp;<strong>Trichosporon beigelii</strong> causes <strong>white piedra</strong>, infection of the hair. It is characterized by firm, irregular nodules on the hair shaft.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5346448a5a204e6eb5c1fbc20f1d239e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "MRI rooms are shielded completely by a continuous sheet or wire mesh of copper to shield the imager from external electromagnetic radiation. It is called ______",
    "choices": [
      {
        "id": 1,
        "text": "Maxwell cage"
      },
      {
        "id": 2,
        "text": "Faraday cage"
      },
      {
        "id": 3,
        "text": "Edison\u2019s cage"
      },
      {
        "id": 4,
        "text": "Ohms cage"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>MRI rooms are shielded completely by a continuous sheet or wire mesh of copper called <strong>Faraday cage,</strong> which provides RF shielding.</p>\n<p>Radiofrequency shielding in MRI is crucial to prevent both external radiofrequency pulses from interfering with the detector and the radiofrequency pulses generated by the scanner from interfering with the external environment.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the correct statements about the deterministic effects of radiation.",
    "choices": [
      {
        "id": 1,
        "text": "1, 2 and 4 are correct"
      },
      {
        "id": 2,
        "text": "2, 3 and 4 are correct"
      },
      {
        "id": 3,
        "text": "1, 2, 3 and 5 are correct"
      },
      {
        "id": 4,
        "text": "3, 4 and 5 are correct"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Statements <strong>3, 4, and 5 are correct</strong> about the deterministic effects of radiation.</p>\n<p>The harmful effects of radiation may be classified into two general categories: <strong>Stochastic effects</strong> and <strong>nonstochastic/deterministic effects.</strong></p>\n<p><strong>Non-stochastic/Deterministic effects:&nbsp;</strong></p>\n<p>These effects <strong>do not occur below a threshold dose</strong>. The <strong>severity</strong> of the effect <strong>increases</strong> as the <strong>dose increases</strong>. These effects are associated with radiation-induced killing or malfunction of cells. Skin erythema, epilation, cataracts, and transient oligospermia are a few examples of nonstochastic/deterministic effects.</p>\n<p>The fetus is most vulnerable to deterministic effects of radiation between the <strong>2nd and 20th</strong> <strong>week of gestation</strong>. Usually, no deterministic effects occur at a dose below 100 mGy which is the threshold for most imaging modalities.</p>\n<p><strong>Stochastic effects:&nbsp;</strong></p>\n<p>Stochastic effects of ionizing radiation are chance events associated with <strong>damage to the DNA</strong> of cells. They may result in cancer or heritable effects. The <strong>incidence</strong> of these effects is<strong> directly proportionate to the dose of radiation</strong> in organs or tissues, but the <strong>severity</strong> of the effect is <strong>independent</strong> <strong>of the dose</strong> received. (<strong>All or none phenomenon</strong>)&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 37-year-old man reports that after suffering from sudden financial loss, he developed certain symptoms 2 weeks back. He started feeling fearful that someone is about to harm him, he could not sleep or eat properly. He also began to hear voices of a female and that voice would abuse him and say that he was useless and should kill himself. His symptoms stopped after approximately one week. There was no relevant past h/o, drug abuse history, or medical history? What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Schizophrenia"
      },
      {
        "id": 2,
        "text": "Schizophreniform disorder"
      },
      {
        "id": 3,
        "text": "Brief psychotic episode"
      },
      {
        "id": 4,
        "text": "Schizoaffective disorder"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A <strong>brief psychotic episode</strong> is a likely diagnosis in this scenario, as the symptoms are present for<strong> less than 30 days</strong>.</p>\n<div class=\"page\" title=\"Page 95\">\n<p class=\"p1\">The diagnosis of brief psychotic disorder in DSM-5 is based on the presence of one or more of the following psychotic symptoms for a period of at least<strong> 1 day but less than 1 month</strong>:</p>\n<p class=\"p1\" style=\"padding-left: 30px;\">1. Delusions,</p>\n<p class=\"p1\" style=\"padding-left: 30px;\">2. Hallucinations,</p>\n<p class=\"p1\" style=\"padding-left: 30px;\">3. Thought disorder as evidenced by disorganized speech, and</p>\n<p class=\"p1\" style=\"padding-left: 30px;\">4. Disorganized or catatonic behavior.</p>\n<p class=\"p1\">DSM-5 specifies that one of the first three symptoms must be present for the diagnosis to be made.</p>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Fmge Mini Test - 011';
        let hierarchy = ["Marrow", "FMGE Mini Test Series", "2022"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>