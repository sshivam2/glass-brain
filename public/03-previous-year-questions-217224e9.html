<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Forensic Medicine
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">25</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>A villager was assaulted by 4-5 people & brought to hospital in serious condition. His dying declaration was being taken in hospital. What is correct regarding this process?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Magistrate can record the statement"
      },
      {
        "id": 2,
        "text": "Doctor can record the statement"
      },
      {
        "id": 3,
        "text": "Leading questions can be asked"
      },
      {
        "id": 4,
        "text": "Oath is compulsory before recording the statement"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>\u00a0</p>\n\n<ul>\n\t<li>Ideally, a Magistrate should record the dying declaration to ensure authenticity and legality.</li>\n\t<li>In exceptional cases, when a Magistrate is unavailable and death is imminent, a doctor or even a police officer may record the statement</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Dying Declaration vs Dying Deposition</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:733px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Dying Declaration</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Dying Deposition</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Recorder</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Anyone\u2014Magistrate/doctor/village headman/police/any member of the public</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Always recorded by a Magistrate</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Oath </strong><strong>(Option D)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Not required</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Must be taken</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Accused or his counsel</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Not present</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Always present</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Cross-examination</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Not done</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Done</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Legal value</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Comparatively less</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Much more</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Admissibility if declarant survives</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Not admitted, but has corroborative value</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Fully admitted</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Nature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Merely recording of statement</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Complete court procedure</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Type of evidence</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Documentary</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Oral</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Status in India</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Followed</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Not followed</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p><strong>Leading Qs </strong><strong>(Option C)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Not Permitted</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #808080; border-left:1px solid #808080; border-right:1px solid #808080; border-top:1px solid #808080; vertical-align:top\">\n\t\t\t<p>Permitted</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Doctor can record the statement (Option B): </strong>Not ideal.</p>\n\n<ul>\n\t<li>A doctor can record the dying declaration only if a Magistrate is unavailable and death is imminent.</li>\n\t<li>However, the Magistrate is the preferred authority for legal validity.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A man was abducted from his home, and his son subsequently claimed rights to his father\u2019s property. As per Section 111 of the Bharatiya Sakshya Adhiniyam (BSA), until when is the son not entitled to claim inheritance?</p>",
    "choices": [
      {
        "id": 1,
        "text": "5 years"
      },
      {
        "id": 2,
        "text": "6 years"
      },
      {
        "id": 3,
        "text": "7 years"
      },
      {
        "id": 4,
        "text": "10 years"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C. 7 years</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Section 111 of the Bharatiya Sakshya Adhiniyam (BSA)</strong> states that a person who has been missing and not heard of for<strong> 7 years</strong> by those who would naturally have heard from them is <strong>presumed dead.</strong> Until those 7 years are completed, legal heirs <strong>cannot claim inheritance. </strong>The burden of <span class=\"customMeta\" data-dictid=\"c0a826cb6f1692777196ab8ab696e5\">proving</span> the fact of the missing lies on the person claiming the benefit of this presumption. For 7 years, property rights remain with the missing person\u2019s estate, and heirs cannot take possession.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>5 years (Option A):</strong> No legal presumption of death at 5 years; heirs cannot claim property before the statutory period.</p>\n\n<p><strong>6 years (Option B):</strong> Falls short of the legal requirement; property rights remain frozen until 7 years.</p>\n\n<p><strong>10 years (Option D):</strong> Longer than required by law; Section 111 specifically sets the period at 7 years, not 10.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A doctor receives two summons, one to appear in court in a murder case and another to provide expert medical opinion. Which of the following should the doctor prioritise?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Appearance in the murder case"
      },
      {
        "id": 2,
        "text": "Appearance for providing medical expert opinion"
      },
      {
        "id": 3,
        "text": "The summon received first"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct answer: A) Appearance in the murder case</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>A <strong>criminal court summons</strong> in a murder case generally carries a legal imperative and higher priority; attendance is mandatory unless legally excused.</li>\n\t<li>Providing expert opinion is important, but when faced with a direct court order in a criminal case, the legal obligation to appear in court for the criminal matter is prioritized.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Appearance for expert opinion (Option B):</strong> Important but typically subordinate to a direct criminal court summons.</p>\n\n<p><strong>The summon received first (Option C)</strong>: The timing of receipt does not override the legal gravity of a murder case summons.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>According to the Bharatiya Nyay Sanhita (BNS), which of the following is not classified as grievous hurt?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Pain lasting for 5 days"
      },
      {
        "id": 2,
        "text": "Elbow dislocation"
      },
      {
        "id": 3,
        "text": "Emasculation"
      },
      {
        "id": 4,
        "text": "Fracture of a tooth"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Pain lasting for 5 days</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Pain lasting for 5 days</strong> is incorrect as it does not meet the criteria for grievous hurt, as the law specifies a minimum duration of <strong>15 days</strong> of severe bodily pain or inability to follow ordinary pursuits.</p>\n\n<p><strong>BNS 116 (Old Section 320 IPC) defines following injuries as grievous: </strong></p>\n\n<ol>\n\t<li>Emasculation (cutting off the penis, castration, or causing loss of power of <span class=\"customMeta\" data-dictid=\"322d94cd5816927771872f3d8d132b\">erection</span> due to <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> injury). <strong> (Option C)</strong></li>\n\t<li>Permanent privation of the sight of either eye.</li>\n\t<li>Permanent privation of the hearing of either ear.</li>\n\t<li>Privation of any member (part, organ, limb) or joints</li>\n\t<li>Destruction or permanent impairing of powers of any member or joint.</li>\n\t<li>Permanent disfiguration of head or face.</li>\n\t<li>Fracture or <span class=\"customMeta\" data-dictid=\"c1aae6e67f169277718624a4e51cfe\">dislocation</span> of a bone or a tooth. <strong>(Option B and D ruled out)</strong></li>\n\t<li>Any hurt which endangers life, or which causes the sufferer to be, during the space of 15 days, in severe bodily pain, or unable to follow his daily routine. <strong>(Option A)</strong></li>\n</ol>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>The authority who investigates the death of a 14-year-old girl who was abducted by a man and subsequently died while in police custody will be?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Coroner"
      },
      {
        "id": 2,
        "text": "Police"
      },
      {
        "id": 3,
        "text": "Medical examiner"
      },
      {
        "id": 4,
        "text": "Judicial magistrate"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Judicial magistrate</strong></p>\n\n<p><strong>Explanation:As per Section 176 CrPC</strong> (Code of Criminal Procedure, India), when a person dies in police custody or under suspicious circumstances, the investigation must be conducted by a Judicial Magistrate.</p>\n\n<p><strong>Key Reasons:</strong></p>\n\n<ul>\n\t<li>Judicial Magistrate ensures an impartial and independent inquiry.</li>\n</ul>\n\n<p><strong>Mandatory for cases involving:</strong></p>\n\n<ul>\n\t<li>Death in police custody.</li>\n\t<li>Death of minors under suspicious circumstances.</li>\n\t<li>Death due to <span class=\"customMeta\" data-dictid=\"69ae073b9f169277718021ae773099\">abduction</span> or unnatural causes.</li>\n</ul>\n\n<p><strong>Coroner (Option A): </strong>Outdated in India, previously investigated unnatural deaths.</p>\n\n<p><strong>Police (Option B): </strong>Cannot investigate deaths occurring in their custody independently due to conflict of interest.</p>\n\n<p><strong>Medical Examiner (Option C): </strong>Conducts autopsies but does not have legal authority for formal investigation.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 13-year-old girl is brought to the OPD by her mother with a complaint of abdominal pain. The patient's urine pregnancy test (UPT) is positive. What should be the first step by you as a medical officer?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Start physical examination"
      },
      {
        "id": 2,
        "text": "Inform the police"
      },
      {
        "id": 3,
        "text": "Take consent from the patient's mother"
      },
      {
        "id": 4,
        "text": "Preserve the patient's clothes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Inform the police</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>In cases involving minors with a positive pregnancy test, suspicion of sexual assault or abuse must be considered. The first step is to <strong>notify the police</strong>, as per the Protection of Children from Sexual Offenses (POCSO) Act, which mandates mandatory reporting of such cases to protect the child and initiate an investigation.</li>\n</ul>\n\n<p><strong>Protection of Children from Sexual Offences (POCSO) Act</strong></p>\n\n<ul>\n\t<li>Enacted in 2012, it is law in India designed to protect children under the age of 18 from sexual abuse, sexual harassment, and pornography.</li>\n</ul>\n\n<p><strong>Key Features of the POCSO Act:</strong></p>\n\n<ul>\n\t<li>Gender-neutral law</li>\n\t<li>It covers penetrative and non-penetrative assault, sexual harassment, and use of children for pornography</li>\n\t<li>Burden of proof is on the accused, unlike many other criminal laws where the burden is on the prosecution</li>\n\t<li>Mandatory reporting by adults and failure to do so can be punishable</li>\n\t<li>Special courts for the trial of offenses to ensure a child-friendly environment</li>\n\t<li>Identity of the victim is to be protected, and the proceedings are to be conducted in camera to prevent exposure</li>\n</ul>\n\n<p><strong>Recent Changes and Developments in the POCSO Act:</strong></p>\n\n<ul>\n\t<li><strong>2019 Amendment</strong>\n\n\t<ul>\n\t\t<li>Stricter Punishments: Death penalty for aggravated sexual assault against children</li>\n\t\t<li>The minimum punishment for penetrative sexual assault increased to 10 years, and for aggravated penetrative sexual assault increased to 20 years, with the possibility of life imprisonment or death in extreme cases.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Fast-track Courts</strong> to ensure swift disposal of POCSO cases, given the backlog of pending cases.</li>\n\t<li><strong>Clarifications on \u2018Touch\u2019 and Sexual Intent:</strong>\n\t<ul>\n\t\t<li>The intent behind physical contact is crucial in determining whether it qualifies as an offense under POCSO.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Digital Crimes Against Children: </strong>\n\t<ul>\n\t\t<li>Provisions related to the use of children for pornographic and online exploitation purposes have been emphasized with stricter penalties.</li>\n\t</ul>\n\t</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A forensic expert received a summons from the district court to record his evidence in a criminal case, but two days prior, he already received a summons for a civil case in the same district court for the same date. What should the doctor do?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Inform both courts and wait."
      },
      {
        "id": 2,
        "text": "Attend the court for which the summons came first."
      },
      {
        "id": 3,
        "text": "Attend the court for the criminal case."
      },
      {
        "id": 4,
        "text": "Do not attend either court."
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n\t<li><strong>Criminal cases take precedence over civil cases due to their public importance and urgency. </strong></li>\n\t<li>The <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">forensic</span> expert must attend the criminal case and inform the civil court about the conflict, requesting a rescheduled date.</li>\n\t<li>Ignoring a court summons can lead to legal consequences, so prioritizing the criminal case is mandatory.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Summons/Subpoena: </strong></p>\n\n<ul>\n\t<li>A subpoena is a legal order mandating a witness to appear before a court on a specific date, time, and location to provide testimony or evidence, under penalty.</li>\n</ul>\n\n<ul>\n\t<li>A subpoena is issued by the court in writing, signed by the presiding officer, and carries the court's official seal <strong>(Sec. 63 BNSS)</strong>.</li>\n\t<li>Delivered to the witness by a police officer, court official, or public servant.</li>\n\t<li>The witness must sign and return a duplicate copy of the subpoena to acknowledge receipt <strong>(Sec. 64 BNSS).</strong></li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Types of Subpoenas</strong></p>\n\n<ol>\n\t<li><strong>Subpoena duces tecum</strong>:\n\n\t<ul>\n\t\t<li>The witness is required to bring specific documents or items to the court (e.g., medico-legal reports or <span class=\"customMeta\" data-dictid=\"88bcb684bf169277719687b1e4d84b\">postmortem</span> findings).</li>\n\t\t<li>For expert witness.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Subpoena ad testificandum</strong>:\n\t<ul>\n\t\t<li>The witness is required to appear in court to provide oral testimony.</li>\n\t\t<li>For common witnesses.</li>\n\t</ul>\n\t</li>\n</ol>\n\n<p>\u00a0</p>\n\n<p><strong>Punishment for Failing to Comply with a Subpoena/Summons:</strong></p>\n\n<p><strong>1. Civil Cases:</strong></p>\n\n<ul>\n\t<li>The witness may be ordered to pay <strong>damages</strong> for failing to attend court. This involves compensation for the inconvenience caused to the parties involved in the case.</li>\n</ul>\n\n<p><strong>2. Criminal Cases:</strong></p>\n\n<p>If a witness fails to appear in court without a justified reason, the following actions can be taken:</p>\n\n<ul>\n\t<li>Under <strong>63 \u2013 71 BNSS</strong>, the court may issue a notice to the witness to explain their absence.</li>\n\t<li>The court may issue notice under <strong>Section 389, BNSS </strong>and after hearing the witness, if it finds that the witness neglected to attend the court without a justified reason, may punish him under <strong>Section 208 and 209, BNS</strong>, and sentence him/her to:\n\t<ul>\n\t\t<li>A fine (Rs.1000/-), OR</li>\n\t\t<li>Imprisonment (6 months), OR</li>\n\t\t<li>Both fine and imprisonment.</li>\n\t</ul>\n\t</li>\n\t<li>Also, the Court may issue bailable or non-bailable warrants to secure the presence of the witness (<strong>S.206 to 209, BNS and S.90, BNSS</strong>).</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Prioritization of Summons:</strong></p>\n\n<ul>\n\t<li><strong>Criminal vs. Civil Courts</strong>: If a witness is summoned by both criminal and civil courts for the same day, they must attend the <strong>criminal court</strong>, which takes precedence.</li>\n\t<li><strong>Higher vs. Lower Courts</strong>: When summoned by two courts of the same jurisdiction (e.g., civil or criminal), the witness must attend the <strong>higher court</strong> first.</li>\n\t<li><strong>Multiple Summons</strong>: If the witness receives multiple summonses from the same type of court, they should attend the court that issued the first summons and notify the other.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Inform both courts and wait (Option A):</strong> While informing both courts is a good step, simply waiting without <span class=\"customMeta\" data-dictid=\"ef5bd5f4921692777182e51705f0cf\">attending</span> either court is not advisable, as it could lead to legal consequences.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Attend the court for which the summons came first (Option B):</strong> The order in which the summons were received does not determine priority. The nature of the case (criminal vs. civil) takes precedence.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Do not attend either court (Option D):</strong> Ignoring court summons can result in contempt of court or other legal penalties.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A married female died in unnatural condition within 3 years of marriage. Her father filed a report to police and inquiry will be done under which section?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "194 BNSS/174 CrPC"
      },
      {
        "id": 2,
        "text": "196 BNSS/176 CrPC"
      },
      {
        "id": 3,
        "text": "116 BNS & 194 BNSS"
      },
      {
        "id": 4,
        "text": "106 BNS & 194 BNSS"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>\u00a0</p>\n\n<p>In cases of a married woman's unnatural death within 7 years of marriage, a <strong>Magistrate-led inquiry</strong> is mandatory under <strong>Section 176 CrPC (or Section 196 BNSS)</strong>. This ensures a thorough and impartial investigation, especially when<strong> foul play, suicide, or dowry-related violence is suspected. </strong></p>\n\n<p>\u00a0</p>\n\n<p>In India, there are two types of inquests: police <span class=\"customMeta\" data-dictid=\"ab7665b07e1692777190e4d2f4bc82\">inquest</span> and magistrate inquest.</p>\n\n<p>\u00a0</p>\n\n<p><strong>1. Police <span class=\"customMeta\" data-dictid=\"ab7665b07e1692777190e4d2f4bc82\">Inquest</span> </strong><strong><u>(Section 194, BNSS)</u></strong></p>\n\n<ul>\n\t<li><strong>Most common type</strong> of <span class=\"customMeta\" data-dictid=\"ab7665b07e1692777190e4d2f4bc82\">inquest</span> in India.</li>\n\t<li>Conducted by a <strong>police officer</strong>, generally not below the rank of <strong>Head Constable</strong>.</li>\n</ul>\n\n<p>The police officer, upon receiving information about the unnatural death, visits the site.</p>\n\n<p>\u2193</p>\n\n<p>Involves <strong>two or more witnesses</strong> from the local area, called <strong>panchas</strong>, to assist in the investigation. The report is <span class=\"customMeta\" data-dictid=\"047f8930dd1692777197fed61e213c\">referred</span> to as a <strong>panchnama</strong>.</p>\n\n<p>\u2193</p>\n\n<p>If the <span class=\"customMeta\" data-dictid=\"254dc5106d1692777183ba9ab1b3e5\">cause of death</span> appears to be <span class=\"customMeta\" data-dictid=\"fb7ff97e071692777180252299cf10\">accidental</span> or non-suspicious, the body is handed over to the family for funeral proceedings.</p>\n\n<p>\u2193</p>\n\n<p>In case of <strong>suspicious circumstances</strong>, the police officer forwards the body for a <strong>postmortem</strong> to a certified medical officer and sends the report to the <strong>Magistrate</strong>.</p>\n\n<p>\u00a0</p>\n\n<p><strong>2. Magistrate <span class=\"customMeta\" data-dictid=\"ab7665b07e1692777190e4d2f4bc82\">Inquest</span> </strong><strong><u>(Section 196, BNSS)</u></strong></p>\n\n<ul>\n\t<li>Conducted by an <strong>Executive Magistrate</strong>, or <strong>Judicial Magistrate</strong>.</li>\n</ul>\n\n<ul>\n\t<li>It's mandatory in specific circumstances, including:\n\t<ul>\n\t\t<li>Death, the <strong>disappearance</strong> of a person, or <strong>alleged rape</strong> in<strong> police custody</strong> or any custody authorized by the court</li>\n\t\t<li>Deaths due to<strong> police firing</strong></li>\n\t\t<li>Deaths in<strong> jail</strong></li>\n\t\t<li>Deaths of women <strong>within 7 years of marriage</strong> if,\n\t\t<ul>\n\t\t\t<li>Commits<strong> suicide</strong></li>\n\t\t\t<li>In any circumstances raising a<strong> reasonable suspicion </strong>that some other person committed an offence</li>\n\t\t\t<li>Any relative of the woman has made a request on this behalf</li>\n\t\t\t<li>There is any doubt regarding the cause of death</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li>Deaths where there's <strong>suspicion of rape </strong>before death</li>\n\t\t<li>Deaths with<strong> suspicion of foul play </strong>or where a relative of the deceased has made a request</li>\n\t</ul>\n\t</li>\n\t<li>Also conducted if the case is <span class=\"customMeta\" data-dictid=\"047f8930dd1692777197fed61e213c\">referred</span> by police due to suspicion arising during their investigation</li>\n\t<li>An inquiry by a<strong> Judicial Magistrate or Metropolitan Magistrate is required in instances of custodial death, disappearance, or custodial rape where foul play is suspected or there are allegations of an offense.</strong> In all other situations, the inquiry can be conducted by an Executive Magistrate.</li>\n\t<li>The magistrate is responsible for forwarding the body for <span class=\"customMeta\" data-dictid=\"88bcb684bf169277719687b1e4d84b\">postmortem</span> examination to a Civil Surgeon or another authorized doctor within <strong>24 hours</strong> of the death.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Differences Between Police and Magistrate Inquests:</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Police Inquest</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Magistrate Inquest</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Conducted by</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Police officer</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Magistrate (DM, SDM, Judicial, or Executive Magistrate)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Involvement of witnesses</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Requires signatures of panchas</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Does not require witness signatures</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Witness statements</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Admissible in court</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Not admissible in court</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Can order arrest</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>No, but can arrest in cognizable offenses</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Can issue arrest warrants</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Exhumation</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Cannot order exhumation</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Can order <span class=\"customMeta\" data-dictid=\"9ede3648ef1692777187540bde750b\">exhumation</span> of a body</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Autopsy orders</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Sends bodies for <span class=\"customMeta\" data-dictid=\"f0b5c46ede1692777182013e65115b\">autopsy</span> indiscriminately</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Orders <span class=\"customMeta\" data-dictid=\"f0b5c46ede1692777182013e65115b\">autopsy</span> only when necessary</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Forensic analysis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Cannot order chemical analysis of viscera</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Can order chemical analysis</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Who order the autopsy in case of RTA?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Forensic expert"
      },
      {
        "id": 2,
        "text": "Police"
      },
      {
        "id": 3,
        "text": "Lawyer"
      },
      {
        "id": 4,
        "text": "forensic doctor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - Police:</strong></p>\n\n<p>In cases of Road Traffic Accidents (RTA), the police are responsible for ordering an <span class=\"customMeta\" data-dictid=\"f0b5c46ede1692777182013e65115b\">autopsy</span> to determine the cause of death. This is part of their duty to investigate the circumstances surrounding the death and to ensure proper legal procedures are followed. The police will request an <span class=\"customMeta\" data-dictid=\"f0b5c46ede1692777182013e65115b\">autopsy</span> if there is a need to understand the <span class=\"customMeta\" data-dictid=\"254dc5106d1692777183ba9ab1b3e5\">cause of death</span> more clearly or if it is required for legal reasons.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">Forensic</span> expert:</strong></p>\n\n<p>A <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">forensic</span> expert conducts the <span class=\"customMeta\" data-dictid=\"f0b5c46ede1692777182013e65115b\">autopsy</span> but does not order it. The role of the <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">forensic</span> expert is to perform the examination and provide a report based on their findings.</p>\n\n<p><strong>Option C - Lawyer:</strong></p>\n\n<p>A lawyer may request an <span class=\"customMeta\" data-dictid=\"f0b5c46ede1692777182013e65115b\">autopsy</span> as part of legal proceedings, but they do not have the authority to order an <span class=\"customMeta\" data-dictid=\"f0b5c46ede1692777182013e65115b\">autopsy</span> in cases of RTA. Their role is generally more related to the legal representation of the parties involved.</p>\n\n<p><strong>Option D - <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">Forensic</span> doctor:</strong></p>\n\n<p>Similar to the <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">forensic</span> expert, the <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">forensic</span> doctor performs the <span class=\"customMeta\" data-dictid=\"f0b5c46ede1692777182013e65115b\">autopsy</span> but does not order it. The <span class=\"customMeta\" data-dictid=\"d505e5aff31692777203af0565576c\">forensic</span> doctor provides medical expertise in the examination and interpretation of findings.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which <span class=\"marker\">article in the constitution does not pertain to children</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Article21A"
      },
      {
        "id": 2,
        "text": "Article24"
      },
      {
        "id": 3,
        "text": "Article45"
      },
      {
        "id": 4,
        "text": "Article 42"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option D -\u00a0Article </strong><strong>42:</strong></p>\n\n<ul>\n\t<li>\n\t<p>42,\" is the correct answer as it is not directly related to children.</p>\n\t</li>\n\t<li>\n\t<p>Article 42 of the Indian Constitution focuses on the provision of just and humane conditions of work and <strong>maternity relief. </strong></p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - Article 21A:</strong> Article 21A of the Indian Constitution relates to the<strong> Right to Education</strong>. It states that the State shall provide free and compulsory education to all children in the age group of 6 to 14 years.</p>\n\n<p><strong>Option B -\u00a0Article 24:</strong> Article 24 of the Indian Constitution deals with the <strong>prohibition of child labor.</strong></p>\n\n<p><strong>Option C - Article 45:</strong> Article 45 of the Indian Constitution pertains to the provision of <strong>early childhood care and education for children below the age of six years</strong>.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>The <span class=\"marker\">first-hand knowledge rule</span> is applicable to which of the following?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Common witness"
      },
      {
        "id": 2,
        "text": "Hand writing expert"
      },
      {
        "id": 3,
        "text": "Doctor"
      },
      {
        "id": 4,
        "text": "Hostile witness"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a0Common witness:</strong></p>\n\n<ul>\n\t<li>\n\t<p>The first-hand knowledge rule, also known as the firsthand or personal knowledge rule, is applicable to a common witness. A common witness is an individual who has observed or experienced an event directly and can provide testimony based on their own personal knowledge of the event.</p>\n\t</li>\n\t<li>\n\t<p>The first-hand knowledge rule requires that a witness's testimony be based on facts or information that they themselves have perceived through their own senses</p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option B - Hand writing expert</strong>: They rely on their specialized knowledge and training rather than personal observation or direct experience of the events related to the handwriting.</p>\n\n<p><strong>Option C - Doctor: </strong>A doctor may provide expert testimony based on their professional knowledge and experience rather than personal observation or direct experience of a specific event.</p>\n\n<p><strong>Option D\u00a0- Hostile witness</strong>: A hostile witness is a witness who is unwilling or uncooperative in providing testimony.the first-hand knowledge rule is not specifically applicable to hostile witnesses.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the <span class=\"marker\">appropriate course of action following the observation of cigarette burn marks on the forearm of a 14-year-old girl</span> who presents to a doctor with a fractured forearm, claiming to have fallen and hit her hand?</p>",
    "choices": [
      {
        "id": 1,
        "text": "To inform higher authorities"
      },
      {
        "id": 2,
        "text": "To do a complete physical examination"
      },
      {
        "id": 3,
        "text": "To tell or discuss with colleagues that she is a case of abuse"
      },
      {
        "id": 4,
        "text": "To call local social worker for help"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B -\u00a0To do a complete physical examination:</strong></p>\n\n<ul>\n\t<li><strong>\u00a0</strong>When a 14-year-old girl presents with a fractured <span class=\"customMeta\" data-dictid=\"258a5bb5841692777203cfb8e31f55\">forearm</span> and reports that she fell and hit her hand, it is essential for the doctor to conduct a thorough <span class=\"customMeta\" data-dictid=\"27ac5e3413169277719548c1b36288\">physical examination</span> to assess the extent of the injury and evaluate any associated findings.</li>\n</ul>\n\n<p><strong>Incorrect Options</strong>:</p>\n\n<p><strong>Option A\u00a0- To inform higher authorities</strong>: While it is important to address suspicions of abuse Before involving higher authorities, it is crucial to gather more information through a comprehensive examination.</p>\n\n<p><strong>Option C - To tell or discuss with colleagues that she is a case of abuse</strong>: Discussing the case with colleagues can provide additional insights, but it is necessary to gather more information through a comprehensive examination before making any <span class=\"customMeta\" data-dictid=\"32b854324a1692777185c6c79fdc99\">definitive</span> conclusions.</p>\n\n<p><strong>Option D -\u00a0To call a local social worker for help</strong>: To call a local social worker for help: In cases where abuse is suspected,it is crucial to gather more information through a thorough <span class=\"customMeta\" data-dictid=\"27ac5e3413169277719548c1b36288\">physical examination</span> and, if needed, reporting to higher authorities before contacting a social worker</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>If a <span class=\"marker\">healthcare professional is found guilty of professional misconduct</span>, they must provide the patient's records promptly upon request, within:</p>",
    "choices": [
      {
        "id": 1,
        "text": "72 hours"
      },
      {
        "id": 2,
        "text": "48 hours"
      },
      {
        "id": 3,
        "text": "24 hours"
      },
      {
        "id": 4,
        "text": "7 days"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a072 hours:</strong></p>\n\n<ul>\n\t<li>\n\t<p>In cases of professional misconduct, when a patient requests their medical records, the healthcare provider is obligated to provide the records within a specific timeframe. The correct timeframe for providing patient records on demand in the case of professional misconduct is typically within 72 hours.</p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<ul>\n\t<li><strong>Option B, C and D </strong>are incorrect. Refer to the explanation for the correct answer.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>When an <span class=\"marker\">individual commences employment with a second employer</span>, the new employer assumes responsibility for the individual's actions, <span class=\"marker\">under which doctrine</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Vicarious liability"
      },
      {
        "id": 2,
        "text": "Doctrine of negligent choice"
      },
      {
        "id": 3,
        "text": "Contributory negligence"
      },
      {
        "id": 4,
        "text": "Borrowed servant doctrine"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option D -\u00a0Borrowed servant doctrine:</strong></p>\n\n<ul>\n\t<li>When a person starts working for a second employer, the new employer may assume responsibility for their actions under the Borrowed Servant Doctrine.</li>\n\t<li>This doctrine applies when an employee is temporarily loaned or \"borrowed\" by another employer. In such cases, the borrowing employer assumes control over the borrowed employee and becomes responsible for their actions within the scope of their employment during the loaned period.</li>\n</ul>\n\n<p><strong>Incorrect Options</strong>:</p>\n\n<p><strong>Option\u00a0A\u00a0- <span class=\"customMeta\" data-dictid=\"1fcf72d3bf1692777202826005eabf\">Vicarious</span> liability</strong>: <span class=\"customMeta\" data-dictid=\"1fcf72d3bf1692777202826005eabf\">Vicarious</span> liability refers to a situation where one person or entity is held responsible for the actions of another person or entity.</p>\n\n<p><strong>Option\u00a0B\u00a0- Doctrine of negligent choice</strong>: The Doctrine of negligent choice refers to a legal principle that holds a party liable for choosing a negligent individual or entity to perform a task.</p>\n\n<p><strong>Option\u00a0C - Contributory negligence</strong>: Contributory negligence assigns partial blame to a plaintiff for their own injuries or damages due to their failure to exercise reasonable care.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p><span class=\"marker\">Death registration in India</span> done within?</p>",
    "choices": [
      {
        "id": 1,
        "text": "21 days"
      },
      {
        "id": 2,
        "text": "28 days"
      },
      {
        "id": 3,
        "text": "30 days"
      },
      {
        "id": 4,
        "text": "40 days"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a021 days:</strong></p>\n\n<ul>\n\t<li>\n\t<p>In India, death <span class=\"customMeta\" data-dictid=\"ecc2886bef169277719705c1e5adf2\">registration</span> is required to be done within 21 days (Option A) of the occurrence of the death. The <span class=\"customMeta\" data-dictid=\"b68340104b1692777197fb2ae30ade\">Registrar</span> of Births and Deaths, usually located at the local municipality or panchayat, is responsible for recording deaths and issuing death certificates.</p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<ul>\n\t<li><strong>Option B, C & D:\u00a0</strong>These options do not correspond to the prescribed time frame for death <span class=\"customMeta\" data-dictid=\"ecc2886bef169277719705c1e5adf2\">registration</span> in India, which is 21 days.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 16-year-old girl was rescued from a <span class=\"marker\">village in Bihar where she had been sold off by her father for Rs. 25000 to a 45-year-old man</span>. On examination, she was found to be <span class=\"marker\">12 weeks pregnant</span>. She was granted permission to <span class=\"marker\">abort the pregnancy, taking into consideration the age of the girl and the circumstances of her pregnancy</span>. A doctor who will be eligible to perform the abortion for this girl should have performed at least how many MTP prior to this?</p>",
    "choices": [
      {
        "id": 1,
        "text": "10"
      },
      {
        "id": 2,
        "text": "15"
      },
      {
        "id": 3,
        "text": "25"
      },
      {
        "id": 4,
        "text": "35"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C -\u00a025:\u00a0</strong></p>\n\n<ul>\n\t<li>According to the Medical <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">Termination</span> of Pregnancy Act in India, a doctor must have performed at least 25 MTPs (Option C) to be eligible to perform the abortion for this girl. This <span class=\"customMeta\" data-dictid=\"9167b944ea169277718582367e0915\">criterion</span> ensures that the doctor has sufficient experience and expertise in performing safe and legal abortions.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<ul>\n\t<li><strong>Option A, B & D\u00a0- 10, 15 & 35:\u00a0</strong>These options do not meet the requirement of having performed at least 25 MTPs as per the law.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A doctor was summoned as a public witness to appear and record his evidence in court. What is correct about this witness?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Oral evidence"
      },
      {
        "id": 2,
        "text": "Common witness"
      },
      {
        "id": 3,
        "text": "Expert witness"
      },
      {
        "id": 4,
        "text": "Hostile witness"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - Expert witness </strong></p>\n\n<ul>\n\t<li>This is the correct answer. An expert witness is someone who possesses specialized knowledge, skills, or expertise in a particular field that is relevant to the case. In the given scenario, a doctor is summoned as a witness. If the doctor's testimony is related to their medical expertise and is meant to provide insight and explanation to the court on medical matters, then they would be considered an expert witness</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - Oral evidence: </strong>Oral evidence refers to the testimony or statements provided by witnesses verbally in court. This option does not accurately describe the scenario in which a doctor is summoned as a witness. The scenario mentioned doesn't specifically emphasize the mode of evidence (oral or written) but focuses on the role of the witness.</p>\n\n<p><strong>Option B - Common witness: </strong>There is no standard term called \"common witness.\" Witnesses can be categorized based on various factors, but this <span class=\"customMeta\" data-dictid=\"1c785706ff169277720041cddf2d01\">terminology</span> isn't commonly used. The scenario doesn't provide enough information to suggest that the doctor in question is a \"common witness.\"</p>\n\n<p><strong>Option D - Hostile witness: </strong>A hostile witness is a term used to describe a witness who is uncooperative or openly antagonistic towards the party that called them to testify. This option is not applicable to the scenario provided, where a doctor is summoned as a public witness to record evidence in court.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which <span class=\"marker\">section of the Indian Penal Code (IPC) is associated with the penalization of perjury</span>?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "191"
      },
      {
        "id": 2,
        "text": "192"
      },
      {
        "id": 3,
        "text": "193"
      },
      {
        "id": 4,
        "text": "197"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - Section 193 of the Indian Penal Code (IPC):</strong></p>\n\n<ul>\n\t<li>\n\t<p>Section 193 of the IPC deals with the offense of giving false evidence in a judicial proceeding It specifies that whoever intentionally gives false evidence in any stage of a judicial proceeding, or fabricates false evidence intending it to be used in a judicial proceeding, shall be punished with imprisonment and/or a fine.</p>\n\t</li>\n\t<li>\n\t<p>This section specifically addresses the punishment of perjury, which involves knowingly making false statements while under <span class=\"customMeta\" data-dictid=\"7ba028341716927771941e1dc3b066\">oath</span> during a court proceeding.</p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A\u00a0- Section 191:\u00a0</strong>Section 191 of the IPC deals with the offense of giving false evidence</p>\n\n<p><strong>Option B\u00a0- Section 192</strong>: Section 192 of the IPC relates to the offense of fabricating false evidence.</p>\n\n<p><strong>Option D - Section 197:</strong> Under Section 197, if a person in an official capacity knowingly issues or signs a false certificate, they can be punished with imprisonment and or a fine.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the <span class=\"marker\">responsibility of the doctor in recording the dying declaration of a victim affected by a fire</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "To assess compos mentis"
      },
      {
        "id": 2,
        "text": "To record the statement even in the presence of magistrate"
      },
      {
        "id": 3,
        "text": "Cross-examine the person"
      },
      {
        "id": 4,
        "text": "Put the person under oath before declaration"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A -\u00a0To assess compos mentis:</strong></p>\n\n<ul>\n\t<li>When a dying declaration is being recorded, the role of the doctor is to <strong>assess the mental capacity of the person </strong>making the statement, also known as \"compos mentis.\"</li>\n\t<li>The doctor evaluates whether the person is of <strong>sound mind a</strong>nd capable of providing a coherent and reliable statement.</li>\n\t<li>This assessment helps determine the admissibility and credibility of the dying declaration as evidence in legal proceedings.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option\u00a0B\u00a0- To record the statement even in the presence of a magistrate</strong>: It is not the role of the doctor to record the statement in the presence of a magistrate</p>\n\n<p><strong>Option\u00a0C\u00a0- Cross-examine the person</strong>: Cross-examination is a legal procedure conducted by legal professionals, such as lawyers or prosecutors. It is not the role of the doctor to cross-examine the person giving the dying declaration.</p>\n\n<p><strong>Option\u00a0D\u00a0- Put the person under <span class=\"customMeta\" data-dictid=\"7ba028341716927771941e1dc3b066\">oath</span> before declaration: </strong>The doctor's role in recording a dying declaration does not involve putting the person under oath.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Please arrange the following <span class=\"marker\">clauses of IPC 320 in sequential order</span>.</p>\n\n<ol>\n\t<li>Destruction or permanent impairing of the power of any member or joint</li>\n\t<li>Permanent disfiguration of the head or face</li>\n\t<li>Emasculation</li>\n\t<li>Fracture or dislocation of a bone or tooth</li>\n</ol>",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3, 4"
      },
      {
        "id": 2,
        "text": "3, 2, 1, 4"
      },
      {
        "id": 3,
        "text": "3, 1, 2, 4"
      },
      {
        "id": 4,
        "text": "1, 4, 2, 3"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - 3, 1, 2, 4:</strong></p>\n\n<p>Grievous hurt: It <span class=\"customMeta\" data-dictid=\"89f5610ffd1692777184b03f1f88cc\">comes</span> under 320 IPC.</p>\n\n<ol>\n\t<li>Emasculation loss</li>\n\t<li>Permanent privation of the sight of either eye</li>\n\t<li>Permanent privation of the hearing of either ear</li>\n\t<li>Privation of any member or joint</li>\n\t<li>Destruction or permanent impairing of powers of any member or joint</li>\n\t<li>Permanent disfiguration of the head or face</li>\n\t<li>Fracture or <span class=\"customMeta\" data-dictid=\"c1aae6e67f169277718624a4e51cfe\">dislocation</span> of a bone or tooth</li>\n\t<li>Any hurt</li>\n</ol>\n\n<p><strong>Incorrect Options:</strong> Options A, B, and D are incorrect. Refer to the explanation of the correct answer.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>An 11 year old girl was found to be <span class=\"marker\">quiet and shy in her classroom with intermittent crying, for the past few days</span>. It was discovered that her uncle was touching her genitals inappropriately. The duty of the principal is to report this to?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Magistrate"
      },
      {
        "id": 2,
        "text": "Police"
      },
      {
        "id": 3,
        "text": "Child welfare committee"
      },
      {
        "id": 4,
        "text": "Parents"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B -\u00a0Police:</strong></p>\n\n<ul>\n\t<li>Reporting the incident to the police is crucial because they have the authority and responsibility to investigate cases of child abuse, including inappropriate touching or sexual abuse.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong>\u00a0</p>\n\n<p><strong>Option A - Magistrate</strong>: The police are the appropriate authority to handle the initial investigation and take immediate action to protect the child.</p>\n\n<p><strong>Option C - Child welfare committee</strong>: Child welfare committees play a crucial role in child protection, but the immediate action in cases of abuse is to report to the police.</p>\n\n<p><strong>Option D\u00a0- Parents</strong>: While it is important to inform the parents or guardians of the child about the incident, the primary responsibility of the principal in such cases is to report to the police.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Medical termination of pregnancy can be done upto 24 weeks in case of?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Congenital malformation"
      },
      {
        "id": 2,
        "text": "Minors"
      },
      {
        "id": 3,
        "text": "Contraception failure"
      },
      {
        "id": 4,
        "text": "Rape victim"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct\u00a0Option D -Rape victim:</strong></p>\n\n<ul>\n\t<li>Medical <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">termination</span> of pregnancy can be done upto 24 weeks in case of rape victims</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - <span class=\"customMeta\" data-dictid=\"421fecf0e21692777202704942ac48\">Fetus</span> malformation</strong>: Medical <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">termination</span> of pregnancy can be done beyond 24 weeks if the <span class=\"customMeta\" data-dictid=\"421fecf0e21692777202704942ac48\">fetus</span> is found to have severe malformations or abnormalities that are <span class=\"customMeta\" data-dictid=\"10dcdd93561692777190d73418c5a7\">incompatible</span> with life or would result in significant physical or mental challenges for the child.</p>\n\n<p><strong>Option B - Minors</strong>: Minors generally require parental or guardian consent for medical procedures, including abortion. The laws regarding abortion for minors can vary by country and jurisdiction, but typically there are provisions for involving parents or guardians in the decision-making process.</p>\n\n<p><strong>Option C - <span class=\"customMeta\" data-dictid=\"ec56ec0a50169277718538a912cf18\">Contraception</span> failure: </strong>Medical <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">termination</span> of pregnancy is not typically allowed solely due to <span class=\"customMeta\" data-dictid=\"ec56ec0a50169277718538a912cf18\">contraception</span> failure. However, if the failure of <span class=\"customMeta\" data-dictid=\"ec56ec0a50169277718538a912cf18\">contraception</span> leads to unwanted pregnancy and the woman's health or life is at risk, abortion might be considered based on medical assessment.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following <span class=\"marker\">statements does not apply during cross-examination in a court of law</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Witness is examined by the defense lawyer"
      },
      {
        "id": 2,
        "text": "Leading questions are not allowed"
      },
      {
        "id": 3,
        "text": "Objective of cross-examination is to weaken case of opponent"
      },
      {
        "id": 4,
        "text": "There is no time limit to cross examination"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B -\u00a0Leading questions are not allowed:</strong></p>\n\n<ul>\n\t<li>Leading questions are not allowed is an incorrect statement regarding cross-examination in a court of law. In fact, leading questions are often used during cross-examination to elicit specific information or to challenge the witness's testimony, under section 143 IEA. Therefore, the statement \"Leading questions are not allowed\" does not apply during cross-examination in a court of law.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - Witness is examined by the defense lawyer:</strong> That statement applies during cross-examination in a court of law. The defense lawyer has the right to cross-examine the witness in order to test their credibility and the reliability of their testimony.</p>\n\n<p><strong>Option C - Objective of cross-examination is to weaken case of opponent:</strong> The objective of cross-examination is to challenge the credibility, accuracy, and completeness of the witness's testimony, and to weaken the case presented by the opposing party. The cross-examining lawyer aims to <span class=\"customMeta\" data-dictid=\"387ff6837a16927771876363756d5a\">extract</span> information that may undermine the witness's testimony or support their own case.</p>\n\n<p><strong>Option D - There is no time limit to cross examination:</strong> The specific time limits may vary depending on the jurisdiction and the specific rules of the court, but they are generally in place to ensure that the trial proceeds in an efficient and timely manner.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>As an <span class=\"marker\">internal medicine consultant at a private clinic</span>, you are handling the case of a patient who has<span class=\"marker\"> chronic renal disease and needs hemodialysis</span>. You provide <span class=\"marker\">dietary and fluid management</span> recommendations and closely monitor the patient. Unfortunately, the <span class=\"marker\">patient decides to take ayurvedic supplements</span> and occasionally disregards your instructions without informing you. Consequently, the patient's condition deteriorates, leading to <span class=\"marker\">respiratory distress</span>. Subsequently, the patient's attendant files a legal complaint, accusing the doctor of negligence. Which of the <span class=\"marker\">following can serve as a defense for the doctor in court</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Vicarious liability"
      },
      {
        "id": 2,
        "text": "Res Ipsa loquitur"
      },
      {
        "id": 3,
        "text": "Therapeutic misadventure"
      },
      {
        "id": 4,
        "text": "Contributory negligence"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Contributory negligence</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Contributory negligence</strong> is a <strong>valid legal defence</strong> in medical negligence cases. It applies when <strong>the patient (or their caregiver)</strong> fails to follow medical advice or engages in actions that <strong>contribute to their own harm</strong>, which reduces or nullifies the liability of the doctor.</p>\n\n<h4>In this case:</h4>\n\n<ul>\n\t<li>\n\t<p>The doctor <span class=\"customMeta\" data-dictid=\"ae5a2951b91692777188c61c72457e\">gave</span> <strong>appropriate care and advice</strong>.</p>\n\t</li>\n\t<li>\n\t<p>The patient <strong>disregarded medical instructions</strong> and <strong>used alternative (ayurvedic) therapies</strong>.</p>\n\t</li>\n\t<li>\n\t<p>These actions <strong>directly contributed</strong> to the deterioration of the condition.</p>\n\t</li>\n\t<li>\n\t<p>Indian courts recognize contributory negligence as a valid defense in medical negligence cases. If it is shown that the patient\u2019s non-compliance or independent actions played a role in the adverse outcome, the doctor\u2019s liability can be <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> or even negated</p>\n\t</li>\n</ul>\n\n<p>Thus, <strong>contributory negligence</strong> can protect the doctor from full liability.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Vicarious liability (Option A):</strong></p>\n\n<ul>\n\t<li>\n\t<p>Refers to <strong>liability of an employer</strong> (e.g., hospital) for the actions of its employee.</p>\n\t</li>\n\t<li>\n\t<p>Does <strong>not apply</strong> to a private consultant being sued personally.</p>\n\t</li>\n</ul>\n\n<p><strong>Res Ipsa loquitur (Option B):</strong></p>\n\n<ul>\n\t<li>\n\t<p>Means \"the thing speaks for itself\".</p>\n\t</li>\n\t<li>\n\t<p>Used when <strong>negligence is obvious</strong>, e.g., leaving a <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> instrument inside the body.</p>\n\t</li>\n\t<li>\n\t<p>In this case, the deterioration was not clearly due to the doctor's action.</p>\n\t</li>\n</ul>\n\n<p><strong>Therapeutic misadventure (Option C):</strong></p>\n\n<ul>\n\t<li>\n\t<p>Refers to an <strong>adverse event despite proper therapy</strong>, typically unavoidable or rare.</p>\n\t</li>\n\t<li>\n\t<p>Not applicable here as the decline was due to <strong>non-compliance</strong>, not an unexpected drug reaction or intervention.</p>\n\t</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>According to the <span class=\"marker\">amendment in the medical termination of pregnancy (MTP) Bill of 2020</span>, until what <span class=\"marker\">gestational age</span> is it permissible to induce MTP in mentally ill rape victims?</p>",
    "choices": [
      {
        "id": 1,
        "text": "20 weeks"
      },
      {
        "id": 2,
        "text": "22 weeks"
      },
      {
        "id": 3,
        "text": "24 weeks"
      },
      {
        "id": 4,
        "text": "28 weeks"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C -\u00a024 weeks:</strong></p>\n\n<ul>\n\t<li>\n\t<p>As per the Medical <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">Termination</span> of Pregnancy (Amendment) Bill, 2020, the limit for <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">termination</span> of pregnancy in a mentally ill woman or a woman who is a survivor of rape has been increased from 20 weeks to 24 weeks of gestation.\u00a0</p>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:\u00a0</strong></p>\n\n<p><strong>Option A - 20 weeks:\u00a0</strong>The Medical <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">Termination</span> of Pregnancy (Amendment) Bill, 2020, t, has increased the gestational limit for <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">termination</span> of pregnancy in certain cases from 20 weeks to 24 weeks.</p>\n\n<p><strong>Option B - 22 weeks:</strong> As per the Medical <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">Termination</span> of Pregnancy (Amendment) Bill, 2020, the <span class=\"customMeta\" data-dictid=\"2727bb69eb1692777188a09a87f2b8\">gestational age</span> limit for <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">termination</span> of pregnancy in cases of rape, incest, and vulnerable women, including mentally ill women, has been increased from 20 weeks to 24 weeks.</p>\n\n<p><strong>Option D - 28 weeks:</strong> Beyond 24 weeks, <span class=\"customMeta\" data-dictid=\"a35c217ec416927772009a7f3b20f4\">termination</span> of pregnancy is only allowed in cases of substantial <span class=\"customMeta\" data-dictid=\"f375a3584316927772020efa386e3e\">fetal</span> abnormalities or if the continuation of the pregnancy poses a risk to the life of the mother.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '03 Previous Year Questions';
        const quizFilename = '03-previous-year-questions-217224e9.html';
        let hierarchy = ["PrepLadder", "qBank", "Forensic Medicine"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>