<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>20 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Anesthesia
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">20</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>According to the American Heart Association (AHA), what is the 6th link added to the chain of survival?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Rapid defibrillation"
      },
      {
        "id": 2,
        "text": "Recovery and rehabilitation"
      },
      {
        "id": 3,
        "text": "High-quality CPR"
      },
      {
        "id": 4,
        "text": "Advanced airway management"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Recovery and rehabilitation</strong><br />\n\u00a0</p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>The <strong>American Heart Association (AHA) </strong>has expanded the <strong>Chain of Survival </strong>concept by adding a sixth link: <strong>recovery and rehabilitation</strong>. This addition reflects the growing recognition that survival extends <strong>beyond the immediate <span class=\"customMeta\" data-dictid=\"d343b06c7f1692777197edaea107af\">resuscitation</span> period</strong>.</p>\n\n<p>The complete <span class=\"customMeta\" data-dictid=\"f86191337d16927771806ed6645fc9\">AHA</span> Chain of Survival now includes:</p>\n\n<ul>\n\t<li>Early recognition and <span class=\"customMeta\" data-dictid=\"ba6b77f29316927771807350f86ce2\">activation</span> of emergency response</li>\n\t<li>Early <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> with an emphasis on chest compressions</li>\n\t<li>Rapid defibrillation</li>\n\t<li>Advanced life support</li>\n\t<li>Post-cardiac arrest care</li>\n\t<li>Recovery/rehabilitation</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"550\" src=\"https://image.prepladder.com/content/wFhZiURrLA5C7kVNdZS01741085790.png\" width=\"550\" /></p>\n\n<p>\u00a0</p>\n\n<p><strong>Rapid defibrillation</strong> <strong>(Option A)</strong> is already included as the third link. Rapid <span class=\"customMeta\" data-dictid=\"66e0f32ec216927771851ee930e967\">defibrillation</span> remains a critical component for improving survival in <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest, particularly for shockable rhythms like <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> and <span class=\"customMeta\" data-dictid=\"b38826787e16927771969ff8eb6e09\">pulseless</span> <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> tachycardia.</p>\n\n<p>\u00a0</p>\n\n<p><strong>High-quality CPR</strong><strong> (Option C)</strong> constitutes the second link. The <span class=\"customMeta\" data-dictid=\"f86191337d16927771806ed6645fc9\">AHA</span> emphasizes the importance of proper chest <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> depth, rate, allowing full chest recoil, and minimizing interruptions in <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> to optimize outcomes.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Advanced <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> management</strong> <strong>(Option D) </strong>is part of the fourth link (advanced life support) in the Chain of Survival. While <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> management is an important component of resuscitation, the <span class=\"customMeta\" data-dictid=\"f86191337d16927771806ed6645fc9\">AHA</span> guidelines emphasize that it should not interfere with or delay other critical interventions such as chest compressions and defibrillation.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/wFhZiURrLA5C7kVNdZS01741085790.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following can be considered effective CPR?</p>\n\n<p>1. Respiratory rate: 20-24 breaths per minute</p>\n\n<p>2. Chest compressions: 100-120/min</p>\n\n<p>3. Allow complete chest recoil</p>\n\n<p>4. 5-6cm deep compression</p>",
    "choices": [
      {
        "id": 1,
        "text": "1,2,3 and 4"
      },
      {
        "id": 2,
        "text": "1,2 and 4"
      },
      {
        "id": 3,
        "text": "2,3 and 4"
      },
      {
        "id": 4,
        "text": "1 and 2 only"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct answer: Option C) 2,3 and 4 </strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The <strong>CAB <span class=\"customMeta\" data-dictid=\"0028f840571692777181e366182b99\">algorithm</span> </strong>highlights the key elements needed to ensure high-quality <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> in BLS.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:561px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Compressions (C)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Position:</strong> Place the patient in a <span class=\"customMeta\" data-dictid=\"b0976ea1fd16927771995d5c700a21\">supine</span> position on a firm surface.</p>\n\n\t\t\t<p><strong>Site:</strong> Lower \u2153 rd of sternum</p>\n\n\t\t\t<p><strong>Rate: 100 to 120 </strong>compressions per minute. <strong>(Statement 2)</strong></p>\n\n\t\t\t<p><strong>Depth: </strong>Compress <strong>2 to 2.4 inches </strong>(5-6 cm); avoid exceeding 2.4 inches. <strong>(Statement 4)</strong></p>\n\n\t\t\t<p><strong>Compression-to-Ventilation Ratio:</strong> 30 compressions to 2 breaths <strong>(30:2). (Statement 1)</strong></p>\n\n\t\t\t<p><strong>Chest Recoil: </strong>Allow full <span class=\"customMeta\" data-dictid=\"b45dda9ea71692777197cbb7b1cab1\">recoil</span> between compressions to optimize blood flow. <strong>(Statement 3)</strong></p>\n\n\t\t\t<p><strong>Interruptions: </strong>Minimize interruptions in compressions (<strong><10 seconds</strong>).</p>\n\n\t\t\t<p><strong>Chest <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">Compression</span> Fraction (CCF): </strong>The proportion of time spent performing chest compressions during CPR: Maintain a <strong>CCF \u2265 60%.</strong></p>\n\n\t\t\t<p><strong>For pregnant women:</strong> perform <strong>manual <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> <span class=\"customMeta\" data-dictid=\"59ff8b38191692777201150e72ebc3\">uterine</span> <span class=\"customMeta\" data-dictid=\"5a50cd774d1692777186c56ec68eac\">displacement</span> (LUD)</strong> to relieve pressure on large <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> vessels.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Airway (A)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Head Tilt-Chin Lift:</strong> Used to open the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> in patients without suspected neck trauma.</p>\n\n\t\t\t<p><strong>Jaw Thrust:</strong> Preferred method, if neck trauma is suspected.</p>\n\n\t\t\t<p>The most common cause of <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> in <span class=\"customMeta\" data-dictid=\"6d87fbc02c16927772014ec4cead53\">unconscious</span> patients is the <strong>tongue falling back.</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Breathing (B)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Rescue Breaths:</strong> Give <strong>2 breaths</strong> after every <strong>30 compressions.</strong></p>\n\n\t\t\t<p><strong>Method: </strong>Mouth-to-mouth or with a bag-mask device, ensuring chest rise with each breath.</p>\n\n\t\t\t<p><strong>Breath Duration:</strong> Each breath should last about <strong>1 second.</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>While taking your morning stroll in the park, you come across an individual who is unconscious and lying on the ground. What would be the most appropriate course of action to take next from the given choices?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Check carotid pulse, start CPR, and call for help; Defibrillate if no pulse"
      },
      {
        "id": 2,
        "text": "Call for help, check pulse, do CPR, defibrillate if no pulse"
      },
      {
        "id": 3,
        "text": "Observe"
      },
      {
        "id": 4,
        "text": "Ignore and continue to walk"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer: Option B) Call for help, check pulse, do CPR, defibrillate if no pulse </strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"804\" src=\"https://image.prepladder.com/content/izihPfeWMbDp6eqqptHh1745584753.png\" width=\"804\" /></p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/izihPfeWMbDp6eqqptHh1745584753.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the specific action being demonstrated in the provided image?\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"Thim, Troels & Krarup, Niels & Grove, Erik & Rohde, Claus & L\u00f8fgren, Bo.\" data-hash=\"\" data-license=\"CC BY NC 3.0\" data-source=\"https://www.researchgate.net/publication/221818120_Initial_assessment_and_treatment_with_the_Airway_Breathing_Circulation_Disability_Exposure_ABCDE_approach\" data-tags=\"\" height=\"550\" src=\"https://image.prepladder.com/content/95atdGKSPByHJY9cx4zn1745401315.png\" width=\"300\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Head tilt, chin lift"
      },
      {
        "id": 2,
        "text": "Jaw thrust"
      },
      {
        "id": 3,
        "text": "Head extension"
      },
      {
        "id": 4,
        "text": "In line manual stabilisation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Answer: A) Head tilt, chin lift</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Head tilt, chin lift</strong> is a technique used to open the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> in an <span class=\"customMeta\" data-dictid=\"6d87fbc02c16927772014ec4cead53\">unconscious</span> patient. By tilting the head back and lifting the chin upwards, this <span class=\"customMeta\" data-dictid=\"220efc126c169277719138aa9a5537\">maneuver</span> helps to prevent the tongue from obstructing the airway.</li>\n\t<li>This is commonly used in basic life support (BLS) and <span class=\"customMeta\" data-dictid=\"edfeba77ac1692777202dfbaf4a0f7\">first aid</span> for unresponsive patients to ensure proper ventilation.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Jaw <span class=\"customMeta\" data-dictid=\"00435dfd7d16927772003372024ddb\">thrust</span> (Option B)</strong>: This technique is used when there is suspicion of a <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> injury and the head tilt, chin lift might exacerbate neck injury. It involves pushing the jaw forward to open the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> without tilting the head.</p>\n\n<p><strong>Head extension (Option C)</strong>: This involves extending the neck backward beyond the neutral position, which may be used in specific cases, but it is not the same as the head tilt, chin lift.</p>\n\n<p><strong>In-line manual <span class=\"customMeta\" data-dictid=\"6694ddb1db1692777199c9a1e38bf0\">stabilization</span> (Option D)</strong>: This refers to stabilizing the neck and spine to prevent movement, especially when there is a concern of a <span class=\"customMeta\" data-dictid=\"25c6ce766c1692777184ab9a40305c\">cervical</span> spine injury. It is not used to open the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> directly.</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/95atdGKSPByHJY9cx4zn1745401315.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>An unresponsive patient in ambulance on attachment of monitors showed following rhythm. What should be done immediately?</p>\n\n<p><img alt=\"ECG pattern seen in Ventricular Fibrillation\" data-author=\"\" data-hash=\"13096\" data-license=\"\" data-source=\"\" data-tags=\"May2025\" src=\"https://image.prepladder.com/notes/m2h36yRBguOqt5VrW4TP1747893382.png\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Check for pulse and breathing"
      },
      {
        "id": 2,
        "text": "Chest compressions and defibrillation"
      },
      {
        "id": 3,
        "text": "Put the patient in left lateral position"
      },
      {
        "id": 4,
        "text": "Cardioversion"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Chest compressions and <span class=\"customMeta\" data-dictid=\"66e0f32ec216927771851ee930e967\">defibrillation</span> </strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li>The rhythm in the ECG image is<strong> <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> (VF).</strong></li>\n\t<li>This is a life-threatening <span class=\"customMeta\" data-dictid=\"5280ec6ae91692777182aa6322ae68\">arrhythmia</span> characterized by <span class=\"customMeta\" data-dictid=\"c961603ce816927771848b1facbfbc\">chaotic</span> and disorganized <span class=\"customMeta\" data-dictid=\"c34137b40a1692777187edcef44647\">electrical activity</span> in the ventricles, leading to the inability of the heart to pump blood effectively.</li>\n\t<li>For an <strong>unresponsive patient with <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> fibrillation</strong>, the immediate step is: <strong>Chest compressions and defibrillation.</strong></li>\n</ul>\n\n<p><strong>Steps in Basic Life Support Skills:</strong></p>\n\n<p>\u00a0</p>\n\n<p><img alt=\"Steps of Basic Cardiac Life Support (BCLS) outside the hospital\" data-author=\"\" data-hash=\"13097\" data-license=\"\" data-source=\"\" data-tags=\"May2025\" src=\"https://image.prepladder.com/notes/DRPKi2miq8gsLKl9CYio1747893469.png\" /></p>\n\n<p><strong>Check for pulse and breathing (Option A): </strong></p>\n\n<ul>\n\t<li>While checking for pulse and breathing is crucial when assessing an unresponsive patient, in this case, the ECG already shows <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> fibrillation, a shockable rhythm that implies <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest.</li>\n\t<li>There is no need to check for a pulse if the patient is unresponsive with this rhythm because VF always requires immediate chest compressions and defibrillation.</li>\n\t<li>Delaying treatment to check for a pulse could worsen outcomes.</li>\n</ul>\n\n<p><strong>Put the patient in the left <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> position (Option C):</strong></p>\n\n<ul>\n\t<li>The left <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> position is used to prevent <span class=\"customMeta\" data-dictid=\"831d67ad8a1692777182763ca62e4b\">aspiration</span> in cases like <span class=\"customMeta\" data-dictid=\"6d87fbc02c16927772014ec4cead53\">unconscious</span> patients with an intact <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> or during pregnancy to reduce pressure on the <span class=\"customMeta\" data-dictid=\"49c4ef5b9d1692777190c0277f8344\">inferior</span> <span class=\"customMeta\" data-dictid=\"3ddf6d5ea71692777201b70c8b9715\">vena</span> cava.</li>\n\t<li>However, in a patient with <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> fibrillation, there is no effective <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> output, and this position provides no benefit. Immediate CPR and <span class=\"customMeta\" data-dictid=\"66e0f32ec216927771851ee930e967\">defibrillation</span> are the only lifesaving actions.</li>\n</ul>\n\n<p><strong>Cardioversion (Option D): </strong></p>\n\n<ul>\n\t<li>Cardioversion is used for arrhythmias like atrial fibrillation, atrial flutter, or <span class=\"customMeta\" data-dictid=\"619efd9f7b169277719928c9441919\">supraventricular</span> <span class=\"customMeta\" data-dictid=\"af1cd978a41692777200da2f67bf22\">tachycardia</span> in a hemodynamically unstable patient. It is a synchronized procedure delivered at a specific point in the <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> cycle.</li>\n\t<li>Ventricular <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> requires unsynchronized defibrillation, not cardioversion, as there is no organized <span class=\"customMeta\" data-dictid=\"c34137b40a1692777187edcef44647\">electrical activity</span> to synchronize with.</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/notes/m2h36yRBguOqt5VrW4TP1747893382.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/DRPKi2miq8gsLKl9CYio1747893469.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>When should the indicated position be used during resuscitation?</p>\n\n<p style=\"text-align:center\"><img alt=\"Recovery position\" data-author=\"NA\" data-hash=\"11385\" data-license=\"NA\" data-source=\"NA\" data-tags=\"April2025\" height=\"300\" src=\"https://image.prepladder.com/notes/iFWagRYNl3CLlVpQNqQF1745911456.jpg\" width=\"300\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Unconsciousness with pulse absent and breathing absent"
      },
      {
        "id": 2,
        "text": "Unconsciousness with pulse present and breathing absent"
      },
      {
        "id": 3,
        "text": "Unconsciousness with pulse and breathing present"
      },
      {
        "id": 4,
        "text": "Unconsciousness with pulse absent and breathing present"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: Option C) Unconsciousness with pulse and breathing present </strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The given position (Recovery position) involves placing the patient on their side with the lower arm extended and the upper leg flexed at the hip and knee. This helps prevent the tongue from <span class=\"customMeta\" data-dictid=\"9dc12b322016927771830dff673eeb\">blocking</span> the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> and allows secretions to drain from the mouth. It can help to maintain an open <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> and improve ventilation.</li>\n\t<li>The given position is particularly useful in cases where the unconsciousness has been caused by alcohol or drug use, as these substances can increase the risk of <span class=\"customMeta\" data-dictid=\"831d67ad8a1692777182763ca62e4b\">aspiration</span> (inhaling <span class=\"customMeta\" data-dictid=\"e66d63de4e16927772027ffae57751\">vomit</span> or other liquids) and <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> obstruction.</li>\n\t<li>By maintaining an open airway, the given position can help to prevent these complications and improve <span class=\"customMeta\" data-dictid=\"db3aca8a9a16927771948a3ff7512d\">oxygenation</span> of the tissues.</li>\n</ul>\n\n<p><strong>Unconsciousness with pulse absent and breathing absent (Option A): </strong>This situation indicates <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest and requires <span class=\"customMeta\" data-dictid=\"0f0e2f0fe91692777183bfa6c6a156\">cardiopulmonary</span> <span class=\"customMeta\" data-dictid=\"d343b06c7f1692777197edaea107af\">resuscitation</span> (CPR), including chest compressions and rescue breaths.</p>\n\n<p><strong>Unconsciousness with pulse present and breathing absent (Option B):</strong> This situation requires <span class=\"customMeta\" data-dictid=\"b03e1e199b16927771828e4e597164\">artificial ventilation</span> to support oxygenation.</p>\n\n<p><strong>Unconsciousness with pulse absent and breathing present (Option D):</strong> This is a highly unlikely combination physiologically, as breathing is typically absent if the heart has stopped. If it were to occur, it would require immediate assessment and intervention, not the recovery position.</p>",
    "question_images": [
      "https://image.prepladder.com/notes/iFWagRYNl3CLlVpQNqQF1745911456.jpg"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Please identify the manoeuvre being executed in the image provided.</p>\n\n<p>\u00a0</p>\n\n<p style=\"text-align:center\"><img alt=\"Jaw thrust\" data-author=\"Thim, Troels & Krarup, Niels & Grove, Erik & Rohde, Claus & L\u00f8fgren, Bo.\" data-hash=\"11386\" data-license=\"CC BY NC 3.0\" data-source=\"https://www.researchgate.net/publication/221818120_Initial_assessment_and_treatment_with_the_Airway_Breathing_Circulation_Disability_Exposure_ABCDE_approach\" data-tags=\"April2025\" height=\"550\" src=\"https://image.prepladder.com/notes/keb0chSAZb5hR2s7TqVe1745911456.jpg\" width=\"300\" /></p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Head tilt, chin lift"
      },
      {
        "id": 2,
        "text": "Jaw thrust"
      },
      {
        "id": 3,
        "text": "Head extension"
      },
      {
        "id": 4,
        "text": "In-line manual stabilization"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: Option A) Head tilt, chin lift</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The given manoeuvre is Head tilt and chin lift.</li>\n</ul>\n\n<p><strong>Head Tilt Chin Lift Maneuver: </strong></p>\n\n<ul>\n\t<li>The head is tilted back while lifting the chin upwards to prevent the tongue from obstructing the airway.</li>\n\t<li>Used to open the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> in an <span class=\"customMeta\" data-dictid=\"6d87fbc02c16927772014ec4cead53\">unconscious</span> patient <strong>without suspected <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> injury. </strong></li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"Jaw thrust\" data-author=\"Thim, Troels & Krarup, Niels & Grove, Erik & Rohde, Claus & L\u00f8fgren, Bo.\" data-hash=\"11386\" data-license=\"CC BY NC 3.0\" data-source=\"https://www.researchgate.net/publication/221818120_Initial_assessment_and_treatment_with_the_Airway_Breathing_Circulation_Disability_Exposure_ABCDE_approach\" data-tags=\"April2025\" height=\"550\" src=\"https://image.prepladder.com/notes/keb0chSAZb5hR2s7TqVe1745911456.jpg\" width=\"300\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p><strong>Jaw Thrust Maneuver: (Option B ruled out)</strong></p>\n\n<ul>\n\t<li>The <span class=\"customMeta\" data-dictid=\"47961831121692777191474a97c7d3\">lower jaw</span> is lifted forward by placing fingers behind the angle of the mandible, moving the tongue forward and clearing the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> <strong>without moving the neck.</strong></li>\n\t<li>Used to open the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> in patients with <strong>suspected <span class=\"customMeta\" data-dictid=\"25c6ce766c1692777184ab9a40305c\">cervical</span> spine injury.</strong></li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"Jaw thrust\" data-author=\"BruceBlaus\" data-hash=\"11384\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:CPR_Adult_Jaw_Thrust.png\" data-tags=\"April2025\" height=\"226\" src=\"https://image.prepladder.com/notes/XRfszIbpupl1KpDVqxyM1745911455.jpg\" width=\"300\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p>\u00a0</p>\n\n<p><strong>Head extension (Optio C): </strong>It involves tilting the head backward but without lifting the chin. It is not as effective as the head tilt, chin lift for <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> opening and is generally not recommended alone as a <span class=\"customMeta\" data-dictid=\"220efc126c169277719138aa9a5537\">maneuver</span> for maintaining a patent airway.</p>\n\n<p><strong>In-line manual <span class=\"customMeta\" data-dictid=\"6694ddb1db1692777199c9a1e38bf0\">stabilization</span> (Option D): </strong>This technique is used to <strong>stabilize the <span class=\"customMeta\" data-dictid=\"25c6ce766c1692777184ab9a40305c\">cervical</span> spine</strong> in patients with suspected <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> trauma, especially during <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> management or intubation. The rescuer holds the patient\u2019s head in a neutral position to prevent any <span class=\"customMeta\" data-dictid=\"25c6ce766c1692777184ab9a40305c\">cervical</span> movement, which could worsen a <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> injury.</p>",
    "question_images": [
      "https://image.prepladder.com/notes/keb0chSAZb5hR2s7TqVe1745911456.jpg"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/keb0chSAZb5hR2s7TqVe1745911456.jpg"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>In a 60-year-old patient who has just experienced a cardiac arrest, which of the following interventions is not a part of the Advanced Cardiovascular Life Support (ACLS) protocol?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Amiodarone"
      },
      {
        "id": 2,
        "text": "Defibrillation"
      },
      {
        "id": 3,
        "text": "Adrenaline"
      },
      {
        "id": 4,
        "text": "Soda Bicarbonate"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option D- <span class=\"customMeta\" data-dictid=\"91ce1734d7169277719861b8b87f9f\">Soda</span> Bicarbonate: </strong></p>\n\n<ul>\n\t<li>While sodium <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> used to be a part of ACLS protocols in the past, its use has become more limited in recent guidelines.</li>\n\t<li>It was commonly used to correct <span class=\"customMeta\" data-dictid=\"6caf3a39f416927771807e122b9032\">acidosis</span> (increased acidity) during <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest.</li>\n\t<li>However, current evidence suggests that routine use of sodium <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> in <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest may not provide significant benefits and could potentially cause harm.</li>\n\t<li>Therefore, it is no longer routinely recommended in ACLS protocols, especially in cases of <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest due to non-hypoxic causes.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A- Amiodarone: </strong>Amiodarone is included in the ACLS protocol and is used for the treatment of certain types of <span class=\"customMeta\" data-dictid=\"863f5457381692777190f05632a8b2\">irregular</span> heart rhythms, particularly <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> and <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"af1cd978a41692777200da2f67bf22\">tachycardia</span> that are resistant to other interventions. It helps stabilize the heart's electrical activity.</p>\n\n<p><strong>Option B- Defibrillation: </strong>Defibrillation is a critical component of the ACLS protocol. It involves delivering an <span class=\"customMeta\" data-dictid=\"9dfcfd203016927771875d7fe03efb\">electric shock</span> to the heart to reset its electrical rhythm in cases of <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> or <span class=\"customMeta\" data-dictid=\"b38826787e16927771969ff8eb6e09\">pulseless</span> <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> tachycardia, which are life-threatening arrhythmias that can lead to <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest.</p>\n\n<p><strong>Option C- Adrenaline: </strong>Adrenaline (also known as epinephrine) is an essential medication in the ACLS protocol. It is used to stimulate the heart and blood vessels, increasing heart rate and blood pressure. It is administered during <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest to improve <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> to vital organs.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following statements given below is incorrect regarding CPR in adults?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Depth of chest compression up to 5-6 cm"
      },
      {
        "id": 2,
        "text": "Allow adequate chest recoil"
      },
      {
        "id": 3,
        "text": "Ventilation: 22-25 breaths/min"
      },
      {
        "id": 4,
        "text": "Chest compression rate 100-120/min"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct answer: Option C) Ventilation: 22-25 breaths/min </strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Ventilation rate should be 10-12 breaths/min.</li>\n\t<li>Clear the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> before provide rescue breaths.</li>\n\t<li>CPR is carried out at a ratio of 30:2, i.e. give 2 breaths after 30 chest compressions if one person is performing CPR.</li>\n\t<li>If two persons are performing CPR, give two breaths after every 15 chest compressions i.e, a ratio of 15:2.</li>\n</ul>\n\n<p>The <strong>CAB <span class=\"customMeta\" data-dictid=\"0028f840571692777181e366182b99\">algorithm</span> </strong>highlights the key elements needed to ensure high-quality <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> in BLS.</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:693px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Compressions (C)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Position:</strong> Place the patient in a <span class=\"customMeta\" data-dictid=\"b0976ea1fd16927771995d5c700a21\">supine</span> position on a firm surface.</p>\n\n\t\t\t<p><strong>Site:</strong> Lower \u2153 rd of sternum</p>\n\n\t\t\t<p><strong>Rate: 100 to 120 </strong>compressions per minute. <strong>(Option D ruled out)</strong></p>\n\n\t\t\t<p><strong>Depth: </strong>Compress <strong>2 to 2.4 inches </strong>(5-6 cm); avoid exceeding 2.4 inches. <strong>(Option A ruled out)</strong></p>\n\n\t\t\t<p><strong>Compression-to-Ventilation Ratio:</strong> 30 compressions to 2 breaths <strong>(30:2). (Option C)</strong></p>\n\n\t\t\t<p><strong>Chest Recoil: </strong>Allow full <span class=\"customMeta\" data-dictid=\"b45dda9ea71692777197cbb7b1cab1\">recoil</span> between compressions to optimize blood flow. <strong>(Option B ruled out)</strong></p>\n\n\t\t\t<p><strong>Interruptions: </strong>Minimize interruptions in compressions (<strong><10 seconds</strong>).</p>\n\n\t\t\t<p><strong>Chest <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">Compression</span> Fraction (CCF): </strong>The proportion of time spent performing chest compressions during CPR: Maintain a <strong>CCF \u2265 60%.</strong></p>\n\n\t\t\t<p><strong>For pregnant women:</strong> perform <strong>manual <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> <span class=\"customMeta\" data-dictid=\"59ff8b38191692777201150e72ebc3\">uterine</span> <span class=\"customMeta\" data-dictid=\"5a50cd774d1692777186c56ec68eac\">displacement</span> (LUD)</strong> to relieve pressure on large <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> vessels.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Airway (A)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Head Tilt-Chin Lift:</strong> Used to open the <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> in patients without suspected neck trauma.</p>\n\n\t\t\t<p><strong>Jaw Thrust:</strong> Preferred method, if neck trauma is suspected.</p>\n\n\t\t\t<p>The most common cause of <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> in <span class=\"customMeta\" data-dictid=\"6d87fbc02c16927772014ec4cead53\">unconscious</span> patients is the <strong>tongue falling back.</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Breathing (B)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Rescue Breaths:</strong> Give <strong>2 breaths</strong> after every <strong>30 compressions.</strong></p>\n\n\t\t\t<p><strong>Method: </strong>Mouth-to-mouth or with a bag-mask device, ensuring chest rise with each breath.</p>\n\n\t\t\t<p><strong>Breath Duration:</strong> Each breath should last about <strong>1 second.</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following is not an ideal step for effective CPR in adults?</p>",
    "choices": [
      {
        "id": 1,
        "text": "100 -120 compressions per minute"
      },
      {
        "id": 2,
        "text": "Depth of compression 2-3 cm"
      },
      {
        "id": 3,
        "text": "Compression to ventilation ratio - 30:2"
      },
      {
        "id": 4,
        "text": "Allow complete recoil in between compressions"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - Depth of <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> 2 to 3 cm:</strong></p>\n\n<ul>\n\t<li>The depth of\u00a0chest <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> for effective <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> in adults is 5 to 6 cm (2 to 2.4 inches). A depth of 2 to 3 cm is insufficient for effective compressions.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - 100-120 compressions per minute: </strong>This is the recommended <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> rate for effective CPR.</p>\n\n<p><strong>Option C - <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">Compression</span> to <span class=\"customMeta\" data-dictid=\"a58f1f33f81692777201ad5e0d60ca\">ventilation</span> ratio is 30:2: </strong>This signifies the correct ratio for adult <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> when performed by a single rescuer.</p>\n\n<p><strong>Option D - Allow complete <span class=\"customMeta\" data-dictid=\"b45dda9ea71692777197cbb7b1cab1\">recoil</span> in between compressions: </strong>Allowing complete chest <span class=\"customMeta\" data-dictid=\"b45dda9ea71692777197cbb7b1cab1\">recoil</span> is essential to facilitate adequate <span class=\"customMeta\" data-dictid=\"96e7e3fecc16927772018cb9f8c8cd\">venous</span> return during CPR.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>When do you put a victim in the following position?</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"252\" src=\"https://image.prepladder.com/content/OrU3ECBoslCDgoMs8c1V1724929545.JPG\" width=\"539\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Conscious patient with pulse & breathing present."
      },
      {
        "id": 2,
        "text": "Unconscious patient with pulse & breathing present."
      },
      {
        "id": 3,
        "text": "Unconscious patient with pulse present but no breathing."
      },
      {
        "id": 4,
        "text": "Unconscious patient without pulse but breathing present."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - <span class=\"customMeta\" data-dictid=\"6d87fbc02c16927772014ec4cead53\">Unconscious</span> patient with pulse and breathing present</strong></p>\n\n<ul>\n\t<li>\n\t<p>The image shows the <strong>recovery position</strong> (also known as the <span class=\"customMeta\" data-dictid=\"fc380e21321692777191739bd99191\">lateral</span> <span class=\"customMeta\" data-dictid=\"ece1d5637c169277719789b25ff95b\">recumbent</span> position), which is used in first aid.</p>\n\t</li>\n\t<li>\n\t<p>This position is specifically indicated when a person is <strong>unconscious but breathing and has a pulse</strong>, and there is <strong>no evidence of <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> injury</strong>.</p>\n\t</li>\n\t<li>\n\t<p>It keeps the <strong>airway open</strong>, prevents <strong>aspiration</strong> of <span class=\"customMeta\" data-dictid=\"e66d63de4e16927772027ffae57751\">vomit</span> or secretions, and promotes <span class=\"customMeta\" data-dictid=\"dd824a31e71692777186c7f8168998\">drainage</span> from the mouth.</p>\n\t</li>\n</ul>\n\n<p><strong>When to use the Recovery Position</strong></p>\n\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Patient Status</th>\n\t\t\t<th>Recovery Position Used?</th>\n\t\t\t<th>Reason</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>Conscious with pulse & breathing (Option A)</td>\n\t\t\t<td>No</td>\n\t\t\t<td>No need to alter position unless needed for comfort or other reasons.</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Unconscious with pulse & breathing (Option B)</strong></td>\n\t\t\t<td><strong>Yes</strong></td>\n\t\t\t<td>Prevents <span class=\"customMeta\" data-dictid=\"3b9dd3166f1692777180b697887ccb\">airway</span> <span class=\"customMeta\" data-dictid=\"39f44b27bf169277719416f29a74ee\">obstruction</span> and aspiration.</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Unconscious with pulse but no breathing (Option C)</td>\n\t\t\t<td>No</td>\n\t\t\t<td>Requires <strong>rescue breathing or CPR</strong>, not recovery position.</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>Unconscious without pulse but breathing (Option D)</td>\n\t\t\t<td>No</td>\n\t\t\t<td>This is physiologically unlikely; no pulse = no circulation.</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [
      "https://image.prepladder.com/content/OrU3ECBoslCDgoMs8c1V1724929545.JPG"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A patient presents with no pulse, and the ECG shows the following rhythm. What is the next appropriate step?</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"319\" src=\"https://image.prepladder.com/content/mkiO5g8IgXuGwaqLGg5M1724762158.png\" width=\"500\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Defibrillate, check pulse and then perform CPR"
      },
      {
        "id": 2,
        "text": "Cardioversion"
      },
      {
        "id": 3,
        "text": "Defibrillate, perform CPR, and then check the pulse"
      },
      {
        "id": 4,
        "text": "Administer epinephrine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - Defibrillate, perform CPR, and then check the pulse</strong></p>\n\n<ul>\n\t<li>According to Advanced <span class=\"customMeta\" data-dictid=\"e2b5f013011692777183ea1b11ed9c\">Cardiovascular</span> Life Support (ACLS) guidelines, for a shockable rhythm like <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> tachycardia, the first step is to defibrillate the patient. After delivering the shock, you immediately start <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> (Cardiopulmonary Resuscitation) to maintain blood circulation. Checking the pulse is done after completing a cycle of <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> to assess the effectiveness of the <span class=\"customMeta\" data-dictid=\"d343b06c7f1692777197edaea107af\">resuscitation</span> efforts.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p>Options A, B, and D are incorrect, as explained above.</p>",
    "question_images": [
      "https://image.prepladder.com/content/mkiO5g8IgXuGwaqLGg5M1724762158.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following must be avoided in post cardiac arrest resuscitation care?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Maintain MAP over 65"
      },
      {
        "id": 2,
        "text": "Maintain SpO2 above 94%"
      },
      {
        "id": 3,
        "text": "Revascularisation procedure if patient develops ST elevation post resuscitation"
      },
      {
        "id": 4,
        "text": "Bring the body temperature down to below 32 degrees, therapeutic hypothermia if unresponsive"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Bring the <span class=\"customMeta\" data-dictid=\"4a7581c8b01692777183819f38c633\">body temperature</span> down to below 32 degrees, <span class=\"customMeta\" data-dictid=\"8dfaeedbf91692777200561b2b1d2f\">therapeutic</span> <span class=\"customMeta\" data-dictid=\"9723be730516927771896878ec012a\">hypothermia</span> if unresponsive</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Targeted Temperature Management (TTM)</strong> is recommended <strong>between 32\u201336\u00b0C</strong>, but <strong>below 32\u00b0C is not advised</strong> due to potential risks like arrhythmias and coagulopathies.</li>\n\t<li><strong>Therapeutic <span class=\"customMeta\" data-dictid=\"9723be730516927771896878ec012a\">hypothermia</span> (TTM) should be maintained at 32\u201336\u00b0C</strong> for at least <strong>24 hours</strong> in <span class=\"customMeta\" data-dictid=\"60dcb15b7616927771846fa5872355\">comatose</span> patients after <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest to reduce neurological damage.</li>\n\t<li><strong>Excessive <span class=\"customMeta\" data-dictid=\"579dcf5fc51692777185eef17a83c6\">cooling</span> (<32\u00b0C) increases complications</strong> such as bradycardia, <span class=\"customMeta\" data-dictid=\"2e0552462e16927771871413861fb7\">electrolyte</span> imbalances, and impaired coagulation.</li>\n</ul>\n\n<p><strong>Post-Cardiac Arrest Care</strong></p>\n\n<ul>\n\t<li>Post-cardiac arrest care focuses on stabilizing the patient, preventing secondary organ damage, and optimizing neurological outcomes.</li>\n\t<li>It includes <strong>hemodynamic management, targeted temperature management (TTM), oxygenation, and <span class=\"customMeta\" data-dictid=\"bc8bc758371692777185eff2ccabb7\">coronary</span> intervention when indicated.</strong></li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:614px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Aspect</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Key Considerations</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Hemodynamic Support</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Maintain <strong>MAP \u2265 65 mmHg</strong> with fluids and vasopressors if needed to ensure adequate cerebral and organ perfusion.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Oxygenation & Ventilation</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Target <strong>SpO\u2082 between 94\u201398%</strong> to prevent <span class=\"customMeta\" data-dictid=\"a249eeb5551692777189661d39c1b2\">hypoxia</span> and hyperoxia-related injury. Avoid excessive <span class=\"customMeta\" data-dictid=\"a58f1f33f81692777201ad5e0d60ca\">ventilation</span> (PaCO\u2082 should be maintained at 35\u201345 mmHg).</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Targeted Temperature Management (TTM)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Maintain temperature at <strong>32\u201336\u00b0C</strong> for <strong>at least 24 hours</strong> in <span class=\"customMeta\" data-dictid=\"60dcb15b7616927771846fa5872355\">comatose</span> patients to reduce neurological injury. <span class=\"customMeta\" data-dictid=\"579dcf5fc51692777185eef17a83c6\">Cooling</span> <strong>below 32\u00b0C is not recommended</strong> due to increased risks of arrhythmias and coagulopathies.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Coronary Revascularization</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Patients with <strong>ST <span class=\"customMeta\" data-dictid=\"a1f256489a16927771870ddd296574\">elevation</span> post-resuscitation</strong> should undergo <strong>urgent PCI</strong> to improve outcomes. <span class=\"customMeta\" data-dictid=\"bc8bc758371692777185eff2ccabb7\">Coronary</span> <span class=\"customMeta\" data-dictid=\"c67cc1bcd3169277718150b3c9d6ab\">angiography</span> may also be considered in select non-ST <span class=\"customMeta\" data-dictid=\"a1f256489a16927771870ddd296574\">elevation</span> cases.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Neurological Monitoring</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Continuous <span class=\"customMeta\" data-dictid=\"149fc70e9a16927771864296cb4e21\">EEG</span> and <span class=\"customMeta\" data-dictid=\"b02f35d9471692777198bf98bee1f7\">serial</span> neurological assessments are crucial to detect seizures and assess prognosis.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Glucose Control</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Maintain blood <span class=\"customMeta\" data-dictid=\"af3ae60c0c16927771889b84ca41c0\">glucose</span> between <strong>140\u2013180 mg/dL</strong> to prevent hyperglycemia-induced neuronal damage.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Maintain MAP over 65 (Option A):</strong> Correct because maintaining adequate <strong>perfusion pressure</strong> (MAP \u2265 65 mmHg) is essential to prevent organ hypoxia.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Maintain SpO\u2082 above 94% (Option B):</strong> Correct because post-resuscitation <span class=\"customMeta\" data-dictid=\"db3aca8a9a16927771948a3ff7512d\">oxygenation</span> should be between <strong>94\u201398%</strong> to avoid both <strong>hypoxia and <span class=\"customMeta\" data-dictid=\"0da7846b0b16927771892918276054\">hyperoxia</span> toxicity</strong>.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Revascularisation procedure if patient develops ST <span class=\"customMeta\" data-dictid=\"a1f256489a16927771870ddd296574\">elevation</span> post <span class=\"customMeta\" data-dictid=\"d343b06c7f1692777197edaea107af\">resuscitation</span> (Option C):</strong> Correct because <strong>emergency PCI</strong> should be done in post-cardiac arrest patients with <strong>STEMI</strong> to improve survival.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What should be done after immediate defibrillation is performed on a young male patient who was brought to the emergency department unconscious after collapsing at a railway station, with no pulse felt and a monitor showing ventricular fibrillation?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Check for a pulse"
      },
      {
        "id": 2,
        "text": "Resume chest compressions"
      },
      {
        "id": 3,
        "text": "Epinephrine 1 mg IV"
      },
      {
        "id": 4,
        "text": "Amiodarone 300 mg IV bolus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - Resume chest compressions:</strong></p>\n\n<ul>\n\t<li>Ventricular <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> (V-fib) is a dangerous <span class=\"customMeta\" data-dictid=\"0c0ace39ac16927771898a14fb0cc3\">heart rhythm</span> condition that can cause <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest. Hence, it is necessary to stop V-fib immediately to restore pulse and blood pressure. The second focus should be on reducing the development of V-fib in the future. \u00a0</li>\n\t<li>The treatment for <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> fibrillation(V-fib) includes <span class=\"customMeta\" data-dictid=\"0f0e2f0fe91692777183bfa6c6a156\">cardiopulmonary</span> resuscitation, i.e., (CPR). Recent consensus guidelines for <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> advocate that chest <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> immediately resumes after the <span class=\"customMeta\" data-dictid=\"66e0f32ec216927771851ee930e967\">defibrillation</span> process.</li>\n\t<li>Pulse checks and rhythm checks can be postponed until the completion of five compressions, minimally for two minutes.\u00a0</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - Check for a pulse:</strong> The pulse check can be postponed for 2 minutes until the five-chest <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> is completed.</p>\n\n<p><strong>Option C - <span class=\"customMeta\" data-dictid=\"76baf6616a169277718738f8790ab9\">Epinephrine</span> 1 mg IV:</strong>\u00a0Epinephrine, 1 mg, is recommended every 3-5 minutes once IV or IO access is established until the completion of five compressions.</p>\n\n<p><strong>Option D - Amiodarone 300 mg IV bolus: </strong>Amiodarone can be provided for <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"af1cd978a41692777200da2f67bf22\">tachycardia</span> or <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> (VT/VF) <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest via <span class=\"customMeta\" data-dictid=\"6a346f84561692777190430904e7b3\">intraosseous</span> (IO)/intravenous (IV) <span class=\"customMeta\" data-dictid=\"3562d699c516927771909a426ea8ef\">infusion</span> as a 300mg rapid bolus. A 150 mg IO/IV additional <span class=\"customMeta\" data-dictid=\"8d138d554c16927771835be732558c\">bolus</span> is provided if VT persists.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Identify the <span class=\"marker\">device</span> shown in the image below</p>\n\n<p><img src=\"https://image.prepladder.com/content/eEiKXYKQFvJdoaus5zqd1694695086.png\" style=\"height:636px; width:500px\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Automated External Desynchonizer"
      },
      {
        "id": 2,
        "text": "Automated external defibrillator"
      },
      {
        "id": 3,
        "text": "Automated electronic defibrillator"
      },
      {
        "id": 4,
        "text": "Automated external decompressor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - Automated external defibrillator:</strong></p>\n\n<ul>\n\t<li>An automated external <span class=\"customMeta\" data-dictid=\"480005d26f16927771853fd11950c7\">defibrillator</span> (AED) is a portable electronic device used to diagnose and treat life-threatening <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrhythmias, specifically <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> and <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> tachycardia, through the application of an <span class=\"customMeta\" data-dictid=\"9dfcfd203016927771875d7fe03efb\">electric shock</span> to the heart. It is designed to be user-friendly and can be used by individuals with minimal medical training.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - Automated External Desynchronizer:</strong>\u00a0This is not a recognized device in the context of medical emergency management. It appears to be an incorrect or fictional term.</p>\n\n<p><strong>Option C - Automated Electronic Defibrillator:</strong>\u00a0This is not a recognized term for a specific medical device. It may be a combination of terms, but it does not accurately represent the device shown in the image.</p>\n\n<p><strong>Option D - Automated External Decompressor:</strong> This is not a recognized term for a medical device. It does not relate to the purpose or function of the device shown in the image.</p>",
    "question_images": [
      "https://image.prepladder.com/content/eEiKXYKQFvJdoaus5zqd1694695086.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following is <span class=\"marker\">not a risk factor for postoperative pulmonary complications</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "BMI >30"
      },
      {
        "id": 2,
        "text": "Well controlled asthma"
      },
      {
        "id": 3,
        "text": "Upper abdominal surgery"
      },
      {
        "id": 4,
        "text": "Ag>70 years"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - Well controlled asthma:</strong></p>\n\n<ul>\n\t<li>Well controlled <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> is not considered a significant risk factor for <span class=\"customMeta\" data-dictid=\"8f584900e71692777196a6e8943d4e\">postoperative</span> <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> complications. When <span class=\"customMeta\" data-dictid=\"76891bb6e91692777182cda16e1db6\">asthma</span> is well controlled, the risk of complications is generally lower compared to uncontrolled or severe asthma.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - <span class=\"customMeta\" data-dictid=\"765e9149d01692777183c3989c6590\">BMI</span> >30:</strong></p>\n\n<ul>\n\t<li>Obesity, indicated by a <span class=\"customMeta\" data-dictid=\"765e9149d01692777183c3989c6590\">BMI</span> greater than 30, is a known risk factor for <span class=\"customMeta\" data-dictid=\"8f584900e71692777196a6e8943d4e\">postoperative</span> <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> complications. It can impair lung function and increase the risk of <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> complications after surgery.</li>\n</ul>\n\n<p><strong>Option C - Upper <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> surgery:</strong></p>\n\n<ul>\n\t<li>Upper <span class=\"customMeta\" data-dictid=\"1665a40f1016927771801899eaed5d\">abdominal</span> surgeries, such as surgeries involving the chest, abdomen, or diaphragm, can impact <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> function due to the proximity to the <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> muscles and potential effects on lung expansion. This increases the risk of <span class=\"customMeta\" data-dictid=\"8f584900e71692777196a6e8943d4e\">postoperative</span> <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> complications.</li>\n</ul>\n\n<p><strong>Option D - Age >70 years:</strong></p>\n\n<ul>\n\t<li>Advanced age is associated with decreased <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> reserve and decreased lung function, making older individuals more <span class=\"customMeta\" data-dictid=\"55691242bb1692777199360f64cb67\">susceptible</span> to <span class=\"customMeta\" data-dictid=\"8f584900e71692777196a6e8943d4e\">postoperative</span> <span class=\"customMeta\" data-dictid=\"10e2dee19e1692777196673db90c23\">pulmonary</span> complications.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>You are working as an intern in ICU. Which of the following statements is incorrect about ABG report?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Normal pH cannot rule out acid base disorder"
      },
      {
        "id": 2,
        "text": "Flush syringe with 0.5 ml heparin before taking the sample"
      },
      {
        "id": 3,
        "text": "If the modified Allen test is positive use an alternative site for sampling"
      },
      {
        "id": 4,
        "text": "Radial artery is preferred site for taking sample"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C:\u00a0</strong><strong>If the modified <span class=\"customMeta\" data-dictid=\"ad883bfd3f1692777181ca1dd644b8\">Allen test</span> is positive use an alternative site for sampling</strong></p>\n\n<p>A positive <span class=\"customMeta\" data-dictid=\"ad883bfd3f1692777181ca1dd644b8\">Allen test</span> means that the patient\u00a0has an <em>adequate </em>dual blood supply to the hand. A negative <span class=\"customMeta\" data-dictid=\"ad883bfd3f1692777181ca1dd644b8\">Allen test</span> shows the patient may not have adequate dual blood supply, which would be a <span class=\"customMeta\" data-dictid=\"c9f33964851692777185b94f619862\">contraindication</span> for catheterization, <span class=\"customMeta\" data-dictid=\"4fff084ff9169277719765c9d85a8e\">radial</span> <span class=\"customMeta\" data-dictid=\"258a5bb5841692777203cfb8e31f55\">forearm</span> <span class=\"customMeta\" data-dictid=\"7eae099d8d1692777202469603e6ed\">flap</span> harvest, or any procedure\u00a0that may result in the <span class=\"customMeta\" data-dictid=\"896c5469811692777194e64e7ccef7\">occlusion</span> of the vessel. Therefore this statement is incorrect.</p>\n\n<p><strong>Incorrect options:</strong></p>\n\n<p><strong>Option A. Normal pH can't rule out an acid-base disorder: </strong>This statement is correct. Normal pH values in an <span class=\"customMeta\" data-dictid=\"218fc9685d1692777180b8b609dd48\">ABG</span> analysis do not rule out the presence of an acid-base disorder. Acid-base disorders involve disturbances in the pH, <span class=\"customMeta\" data-dictid=\"a66961ad3a16927771941f00c5ed57\">partial pressure</span> of <span class=\"customMeta\" data-dictid=\"c32b3a9fac16927771831530888fdf\">carbon dioxide</span> (PaCO2), and <span class=\"customMeta\" data-dictid=\"2311c3b4ac16927771831d4c919043\">bicarbonate</span> (HCO3-) levels. As the patients having a combination of <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> <span class=\"customMeta\" data-dictid=\"6caf3a39f416927771807e122b9032\">acidosis</span> and <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> <span class=\"customMeta\" data-dictid=\"0dae4cbf251692777181bd4fb21a24\">alkalosis</span> will have normal pH.</p>\n\n<p><strong>Option B. Add 0.5 ml <span class=\"customMeta\" data-dictid=\"050e27829716927771885eddb2620c\">Heparin</span> to the <span class=\"customMeta\" data-dictid=\"29863704261692777199d30fdfa6fa\">syringe</span> before taking blood:</strong> This statement is correct. <span class=\"customMeta\" data-dictid=\"050e27829716927771885eddb2620c\">Heparin</span> is typically added to the <span class=\"customMeta\" data-dictid=\"29863704261692777199d30fdfa6fa\">syringe</span> before obtaining the <span class=\"customMeta\" data-dictid=\"b905d8d51416927771821f9cceb3a3\">arterial blood</span> sample to prevent <span class=\"customMeta\" data-dictid=\"58c17961c71692777184ab55a9c4df\">clotting</span> of the blood in the syringe. Flushing the <span class=\"customMeta\" data-dictid=\"29863704261692777199d30fdfa6fa\">syringe</span> will prevent <span class=\"customMeta\" data-dictid=\"58c17961c71692777184ab55a9c4df\">clotting</span> but leaving <span class=\"customMeta\" data-dictid=\"050e27829716927771885eddb2620c\">heparin</span> behind will cause falsely low pH and bicarbonate.</p>\n\n<p><strong>Option D. <span class=\"customMeta\" data-dictid=\"4fff084ff9169277719765c9d85a8e\">Radial</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> is the preferred site: </strong>This statement is correct. The <span class=\"customMeta\" data-dictid=\"4fff084ff9169277719765c9d85a8e\">radial</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> is preferred as it usually has good <span class=\"customMeta\" data-dictid=\"4de12d1ef31692777184db1d11c6bd\">collateral</span> <span class=\"customMeta\" data-dictid=\"337d16dac5169277718474b97f6e4a\">circulation</span> with the <span class=\"customMeta\" data-dictid=\"d7fd512e881692777201909450fd8c\">ulnar</span> artery.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>How many chest compressions per minute are performed during CPR in adults?</p>",
    "choices": [
      {
        "id": 1,
        "text": "30-50 per minute"
      },
      {
        "id": 2,
        "text": "50-72 per minute"
      },
      {
        "id": 3,
        "text": "100-120 per minute"
      },
      {
        "id": 4,
        "text": "120-200 per minute"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - 100-120 per minute:</strong></p>\n\n<ul>\n\t<li>Chest compressions are critical to providing <span class=\"customMeta\" data-dictid=\"337d16dac5169277718474b97f6e4a\">circulation</span> to the heart and brain during <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> (cardiopulmonary resuscitation). The recommended rate for chest compressions in adult <span class=\"customMeta\" data-dictid=\"d43b4093f8169277718521f70bd37c\">CPR</span> is 100-120 compressions per minute, which ensures adequate <span class=\"customMeta\" data-dictid=\"82cc227a1c169277718387905b50c6\">blood flow</span> to vital organs.</li>\n</ul>\n\n<p><img src=\"https://image.prepladder.com/content/3HsrwZkoheqBe3mIFVQQ1712046744.png\" style=\"height:349px; width:394px\" /></p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - 30-50 per minute:</strong>\u00a0This range is incorrect as it is too low for effective CPR.</p>\n\n<p><strong>Option B - 50-72 per minute:</strong>\u00a0This range is also incorrect as it is below the recommended rate for effective chest compressions.</p>\n\n<p><strong>Option D - 120-200 per minute:</strong> This range is too high and not recommended for effective CPR. An excessive <span class=\"customMeta\" data-dictid=\"56af81fad316927771843d2b4b1e4f\">compression</span> rate may compromise the quality of compressions.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/3HsrwZkoheqBe3mIFVQQ1712046744.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>If epinephrine fails to be effective, what other medication would you consider using for cardiac arrest?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Vasopressin"
      },
      {
        "id": 2,
        "text": "Atropine"
      },
      {
        "id": 3,
        "text": "Amiodarone"
      },
      {
        "id": 4,
        "text": "Adenosine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C - Amiodarone:</strong></p>\n\n<ul>\n\t<li>Amiodarone is an <span class=\"customMeta\" data-dictid=\"2f4652078816927771814621857a81\">antiarrhythmic</span> medication that is commonly used in the management of <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest. It is used when initial treatments, such as epinephrine, fail to restore a stable heart rhythm. Amiodarone works by stabilizing the <span class=\"customMeta\" data-dictid=\"c34137b40a1692777187edcef44647\">electrical activity</span> of the heart and is effective in treating various types of life-threatening arrhythmias.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option A - Vasopressin:</strong></p>\n\n<ul>\n\t<li>It has been used in the past as an alternative to epinephrine, current guidelines recommend <span class=\"customMeta\" data-dictid=\"76baf6616a169277718738f8790ab9\">epinephrine</span> as the primary <span class=\"customMeta\" data-dictid=\"a7a960ea3e1692777201d2255a63f1\">vasopressor</span> in <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest. Amiodarone is the preferred alternative to <span class=\"customMeta\" data-dictid=\"76baf6616a169277718738f8790ab9\">epinephrine</span> if it proves ineffective.</li>\n</ul>\n\n<p><strong>Option B - Atropine:</strong></p>\n\n<ul>\n\t<li>Atropine is a medication used to increase heart rate and treat certain types of <span class=\"customMeta\" data-dictid=\"c933e533971692777183b764d960d0\">bradycardia</span> (slow heart rate). It is not typically effective in treating <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest, particularly in cases of <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> or <span class=\"customMeta\" data-dictid=\"b38826787e16927771969ff8eb6e09\">pulseless</span> <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> tachycardia. Therefore, it is not the preferred alternative to epinephrine.</li>\n</ul>\n\n<p><strong>Option D - Adenosine:</strong></p>\n\n<ul>\n\t<li>Adenosine is primarily used in the treatment of <span class=\"customMeta\" data-dictid=\"619efd9f7b169277719928c9441919\">supraventricular</span> <span class=\"customMeta\" data-dictid=\"af1cd978a41692777200da2f67bf22\">tachycardia</span> (SVT), which is a different type of <span class=\"customMeta\" data-dictid=\"5280ec6ae91692777182aa6322ae68\">arrhythmia</span> compared to <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> or <span class=\"customMeta\" data-dictid=\"b38826787e16927771969ff8eb6e09\">pulseless</span> <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"af1cd978a41692777200da2f67bf22\">tachycardia</span> seen in <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest. <span class=\"customMeta\" data-dictid=\"d3f6a49b7416927771802124ccddf0\">Adenosine</span> works by briefly slowing down the heart rate and interrupting the re-entry <span class=\"customMeta\" data-dictid=\"3aa5abc2fa169277719488e088076d\">pathway</span> responsible for SVT. It is not indicated for use during <span class=\"customMeta\" data-dictid=\"e1fb96fd2416927771830dfed40e14\">cardiac</span> arrest and is not an alternative to <span class=\"customMeta\" data-dictid=\"76baf6616a169277718738f8790ab9\">epinephrine</span> in that context.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following statements accurately describes the distinction between adult and pediatric resuscitation?</p>  <p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Ventricular dysrhythmias are uncommon in children"
      },
      {
        "id": 2,
        "text": "Infant myocardium more refractory to hypoxia because of congenital heart disease"
      },
      {
        "id": 3,
        "text": "More ventilation to be given compared to chest compression"
      },
      {
        "id": 4,
        "text": "Dissolved aortic oxygen concentration is more in pre attach state"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">Ventricular</span> dysrhythmias are uncommon in children:</strong></p>\n\n<ul>\n\t<li>In the context of resuscitation, there are some differences between adults and children. <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">Ventricular</span> dysrhythmias, such as <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> <span class=\"customMeta\" data-dictid=\"6ae0ac06031692777202699c4c75a0\">fibrillation</span> and <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> tachycardia, are more common in adults than in children. Therefore, the correct statement is that <span class=\"customMeta\" data-dictid=\"fc8cac43cc16927772015049bb5ab8\">ventricular</span> dysrhythmias are uncommon in children.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option B - Infant <span class=\"customMeta\" data-dictid=\"c64e23ddb8169277719344010b3fc0\">myocardium</span> more <span class=\"customMeta\" data-dictid=\"3790c638ab16927771970a0a41d3ab\">refractory</span> to <span class=\"customMeta\" data-dictid=\"a249eeb5551692777189661d39c1b2\">hypoxia</span> because of <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> heart disease:</strong> Infant <span class=\"customMeta\" data-dictid=\"c64e23ddb8169277719344010b3fc0\">myocardium</span> more <span class=\"customMeta\" data-dictid=\"3790c638ab16927771970a0a41d3ab\">refractory</span> to <span class=\"customMeta\" data-dictid=\"a249eeb5551692777189661d39c1b2\">hypoxia</span> because of <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> heart disease: This statement is incorrect. While certain <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> heart diseases may affect the myocardium's ability to handle hypoxia, it is not accurate to <span class=\"customMeta\" data-dictid=\"ec1d5183cc1692777188702fee4d7e\">generalize</span> that the infant <span class=\"customMeta\" data-dictid=\"c64e23ddb8169277719344010b3fc0\">myocardium</span> is more <span class=\"customMeta\" data-dictid=\"3790c638ab16927771970a0a41d3ab\">refractory</span> to <span class=\"customMeta\" data-dictid=\"a249eeb5551692777189661d39c1b2\">hypoxia</span> due to <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> heart disease.</p>\n\n<p><strong>Option C - More <span class=\"customMeta\" data-dictid=\"a58f1f33f81692777201ad5e0d60ca\">ventilation</span> to be given compared to chest compression:</strong>\u00a0More <span class=\"customMeta\" data-dictid=\"a58f1f33f81692777201ad5e0d60ca\">ventilation</span> to be given compared to chest compression: This statement is incorrect. In both adult and child resuscitation, the ratio of chest compressions to <span class=\"customMeta\" data-dictid=\"a58f1f33f81692777201ad5e0d60ca\">ventilation</span> is different. For adults, it is typically 30:2 (30 compressions followed by 2 ventilations), while for children, it is often 15:2 or 30:2, depending on the circumstances. However, it is not accurate to say that more <span class=\"customMeta\" data-dictid=\"a58f1f33f81692777201ad5e0d60ca\">ventilation</span> should be given compared to chest compressions in either case.</p>\n\n<p><strong>Option D - Dissolved aortic oxygen concentration is more in <span class=\"customMeta\" data-dictid=\"d80014dfb516927771962b4857d683\">pre</span> attach state:</strong>\u00a0Dissolved aortic oxygen concentration is more in pre-attach state: This statement is incorrect. The term \"pre-attach state\" is not clear in the context of resuscitation. Additionally, dissolved aortic oxygen concentration is not typically discussed in the comparison of adult and child resuscitation.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '20 Previous Year Questions';
        const quizFilename = '20-previous-year-questions-e426d93b.html';
        let hierarchy = ["PrepLadder", "qBank", "Anesthesia"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>