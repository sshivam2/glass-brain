<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forensic Medicine Test I - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2018 - 19
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which of the following findings will not be seen in suicidal hanging?",
    "choices": [
      {
        "id": 1,
        "text": "Absence of dribbling of saliva"
      },
      {
        "id": 2,
        "text": "Hypostasis involving hands and feet"
      },
      {
        "id": 3,
        "text": "Tears of the carotid artery"
      },
      {
        "id": 4,
        "text": "Ligature mark above the thyroid cartilage"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Dribbling of saliva</strong> will be seen in a case of <strong>suicidal hanging</strong>. This is considered as the <strong>surest sign</strong> of <strong>antemortem hanging</strong> as secretion of saliva is a vital function and it cannot occur after death.</p>\n<p>Autopsy findings in hanging:</p>\n<ul>\n<li><strong>Post-mortem hypostasis</strong>\u00a0is present in the legs and hands.</li>\n<li>Petechial haemorrhages - these are usually the exception, rather than the rule.</li>\n<li><strong>Ligature mark</strong> - above the thyroid cartilage, incomplete, parchment-like consistency</li>\n<li>Soft tissue haemorrhage may be seen.</li>\n<li>Laryngeal fractures - fractures of hyoid and thyroid may be seen.</li>\n<li><strong>Amussat sign</strong> - damage to intima and media of the carotid artery</li>\n<li><strong>Simon's sign</strong> - haemorrhages on the anterior aspects of intervertebral disks.</li>\n<li>Vertebral artery tears- The vertebral artery can show intimal tears, subintimal haemorrhages, and even rupture.</li>\n<li>A pale face is more commonly seen than congestion of the face.</li>\n<li><strong>Le facies sympathique </strong>- eyes remain open and pupils remain dilated due to compression of cervical sympathetic chain on the same side. It indicates antemortem hanging.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f6a4c3eec6344bcb96ba02b41e17a616x1279x1320.JPEG"
    ]
  },
  {
    "text": "A person was walking home from his work when suddenly a robber attacked him. They both started fighting and the robber held him from behind as shown in the image. During this, the victim lost his life due to difficulty in breathing. What is this type of strangulation known as?",
    "choices": [
      {
        "id": 1,
        "text": "Garrotting"
      },
      {
        "id": 2,
        "text": "Bansdola"
      },
      {
        "id": 3,
        "text": "Mugging"
      },
      {
        "id": 4,
        "text": "Burking"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The type of strangulation shown in the given image is <strong>mugging</strong>.</p>\n<p class=\"p1\">The term strictly means throttling by pressure from an <strong>arm held</strong> <strong>around</strong> the <strong>throat</strong>. The attack is usually made <strong>from behind</strong>, the neck being trapped in the crook of the elbow. Pressure is then exerted either on the front of the larynx or at one or both sides by the forearm and upper arm.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8a2ade635dd142dfb242167040ad9269.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4e7d53599a8b48168b62ba588dc8d9dex1280x1713.JPEG"
    ]
  },
  {
    "text": "The weight of the head, arms and chest act as a constricting force in which of the following types of hanging?",
    "choices": [
      {
        "id": 1,
        "text": "Complete"
      },
      {
        "id": 2,
        "text": "Partial"
      },
      {
        "id": 3,
        "text": "Typical"
      },
      {
        "id": 4,
        "text": "Atypical"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The weight of the head, arms, and chest acts as a constricting force in <strong>partial hanging.</strong></p>\n<p>Types of hanging:</p>\n<ul>\n<li><strong>Complete</strong> hanging - the weight of the <strong>entire body</strong> acts as a <strong>constricting force.</strong></li>\n<li><strong>Partial </strong>hanging - the bodies are partially suspended, the weight of the <strong>head</strong> (5-6 kgs), <strong>arms,</strong> and <strong>chest</strong> act as a <strong>constricting force.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/25826a41adce40d98ecff5c8e9ca8374x600x2775.JPEG"
    ]
  },
  {
    "text": "A dead body of a man was retrieved from a lake. Which of the following electrolyte abnormalities would you expect in him?",
    "choices": [
      {
        "id": 1,
        "text": "Hyponatremia and hypokalemia"
      },
      {
        "id": 2,
        "text": "Hypernatremia and hyperkalemia"
      },
      {
        "id": 3,
        "text": "Hyponatremia and hyperkalemia"
      },
      {
        "id": 4,
        "text": "Hypernatremia and hypokalemia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Freshwater drowning</strong>&nbsp;(drowning in a lake) is associated with both<strong>&nbsp;hyponatremia </strong>and<strong>&nbsp;hyperkalemia.</strong></p>\n<p>When <strong>freshwater </strong>(hypotonic to plasma) enters the alveolar spaces, it is rapidly absorbed into the pulmonary circulation resulting in gross local <strong>hemodilution</strong>. This massive increase in blood volume leads to <strong>hemolysis </strong>with the liberation of<strong> potassium.</strong> This causes<strong> hyperkalemia</strong> with corresponding <strong>hyponatremia</strong>.</p>\n<p>When <strong>seawater</strong> enters, due to high saline content, reverse osmotic flow occurs. The fluid leaves the circulation and enters the alveolar spaces. This causes <strong>hemoconcentration</strong>, <strong>hypernatremia</strong> and pulmonary edema.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In the case of typical drowning, which of the following mechanisms is responsible for causing death?",
    "choices": [
      {
        "id": 1,
        "text": "Laryngeal spasm due to inrush of water"
      },
      {
        "id": 2,
        "text": "Hypoxemia leading to cerebral edema"
      },
      {
        "id": 3,
        "text": "Vagal inhibition causing cardiac arrest"
      },
      {
        "id": 4,
        "text": "Pulmonary edema and cardiac arrest"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Pulmonary edema</strong> and <strong>cardiac arrest</strong>&nbsp;cause death in a case&nbsp;of <strong>typical</strong> <strong>drowning</strong>.</p>\n<p>Death in other types of drowning can be due to:</p>\n<ul>\n<li>Dry drowning - laryngeal spasm due to inrush of water</li>\n<li class=\"p1\">Near drowning - Hypoxemia leading to&nbsp;<span data-preserver-spaces=\"true\">sepsis, electrolyte imbalances, pulmonary edema, and&nbsp;</span>cerebral edema</li>\n<li class=\"p1\">Immersion syndrome - vagal inhibition causing cardiac arrest</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following are considered as unnatural sexual offences in India?",
    "choices": [
      {
        "id": 1,
        "text": "4 and 5"
      },
      {
        "id": 2,
        "text": "1, 2 and 5"
      },
      {
        "id": 3,
        "text": "3 and 4"
      },
      {
        "id": 4,
        "text": "2 only"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Bestiality</strong>\u00a0is an act of\u00a0using a lower <strong>animal</strong>\u00a0for <strong>sexual gratification.</strong> It is an unnatural<strong> sexual offence </strong>and is<strong> punishable in India.</strong></p>\n<p>Sexual offences may be described as natural or unnatural offences:</p>\n<div class=\"page\" title=\"Page 137\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li><strong>Natural sexual offences:</strong> Sexual offences committed in order of nature. Eg: rape.</li>\n<li><strong>Unnatural sexual offences:\u00a0</strong>Sexual offences committed against the order of nature. Eg: bestiality.</li>\n</ul>\n</div>\n</div>\n</div>\n<p><strong>Incest\u00a0</strong>is sexual intercourse between man and woman who are related by blood or a certain degree of blood relationship. In India, incest per se is not a crime unless it attracts provisions of rape. It comes under the category of natural sexual offenses if the act is non-consensual.</p>\n<p><strong>Sodomy/buggery </strong>is <strong>consensual anal intercourse</strong> between man and man or man and woman. It has been <strong>decriminalized\u00a0</strong>now.<strong><br /></strong></p>\n<p><strong>Tribadism/lesbianism </strong>means female homosexuality. It has been <strong>decriminalised</strong>\u00a0now though it was not punishable previously.</p>\n<p><strong>Buccal coitus</strong> is not a punishable offence, unless it is performed by force or in public.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Absence of smegma on corona glandis indicates___________",
    "choices": [
      {
        "id": 1,
        "text": "Person has engaged in sexual act recently"
      },
      {
        "id": 2,
        "text": "Person had not engaged in sexual act in last 24 hours"
      },
      {
        "id": 3,
        "text": "Person had not engaged in sexual act in last 48 hours"
      },
      {
        "id": 4,
        "text": "Person had not engaged in sexual act in last 1 week"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Absence of smegma on corona glandis indicates person has engaged in sexual act recently.</p>\n<p>Smegma usually collects in 24 hours and is rubbed off during intercourse. Hence its presence indicates that the person wasn&rsquo;t engaged in sexual activity in last <strong>24 hours</strong>. Absence indicates sexual activity might have occurred in last 24 hours.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Sexual asphyxia is seen in which of the following condition?",
    "choices": [
      {
        "id": 1,
        "text": "Lust murder"
      },
      {
        "id": 2,
        "text": "Masochism"
      },
      {
        "id": 3,
        "text": "Sexual oralism"
      },
      {
        "id": 4,
        "text": "Frotteurism"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Sexual asphyxia (autoerotic asphyxia/asphyxiophilia) is seen in<strong>&nbsp;masochism </strong>and transvestism.&nbsp;</p>\n<p>Pressure on carotid vessels/partial airway obstruction leads to cerebral <strong>hypoxia</strong> and <strong>impaired consciousness</strong>. This causes erotic hallucinations and sexual pleasure. A controlled degree of mechanical asphyxia is produced, but <strong>accidental deaths</strong> can happen.</p>\n<p>Option A: <strong>Lust murder&nbsp;</strong>is an extreme case of sadism where murder serves as a stimulus for a sexual act. Death is not accidental, as is in the case of sexual asphyxia.&nbsp;</p>\n<p>Option C: <strong>Sexual oralism&nbsp;</strong>is obtaining sexual pleasure from the application of the mouth to the sexual organs.<strong>&nbsp;</strong></p>\n<p>Option D: <strong>Frotteurism&nbsp;</strong>is a perversion mostly seen in males, where they obtain sexual gratification from rubbing their genitalia on unsuspecting females.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All the tests are used for seminal stains except ___________",
    "choices": [
      {
        "id": 1,
        "text": "Florence test"
      },
      {
        "id": 2,
        "text": "Barberio test"
      },
      {
        "id": 3,
        "text": "Creatine phosphokinase test"
      },
      {
        "id": 4,
        "text": "Spectroscopic test"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Spectroscopic test</strong> is used to detect <strong>blood stain</strong> (not seminal stain). Florence test, Barberio test and creatine phosphokinase test are used to detect seminal stain.</p>\n<p><strong>Forensic tests for detection of stains:</strong></p>\n<p>\u00a0</p>\n<table style=\"height: 165px; width: 385px;\">\n<tbody>\n<tr>\n<td style=\"width: 188px;\"><strong>Seminal stains</strong></td>\n<td style=\"width: 195px;\"><strong>Blood stains</strong></td>\n</tr>\n<tr>\n<td style=\"width: 188px;\">\n<ul>\n<li>Barberio test</li>\n<li>Florence test</li>\n<li>Acid phosphatase test</li>\n<li>Creatine phosphokinase test</li>\n<li>Immunological test to detect PSA (Prostate Specific Antigen)</li>\n</ul>\n</td>\n<td style=\"width: 195px;\">\n<ul>\n<li>Benzidine test</li>\n<li>Phenophthalein (Kastle Meyer) test</li>\n<li>Takayama hemochromogen crystal test</li>\n<li>Teichmann\u2019s hemin crystal test</li>\n<li>Spectroscopic test</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In case of rape on small children, the hymen is usually:",
    "choices": [
      {
        "id": 1,
        "text": "Ruptured, since it is superficially situated"
      },
      {
        "id": 2,
        "text": "Ruptured, since it is very thin"
      },
      {
        "id": 3,
        "text": "Intact, since it is deeply situated"
      },
      {
        "id": 4,
        "text": "Intact, since it is highly elastic"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In case of rape on small children, <strong>hymen is usually intact, since it is deeply situated.</strong></p>\n<p>In children, the hymen is deeply situated, and as the vagina is very small, it is impossible for the penetration of the adult organ to take place.</p>\n<p>In children, there are a few or no signs of general violence, as the child is unaware of the assault and incapable of resisting. A few indicators for routine enquiry are pain on urination and/or defecation, abdominal pain, inability to sleep, sudden withdrawal from peers/adults, feelings of anxiety, nervousness, helplessness, weight loss, and feelings of ending one&rsquo;s life.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 28-year-old woman who was sexually abused is now pregnant and wants to undergo an abortion. She was diagnosed with autism at the age of 2 years. According to the MTP Act, consent for this procedure is needed from whom?",
    "choices": [
      {
        "id": 1,
        "text": "The woman only"
      },
      {
        "id": 2,
        "text": "Her husband only"
      },
      {
        "id": 3,
        "text": "The woman & her husband"
      },
      {
        "id": 4,
        "text": "The woman & her family"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>According to the <strong>MTP</strong> Act, for medical termination of pregnancy, <strong>consent</strong> is needed from the&nbsp;<strong>woman only.</strong></p>\n<p>Consent of the husband is not necessary. Abortion cannot be performed at the request of the husband if the woman is not willing.</p>\n<p>Written consent of the guardian or family is required only when the woman in question is mentally ill or a minor. A diagnosis of autism wouldn't affect the decision-making capacity of the woman.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Earliest sign of maceration is:",
    "choices": [
      {
        "id": 1,
        "text": "Skin reddening with peeling"
      },
      {
        "id": 2,
        "text": "Spalding sign"
      },
      {
        "id": 3,
        "text": "Robert\u2019s sign"
      },
      {
        "id": 4,
        "text": "Deuel\u2019s halo sign"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The earliest sign of maceration is <strong>reddening of the skin with peeling (12 hours).</strong></p>\n<p><strong>Maceration</strong> is a process of\u00a0<strong>aseptic autolysis </strong>occurring after the intrauterine death of a fetus.</p>\n<p><strong>Robert sign </strong>is a radiological sign which refers to the presence of a gas shadow within the chambers of the heart or the greater vessels like the aorta, in cases\u00a0<strong>of fetal death in utero</strong>.</p>\n<p><strong>Deuel\u2019s halo sign \u2013 </strong>It is a radiological sign showing an\u00a0increase pericranial fat, seen in intrauterine fetal death.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following tests on live birth are based on the changes in the middle ear?",
    "choices": [
      {
        "id": 1,
        "text": "Fodere\u2019s test"
      },
      {
        "id": 2,
        "text": "Ploucquet\u2019s test"
      },
      {
        "id": 3,
        "text": "Wredin\u2019s test"
      },
      {
        "id": 4,
        "text": "Breslau\u2019s second life test"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Wredin&rsquo;s test</strong> is based on the changes in the <strong>middle ear.</strong></p>\n<p><strong>Tests for live birth:</strong></p>\n<ul>\n<li><strong>Wredin&rsquo;s test</strong>&nbsp;&ndash; Before birth, the middle ear does not contain air. It only contains gelatinous embryonic connective tissue. With respiration, the eustachian tube opens and the gelatinous substance is replaced by air. For this, the middle ear must be opened underwater by removing tegmen tympani. If an air bubble comes out, the test is said to be positive. This is <strong>not at all reliable.</strong></li>\n<li><strong>Fodere&rsquo;s test</strong>&nbsp;&ndash; Based on the increase in the weight of the lung due to increased blood flow after birth. The weight of&nbsp;unrespired lung is 30&ndash;40g whereas the weight of&nbsp;respired lung is 60&ndash;66 g.</li>\n<li><strong>Ploucquet&rsquo;s test</strong>&nbsp;&ndash; Based on the ratio of the weight of the lung to the weight of the body in unrespired and respired lungs.\n<ul>\n<li><strong>Unrespired lungs:</strong>&nbsp;Weight of lungs: weight of body = 1:70</li>\n<li><strong>Respired lungs:&nbsp;</strong>Weight of lungs: weight of body = 1:35</li>\n</ul>\n</li>\n<li><strong>Breslau&rsquo;s second life test:</strong>&nbsp;Air enters the&nbsp;<strong>stomach </strong>and<strong> intestine</strong> during respiration in a live-born fetus. So if respiration has taken place, they float in water, otherwise, they sink.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "While studying the x-ray of a child brought to the casualty, the doctor notices a \"string of beads\" appearance in the paravertebral region. Which of the following conditions is this finding most likely associated with?",
    "choices": [
      {
        "id": 1,
        "text": "Sandifer\u2019s syndrome"
      },
      {
        "id": 2,
        "text": "Infantile whiplash syndrome"
      },
      {
        "id": 3,
        "text": "Munchausen syndrome"
      },
      {
        "id": 4,
        "text": "Sudden infant death syndrome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>String of beads</strong> appearance in the paravertebral region on an x-ray is associated with <strong>infantile whiplash syndrome.\u00a0</strong></p>\n<p>In\u00a0<strong>battered baby syndrome/ Caffey syndrome / infantile whiplash syndrome</strong>, violent squeezing of the chest from side to side causes\u00a0fracture of costochondral junctions and also along with the posterior angles of the rib. After callus formation which takes around 2 weeks, it gives a \u201c<strong>string of beads</strong>\u201d appearance in the paravertebral region on X-ray.</p>\n<div class=\"page\" title=\"Page 467\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>A battered child is one who is a victim of <strong>repetitive physical injuries</strong> as a result of <strong>non-accidental violence</strong>, inflicted by the parent or a guardian. The physical injury may also be associated with deprivation of nutrition, care, and affection.</p>\n<p>It is usually seen in children less than\u00a0<strong>3 years\u00a0</strong>of age with a history of emotional or financial problems in the family.</p>\n<p>Laceration of the upper lip and\u00a0<strong>tear</strong> of the <strong>fraenulum</strong>\u00a0are frequently seen lesions, resulting from efforts to silence a crying child.</p>\n<p>Bruises may be seen on either side of the chest, behind the axillae, and down the anterior chest wall, due to the child being gripped in a rough manner, between the perpetrator's hands and shaken. This shaking of a child leads to\u00a0<strong>infantile whiplash syndrome</strong>, often resulting in\u00a0<strong>subdural hematoma</strong> and <strong>intraocular bleeding</strong> in battered babies. Permanent brain damage can occur due to habitual, prolonged shaking.\u00a0</p>\n<p>The most common cause of death is a <strong>head injury</strong>, followed by the rupture of any abdominal organ.</p>\n<p>Other options:<br />Option A: <strong>Sandifer syndrome</strong> involves <strong>gastroesophageal reflux</strong> in <strong>infants</strong> resulting in episodes of generalized stiffening and opisthotonic posturing. This may be accompanied by apnea, staring, and minimal jerking of the extremities. These episodes often occur <strong>30 min after a feed</strong> and in older children, it manifests with episodic dystonic or dyskinetic movements consisting of laterocollis, retrocollis, or torticollis.</p>\n<p>Option C: <strong>Munchausen's syndrome</strong> involves <strong>feigning illness</strong> or <strong>injury</strong> and going from hospital to hospital for unnecessary investigations and treatment. It is seen in the adults themselves.</p>\n<p>Option D: <strong>Sudden infant death syndrome</strong>\u00a0is defined as the sudden and unexpected death of a <strong>seemingly healthy infant</strong>, and whose <strong>death remains unexplained</strong> even after a thorough case investigation, death scene examination, review of clinical history and a complete autopsy.</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An unmarried mother purposefully drowned and caused the death of her newborn infant in the bathtub. She will be punished under which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Section 40 of BNS (IPC 102)"
      },
      {
        "id": 2,
        "text": "Section 103 of BNS (IPC 302)"
      },
      {
        "id": 3,
        "text": "Section 91 of BNS (IPC 315)"
      },
      {
        "id": 4,
        "text": "Section 108 of BNS (IPC 306)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The woman will be punished under <strong>BNS Section 103</strong> (IPC 302), which deals with the punishment for murder. This offence is punishable with <strong>death</strong> or <strong>imprisonment for life</strong>, and shall also be liable to a <strong>fine.</strong></p>\n<p>Other relevant sections include:</p>\n<ul>\n<li>BNS Section 93 (IPC 317) - Abandoning a child of &lt;12 years</li>\n<li>BNS Section 94 (IPC 318) - Concealment of birth</li>\n</ul>\n<p>Option A: <strong>BNS Section 40</strong> (IPC 102) deals with the commencement and continuance of the <strong>private defence of the body</strong>.</p>\n<p>Option C:<strong> BNS Section 91</strong> (IPC 315) deals with <strong>acts </strong>done<strong> before birth</strong> with the intent to <strong>prevent</strong> a child from being <strong>born alive</strong> or to cause to <strong>die</strong> <strong>after birth</strong>.</p>\n<p>Option D: <strong>BNS Section 108</strong> (IPC 306) deals with punishment for <strong>abetment to suicide</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs produce a strong physical dependence?",
    "choices": [
      {
        "id": 1,
        "text": "LSD"
      },
      {
        "id": 2,
        "text": "Alcohol"
      },
      {
        "id": 3,
        "text": "Cannabis"
      },
      {
        "id": 4,
        "text": "Cocaine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Alcohol</strong> is associated with strong physical dependence. Cannabis, LSD, Antidepressants and antipsychotics do not produce a physical dependence.</p>\n<p><strong>Physical or physiological dependence</strong>\u00a0is a physical condition caused by chronic use of a\u00a0tolerance\u00a0forming drug, in which abrupt or gradual\u00a0drug withdrawal\u00a0causes unpleasant physical symptoms.</p>\n<p>Alcoholism or <strong>Alcohol dependence</strong> is the inability to stop or control drinking because of a physical and emotional dependence on alcohol.\u00a0</p>\n<p><strong>Physiological dependence on cocaine does occur</strong>, although cocaine withdrawal is mild compared with with\u00addrawal from opiates and opioids.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A woman was drugged with a substance, which was slipped into her coffee without her knowledge by a man at her workplace. The man confessed that he tried to make her notice him by adding a love philter to her coffee. Which of the following would he have used?",
    "choices": [
      {
        "id": 1,
        "text": "CNS depressants"
      },
      {
        "id": 2,
        "text": "Deliriants"
      },
      {
        "id": 3,
        "text": "Stupefying agents"
      },
      {
        "id": 4,
        "text": "Aphrodisiacs"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>A&nbsp;<strong>love philter</strong> is a magical potion that is supposed to make the person who receives the potion love the one who gave it. These are usually <strong>aphrodisiacs.</strong></p>\n<p>Some aphrodisiacs that are used as&nbsp;love philter are:</p>\n<ul>\n<li>Cantharides</li>\n<li>Arsenic</li>\n<li>Alcohol</li>\n<li>Opium</li>\n<li>Cocaine</li>\n<li>Cannabis</li>\n</ul>\n<p>The use of a love philter might lead to&nbsp;<strong>accidental poisoning</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old girl is rushed to the casualty in an unconscious state as she has consumed ant chalks 2 hours ago. On examination, you note the presence of miosis and crackles on chest auscultation. She is hypotensive with PR of 50 bpm, RR of 36 /min, and ECG showing prolonged QTc. You start treating her with atropine sulphate IV. Which of the following will you consider as the therapeutic endpoint?",
    "choices": [
      {
        "id": 1,
        "text": "Pupillary dilation"
      },
      {
        "id": 2,
        "text": "Increase in heart rate"
      },
      {
        "id": 3,
        "text": "Normal ECG"
      },
      {
        "id": 4,
        "text": "Clear chest on auscultation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical scenario is suggestive of <strong>acute organophosphorus poisoning </strong>which&nbsp;is treated with atropine sulphate.&nbsp;<strong>Clear chest</strong> on <strong>auscultation</strong> indicates clearing of tracheobronchial secretions and cessation of bronchoconstriction. Hence, it is considered as the therapeutic <strong>endpoint</strong> of <strong>atropinization</strong>.&nbsp;</p>\n<p>Tachycardia and mydriasis are&nbsp;not&nbsp;appropriate markers for therapeutic improvement, as they may indicate continued hypoxia, hypovolemia, or sympathetic stimulation.</p>\n<p><strong>Treatment</strong> of organophosphorus poisoning:</p>\n<ul>\n<li>Decontamination</li>\n<li>Airway management</li>\n<li>Stomach wash - water with or without KMnO<sub>4</sub></li>\n<li><strong>Atropine sulphate</strong> at a dose of 2-4 mg IV - highly effective in counteracting the peripheral muscarinic effects and antagonize CNS effects at higher doses</li>\n<li><strong>Oximes</strong> - used early as they have more pronounced action on nicotinic sites</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In which of the following conditions will you use calcium gluconate for management in an emergency?",
    "choices": [
      {
        "id": 1,
        "text": "2, 3 only"
      },
      {
        "id": 2,
        "text": "1, 4 only"
      },
      {
        "id": 3,
        "text": "1, 3 and 4"
      },
      {
        "id": 4,
        "text": "1, 2 and 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Calcium gluconate is used in the management of hypocalcemia(in <strong>oxalic acid</strong> and <strong>hydrofluoric acid</strong> poisoning), and cardiotoxicity(in <strong>hyperkalemia</strong> and <strong>hypermagnesemia</strong>).</p>\n<p>Calcium gluconate is <strong>not</strong> used in the management of <strong>hypomagnesemia</strong> and <strong>hypokalemia</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following alcohols causes the most inebriation?",
    "choices": [
      {
        "id": 1,
        "text": "Methanol"
      },
      {
        "id": 2,
        "text": "Ethanol"
      },
      {
        "id": 3,
        "text": "Isopropyl alcohol"
      },
      {
        "id": 4,
        "text": "Glycerol"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p class=\"p1\"><strong>Isopropyl alcohol </strong>causes the most inebriation&nbsp;among the given.</p>\n<p class=\"p1\"><strong>Inebriation</strong>&nbsp;or drunkenness caused in descending order:</p>\n<ul>\n<li class=\"p1\">Isopropyl alcohol</li>\n<li class=\"p1\">Ethyl alcohol</li>\n<li class=\"p1\">Methyl alcohol</li>\n</ul>\n<p class=\"p1\"><strong>Toxicity </strong>or<strong>&nbsp;</strong>organic damage caused in descending order:</p>\n<ul>\n<li class=\"p1\">Isopropyl alcohol</li>\n<li class=\"p1\">Methyl alcohol</li>\n<li class=\"p1\">Ethyl alcohol</li>\n</ul>\n<p class=\"p1\">All alcohols cause clinical inebriation, such that the intensity of its inebriating effects is <strong>directly proportional</strong> to its molecular weight.</p>\n<table style=\"height: 152px; width: 288px;\">\n<tbody>\n<tr>\n<td style=\"width: 128.688px;\"><strong>Alcohol</strong></td>\n<td style=\"width: 143.312px;\"><strong>&nbsp;Molecular weight</strong></td>\n</tr>\n<tr>\n<td style=\"width: 128.688px;\">Methanol</td>\n<td style=\"width: 143.312px;\">32</td>\n</tr>\n<tr>\n<td style=\"width: 128.688px;\">Ethanol</td>\n<td style=\"width: 143.312px;\">46</td>\n</tr>\n<tr>\n<td style=\"width: 128.688px;\">Isopropanol</td>\n<td style=\"width: 143.312px;\">60</td>\n</tr>\n<tr>\n<td style=\"width: 128.688px;\">Ethylene glycol</td>\n<td style=\"width: 143.312px;\">62</td>\n</tr>\n</tbody>\n</table>\n<p class=\"p1\">&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 33-year-old patient is being evaluated for longstanding anemia. On clinical examination, you notice the given finding. Which of the following metal poisoning is associated with this characteristic finding?",
    "choices": [
      {
        "id": 1,
        "text": "Thallium"
      },
      {
        "id": 2,
        "text": "Arsenic"
      },
      {
        "id": 3,
        "text": "Lead"
      },
      {
        "id": 4,
        "text": "Beryllium"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image is showing characteristic&nbsp;<strong>Burtonian lines,&nbsp;</strong>which are seen in&nbsp;<strong>lead poisoning</strong>&nbsp;and mercury poisoning.</p>\n<p>These are&nbsp;<strong>bluish-grey gingival</strong> lead <strong>lines</strong> that occur with <strong>chronic</strong> exposure to <strong>lead</strong> poisoning.</p>\n<p>The image given below shows&nbsp;Burtonian lines on the gums.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0bd671a3cc524d59a27847e65eeff573.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/219b2049ea9c4f4f8f22fa7f092db149x720x458.JPEG"
    ]
  },
  {
    "text": "A person died after the consumption of seeds, which were found to be of the given plant. What is the main mechanism by which this plant poison acts?",
    "choices": [
      {
        "id": 1,
        "text": "Inhibition of protein synthesis"
      },
      {
        "id": 2,
        "text": "Stimulation of sodium channels"
      },
      {
        "id": 3,
        "text": "Direct cardiotoxicity"
      },
      {
        "id": 4,
        "text": "Anticholinesterase action"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shown is of the&nbsp;<strong>Ricinus communis</strong> (castor oil) plant. Ricin acts by <strong>inhibiting protein synthesis.</strong></p>\n<p>The main <strong>toxic</strong> element of the castor oil plant is <strong>ricin</strong>, a toxalbumin. It exerts its toxicity by entering cells and inhibiting protein synthesis. The entire plant is toxic, but the <strong>seeds</strong> contain the <strong>highest</strong> amount of toxalbumin.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/de72795efc21446e89206431e2b2b81b.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A person with suspected marijuana consumption is brought by the police for urine drug testing. He claims single use of marijuana at a party. Up to how many days can the drug be detected in his urine?",
    "choices": [
      {
        "id": 1,
        "text": "1 day"
      },
      {
        "id": 2,
        "text": "3 days"
      },
      {
        "id": 3,
        "text": "7 days"
      },
      {
        "id": 4,
        "text": "30 days"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>After a <strong>single use</strong> of <strong>marijuana,</strong> tetrahydrocannabinol (active principle of <em>Cannabis</em>) can be <strong>detected</strong> in <strong>urine</strong> tests for up to<strong> 3 days</strong>.</p>\n<p>Marijuana or <em>Cannabis</em> consists of the <strong>dried flowering tops</strong> and <strong>leaves</strong> of the plant <em>Cannabis sativa</em>. <strong>Hashish</strong> is prepared from the <strong>resin of the stems and leaves&nbsp;</strong>of this plant.</p>\n<p>With <strong>long-term use</strong>, cannabinoids can be&nbsp;detected up to <strong>30 days or longer</strong> after abstinence.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following image shows the mandible of____________",
    "choices": [
      {
        "id": 1,
        "text": "Infant"
      },
      {
        "id": 2,
        "text": "Adult male"
      },
      {
        "id": 3,
        "text": "Adult female"
      },
      {
        "id": 4,
        "text": "Old age"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the given image of mandible, the mental foramen is near the upper border and the angle of mandible is obtuse. Hence it is the mandible of old age.</p>\n<p>Difference between mandible in infancy, adult life and old age:</p>\n<table style=\"height: 86px; width: 391px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 62px; text-align: center;\">Trait</td>\n<td style=\"width: 110px; text-align: center;\">Infancy</td>\n<td style=\"width: 104px; text-align: center;\">Adult</td>\n<td style=\"width: 115px; text-align: center;\">Old age</td>\n</tr>\n<tr style=\"text-align: left;\">\n<td style=\"width: 62px;\"><strong>Ramus</strong></td>\n<td style=\"width: 110px;\"><strong>Forms obtuse angle with body</strong></td>\n<td style=\"width: 104px;\"><strong>Less obtuse angle with the body</strong></td>\n<td style=\"width: 115px;\"><strong>Obtuse angle with the body</strong></td>\n</tr>\n<tr style=\"text-align: left;\">\n<td style=\"width: 62px;\"><strong>Mental foramen</strong></td>\n<td style=\"width: 110px;\"><strong>Opens near the lower margin</strong></td>\n<td style=\"width: 104px;\"><strong>Opens midway between upper and lower margins</strong></td>\n<td style=\"width: 115px;\"><strong>Opens near the alveolar margin</strong></td>\n</tr>\n<tr style=\"text-align: left;\">\n<td style=\"width: 62px;\">Condyloid process</td>\n<td style=\"width: 110px;\">At a lower level than coronoid process</td>\n<td style=\"width: 104px;\">Elongated and projects above coronoid process</td>\n<td style=\"width: 115px;\">At a lower level than coronoid process</td>\n</tr>\n</tbody>\n</table>\n<p style=\"text-align: left;\">&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d51d71878e014b15a3745edc114b8bbd.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b582fc1f9d6b4ab6a85932d76bc9a116x259x194.JPEG"
    ]
  },
  {
    "text": "What does Section 200 of the BNS (IPC 166B) deal with?",
    "choices": [
      {
        "id": 1,
        "text": "Non-treatment of victim by hospital"
      },
      {
        "id": 2,
        "text": "Public servant disobeying direction under law"
      },
      {
        "id": 3,
        "text": "Public servant framing an incorrect document"
      },
      {
        "id": 4,
        "text": "Unlawful engagement in trade by hospital"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Section <strong>200</strong> of the <strong>BNS</strong> (<strong>166B</strong> IPC) deals with the <strong>non-treatment </strong>of<strong> victims</strong> by <strong>hospitals</strong>. Non-treatment of the victim by the hospital is in direct violation of <strong>Section 397 </strong>of<strong>\u00a0BNSS</strong> (Bharatiya Nagarik Suraksha Sanhita) [<strong>357C</strong> CrPC].</p>\n<p>BNS 199 (IPC <strong>166A</strong>)\u00a0deals with public servants\u00a0disobeying direction under law.</p>\n<p>BNS 201 (IPC <strong>167</strong>)\u00a0deals with public servants framing an incorrect document with an intent to cause injury.</p>\n<p>BNS 202 (IPC <strong>168</strong>) deals with public servants unlawfully engaging in trade.</p>\n<p>A comparison of Sections 199 and 200 of the BNS is given in the table below:</p>\n<table style=\"width: 299px; height: 384px;\">\n<tbody>\n<tr style=\"height: 64px;\">\n<td style=\"width: 93.734375px; height: 64px; text-align: center;\">\n<p><strong>Section</strong></p>\n</td>\n<td style=\"width: 99.046875px; height: 64px; text-align: center;\">\n<p><strong>199 BNS/ 166A IPC</strong></p>\n</td>\n<td style=\"width: 99.046875px; height: 64px; text-align: center;\">\n<p><strong>200 BNS/ </strong><strong>166B IPC</strong></p>\n</td>\n</tr>\n<tr style=\"height: 150px;\">\n<td style=\"width: 93.734375px; height: 150px;\">\n<p><strong>Deals with</strong></p>\n</td>\n<td style=\"width: 99.046875px; height: 150px;\">\n<p>Public servant disobeying direction under law</p>\n</td>\n<td style=\"width: 99.046875px; height: 150px;\">\n<p>Non-treatment of victim by hospital</p>\n</td>\n</tr>\n<tr style=\"height: 155px;\">\n<td style=\"width: 93.734375px; height: 155px;\">\n<p><strong>Punishment</strong></p>\n</td>\n<td style=\"width: 99.046875px; height: 155px;\">\n<p>Imprisonment for a minimum of 6 months which may extend to 2 years and fine</p>\n</td>\n<td style=\"width: 99.046875px; height: 155px;\">\n<p>Imprisonment for 1 year or fine or both</p>\n</td>\n</tr>\n<tr style=\"height: 155px;\">\n<td style=\"width: 93.734375px; height: 155px;\">\n<p><strong>Type of offense</strong></p>\n</td>\n<td style=\"width: 99.046875px; height: 155px;\">\n<p>Cognizable (arrestable without a warrant) and bailable</p>\n</td>\n<td style=\"width: 99.046875px; height: 155px;\">\n<p>Non-Cognizable and bailable</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the study and interpretation of post-mortem processes of human remains known as?",
    "choices": [
      {
        "id": 1,
        "text": "Forensic taphonomy"
      },
      {
        "id": 2,
        "text": "Thanatology"
      },
      {
        "id": 3,
        "text": "Criminology"
      },
      {
        "id": 4,
        "text": "Anthropology"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Forensic taphonomy</strong> is the study and interpretation of postmortem processes of human remains i.e. the history of a body following death.</p>\n<p><br />Option B: Thanatology is the scientific study of death among human beings in all aspects.<br />Option C: Criminology is social science approach to the study of crime as an individual and social phenomenon.<br />Option D: Anthropology is the study of all aspects of human beings.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false regarding medico-legal autopsy?",
    "choices": [
      {
        "id": 1,
        "text": "Consent from relatives is required"
      },
      {
        "id": 2,
        "text": "Legal permission is necessary"
      },
      {
        "id": 3,
        "text": "Magistrate is the authorizing officer in case of exhumation"
      },
      {
        "id": 4,
        "text": "In India, all registered medical practitioners can perform an autopsy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the case of a <strong>medicolegal autopsy</strong>, <strong>consent </strong>of the relatives<strong> is not required</strong>.</p>\n<p>For conducting a medicolegal autopsy:</p>\n<ul>\n<li><strong>Legal authorization</strong> is a must</li>\n<li><strong>Magistrate</strong> is the<strong> authorizing officer</strong> in case of<strong> exhumation</strong></li>\n<li>Preferably, a forensic pathologist or medicolegal expert does the autopsy. However, in<strong> India</strong>, due to the lack of adequate qualified experts, all <strong>registered medical practitioners</strong> can <strong>perform</strong> this with authorization by the state.</li>\n</ul>\n<p>Note: Clinical/ pathological autopsy requires consent from the relatives of the deceased.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Heat cramps in a patient can be called with all of the following names except?",
    "choices": [
      {
        "id": 1,
        "text": "Miner\u2019s cramps"
      },
      {
        "id": 2,
        "text": "Stoker\u2019s cramps"
      },
      {
        "id": 3,
        "text": "Fireman\u2019s cramps"
      },
      {
        "id": 4,
        "text": "Brawn's cramps"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Brawn's cramp is not other name for heat cramp. Brawn means muscular strength and breadth. There is nothing called as brawn's cramp.</p>\n<p>Other names for<strong> heat cramp</strong> are <strong>miner&rsquo;s cramp</strong>, <strong>fireman&rsquo;s cramp</strong>, <strong>stoker&rsquo;s cramp.</strong></p>\n<ul>\n<li>They are caused by <strong>rapid dehydration of body through the loss of water and salt in the sweat.</strong></li>\n<li>The muscle cramp is due to loss of sodium ions.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Electron microscopy of the surface of tooth enamel revealed a neonatal line. What is your inference?",
    "choices": [
      {
        "id": 1,
        "text": "Congenital malformation"
      },
      {
        "id": 2,
        "text": "Heavy metal poisoning"
      },
      {
        "id": 3,
        "text": "Still birth"
      },
      {
        "id": 4,
        "text": "Live birth"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Neonatal line</strong> is an incremental line found on the surface of tooth enamel, that indicates that an infant was <strong>live born</strong>.</p>\n<p>The study of dental microstructure, which involves counting <strong>perikymata</strong> (incremental lines on the surface of tooth enamel), can provide an accurate method of age determination.</p>\n<p>One particularly pronounced incremental line, the <strong>neonatal line</strong>, can be of <strong>medicolegal significance</strong> in determining whether an infant was live-born or stillborn. It is formed<strong> very soon </strong>after birth and can be visualized by light microscopy if the child survived for about 3 weeks or by electron microscopy within 1 or 2 days of birth.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which BNS section denotes the death of the human being, unless the contrary appears from the context?",
    "choices": [
      {
        "id": 1,
        "text": "2(14)/ IPC 44"
      },
      {
        "id": 2,
        "text": "2(17)/ IPC 45"
      },
      {
        "id": 3,
        "text": "2(6)/ IPC 46"
      },
      {
        "id": 4,
        "text": "2(3)"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>BNS Section <strong>2(6)</strong> (IPC <strong>46) </strong>denotes the <strong>death</strong> of a human being unless the contrary appears from the context. In simple words, the word death denotes the death of a human being unless the context suggests otherwise.</p>\n<p>Option A: BNS <strong>2(14)</strong> (IPC <strong>44</strong>)<strong> </strong>defines<strong>\u00a0injury</strong> as any harm illegally caused to any person, in body, mind, reputation, or property.</p>\n<p>Option B: BNS <strong>2(17)</strong> (IPC <strong>45</strong>) defines <strong>life</strong> as the life of a human being unless the contrary appears from the context.</p>\n<p>Option D: BNS <strong>2(3)</strong> defines a <strong>child</strong> as any person below the age of eighteen years. This is a new addition and was not there in the IPC.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following postmortem finding is noted on a dead body. This finding is most prominent after how many hours of death?",
    "choices": [
      {
        "id": 1,
        "text": "12-24 hours"
      },
      {
        "id": 2,
        "text": "24-36 hours"
      },
      {
        "id": 3,
        "text": "36-48 hours"
      },
      {
        "id": 4,
        "text": "Less than 12 hours"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given picture shows <strong>postmortem marbling.\u00a0</strong>It starts in <strong>24 hours </strong>and becomes prominent in<strong> 36-48 hours.</strong></p>\n<p>The <strong>blood</strong> in the vessels is <strong>haemolysed,</strong> which stains the vessel walls and the adjacent tissues, giving rise to a marbled appearance. It is <strong>greenish-brown</strong> or <strong>purplish-red</strong> discoloration of <strong>superficial veins</strong> due to the formation of <strong>sulfhemoglobin</strong> which diffuses into tissues. It is distinctly appreciable on the\u00a0abdomen, shoulders, chest, and inguinal region.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d5bbd5e500cc4193818536424a8f457b.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following can be estimated using Pearson's formula?",
    "choices": [
      {
        "id": 1,
        "text": "Stature"
      },
      {
        "id": 2,
        "text": "Age"
      },
      {
        "id": 3,
        "text": "Sex"
      },
      {
        "id": 4,
        "text": "Race"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Pearson&rsquo;s</strong> formula is used for the estimation of<strong> stature</strong>.</p>\n<p>Methods of <strong>determination</strong> of <strong>stature</strong>:</p>\n<p>1. <strong>Pearson's</strong> formula:&nbsp;Any bone may be used, but the measurement of one or more of the six <strong>long bones</strong> provides the most reliable estimates.&nbsp;The descending order of usefulness of bones is femur&gt; tibia&gt; humerus&gt; radius.</p>\n<p>2. <strong>Trotter </strong>and<strong> Gleser's </strong>method - Formula for stature (cm)&nbsp;= 1.30 (Femur + Tibia) + 63.29 (+/-2.99)</p>\n<p>3. Stature/<strong>femur </strong>relationship - The relationship between the mean stature and the mean length of the femur appears to be fairly stable around the world which is 3.74.</p>\n<p>4. <strong>Anatomical </strong>method - This is the <strong>most accurate</strong> method. It consists of the sum of the following parameters:</p>\n<ul>\n<li>Basibregmatic height of the skull</li>\n<li>Height of the vertebrae from the axis through the first sacral vertebra</li>\n<li>Bicondylar length of the femur</li>\n<li>Physiological length of the tibia</li>\n<li>Articulated height of the talus and calcaneus</li>\n<li>Constant is added to account for the soft tissues</li>\n</ul>\n<p>Note: Pearson also introduced the principle of regression.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What type of skull fracture is shown in the given image?",
    "choices": [
      {
        "id": 1,
        "text": "Diastatic fracture"
      },
      {
        "id": 2,
        "text": "Pond fracture"
      },
      {
        "id": 3,
        "text": "Gutter fracture"
      },
      {
        "id": 4,
        "text": "Depressed fracture"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image shows a&nbsp;<strong>gutter fracture</strong> of the skull as part of the outer table is missing.</p>\n<p class=\"p1\">Gutter fractures form a <strong>furrow</strong> in the <strong>outer table</strong> of the skull, usually as a result of a glancing blow by a missile from a rifled <strong>firearm</strong>. They may also be associated with comminuted depressed fractures of inner table of the skull.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c0bf9010119448a9b190202ffdfafb45.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which section of the BNS deals with the use of criminal force on a woman with the intent to outrage her modesty?",
    "choices": [
      {
        "id": 1,
        "text": "74 (IPC 354)"
      },
      {
        "id": 2,
        "text": "75 (IPC 354A)"
      },
      {
        "id": 3,
        "text": "76 (IPC 354B)"
      },
      {
        "id": 4,
        "text": "77 (IPC 354C)"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Use of criminal force on woman with the intent to outrage her modesty comes under Section <strong>74</strong> of the <strong>BNS</strong> (<strong>354</strong>\u00a0IPC).</p>\n<p>Important sections of IPC relating to sexual harassment:</p>\n<table style=\"width: 295px; height: 465px;\" border=\"0\">\n<tbody>\n<tr>\n<td style=\"width: 18.4446px; text-align: center;\">\n<p><strong>BNS section</strong></p>\n</td>\n<td style=\"width: 57.1236px; text-align: center;\">\n<p><strong>IPC section</strong></p>\n</td>\n<td style=\"width: 177.401px; text-align: center;\">\n<p><strong>Deals with</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 18.4446px; text-align: center;\">\n<p>74</p>\n</td>\n<td style=\"width: 57.1236px; text-align: center;\">\n<p>354</p>\n</td>\n<td style=\"width: 177.401px; text-align: center;\">\n<p>Assault or use of criminal force to woman with intent to outrage her modesty</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 18.4446px; text-align: center;\">\n<p>75</p>\n</td>\n<td style=\"width: 57.1236px; text-align: center;\">\n<p>354A</p>\n</td>\n<td style=\"width: 177.401px; text-align: center;\">\n<p>Sexual harassment of nature of unwelcome physical contact and advances or a demand or request for sexual favors, showing pornography</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 18.4446px; text-align: center;\">\n<p>76</p>\n</td>\n<td style=\"width: 57.1236px; text-align: center;\">\n<p>354B</p>\n</td>\n<td style=\"width: 177.401px; text-align: center;\">\n<p>Criminal force to women with intent to disrobe</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 18.4446px; text-align: center;\">\n<p>77</p>\n</td>\n<td style=\"width: 57.1236px; text-align: center;\">\n<p>354C</p>\n</td>\n<td style=\"width: 177.401px; text-align: center;\">\n<p>Voyeurism</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 18.4446px; text-align: center;\">\n<p>78</p>\n</td>\n<td style=\"width: 57.1236px; text-align: center;\">\n<p>354D</p>\n</td>\n<td style=\"width: 177.401px; text-align: center;\">\n<p>Stalking</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What type of injury is scalping?",
    "choices": [
      {
        "id": 1,
        "text": "Contusion"
      },
      {
        "id": 2,
        "text": "Abrasion"
      },
      {
        "id": 3,
        "text": "Incised wound"
      },
      {
        "id": 4,
        "text": "Laceration"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Scalping</strong> is a type of <strong>laceration</strong>. Here, a large area of skin and subcutaneous tissue is rolled off the scalp.&nbsp;</p>\n<p>These lesions could be caused by the traction of hair being trapped in machinery. This was formerly a common industrial accident. 'Hairnets' were worn by women factory workers to prevent this.</p>\n<p><strong>Flaying&nbsp;</strong>is also a type of laceration, caused by shearing force. This is where a large area of skin and subcutaneous tissue is rolled off a limb.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient died after a car accident and the cause was suspected as diffuse axonal injury. Forensic pathological examination revealed the following finding. After how many hours of injury does this finding appear?",
    "choices": [
      {
        "id": 1,
        "text": "2 hours"
      },
      {
        "id": 2,
        "text": "8 hours"
      },
      {
        "id": 3,
        "text": "10 hours"
      },
      {
        "id": 4,
        "text": "12 hours"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given image shows&nbsp;<strong>retraction balls/ globes</strong> which appear at <strong>12-18 hours</strong> after injury.&nbsp;</p>\n<p>Retraction balls are <strong>bulbous</strong> and clubbed <strong>axons</strong>. The number of retraction balls begins to <strong>decrease</strong> <strong>2-3 weeks</strong> after injury. This is followed by the appearance of&nbsp;a cluster of microglial cells, astrocytosis, and demyelination.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ed9e6de29db142618422450f83cb6915.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which among the following is the most common fingerprint pattern?",
    "choices": [
      {
        "id": 1,
        "text": "Loops"
      },
      {
        "id": 2,
        "text": "Whorls"
      },
      {
        "id": 3,
        "text": "Tented-arch"
      },
      {
        "id": 4,
        "text": "Plain-arch"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Loops</strong> are the <strong>most common</strong> fingerprint pattern encountered.&nbsp;</p>\n<p><strong>Patterns</strong> of fingerprints:</p>\n<ul>\n<li>Loops (60-70%)\n<ul>\n<li>Radial</li>\n<li>Ulnar</li>\n</ul>\n</li>\n<li>Whorls&nbsp;\n<ul>\n<li>Concentric</li>\n<li>Spiral</li>\n<li>Double spiral</li>\n<li>Almond shaped</li>\n</ul>\n</li>\n<li>Arches&nbsp;\n<ul>\n<li>Plain</li>\n<li>Tented</li>\n</ul>\n</li>\n<li>Composite\n<ul>\n<li>Central pocket loop</li>\n<li>Lateral pocket loop</li>\n<li>Twinned loop</li>\n<li>Accidentals</li>\n</ul>\n</li>\n</ul>\n<p>The image given below shows the different patterns of fingerprints.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7fca3fb351b5488e8063c9325d50cf6cx1280x2223.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a3c1008075764ce597a742df99b40170x600x454.PNG"
    ]
  },
  {
    "text": "Which of the following constitutional article is not related to children?",
    "choices": [
      {
        "id": 1,
        "text": "21A"
      },
      {
        "id": 2,
        "text": "24"
      },
      {
        "id": 3,
        "text": "45"
      },
      {
        "id": 4,
        "text": "42"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p class=\"p1\">Article 42 is not related to children. Article <strong>42</strong> says the state shall make provision for securing just and humane conditions of work and <strong>maternity relief.</strong></p>\n<p class=\"p1\">Constitutional Guarantees that are meant specifically for children include:</p>\n<ul class=\"ul1\">\n<li class=\"li1\">Article <strong>21 A</strong> - Right to free and compulsory elementary education in the 6 -14 year age group.</li>\n<li class=\"li1\">Article <strong>24 -\u00a0</strong>Right to be protected from any hazardous employment till the age of 14 years.</li>\n<li class=\"li1\">Article <strong>39 E -\u00a0</strong>Right to be protected from being abused.</li>\n<li class=\"li1\">Article <strong>39 F -\u00a0</strong>Right to equal opportunities and facilities.</li>\n<li class=\"li1\">Article <strong>45 -\u00a0</strong>Right to early childhood care and education for all children until they complete the age of 6 years.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What does the following image show?",
    "choices": [
      {
        "id": 1,
        "text": "Postmortem lividity"
      },
      {
        "id": 2,
        "text": "Bruise"
      },
      {
        "id": 3,
        "text": "Congestion"
      },
      {
        "id": 4,
        "text": "Abrasion"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the given image, <strong>margins </strong>are<strong> irregular</strong> and <strong>staining</strong> is <strong>not uniform.</strong>&nbsp;There is <strong>no area of contact pallor</strong> in the region of shoulder blades. This is&nbsp;indicative of a&nbsp;<strong>bruise.</strong></p>\n<p>The difference between a bruise and postmortem lividity is given below:</p>\n<table style=\"height: 375px;\" width=\"405\">\n<tbody>\n<tr>\n<td style=\"width: 120.812px; text-align: center;\"><strong>Features</strong></td>\n<td style=\"width: 127.141px; text-align: center;\"><strong>Bruise</strong></td>\n<td style=\"width: 135.047px; text-align: left;\"><strong>Postmortem lividity</strong></td>\n</tr>\n<tr>\n<td style=\"width: 120.812px;\">Cause</td>\n<td style=\"width: 127.141px;\">Ruptured vessels (either superficial or deep)</td>\n<td style=\"width: 135.047px;\">Engorged vessels showing through the skin</td>\n</tr>\n<tr>\n<td style=\"width: 120.812px;\">Location</td>\n<td style=\"width: 127.141px;\">At the site of blunt trauma</td>\n<td style=\"width: 135.047px;\">On dependent parts</td>\n</tr>\n<tr>\n<td style=\"width: 120.812px;\">Margins</td>\n<td style=\"width: 127.141px;\">Irregular</td>\n<td style=\"width: 135.047px;\">Clearly defined</td>\n</tr>\n<tr>\n<td style=\"width: 120.812px;\">Swelling and abrasion</td>\n<td style=\"width: 127.141px;\">Present</td>\n<td style=\"width: 135.047px;\">Absent</td>\n</tr>\n<tr>\n<td style=\"width: 120.812px;\">Contact pallor</td>\n<td style=\"width: 127.141px;\">Absent</td>\n<td style=\"width: 135.047px;\">Present on shoulder blades</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fd5cda4109524aef87a03f6349fd78a4.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7074599ff5464e358c3071a742a104c6x1280x1287.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/53b486f7a3e84d78b7460c706f6ecbdbx1280x946.JPEG"
    ]
  },
  {
    "text": "A second autopsy is performed in which of the following scenarios?",
    "choices": [
      {
        "id": 1,
        "text": "1 and 5 only"
      },
      {
        "id": 2,
        "text": "2, 4, and 5"
      },
      {
        "id": 3,
        "text": "3 and 4 only"
      },
      {
        "id": 4,
        "text": "1, 2, and 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>A second autopsy may be performed when relatives are not satisfied, new circumstances emerge, or investigating officer demands it.</p>\n<p>After an autopsy, when a <strong>repeat medicolegal postmortem</strong> is performed with the authorization by law it is called a <strong>second autopsy.</strong></p>\n<p>The <strong>magistrate/commissioner</strong> of the police vested with such power, <strong>orders</strong> the second autopsy.</p>\n<p>A second autopsy may be performed in the following cases:</p>\n<ul>\n<li>The relatives of the deceased are not satisfied with the first autopsy report&nbsp;and they have pointed out certain lapses in the first autopsy.</li>\n<li>The first autopsy was not performed in the light of the circumstances which are now available.</li>\n<li>The investigating authority demands a second autopsy&nbsp;for setting the investigation on the right track.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Abrasions are noted on the body of a person who was found dead at his home. Which of the following indicates that these might be produced after death?",
    "choices": [
      {
        "id": 1,
        "text": "Vital reaction positive"
      },
      {
        "id": 2,
        "text": "Congestion seen"
      },
      {
        "id": 3,
        "text": "Present over bony prominences"
      },
      {
        "id": 4,
        "text": "Bright reddish brown in color"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Abrasions</strong>&nbsp;present over<strong> bony prominences</strong> indicate that they might be produced<strong> after death</strong>. Antemortem abrasions may be located anywhere.&nbsp;</p>\n<p>Difference between antemortem and postmortem wounds:</p>\n<table style=\"width: 375px;\">\n<tbody>\n<tr style=\"height: 45px;\">\n<td style=\"width: 72px; height: 45px;\">Trait</td>\n<td style=\"width: 131.25px; height: 45px;\"><strong>Antemortem wounds &nbsp;</strong></td>\n<td style=\"width: 158.75px; height: 45px;\"><strong>Postmortem wounds</strong></td>\n</tr>\n<tr style=\"height: 45px;\">\n<td style=\"width: 72px; height: 45px;\">Site</td>\n<td style=\"width: 131.25px; height: 45px;\">Anywhere on the body</td>\n<td style=\"width: 158.75px; height: 45px;\">Usually over bony prominences &nbsp;</td>\n</tr>\n<tr style=\"height: 59px;\">\n<td style=\"width: 72px; height: 59px;\">Colour</td>\n<td style=\"width: 131.25px; height: 59px;\">Bright reddish brown</td>\n<td style=\"width: 158.75px; height: 59px;\">Yellowish, translucent, Parchment like&nbsp;</td>\n</tr>\n<tr style=\"height: 41px;\">\n<td style=\"width: 72px; height: 41px;\">Exudation</td>\n<td style=\"width: 131.25px; height: 41px;\">More</td>\n<td style=\"width: 158.75px; height: 41px;\">Less&nbsp;</td>\n</tr>\n<tr style=\"height: 78px;\">\n<td style=\"width: 72px; height: 78px;\">Microscopic</td>\n<td style=\"width: 131.25px; height: 78px;\">Intravital reaction and congestion seen</td>\n<td style=\"width: 158.75px; height: 78px;\">\n<p>No intravital reaction and congestion&nbsp;</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is an early sign of death?",
    "choices": [
      {
        "id": 1,
        "text": "Cessation of respiration"
      },
      {
        "id": 2,
        "text": "Adipocere"
      },
      {
        "id": 3,
        "text": "Rigor mortis"
      },
      {
        "id": 4,
        "text": "Cessation of circulation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Rigor mortis</strong>&nbsp;is an <strong>early sign</strong> of <strong>death.</strong>&nbsp;</p>\n<p><strong>Immediate</strong> signs of death (somatic death):</p>\n<ul>\n<li>Insensibility and loss of voluntary power</li>\n<li>Cessation of respiration</li>\n<li>Cessation of circulation</li>\n</ul>\n<p><strong>Early</strong> signs of death (cellular death):</p>\n<ul>\n<li>Pallor and loss of elasticity of the skin</li>\n<li>Eye changes</li>\n<li>Primary flaccidity of muscles</li>\n<li>Cooling of the body</li>\n<li>Postmortem lividity/suggilation</li>\n<li>Rigor mortis</li>\n</ul>\n<p><strong>Late</strong> signs of death:</p>\n<ul>\n<li>Putrefaction</li>\n<li>Adipocere</li>\n<li>Mummification</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Match the following sections of IPC:",
    "choices": [
      {
        "id": 1,
        "text": "a-1, b-2, c-3, d-4"
      },
      {
        "id": 2,
        "text": "a-3, b-1, c-4, d-2"
      },
      {
        "id": 3,
        "text": "a-2, b-3, c-4, d-1"
      },
      {
        "id": 4,
        "text": "a-4, b-2, c-1, d-3"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correctly matched IPC sections on evidence are:</p>\n<table style=\"height: 171px; width: 409px;\">\n<tbody>\n<tr>\n<td style=\"width: 59.5px;\"><strong>IPC</strong></td>\n<td style=\"width: 334.5px;\"><strong>Deals with</strong></td>\n</tr>\n<tr>\n<td style=\"width: 59.5px;\">191</td>\n<td style=\"width: 334.5px;\">Giving false evidence (perjury)</td>\n</tr>\n<tr>\n<td style=\"width: 59.5px;\">192</td>\n<td style=\"width: 334.5px;\">Fabricating false evidence</td>\n</tr>\n<tr>\n<td style=\"width: 59.5px;\">196</td>\n<td style=\"width: 334.5px;\">Using evidence known to be false</td>\n</tr>\n<tr>\n<td style=\"width: 59.5px;\">197</td>\n<td style=\"width: 334.5px;\">Issuing or signing a false certificate</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A pregnant woman suffered a miscarriage at 6 months of gestation. What would be the expected crown heel length of this fetus?",
    "choices": [
      {
        "id": 1,
        "text": "36 cm"
      },
      {
        "id": 2,
        "text": "30 cm"
      },
      {
        "id": 3,
        "text": "25 cm"
      },
      {
        "id": 4,
        "text": "20 cm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Crown heel length of a <strong>6-month-old fetus</strong> would be <strong>30 cm</strong>.</p>\n<p>According to the <strong>rule of Hasse</strong>:</p>\n<ul>\n<li>During the <strong>first five</strong> months of pregnancy, the <strong>square root</strong> of the length gives the approximate age of the fetus in months.</li>\n<li>During <strong>last five </strong>months, the length in centimeters is <strong>divided by five</strong> gives the age in months.</li>\n</ul>\n<p>So, crown heel length = age in months &times; 5 (i.e. 6 &times; 5 = 30 cm).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following tissues is most resistant to knife penetration?",
    "choices": [
      {
        "id": 1,
        "text": "Muscle"
      },
      {
        "id": 2,
        "text": "Subcutaneous tissue"
      },
      {
        "id": 3,
        "text": "Uncalcified cartilage"
      },
      {
        "id": 4,
        "text": "Skin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The tissue <strong>most resistant</strong> to knife penetration is the <strong>skin</strong>, apart from <strong>bone</strong> or <strong>calcified cartilage</strong>.</p>\n<p>When a knife-point impacts against the skin, the latter dimples, and resists. The tension developed in the stretched skin appears to act as an elastic reservoir and when the threshold of resistance is exceeded, penetration suddenly occurs.&nbsp;</p>\n<p>Muscle offers little resistance to penetration.<strong> Uncalcified cartilage </strong>and<strong> subcutaneous tissue</strong>&nbsp;are <strong>easily penetrated</strong> by a sharp knife.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You observe a forensic surgeon doing en masse removal of organs during an autopsy. Which of the following autopsy techniques is he performing?",
    "choices": [
      {
        "id": 1,
        "text": "Virchow technique"
      },
      {
        "id": 2,
        "text": "Rokitansky technique"
      },
      {
        "id": 3,
        "text": "Ghon technique"
      },
      {
        "id": 4,
        "text": "Letulle technique"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>en masse removal</strong> of <strong>organs</strong>&nbsp;is done in the <strong>Letulle technique.</strong></p>\n<p>It is the removal of the cervical, thoracic, abdominal and pelvic organs as a <strong>single organ mass</strong>. They are subsequently dissected into organ blocks.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is useful in identifying the make and model of a gun?",
    "choices": [
      {
        "id": 1,
        "text": "Primary markings"
      },
      {
        "id": 2,
        "text": "Secondary markings"
      },
      {
        "id": 3,
        "text": "Bullet fingerprinting"
      },
      {
        "id": 4,
        "text": "Rifling"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Primary markings&nbsp;</strong>is specific to the<strong> make and model </strong>of the gun. These are formed when a bullet passes through a barrel and the sides are marked by the rifling of the barrel.&nbsp;</p>\n<p><strong>Irregularities</strong> on the <strong>inner surface of the barrel</strong> itself which are <strong>specific</strong> for that particular weapon are also seen on the bullet and are called <strong>secondary markings / </strong>characteristic markings.</p>\n<p>Secondary markings are used for&nbsp;<strong>bullet fingerprinting.</strong></p>\n<p>Rifling is the process of adding spiral grooves on to the inside of the barrel of a gun. The elevations between the grooves are called 'lands'. These grip the bullet and impart onto it a rotatory movement. This has a gyroscopic effect that increases the stability of the bullet's trajectory and hence the&nbsp;<strong>accuracy</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following findings in a patient suggests an incised wound, rather than a split laceration?",
    "choices": [
      {
        "id": 1,
        "text": "Sharp linear injury in underlying bone"
      },
      {
        "id": 2,
        "text": "Hairs crossing the wound"
      },
      {
        "id": 3,
        "text": "Tissue strands across the interior of the wound"
      },
      {
        "id": 4,
        "text": "Bruising around margin of the wound."
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Sharp<strong> linear injury</strong> in the <strong>underlying bone</strong>\u00a0suggests an<strong> incised wound,</strong> rather than a split laceration.</p>\n<p>An incised wound is a clean-cut wound caused by a sharp-cutting instrument.</p>\n<p>A <strong>split laceration</strong> is a type of laceration that usually occurs in areas where the <strong>skin overlies bone</strong>. An example of such an area is the scalp. Split lacerations can <strong>resemble incised</strong> wounds.</p>\n<p>A <strong>laceration</strong> can be distinguished from an incised wound by:</p>\n<ul>\n<li><strong>Bruising </strong>and<strong> crushing</strong> of the margins</li>\n<li>Persistence of <strong>tissue strands</strong> across the <strong>interior</strong> of the <strong>wound</strong>, including fascial bands, vessels, and nerves</li>\n<li>Absence of a sharply linear injury in the underlying bone</li>\n<li>In areas covered by hair, as on the scalp, intact <strong>hairs</strong> will <strong>cross</strong> the <strong>wound</strong></li>\n</ul>\n<p>The image given below shows an incised wound.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/03b732b327144025b7ca49c278280593x1280x1280.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/93e1af89549f493db0d50410c49f69a4x800x600.JPEG"
    ]
  },
  {
    "text": "Which of the following is false regarding adipocere formation?",
    "choices": [
      {
        "id": 1,
        "text": "Facial features are not preserved making identification difficult"
      },
      {
        "id": 2,
        "text": "It inhibits growth of putrefactive bacteria"
      },
      {
        "id": 3,
        "text": "It is commonly seen in bodies immersed in water"
      },
      {
        "id": 4,
        "text": "It has distinct offensive or sweetish smell"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>When the process involves the face, the <strong>features</strong> are <strong>well preserved,</strong> which <strong>helps</strong> to establish the <strong>identity.</strong></p>\n<p>Adipocere is a modification of putrefaction. In this, the fatty tissues of the body change into a substance known as adipocere.&nbsp;The change is due to the gradual hydrolysis and hydrogenation of fats forming <strong>insoluble soaps.</strong> These soaps are acidic, which <strong>prevents</strong> the growth of <strong>putrefactive bacteria.</strong></p>\n<p>Adipocere has a distinct offensive or sweetish smell, but during the early stages of its production, a penetrating ammoniacal odor is also noticed.&nbsp;A <strong>warm, moist, anaerobic environment</strong> favors adipocere formation e.g., bodies immersed in water.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are tests to check cessation of circulation except",
    "choices": [
      {
        "id": 1,
        "text": "Diaphanous test"
      },
      {
        "id": 2,
        "text": "Winslow\u2019s test"
      },
      {
        "id": 3,
        "text": "Magnus\u2019s test"
      },
      {
        "id": 4,
        "text": "Icard\u2019s test"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Magnus&rsquo;s test (ligature test), </strong><strong>Diaphanous test (Transillumination test), Icard&rsquo;s test, Fingernail test</strong> are tests to check <strong>cessation of circulation</strong>. <strong>Option b:</strong> <strong>Winslow&rsquo;s test</strong> is used to check <strong>cessation of respiration</strong>.</p>\n<p><strong>Tests for confirming cessation of circulation:&nbsp;</strong><strong>No audible heart sounds</strong> on continuous auscultation on precordial area of chest for a <strong>minimum of 5 minutes</strong>, is suggestive of cessation of circulation and a <strong>flat ECG recording for 5 minutes</strong> confirms this.</p>\n<p><strong>Other tests:</strong></p>\n<ul>\n<li><strong>Magnus&rsquo;s test (Ligature test)&mdash;</strong>fingers fail to show congestion distal to a ligature applied at their base.</li>\n<li><strong>Diaphanous test (Transillumination test)</strong>&mdash;Failure to show redness in the web space between the fingers on transillumination from behind.</li>\n<li><strong>Icard&rsquo;s test</strong>&mdash;fluorescent dye on being injected at a given site in a dead body fails to produces any discolouration.</li>\n<li><strong>Fingernail test</strong>&mdash;no blanching and filling of blood in the fingernail on application of pressure and release.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Forensic Medicine Test I';
        const quizFilename = 'forensic-medicine-test-i-30208eb0.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2018 - 19"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>