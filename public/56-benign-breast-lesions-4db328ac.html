<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>56 Benign Breast Lesions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Pathology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">14</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>The terminal duct lobular unit (TDLU) is the functional unit of the breast. Which of the following is not a part of the TDLU?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Intralobular terminal duct"
      },
      {
        "id": 2,
        "text": "Extralobular terminal duct"
      },
      {
        "id": 3,
        "text": "Lactiferous duct"
      },
      {
        "id": 4,
        "text": "Ductules"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) <span class=\"customMeta\" data-dictid=\"8ef2f22a3f1692777191d43bb00fb2\">Lactiferous</span> duct</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>Lactiferous ducts are not a part of the TDLU.</p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"https://oncohemakey.com/the-normal-breast-and-benign-diseases-of-the-breast/\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/tMw3PQ3rMOvKuFWx3neZ1737513605.png\" width=\"500\" /></p>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"https://roentgenrayreader.blogspot.com/2010/08/terminal-ductal-lobular-unit.html\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/Pn4P4D3kg91qj9xmNr291737513656.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>The morpho-functional unit of the breast is the <strong>terminal <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">duct</span> lobular unit(TDLU). </strong></li>\n\t<li>TDLU is a grapelike cluster of small <span class=\"customMeta\" data-dictid=\"0dd428c12116927771819285c8849c\">alveoli</span> that comprises <span class=\"customMeta\" data-dictid=\"633bbec0f916927771913a073bbea5\">lobule</span> and <span class=\"customMeta\" data-dictid=\"16b76d1d1c1692777200240efcb0e2\">terminal</span> duct.</li>\n\t<li>A <span class=\"customMeta\" data-dictid=\"633bbec0f916927771913a073bbea5\">lobule</span> is a collection of multiple ductules, which are epithelial structures that produce milk during lactation.</li>\n\t<li>Terminal ducts consist of 2 parts:</li>\n</ul>\n\n<ol>\n\t<li><strong>Intralobular <span class=\"customMeta\" data-dictid=\"16b76d1d1c1692777200240efcb0e2\">terminal</span> duct: </strong>A portion of the <span class=\"customMeta\" data-dictid=\"16b76d1d1c1692777200240efcb0e2\">terminal</span> <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">duct</span> located within the lobule.</li>\n\t<li><strong>Extralobular <span class=\"customMeta\" data-dictid=\"16b76d1d1c1692777200240efcb0e2\">terminal</span> duct</strong> is the portion connecting the <span class=\"customMeta\" data-dictid=\"633bbec0f916927771913a073bbea5\">lobule</span> to the <span class=\"customMeta\" data-dictid=\"8ef2f22a3f1692777191d43bb00fb2\">lactiferous</span> duct.</li>\n</ol>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/tMw3PQ3rMOvKuFWx3neZ1737513605.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/Dp1dtwwvZze84EUgmDEc1752902316.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/EYX0Ubq6uKiffBgjd0hK1752902359.mp3"
  },
  {
    "text": "<p>A 24-year-old with a 2-month-old infant presents to the OPD with pain in her left breast. The baby is exclusively breastfed. On examination, the nipple is tender and erythematous with a fluctuant mass beneath the areola. Which of the following is the most common cause of this condition?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Pseudomonas aeruginosa"
      },
      {
        "id": 2,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 3,
        "text": "Streptococcus sp."
      },
      {
        "id": 4,
        "text": "Listeria monocytogenes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"71c203268816927771994a1fffd645\">Staphylococcus</span> aureus</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The clinical scenario suggests <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <strong>breast abscess</strong> from <strong>lactational mastitis</strong> which is commonly caused by<em> </em><strong>Staphylococcus aureus</strong><em>.</em></li>\n\t<li>It is caused by a local infection through <strong>cracks and fissures</strong> in the nipples that occur commonly during the 1st month of breastfeeding.</li>\n\t<li>It is often preceded by either <span class=\"customMeta\" data-dictid=\"02316c22e31692777187878aa0e0f7\">engorgement</span> or a focally blocked duct.</li>\n\t<li>Patients can develop a <span class=\"customMeta\" data-dictid=\"da6db7b0e21692777203c4075458d3\">focal</span> area of erythema, pain, fever, and swelling. This can further develop into single or multiple abscesses.</li>\n\t<li>Streptococcus pyogenes, <span class=\"customMeta\" data-dictid=\"c2ea0d4bf01692777187d486aa6385\">Escherichia</span> coli, <span class=\"customMeta\" data-dictid=\"8cad4fab55169277718248f3657d0f\">Bacteroides</span> species, and <span class=\"customMeta\" data-dictid=\"cc520058161692777185da0fc11a45\">coagulase-negative Staphylococci</span> are other organisms that cause mastitis.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/neYSEFsvsKP8g9hx8cXA1752902406.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Q3PHPSNUljvbUGGcuaOv1752902458.mp3"
  },
  {
    "text": "<p>A 48-year-old woman presents with pain in her left breast and associated nipple discharge for the past few weeks. She denies any fever, chills, or recent lactation. On examination, a small ovoid, well-defined subareolar mass is felt. What is the most likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Acute mastitis"
      },
      {
        "id": 2,
        "text": "Duct ectasia"
      },
      {
        "id": 3,
        "text": "Ductal carcinoma in situ"
      },
      {
        "id": 4,
        "text": "Fibroadenoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">Duct</span> ectasia</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>The patient presenting with breast pain, <span class=\"customMeta\" data-dictid=\"9fdffd913216927771936512ee5b2a\">nipple</span> discharge, and <span class=\"customMeta\" data-dictid=\"bd478e4ff816927771949528846af9\">palpable</span> <span class=\"customMeta\" data-dictid=\"ba2454588016927771996f5f346221\">subareolar</span> mass most likely has <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">duct</span> ectasia.</p>\n\n<ul>\n\t<li>Mammary <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">duct</span> <span class=\"customMeta\" data-dictid=\"def85be6371692777186604c253b12\">ectasia</span> is a<strong> benign, non-proliferative</strong> breast disease that affects large ducts.</li>\n\t<li>It is most common in women who are <strong>nearing menopause,</strong> typically between the ages of 45 and 55.</li>\n\t<li>The breast ducts become clogged with thick <span class=\"customMeta\" data-dictid=\"9b0ae3750916927771986c15d4ff4d\">secretion</span> and debris, leading to <span class=\"customMeta\" data-dictid=\"d141b433d2169277718681e3ff6bc3\">dilation</span> of the duct.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.mayoclinic.org/diseases-conditions/mammary-duct-ectasia/symptoms-causes/syc-20374801\" data-tags=\"\" height=\"500\" src=\"https://image.prepladder.com/content/8xWAxZ1jdSURWiqsHcmz1737513908.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<p><strong>Symptoms</strong></p>\n\n<ul>\n\t<li><strong>Nipple discharge,</strong> which can be clear, green, brown, or bloody</li>\n\t<li><strong>Breast <span class=\"customMeta\" data-dictid=\"169e1c9eb416927772006ea5a02252\">tenderness</span> or pain</strong>, especially around the nipple</li>\n\t<li>A tender <strong>lump </strong>in the <span class=\"customMeta\" data-dictid=\"ba2454588016927771996f5f346221\">subareolar</span> or periareolar region of a breast</li>\n\t<li>Inward <strong>retraction of the nipple</strong> due to repeated episodes and scarring\n\t<ul>\n\t\t<li><strong>A <span class=\"customMeta\" data-dictid=\"a6260fa86416927772008d36bd7e5f\">transverse</span> slit-like or fish-mouth-like <span class=\"customMeta\" data-dictid=\"b7eab06f1a1692777197e0b50983e5\">retraction</span> of the <span class=\"customMeta\" data-dictid=\"9fdffd913216927771936512ee5b2a\">nipple</span> is classically seen in <span class=\"customMeta\" data-dictid=\"b7e71e2acf1692777195087acd2271\">periductal</span> <span class=\"customMeta\" data-dictid=\"f9bb7eef89169277719156e408105a\">mastitis</span> but <span class=\"customMeta\" data-dictid=\"57793361701692777184c3bc13c91d\">circumferential</span> <span class=\"customMeta\" data-dictid=\"b7eab06f1a1692777197e0b50983e5\">retraction</span> may indicate a carcinoma. </strong></li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>Ductal <span class=\"customMeta\" data-dictid=\"def85be6371692777186604c253b12\">ectasia</span> is often diagnosed during a routine <strong>mammogram or breast exam </strong>and managed by excision.<strong> </strong>If a lump is found, a <span class=\"customMeta\" data-dictid=\"754ab07a2e1692777183ed178c883d\">biopsy</span> may be needed to rule out cancer.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/8xWAxZ1jdSURWiqsHcmz1737513908.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/kx2ov44NXZY7VH1xsss41752902640.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/0OYKd99EwJXGaiNsGbP21752905850.mp3"
  },
  {
    "text": "<p>Which of the following statements regarding Zuska\u2019s disease is incorrect?</p>\n\n<p>\u00a0</p>\n\n<p><br />\n\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "There is squamous metaplasia of the lactiferous duct"
      },
      {
        "id": 2,
        "text": "Characterized by the formation of keratin plug"
      },
      {
        "id": 3,
        "text": "Presents as subareolar abscess"
      },
      {
        "id": 4,
        "text": "Alcohol is a risk factor"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Alcohol is a risk factor</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Alcohol is a major risk factor in Zuska\u2019s disease along with smoking.</p>\n\n<ul>\n\t<li>Zuska\u2019s disease is also known as <strong>Squamous <span class=\"customMeta\" data-dictid=\"cb4dfcbab11692777192d282b3be7a\">metaplasia</span> of <span class=\"customMeta\" data-dictid=\"8ef2f22a3f1692777191d43bb00fb2\">lactiferous</span> ducts(SMOLD),</strong> <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> <span class=\"customMeta\" data-dictid=\"ba2454588016927771996f5f346221\">subareolar</span> abscess, or <span class=\"customMeta\" data-dictid=\"b7e71e2acf1692777195087acd2271\">periductal</span> mastitis.</li>\n\t<li>The risk factors include a <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> of <strong>vitamin A</strong> associated with smoking(90% of cases).</li>\n\t<li>This leads to k<strong>eratinizing <span class=\"customMeta\" data-dictid=\"5be0ee4ea316927771997104326685\">squamous</span> <span class=\"customMeta\" data-dictid=\"cb4dfcbab11692777192d282b3be7a\">metaplasia</span> </strong>of the ductal epithelium, which is cuboidal.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"Amy Ly\" data-hash=\"\" data-license=\"CC BY 4.0\" data-source=\"https://www.sciencedirect.com/science/article/pii/S2772736X22000202\" data-tags=\"\" height=\"661\" src=\"https://image.prepladder.com/content/JizYxiAef0d49CLIdsmE1737515218.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Keratin released from these cells blocks the ductal system.</li>\n\t<li>This leads to the formation of <span class=\"customMeta\" data-dictid=\"ba2454588016927771996f5f346221\">subareolar</span> abscess, dilation, and eventually, the <span class=\"customMeta\" data-dictid=\"e73553a3a5169277719787fd5f4680\">rupture</span> of the duct, causing fistulas.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/JizYxiAef0d49CLIdsmE1737515218.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/H1LMEaGijEl1SClQyDru1752902719.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/OxO7hFXyIK9RZTrcIdbD1752905925.mp3"
  },
  {
    "text": "<p>Which of the following conditions is most likely to cause a sticky, green, or black discharge from the nipple?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Duct Papilloma"
      },
      {
        "id": 2,
        "text": "Paget's Disease"
      },
      {
        "id": 3,
        "text": "Duct Ectasia"
      },
      {
        "id": 4,
        "text": "Breast Cancer"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">Duct</span> Ectasia</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Duct Ectasia:</strong></p>\n\n<ul>\n\t<li>This is a <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> (non-cancerous) condition where the milk ducts in the breast widen and thicken.</li>\n\t<li>This can cause a <span class=\"customMeta\" data-dictid=\"43c30dc8c8169277718317ffb7dea0\">blockage</span> and a build-up of fluid, which often appears as a sticky, green, black, or grey <span class=\"customMeta\" data-dictid=\"9dd87431ba1692777186ecfb21d258\">discharge</span> from the nipple.</li>\n</ul>\n\n<table align=\"center\" cellspacing=\"0\" style=\"border-collapse:collapse; width:566px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Discharge Colour</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Disorders</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Clear or Milky</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">Hormonal fluctuations, Pregnancy, Breastfeeding</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Yellow, Green, or Brown</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">Duct Ectasia, Infection</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Bloody</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">Duct Papilloma, Paget's Disease, Breast Cancer</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>White or Cloudy</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\">Infection</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/5BZEeOSWYxgpT0nRU80O1752902788.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/8QkHtwCRc2SlKWfYNTpd1752905983.mp3"
  },
  {
    "text": "<p>A 38-year-old woman presents with a firm, immobile mass in her right breast for the past few days. 2 weeks ago, she bruised her breast while exercising. A mammogram reveals scattered punctate calcifications within the lump. What is the most likely diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"O'Donnell C, Fat necrosis - breast. Case study, Radiopaedia.org\" data-hash=\"\" data-license=\"\" data-source=\"https://radiopaedia.org/cases/17485\" data-tags=\"\" height=\"636\" src=\"https://image.prepladder.com/content/b1AUtrc26MZ4n1G5cAEw1737515305.png\" width=\"500\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Mastitis"
      },
      {
        "id": 2,
        "text": "Breast abscess"
      },
      {
        "id": 3,
        "text": "Fat Necrosis"
      },
      {
        "id": 4,
        "text": "Inflammatory Breast Cancer"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Fat Necrosis</strong></p>\n\n<p><strong>Explanation: </strong> The most likely diagnosis in this patient with recent trauma and <span class=\"customMeta\" data-dictid=\"a1ee14c673169277718351bfe6afd4\">calcification</span> could be fat necrosis.</p>\n\n<ul>\n\t<li><strong>Breast fat necrosis</strong> is caused by <strong>injured or ischemic breast tissue</strong> that is replaced with <span class=\"customMeta\" data-dictid=\"561a199cce1692777198225706434c\">scar</span> tissue and presents as a <span class=\"customMeta\" data-dictid=\"bd478e4ff816927771949528846af9\">palpable</span> nodule.</li>\n\t<li>It is commonly caused by breast trauma and breast <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> procedures.</li>\n\t<li>It presents as a <strong>mammographic density</strong>, a painless <span class=\"customMeta\" data-dictid=\"bd478e4ff816927771949528846af9\">palpable</span> lump, skin thickening, or deposits of calcium.</li>\n\t<li>Fat <span class=\"customMeta\" data-dictid=\"5e84a7987c16927771931012aced83\">necrosis</span> can manifest in a variety of ways that closely resemble cancer like <span class=\"customMeta\" data-dictid=\"863f5457381692777190f05632a8b2\">irregular</span> breast mass, usually fixed to the dermis, with possible skin tethering and/or <span class=\"customMeta\" data-dictid=\"9fdffd913216927771936512ee5b2a\">nipple</span> <span class=\"customMeta\" data-dictid=\"b7eab06f1a1692777197e0b50983e5\">retraction</span> as a result of fibrotic bands between necrotic tissue and skin.</li>\n\t<li>Calcifications can sometimes occur in fat necrosis, particularly in older lesions. These are typically <strong>punctate (tiny dots)</strong> and scattered throughout the lump, unlike some cancers (differentiated by biopsy).</li>\n</ul>\n\n<p><strong>Mastitis(Option A): </strong>This is an infection of breast tissue, often caused by bacteria entering through milk ducts during breastfeeding. It can cause inflammation, redness, pain, fever, and chills, which are absent in this case.</p>\n\n<p><strong>Breast Abscess(Option B)</strong> This is a <span class=\"customMeta\" data-dictid=\"8fb8df140b1692777191702bbc9358\">localized</span> collection of <span class=\"customMeta\" data-dictid=\"e4626b4cea16927771968e59732fef\">pus</span> within the breast tissue, often caused by a bacterial infection. It presents with fever, chills, and a more <span class=\"customMeta\" data-dictid=\"1adaaa6ded16927772023e7fe0c856\">fluctuant</span> (fluid-filled) mass compared to the firm mass often felt with fat necrosis.</p>\n\n<p><strong>Inflammatory Breast Cancer(Option D):</strong> It typically presents with additional symptoms like skin thickening, <span class=\"customMeta\" data-dictid=\"8d04c26f1716927771951f6f59d3d6\">peau</span> d'orange (skin resembling an orange peel), and rapid progression.</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/b1AUtrc26MZ4n1G5cAEw1737515305.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/NQpUu9UnL8vXuprggirG1752902845.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/ZRU0fXFYGCcZDL7bdPKf1752906028.mp3"
  },
  {
    "text": "<p><strong>Match the following </strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Category</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diseases/disorders</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1. Non-proliferative breast changes</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>a) Sclerosing adenosis</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2. Proliferative diseases without atypia</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>b) Mild hyperplasia</p>\n\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>3. Proliferative breast diseases with atypia</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>c) Precancerous condition</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>4. Carcinoma in situ</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>d) Atypical ductal hyperplasia</p>\n\n\t\t\t<p>\u00a0</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "1- b, 2-d, 3-c, 4-a"
      },
      {
        "id": 2,
        "text": "1- b, 2-a, 3-d, 4-c"
      },
      {
        "id": 3,
        "text": "1- d, 2-a, 3-d, 4-c"
      },
      {
        "id": 4,
        "text": "1- d, 2-c, 3-a, 4-b"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) 1- b, 2-a, 3-d, 4-c</strong></p>\n\n<p><strong>Explanation </strong>:</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Category</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diseases/disorders </strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Non-proliferative breast changes</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Mild hyperplasia, <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">duct</span> ectasia, cysts, <span class=\"customMeta\" data-dictid=\"495f6155fb1692777181ce9121d548\">apocrine</span> metaplasia, adenosis, <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">fibroadenoma</span> without complex features</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Proliferative diseases without atypia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Moderate or <span class=\"customMeta\" data-dictid=\"dd2ae0244816927772021f36402705\">florid</span> hyperplasia, <span class=\"customMeta\" data-dictid=\"0aa16e71201692777198c4c07e2392\">sclerosing</span> adenosis, complex <span class=\"customMeta\" data-dictid=\"0aa16e71201692777198c4c07e2392\">sclerosing</span> lesion, <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">fibroadenoma</span> with complex features</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Proliferative breast diseases with atypia</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Atypical ductal hyperplasia</p>\n\n\t\t\t<p>Atypical lobular hyperplasia</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Carcinoma in situ</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Precancerous condition</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><br />\n\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/zUk8fk3qh0N1MHfgTcBF1752902908.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/bsksiIWv469h3M2fIJFv1752922555.mp3"
  },
  {
    "text": "<p>What is the absolute risk of a fibrocystic lesion of the breast converting to malignancy?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "<1%"
      },
      {
        "id": 2,
        "text": "3%"
      },
      {
        "id": 3,
        "text": "5-7%"
      },
      {
        "id": 4,
        "text": "13-17%"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) 3%</strong></p>\n\n<p><strong>Explanation</strong>:</p>\n\n<p>Fibrocystic disease presents as \u201clumpy bumpy\u201d breasts on palpation. Patients present with cyclical pain (Pain during <span class=\"customMeta\" data-dictid=\"3a03cad6c616927771925038b55989\">menstrual</span> cycle). They are included in the category of non-proliferative breast changes with a relative risk: of 1% and an <strong>absolute risk: of 3% </strong>of developing <span class=\"customMeta\" data-dictid=\"1c5272ad3d1692777190e71409d07a\">invasive</span> carcinoma.</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Category</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diseases/disorders </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Relative risk and absolute lifetime risk</strong></p>\n\t\t\t<br />\n\t\t\t\u00a0</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Non-proliferative</p>\n\n\t\t\t<p>breast changes</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Mild hyperplasia, <span class=\"customMeta\" data-dictid=\"6198b5f22b16927771867e4ef8108f\">duct</span> ectasia, <strong>cysts,</strong> <span class=\"customMeta\" data-dictid=\"495f6155fb1692777181ce9121d548\">apocrine</span> metaplasia, adenosis, <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">fibroadenoma</span> without complex features</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Relative risk: 1%</li>\n\t\t\t\t<li><strong>Absolute risk: 3%</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Proliferative</p>\n\n\t\t\t<p>diseases without</p>\n\n\t\t\t<p>atypia</p>\n\t\t\t<br />\n\t\t\t\u00a0</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Moderate or <span class=\"customMeta\" data-dictid=\"dd2ae0244816927772021f36402705\">florid</span> hyperplasia, <span class=\"customMeta\" data-dictid=\"0aa16e71201692777198c4c07e2392\">sclerosing</span> adenosis, complex <span class=\"customMeta\" data-dictid=\"0aa16e71201692777198c4c07e2392\">sclerosing</span> lesion, <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">fibroadenoma</span> with complex features</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Relative risk: 1.5-2% (2%)</li>\n\t\t\t\t<li>Absolute risk: 5-7% (6%)</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Proliferative</p>\n\n\t\t\t<p>breast diseases</p>\n\n\t\t\t<p>with atypia</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Atypical ductal hyperplasia</li>\n\t\t\t\t<li>Atypical lobular hyperplasia</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Relative risk: 4-5% (4%)</li>\n\t\t\t\t<li>Absolute risk: 13-17% (>12%)</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Carcinoma in situ</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Precancerous condition</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Relative risk: 8-10 (8%)</li>\n\t\t\t\t<li>Absolute risk: 25-30% (>24%)</li>\n\t\t\t</ul>\n\t\t\t<br />\n\t\t\t\u00a0</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/eG4vedkoLCHu2InRuF4h1752902994.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/P0oaOlc82DCkwd5tsKQ61752922617.mp3"
  },
  {
    "text": "<p>A 38-year-old woman presents with a firm, irregular mass that has been slowly increasing in size over the past few months. Histopathological examination shows the following, what is the most likely diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://librepathology.org/wiki/File:Radial_scar_of_breast_-_intermed_mag.jpg\" data-tags=\"\" height=\"337\" src=\"https://image.prepladder.com/content/BPo8F9MbW8d1aWbsIRYO1737515799.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Sclerosing adenosis"
      },
      {
        "id": 2,
        "text": "Radial scar"
      },
      {
        "id": 3,
        "text": "Papilloma"
      },
      {
        "id": 4,
        "text": "Paget\u2019s disease"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"4fff084ff9169277719765c9d85a8e\">Radial</span> scar</strong></p>\n\n<p><strong>Explanation: </strong>The clinical features and HPE showing <strong>central <span class=\"customMeta\" data-dictid=\"dae4dea0581692777198fdef9fa684\">sclerosis</span> with fibroelastotic <span class=\"customMeta\" data-dictid=\"c077aecdcd1692777199503c836d9c\">stroma</span> and entrapped glands radiating outwards with <span class=\"customMeta\" data-dictid=\"4c5d5ef6c31692777189820d4b320d\">hyperplasia</span> </strong>are suggestive of <span class=\"customMeta\" data-dictid=\"4fff084ff9169277719765c9d85a8e\">radial</span> scar.</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://librepathology.org/wiki/File:Radial_scar_of_breast_-_intermed_mag.jpg\" data-tags=\"\" height=\"337\" src=\"https://image.prepladder.com/content/BIFqQCsDEMtaW8E7LwPq1737515882.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Radial scars, also known as<strong> complex <span class=\"customMeta\" data-dictid=\"0aa16e71201692777198c4c07e2392\">sclerosing</span> lesions</strong>, are <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> proliferative breast lesions that can <span class=\"customMeta\" data-dictid=\"efaf9e0192169277719278711f7f74\">mimic</span> breast cancer clinically and radiologically but look like scars when viewed under a microscope.</li>\n\t<li>They are characterized by a <span class=\"customMeta\" data-dictid=\"d9873d32e01692777199c6a1f6ecfc\">spiculated</span> appearance on imaging, with a translucent, low-density center.</li>\n\t<li>Grossly, a <strong>whitish scar</strong> is present at the center (central <span class=\"customMeta\" data-dictid=\"41b4e6c32f169277719986f77fbe28\">stellate</span> scar).</li>\n</ul>\n\n<figure class=\"caption_element\"><img alt=\"Radial <span class=\"customMeta\" data-dictid=\"561a199cce1692777198225706434c\">Scar</span> of Breast\" data-author=\"The armed forces Institute of pathology\" data-hash=\"6238\" data-license=\"Open access\" data-source=\"https://commons.wikimedia.org/wiki/File:Radial_scar.jpg\" data-tags=\"\" height=\"773\" src=\"https://image.prepladder.com/notes/jr9NGFqV1A3a5mZMHm331743572127.png\" width=\"500\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<ul>\n\t<li>HPE shows glands entrapped in a hyalinised <span class=\"customMeta\" data-dictid=\"c077aecdcd1692777199503c836d9c\">stroma</span> surrounded by long radiating projections containing epithelium.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/BPo8F9MbW8d1aWbsIRYO1737515799.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/BIFqQCsDEMtaW8E7LwPq1737515882.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/2yDTFGj8jq4CPLWOdyuB1752903097.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/lVzBia1QI8QiVnz4Cd741752922702.mp3"
  },
  {
    "text": "<p>A 38-year-old woman presents with cyclical breast pain, most severe in the week before her period. She also notices her breasts feeling lumpy and swollen around the time of her period, which subsides later. She denies any fever, nipple discharge, or lumps. What is the most likely finding seen in this pathology?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Peau d'orange appearance of the skin"
      },
      {
        "id": 2,
        "text": "Nipple retraction and bloody discharge"
      },
      {
        "id": 3,
        "text": "Blue dome of Bloodgood cyst"
      },
      {
        "id": 4,
        "text": "Eczematous changes of the nipple and areola"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) Blue <span class=\"customMeta\" data-dictid=\"48872daf681692777186072f36702a\">dome</span> of Bloodgood cyst</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The above features of cyclical pain and breast changes are suggestive of <span class=\"customMeta\" data-dictid=\"324b16a1871692777202ffd73f169b\">fibrocystic</span> breast disease, which has a blue <span class=\"customMeta\" data-dictid=\"48872daf681692777186072f36702a\">dome</span> of Bloodgood cyst.</p>\n\n<ul>\n\t<li>Fibrocystic changes of the breast is a <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> condition characterized by the development of cysts, <span class=\"customMeta\" data-dictid=\"21e2d5a70616927772021fcdec0ca9\">fibrosis</span> (thickening and <span class=\"customMeta\" data-dictid=\"e9dcc3d4241692777198c7030bf313\">scarring</span> of tissue), and other <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> alterations in the breast tissue.</li>\n</ul>\n\n<p><strong>Symptoms</strong></p>\n\n<ul>\n\t<li>Breast pain (mastalgia) or <span class=\"customMeta\" data-dictid=\"169e1c9eb416927772006ea5a02252\">tenderness</span> that fluctuates with menstruation\n\t<ul>\n\t\t<li><strong>Mastalgia (or mastodynia)</strong> can be <strong>cyclic</strong> (with menses, due to <span class=\"customMeta\" data-dictid=\"a6ba2f95751692777196757ce73116\">premenstrual</span> edema) or<strong> noncyclic</strong> (localized to one area of the breast and may be caused by ruptured cysts, physical injury, and infections).</li>\n\t</ul>\n\t</li>\n\t<li>Breast lumps or nodules</li>\n\t<li>Swelling or <span class=\"customMeta\" data-dictid=\"41e56d9a54169277718724ff8c225f\">enlargement</span> of the breasts</li>\n\t<li>Fluid-filled cysts with varying size</li>\n\t<li>Nipple discharge</li>\n</ul>\n\n<p>Gross Features:</p>\n\n<ul>\n\t<li>Blue-domed <span class=\"customMeta\" data-dictid=\"1405ad7b46169277718580acad7562\">cyst</span> of Bloodgood- Large cysts that contain turbid, semitranslucent brown or blue-colored fluid which imparts a blue color onto the intact cyst.</li>\n\t<li>They are typically fluid-filled and may vary in size.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"Sarahkayb\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://librepathology.org/wiki/File:Breast_ApocrineChange_HP_CTR.jpg\" data-tags=\"\" height=\"377\" src=\"https://image.prepladder.com/content/3sZDn17dl08XRrGPZfdj1737516221.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>\n\n<p>Histopathological Features:</p>\n\n<p>\u00a0</p>\n\n<ol>\n\t<li>Cysts: Fluid-filled sacs within the breast tissue, often surrounded by <span class=\"customMeta\" data-dictid=\"5d6dfa73b316927772028f3cd60f7f\">fibrous</span> tissue.</li>\n\t<li>Fibrosis: Thickening and <span class=\"customMeta\" data-dictid=\"e9dcc3d4241692777198c7030bf313\">scarring</span> of breast tissue, which may result in <span class=\"customMeta\" data-dictid=\"bd478e4ff816927771949528846af9\">palpable</span> lumps or areas of increased density on <span class=\"customMeta\" data-dictid=\"fe3220767716927771892419444041\">imaging</span> studies.</li>\n\t<li>Apocrine Metaplasia: Transformation of ductal epithelial cells into apocrine-like cells, characterized by abundant <span class=\"customMeta\" data-dictid=\"91bc3a9b3e16927771871bcff74db7\">eosinophilic</span> <span class=\"customMeta\" data-dictid=\"728bb228361692777185b98c34534b\">cytoplasm</span> and <span class=\"customMeta\" data-dictid=\"c6223a27fb169277718147405290e1\">apical</span> snouts.</li>\n</ol>\n\n<p><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://librepathology.org/wiki/File:Fibrocystic_change_-_very_high_mag.jpg\" data-tags=\"\" height=\"221\" src=\"https://image.prepladder.com/content/zRJRGzEATRnsS19SP3sH1737516304.png\" width=\"500\" /></p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/3sZDn17dl08XRrGPZfdj1737516221.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/PT8NE8rTjoZVfmGL40Rj1752904256.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/1Csdi4xTUCPn4ZQtu61s1752922781.mp3"
  },
  {
    "text": "<p>A 34-year-old woman comes to the clinic due to a mass in her right breast. A 2-cm nodule is noted on breast examination, and the patient is referred for biopsy. Histologic evaluation of the tissue specimen is shown in the image below. What is the most likely diagnosis?</p>\n\n<p><img alt=\"Intracanalicular Fibroadenoma\" data-author=\"Department of pathology, Calicut Medical College\" data-hash=\"144\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Fibroadenoma_10X.jpg\" data-tags=\"November2024\" src=\"https://image.prepladder.com/notes/GtPOYrnv7IKOTp2af4IT1731649839.jpg\" /></p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Ductal Carcinoma In Situ"
      },
      {
        "id": 2,
        "text": "Intracanalicular Fibroadenoma"
      },
      {
        "id": 3,
        "text": "Sclerosing adenosis"
      },
      {
        "id": 4,
        "text": "Pericanalicular Fibroadenoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B ) <span class=\"customMeta\" data-dictid=\"3981f0c60d1692777190aa78794ad2\">Intracanalicular</span> Fibroadenoma</strong></p>\n\n<p><strong>Explanation :</strong></p>\n\n<p>The <span class=\"customMeta\" data-dictid=\"d69566338f1692777189ff10521054\">histopathology</span> image shows epithelial ducts compressed and distorted by surrounding <span class=\"customMeta\" data-dictid=\"c077aecdcd1692777199503c836d9c\">stroma</span> which is characteristic of an <span class=\"customMeta\" data-dictid=\"3981f0c60d1692777190aa78794ad2\">intracanalicular</span> fibroadenoma.</p>\n\n<p><img alt=\"Intracanalicular Fibroadenoma\" data-author=\"Department of pathology, Calicut Medical College\" data-hash=\"144\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Fibroadenoma_10X.jpg\" data-tags=\"November2024\" src=\"https://image.prepladder.com/notes/GtPOYrnv7IKOTp2af4IT1731649839.jpg\" /></p>\n\n<p>The FNAC features of a <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">fibroadenoma</span> include</p>\n\n<ol>\n\t<li><strong>Staghorn clusters of cells</strong> - Ductal cells arranged in a deer horn-like pattern.</li>\n\t<li><strong>Bare nuclei</strong> - <span class=\"customMeta\" data-dictid=\"728bb228361692777185b98c34534b\">cytoplasm</span> is stripped off and only <span class=\"customMeta\" data-dictid=\"e6b47028191692777193eb698e43b6\">nuclei</span> are visible in blue color.</li>\n</ol>\n\n<p><img alt=\"\" data-author=\"Manika Alexander, Mallikarjun Pattanshetti\" data-hash=\"\" data-license=\"CC BY 4.0 - Open access\" data-source=\"https://pathology.medresearch.in/index.php/jopm/article/view/518/1032\" data-tags=\"\" height=\"344\" src=\"https://image.prepladder.com/content/bMh1q7RVclYcwF0KiVSk1737522962.png\" width=\"500\" /></p>\n\n<p><strong>Intracanalicular <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">Fibroadenoma</span> :</strong></p>\n\n<p>Other features of <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">Fibroadenoma</span> :</p>\n\n<ul>\n\t<li>Fibroadenoma is the most common <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> breast tumor, typically found in women aged 15-35.</li>\n\t<li><strong>Spherical masses measuring 1-10 cm, firm, non-tender, well-circumscribed, mobile, and often single</strong>.</li>\n\t<li>The lump is mobile and slippery and hence called <strong>breast mouse</strong>.</li>\n\t<li>Estrogen sensitivity: Can increase in size during pregnancy, lactation, or <span class=\"customMeta\" data-dictid=\"a58dd68b011692777187eb72633aac\">estrogen</span> therapy, and usually regress after menopause.</li>\n\t<li>Histopathology: <strong>Well-defined borders due to a <span class=\"customMeta\" data-dictid=\"5d6dfa73b316927772028f3cd60f7f\">fibrous</span> capsule</strong>, with proliferating <span class=\"customMeta\" data-dictid=\"c077aecdcd1692777199503c836d9c\">stroma</span> potentially compressing and distorting <span class=\"customMeta\" data-dictid=\"c2f9d01ba91692777188d264244b6a\">glandular</span> components.</li>\n\t<li><strong>Popcorn <span class=\"customMeta\" data-dictid=\"a1ee14c673169277718351bfe6afd4\">calcification</span> </strong>on mammograms.</li>\n</ul>\n\n<p><img alt=\"_PA116- Popcorn calcification\" data-author=\"SCiardullo\" data-hash=\"146\" data-license=\"CC BY SA  4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Calcificaciones_en_pop-corn_OML_01.JPG\" data-tags=\"November2024\" src=\"https://image.prepladder.com/notes/6eG1BHiPmvQgd2a0VIHT1731650091.png\" /></p>\n\n<ul>\n\t<li>Aging effect: <span class=\"customMeta\" data-dictid=\"53782f88d31692777187177cb73b24\">Epithelium</span> atrophies with age, and the <span class=\"customMeta\" data-dictid=\"c077aecdcd1692777199503c836d9c\">stroma</span> becomes more hyalinized.</li>\n\t<li><strong>Molecular alteration: Alterations in MED12 gene</strong></li>\n\t<li><strong>Drug associated with <span class=\"customMeta\" data-dictid=\"625feb7e3a1692777183aa9d923cfd\">bilateral</span> fibroadenomas: Cyclosporine</strong>( A <span class=\"customMeta\" data-dictid=\"746f157681169277718323a004b1d4\">calcineurin</span> inhibitor)</li>\n</ul>\n\n<p><strong>Management: </strong>Surgical excision</p>\n\n<ul>\n\t<li>Indications for <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> excision:\n\t<ul>\n\t\t<li>Age >30 years</li>\n\t\t<li>Size >5 cm</li>\n\t\t<li>Microlobulation on imaging</li>\n\t\t<li>Atypia on histology</li>\n\t\t<li>Family history of breast cancer, and</li>\n\t\t<li>The patient\u2019s preference</li>\n\t</ul>\n\t</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/notes/GtPOYrnv7IKOTp2af4IT1731649839.jpg"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/GtPOYrnv7IKOTp2af4IT1731649839.jpg"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/9QegLaJWGTGOKNUrhSRt1752904413.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/OPvmFNFSzPev9JqmcTLP1752922855.mp3"
  },
  {
    "text": "<p>Which of the following is not a feature of complex fibroadenoma?</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Cysts larger than 0.3cm"
      },
      {
        "id": 2,
        "text": "Sclerosing adenosis"
      },
      {
        "id": 3,
        "text": "Nodules of proliferating stroma forming bulbous protrusions"
      },
      {
        "id": 4,
        "text": "Papillary apocrine change"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct answer: C) Nodules of proliferating <span class=\"customMeta\" data-dictid=\"c077aecdcd1692777199503c836d9c\">stroma</span> forming <span class=\"customMeta\" data-dictid=\"fe824aa5561692777183e979333339\">bulbous</span> protrusions</strong></p>\n\n<p><strong>Explanation : </strong></p>\n\n<ul>\n\t<li>Complex <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">fibroadenoma</span> is an example of <strong>epithelial proliferative breast lesions</strong> without atypia.</li>\n\t<li>Fibroadenoma with complex features has a risk of malignancy, whereas, without complexity, it does not.</li>\n\t<li>Complex features include,\n\t<ul>\n\t\t<li>Cysts > 0.3cm</li>\n\t\t<li>Sclerosing <span class=\"customMeta\" data-dictid=\"bc1de18bfd169277718009de79c6cc\">adenosis</span> (sclerosis + increase in the <span class=\"customMeta\" data-dictid=\"4e0948603216927771801829c2c085\">acini</span> cells per <span class=\"customMeta\" data-dictid=\"633bbec0f916927771913a073bbea5\">lobule</span> i.e, adenosis)</li>\n\t\t<li>Epithelial calcifications</li>\n\t\t<li>Papillary <span class=\"customMeta\" data-dictid=\"495f6155fb1692777181ce9121d548\">apocrine</span> change (metaplastic change in breast tissue)</li>\n\t</ul>\n\t</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/mvxg59pwS5hQGVvTLLKQ1752904317.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/abEC536fvzF6Oq7M186e1752922906.mp3"
  },
  {
    "text": "<p>Which of the following statements about phyllodes tumors of the breast is incorrect?</p>\n\n<p>\u00a0</p>\n\n<p><br />\n\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "They originate in the connective tissue of the breast"
      },
      {
        "id": 2,
        "text": "Often present as rapidly growing breast masses"
      },
      {
        "id": 3,
        "text": "They vary in size from a few centimeters to massive lesions"
      },
      {
        "id": 4,
        "text": "These lesions are always benign"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) These lesions are always benign.</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The clinical features and HPE showing increased stromal <span class=\"customMeta\" data-dictid=\"aed7aaaa4516927771844cded86cdb\">cellularity</span> and overgrowth, giving rise to the typical leaf-like architecture, suggests<strong> <span class=\"customMeta\" data-dictid=\"5ea5a8a7d71692777195dd957c9057\">phyllodes</span> tumor.</strong> The incorrect statement is that these lesions are always benign.<img alt=\"Phyllodes tumor\" data-author=\"Nephron\" data-hash=\"147\" data-license=\"CC BY SA 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Phyllodes_tumour_-_very_low_mag.jpg\" data-tags=\"November2024\" src=\"https://image.prepladder.com/notes/CYd8VBhvCMGiCyPqo3FK1731650506.png\" /></p>\n\n<ul>\n\t<li>Phyllodes tumors also called <strong>cystosarcoma phyllodes</strong> are stromal tumors developing from the <span class=\"customMeta\" data-dictid=\"67e237a57c16927771859803f93ab3\">connective</span> tissue of the breast.</li>\n\t<li>It occurs in <strong>middle-aged wome</strong>n (40-50y).</li>\n\t<li>Most <span class=\"customMeta\" data-dictid=\"5ea5a8a7d71692777195dd957c9057\">phyllodes</span> tumors are <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> (noncancerous), but a small number (about 10% to 15%) can be <span class=\"customMeta\" data-dictid=\"2d896c605a1692777183d769916056\">borderline</span> or <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">malignant</span> (cancerous).</li>\n\t<li>They present as a lump in the breast. The lump may be <strong>firm, smooth, and well-defined</strong>. It may also grow quickly from a few centimeters to massive lesions involving the entire breast.</li>\n\t<li>HPE shows increased stromal <span class=\"customMeta\" data-dictid=\"aed7aaaa4516927771844cded86cdb\">cellularity</span> and overgrowth, giving rise to the typical <strong>leaf-like architecture.</strong></li>\n</ul>\n\n<p>\u00a0</p>\n\n<ul>\n\t<li>Phyllodes tumor is differentiated from <span class=\"customMeta\" data-dictid=\"633e6ef4ca169277720219ea037f2c\">fibroadenoma</span> based on its <strong>overgrowth of stroma,</strong> increased mitotic activity and cellularity, and nuclear pleomorphism.</li>\n\t<li><strong>Treatment: </strong>Wide local <span class=\"customMeta\" data-dictid=\"20b3ce06c5169277718756ee95c1e9\">excision</span> (WLE) with a 2-cm margin along with the overlying skin and underlying <span class=\"customMeta\" data-dictid=\"afa97794e21692777195a324ffec49\">pectoralis</span> major muscle.\n\t<ul>\n\t\t<li>Mastectomy for massive, recurrent, or <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">malignant</span> tumours</li>\n\t\t<li>Postoperative <span class=\"customMeta\" data-dictid=\"a75f060aa1169277719777dd69df3f\">radiotherapy</span> and <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> chemotherapy.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/CYd8VBhvCMGiCyPqo3FK1731650506.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/eJDvSJ3JS6BZ5cX3PJqa1752904557.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/gB4Br2wBx5AUpMTREtXH1752923202.mp3"
  },
  {
    "text": "<p>Which of the following breast lesions are correctly paired with their histopathological characteristics?</p>\n\n<p>\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:NaN\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>1.\u00a0 Fibrocystic changes</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"\" data-author=\"Sarahkayb\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://librepathology.org/wiki/File:Breast_ApocrineChange_HP_CTR.jpg\" data-tags=\"\" height=\"377\" src=\"https://image.prepladder.com/content/elFF31jZHdDLEs72pLSi1737518425.png\" width=\"500\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>2.\u00a0 Duct ectasia</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"PA990 Pericanalicular fibroadenoma\" data-author=\"Song, Bong & Kim, Eun-Kyu & Seol, Hyesil & Seo, Ju-Hee & Lee, Jun & Kim, Dong & Lim, Jung Sub\" data-hash=\"6987\" data-license=\"CC BY NC 4.0\" data-source=\"https://www.researchgate.net/publication/263100286_Giant_juvenile_fibroadenoma_of_the_breast_a_case_report_and_brief_literature_review\" data-tags=\"April2025\" height=\"378\" src=\"https://image.prepladder.com/notes/OZDQ4uPa6VD006Q1MWnT1743678117.png\" width=\"500\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>3.\u00a0 Phyllodes tumor</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-color:#000000; border-style:solid; border-width:1px; text-align:center; vertical-align:top\"><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"CC BY SA 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Phyllodes_tumour_-_very_low_mag.jpg\" data-tags=\"\" height=\"369\" src=\"https://image.prepladder.com/content/G29Chldm7w9WQsbnkC5B1737518597.png\" width=\"500\" /></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>4.\u00a0 Invasive Ductal Carcinoma</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\"><img alt=\"\" data-author=\"Eniola Oluyemi,Ani Peshtani,Marissa J. White,Ashley Cimino-Mathews\" data-hash=\"\" data-license=\"\" data-source=\"https://www.researchgate.net/figure/Histologic-features-of-IDC-and-DCIS-In-contrast-to-the-features-of-classic-ILC-A_fig8_355687640\" data-tags=\"\" height=\"398\" src=\"https://image.prepladder.com/content/lKC1z3dKZgNETmEW5seA1737518665.png\" width=\"500\" /></td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3"
      },
      {
        "id": 2,
        "text": "2, 3, 4"
      },
      {
        "id": 3,
        "text": "1, 3, 4"
      },
      {
        "id": 4,
        "text": "1, 2, 3, 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Answer: C) 1, 3, 4</strong></p>\n\n<p><strong>Explanation </strong></p>\n\n<p>Breast tumors with their histopathological findings:</p>\n\n<table align=\"center\" cellspacing=\"0\" style=\"border-collapse:collapse; width:703px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Fibrocystic changes </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Cysts:</strong> Fluid-filled sacs within the breast tissue, often surrounded by <span class=\"customMeta\" data-dictid=\"5d6dfa73b316927772028f3cd60f7f\">fibrous</span> tissue.</p>\n\n\t\t\t<p><strong>Fibrosis:</strong> Thickening and <span class=\"customMeta\" data-dictid=\"e9dcc3d4241692777198c7030bf313\">scarring</span> of breast tissue, which may result in <span class=\"customMeta\" data-dictid=\"bd478e4ff816927771949528846af9\">palpable</span> lumps or areas of increased density on <span class=\"customMeta\" data-dictid=\"fe3220767716927771892419444041\">imaging</span> studies.</p>\n\n\t\t\t<p><strong>Apocrine Metaplasia:</strong> Transformation of ductal epithelial cells into apocrine-like cells, characterized by abundant <span class=\"customMeta\" data-dictid=\"91bc3a9b3e16927771871bcff74db7\">eosinophilic</span> <span class=\"customMeta\" data-dictid=\"728bb228361692777185b98c34534b\">cytoplasm</span> and <span class=\"customMeta\" data-dictid=\"c6223a27fb169277718147405290e1\">apical</span> snouts.</p>\n\n\t\t\t<p><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://librepathology.org/wiki/File:Fibrocystic_change_-_very_high_mag.jpg\" data-tags=\"\" height=\"221\" src=\"https://image.prepladder.com/content/6Wly6xNBmKwdNQCdjvTY1737521784.png\" width=\"500\" /></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Duct <span class=\"customMeta\" data-dictid=\"def85be6371692777186604c253b12\">ectasia</span> </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>A lot of foamy macrophages, <span class=\"customMeta\" data-dictid=\"b7e71e2acf1692777195087acd2271\">periductal</span> lymphocytic infiltrates can be observed.</p>\n\n\t\t\t<p><img alt=\"\" data-author=\"Radjiv Goulabchand,Assia Hafidi,Philippe Van de Perre,Ingrid Millet,Alexandre Thibault Jacques Maria,Jacques Morel,Alain Le Quellec,H\u00e9l\u00e8ne Perrochia,Philippe Guilpain\" data-hash=\"\" data-license=\"CC BY\" data-source=\"https://www.researchgate.net/figure/Mammary-duct-ectasia-Ductal-ectasia-asterisks-Periductal-lymphocytic-infiltrates_fig2_340402849\" data-tags=\"\" height=\"391\" src=\"https://image.prepladder.com/content/7nm9j8RK7L20KxP9LYYG1737521860.png\" width=\"500\" /></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Phyllodes tumor </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Increased stromal <span class=\"customMeta\" data-dictid=\"aed7aaaa4516927771844cded86cdb\">cellularity</span> and overgrowth, giving rise to the typical <strong>leaf-like architecture.</strong></p>\n\n\t\t\t<p><img alt=\"\" data-author=\"Nephron\" data-hash=\"\" data-license=\"CC BY SA 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Phyllodes_tumour_-_very_low_mag.jpg\" data-tags=\"\" height=\"369\" src=\"https://image.prepladder.com/content/lhOJwt6D5oVISMmdHNTl1737521962.png\" width=\"500\" /></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Ductal Carcinoma In Situ (DCIS)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Types of DCIS:</p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Micropapillary tumors</strong>: Additional epithelial cells within the lumen.</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Cribriform tumors:</strong> Ducts filled with cells that <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> multiple lumena.</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Solid tumors:</strong> Completely filled ducts.</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Comedo tumors:</strong> Solid with a necrotic core</li>\n\t\t\t</ul>\n\n\t\t\t<p><img alt=\"\" data-author=\"Eline Boghaert,Derek C Radisky,Celeste M Nelson\" data-hash=\"\" data-license=\"CC BY 4.0\" data-source=\"https://www.researchgate.net/figure/DCIS-morphologies-Shown-are-histology-sections-left-and-schematic-representations_fig5_269188099\" data-tags=\"\" height=\"1004\" src=\"https://image.prepladder.com/content/UUFjZl5YjralUaTcMB4b1737522418.png\" width=\"500\" /></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Invasive Ductal Carcinoma (IDC)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Shows more <span class=\"customMeta\" data-dictid=\"7d30ef9aee16927771936bdac2c1ff\">mucin</span> both <span class=\"customMeta\" data-dictid=\"ba366417791692777187229d34e597\">extracellular</span> and <span class=\"customMeta\" data-dictid=\"a621be29da16927771901bc91014d1\">intracellular</span> with <span class=\"customMeta\" data-dictid=\"3ed98cf4b71692777198c4a2ea968a\">signet ring</span> cells.</p>\n\n\t\t\t<p><img alt=\"\" data-author=\"Eniola Oluyemi,Ani Peshtani,Marissa J. White,Ashley Cimino-Mathews\" data-hash=\"\" data-license=\"\" data-source=\"https://www.researchgate.net/figure/Histologic-features-of-IDC-and-DCIS-In-contrast-to-the-features-of-classic-ILC-A_fig8_355687640\" data-tags=\"\" height=\"398\" src=\"https://image.prepladder.com/content/XUFplbGgQIQVPGbHD0nv1737522486.png\" width=\"500\" /></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Fibroadenoma </strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Well-defined borders due to a <span class=\"customMeta\" data-dictid=\"5d6dfa73b316927772028f3cd60f7f\">fibrous</span> capsule</strong>, with proliferating <span class=\"customMeta\" data-dictid=\"c077aecdcd1692777199503c836d9c\">stroma</span> potentially compressing and distorting <span class=\"customMeta\" data-dictid=\"c2f9d01ba91692777188d264244b6a\">glandular</span> components.</p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Intracanalicular fibroadenoma</strong> - Ducts are compressed.</li>\n\t\t\t</ul>\n\n\t\t\t<p><img alt=\"\" data-author=\"Department of pathology, Calicut Medical College\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Fibroadenoma_10X.jpg\" data-tags=\"\" height=\"353\" src=\"https://image.prepladder.com/content/83wPZjRn45gKfEsLPpaz1737522541.png\" width=\"500\" /></p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Pericanalicular fibroadenoma</strong> - Ducts are open.</li>\n\t\t\t</ul>\n\n\t\t\t<p><img alt=\"\" data-author=\"KGH (Assumed)\" data-hash=\"\" data-license=\"CC BY SA 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Breast_fibradenoma_(2).jpg\" data-tags=\"\" height=\"288\" src=\"https://image.prepladder.com/content/eBG15CMp8jc0kkuSz9ix1737522614.png\" width=\"500\" /></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><br />\n\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/elFF31jZHdDLEs72pLSi1737518425.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/6Wly6xNBmKwdNQCdjvTY1737521784.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/U4P1hr2GZls1NF1ek8M51752904650.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/WhEIh8FUvU0p1WDTN9Ee1752923125.mp3"
  }
];
        let quizName = '56 Benign Breast Lesions';
        let hierarchy = ["PrepLadder", "qBank", "Pathology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>