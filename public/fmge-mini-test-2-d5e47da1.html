<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fmge Mini Test - 2 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / FMGE Mini Test Series / 2020
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which type of aphasia is seen in the lesions of the posterior part of the superior temporal gyrus?",
    "choices": [
      {
        "id": 1,
        "text": "Wernicke's"
      },
      {
        "id": 2,
        "text": "Broca's"
      },
      {
        "id": 3,
        "text": "Anomic"
      },
      {
        "id": 4,
        "text": "Conduction"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Wernicke's aphasia</strong> is seen in the lesions of the <strong>posterior part of the superior temporal gyrus</strong> due to the involvement of the <strong>Wernicke's area</strong>. The speech is full of jargon and neologisms that make little sense.</p>\n<p><strong>Other options:&nbsp;</strong></p>\n<p>Option B- <strong>Broca's or motor/non-fluent aphasia</strong> is seen in lesions of the <strong>inferior frontal gyrus</strong> which contains the motor speech area. Speech is non-fluent and interrupted, with a paucity of functional words.</p>\n<p>Option C- Comprehension of written language and the ability to name objects are compromised in <strong>anomic aphasia</strong>. This aphasia is caused by damage to the <strong>angular gyrus</strong> that disrupts visual information processing and transmission to the Wernicke area.</p>\n<p>Option D- <strong>Conduction aphasia</strong> is seen in lesions of the <strong>arcuate fasciculus</strong>, the bundle of nerve fibers connecting the Wernicke and Broca's areas. Repetition of words is impaired and paraphasias are observed, though not as much as in Wernicke aphasia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "24-year-old presents with intensely itchy lesion for three days. What could be the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Tinea corporis"
      },
      {
        "id": 2,
        "text": "Granuloma annulare"
      },
      {
        "id": 3,
        "text": "Ichthyosis vulgaris"
      },
      {
        "id": 4,
        "text": "Pyoderma granulosum"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 954\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The given image is a <strong>ring</strong> <strong>lesion</strong> with a <strong>central clearing</strong> suggestive of<strong> tinea&nbsp;corporis</strong>.</p>\n<p><strong>Tinea corporis/ ringworm infection</strong> is caused by the dermatophyte <em><strong>Trichophyton</strong>&nbsp;<strong>rubrum</strong></em>. It results from invasion and proliferation of the causal fungi in the <strong>stratum corneum</strong> with lesions on the trunk and limbs.&nbsp;</p>\n<div class=\"page\" title=\"Page 955\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Characteristic lesions</strong> are circular, usually sharply marginated with a raised edge with central resolution. Scaling is a common but not a constant finding.&nbsp;</p>\n<p>Other options:</p>\n<p>Option B: <strong>Granuloma</strong> <strong>annulare</strong> is a circular lesion with central clearing&nbsp;found most commonly in children and in adult females &lt;30 years. They usually manifest as groups of 1- to 2-mm papules that range in color from skin-colored to violaceous, often in an&nbsp;annular arrangement over distal extremities.</p>\n<p>Option C:&nbsp;<strong>Ichthyosis Vulgaris</strong> presents with dry scaly lesions in infants. Fine scales usually develop on the back and over skin near the knee/elbow joints. Ichthyosis is usually most common and severe over the lower legs.</p>\n<p>Option D:<strong> Pyoderma gangrenosum,</strong>&nbsp;chronic, recurrent, very painful&nbsp;neutrophilic dermatosis presents as&nbsp;painful ulcerative erythematous&nbsp;plaques or papules with&nbsp;undermined violaceous&nbsp;borders usually found on the lower limbs. It is usually associated with Inflammatory Bowel disease.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/811d262a6b7f470caedd1f604ae54ba0.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A young female presented with vaginal itching and green frothy genital discharge. Strawberry vagina is seen on examination. What will be the drug of choice?",
    "choices": [
      {
        "id": 1,
        "text": "Doxycycline"
      },
      {
        "id": 2,
        "text": "Oral fluconazole"
      },
      {
        "id": 3,
        "text": "Metronidazole"
      },
      {
        "id": 4,
        "text": "Azithromycin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Vaginal itching and green frothy discharge in a young female with strawberry vagina points towards <strong>trichomoniasis</strong>. <strong>Metronidazole</strong> is the drug of choice for trichomoniasis.</p>\n<p>It is is the most common parasitic infection in humans in the industrialized world.</p>\n<p>It is caused by Trichomonas vaginalis, an anaerobic, flagellated protozoa, exists only as a trophozoite (no cyst stage).</p>\n<p>Diagnosis is made by detection of motile flagella during microscopic examination of wet mounts. <strong>Direct immunofluorescent antibody staining</strong> is more sensitive (70-90%) than wet mount.</p>\n<p>Culture is done on <strong>Feinberg-Whittington media</strong>.</p>\n<p>Treatment: DOC- <strong>Metronidazole 2 gm single oral dose</strong>. All sexual partners must be treated to prevent reinfection, especially from asymptomatic males. Tinidazole can also be used for the treatment of trichomoniasis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following isotopes is commonly used for external beam radiotherapy in the treatment of cancer patients?",
    "choices": [
      {
        "id": 1,
        "text": "Cobalt-59"
      },
      {
        "id": 2,
        "text": "Cobalt -60"
      },
      {
        "id": 3,
        "text": "Radium-226"
      },
      {
        "id": 4,
        "text": "Strontium-89"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li><strong>Cobalt-60</strong> isotope is used for <strong>EBRT (external beam radiotherapy)</strong>.</li>\n<li>Cobalt and <strong>LINAC (Linear Accelerator) machines</strong> are used for giving external beam radiotherapy.</li>\n<li>In Cobalt machine, Co 60 isotope is used. They emit radiation of energy 1.25 Mev. Gamma rays produced by cobalt machine is used for radiotherapy.</li>\n<li>LINAC (Linear Accelerator) machine&rsquo;s cancer therapy is based on X-ray generation and not based on the isotope. The continuous spectrum of different energy radiations is produced that is orthovoltage, supervoltage and megavoltage.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a feature of VIPoma?",
    "choices": [
      {
        "id": 1,
        "text": "Diarrhea"
      },
      {
        "id": 2,
        "text": "Hypokalemia"
      },
      {
        "id": 3,
        "text": "Metabolic acidosis"
      },
      {
        "id": 4,
        "text": "Metabolic alkalosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>VIPoma</strong> is associated with <strong>metabolic acidosis</strong> and <strong>not alkalosis</strong>.</p>\n<p>In VIPoma, excessive vasoactive intestinal peptide leads to diarrhoea, which in causes bicarbonate and fluid losses. This results in metabolic acidosis.</p>\n<p>Vasoactive intestinal peptide-secreting tumor (VIPoma)/Verner&ndash;Morrison syndrome/WDHA syndrome:</p>\n<p>WDHA stands for:</p>\n<ul>\n<li><strong>WD - W</strong>atery <strong>D</strong>iarrhea</li>\n<li><strong>H &ndash; H</strong>ypokalemia</li>\n<li><strong>A </strong>&ndash; <strong>A</strong>chlorhydria</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with rheumatoid arthritis has been treated with methotrexate and low-dose corticosteroids for 4 months. The disease still progresses. What is your recommendation for further management of this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Stop oral methotrexate and start parenteral methotrexate"
      },
      {
        "id": 2,
        "text": "Add sulfasalazine and hydroxychloroquine"
      },
      {
        "id": 3,
        "text": "Continue corticosteroids and methotrexate"
      },
      {
        "id": 4,
        "text": "Start only anti-TNF alpha agents"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Combination therapy of methotrexate, sulfasalazine, and hydroxychloroquine </strong>is indicated in a patient with rheumatoid arthritis when the disease is not responding to methotrexate alone.</p>\n<p><strong>Treatment of rheumatoid arthritis (RA)</strong></p>\n<p><strong>DMARDs&nbsp;</strong>(Disease-modifying antirheumatic drugs) are the mainstay of treatment.</p>\n<p><strong>Methotrexate is the drug of choice in patients with RA</strong>. It can be used alone (in low disease activity) or with a 3-drug combination (in high disease activity) with other DMARDs such as hydroxychloroquine, sulfasalazine, and leflunomide (reserve drug).</p>\n<p><strong>Glucocorticoids:</strong>&nbsp;Mainly given in active disease. May be administered in low to moderate doses to achieve rapid disease control before the onset of fully effective DMARD therapy, which often takes several weeks or even months. Second, a 1- to 2-week burst of glucocorticoids may be prescribed for the management of acute disease flares.</p>\n<p><strong>Anti-TNF alpha agents/Biologicals:&nbsp;</strong>They are protein therapeutics designed mostly to target cytokines and cell-surface molecules.</p>\n<p>They are <strong>indicated when the disease is not responding to two or more DMARDs</strong>. They include&nbsp;<strong>Infliximab, etanercept, adalimumab, golimumab, certolizumab.&nbsp;</strong>Side effects include increased risk of infections, reactivation of latent TB, drug-induced SLE, malignancy, and hepatitis B flares.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 65-year-old male was brought to the emergency department with sudden onset breathlessness. He has undergone hip replacement one month back. As a physician, you are suspecting a pulmonary embolism. Which of the following is the investigation of choice for your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Ventilation perfusion scanning (V/Q scan) of lungs"
      },
      {
        "id": 2,
        "text": "Chest CT with intravenous contrast"
      },
      {
        "id": 3,
        "text": "MR pulmonary angiography"
      },
      {
        "id": 4,
        "text": "Echocardiography"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>CT chest with intravenous contrast</strong>&nbsp;is the investigation of choice for<strong> pulmonary embolism (PE).</strong></p>\n<p>Other options:</p>\n<ul>\n<li>Ventilation-perfusion (V/Q ) scanning has become a second-line diagnostic test for PE, used mostly for patients who cannot tolerate intravenous contrast or in whom the CT results are inconclusive.</li>\n<li>MR pulmonary angiography may detect large proximal PE but is not reliable for smaller segmental and subsegmental PE. It is used when neither CT angiography nor ventilation perfusion scan can be done.&nbsp;</li>\n<li>Echocardiography is not a reliable diagnostic imaging tool for acute PE because most patients with PE have normal echocardiograms. However, echocardiography is a very useful diagnostic tool for detecting conditions that may mimic PE, such as acute myocardial infarction, pericardial tamponade, and aortic dissection.</li>\n</ul>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<p>The arrows in the following images demonstrate a pulmonary embolus. Also the gross specimen image helps correlation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eb8d74e4d37547b6a6286f6fad9515bdx800x581.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/faa4e0ce5d3c4987a19a999a4fa1ec57x800x570.PNG"
    ]
  },
  {
    "text": "What structure involved in parotid gland surgery is shown by the arrow?",
    "choices": [
      {
        "id": 1,
        "text": "Digastric muscle tendon"
      },
      {
        "id": 2,
        "text": "Fibrosed stenson's duct"
      },
      {
        "id": 3,
        "text": "Facial nerve"
      },
      {
        "id": 4,
        "text": "Conley's pointer"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>The structure shown is the main trunk of the <strong>facial nerve.</strong></li>\n<li>The facial nerve can be identified during parotid surgery by using certain landmarks. These landmakrs are as follows:\n<ul>\n<li>The inferior portion of the cartilaginous canal. This is termed a <strong>Conley's pointer </strong>and indicates the position of the facial nerve, which lies <strong>1 cm deep and inferior to its tip</strong>.</li>\n<li>The upper border of the <strong>posterior belly</strong> of the <strong>digastric</strong></li>\n</ul>\n</li>\n<li>It can also be identified by <strong>tracing the nerve back</strong> from its terminal branches and by using a nerve stimulator.</li>\n<li><strong>Frey syndrome </strong>(gustatory sweating) results from damage to the autonomous innervation of the salivary gland with inappropriate regeneration of <strong>parasympathetic nerve</strong> fibers that stimulate the sweat glands of the overlying skin.\n<ul>\n<li>It is diagnosed by the&nbsp;starch-iodine test.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e02ceed5e5194999839757f2bc589b41.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following murmur increases on standing?",
    "choices": [
      {
        "id": 1,
        "text": "HOCM"
      },
      {
        "id": 2,
        "text": "MR"
      },
      {
        "id": 3,
        "text": "MS"
      },
      {
        "id": 4,
        "text": "VSD"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The murmur of <strong>HOCM</strong> increases on standing.</p>\n<p>Standing <strong>decreases the preload</strong> and it leads to <strong>an increase in the obstruction</strong> and intensity of the murmur.</p>\n<p>The murmur of HOCM is a mid-systolic murmur best heard at the lower left sternal border. S1 is normal, S2 can be either single or paradoxical splitting of S2 is seen. S4 is heard.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50-year-old female presents with complaints of severe pain in her left great toe. The pain started since she woke up in the morning and severe to an extent that she is not able to stamp her foot on the ground. A local examination of her foot is given in the image below. Which of the following investigations is least useful in arriving at a diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Serum uric acid levels"
      },
      {
        "id": 2,
        "text": "Ultrasound of the involved joint"
      },
      {
        "id": 3,
        "text": "Needle aspiration of the synovial fluid"
      },
      {
        "id": 4,
        "text": "Clinical diagnosis is sufficient"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The symptoms and the clinical examination findings are suggestive of an acute attack of gout. <strong>Serum uric acid level is least useful</strong> in arriving at a diagnosis of gout.</p>\n<p>During an acute attack of gout, the inflammatory cytokines promote the excretion of uric acid and hence, its level can be normal or decreased at such instances. This limits the use of serum uric acid level for the diagnosis of gout.</p>\n<p>Even if the<strong> diagnosis</strong> of gout is clinically strong, it should <strong>ideally</strong> be <strong>confirmed by needle aspiration</strong> of the involved joint. The synovial fluid aspirated from the inflamed joints has the following features</p>\n<ul>\n<li>Needle shaped monosodium urate (MSU) crystals which appear brightly birefringent with negative elongation under polarised microscopy.</li>\n<li>The leukocyte counts are elevated from 2000 to 60,000/&mu;L and give a cloudy appearance of the aspirated fluid</li>\n</ul>\n<p><strong>Ultrasound</strong> may aid in the earlier diagnosis by showing a <strong>double contour sign</strong> overlying the articular cartilage.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0af777b68c5a4a119864d08741dc6043.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The Father of interventional radiology is:",
    "choices": [
      {
        "id": 1,
        "text": "Charles Dotter"
      },
      {
        "id": 2,
        "text": "Roengten"
      },
      {
        "id": 3,
        "text": "Hounsfield"
      },
      {
        "id": 4,
        "text": "Robert Egan"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Charles Theodore Dotter</strong>&nbsp;was a pioneering US vascular radiologist who is credited with developing&nbsp;interventional radiology. He performed the very first peripheral angioplasty in 1964.</p>\n<p>Roentgen discovered X-rays.</p>\n<p>Sir Godfrey Hounsfield developed the first CT machine in 1970. Hounsfield is a unit used to describe the density of tissues on a CT scan.</p>\n<p>Robert Egan is the Father of modern mammography.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the condition given in the image :",
    "choices": [
      {
        "id": 1,
        "text": "Dermatomyositis"
      },
      {
        "id": 2,
        "text": "Acanthosis nigricans"
      },
      {
        "id": 3,
        "text": "Pityriasis rotunda"
      },
      {
        "id": 4,
        "text": "Melasma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The condition in the given image is <strong>acanthosis nigricans.</strong></p>\n<p>It is a skin condition is characterized by <strong>thickened, gray-brown velvety plaques</strong> seen in flexural areas such as the back of the neck, axillae, inframammary creases, waist, and groin.</p>\n<p>The causal mechanism is due to the secretion of epidermal growth factor in the region involved. It can be benign or malignancy-associated.</p>\n<p><strong>Benign acanthosis nigricans</strong> is often associated with <strong>obesity or insulin resistance</strong>, it is common and usually mild.</p>\n<p><strong>Malignancy associated acanthosis nigricans</strong> is much less common. It is usually associated with <strong>gastric carcinoma, lung carcinoma,</strong>&nbsp;and <strong>uterine carcinoma.</strong></p>\n<p>Acanthosis nigricans can also be seen in the following:</p>\n<ul>\n<li>Drugs such as Nicotinic acid used to treat hyperlipidemia&nbsp;</li>\n<li>Sudden onset of multiple seborrhoeic keratosis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1368f727c67c40cbbdff572ee6e47609.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A chronic alcoholic patient came to the emergency with pain in the epigastrium radiating to the back and recurrent vomiting. On examination, guarding was present in the upper epigastrium. The erect chest X-ray was normal. What is the next step?",
    "choices": [
      {
        "id": 1,
        "text": "Upper GI endoscopy"
      },
      {
        "id": 2,
        "text": "Alcohol breath test"
      },
      {
        "id": 3,
        "text": "Serum lipase"
      },
      {
        "id": 4,
        "text": "CECT"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Abdominal pain with recurrent vomiting</strong> in a <strong>chronic alcoholic</strong> with <strong>upper epigastric guarding</strong> is highly suggestive of <strong>pancreatitis</strong>. The normal erect chest X-Ray indicates probably there was no pneumoperitoneum effectively ruling out perforation.&nbsp;</p>\n<p>So, in this setting, the main differential to consider would be pancreatitis for which the next appropriate investigation would be serum lipase.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The definitive treatment for post-dural puncture headache is_____",
    "choices": [
      {
        "id": 1,
        "text": "Analgesics"
      },
      {
        "id": 2,
        "text": "Caffeine"
      },
      {
        "id": 3,
        "text": "Supine posture"
      },
      {
        "id": 4,
        "text": "Epidural blood patch"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The definitive treatment for post-dural puncture headache is <strong>epidural blood patch</strong>. The remaining options are conservative management approaches for PDPH.</p>\n<p><strong>Procedure:</strong></p>\n<ul>\n<li>\n<p>Ideally, performed <strong>24 hours after dural puncture</strong> and development of classic PDPH symptoms.</p>\n</li>\n<li>\n<p><strong>15-20 mL</strong>&nbsp;of autologous blood is injected into the <strong>epidural space</strong> at same or one interspace below the level of the dural puncture.</p>\n</li>\n<li>It acts by stopping CSF leak by either mass effect or coagulation.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 20 yr old male was brought to casualty in unconscious state after a head injury.What is the name of the sign seen in this image?",
    "choices": [
      {
        "id": 1,
        "text": "Duret haemorrhage"
      },
      {
        "id": 2,
        "text": "Kernohan\u2019s phenomenon"
      },
      {
        "id": 3,
        "text": "Battle sign"
      },
      {
        "id": 4,
        "text": "Raccoon sign"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image is of battle sign i.e. <strong>a skull base fracture</strong> associated with <strong>bruising over mastoid process.</strong></p>\n<p><strong>Middle Cranial Fossa Fracture</strong>&nbsp;is associated with:</p>\n<ul>\n<li>CSF otorrhea or rhinorrhea</li>\n<li>Hemotympanum</li>\n<li>Ossicular disruption</li>\n<li><strong>Battle sign: Bruising behind the ear</strong></li>\n<li>7th and 8th cranial nerve palsies</li>\n</ul>\n<p><strong>Anterior Cranial Fossa Fracture</strong>&nbsp;is associated with:</p>\n<ul>\n<li>Subconjunctival hematoma</li>\n<li><strong>CSF rhinorrhea</strong></li>\n<li><strong>Carotico-cavernous fistula</strong></li>\n<li>Periorbital hematoma or&nbsp;<strong>&ldquo;Raccoon eyes&rdquo;</strong></li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fb4e8ce7914d41d998fe9cc0a2b6c475.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The operating surgeon performed the following suture technique on the skin after appendicectomy surgery. This is called_______.",
    "choices": [
      {
        "id": 1,
        "text": "Mattress suture"
      },
      {
        "id": 2,
        "text": "Subcuticular suture"
      },
      {
        "id": 3,
        "text": "Continuous suture"
      },
      {
        "id": 4,
        "text": "Interrupted suture"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This suture technique is called <strong>mattress suture</strong>. The type of mattress suture performed is horizontal mattress suture. It is performed by inserting a needle perpendicular to the incision and then crossing both the edge of the wound and moving horizontally and traverse once again both the edge of the wound and tie the knot.</p>\n<p>Other options :</p>\n<p>B) The subcuticular suture technique is performed by taking a bite alternatively on either side of the wound and gently pulling simultaneously until the end.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8bf2c7c741e749378449abbca6b767f7.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3836f85a2bd24e36b8751e3a585508d7x139x109.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4fe646c05cb849ac803cb8bf496e0090x230x179.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fa5b5695ff38436f8f15d165cc0ac81fx108x85.JPEG"
    ]
  },
  {
    "text": "A 35-year-old female patient presented to the clinic with reddening and itching over the left breast as shown in the figure. Mammogram showed the presence of microcalcifications in the left breast. Histopathology shows the presence of large pale vacuolated cells with round nuclei in the epithelium. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Phyllodes tumor"
      },
      {
        "id": 2,
        "text": "Paget's disease of the breast"
      },
      {
        "id": 3,
        "text": "Superficial spreading melanoma"
      },
      {
        "id": 4,
        "text": "Chronic eczema"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical picture and histology are&nbsp;diagnostic of<strong> Paget's disease of the breast.&nbsp;</strong></p>\n<p>Paget&rsquo;s disease is a <strong>superficial manifestation</strong> of underlying malignancy.</p>\n<p>Clinically it presents as a&nbsp;<strong>chronic, eczematous eruption </strong>of the nipple which may progress to ulceration. In the majority of patients, there is also an underlying <strong>breast</strong> <strong>lump</strong>. This lump is usually DCIS. Less commonly it can also be invasive ductal carcinoma.</p>\n<p>A <strong>nipple biopsy</strong> specimen will show a population of cells that are identical to the underlying malignant cells. The presence of&nbsp;large, <strong>pale, vacuolated</strong> cells (<strong>Paget cells)</strong> with round or oval nuclei is pathognomonic for this condition.</p>\n<p>Depending on the type and extent of underlying malignancy, it can be treated with lumpectomy or mastectomy.</p>\n<p>Paget's disease can be often confused with superficial spreading melanoma. Paget's disease shows positive immunostaining with <strong>carcinoembryonic&nbsp;antigen</strong>&nbsp;(CEA), while superficial spreading <strong>melanoma</strong> is positive for <strong>S-100 antigen</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b038247013de4bbfb24af19f8b4567f7.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e4a929fe0a80440996308fa434a97b95x512x411.PNG"
    ]
  },
  {
    "text": "A lady presents with fever, oral ulcers, photosensitivity and rash on her face as seen below. What is the diagnosis ?",
    "choices": [
      {
        "id": 1,
        "text": "Dermatomyositis"
      },
      {
        "id": 2,
        "text": "Systemic Lupus Erythematosus"
      },
      {
        "id": 3,
        "text": "Rosacea"
      },
      {
        "id": 4,
        "text": "Melasma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The most probable diagnosis from the given clinical scenario and image is <strong>systemic lupus erythematosus </strong>(SLE).</p>\n<p>The rash visualized in the image is a malar rash (classically seen in SLE), it is characterized by a well demarcated erythematous butterfly rash over the malar eminences with <strong>sparing of the nasolabial folds</strong>.</p>\n<p>In decreasing order, the cutaneous manifestations in SLE are:</p>\n<ul>\n<li>Photosensitivity (63%)</li>\n<li>Raynaud's Phenomenon (60%)</li>\n<li>Malar Rash (51%)</li>\n<li>Chronic Urticaria &gt;36 hrs (44%)</li>\n<li>Non-scarring Alopecia (40%)</li>\n<li>Mouth Ulceration (31%)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/73c89c523de142778f59e29217432e5e.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 10-year-old child with a known case of type 1 DM presents with confusion. The blood glucose level is 353 mg/dl and pH-7.0. What is the metabolic abnormality?",
    "choices": [
      {
        "id": 1,
        "text": "Respiratory acidosis"
      },
      {
        "id": 2,
        "text": "Metabolic alkalosis"
      },
      {
        "id": 3,
        "text": "Metabolic acidosis"
      },
      {
        "id": 4,
        "text": "Respiratory alkalosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Metabolic abnormality in the above condition is<strong> metabolic acidosis.&nbsp;</strong>It is due to diabetic ketoacidosis(DKA) which is a complication of type 1 DM.</p>\n<p>In DKA, insulin to glucagon ratio is decreased which promotes gluconeogenesis, glycogenolysis, and<strong> ketone body formation</strong> in the liver.&nbsp;Ketone bodies exist as ketoacids at physiologic pH which are neutralized by bicarbonate. As bicarbonate stores are depleted, metabolic acidosis ensues. Increased lactic acid production also contributes to the acidosis</p>\n<p><strong>Diabetic ketoacidosis </strong>is an acute complication of type 1 diabetes mellitus. The symptoms include nausea, vomiting, and severe abdominal pain.</p>\n<p>Signs:</p>\n<ul>\n<li>Kussmaul&nbsp;breathing</li>\n<li>Fruity odor on the patient&rsquo;s breath</li>\n<li>Tachycardia</li>\n<li>Dehydration</li>\n<li>Hypotension</li>\n</ul>\n<p>Blood parameters:</p>\n<ul>\n<li>Hyperglycemia &ndash; 250 &ndash; 600 mg%</li>\n<li>Pseudohyponatremia- There is 1.6-mmol/L reduction in serum sodium level for each 5.6-mmol/L rise in the serum glucose level.</li>\n<li class=\"p1\">Overall total-body K+ deficit, however, the serum K+ at presentation may be mildly elevated, secondary to the acidosis</li>\n<li class=\"p1\">Osmolality&ndash; 300&ndash;320 mOsm/kg</li>\n<li>Plasma ketones&ndash; Positive</li>\n<li><strong>Metabolic acidosis&ndash; Increased anion gap</strong></li>\n<li>Serum bicarbonate &lt;15 meq/L&ndash; Best initial investigation</li>\n<li>Hypertriglyceridemia</li>\n<li>Hyperamylasemia</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30 years old male presents with continuous discomfort in the right hypochondrium and on examination shows presence of enlarged liver 8cm below the costal margins. The image below shows CT radiograph. The probable diagnosis is",
    "choices": [
      {
        "id": 1,
        "text": "Amoebic liver abscess"
      },
      {
        "id": 2,
        "text": "Pyogenic Liver abscess"
      },
      {
        "id": 3,
        "text": "Hydatid cyst"
      },
      {
        "id": 4,
        "text": "Hepatic adenoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows <strong>CT scan of the liver</strong> with <strong>hydatid cyst&nbsp;seen as a&nbsp;hypodense lesion with internal septation</strong>.</p>\n<p>Hydatid cysts result from infection by the Echinococcus, and can result in cyst formation anywhere in the body.</p>\n<p><strong>Causative agent:</strong></p>\n<p>There are two main <strong>strains</strong> which include:</p>\n<ol>\n<li>Echinococcus granulosus: more common\n<ul>\n<li>pastoral: dog is a main host; most common form</li>\n<li>sylvatic: wolf is a main host</li>\n</ul>\n</li>\n<li>Echinococcus alveolaris/multilocularis: less common but more invasive; fox is a main host</li>\n</ol>\n<p><strong>Investigation:</strong></p>\n<ul>\n<li>CT examination reveals fluid density cyst, with frequent peripheral focal areas of calcification, usually indicates no active infection if completely circumferential.</li>\n<li>Septation and daughter cysts may be visualised. The water-lily sign indicates a cyst with floating, undulating membrane, caused by a detached endocyst.</li>\n<li>May also show hyperdense internal septa representing a spoke wheel pattern within a cyst.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2380bbb68fa4431fa417fff061397923.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "The Gold's criteria for very severe COPD is:",
    "choices": [
      {
        "id": 1,
        "text": "FEV1/FVC <0.7 and FEV1 < 30%"
      },
      {
        "id": 2,
        "text": "FEV1/FVC <0.7 and FEV1 < 70%"
      },
      {
        "id": 3,
        "text": "FEV1/FVC<0.7 and FEV1< 50%"
      },
      {
        "id": 4,
        "text": "FEV1/FVC>0.7 and FEV1 < 70%"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The Gold's criteria for very severe COPD (stage IV) is <strong>FEV1/FVC &lt;0.7 and FEV1 &lt; 30%.</strong> <strong>&nbsp;</strong></p>\n<p>The <strong>severity of COPD i</strong>s assessed by Global Initiative for Lung Disease (GOLD) classification: &nbsp;</p>\n<table>\n<tbody>\n<tr>\n<td><strong>GOLD Stage</strong></td>\n<td><strong>Severity</strong></td>\n<td><strong>Spirometry</strong></td>\n</tr>\n<tr>\n<td>I</td>\n<td>Mild</td>\n<td>FEV1/FVC &lt;0.7 and FEV1 &ge;80% predicted</td>\n</tr>\n<tr>\n<td>II</td>\n<td>Moderate</td>\n<td>FEV1/FVC &lt;0.7 and FEV1 &ge;50% but &lt;80% predicted</td>\n</tr>\n<tr>\n<td>III</td>\n<td>Severe</td>\n<td>FEV1/FVC &lt;0.7 and FEV1 &ge;30% but &lt;50% predicted</td>\n</tr>\n<tr>\n<td>IV</td>\n<td>Very severe</td>\n<td>FEV1/FVC &lt;0.7 and FEV1 &lt;30% predicted</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A chronic alcoholic who hasn\u2019t taken alcohol for 3 days presented to the emergency department with features of disorientation, poor attention span, agitation, tachycardia, diaphoresis, and fever. The condition is:",
    "choices": [
      {
        "id": 1,
        "text": "Korsakoff psychosis"
      },
      {
        "id": 2,
        "text": "Wernicke\u2019s encephalopathy"
      },
      {
        "id": 3,
        "text": "Delirium tremens"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario of disorientation with features of autonomic hyperactivity (tachycardia, diaphoresis, fever) in a patient who stopped alcohol 3 days back is suggestive of <strong>delirium tremens.</strong></p>\n<p>Delirium tremens is the <strong>most severe alcohol withdrawal syndrome.&nbsp;</strong>It occurs usually within <strong>3</strong><strong>-4 days</strong> of alcohol withdrawal.</p>\n<p>Characteristic features are:</p>\n<ul>\n<li><strong>Clouding of consciousness</strong> with <strong>disorientation to time and place</strong></li>\n<li>Poor attention and <strong>distractibility</strong></li>\n<li><strong>Visual hallucination and illusions</strong> which are often vivid and very frightening</li>\n<li>Autonomic disturbances <strong>like tachycardia, fever, hypertension</strong>, sweating and pupillary dilatation</li>\n<li><strong>Psychomotor agitation and ataxia</strong></li>\n</ul>\n<p>Other options:</p>\n<div class=\"page\" title=\"Page 650\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul style=\"list-style-type: circle;\">\n<li>Wernicke's encephalopathy is characterized by ataxia (affecting primarily the gait), vestibular dysfunction, confusion, and ocular motility abnormalities.</li>\n<li>Korsakoffs psychosis is characterized by impaired mental syndrome (especially recent memory) and anterograde amnesia in an alert and responsive patient. The patient may or may not have the symptom of confabulation.</li>\n</ul>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 66-year-old smoker presents with chronic productive cough and progressive dyspnea for 2 years. Physical examination revealed a barrel chest and poor air entry. Which of the following will not be seen?",
    "choices": [
      {
        "id": 1,
        "text": "Normal residual volume"
      },
      {
        "id": 2,
        "text": "Decreased FEV1"
      },
      {
        "id": 3,
        "text": "Normal vital capacity"
      },
      {
        "id": 4,
        "text": "Decreased FEV1/FVC"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario is suggestive of <strong>chronic obstructive pulmonary disease</strong> (COPD). It is characterized by an <strong>increased residual volume</strong>.</p>\n<p>According to Uptodate, decreased vital capacity and increased total lung capacity is indicative of hyperinflation seen in COPD. <strong>FVC</strong> can be used a proxy for VC in normal individuals but in <strong>COPD FVC</strong> is <strong>less than VC</strong> due to air trapping, airflow limitation, and small airway collapse.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The fluid of choice for resuscitation in the first 24 hours in a burns patient is ________.",
    "choices": [
      {
        "id": 1,
        "text": "Hypertonic saline"
      },
      {
        "id": 2,
        "text": "Ringer lactate"
      },
      {
        "id": 3,
        "text": "Albumin"
      },
      {
        "id": 4,
        "text": "Dextran"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The fluid of choice for resuscitation in a burns patient is <strong>Ringer lactate</strong> in the first 24 hours followed by albumin and 5% dextrose.</p>\n<p>This is in contrast to blunt and penetrating trauma patients in whom colloids (albumin, hydroxyethyl starch) hypertonic saline, and blood are preferred.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 55-year-old man presents with decreased hearing. The skull radiograph shows the following appearance. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Thalassemia"
      },
      {
        "id": 2,
        "text": "Paget\u2019s disease"
      },
      {
        "id": 3,
        "text": "Multiple myeloma"
      },
      {
        "id": 4,
        "text": "Eosinophilic granuloma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The\u00a0given clinical scenario and <strong>cotton wool skull\u00a0</strong>appearance on the radiograph are suggestive of <strong>Paget's disease</strong>.</p>\n<p>Paget's disease is a disease of <strong>bone remodelling</strong>. Normally, osteoclasts remove the old bones while osteoblasts form new bones. In this disease,\u00a0 osteoclasts are more active than osteoblasts. leading to more bone absorption than normal. The osteoblasts try to keep up by making new bone, but they overreact and make excess bone that is abnormally large, deformed and fits together haphazardly.</p>\n<p><strong>Increased bone formation</strong> in Paget's disease may lead to the <strong>narrowing of the foramina of the skull</strong>. This causes compression of the cranial nerves which may lead to deafness, as seen in this patient. <strong>Deafness due to the narrowing of cranial nerve foramina</strong> is also seen in <strong>osteopetrosis</strong>. It can be <strong>differentiated </strong>from Paget's disease by the <strong>absence of lytic lesions</strong> of the bone.</p>\n<p>Other skull radiological findings in Paget's disease:</p>\n<ul>\n<li><strong>Osteoporosis circumscripta</strong> - Large well-defined lytic lesions involving the inner part of the outer table of the skull with an intact inner table</li>\n<li><strong>Diploic widening</strong></li>\n<li><strong>Tam o' Shanter sign</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1b55f279907945adad63699e04ef8e51.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fa3808e1a1f642e29ecff68602d94c41x720x549.JPEG",
      "https://cdn1.dailyrounds.org/uploads/71ad0b9aea114bee995de3cdc641c3cb.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7e65a351f8d34cc8ba39fdd016b0a8e1x512x439.PNG"
    ]
  },
  {
    "text": "Which of the following statements is false regarding Meckel\u2019s Diverticulum?",
    "choices": [
      {
        "id": 1,
        "text": "Can be a lead point for intussusception"
      },
      {
        "id": 2,
        "text": "The most common presenting symptom is bleeding in younger children"
      },
      {
        "id": 3,
        "text": "False Diverticulum"
      },
      {
        "id": 4,
        "text": "Most common heterotropic tissue is Gastric Mucosa"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Meckel&rsquo;s Diverticulum</strong> is a<strong> true diverticulum</strong>&nbsp;as it contains all the layers of the intestine.&nbsp;</p>\n<p><strong>Meckel&rsquo;s Diverticulum:</strong></p>\n<ul>\n<li>Meckel&rsquo;s diverticulum is caused by a failure of normal regression of the vitelline duct that develops during weeks 5 to 7 of gestation.</li>\n<li>The rule of 2s (Mnemonic for Meckel&rsquo;s diverticulum) :\n<ul>\n<li>2 types of heterotopic mucosa (gastric &amp; pancreatic)</li>\n<li>2% incidence</li>\n<li>located within 2 feet of the ileocecal valve</li>\n<li>approximately 2 inches in length</li>\n<li>Usually symptomatic by 2 years of age</li>\n</ul>\n</li>\n<li>Most common presentation is painless, massive, <strong>lower GI bleed</strong> in children younger than 5 years.</li>\n<li>A Meckel's can be the lead point for <strong>ileoileal or ileocolic intussusception</strong>.</li>\n<li>The bleeding Meckel's diverticulum may be confirmed by a <strong>99 mTc-pertechnetate isotope scan</strong> to detect gastric mucosa.</li>\n<li><strong>Surgical treatment</strong> is the <strong>definitive therapy</strong> for Meckel&rsquo;s diverticulum. A simple V-shaped diverticulectomy with transverse closure of the ileum is the ideal surgical approach.</li>\n</ul>\n<p>The following diagram shows the various anomalies that arise as a result of failure of normal regression of vitello-intestinal duct :</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/eee38a03839a48cda94d503ada53bc61x983x436.PNG"
    ]
  },
  {
    "text": "Which electrolyte abnormality has to be considered in a patient with the following ECG?",
    "choices": [
      {
        "id": 1,
        "text": "Hypermagnesemia"
      },
      {
        "id": 2,
        "text": "Hypokalemia"
      },
      {
        "id": 3,
        "text": "Hypocalcemia"
      },
      {
        "id": 4,
        "text": "Hyponatremia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given ECG classically depicts <strong>polymorphic ventricular tachycardia</strong>&mdash;<strong>torsades de pointes.</strong> Torsade rhythm is&nbsp;most commonly seen in association with <strong>hypomagnesemia and hypokalemia.</strong></p>\n<p><strong>Torsades de pointes</strong> is a polymorphic ventricular tachycardia meaning &ldquo;twisting of the points,&rdquo; characterized by twisting of the QRS axis around the baseline and a polymorphic appearance.</p>\n<p>There is QT interval prolongation in the ECG due to a non-uniform delay in repolarization.</p>\n<p>The other cause&nbsp;of torsades de pointes include:</p>\n<ul>\n<li><strong>Class 1 and Class 3</strong> Anti-Arrhythmic drugs</li>\n<li>Bradycardia</li>\n<li>Acute ischemia or infarction</li>\n</ul>\n<p><strong>Management: </strong></p>\n<ul>\n<li>Discontinue the offending drug</li>\n<li>Correct electrolyte abnormalities, pH, and hypoxia</li>\n<li><strong>Magnesium sulfate</strong> infusion&nbsp;</li>\n<li>Increase the heart rate - electrical pacing, isoproterenol infusion, or intravenous atropine&nbsp;</li>\n</ul>\n<p>Note: Although hypocalcemia is associated with prolongation of QT interval, there are only rare reports of torsades de pointes associated with hypocalcemia. So, among the above options, the best answer would be hypokalemia.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9e33f9e6308341e78edf268576ae83bf.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Histopathological examination of a thyroidectomy specimen done for thyroid swelling in a 40-year-old female shows the following image. The diagnosis is _______",
    "choices": [
      {
        "id": 1,
        "text": "Papillary carcinoma"
      },
      {
        "id": 2,
        "text": "Follicular carcinoma"
      },
      {
        "id": 3,
        "text": "Medullary carcinoma"
      },
      {
        "id": 4,
        "text": "Anaplastic carcinoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Orphan Annie eye nuclei</strong> is seen in the histopathology picture which is a feature of <strong>Papillary carcinoma</strong> of thyroid.</p>\n<p><strong>Papillary carcinoma of thyroid:</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/057ec79fd83546ddbe15c52ef64a8a07.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b7a28cc299654cb5865677fa9b3048ebx385x180.JPEG"
    ]
  },
  {
    "text": "MRI rooms are shielded completely by a continuous sheet or wire mesh of copper to shield the imager from external electromagnetic radiation. It is called ______",
    "choices": [
      {
        "id": 1,
        "text": "Maxwell cage"
      },
      {
        "id": 2,
        "text": "Faraday cage"
      },
      {
        "id": 3,
        "text": "Edison\u2019s cage"
      },
      {
        "id": 4,
        "text": "Ohms cage"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>MRI rooms are shielded completely by a continuous sheet or wire mesh of copper called <strong>Faraday cage,</strong> which provides RF shielding.</p>\n<p>Radiofrequency shielding in MRI is crucial to prevent both external radiofrequency pulses from interfering with the detector and the radiofrequency pulses generated by the scanner from interfering with the external environment.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 52-year old man is administered the CAGE questionnaire. What is being assessed in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Alcohol abuse"
      },
      {
        "id": 2,
        "text": "Depression"
      },
      {
        "id": 3,
        "text": "Suicidal intention"
      },
      {
        "id": 4,
        "text": "Drug intoxication"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>CAGE scale</strong> is used for&nbsp;<strong>alcohol abuse</strong></p>\n<ul>\n<li>C - Have you ever felt you ought to <strong>cut</strong> down on your drinking?</li>\n<li>A - Have people <strong>annoyed</strong> you by criticizing your drinking?</li>\n<li>G - Have you ever felt <strong>guilty</strong> or bad about you drinking?</li>\n<li>E - Have you ever had a drink first thing in the morning to steady your nerves or get rid of a hangover (<strong>eye-opener</strong>)?</li>\n</ul>\n<p>One 'yes' response raises a suspicion of an alcohol use problem and more than one is a strong indication of abuse or dependence.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Periodic acid Schiff positive macrophages are seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Agammaglobulinemia"
      },
      {
        "id": 2,
        "text": "Whipple's disease"
      },
      {
        "id": 3,
        "text": "Abetalipoproteinemia"
      },
      {
        "id": 4,
        "text": "Crohn's disease"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Periodic acid Schiff (PAS) positive macrophages are seen in Whipple's disease.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/698600ed56924009a9f959f45424a295x1023x1534.JPEG"
    ]
  },
  {
    "text": "A 20-year-old male who is diagnosed to have acute appendicitis has worsened for the \u200blast few hours. X-ray was taken and is given below. What is the most likely complication that he has developed?",
    "choices": [
      {
        "id": 1,
        "text": "Appendicular abscess"
      },
      {
        "id": 2,
        "text": "Appendicular mass"
      },
      {
        "id": 3,
        "text": "Perforation"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Chest X-ray reveals <strong>air under diaphragm </strong>which is diagnostic of <strong>pneumoperitoneum</strong>. Here the perforation of bowel has resulted in pneumoperitoneum.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/08a6f6973d624db085653c7f1a5cf65f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Most common symptom of chronic pancreatitis is",
    "choices": [
      {
        "id": 1,
        "text": "Abdominal pain"
      },
      {
        "id": 2,
        "text": "Cachexia"
      },
      {
        "id": 3,
        "text": "Weight loss"
      },
      {
        "id": 4,
        "text": "Steatorrhea"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Pain</strong> is the <strong>most common symptom </strong>of <strong>chronic pancreatitis</strong>.</p>\n<p>Characteristics of pain abdomen due to chornic pancreatitis:</p>\n<ul>\n<li>Usually <strong>mid-epigastric</strong> in location but may localize or involve either the left or right upper quadrant of the abdomen.</li>\n<li>Frequently described as <strong>penetrating through to the back.</strong></li>\n<li>Typically <strong>steady and boring</strong>, but not colicky.</li>\n<li>Patients with chronic pancreatic pain typically <strong>flex their abdomen and either sit or lie with their hips flexed, or lie on their side in a fetal position</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/e4de37b9147749c88d42f126f709fa24x317x315.PNG"
    ]
  },
  {
    "text": "Apixaban is a:",
    "choices": [
      {
        "id": 1,
        "text": "Antifirbrinolytic"
      },
      {
        "id": 2,
        "text": "Factor Xa inhibitor"
      },
      {
        "id": 3,
        "text": "Oral direct thrombin inhibitor"
      },
      {
        "id": 4,
        "text": "Parenteral direct thrombin inhibitor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Apixaban,</strong> a<strong>&nbsp;</strong>novel oral anticoagulant&nbsp;<strong>(NOAC) is a&nbsp;</strong><strong>factor Xa inhibitor</strong>&nbsp;that is used in the treatment of VTE (Venous Thrombo Embolism)/DVT and in its prophylaxis after major orthopedic surgery.</p>\n<p><strong>Direct factor Xa inhibitors:</strong></p>\n<ul>\n<li>Rivaroxaban</li>\n<li>Apixaban</li>\n<li>Edoxaban</li>\n<li>Betrixaban</li>\n</ul>\n<p><strong>Parenteral direct thrombin inhibitors:</strong></p>\n<ul>\n<li>Bivalirudin</li>\n<li>Argatroban</li>\n<li>Desirud</li>\n</ul>\n<p><strong>Oral direct thrombin inhibitor</strong>&mdash;Dabigatran is the only oral direct thrombin inhibitor available for clinical use.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The arterial blood gas findings of a patient are pH = 7.12, pCO2 = 50, HCO3 = 28. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Respiratory acidosis with metabolic compensation"
      },
      {
        "id": 2,
        "text": "Metabolic acidosis with respiratory compensation"
      },
      {
        "id": 3,
        "text": "Respiratory alkalosis with metabolic compensation"
      },
      {
        "id": 4,
        "text": "Metabolic alkalosis with respiratory compensation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above findings give the diagnosis of<strong>&nbsp;respiratory acidosis with metabolic compensation</strong>.</p>\n<p><strong>Stepwise approach :</strong></p>\n<p>1) pH = 7.12 (&lt;7.35)&nbsp;&rarr; acidosis</p>\n<p>2) Since pCO<sub>2</sub>= 50 (&gt;40) it is respiratory acidosis</p>\n<p>3) HCO<sub>3&nbsp;</sub>= 28(&gt;24) suggesting there is metabolic compensation</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-year-old boy is posted for laparoscopic appendectomy. which of the following inhalational agent is preferred for induction?",
    "choices": [
      {
        "id": 1,
        "text": "Isoflurane"
      },
      {
        "id": 2,
        "text": "Halothane"
      },
      {
        "id": 3,
        "text": "Sevoflurane"
      },
      {
        "id": 4,
        "text": "Desflurane"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Induction agent of choice in <strong>pediatric anesthesia</strong> is <strong>sevoflurane</strong>.</p>\n<p>Although both halothane and sevoflurane provide a smooth induction, <strong>sevoflurane</strong> appears to have a <strong>greater therapeutic index</strong> than halothane and is the preferred agent for inhaled induction in pediatric anesthesia.</p>\n<p><strong>Isoflurane</strong>&nbsp;and&nbsp;<strong>desflurane</strong>&nbsp;are&nbsp;<strong>airway irritants</strong>. Hence not used for induction of anesthesia as they can precipitate laryngospasm. These agents are used only during maintenance of anesthesia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 50 year old smoker presents with pain along the left arm and ptosis. His chest radiograph shows a soft tissue opacity at the left lung apex with destruction of adjacent ribs. This is suggestive of:",
    "choices": [
      {
        "id": 1,
        "text": "Upper lobe pneumonia"
      },
      {
        "id": 2,
        "text": "Bronchial carcinoid"
      },
      {
        "id": 3,
        "text": "Pancoast tumour"
      },
      {
        "id": 4,
        "text": "Bronchoalveolar carcinoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical picture is suggestive of a <strong>pancoast tumour (superior sulcus tumour)</strong>.</p>\n<p><strong>Pancoast syndrome/superior sulcus tumor</strong>&nbsp;results from a local extension of a tumor growing in the&nbsp;<strong>apex of the lung</strong>, with the involvement of&nbsp;<strong>C8, T1, and T2</strong>&nbsp;nerve roots, stellate ganglion, and the chest wall. It presents with pain that radiates to the&nbsp;<strong>ulnar distribution of the arm</strong>, often with the destruction of the 1st and 2nd ribs. Patients with the central or&nbsp;<strong>endobronchial growth</strong>&nbsp;of the primary tumor may present with a cough, hemoptysis, wheeze, stridor, dyspnea, or post-obstructive pneumonitis.</p>\n<p><strong>Regional spread</strong>&nbsp;can cause</p>\n<ul>\n<li>Tracheal obstruction</li>\n<li>Esophageal compression with dysphagia</li>\n<li>Recurrent laryngeal paralysis with hoarseness</li>\n<li><strong>Phrenic nerve palsy</strong>&nbsp;with the elevation of the hemidiaphragm and dyspnea</li>\n<li><strong>Sympathetic nerve palsy</strong> with&nbsp;<strong>Horner&rsquo;s syndrome</strong>&nbsp;(enophthalmos,<strong> ptosis, </strong>miosis, and anhydrosis)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presented to the ER after an RTA and requires a large amount of fluids to be transfused. Which of the following IV cannula is preferred?",
    "choices": [
      {
        "id": 1,
        "text": "Green"
      },
      {
        "id": 2,
        "text": "Blue"
      },
      {
        "id": 3,
        "text": "Pink"
      },
      {
        "id": 4,
        "text": "Grey"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Grey</strong> coloured IV cannula is required for this patient in order to transfuse large amount of fluids.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old female with a past medical history of generalized seizures controlled with phenytoin therapy. She had mild pallor on physical examination. Lab values reveal Hb -  9.8 g/dl, MCV - 106 fL, Platelets - 1,80,000/cu.mm, leukocytes - 7800/cu.mm. Which of the following supplementations could have prevented this anemia?",
    "choices": [
      {
        "id": 1,
        "text": "Iron"
      },
      {
        "id": 2,
        "text": "Vitamin B12"
      },
      {
        "id": 3,
        "text": "Vitamin B6"
      },
      {
        "id": 4,
        "text": "Folic acid"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Folic acid supplementation could have prevented this patient's anemia.</p>\n<p>This patient has mild <strong>megaloblastic anemia </strong>(high MCV), probably due to chronic phenytoin therapy. Some anti-epileptic drugs like phenytoin, phenobarbital can cause megaloblastic anemia by <strong>impairing absorption of folate in the small intestine</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 25-year-old male presented to the clinic with a complaint of the feeling of insects crawling under the skin. Which of the following drug abuse can cause the symptoms of this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Cannabis"
      },
      {
        "id": 2,
        "text": "Cocaine"
      },
      {
        "id": 3,
        "text": "Amphetamine"
      },
      {
        "id": 4,
        "text": "Alcohol"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The feeling of insects crawling under the skin, also known as <strong>cocaine bugs</strong> or <strong>formication</strong>, is a feature of <strong>cocaine </strong>abuse.</p>\n<p>Other features of acute cocaine intoxication are delusions of persecution, paranoia, and suspiciousness. It is essential to differentiate acute cocaine intoxication from acute schizophrenia which it closely resembles.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 45-year-old man complaining of pain in the right flank has been diagnosed with right-sided renal calculi measuring 2.2cm. Urine microscopy finding is shown in the image. What is the most suitable treatment among the following in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Extracorporeal shock wave lithotripsy"
      },
      {
        "id": 2,
        "text": "Percutaneous nephrolithotomy"
      },
      {
        "id": 3,
        "text": "No treatment required just pain management suffices"
      },
      {
        "id": 4,
        "text": "Open stone surgery"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image of the urine microscopy shows <strong>hexagonal shaped</strong> <strong>cystine stone</strong>. Hence the best suitable treatment in a patient with right-sided cysteine <strong>renal calculi </strong>measuring <strong>2.2 cm</strong> is <strong>percutaneous nephrolithotomy (PCNL).</strong></p>\n<p>Cysteine stone is relatively resistant to extracorporeal shock wave lithotripsy and a stone size of more than 2 cm necessitates percutaneous nephrolithotomy. ECWL is done until the renal stone size of less than 1.5cm.</p>\n<p>PCNL is indicated in the following condition:</p>\n<ul>\n<li>If the patient has anatomical obstruction like pelviureteric obstruction, calyceal diverticula, distal ureteral obstruction.</li>\n<li>Hard renal stones like cystine stone, calcium oxalate stone.</li>\n<li>If the renal stone is struvite stone as it is associated with urinary tract infection.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/be955f05a5234687b1c67f1089d2c167.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following structures does not form the boundary of Hesselbach\u2019s triangle?",
    "choices": [
      {
        "id": 1,
        "text": "Inferior epigastric artery"
      },
      {
        "id": 2,
        "text": "Vas deferens"
      },
      {
        "id": 3,
        "text": "Rectus abdominis"
      },
      {
        "id": 4,
        "text": "Inguinal ligament"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Vas deferens <strong>does not</strong> form a boundary of Hesselbach&rsquo;s triangle.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A post-menopausal woman presents with a history of pain in the forearm after falling down the stairs. X-ray is done and is shown below. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Smith\u2019s fracture"
      },
      {
        "id": 2,
        "text": "Colles\u2019 fracture"
      },
      {
        "id": 3,
        "text": "Galeazzi fracture"
      },
      {
        "id": 4,
        "text": "Monteggia fracture"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario and&nbsp;X-ray are most suggestive of <strong>Colles&rsquo; fracture</strong>.</p>\n<p>The radiograph shows a transverse fracture of the radius just above the wrist. The fracture appears extra-articular. In the AP-view, the distal fracture fragment is dorsally angulated. This is characteristic of Colles' fracture.&nbsp;&nbsp;</p>\n<p><strong>Displacements that may be seen in Colles' fracture:</strong></p>\n<ul>\n<li>Dorsal tilt</li>\n<li>Dorsal shift</li>\n<li>Lateral tilt (Radial tilt)</li>\n<li>Lateral shift (Radial shift)</li>\n<li>Supination</li>\n<li>Impaction of fragments</li>\n</ul>\n<p>The clinical feature includes&nbsp;<strong>dinner fork deformity</strong>&nbsp;with prominence on the back of the wrist and depression in the front. It&nbsp;is treated by a <strong>Colles&rsquo; cast,</strong> which immobilizes the wrist in palmar flexion, pronation, and ulnar deviation.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f9f7348772e74bf995cb3a586c1b940c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9894802843f146d0889e9c7642dfae63x1063x883.JPEG"
    ]
  },
  {
    "text": "Diagnostic test of choice for HIV in a baby born to an HIV-infected mother is   _______",
    "choices": [
      {
        "id": 1,
        "text": "HIV DNA PCR"
      },
      {
        "id": 2,
        "text": "Cord Blood ELISA"
      },
      {
        "id": 3,
        "text": "Western Blot"
      },
      {
        "id": 4,
        "text": "3rd Generation ELISA"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>HIV in a baby born to an HIV-infected mother is diagnosed using HIV DNA PCR.</p>\n<ul>\n<li>NACO recommends the use of a qualitative <strong>HIV-1 DNA PCR (NAT)&nbsp;</strong>in <strong>children aged &lt;18months</strong></li>\n<li>Antibody assays (e.g., ELISA) that are commonly used for HIV testing in adults and older children are not reliable in infants and young children because of the <strong>persistence of transplacentally acquired maternal antibody</strong> until <strong>18 months</strong> after birth.For this reason, HIV virologic testing must be performed using tests that detect HIV DNA or RNA to diagnose HIV infection in children and infants younger than 18 months.<strong>Scheduled repeated testing</strong> is necessary because test sensitivity increases with time from HIV virus exposure and very recent infection will not be detectable.</li>\n<li><strong>Cord blood should not be used</strong> for testing because of the possibility of contamination of the sample with maternal blood.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "USG of a 26 year old G2P1L1 shows T sign. This is suggestive of :",
    "choices": [
      {
        "id": 1,
        "text": "Abruptio placenta"
      },
      {
        "id": 2,
        "text": "Membrane in twin pregnancy"
      },
      {
        "id": 3,
        "text": "Molar pregnancy"
      },
      {
        "id": 4,
        "text": "Choriocarcinoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>\"T sign\" is the sonographic image seen in a <strong>monochorionic twin</strong> pregnancy. &nbsp;It refers to the lack of chorion extending between the layers of the intertwin membrane.</p>\n<p>The sonographic image shows the <strong>&ldquo;T&rdquo; sign in a monochorionic diamnionic</strong> gestation at 30 weeks.&nbsp;The second picture is a schematic diagram of the &ldquo;T&rdquo; sign.&nbsp;A &ldquo;T&rdquo; is formed at the point at which <strong>amnions meet the placenta</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/55bd03f6fae94a4980f2d105c107fd74x368x531.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/74999d716f844ebca19c4debd9f738e7x1000x864.GIF"
    ]
  },
  {
    "text": "Identify the incision for appendicectomy.",
    "choices": [
      {
        "id": 1,
        "text": "Gridiron incision"
      },
      {
        "id": 2,
        "text": "Lanz incision"
      },
      {
        "id": 3,
        "text": "Rutherford\u2013Morison incision"
      },
      {
        "id": 4,
        "text": "Rockey\u2013Davis incision"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li><strong>Lanz incision</strong> is a transverse or skin crease incision for appendicitis,2 cm below the&nbsp; umbilicus, centred on the midclavicular&ndash;midinguinal line</li>\n<li><strong>Rockey&ndash;Davis incision :</strong>&nbsp;Transverse right lower quadrant incision.</li>\n<li><strong>Gridiron</strong>&nbsp;<strong>i</strong><strong>ncision :</strong>&nbsp;Oblique muscle <strong>splitting</strong> incision in the right lower quadrant. Also called as <strong>Mc Burney</strong> incision.</li>\n<li><strong>Rutherford&ndash;Morrison incision :&nbsp;</strong>oblique muscle <strong>cutting</strong> incision with its lower end over McBurney&rsquo;s point and <strong>extending obliquely upwards and laterally</strong> as necessary (shown on the left side in the image for the sake of clarity)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e8052fce4c554c2290df8f21e4cc88ef.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7fcf2d22eeb94e2686b24dca63e0784ex1200x1486.JPEG"
    ]
  },
  {
    "text": "Widening of the metaphyseal ends in rickets is known as:",
    "choices": [
      {
        "id": 1,
        "text": "Fraying"
      },
      {
        "id": 2,
        "text": "Splaying"
      },
      {
        "id": 3,
        "text": "Cupping"
      },
      {
        "id": 4,
        "text": "Bowing"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Widening of the metaphyseal ends</strong> is known as <strong>splaying</strong>. It occurs because of the accumulation of non-mineralized osteoid at the metaphyseal ends.</p>\n<p>Defective mineralization of osteoid also results in fraying and cupping. <strong>Fraying</strong> is the <strong>worn-out appearance</strong> of the metaphyseal margins. <strong>Cupping</strong> is the <strong>concave appearance</strong> of the metaphysis. Bowing is seen in the diaphysis of the long bones affected by rickets.</p>\n<p>The given radiograph shows splaying, fraying and cupping.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e562e02950b6438bbfe9b70c3d80409dx1280x592.JPEG"
    ]
  },
  {
    "text": "A 25-year-old asthma patient is on SABA and daily low dose inhaled corticosteroids has been experiencing daily exacerbations . Which of the following medications should be added to his regimen?",
    "choices": [
      {
        "id": 1,
        "text": "Oral corticosteroids"
      },
      {
        "id": 2,
        "text": "Methylxanthines"
      },
      {
        "id": 3,
        "text": "Omalizumab"
      },
      {
        "id": 4,
        "text": "Long acting bronchodilators"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Daily exacerbations indicate the patient has moderate persistent asthma.</p>\n<p><strong>Long acting bronchodilators (LABA)</strong> should be added to his regimen.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is commonly associated with the condition shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Oil drop sign"
      },
      {
        "id": 2,
        "text": "Leukonychia striata"
      },
      {
        "id": 3,
        "text": "Pterygium of nails"
      },
      {
        "id": 4,
        "text": "Pitting of nails"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The condition shown in the image above is <strong>alopecia areata</strong>. Classically, it causes fine stippled <strong>pitting of the nails.</strong></p>\n<p>It is a <strong>chronic inflammatory disease </strong>which causes <strong>non-scarring patches </strong>of hair loss, especially in <strong>genetically predisposed.</strong></p>\n<p>The most characteristic lesion is a <strong>smooth circumscribed patch of alopecia, </strong>which has <strong>short extractable broken hairs </strong>called as <strong>exclamation mark hair. </strong>However, there is always <strong>sparing of white hairs </strong>in the region affected.</p>\n<p>Other options :</p>\n<p><strong>Subungal oil drop sign </strong>is a <strong>highly specific </strong>pathognomonic sign seen in Nail <strong>psoriasis. </strong>It is a yellow-red discolouration in the nail bed resembling a drop of oil.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/af072a19b3734cfd8af1527c1bfbc255.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3597602b1b574e88b472ea048e13e550x512x334.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0f372daedd114cf88b1d269c501977cfx720x482.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8145e85e9cf54988be3f1c14d0cbe49cx401x529.JPEG"
    ]
  },
  {
    "text": "A very tall patient with a thyroid swelling and elevated calcitonin is posted for surgery. He has long, slender fingers and toes. Which preoperative screening is recommended in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "MRI-Brain"
      },
      {
        "id": 2,
        "text": "Serum calcium"
      },
      {
        "id": 3,
        "text": "Urinary catecholamines"
      },
      {
        "id": 4,
        "text": "IGF-1 assay"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>This patient with a thyroid swelling, <strong>elevated calcitonin</strong> and features of <strong>marfanoid habitus </strong>(long slender fingers)&nbsp;is suggestive of <strong>MEN 2B</strong> syndrome. Such patients are to be screened for <strong>pheochromocytoma</strong> by measuring <strong>urinary catecholamines.</strong></p>\n<p>A thyroid swelling with elevated calcitonin indicates a medullary thyroid carcinoma (MTC). MTC can either be <strong>sporadic</strong> (80%) or <strong>familial</strong> (RET gene mutation).</p>\n<p>MTC can be inherited as a part of <strong>autosomal dominant</strong> (AD) syndromes such as:</p>\n<ul>\n<li>Familial MTC</li>\n<li style=\"font-weight: 400;\">MEN 2A</li>\n<li style=\"font-weight: 400;\">MEN 2B</li>\n</ul>\n<p>It is necessary&nbsp;to pre-operatively screen for pheochromocytoma in suspected cases of MEN 2 syndromes.&nbsp;<span style=\"font-size: 14px;\">If patients are found to have a pheochromocytoma, this must be operated on first.</span></p>\n<p><strong>Note:</strong> Serum calcium is measured to screen for parathyroid adenoma in MEN 2A.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Fmge Mini Test - 2';
        let hierarchy = ["Marrow", "FMGE Mini Test Series", "2020"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>