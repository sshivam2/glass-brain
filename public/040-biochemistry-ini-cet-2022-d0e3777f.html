<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>040 Biochemistry Ini-Cet 2022 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Biochemistry
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">27</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "Which is the correct sequence of steps in the isolation of desirable protein using recombinant DNA technology?",
    "choices": [
      {
        "id": 1,
        "text": "2, 1, 3, 5, 4"
      },
      {
        "id": 2,
        "text": "1, 2, 4, 3, 5"
      },
      {
        "id": 3,
        "text": "1, 5, 2, 4, 3"
      },
      {
        "id": 4,
        "text": "2, 4, 5, 3, 1"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correct sequence of\u00a0isolation of desirable protein in recombinant DNA technology is\u00a0<strong>2, 1, 3, 5, 4</strong>.</p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;We can use these options\\n1. Lysis of bacterial cell\\n2. Incorporation of gene into bacteria\\n3. SDS page\\n4. Hybridisation\\n5. Protein expression/ elution (whichever reference is available)&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:771,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16773836},&quot;11&quot;:4,&quot;12&quot;:0}\">I)<strong> Incorporation of genes into bacteria</strong>: The gene needed to produce the desired proteins is to be incorporated into the bacteria. This is done using\u00a0<strong>cloning vectors</strong> like bacterial plasmids, phages, or cosmids. The DNA of interest is ligated into the vector DNA and is called\u00a0<strong>recombinant DNA</strong>. This vector is then inserted into a competent host cell (eg: E.coli bacteria) where it is replicated.</span></p>\n<p>II)<strong> Expression of protein </strong>and<strong> lysis of bacterial cell</strong>:\u00a0 After\u00a0<span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;We can use these options\\n1. Lysis of bacterial cell\\n2. Incorporation of gene into bacteria\\n3. SDS page\\n4. Hybridisation\\n5. Protein expression/ elution (whichever reference is available)&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:771,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16773836},&quot;11&quot;:4,&quot;12&quot;:0}\">incorpora</span>tion of\u00a0recombinant DNA, bacteria<strong> express</strong> the <strong>inserted gene</strong> and produce the <strong>desired protein</strong> on a large scale along with other indigenous bacterial proteins. To<strong> release</strong> these\u00a0<strong>proteins</strong> bacterial cell is<strong> lysed</strong>.</p>\n<p>III) <strong>SDS-PAGE</strong>\u00a0(sodium dodecyl sulfate-polyacrylamide gel electrophoresis):\u00a0It is the most widely used method for determining the purity of a protein.<strong>\u00a0</strong>After the proteins are released, to <strong>separate\u00a0</strong>the <strong>desirable protein</strong>, we subject it to SDS-PAGE. It separates proteins based on <strong>molecular weight</strong>.</p>\n<p><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;We can use these options\\n1. Lysis of bacterial cell\\n2. Incorporation of gene into bacteria\\n3. SDS page\\n4. Hybridisation\\n5. Protein expression/ elution (whichever reference is available)&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:771,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16773836},&quot;11&quot;:4,&quot;12&quot;:0}\">IV) <strong>Hybridization and blotting</strong>: It is done to <strong>confirm</strong>\u00a0that the\u00a0<strong>isolated protein</strong> is the <strong>desired protein</strong>. It is done using <strong>western blotting</strong> techniques on nitrocellulose paper.</span></p>\n<p>V)<strong><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;We can use these options\\n1. Lysis of bacterial cell\\n2. Incorporation of gene into bacteria\\n3. SDS page\\n4. Hybridisation\\n5. Protein expression/ elution (whichever reference is available)&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:771,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16773836},&quot;11&quot;:4,&quot;12&quot;:0}\"> Protein e</span>lution\u00a0</strong>- extraction of the produced protein.</p>\n<p>\u00a0</p>\n<p><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">The practical\u00a0</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>applications\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">of<strong>\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>recombinant DNA technolog</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">y include:</span></p>\n<ul>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Gene mapping</strong>\u00a0using techniques such as fluorescence in situ hybridization\u00a0</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z h-lparen\">(FISH).</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Producing <strong>proteins</strong> such as:</span>\n<ul>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Interferons,\u00a0<strong>tPA\u00a0</strong></span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z h-lparen\">(tissue\u00a0</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">plasminogen activator)</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Insulin</strong>, growth hormone</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Hepatitis B vaccine</span></li>\n</ul>\n</li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Molecular analysis</strong>\u00a0of disease, to detect gene variations and mutations.</span></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Restriction Fragment Length polymorphism (<strong>RFLP</strong>) and single nucleotide polymorphism (<strong>SNP</strong>)</span></li>\n<li><strong><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">Microsatellite DNA polymorphisms</span></strong></li>\n<li><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\"><strong>Gene therapy</strong>\u00a0and\u00a0<strong>bone</strong>\u00a0<strong>marrow</strong>\u00a0transplantation</span></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following techniques is used to detect DNA-protein interaction?",
    "choices": [
      {
        "id": 1,
        "text": "DNA footprinting"
      },
      {
        "id": 2,
        "text": "DNA fingerprinting"
      },
      {
        "id": 3,
        "text": "ELISA"
      },
      {
        "id": 4,
        "text": "Northern blotting"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Other options:</p>\n<p>Option B: <strong>DNA fingerprinting</strong> uses RFLPs (restriction fragment length polymorphism) or repeat sequence DNA to identify a person's <strong>unique pattern </strong>of<strong> DNA</strong>. Polymorphisms are inherited differences found among individuals. with this technique,\u00a0individuals can be differentiated by variations in their DNA sequence, using restriction endonucleases followed by\u00a0gel electrophoresis, to visualize RFLPs.<strong>\u00a0</strong>DNA fingerprinting is used for forensic analysis of crime scenes, and for paternity testing.\u00a0</p>\n<p>Option C: <strong>ELISA</strong> uses antibodies linked to certain enzymes to <strong>detect</strong> certain<strong> antigens</strong> present in the sample.</p>\n<p>Option D: <strong>Northern blotting\u00a0</strong>technique can be used to <strong>detect</strong>\u00a0<strong>RNA</strong>.\u00a0Here, the mixture of\u00a0<strong>mRNA</strong>\u00a0molecules is separated by electrophoresis and then transferred to a nitrocellulose membrane and hybridized with radiolabeled probes.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/78b95f0916ed4a0eaa1dfe8d14aba37ax1280x2025.JPEG"
    ]
  },
  {
    "text": "A patient was diagnosed with Ewing sarcoma with EWSR1 gene mutation. The technique shown in the image was performed to confirm the diagnosis. Identify the technique shown in the image.",
    "choices": [
      {
        "id": 1,
        "text": "Fluorescent in situ hybridisation"
      },
      {
        "id": 2,
        "text": "Karyotyping"
      },
      {
        "id": 3,
        "text": "Immunohistochemistry"
      },
      {
        "id": 4,
        "text": "Sanger's technique"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The technique shown in the image is <strong>FISH </strong>demonstrating a positive\u00a0<strong>EWSR1 gene rearrangement</strong>, characteristic of <strong>Ewing sarcoma</strong>. The <strong>fused </strong>region denoted by<strong> Yellow\u00a0</strong>corresponds to a <strong>normal\u00a0intact gene</strong>, while a<strong> split signal </strong>pattern showing\u00a0separate <strong>red </strong>and<strong> green signals</strong>\u00a0is indicative of<strong>\u00a0</strong>EWSR1 gene rearrangement.</p>\n<p><strong class=\"ng-binding\">Fluorescent In Situ Hybridisation (FISH)\u00a0</strong>is a simple technique for the detection of specific genetic information on morphologically intact tissue using fluorescent probes.\u00a0FISH can be performed on prenatal samples, peripheral blood cells, touch preparations from cancer biopsies, and even fixed archival tissue sections.\u00a0It is used to detect</p>\n<ul>\n<li><strong>numeric abnormalities</strong> of chromosomes (aneuploidy)</li>\n<li>subtle <strong>microdeletions </strong>and<strong>\u00a0rearrangements</strong>.</li>\n<li>complex <strong>translocations</strong> that are not demonstrable by routine karyotyping</li>\n<li><strong>gene amplification</strong> (e.g., HER2 in breast cancer or NMYC amplification in neuroblastomas)</li>\n</ul>\n<p>Other options:</p>\n<p>Option B:\u00a0<strong>Karyotyping</strong>\u00a0is the process by which chromosomes are isolated, stained, and examined to find chromosomal anomalies. It is used in prenatal diagnosis, investigation of repeat pregnancy loss, investigation of children and adults suspected of having a chromosomal disorder, and subtyping of lymphomas and leukemias for the purpose of exact diagnosis, giving a\u00a0prognosis, and treatment.</p>\n<p>Option C: <strong>IHC</strong> (Immunohistochemistry) is a staining method for histopathological specimens. It helps in the diagnosis and classification of tumors based on their distinct protein expression patterns. Eg: The expression of estrogen receptor (ER), progesterone receptor (PR), and HER2/neu in breast cancer cells is mainly assessed by immunohistochemistry.</p>\n<p>Option D: <strong>Sanger's technique</strong>:<strong>\u00a0</strong>This was the first technique used to determine the\u00a0<strong>sequence of proteins.\u00a0</strong>The first protein to be sequenced by this method was\u00a0<strong>insulin.\u00a0</strong>Sanger\u2019s reagent is<strong>\u00a0</strong>1- Flouro 2,4 Dinitro benzene.<strong>\u00a0</strong>Only\u00a0<strong>dipeptides\u00a0</strong>and\u00a0<strong>tripeptides\u00a0</strong>can be sequenced by this method.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d4f735c91d6a4ab68baac0550ecded82.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "In a patient with maple syrup urine disease, all of the following amino acids should be restricted in diet except?",
    "choices": [
      {
        "id": 1,
        "text": "Methionine"
      },
      {
        "id": 2,
        "text": "Valine"
      },
      {
        "id": 3,
        "text": "Leucine"
      },
      {
        "id": 4,
        "text": "Isoleucine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Laboratory investigations will show increased&nbsp;<strong>levels&nbsp;</strong>of&nbsp;<strong>branched-chain amino acids</strong>&nbsp;in the plasma and urine. <strong>Leucine</strong> levels are usually higher than isoleucine, and valine.</p>\n<p>Treatment involves <strong>restricted intake</strong> of <strong>branched-chain amino acids</strong> using commercially available formulas and judicious supplementation of isoleucine and valine. Very high levels of leucine are removed by&nbsp;<strong>hemodialysis.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2b61ae3b601a4b78b29862ed1e28df01x1279x1324.JPEG"
    ]
  },
  {
    "text": "Which of the following statements about the human genome project is false?",
    "choices": [
      {
        "id": 1,
        "text": "Total  20,500 genes were identified"
      },
      {
        "id": 2,
        "text": "The project spanned over 13 years"
      },
      {
        "id": 3,
        "text": "It required international collaboration"
      },
      {
        "id": 4,
        "text": "Next generation sequencing was used"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The human genome project <strong>did not use next-generation sequencing</strong>.</p>\n<p>The Human Genome Project (HGP) was an <strong>international</strong>,<strong> collaborative</strong> research program, which involved agencies such as UNESCO, HUGO, the National Institute of Health/Department of Energy (USA), the Medical Research Council (UK), Genethon (France), and the European Union. The primary goal of the&nbsp;Human Genome Project&nbsp;was to determine the&nbsp;<strong>sequence</strong> of all&nbsp;<strong>nucleotide base pairs</strong>,&nbsp;that make up human DNA and to create<strong>&nbsp;</strong>a single linear <strong>map</strong>&nbsp;of&nbsp;<strong>all genes</strong>&nbsp;from the human genome. The project was active from&nbsp;<strong>1990 </strong>to&nbsp;<strong>2003</strong>, taking around <strong>13 years&nbsp;</strong>to complete.&nbsp;A total of <strong>20500 genes</strong> were identified and mapped. Scientists used various methods of&nbsp;<strong>first-generation sequencing technologies</strong> including <strong>sanger's technique</strong>, SGS technique, etc.&nbsp;The HGP has produced a curated and accurate <strong>reference sequence</strong> for the majority of human chromosomes. The reference sequence has provided the foundation for the use of second-generation sequencing technologies such as array techniques.</p>\n<p><strong>Next-generation sequencing (NGS) </strong>is a new technology used for<strong> sequencing </strong>DNA and RNA and mutation detection. NGS can sequence the genome faster and in a shorter period of time than first-generation sequencing technologies.&nbsp;NGS allows for the detection of a spectrum of mutations, including single nucleotide substitutions, small insertions and deletions, large genomic duplications and deletions, and rare variations. Next-generation DNA sequencing technologies include</p>\n<ul>\n<li>Illumina sequencing</li>\n<li>Roche 454 sequencing</li>\n<li>Ion torrent: Proton/PGM sequencing</li>\n<li>SOLID sequencing.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Banding technique used for dicentric chromosomes is:",
    "choices": [
      {
        "id": 1,
        "text": "G banding"
      },
      {
        "id": 2,
        "text": "C banding"
      },
      {
        "id": 3,
        "text": "NOR"
      },
      {
        "id": 4,
        "text": "R banding"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The banding technique used for dicentric chromosomes is <strong>C banding</strong>.</p>\n<p>Heterochromatin includes non-coding regions of DNA, such as <strong>centromeric regions</strong>. The staining of these constitutive heterochromatins, is done by<strong>&nbsp;C-banding </strong>using silver salt staining. A <strong>dicentric</strong> chromosome having <strong>two centromeres</strong> can hence be identified by C banding.</p>\n<p>Various techniques are used in karyotyping to study chromosomes. Staining with various compounds produces various results and helps us to understand the chromosomes better.</p>\n<p>Common techniques&nbsp;used are:</p>\n<ul>\n<li><strong>Q banding -&nbsp;</strong>Fluorescence staining with quinacrine mustard.</li>\n<li><strong>G banding -&nbsp;</strong>Giemsa staining after&nbsp;partial denaturation of chromatin. It&nbsp;is the most common technique used in cytogenetics to produce a visible karyotype by staining condensed chromosomes.</li>\n<li><strong>R banding -&nbsp;</strong>Reverse&nbsp;Giemsa staining. In this, the light and dark areas are reversed.</li>\n<li><strong>C banding -&nbsp;</strong>staining of heterochromatin with silver salts.</li>\n<li><strong>T banding -&nbsp;</strong>staining the telomeres of chromosomes.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Affinity maturation of antibodies is because of?",
    "choices": [
      {
        "id": 1,
        "text": "Somatic hypermutation"
      },
      {
        "id": 2,
        "text": "Differential mRNA processing"
      },
      {
        "id": 3,
        "text": "CD40"
      },
      {
        "id": 4,
        "text": "Gene rearrangements"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Affinity maturation of antibodies is because of <strong>somatic hypermutation</strong>.</p>\n<p><strong>Affinity maturation&nbsp;</strong>is the process by which&nbsp;antibodies gain increased&nbsp;affinity,&nbsp;avidity,&nbsp;and&nbsp;anti-pathogen activity.&nbsp;It is a&nbsp;result of <strong>somatic hypermutation</strong>&nbsp;of immunoglobulin genes in B cells, coupled with selection for antigen binding.</p>\n<p><strong>Somatic hypermutation</strong>&nbsp;is a cellular response by which the immune system adapts to the new foreign elements that confront it. They do so by adding nucleotides in V gene regions of heavy and light chains, resulting in a<strong> better fit</strong> of antigen with the antibodies. This hence <strong>increases</strong> the <strong>affinity</strong> of antibodies to antigens. Due to this, the subset of plasma cells with these improved hypervariable regions are more strongly<br />selected by the antigen and therefore constitute a larger part of the population of antibody-producing cells. This process is called <strong>affinity maturation</strong>.</p>\n<p>This process occurs in the&nbsp;<strong>germinal centers</strong>&nbsp;and proceeds for weeks after acute infection or vaccination, or for many cycles during chronic infection. The resulting antibodies can be&nbsp;<strong>highly mutated</strong>&nbsp;from their germline-encoded counterparts, with an increase in several orders of magnitude in affinity for antigen compared to the corresponding na&iuml;ve B cell receptors (BCRs).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Best method for detection of mutations with low allele frequency is",
    "choices": [
      {
        "id": 1,
        "text": "Droplet digital PCR"
      },
      {
        "id": 2,
        "text": "FISH"
      },
      {
        "id": 3,
        "text": "Nested PCR"
      },
      {
        "id": 4,
        "text": "Sanger Sequencing"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Multiplex PCR-</strong>\u00a0Multiple primers are used to amplify several DNA sequences simultaneously. As this process targets multiple genes at once, a single test run gives additional information that would otherwise require several times the reagents and technician time to perform.\u00a0</p>\n<p>The <strong>Sanger sequencing</strong> technique is used for\u00a0<strong>DNA sequencing</strong>. It is based on controlled termination of synthesis of DNA by using chain terminating agents like dideoxynucleotides.</p>\n<p><strong class=\"ng-binding\">Fluorescent In Situ Hybridisation (FISH)\u00a0</strong>is a simple technique for the detection of specific genetic information on morphologically intact tissue using fluorescent probes.\u00a0FISH can be performed on prenatal samples, peripheral blood cells, touch preparations from cancer biopsies, and even fixed archival tissue sections.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/24a6c67a71c147d48c2461e68e660e4ex1120x1354.PNG"
    ]
  },
  {
    "text": "In Sanger sequencing, ddNTP is used because:",
    "choices": [
      {
        "id": 1,
        "text": "It is used to increase DNA polymerase activity"
      },
      {
        "id": 2,
        "text": "It can be made fluorescent"
      },
      {
        "id": 3,
        "text": "They exhibit higher affinity for DNA polymerases"
      },
      {
        "id": 4,
        "text": "It doesn't allow further elongation of DNA"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>&nbsp;</p>\n<p><strong>Sanger&rsquo;s technique</strong> was the first technique used to determine the&nbsp;sequence of proteins.<strong>&nbsp;</strong>The first protein to be sequenced by this method was&nbsp;<strong>insulin.&nbsp;</strong>Sanger&rsquo;s reagent is<strong>&nbsp;1- fluoro 2,4 dinitro benzene.&nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/92241a874eba422bb066650b71f4e59ex1024x1024.PNG"
    ]
  },
  {
    "text": "Misincorporation of uracil into DNA is seen in deficiency of:",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin B12"
      },
      {
        "id": 2,
        "text": "Folate"
      },
      {
        "id": 3,
        "text": "Vitamin B6"
      },
      {
        "id": 4,
        "text": "Vitamin E"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Folate deficiency results in:</p>\n<ul>\n<li>Megaloblastic anemia&nbsp;</li>\n<li>Homocystenemia</li>\n<li>Neural tube defects&nbsp;(spina bifida, Anencephaly) in the fetus.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ee4e74c9abc84ce4a1745d163afebbf3x1280x1276.JPEG"
    ]
  },
  {
    "text": "Deamination of methylated cytosine forms which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Uracil"
      },
      {
        "id": 2,
        "text": "Cytosine"
      },
      {
        "id": 3,
        "text": "Guanine"
      },
      {
        "id": 4,
        "text": "Thymine"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Deamination of methylated cytosine forms <strong>thymine</strong>.</p>\n<p>Deamination is\u00a0the<strong> removal </strong>of an<strong> amino group</strong>(NH2) from a\u00a0chemical compound. Enzymes that catalyze this reaction are called <strong>deaminases</strong>. Deamination of 5-methylcytosine forms thymine.\u00a0</p>\n<p>Other significant deaminations are given below:</p>\n<ul>\n<li style=\"text-align: justify;\">Deamination of <strong>adenosine</strong>\u00a0forms <strong>inosine</strong>. This is a metabolic step involved in uric acid formation by purine catabolism. It is mediated by the enzyme\u00a0<strong>adenosine deaminase</strong> (<strong>ADA</strong>). ADA deficiency leads to sparse or defective T cells and B cells and patients suffer from\u00a0<strong>Severe combined immunodeficiency </strong>(<strong>SCID</strong>).</li>\n<li>Deamination of <strong>cytosine</strong> leads to\u00a0<strong>uracil </strong>formation - The production of apolipoprotein B-48 (apoB-48) in the intestine is the result of <strong>RNA editing</strong> in the intestine. This involves post-transcriptional<strong> deamination</strong> of cytosine to uracil<strong><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">\u00a0</span></strong><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">by enzyme</span><strong><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">\u00a0</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">cytidine deaminase</span></strong><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">. This</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">\u00a0</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">converts\u00a0sense codon (</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">CAA)\u00a0</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">in the mRNA to\u00a0nonsense codon (</span><span class=\" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyy7z90zx1z73zz86z8z72z3z70zvjbz81zz122znz90zz74z1z78zz67zz66zz122zz83zjz73ziz69z\">UAA)at a single specific site.\u00a0This edited mRNA translates to\u00a0apoB-48.</span></li>\n<li>Deamination of<strong> guanine</strong> forms <strong>xanthine</strong>. This is a metabolic step involved in uric acid formation by purine catabolism.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following types of inhibition is depicted in the given Lineweaver-Burk plot?",
    "choices": [
      {
        "id": 1,
        "text": "Competitive inhibition"
      },
      {
        "id": 2,
        "text": "Non-competitive inhibition"
      },
      {
        "id": 3,
        "text": "Uncompetitive inhibition"
      },
      {
        "id": 4,
        "text": "Suicidal inhibition"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Option C: In<strong>&nbsp;uncompetitive inhibition,&nbsp;</strong>inhibitors bind with the enzyme-substrate&nbsp;<strong>intermediate complex</strong>, and inhibit it. This leads to decrease in both Vmax and Km. An example is the inhibition of <strong>placental</strong> alkaline phosphate (<strong>ALP</strong>) by <strong>phenylalanine</strong>.&nbsp;</p>\n<p>Option D:&nbsp;<strong>Suicidal inhibition&nbsp;</strong>is a special type of&nbsp;<strong>irreversible inhibition</strong>. The inhibitor here makes use of the enzyme's own reaction mechanism to inactivate it and is hence known as <strong>mechanism-based inactivation</strong>. An example is <strong>allopurinol</strong>, which is oxidized by xanthine oxidase to alloxanthine. Alloxanthine in turn is a more potent inhibitor of xanthine oxidase.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c6dbf0858b25472e893e3facd56a8731.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ffd327a25fb045959c699d4ffb05e602x1280x2235.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7810bbf695664063b9db9500778f3296x1280x2317.JPEG"
    ]
  },
  {
    "text": "Glycogen phosphorylase is activated by:",
    "choices": [
      {
        "id": 1,
        "text": "Calcium"
      },
      {
        "id": 2,
        "text": "Glucose-6-phosphate"
      },
      {
        "id": 3,
        "text": "Insulin"
      },
      {
        "id": 4,
        "text": "Protein phosphatase"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 178\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Glycogen phosphorylase is activated by <strong>calcium </strong>in the muscle<strong>.</strong></p>\n<p>Glycogen phosphorylase&nbsp;is the <strong>rate-limiting</strong> enzyme of&nbsp;<strong>glycogenolysis</strong>&nbsp;and is decreased in the fed state.</p>\n<p>In the muscle, the<strong> increased&nbsp;cytosolic calcium</strong> ion concentration initiates both&nbsp;<strong>contraction</strong> and <strong>glycogenolysis</strong>.&nbsp;Muscle phosphorylase kinase has four different subunits, &alpha;, &beta;, &gamma;, and &delta;. The &alpha; and &beta; subunits are phosphorylated by cAMP-dependent protein kinase. The <strong>&delta; subunit</strong> is identical to the calcium-binding protein calmodulin and binds four calcium ions.<strong>&nbsp;</strong>Calcium <strong>coordinates</strong> the <strong>activation</strong> of Glycogen Phosphorylase with the&nbsp;<strong>contraction</strong> of the muscle.</p>\n</div>\n</div>\n</div>\n</div>\n<p>Glycogen phosphorylase catalyzes the cleavage of&nbsp;<strong>&alpha;1 &rarr; 4 linkages</strong>&nbsp;of glycogen to&nbsp;single units of <strong>glucose 1-phosphate</strong>. It&nbsp;uses&nbsp;<strong>pyridoxal phosphate</strong>&nbsp;as the coenzyme. Different isoenzymes of glycogen phosphorylase are seen in the liver, muscles, and brain.</p>\n<p>Other options:</p>\n<p>Option B: During glycogenolysis, <strong>glucose 6-phosphate</strong> allosterically <strong>inhibits</strong> glycogen phosphorylase.&nbsp;</p>\n<div class=\"page\" title=\"Page 254\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 254\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Option C: <strong>Insulin</strong>&nbsp;entirely&nbsp;<strong>suppresses</strong> glycogenolysis in the skeletal muscle and liver.</p>\n<div class=\"page\" title=\"Page 254\">Option D: In glycogenolysis <strong>protein phosphatase</strong> is <strong>inactivated</strong> by inhibitor proteins in response to cAMP, to maintain the glycogen phosphorylase in an active state.</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Mutation of the gene of cystic fibrosis occurs with:",
    "choices": [
      {
        "id": 1,
        "text": "Tryptophan at 708 position, chloride channel"
      },
      {
        "id": 2,
        "text": "Phenylalanine at 708 position, calcium channel"
      },
      {
        "id": 3,
        "text": "Phenylalanine at 508 position, chloride channel"
      },
      {
        "id": 4,
        "text": "Tryptophan at 508 position, calcium channel"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The mutant gene of cystic fibrosis (CF gene) produces a mutant <strong>CFTR protein</strong> with the<strong> deletion of a phenylalanine residue at 508</strong>&nbsp;(F508del), characterised by impaired&nbsp;<strong>chloride&nbsp;</strong>secretion.</p>\n<p><strong>Cystic fibrosis</strong> is a condition with an&nbsp;<strong>autosomal recessive</strong> mode of inheritance.&nbsp;It results due to a defective mutation in the gene encoding for cystic fibrosis <strong>transmembrane conductance regulator</strong> (CF gene). It plays an important role in <strong>mucociliary transport</strong> along the respiratory mucosa. It also helps to regulate the amount of exocrine gland secretion.</p>\n<p>The defect in the ion channel results in the production of <strong>hyper-viscous</strong>, <strong>adherent secretions</strong> which can obstruct the airways. Organisms such as <strong><em>Pseudomonas aeruginosa</em></strong> and <em>Staphylococcus aureus</em> can grow in the sputum. The <strong>exocrine</strong> <strong>pancreas</strong> can undergo fibrotic scarring, cyst formation, and acinar tissue loss. The viscid secretions can lead to pancreatic duct obstruction. The flow of <strong>digestive enzymes</strong> to the duodenum is hence impaired.</p>\n<p>Symptoms include sinusitis,<strong> steatorrhea</strong>, and abdominal pain. <strong>Distal intestinal obstruction</strong> is a complication due to difficulty in excreting intestinal contents. In neonates, it can present as <strong>meconium ileus</strong>.&nbsp;</p>\n<p>Detection of high levels of <strong>trypsinogen</strong> is used in <strong>newborn</strong> screening. <strong>Chloride level &gt;60mEq/L</strong> in the <strong>sweat</strong> of affected patients is diagnostic. <strong>Hyponatremic hypochloremic alkalosis</strong>&nbsp;is&nbsp;seen.</p>\n<p>Postural drainage, <strong>short-term antibiotics</strong>, and inhaled bronchodilators can be used for medical management. The definitive treatment is <strong>lung transplantation</strong>.</p>\n<p>The image below shows the features of the disease.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e555b9bfbd3a4256bb9e9a1e09e41011x480x342.JPEG"
    ]
  },
  {
    "text": "A baby is brought to the OPD with complaints of lethargy and poor feeding. On examination, it is noted that the urine had a smell of burnt sugar. A defect in which of the following enzymes causes this disease?",
    "choices": [
      {
        "id": 1,
        "text": "Branched-chain ketoacid dehydrogenase"
      },
      {
        "id": 2,
        "text": "Branched-chain amino acid dehydrogenase"
      },
      {
        "id": 3,
        "text": "Branched-chain ketoacid oxidase"
      },
      {
        "id": 4,
        "text": "Branched-chain amino acid oxidase"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The diagnosis, in this case, is that of <strong>maple syrup urine disease&nbsp;</strong>(MSUD).&nbsp;This disease occurs due to a defect of the enzyme&nbsp;<strong>branched-chain keto acid dehydrogenase.</strong></p>\n<p class=\"p1\">&nbsp;MSUD is an <strong>autosomal recessive</strong> disorder that occurs due to a <strong>deficiency of branched-chain ketoacid dehydrogenase complex</strong>. This impairs the metabolism of branched-chain amino acids <strong>valine, leucine, isoleucine, </strong>and<strong> alloisoleucine</strong>. These amino acids, particularly leucine and its metabolite accumulate in the blood, causing toxic effects on the brain.</p>\n<p class=\"p1\">The affected child develops poor feeding and vomiting a few days after birth. There is a period of hypertonicity with a period of flaccidity in between. These appear as repetitive <strong>boxing</strong> and <strong>bicycling movements</strong>. The babies may also have <strong>hypoglycemia</strong>, but this is <strong>not corrected by</strong> the administration of <strong>glucose</strong>. The <strong>urine, sweat, and cerumen</strong> of the baby have a <strong>sweetish maple syrup-like odor.</strong></p>\n<p class=\"p1\">Laboratory investigations will show <strong>increased</strong> levels of <strong>branched-chain amino acids</strong> in the plasma and urine. Leucine levels are usually higher than isoleucine, valine, and alloisoleucine. Since the patient excretes ketone bodies in the urine, the urine will be positive for the <strong>dinitrophenylhydrazine test</strong>.</p>\n<p class=\"p1\">Treatment involves controlled intake of branched-chain amino acids using commercially available formulas and judicious supplementation of isoleucine and valine. Very high levels of leucine are removed by <strong>hemodialysis</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All are true about the hexose monophosphate shunt, except:",
    "choices": [
      {
        "id": 1,
        "text": "Source of ribose-5-phosphate"
      },
      {
        "id": 2,
        "text": "Source of Acetyl CoA"
      },
      {
        "id": 3,
        "text": "Source of NADPH"
      },
      {
        "id": 4,
        "text": "Utilises ribose"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>hexose monophosphate</strong> (HMP) shunt<strong> produces ribose</strong>&nbsp;and <strong>does not utilize it</strong>.&nbsp;</p>\n<p>The pentose phosphate pathway, also known as the HMP shunt pathway, is an alternative route for the <strong>metabolism of glucose</strong>.&nbsp;It contributes in two major ways:</p>\n<ul>\n<li style=\"font-weight: 400;\"><strong>Formation of NADPH&nbsp;</strong>for the synthesis of fatty acids and steroids and maintenance of reduced glutathione for antioxidant activity.</li>\n<li style=\"font-weight: 400;\"><strong>Formation of ribose&nbsp;</strong>for the synthesis of nucleic acid and nucleotides</li>\n</ul>\n<p>The enzymes for this pathway are found in the cytosol. There are two phases:</p>\n<ol>\n<li><strong>Irreversible oxidative phase</strong>: Glucose-6-phosphate is dehydrogenated and decarboxylated to form ribulose-5-phosphate which in turn gets converted to <strong>ribose-5-phosphate</strong>.</li>\n<li><strong>Reversible non-oxidative phase</strong>: Ribulose-5-phosphate is converted back to glucose-6-phosphate.&nbsp; &nbsp;</li>\n</ol>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/85f8c4aa0d0349c3b79968f54752d21fx1280x2237.JPEG"
    ]
  },
  {
    "text": "Which of the following enzymes use selenocysteine?",
    "choices": [
      {
        "id": 1,
        "text": "1, 3, 4"
      },
      {
        "id": 2,
        "text": "1, 2, 3"
      },
      {
        "id": 3,
        "text": "2, 3, 4"
      },
      {
        "id": 4,
        "text": "1, 2, 4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The enzymes that use selenocysteine are&nbsp;<strong>glutathione peroxidase</strong>, <strong>deiodinase</strong>, and<strong>&nbsp;thioredoxin reductase</strong>.&nbsp;</p>\n<p><strong>Selenocysteine </strong>is<strong>&nbsp;</strong>the<strong> 21<sup>st</sup> amino acid</strong> coded by the <strong>UGA codon</strong>, which is normally a <strong>stop codon.&nbsp;</strong>It is formed by <strong>co-translational modification</strong>.<strong>&nbsp;</strong>The protein synthetic apparatus can identify a selenocysteine-encoding UGA by the presence of the selenocysteine insertion sequence (SECIS) in the untranslated region of mRNA.</p>\n<p>Enzymes such as thioredoxin reductase, glutathione peroxidase,&nbsp;and deiodinase use selenocysteine to <strong>catalyze redox reactions</strong>. Defects in human selenoproteins are associated with tumorigenesis and atherosclerosis. It can cause&nbsp;<strong>cardiomyopathy </strong>due to<strong> selenium deficiency,&nbsp;</strong>which is&nbsp;known as<strong> Keshan disease</strong>.</p>\n<p><strong>Glutathione synthase</strong> is the second enzyme in the <strong>synthesis</strong> of glutathione. Glutathione plays an important role in&nbsp;oxidative stress,&nbsp;redox signalling, and regulates cell proliferation and apoptosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presented with reduced levels of high-density lipoprotein, and ABCA1 mutation. On examination, tonsils appeared as shown in the image. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Tangier's disease"
      },
      {
        "id": 2,
        "text": "Abetalipoprotenemia"
      },
      {
        "id": 3,
        "text": "Hyperlipoproteinemia"
      },
      {
        "id": 4,
        "text": "Wolman's disease"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The diagnosis in this case with&nbsp;reduced levels of high-density lipoprotein (HDL),&nbsp;ABCA1 mutation, and&nbsp;<strong>orange tonsils </strong>on examination is&nbsp;<strong>Tangier's disease.</strong>&nbsp;It is caused by a defect in ABCA1 receptors.</p>\n<p>ABCA1 plays a role in the <strong>efflux of cholesterol</strong> from <strong>peripheral cells</strong> of<strong> HDL</strong>. LCAT (lecithin cholesterol acyltransferase) converts cholesterol to cholesterol esters, which accumulate in the core of HDL. Thus, defective ABCA1 will lead to low levels of HDL in the blood.&nbsp;</p>\n<p>Other options:</p>\n<p>Option B: <strong>Abetalipoproteinemia</strong> is a hypolipoproteinemia caused by a defect in the MTP gene. Here, loading apolipoprotein B with lipids is defective. Hence, few very low density-lipoproteins (VLDLs) or chylomicrons are formed, leading to the accumulation of&nbsp;<strong>triacylglycerols</strong>&nbsp;in the liver and intestine.</p>\n<p>Option C:&nbsp;<strong>Hyperlipoproteinemia</strong> is a disorder that causes the body to metabolize lipids incorrectly. This results in hyperlipidemia and can lead to the development of multiple small xanthomas in the skin.</p>\n<p>Option D:<strong>&nbsp;Acid lipase&nbsp;</strong>deficiency can lead to&nbsp;<strong>Wolman's disease</strong>&nbsp;which is a lysosomal storage disease. The pathognomic feature of this condition is&nbsp;<strong>adrenal calcification</strong>. So patients generally present with adrenal insufficiency and are neonates.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5e11351831634fb996e3e160d75a2a06.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A baby is being evaluated for delayed developmental milestones. On examination, the child has hepatosplenomegaly. A microscopic image of the bone marrow evaluation is shown below. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Gaucher disease"
      },
      {
        "id": 2,
        "text": "Niemann-Pick disease"
      },
      {
        "id": 3,
        "text": "Hunter disease"
      },
      {
        "id": 4,
        "text": "Hurler disease"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The microscopic image of the bone marrow biopsy shows <strong>Gaucher cells</strong> and the diagnosis is <strong>Gaucher disease</strong>.</p>\n<p>Gaucher disease is a&nbsp;<strong>lysosomal storage disease</strong>&nbsp;with&nbsp;<strong>autosomal recessive</strong>&nbsp;inheritance.&nbsp;The condition results due to the deficiency of <strong>acid &beta;-glucosidase</strong>. This results in the accumulation of glucosylceramide (a glycolipid substrate) in the reticuloendothelial cells. There is progressive infiltration of the<strong> liver, spleen</strong>, and bone marrow.&nbsp;</p>\n<p>There are three clinical types:</p>\n<ul>\n<li>Type 1:&nbsp;<strong>Adult</strong>&nbsp;(non-neuronopathic form)</li>\n<li>Type 2:&nbsp;<strong>Infantile</strong>&nbsp;(acute neuronopathic form)</li>\n<li>Type 3:&nbsp;<strong>Juvenile</strong>&nbsp;(subacute neuronopathic form)</li>\n</ul>\n<p>Type 1 is the most common. It presents with a myriad of symptoms, such as bruising secondary to&nbsp;<strong>thrombocytopenia</strong>, fatigue due to&nbsp;<strong>anemia</strong>, <strong>hepatosplenomegaly,</strong> and&nbsp;<strong>bone pain</strong>. Lytic lesions and osteosclerosis of the femur, ribs, and pelvis may also be seen. A few patients may have pulmonary involvement. Growth retardation may be observed in cases presenting in the first decade.&nbsp;</p>\n<p>Type 2 is rare, and presents with&nbsp;<strong>hypertonia,</strong>&nbsp;strabismus, and organomegaly. <strong>Neurodegeneration</strong> is the characteristic feature.&nbsp;<strong>Stridor</strong>&nbsp;and failure to thrive can also be the presenting features. Ultimately, death can occur due to respiratory arrest.&nbsp;</p>\n<p>Type 3 presents with intermediate symptoms, as seen in the other two types. By the age of 10-15 years, the child succumbs to death.</p>\n<p><strong>Gaucher&nbsp;cells&nbsp;</strong>&nbsp;are <strong>reticuloendothelial cells</strong> with glucosylceramide, and have a&nbsp;<strong>wrinkled-paper appearance</strong>&nbsp;due to <strong>intracytoplasmic</strong> substrate inclusions. These cells stain strongly with&nbsp;<strong>periodic acid-Schiff</strong>&nbsp;(PAS) stain. This is characteristic of Gaucher's disease.</p>\n<p>Other options:</p>\n<p>Option B -&nbsp;<strong>Acid sphingomyelinase</strong>&nbsp;deficiency results in&nbsp;<strong>Niemann-Pick disease types A</strong>&nbsp;and&nbsp;<strong>B</strong>. Both are&nbsp;<strong>autosomal recessive</strong>&nbsp;conditions. Type A has a neurodegenerative course, while type B is non-neuronopathic. The former presents with hepatosplenomegaly, lymphadenopathy, and psychomotor retardation. Type B is associated with hepatosplenomegaly and mild pulmonary involvement.&nbsp;</p>\n<p>Option-C - <strong>Hunter disease</strong> is an X-linked inherited disorder due to a deficiency of the enzyme<strong> iduronate sulfatase</strong>. It leads to the accumulation of dermatan and heparan sulfate. Clinical features involve coarse facies, cardiovascular involvement, and distinctive skin lesions.</p>\n<p>Option-D - <strong>Hurler/Scheie disease</strong> is a mucopolysaccharidosis that has childhood and adult onset. It presents with <strong>cognitive degeneration</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/deb7bda443454a1f8c6873f61053fb78.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Refsum disease is due to:",
    "choices": [
      {
        "id": 1,
        "text": "Absence of alpha oxidation in peroxisomes"
      },
      {
        "id": 2,
        "text": "Absence of beta oxidation in peroxisomes"
      },
      {
        "id": 3,
        "text": "Absence of alpha oxidation in lysosomes"
      },
      {
        "id": 4,
        "text": "Absence of beta oxidation in lysosomes"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Refsum disease is due to the <strong>absence</strong> of <strong>alpha oxidation</strong> in <strong>peroxisomes</strong>.</p>\n<p>Refsum's disease is a rare <strong>autosomal recessive</strong> disorder. The defective enzyme is&nbsp;<strong>phytanoyl CoA hydroxylase, </strong>which causes&nbsp;alpha oxidation&nbsp;of fatty acids and leads to&nbsp;<strong>elevated levels</strong>&nbsp;of<strong>&nbsp;phytanic acid</strong>&nbsp;in the blood.</p>\n<p>Clinical features are dysmorphic facies and&nbsp;<strong>severe neurological symptoms&nbsp;</strong>such as&nbsp;polyneuropathy, <strong>retinitis pigmentosa</strong>, nerve deafness, <strong>ichthyosis</strong>, and cerebellar ataxia.</p>\n<p><strong>Restricted dietary intake</strong>&nbsp;of phytanic acid reduces the symptoms. Management includes avoiding sources of phytanic acid such as dairy products, meat, nuts, and green leafy vegetables.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Choose the right sequence of steps in the conversion of cholesterol to testosterone.",
    "choices": [
      {
        "id": 1,
        "text": "b, d, a, c"
      },
      {
        "id": 2,
        "text": "a, c, d, b"
      },
      {
        "id": 3,
        "text": "b, a, c, d"
      },
      {
        "id": 4,
        "text": "d, a, b. c"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correct sequence of steps in the conversion of cholesterol to testosterone is:</p>\n<p>b.&nbsp;<span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Choose the right sequence of steps in the conversion of cholesterol to testosterone\\na. 17 alpha hydroxylase\\nb. 20, 22 desmolase\\nc. 17, 20 desmolase\\nd. 3 beta hydroxy steroid dehydrogenase\\n&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">20, 22 desmolase<br /></span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Choose the right sequence of steps in the conversion of cholesterol to testosterone\\na. 17 alpha hydroxylase\\nb. 20, 22 desmolase\\nc. 17, 20 desmolase\\nd. 3 beta hydroxy steroid dehydrogenase\\n&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">d.&nbsp;</span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Choose the right sequence of steps in the conversion of cholesterol to testosterone\\na. 17 alpha hydroxylase\\nb. 20, 22 desmolase\\nc. 17, 20 desmolase\\nd. 3 beta hydroxy steroid dehydrogenase\\n&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">3 b</span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Choose the right sequence of steps in the conversion of cholesterol to testosterone\\na. 17 alpha hydroxylase\\nb. 20, 22 desmolase\\nc. 17, 20 desmolase\\nd. 3 beta hydroxy steroid dehydrogenase\\n&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">eta-hydroxy steroid dehydrogenase<br /></span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Choose the right sequence of steps in the conversion of cholesterol to testosterone\\na. 17 alpha hydroxylase\\nb. 20, 22 desmolase\\nc. 17, 20 desmolase\\nd. 3 beta hydroxy steroid dehydrogenase\\n&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">a. 17 alpha-hydroxylase<br /></span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Choose the right sequence of steps in the conversion of cholesterol to testosterone\\na. 17 alpha hydroxylase\\nb. 20, 22 desmolase\\nc. 17, 20 desmolase\\nd. 3 beta hydroxy steroid dehydrogenase\\n&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">c.&nbsp;</span><span data-sheets-value=\"{&quot;1&quot;:2,&quot;2&quot;:&quot;Choose the right sequence of steps in the conversion of cholesterol to testosterone\\na. 17 alpha hydroxylase\\nb. 20, 22 desmolase\\nc. 17, 20 desmolase\\nd. 3 beta hydroxy steroid dehydrogenase\\n&quot;}\" data-sheets-userformat=\"{&quot;2&quot;:963,&quot;3&quot;:{&quot;1&quot;:0},&quot;4&quot;:{&quot;1&quot;:2,&quot;2&quot;:16776960},&quot;9&quot;:0,&quot;10&quot;:1,&quot;11&quot;:4,&quot;12&quot;:0}\">17, 20 lyase</span></p>\n<p>The step of synthesis of sex steroids is illustrated in the diagram below.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/06b835f663d042b582fe7e0d8e062422x1280x2002.JPEG"
    ]
  },
  {
    "text": "Which of the following describes the relationship between the melting temperature (Tm) of DNA and the concentration of G-C and A-T?",
    "choices": [
      {
        "id": 1,
        "text": "No relation of GC with Tm"
      },
      {
        "id": 2,
        "text": "Tm increases with more A-T"
      },
      {
        "id": 3,
        "text": "Tm decreases with more G-C"
      },
      {
        "id": 4,
        "text": "Tm increases with more G-C"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The correct statement about the <strong>melting temperature of DNA&nbsp;(Tm)</strong> is that it i<strong>ncreases with more G-C concentration.</strong></p>\n<p>On heating the DNA, the temperature at which one-half of the helical structure loses its structure defines the melting temperature Tm.&nbsp;The two strands of the double helix structure of the DNA get separated when the <strong>hydrogen bonds</strong> between the base pairs are disrupted. Thus, the Tm is influenced by the concentrationbase composition of the DNA.</p>\n<p>Since <strong>G-C</strong> pairing has <strong>3 hydrogen bonds</strong> and <strong>A-T</strong> pairing has <strong>2 hydrogen bonds</strong>,<strong>&nbsp;</strong>DNA rich in G-C base pairs requires higher temperatures to denature in comparison to DNA rich in A-T base pairs.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An elderly patient on a vegetarian diet presenting with easy fatigability and pallor was investigated. Peripheral smear showed findings of macrocytic anemia. What is the probable cause of anemia in this patient? Other lab findings are as follows:",
    "choices": [
      {
        "id": 1,
        "text": "Folate deficiency"
      },
      {
        "id": 2,
        "text": "Alcohol-induced macrocytosis"
      },
      {
        "id": 3,
        "text": "Vitamin B12 deficiency"
      },
      {
        "id": 4,
        "text": "Thiamine deficiency"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The probable cause of anemia in this patient of <strong>folate</strong> <strong>deficiency</strong>.</p>\n<p>The given clinical scenario of <strong>macrocytic anemia</strong> in a <strong>vegetarian</strong> with <strong>elevated homocysteine</strong> levels is due to <strong>megaloblastic anemia</strong>, which can be caused by the deficiency of vitamin B<sub>12</sub> or folic acid. Vitamin B<sub>12</sub> deficiency is associated with raised serum methylmalonic acid (MMA) levels, which are normal in this patient; hence, folic acid deficiency is the cause of megaloblastic anemia in this patient.</p>\n<p>Folic acid deficiency is associated with the following clinical and laboratory findings:</p>\n<ul>\n<li><strong>Raised MCV</strong> (normal range: 80&ndash;100 fL)&nbsp;- <strong>macrocytosis</strong></li>\n<li>Normal MCHC (normal range: 33&ndash;36 g/dL)&nbsp;</li>\n<li>Increased MCH</li>\n<li>Elevated RDW</li>\n<li>Decreased reticulocyte count -&nbsp;due to destruction of abnormal erythroid precursors</li>\n<li><strong>Elevated homocysteine level</strong></li>\n<li><strong>Normal MMA level</strong></li>\n</ul>\n<p>where MCV<strong>,&nbsp;</strong>mean corpuscular volume;&nbsp;MCHC, mean corpuscular hemoglobin concentration; mean corpuscular hemoglobin, MCH; RDW, red cell distribution width</p>\n<p>In vitamin <strong>B12</strong> deficiency, neurological abnormalities,&nbsp;<strong>elevated homocysteine,</strong> and <strong>elevated MMA</strong> levels are seen.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Zellweger syndrome is due to a defect in the biogenesis of:",
    "choices": [
      {
        "id": 1,
        "text": "Peroxisomes"
      },
      {
        "id": 2,
        "text": "Lysosomes"
      },
      {
        "id": 3,
        "text": "Mitochondria"
      },
      {
        "id": 4,
        "text": "Nucleus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Zellweger syndrome is due to a defect in the biogenesis of <strong>peroxisomes</strong>.</p>\n<p>Zellweger syndrome is&nbsp;also known&nbsp;as&nbsp;<strong>cerebrohepatorenal syndrome.&nbsp;</strong>It is caused by <strong>mutations</strong> in the&nbsp;<strong>PEX</strong>&nbsp;family of genes. This results in <strong>defective beta-oxidation </strong>of&nbsp;<strong>very long-chain fatty acids.</strong></p>\n<p>The child presents with</p>\n<ul>\n<li>Dysmorphic facial features.&nbsp;</li>\n<li>Weakness, hypotonia.</li>\n<li>Neonatal seizures</li>\n<li>Eye abnormalities.</li>\n</ul>\n<p>Biochemical findings will show<strong>&nbsp;</strong>:</p>\n<ul>\n<li>Accumulation of&nbsp;<strong>very-long-chain fatty acids, phytanic acid</strong></li>\n<li>Abnormalities in the synthesis of bile acids</li>\n<li>Marked <strong>reduction </strong>of <strong>plasmalogens</strong></li>\n</ul>\n<p>There is <strong>no appropriate treatment</strong> for Zellweger syndrome. It is very severe and infants rarely survive beyond a few months.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "True statement about the action of enhancers of gene expression?",
    "choices": [
      {
        "id": 1,
        "text": "Work only when in close conjugation with promoter region"
      },
      {
        "id": 2,
        "text": "Work only when in upstream of promoter region"
      },
      {
        "id": 3,
        "text": "They are very specific to the gene"
      },
      {
        "id": 4,
        "text": "Recruit chromatin and modify regulatory mechanisms"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The correct statement about the action of <strong>enhancers</strong> is that they <strong>recruit chromatin and modify regulatory mechanisms.</strong></p>\n<p>A <strong>promoter</strong><span style=\"font-size: 14px;\">\u00a0is a sequence on DNA where <strong>RNA polymerase binds</strong> and acts as the start signal for transcription. They are present upstream or downstream but close to the gene that is undergoing transcription.\u00a0</span></p>\n<p><span style=\"font-size: 14px;\"><strong>Enhancers </strong>or <strong>repressors</strong> are proteins that regulate the expression of a gene by\u00a0<strong>recruiting\u00a0chromatin</strong>(DNA bound with histones) and\u00a0<strong>modifying\u00a0regulatory mechanisms</strong>\u00a0and\u00a0making it more or less <strong>accessible to transcription</strong> by RNA polymerase. They may be <strong>located upstream </strong>or</span><strong>\u00a0downstream</strong>\u00a0and can be present at <strong>any distance</strong> from the promoter region. These are <strong>not specific to any single gene</strong> and interact with many other proteins.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Increased H+ ions in the intermembrane space of mitochondria are due to?",
    "choices": [
      {
        "id": 1,
        "text": "Decreased oxidative phosphorylation"
      },
      {
        "id": 2,
        "text": "Increased ATP production"
      },
      {
        "id": 3,
        "text": "Reduced chemiosmosis"
      },
      {
        "id": 4,
        "text": "Water retention in inner mitochondrial space"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Increased H+ ions in the intermembrane space of mitochondria are due to <strong>decreased oxidative phosphorylation.</strong></p>\n<p>ATP is synthesized in mitochondria by a process called oxidative phosphorylation. The oxidation of substrates like carbohydrates, amino acids, or fats produces reducing equivalents (NADH, FADH2). These equivalents enter the electron transport chain and transfer a proton (H+) to the inter-membrane space. The inner mitochondrial membrane is not permeable to protons leading to the accumulation of H+ in the intermembrane space. The flow<span style=\"font-size: 14px;\">&nbsp;of these protons through the Fo releases the energy that phosphorylates ADP to form ATP.</span></p>\n<p>Drugs that inhibit oxidative phosphorylation like <strong>oligomycin</strong> <strong>inhibit </strong>the<strong> flow of protons through Fo</strong> causing an<strong> increase </strong>in <strong>H+ ions </strong>in the<strong> intermembrane space.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Fructosamine is obtained by glycation of:",
    "choices": [
      {
        "id": 1,
        "text": "Frustose"
      },
      {
        "id": 2,
        "text": "Albumin"
      },
      {
        "id": 3,
        "text": "Urea"
      },
      {
        "id": 4,
        "text": "Glycosaminoglycans"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Fructosamine is obtained by the glycation of <strong>albumin</strong>.</p>\n<p>Fructosamine is a measure of <strong>non-enzymatic</strong> glycation of circulating proteins including <strong>albumin</strong>, globulins, and lipoproteins. It is now used as a&nbsp; reasonable <strong>alternative</strong> to <strong>HbA1c measurement</strong> when it is not reliable. Since albumin is the <strong>most abundant</strong> of the serum proteins, fructosamine is predominantly a measure of glycated albumin.</p>\n<p>Fructosamine is used as a <strong>short-term</strong> marker of glucose control. It&nbsp;reflects the average glycemia over the preceding<strong>&nbsp;2 to 3 weeks</strong>. HbA1c reflects glucose control over a period of the preceding 8 to 12 weeks.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '040 Biochemistry Ini-Cet 2022';
        let hierarchy = ["Marrow", "PYQs", "Biochemistry"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>