<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M12 - Revision Mini Test - 1 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2017-18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A concerned wife brought her 43-year-old husband to the clinic after an episode of light-headedness and palpitations. An ECG was taken. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Mobitz type II block"
      },
      {
        "id": 2,
        "text": "Mobitz type I block"
      },
      {
        "id": 3,
        "text": "Complete Heart block"
      },
      {
        "id": 4,
        "text": "1st Degree AV block"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This patient has symptoms and ECG findings suggestive of <strong>Mobitz type I or&nbsp;Wenckebach block.</strong></p>\n<p>In the given ECG <strong>PR segment progressively increases</strong> in each successive cycle, until a P wave of the series fails to produce a QRS complex (<strong>dropped QRS</strong>). In this example, for every 5 'P' waves, there are only 4 'QRS' complexes; hence, this is a 5:4 Wenckebach block.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/984406bb7c55446aa29563339e422f4b.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Bagassosis can be caused due to exposure to all the following except",
    "choices": [
      {
        "id": 1,
        "text": "Thermoactinomyces sacchari"
      },
      {
        "id": 2,
        "text": "Thermoactinomyces vulgaris"
      },
      {
        "id": 3,
        "text": "Micropolyspora faeni"
      },
      {
        "id": 4,
        "text": "Aspergillus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Bagassosis is a type of hypersensitivity pneumonitis caused in\u00a0response to exposure of the following antigens present in sugarcane molasses:<br />\u2022<strong> Thermoactinomyces saccheri \u2013 main antigen</strong><br />\u2022 Thermoactinomyces vulgaris<br />\u2022 Micropolyspora faeni</p>\n<p>While Aspergillus is not associated\u00a0with Bagassosis, aspergillus species are associated with Tobacco grower's lung.</p>\n<p><strong>Farmer's lung</strong> is caused by<strong> Thermoactinomyces sp</strong>.(<strong>Micropolyspora faeni</strong> also known as Saccharopolyspora rectivirgula) antigen exposure.<br /><strong>Chemical worker's lung</strong> is caused by <strong>isocyanate exposure</strong></p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Barium swallow of a patient presenting with dysphagia is given below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Diffuse esophageal spasm"
      },
      {
        "id": 2,
        "text": "Feline oesophagus"
      },
      {
        "id": 3,
        "text": "Esophageal diverticula"
      },
      {
        "id": 4,
        "text": "Achalasia cardia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the given clinical scenario, a patient presenting with dysphagia and a <strong>corkscrew appearance</strong> of the esophagus on barium swallow is suggestive of <strong>diffuse esophageal spasm.</strong></p>\n<p>Diffuse esophageal spasm (DES) is a <strong>hypermotility</strong> disorder caused by spontaneous, abnormal contractions seen primarily affecting the <strong>distal two-thirds </strong>of the esophageal body, with normal deglutitive lower esophageal relaxation (LES) relaxation. These contractions are repetitive, simultaneous, and of high amplitude, but normal peristalsis is preserved between the episodes. This condition is seen most often in females.</p>\n<p>Patients typically present with <strong>dysphagia</strong> for both solids and liquids, retrosternal non-cardiac chest pain, and symptoms such as heartburn, regurgitation and the sensation of food being stuck in the throat.</p>\n<p>Although DES may present as a <strong>corkscrew</strong> or <strong>rosary bead</strong> esophagus on barium swallow, this finding is uncommon. <strong>Manometry</strong> remains the gold-standard for diagnosis.<br />\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ccdf6c6490bd4c32b7f1285b29e8532a.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A critically ill patient who is a registered organ donor collapses even after resuscitative measures. All of the following tests can be used to check the cessation of circulation, except:",
    "choices": [
      {
        "id": 1,
        "text": "Diaphanous test"
      },
      {
        "id": 2,
        "text": "Winslow\u2019s test"
      },
      {
        "id": 3,
        "text": "Magnus\u2019s test"
      },
      {
        "id": 4,
        "text": "Icard\u2019s test"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Winslow&rsquo;s test</strong> is used to check the <strong>cessation</strong> of <strong>respiration</strong>. In this test a bowl of water is kept on the chest and movement on the surface of the water is noted.</p>\n<p>Tests for confirming <strong>cessation of circulation:</strong></p>\n<ul>\n<li>No audible heart sounds on continuous auscultation on the precordial area of the chest for a minimum of 5 minutes and&nbsp;a flat ECG recording for 5 minutes</li>\n<li><strong>Magnus&rsquo;s test</strong> (Ligature test) - Fingers fail to show congestion distal to a ligature applied at their base</li>\n<li><strong>Diaphanous test</strong> (Transillumination test) -<strong>&nbsp;</strong>Failure to show redness in the webspace between the fingers on transillumination from behind</li>\n<li><strong>Icard&rsquo;s test</strong> - Fluorescent dye on being injected at a given site in a dead body fails to produce any discoloration</li>\n<li>Fingernail test - No blanching and filling of blood in the fingernail on the application of pressure and release</li>\n</ul>\n<p>Tests for confirming<strong> cessation of breathing:</strong></p>\n<ul>\n<li>No audible breath sounds on continuous auscultation of the upper part of the chest and in front of or on the larynx for a&nbsp;minimum of 5 minutes</li>\n<li>Feather test &ndash; No movement of a feather held in front of the nose</li>\n<li>Mirror test &ndash; Mirror held in front of the nose does not turn dim due to any moisture of breath</li>\n<li><strong>Winslow&rsquo;s test</strong> &ndash; No movement of the surface of the water in a bowl kept on the chest</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Depth of inspiration is increased by_____",
    "choices": [
      {
        "id": 1,
        "text": "Pneumotaxic centre"
      },
      {
        "id": 2,
        "text": "Ventral group of neurons in medulla"
      },
      {
        "id": 3,
        "text": "Dorsal group of respiratory neurons"
      },
      {
        "id": 4,
        "text": "Apneustic centre"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Depth of inspiration is increased by the&nbsp;<strong>apneustic center</strong>.</p>\n<p>The apneustic centre sends signals to<strong> prevent switching off</strong> of inspiration maintained by the dorsal respiratory group of neurons, thereby increasing depth of inspiration.&nbsp;</p>\n<p>In contrast to this, the <strong>pneumotaxic center</strong> primarily <strong>limits inspiration</strong> by controlling the \"switch off\" point of the inspiratory ramp signal.&nbsp;</p>\n<p>A note on inspiratory ramp signal:</p>\n<p>The neural signals transmitted to the inspiratory muscle, mainly the diaphragm, is not the instantaneous burst of action potentials. Instead, it <strong>begins weakly</strong> and <strong>increases steadily </strong>in a ramped manner. The advantage of the ramp is that it causes a steady increase in the volume of the lungs during inspiration, rather than inspiratory gasps.</p>\n<p>Control of the <strong>limiting point at which the ramp suddenly ceases</strong>&nbsp;is the mechanism by which the respiratory centers control <strong>depth and rate of respiration</strong>.&nbsp;</p>\n<p>Option A: Pneumotaxic center of the pons regulates the <strong>rate and depth</strong> of breathing.<br />Option B: Ventral group of neurons regulate <strong>expiration</strong>.<br />Option C: Dorsal group of neurons regulate <strong>inspiration</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/11769e1b4d794ede9ca62f5305930574x1280x1649.JPEG"
    ]
  },
  {
    "text": "Which of the following is a cytochrome enzyme inhibitor?",
    "choices": [
      {
        "id": 1,
        "text": "Paliperidone"
      },
      {
        "id": 2,
        "text": "Chlorpromazine"
      },
      {
        "id": 3,
        "text": "Clozapine"
      },
      {
        "id": 4,
        "text": "Risperidone"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Chlorpromazine is a<strong> moderate inhibitor of the enzyme CYP2D6.</strong></li>\n<li><strong>Options A, C and D:</strong> Most of the antipsychotics do not inhibit cytochrome enzymes, although most of them are substrates.</li>\n</ul>\n<p><strong>Antipsychotics having a&nbsp;significant enzyme (CYP2D6) inhibition property</strong></p>\n<ul>\n<li>Chlorpromazine</li>\n<li>Perphenazine</li>\n<li>Thioridazine</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are a field doctor at the site of an earthquake. You assist in rapidly classifying the injured on the basis of the likelihood of their survival and need for intervention. What is this process called?",
    "choices": [
      {
        "id": 1,
        "text": "Field care"
      },
      {
        "id": 2,
        "text": "Tagging"
      },
      {
        "id": 3,
        "text": "Rehabilitation"
      },
      {
        "id": 4,
        "text": "Triage"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The process of rapidly classifying the injured in a disaster on the basis of <strong>severity of injury</strong> and<strong> likelihood of survival</strong> with prompt medical intervention is called <strong>triage.</strong> It is carried out at the<strong> site of disaster</strong>.</p>\n<p><strong>Tagging </strong>is the identification of patients in a disaster with tags stating their name, age, place of origin, triage category, diagnosis, and initial treatment.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A girl was brought to the clinic by her parents for treatment of alopecia. They gave a history of erythematous vesicular rashes that evolved into verrucous growths a few months after birth. The lesions gradually resolved and left linear pigmentation as shown below. On examination, dental dystrophy was also noted. What is the inheritance pattern of this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal dominant"
      },
      {
        "id": 2,
        "text": "Autosomal recessive"
      },
      {
        "id": 3,
        "text": "X-linked recessive"
      },
      {
        "id": 4,
        "text": "X-linked dominant"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical scenario is suggestive of <strong>incontinentia pigmenti.&nbsp;</strong>It&nbsp;is a rare <strong>X-linked dominant</strong> disorder with <strong>multisystemic ectodermal dysplasia</strong> that is usually lethal in males and presents in females with skin lesions, teeth abnormalities, alopecia, nail dystrophy, and ocular and neurological findings.</p>\n<p>The <strong>skin lesions</strong> evolve through the following characteristic stages:</p>\n<ol>\n<li>Vesicular</li>\n<li>Verrucous stage</li>\n<li>Hyperpigmented streaks and whorls</li>\n<li>Linear hypopigmentation&nbsp;</li>\n</ol>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b2e7aca47aff45939d0181318904e4b0.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c1c2c421ece140608ba726b61672a833x1280x2090.JPEG"
    ]
  },
  {
    "text": "Bracket calcification on skull X-Ray is seen in which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Tuberous sclerosis"
      },
      {
        "id": 2,
        "text": "Sturge Weber syndrome"
      },
      {
        "id": 3,
        "text": "Lipoma of corpus callosum"
      },
      {
        "id": 4,
        "text": "Meningioma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Lipoma of the corpus callosum</strong> shows\u00a0bracket calcification<strong>\u00a0</strong>on skull X-ray.</p>\n<p><strong>Intracranial lipomas</strong> are most commonly located in the<strong> midline</strong> and are commonly associated with congenital malformations such as agenesis/dysgenesis of the corpus callosum. Pericallosal lipomas are classified into anteriorly located bulky <strong>tubulo-nodular</strong> type and posteriorly located ribbon-like <strong>curvilinear</strong> type. Imaging is the mainstay in the diagnosis of intracranial lipoma.\u00a0</p>\n<p>The image below shows bracket calcification:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4506c279ae024b31a0421a3ca26ff661x510x699.GIF"
    ]
  },
  {
    "text": "A 25-year-old athlete with left apical primary spontaneous pneumothorax was posted for thoracoscopic bullectomy under anesthesia with spontaneous ventilation. Which of the following breathing circuits would be the most effective for this purpose?",
    "choices": [
      {
        "id": 1,
        "text": "Mapleson A"
      },
      {
        "id": 2,
        "text": "Mapleson B"
      },
      {
        "id": 3,
        "text": "Mapleson C"
      },
      {
        "id": 4,
        "text": "Mapleson D"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Mapleson's A </strong>or<strong> Magill circuit&nbsp;</strong>is the&nbsp;circuit of choice for <strong>spontaneous ventilation</strong>.</p>\n<p>Modified co-axial variety of Type A - <strong>Lack's circuit.</strong></p>\n<p><strong>SMAL - For Spontaneous, Magill's circuit, Mapleson's Type A, Lack's co-axial circuit</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not included in the major diagnostic triad of fat embolism syndrome (FES)?",
    "choices": [
      {
        "id": 1,
        "text": "Neurological impairment"
      },
      {
        "id": 2,
        "text": "PaO2 < 60 mmHg"
      },
      {
        "id": 3,
        "text": "Fat globules in urine"
      },
      {
        "id": 4,
        "text": "Petechiae"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Fat globules in urine is a minor criterion</strong> in diagnosing fat embolism syndrome.</p>\n<p>Fat embolism syndrome is caused by the release of fat globules from the bone marrow into the bloodstream. It <strong>usually occurs following long bone or pelvic fractures</strong>, and multiple fractures.</p>\n<p>Along with platelet aggregates, the globules result in the following manifestations which make up the <strong>major diagnostic triad</strong>:</p>\n<ul>\n<li><strong>Respiratory insufficiency</strong></li>\n<li><strong>Neurological impairment</strong></li>\n<li><strong>Petechial rash</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient on regular follow-up for a dermatological condition presents with the following finding. Which of the following conditions is this most likely to be associated with?",
    "choices": [
      {
        "id": 1,
        "text": "Lichen planus"
      },
      {
        "id": 2,
        "text": "Psoriasis"
      },
      {
        "id": 3,
        "text": "Pityriasis rubra pilaris"
      },
      {
        "id": 4,
        "text": "Pityriasis rosea"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Woronoff's ring</strong>&nbsp;is a skin condition characterized by a<strong> blanched halo</strong> of approximately <strong>uniform width</strong> surrounding<strong>&nbsp;psoriatic lesions</strong>&nbsp;after&nbsp;<strong>phototherapy</strong>&nbsp;or&nbsp;<strong>topical treatments.</strong></p>\n<p>A major cause of the Woronoff ring is suspected to be due to alterations in prostaglandin metabolism.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a61148cf01524aea87edf06968f27f1b.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Understanding that objects continue to exist even when not seen is called_____",
    "choices": [
      {
        "id": 1,
        "text": "Symbolic transformation"
      },
      {
        "id": 2,
        "text": "Transitional object"
      },
      {
        "id": 3,
        "text": "Object permanence"
      },
      {
        "id": 4,
        "text": "Separation anxiety"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li><strong>Object permanence</strong> is a major developmental milestone, <strong>attained at the age of 8-9 months.</strong> It is the understanding that objects continue to exist even when not seen.</li>\n<li>Object permanence is <strong>firmly established by 18 months of age</strong>; toddlers anticipate where an object will end up, even though the object was not visible while it was being moved.</li>\n</ul>\n<p><strong>&nbsp;Other options</strong></p>\n<ul>\n<li><strong>Separation anxiety</strong> &ndash; it begins at about 10 mo of age and tapers off by 18 mo.</li>\n<li><strong>Transitional object</strong> &ndash; it may be a blanket or a stuffed toy which functions as a symbol of the absent parent.</li>\n<li>Egocentric symbolic play seen at 12 months - Make-believe (symbolic) play centers on the child&rsquo;s own body (pretending to drink from an empty cup) ; <strong>Symbolic transformations</strong> in play are no longer tied to the toddler&rsquo;s own body by 18 months, so that a doll can be &ldquo;fed&rdquo; from an empty plate.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 25-year-old model who is on top of her game comes to get liposuction done. She says she is obese and would like to get rid of the \"flabby tissue\". On inquiry, it is revealed that she eats high-calorie food multiple times a month and regrets it afterward. She also sometimes skips meals. On examination, BMI is 23, and the finding shown below is noted. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Anorexia nervosa"
      },
      {
        "id": 2,
        "text": "Bulimia nervosa"
      },
      {
        "id": 3,
        "text": "Binge-eating disorder"
      },
      {
        "id": 4,
        "text": "Purging disorder"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows <strong>calluses and pigmentation on knuckles,</strong> known as <strong>Russell's sign</strong>. The given clinical history of <strong>binge-eating,</strong>\u00a0<strong>body-image issues,</strong>\u00a0<strong>Russell's sign\u00a0</strong>along<strong>\u00a0</strong>with a\u00a0<strong>normal BMI</strong>\u00a0is suggestive of <strong>bulimia nervosa.</strong></p>\n<p>The calluses on hands form due to the repeated scraping of knuckles on the teeth, during <strong>self-induced vomiting.</strong></p>\n<p>Bulimia can be differentiated from anorexia nervosa by the following features:</p>\n<ul>\n<li>The <strong>body weight is within the normal</strong> range.</li>\n<li>Bulimia is seen in\u00a0<strong>older age groups </strong>(late adolescents or adults).</li>\n<li>Any peculiar eating habit (like dividing food into small portions) is not seen.</li>\n<li>Amenorrhoea is not common.</li>\n<li>Psychiatric symptoms such as <strong>depression</strong> are <strong>more</strong>\u00a0<strong>common</strong>.</li>\n</ul>\n<p>Treatment of bulimia nervosa:</p>\n<ul>\n<li>Without comorbid mood disorders- fluoxetine, topiramate, CBT</li>\n<li>With comorbid mood disorders- carbamazepine</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9b1eea09aaa04211ada916c1b907d379.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following is false about the acute inflammatory process?",
    "choices": [
      {
        "id": 1,
        "text": "It is a mechanism of innate immunity"
      },
      {
        "id": 2,
        "text": "Monocytes and macrophages are mainly involved"
      },
      {
        "id": 3,
        "text": "Tissue injury is usually mild and self-limited"
      },
      {
        "id": 4,
        "text": "Local and systemic signs are prominent"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The prominent cells in <strong>acute inflammation</strong> are <strong>neutrophils.</strong></p>\n<p>The initial, rapid response to infections agents and tissue damage is called acute inflammation. It is a mechanism of <strong>innate immunity</strong>&nbsp;that occurs in response to&nbsp;<strong>mild</strong> and <strong>self-limited tissue injury.</strong><strong>&nbsp;</strong>It is associated with <strong>prominent</strong> <strong>local</strong> and <strong>systemic signs</strong>.</p>\n<p>The major components of acute inflammation are:</p>\n<ul>\n<li><strong>Vasodilation</strong>&nbsp;and increased<strong> permeability</strong>&nbsp;of small blood vessels&nbsp;</li>\n<li>Changes in the <strong>leukocytes</strong> -\n<ul>\n<li>Migration from the microcirculation</li>\n<li>Accumulation at the site of inflammation</li>\n<li>Activation to eliminate the offending agent</li>\n</ul>\n</li>\n</ul>\n<p><strong>Chronic</strong> inflammation is a mechanism of <strong>adaptive immunity&nbsp;</strong>and is&nbsp;of longer duration. It is associated with</p>\n<ul>\n<li>Presence of<strong> lymphocytes and macrophages</strong></li>\n<li>Proliferation of blood vessels</li>\n<li>Deposition of connective tissue</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young child was brought to the ER with a history of loose stools. On examination, she is tachycardic, appears lethargic and skin goes back slowly after the skin pinch test. She was admitted and started on IV fluids and input-output charting was done. The given image shows stool output from the patient. Which of the following is the mechanism of action of the toxin responsible for the same?",
    "choices": [
      {
        "id": 1,
        "text": "Inhibit elongation factor -2"
      },
      {
        "id": 2,
        "text": "Toxin causes Increased guanyl cyclase activity"
      },
      {
        "id": 3,
        "text": "The toxin causes continued activation of adenylate cyclase"
      },
      {
        "id": 4,
        "text": "Inhibit 60S  ribosomal subunit"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario of dehydration, profuse diarrhea, and rice water stools is suggestive of <strong>cholera.</strong> Cholera<strong> toxin</strong> causes continued <strong>activation of</strong> <strong>adenylate cyclase</strong>.&nbsp;</p>\n<div class=\"page\" title=\"Page 323\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 323\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>&nbsp;Mechanism of action of cholera toxin:</strong></p>\n<div class=\"page\" title=\"Page 323\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>The cholera toxin molecule&nbsp;consists of 1 A and 5 B subunits. The B (binding) units&nbsp;attach to the GM1 ganglioside receptors on the surface&nbsp;of jejunal epithelial cells. The A (active) subunit, on&nbsp;being transported into the enterocyte, dissociates into A1 and A2. A2 fragment only links biologically active A<span class=\"s5\">1&nbsp;</span>to the B subunit.</li>\n<li>A1&nbsp;causes prolonged&nbsp;<strong>activation of cellular adenylate cyclase</strong>&nbsp;and accumulation of&nbsp;<strong>cAMP</strong>, leading to&nbsp;<strong>outpouring</strong>&nbsp;into the small intestinal lumen, of large quantities of water and electrolytes and the consequent watery diarrhea, that is&nbsp;isotonic with plasma but contains much more of potassium and bicarbonate.</li>\n<li>The toxin also&nbsp;<strong>inhibits the intestinal absorption</strong>&nbsp;of sodium and chloride.</li>\n<li>All clinical manifestations and complications in cholera result from the massive water and electrolyte depletion thus caused.</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0640be8624ae48c595d0e6cb41031277.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/497dd499a8254fcb851a7da430376ff9x1280x1516.JPEG"
    ]
  },
  {
    "text": "Which of the following are false regarding first-degree burns?",
    "choices": [
      {
        "id": 1,
        "text": "Pain is the chief symptom"
      },
      {
        "id": 2,
        "text": "Has minimal blister formation"
      },
      {
        "id": 3,
        "text": "Protective functions of the skin are intact"
      },
      {
        "id": 4,
        "text": "No residual scar after injury heals"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>First-degree burns involve only the <strong>epidermis</strong>, are <strong>painful</strong>, but <strong>do not blister</strong>, protective functions of the skin are <strong>intact </strong>and <strong>heals without a scar</strong>.</p>\n<p>Second-degree burns have <strong>dermal</strong> involvement and are <strong>extremely painful</strong>&nbsp;and<strong>&nbsp;blister</strong>.</p>\n<p>Third-degree burns are <strong>leathery,</strong>&nbsp;<strong>painless</strong>, and <strong>non-blanching</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0bedfc41617a41c78872309bd58f17a3x1280x2560.JPEG"
    ]
  },
  {
    "text": "Endolymphatic duct connects",
    "choices": [
      {
        "id": 1,
        "text": "Scala vestibuli and scala media"
      },
      {
        "id": 2,
        "text": "Scala media and subdural space"
      },
      {
        "id": 3,
        "text": "Scala vestibuli with aqueduct of cochlea"
      },
      {
        "id": 4,
        "text": "Utriculosaccular duct to endolymphatic sac"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The endolymphatic duct is formed by the <strong>union of two ducts</strong>, one each from the <strong>saccule</strong> and the <strong>utricle.</strong></p>\n<p>It passes through the <strong>vestibular aqueduct</strong>.&nbsp;Its terminal part is dilated to form an endolymphatic sac, which lies between the two layers of dura on the posterior surface of the petrous bone.</p>\n<p>The scala vestibuli and scala tympani are filled with perilymph and communicate with each other at the apex of cochlea through an opening called helicotrema.</p>\n<p>Aqueduct of cochlea connects scala tympani with subarachnoid space.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An infant with poor feeding is suspected to have an inborn error of metabolism. Further evaluation reveals hyperammonemia +, acidosis +, ketosis +. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Tyrosinemia"
      },
      {
        "id": 2,
        "text": "Galactosemia"
      },
      {
        "id": 3,
        "text": "Phenylketonuria"
      },
      {
        "id": 4,
        "text": "Organic aciduria"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In this case, <strong>hyperammonemia +, acidosis +, ketosis +.\u00a0</strong>This is seen in <strong>organic aciduria</strong>.\u00a0</p>\n<p><strong>Organic acidemias</strong> most commonly present in infancy with poor feeding, vomiting, hypotonia, high anion gap metabolic acidosis, hepatomegaly, seizures. Organic acid accumulation <strong>inhibits gluconeogenesis</strong> and <strong>inhibits the urea cycle</strong> leading to hyperammonemia.</p>\n<p>Common organic acidurias:</p>\n<ul>\n<li>Methylmalonic aciduria</li>\n<li>Propionic aciduria</li>\n<li>Isovaleric aciduria</li>\n<li>Maple syrup urine disease</li>\n<li>Glutaric aciduria type I</li>\n<li>Multiple carboxylase deficiency</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5c94e0de48234302b7988871f127ec04x1280x2560.0.JPEG"
    ]
  },
  {
    "text": "The most common extracranial solid tumor in pediatric age group is_____",
    "choices": [
      {
        "id": 1,
        "text": "Juvenile pilocytic astrocytoma"
      },
      {
        "id": 2,
        "text": "Chloroma"
      },
      {
        "id": 3,
        "text": "Retinoblastoma"
      },
      {
        "id": 4,
        "text": "Neuroblastoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Neuroblastoma</strong> &ndash; is the most common intra-abdominal malignancy and also, the <strong>most common extracranial solid tumor</strong> in children.</li>\n<li>It is an embryonal cancer of the peripheral sympathetic nervous system.</li>\n<li>The median age for diagnosis is 22 months and 90% of cases are diagnosed by 5 years of age.</li>\n<li>Other options:\n<ul>\n<li>Optic nerve glioma, more properly referred to as <strong>juvenile pilocytic astrocytoma</strong>, is the <strong>most frequent tumor of the optic nerve</strong> in childhood.</li>\n<li><strong>Chloromas</strong>, which are collections of <strong>myeloid leukemia cells</strong>, seen in patients with AML, can occur throughout the neuroaxis.</li>\n<li><strong>Retinoblastoma</strong> is the <strong>most common primary malignant intraocular tumor </strong>of childhood.</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 23-year-old man was brought to you with a history of fever, behavioral changes, and seizures. He is foaming at the mouth and is unable to ingest liquids. The patient was admitted to the ICU, however he died soon after. What is the following finding seen in the patient's post-mortem brain samples known as?",
    "choices": [
      {
        "id": 1,
        "text": "Guarneri bodies"
      },
      {
        "id": 2,
        "text": "Negri bodies"
      },
      {
        "id": 3,
        "text": "Lewy bodies"
      },
      {
        "id": 4,
        "text": "Russell bodies"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Fever, neurological symptoms like<strong> </strong>seizures and\u00a0altered sensorium, hydrophobia (due to painful muscle contractions during swallowing liquids), and hypersalivation are suggestive of<strong> encephalitic rabies</strong>. The given image thus represents <strong>Negri bodies</strong> seen in post-mortem brain samples of patients with rabies.\u00a0</p>\n<p>Negri bodies are <strong>eosinophilic cytoplasmic inclusions</strong> in neurons that are composed of rabies virus proteins and viral RNA. These are commonly observed in<strong> </strong>the<strong> Purkinje cells</strong> of the cerebellum and the <strong>pyramidal neurons</strong> of the hippocampus. Their presence is a\u00a0<strong>characteristic</strong> pathologic finding in rabies.</p>\n<p>The image below shows Negri bodies:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ddcb62a6437c4545b5d9507596aef85c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b4a0eb774a3a4d9cac629cd5154a5f6fx1280x1066.JPEG"
    ]
  },
  {
    "text": "A 55-year-old man comes with complaints of fever and increasing fatigue for the past week. On examination, he is febrile, hypotensive and tachycardic. The findings of microscopic examination of his peripheral blood smear is given below. What is the causative agent?",
    "choices": [
      {
        "id": 1,
        "text": "Plasmodium vivax"
      },
      {
        "id": 2,
        "text": "Plasmodium falciparum"
      },
      {
        "id": 3,
        "text": "Plasmodium ovale"
      },
      {
        "id": 4,
        "text": "Plasmodium malariae"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Fever, fatigue, hypotension, tachycardia and the blood smear showing <strong>multiple ring forms\u00a0</strong>in RBCs are suggestive of <strong>malaria</strong> caused by\u00a0<em><strong>Plasmodium falciparum.</strong></em></p>\n<p>Falciparum malaria, or <strong>malignant tertian malaria</strong>, is the most serious malaria. <em>Plasmodium falciparum </em>infects both young and mature erythrocytes, resulting in a large population of erythrocytes affected. Affected erythrocytes display <strong>cytoadherence</strong>, form<strong> rosettes </strong>and cause capillary plugging in vital organs like the brain, kidney, lungs etc. Diagnosis is by demonstration of <em>P. falciparum</em> in peripheral blood smear. The peripheral smear findings of falciparum malaria include:</p>\n<ul>\n<li><strong>Multiple ring forms</strong>: Multiple delicate rings are visible within the erythrocytes</li>\n<li><strong>Double chromatin</strong>: Binucleate ring forms resembling <strong>stereo headphones</strong></li>\n<li><strong>Accole</strong> form or<strong> form applique</strong>: Ring forms are attached to the margins of red cells</li>\n<li><strong>Maurer's dots\u00a0</strong>or clefts: Coarse brick red dots within erythrocytes</li>\n<li><strong>Banana shaped gametocytes\u00a0</strong>within erythrocytes</li>\n<li>Absent schizont</li>\n</ul>\n<p>The below image shows banana shaped gametocyte:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/aec8de77b24c48e0abf6017672bd6df0.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0e9ff1c8d23e4162a3498272a6c5d83dx710x476.PNG"
    ]
  },
  {
    "text": "Which of the following is not a minor criterion for the diagnosis of myeloma?",
    "choices": [
      {
        "id": 1,
        "text": "Plasmacytoma on tissue biopsy"
      },
      {
        "id": 2,
        "text": "Bone marrow plasmacytosis 10%"
      },
      {
        "id": 3,
        "text": "Reduced normal immunoglobulin"
      },
      {
        "id": 4,
        "text": "Lytic bone lesions"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Plasmacytoma on tissue biopsy is a major criterion in myeloma diagnosis.</p>\n<p><strong>Myeloma criteria</strong></p>\n<table>\n<tbody>\n<tr>\n<td width=\"462\">\n<p><strong>Major criteria</strong></p>\n</td>\n</tr>\n<tr>\n<td width=\"462\">\n<p>Plasmacytoma on tissue biopsy</p>\n</td>\n</tr>\n<tr>\n<td width=\"462\">\n<p>Bone marrow <strong>plasmacytosis with &gt; 30% plasma cells</strong></p>\n</td>\n</tr>\n<tr>\n<td width=\"462\">\n<p><strong>Monoclonal globulin spike on serum electrophoresis</strong> (&gt; 3.5g/dL for IgG, &gt; 2 g/dL for IgA) or on urine (&gt; 1g/24 h of Bence-Jones protein)</p>\n</td>\n</tr>\n<tr>\n<td width=\"462\">\n<p><strong>Minor criteria</strong></p>\n</td>\n</tr>\n<tr>\n<td width=\"462\">\n<p>Bone marrow plasmacytosis 10 to 30% plasma cells</p>\n</td>\n</tr>\n<tr>\n<td width=\"462\">\n<p>Monoclonal globulin spike less than the level defined above</p>\n</td>\n</tr>\n<tr>\n<td width=\"462\">\n<p>Lytic bone lesions</p>\n</td>\n</tr>\n<tr>\n<td width=\"462\">\n<p>Reduced normal immunoglobulin (&lt;50% of normal); IgM &lt;0.05 g/dL, IgA &lt; 0.1g/dL, IgG &lt; 0.6 g/d</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Diagnostic requirements: The diagnosis of multiple myeloma requires a minimum of <strong>one major criterion and one minor criterion&nbsp;or three minor criteria which must include bone marrow plasmacytosis of 10-30 percent and the presence of a monoclonal protein</strong>. These criteria must be manifest in a symptomatic patient with progressive disease.</p>\n<p>&nbsp;</p>\n<p><strong>Updated Definition of Multiple Myeloma</strong></p>\n<p>The revised IMWG criteria will allow, in addition to the classic CRAB features, the following three markers as &ldquo;myeloma defining events&rdquo; (MDEs).</p>\n<ul>\n<li>Sixty percent or greater clonal plasma cells on bone marrow examination</li>\n<li>Serum involved / uninvolved free light chain ratio of 100 or greater, provided the absolute level of the involved free light chain is at least 100 mg/L (a patient&rsquo;s &ldquo;involved&rdquo; free light chain &ndash; either kappa or lambda &ndash; is the one that is above the normal reference range; the uninvolved light chain is the one that typically is in, or below, the normal range)</li>\n<li>More than one focal lesion on MRI that is at least 5 mm or greater in size</li>\n</ul>\n<p>The presence of at least one of these markers will be considered sufficient for a diagnosis of multiple myeloma, regardless of the presence or absence of symptoms or CRAB features. Each of these markers has been shown in two or more independent studies to be associated with an approximately 80 percent or higher risk of developing myeloma-related organ damage within two years.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following parameters has been recently included in the Revised Model for end-stage liver disease (MELD) score 3.0 ?",
    "choices": [
      {
        "id": 1,
        "text": "Bilirubin"
      },
      {
        "id": 2,
        "text": "Creatinine"
      },
      {
        "id": 3,
        "text": "Prothrombin time"
      },
      {
        "id": 4,
        "text": "Albumin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Albumin</strong> level has been recently included in revised MELD score 3.0</p>\n<p>Albumin is also included in\u00a0child turcotte pugh\u00a0(CTP) score .</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old man presents with a history of injury to the eye caused by a leaf 5 days ago, resulting in pain, photophobia, and redness of the eye for 2 days. What would be the most likely pathology?",
    "choices": [
      {
        "id": 1,
        "text": "Anterior uveitis"
      },
      {
        "id": 2,
        "text": "Conjunctivitis"
      },
      {
        "id": 3,
        "text": "Fungal corneal ulcer"
      },
      {
        "id": 4,
        "text": "Corneal laceration"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical vignette of the patient presenting with <strong>pain, photophobia,</strong> and <strong>redness</strong> of the eye following <strong>trauma</strong> by a <strong>vegetative matter</strong> is suggestive of a <strong>fungal corneal ulcer.</strong></p>\n<p><strong>Fungal corneal ulcer</strong> also known as <strong>mycotic keratitis</strong> is usually caused by trauma from vegetative matter such as <strong>branches</strong> of trees, <strong>leaves</strong> and <strong>animal tails</strong>. Injudicious use of topical steroids and antibiotics increases the predisposition to develop secondary fungal keratitis.</p>\n<p>Mycotic keratitis can be\u00a0caused by</p>\n<ul>\n<li>Filamentous fungi such as\u00a0<strong><em>Aspergillus\u00a0</em></strong>and\u00a0<strong><em>Fusarium</em></strong></li>\n<li>Yeasts such as\u00a0<em><strong>Candida</strong></em><em>\u00a0</em>and\u00a0<em>cryptococcus</em></li>\n<li>Dimorphic fungi such as Histoplasma and Blastomyces</li>\n</ul>\n<p>Typically in fungal corneal ulcers,\u00a0the signs are more prominent than the symptoms. The symptoms of fungal keratitis are similar to that of bacterial ulcers which include <strong>pain</strong>, <strong>lacrimation</strong>,\u00a0<strong>photophobia</strong>, blurred vision, and <strong>redness</strong> of the eyes.</p>\n<p>A typical fungal ulcer has the following <strong>signs</strong>:</p>\n<ul>\n<li>Greyish white looking dry corneal ulcer with rolled out margin.</li>\n<li><strong>Feathery </strong>finger-like extensions into the corneal stroma under intact epithelium</li>\n<li><strong>Wessley ring</strong> which is a <strong>sterile immune</strong> ring that occurs due to the deposition of immune complexes</li>\n<li>Multiple small <strong>satellite lesions</strong> around the ulcer</li>\n<li><strong>Hypopyon</strong>: The hypopyon in fungal ulcer is <strong>immobile</strong> and <strong>unsterile</strong> unlike bacterial ulcer (sterile hypopyon)</li>\n<li>Perforation is rare</li>\n<li>Corneal <strong>vascularization</strong> is usually <strong>absent</strong>.</li>\n</ul>\n<p>A <strong>diagnosis</strong> of fungal ulcer is made by a <strong>typical history</strong> of trauma with vegetative matter followed by <strong>clinical examination</strong> and KOH mount or SDA agar cultures from corneal scrappings.</p>\n<p>The image below depicts a <strong>fungal corneal ulcer</strong>\u00a0with the <strong>arrowhead</strong> indicating a <strong>satellite lesion</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c096c57f84794b37997c2853177dc660x372x302.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/938decda907d40fbb4dc1aefb10d627cx1118x1198.JPEG"
    ]
  },
  {
    "text": "Which of the following is the most common complication of pathological myopia?",
    "choices": [
      {
        "id": 1,
        "text": "Complicated cataract"
      },
      {
        "id": 2,
        "text": "Vitreous hemorrhage"
      },
      {
        "id": 3,
        "text": "Macular degeneration"
      },
      {
        "id": 4,
        "text": "Retinal detachment"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Macular degeneration</strong> is the <strong>most common</strong> complication of myopia, followed by <strong>rhegmatogenous retinal detachment.</strong></p>\n<p>Complications of pathological myopia include the following:</p>\n<ul>\n<li>Macular degeneration</li>\n<li><strong>Retinal detachment</strong></li>\n<li><strong>Complicated cataract</strong></li>\n<li><strong>Vitreous hemorrhage</strong></li>\n<li>Choroidal hemorrhage</li>\n<li>Strabismus fixus convergence</li>\n<li>Primary open-angle glaucoma, which is not a complication, but reported to occur in association with pathological myopia.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Poisoning with which of the following compounds causes mydriasis?",
    "choices": [
      {
        "id": 1,
        "text": "Diazinon"
      },
      {
        "id": 2,
        "text": "Phosdrin"
      },
      {
        "id": 3,
        "text": "Endrin"
      },
      {
        "id": 4,
        "text": "Paraoxon"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Endrin&nbsp;</strong>is an <strong>organochlorine</strong> compound. Poisoning with this compound causes <strong>mydriasis</strong>.&nbsp;There is no specific antidote for organochlorine poisoning.</p>\n<p>Diazinon, phosdrin, and paraoxon are organophosphates and they cause miosis. Organophosphate poisoning is treated with atropine and oximes.</p>\n<p><strong>Classification</strong> of <strong>insecticides</strong>:</p>\n<ul>\n<li>Organophosphorus compounds\n<ul>\n<li>Parathion</li>\n<li><strong>Paraoxon</strong></li>\n<li>Chlorthion</li>\n<li><strong>Diazinon</strong></li>\n<li>Malathion</li>\n<li><strong>Phosdrin</strong></li>\n<li>HETP (hexaethyl tetraphosphate)</li>\n<li>TEPP (tetraethyl pyrophosphate)</li>\n</ul>\n</li>\n<li>Organochlorine compounds\n<ul>\n<li>DDT (dichloro diphenyl trichloroethane)</li>\n<li>Gammahexa-chlorobenzene</li>\n<li><strong>Endrin</strong></li>\n<li>Aldrin</li>\n<li>Endosulfan</li>\n</ul>\n</li>\n<li>Carbamates\n<ul>\n<li>Aldicarb</li>\n<li>Carbaryl</li>\n<li>Carbofuran</li>\n</ul>\n</li>\n<li>Pyrethrin and pyrethroids</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The treatment of choice for congenital cataract is _______.",
    "choices": [
      {
        "id": 1,
        "text": "Pharmacotherapy"
      },
      {
        "id": 2,
        "text": "Combined cataract surgery and goniotomy"
      },
      {
        "id": 3,
        "text": "Cataract surgery with intraocular lens (IOL) implant"
      },
      {
        "id": 4,
        "text": "Pars plana lensectomy with no IOL implant"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Cataract surgery </strong>with<strong> i</strong>ntraocular lens <strong>(IOL) implant </strong>is the treatment of choice in congenital cataract.</p>\n<p>Cataract surgery for congenital cataract includes <strong>Extracapsular cataract extraction (ECCE)</strong> with <strong>primary posterior</strong>&nbsp;<strong>capsulorhexis</strong> and <strong>anterior vitrectomy</strong>.</p>\n<p>Intracapsular cataract extraction <strong>[ICCE]</strong> is<strong> contraindicated</strong> in<strong> children</strong>.</p>\n<p>After removal of the cataractous lens, posterior chamber intraocular lens (<strong>PCIOL) </strong>is&nbsp;implanted.</p>\n<p><strong>Timing of surgery </strong></p>\n<p>The <strong>critical period</strong> for the&nbsp;development of the fixation reflex in both unilateral and bilateral visual deprivation disorders is <strong>2&ndash;4 months</strong> of age.</p>\n<p>Any cataract dense enough to impair vision must be dealt with before this age, and the&nbsp;<strong>earliest possible time</strong> is<strong> preferred.</strong></p>\n<ul>\n<li><strong>Bilateral dense</strong> cataract:&nbsp;<strong>early</strong> surgery by <strong>4-6 weeks</strong> of age</li>\n<li><strong>Unilateral dense</strong> cataract or <strong>involving visual axis:</strong>&nbsp;<strong>urgent surgery</strong> within days</li>\n</ul>\n<p><strong>Note:</strong> Though some references recommend contact lenses over PCIOL in certain contexts, most Indian pediatric ophthalmologists prefer PCIOL in all age groups.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following situations does the red line in the following graph depict?",
    "choices": [
      {
        "id": 1,
        "text": "Reaction with a competitive inhibitor"
      },
      {
        "id": 2,
        "text": "Reaction with an allosteric Inhibitor"
      },
      {
        "id": 3,
        "text": "Reaction with a suicide inhibitor"
      },
      {
        "id": 4,
        "text": "Reaction with a noncompetitive inhibitor"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The<strong> red line</strong> in the graph represents an enzymatic reaction with a <strong>noncompetitive inhibitor</strong>.\u00a0</p>\n<p>The above graph is called the '<strong>Lineweaver-Burk plot' </strong>or<strong> 'double reciprocal' plot. 1/v<sub>0</sub></strong> (v<sub>0</sub> - initial velocity) is plotted versus <strong>1/[S] </strong>([S] - substrate concentration) and a straight line is obtained. This plot can be used to calculate K<sub>m</sub> and V<sub>max</sub> as well as to determine the mechanism of action of enzyme inhibitors. The <strong>x-intercept</strong> represents -1/K<sub>m</sub> while the <strong>y-intercept</strong> represents 1/V<sub>max.\u00a0</sub></p>\n<p>In non-competitive inhibition, <strong>V<sub>max</sub> decreases</strong> (or 1/V<sub>max</sub> increases) but <strong>K<sub>m</sub> </strong>is<strong> unchanged.\u00a0</strong>Hence\u00a0the graphs of inhibited and uninhibited reactions have the <strong>same x-intercepts</strong> (converge at the same -1/K<sub>m</sub>) but <strong>different y-intercepts.</strong></p>\n<p><strong>Note:\u00a0</strong>An <strong>allosteric</strong> inhibitor alters the conformation of an enzyme upon binding. Enzymes affected by allosteric inhibitors exhibit a <strong>sigmoid</strong>, not hyperbolic, relationship between V<sub>0</sub> and [S].</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3da2728e63c342449b7a11630a6604ba.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7187f911d2c5404f83a485541b950554x710x280.GIF"
    ]
  },
  {
    "text": "A patient with secondary amenorrhea and infertility is diagnosed to have Asherman syndrome. Hysteroscopic evaluation revealed 30% adhesions of the endometrial surfaces, but no agglutination of the uterine wall. How would you classify this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Mild Asherman syndrome"
      },
      {
        "id": 2,
        "text": "Moderate Asherman syndrome"
      },
      {
        "id": 3,
        "text": "Severe Asherman syndrome"
      },
      {
        "id": 4,
        "text": "Cannot be classified with the given information"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>This patient would be classified as a case of <strong>moderate Asherman syndrome</strong> as <strong>30% adhesions</strong> of the endometrial surfaces are present.</p>\n<p><strong>Asherman syndrome</strong> (uterine synechiae) is <strong>classified</strong> as follows:</p>\n<ul>\n<li>Minimal: &lt;25% adhesion involves the uterine cavity, flimsy adhesions involving the fundus and tubal ostia.</li>\n<li>Moderate: 25&ndash;70% adhesion of the endometrial surfaces, but no agglutination of the uterine wall.</li>\n<li>Severe: 75% adhesions with agglutination and thick adhesions.</li>\n</ul>\n<p><strong>Asherman syndrome</strong> can <strong>present</strong> in the following ways:</p>\n<ul>\n<li><strong>Secondary amenorrhea</strong></li>\n<li>Oligomenorrhoea</li>\n<li>Dysmenorrhoea</li>\n<li>Habitual abortions</li>\n<li><strong>Infertility</strong></li>\n</ul>\n<p>The <strong>causes</strong> of <strong>Asherman syndrome</strong> are:</p>\n<ul>\n<li>Dilatation and curettage (D&amp;C)</li>\n<li>Medical termination of pregnancy (MTP), spontaneous abortions, recurrent abortions</li>\n<li>Uterine packing in postpartum haemorrhage</li>\n<li>Uterine infection</li>\n<li>Tubercular endometritis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Blighted ovum is characterized by",
    "choices": [
      {
        "id": 1,
        "text": "Absence of fetal pole in a gestational sac of diameter 10mm"
      },
      {
        "id": 2,
        "text": "Absence of fetal pole in a gestational sac of diameter 12 mm"
      },
      {
        "id": 3,
        "text": "Absence of fetal pole in a gestational sac of diameter 20mm"
      },
      {
        "id": 4,
        "text": "Absence of fetal pole in a gestational sac of diameter 15mm"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Blighted ovum (silent miscarriage):</p>\n<ul>\n<li>50% of miscarriages are anembryonic, that is, with no identifiable embryonic elements.</li>\n<li>It is a sonographic diagnosis.</li>\n<li>An anembryonic gestation (in blighted ovum) is when mean gestational sac diameter is more than equal to 20mm and no embryo is seen.</li>\n<li>Uterus is to be evacuated once the diagnosis is made.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are the products obtained in the uronic acid pathway in humans, except:",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin C"
      },
      {
        "id": 2,
        "text": "Glucuronic acid"
      },
      {
        "id": 3,
        "text": "Pentose sugars"
      },
      {
        "id": 4,
        "text": "Proteoglycans"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Vitamin C</strong> is not a product of the <strong>uronic</strong> acid pathway in humans.</p>\n<p>Glucuronic acid, pentose sugars, proteoglycans are all the products obtained in the uronic acid pathway in humans.</p>\n<p>In the liver, the <strong>uronic acid pathway\u00a0</strong>is the <strong>source of glucuronic acid</strong> for conjugation of many endogenous and exogenous substances before excretion as glucuronides in urine and bile.</p>\n<p>The <strong>lack of</strong> one enzyme of the uronic acid pathway called <strong>L-gulonolactone oxidase</strong> in primates and some other animals including human beings explains why ascorbic acid (vitamin C) cannot be endogenously synthesized. Hence, it is a dietary requirement for human beings.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 46-year-old woman presents with a lower abdominal mass for the past 2 years. She had undergone uterine artery embolisation for fibroids 5 years ago. Ultrasound showed a homogeneous mass near the uterine fundus. On exploratory laparotomy,  the mass was observed to be attached to the greater omentum and it was excised. Histopathology of the mass is shown below. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pedunculated fibroid"
      },
      {
        "id": 2,
        "text": "Parasitic fibroid"
      },
      {
        "id": 3,
        "text": "Leiomyosarcoma"
      },
      {
        "id": 4,
        "text": "Disseminated intraperitoneal leiomyomatosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given case scenario is suggestive of a<strong> parasitic fibroid.</strong>&nbsp; The given histopathological image shows&nbsp;<strong>interlacing </strong>bundles of uniform&nbsp;<strong>spindle-shaped smooth muscle</strong>&nbsp;cells with blunted nuclei that are characteristic of a fibroid.</p>\n<p>A parasitic fibroid or a wandering fibroid gets<strong>&nbsp;cut off</strong> <strong>from</strong> its <strong>uterine origin</strong> and derives its blood supply from the vessels of the organ it is attached to. Thus, it can continue to grow in spite of uterine artery embolisation. It is managed by complete resection.</p>\n<p>Option A: <strong>Pedunculated fibroids</strong> have a pedicle with which they're <strong>attached</strong> to the <strong>myometrium</strong>.&nbsp;</p>\n<p>Option C: <strong>Leiomyosarcoma</strong> commonly presents in postmenopausal women with <strong>sudden increase</strong> in size and postmenopausal bleeding. It would show <strong>nuclear atypia</strong> on histology.</p>\n<p>Option D:&nbsp;<strong>Disseminated intraperitoneal leiomyomatosis</strong>&nbsp;involves<strong> large areas</strong> of <strong>sub peritoneal</strong> surfaces. It is seen during pregnancy and while on oral contraceptives.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/81f7fe55dbf94bf591753d711ee3e68e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is true regarding elastic arteries?",
    "choices": [
      {
        "id": 1,
        "text": "They are also known as distributing arteries"
      },
      {
        "id": 2,
        "text": "The internal elastic lamina is distinct from the tunica media"
      },
      {
        "id": 3,
        "text": "Smooth muscles are absent in the tunica media"
      },
      {
        "id": 4,
        "text": "The elastic recoil helps in continuous flow of the blood"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>The elastic recoil</strong> of the elastic arteries helps in <strong>continuous blood flow.</strong></p>\n<p>The large elastic arteries <strong>distend and recoil</strong> during systole and diastole respectively due to <strong>abundant elastic tissue</strong>. The recoiling acts as an <strong>additional force</strong> that pushes blood into smaller arteries. So, <strong>blood flows continuously</strong> through arteries but with some fluctuation in pressure during systole and diastole.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/de6166f77b7a4d539f50b392c03992ecx1280x794.JPEG"
    ]
  },
  {
    "text": "Which of the following does not cause bilateral recurrent laryngeal nerve palsy?",
    "choices": [
      {
        "id": 1,
        "text": "Thyroid surgery"
      },
      {
        "id": 2,
        "text": "Thyroid malignancy"
      },
      {
        "id": 3,
        "text": "Cervical lymphadenopathy"
      },
      {
        "id": 4,
        "text": "Ortner's syndrome"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Ortner's syndrome</strong> is a rare cause of<strong>&nbsp;left </strong>(unilateral)&nbsp;<strong>recurrent laryngeal nerve palsy</strong> due to compression by enlarged cardiac structures such as the left atrium or pulmonary artery.</p>\n<p>Causes of recurrent laryngeal nerve palsy:</p>\n<ul>\n<li>Thyroid surgery</li>\n<li>Neck trauma</li>\n<li>Thyroid malignancy</li>\n<li>Cervical lymphadenopathy.</li>\n</ul>\n<p>Though the risk of bilateral nerve involvement is much less than unilateral, it is possible.&nbsp;Depending on whether the palsy is unilateral or bilateral, findings will differ.</p>\n<p>Terminologies in vocal cord palsy:</p>\n<ul>\n<li>Pure RLN palsy: abductor palsy (the only abductor, posterior cricoarytenoid is affected)</li>\n<li>Pure SLN palsy: rare (only cricothyroid, one of the adductors and the main tensor is affected)</li>\n<li>Complete paralysis: both SLN and RLN are involved.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the arterial supply of the structure labelled in the picture with the blue dotted line?",
    "choices": [
      {
        "id": 1,
        "text": "Right coronary artery"
      },
      {
        "id": 2,
        "text": "Left coronary artery"
      },
      {
        "id": 3,
        "text": "Left anterior descending artery"
      },
      {
        "id": 4,
        "text": "Artery from the left posterior aortic sinus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows a <strong>triangle of Koch</strong> marked with blue dotted lines. The <strong>arterial supply</strong> to the triangle of Koch is from the <strong>right coronary artery</strong> in the majority of the population.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/090394c009244de1a16693413ddf74bd.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old woman is admitted to the hospital with a fever and cough. She has a history of repeated chest infections for several years and coughs up yellow-green purulent sputum with some streaky hemoptysis. What could be the underlying condition based on the CT given below?",
    "choices": [
      {
        "id": 1,
        "text": "Cystic fibrosis"
      },
      {
        "id": 2,
        "text": "Tuberculosis"
      },
      {
        "id": 3,
        "text": "Amyloidosis"
      },
      {
        "id": 4,
        "text": "Lung abscess"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario and the CT showing <strong>signet ring sign</strong> is suggestive of <strong>bronchiectasis</strong>&nbsp;which can be due to <strong>cystic fibrosis</strong>.</p>\n<p>A history of <strong>repeated chest infections</strong> is an indication of cystic fibrosis and a major risk factor for the development of bronchiectasis.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/723f274c00c14489a232f1638772d821.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements regarding immune thrombocytopenic purpura is false?",
    "choices": [
      {
        "id": 1,
        "text": "Acute ITP occurs following viral infections"
      },
      {
        "id": 2,
        "text": "Lymphocytosis is rare in chronic ITP"
      },
      {
        "id": 3,
        "text": "Chronic ITP is commonly seen in males"
      },
      {
        "id": 4,
        "text": "Spontaneous remission is common in acute ITP"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Chronic ITP is more common in <strong>females.</strong></p>\n<table style=\"height: 347px; width: 353px;\">\n<tbody>\n<tr style=\"height: 40px;\">\n<td style=\"width: 166px; height: 40px;\"><strong>Acute ITP</strong></td>\n<td style=\"width: 175px; height: 40px;\"><strong>Chronic ITP</strong></td>\n</tr>\n<tr style=\"height: 40px;\">\n<td style=\"width: 166px; height: 40px;\">Common in children</td>\n<td style=\"width: 175px; height: 40px;\">Common in adults (females &gt; males)</td>\n</tr>\n<tr style=\"height: 40px;\">\n<td style=\"width: 166px; height: 40px;\">No sex predilection</td>\n<td style=\"width: 175px; height: 40px;\">More common in females</td>\n</tr>\n<tr style=\"height: 58px;\">\n<td style=\"width: 166px; height: 58px;\">Associated with antecedent viral infection</td>\n<td style=\"width: 175px; height: 58px;\">Not associated with antecedent infection</td>\n</tr>\n<tr style=\"height: 66.5625px;\">\n<td style=\"width: 166px; height: 66.5625px;\">Spontaneous remission within 6 months in most cases</td>\n<td style=\"width: 175px; height: 66.5625px;\">Spontaneous remission is not usually seen</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The blood picture below shows cells with \u2018flower shaped nucleus\u2019 characteristic of_____",
    "choices": [
      {
        "id": 1,
        "text": "Burkitts lymphoma"
      },
      {
        "id": 2,
        "text": "Lymphoplasmacytoid lymphoma"
      },
      {
        "id": 3,
        "text": "Adult T cell leukemia"
      },
      {
        "id": 4,
        "text": "Diffuse large cell leukemia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>Anaplastic large T/null-cell lymphoma was previously usually diagnosed as undifferentiated carcinoma or malignant histiocytosis.</li>\n<li>Peripheral blood smear showing leukemia cells with typical <strong>&ldquo;flower-shaped&rdquo; nucleus</strong>.</li>\n<li>The diagnosis of anaplastic large T/null-cell lymphoma is made when an expert hematopathologist recognizes the typical morphologic picture and a T-cell or null-cell immunophenotype with CD30 positivity.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f43230d717684bcfba5dbe36f6804f18.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following nerve is a branch of the sacral plexus?",
    "choices": [
      {
        "id": 1,
        "text": "Iliohypogastric nerve"
      },
      {
        "id": 2,
        "text": "Ilioinguinal nerve"
      },
      {
        "id": 3,
        "text": "Obturator nerve"
      },
      {
        "id": 4,
        "text": "Sciatic nerve"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>sciatic nerve</strong> is a branch of the <strong>sacral plexus.&nbsp;</strong>It&nbsp;is the <strong>largest branch</strong> of the sacral plexus.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A woman presents with a positive urine pregnancy test and states that her LMP was 8 weeks ago. However, she has a history of irregular cycles. Which of the following would be the most accurate way of dating the pregnancy?",
    "choices": [
      {
        "id": 1,
        "text": "Abdominal circumference on transabdominal or transvaginal USG"
      },
      {
        "id": 2,
        "text": "Quantitative serum hCG levels"
      },
      {
        "id": 3,
        "text": "Crown rump length on transabdominal or transvaginal USG"
      },
      {
        "id": 4,
        "text": "Quantitative progesterone levels"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most accurate way of dating the pregnancy is using the<strong>&nbsp;crown-rump length</strong> (CRL) on transabdominal or transvaginal USG. It has a variance of about 3 to 5 days.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 2-year-old boy is brought with abdominal swelling. On examination, a mass is palpable in the right upper quadrant.  Laboratory evaluation shows serum alpha-fetoprotein level of 1,50,000 ng/mL. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Hepatocellular Carcinoma"
      },
      {
        "id": 2,
        "text": "Hepatoblastoma"
      },
      {
        "id": 3,
        "text": "Wilms tumour"
      },
      {
        "id": 4,
        "text": "Extragonadal germ cell tumor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical history and elevated serum alpha-fetoprotein level are suggestive of&nbsp;<strong>hepatoblastoma. </strong></p>\n<p>Hepatoblastoma is the<strong> most common malignant</strong> liver tumor of <strong>early childhood</strong>, usually <strong>&lt; 3 years</strong>.&nbsp;Serum alpha-fetoprotein (<strong>AFP</strong>) is the most important clinical marker for hepatoblastoma. It remains the key clinical marker of malignant change, response to the treatment, and relapse.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/00e253bfb10d4f20ad5d5012aaf7bc58x1280x1054.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ab90300331614e7b832062fa8adc7df9x1280x1055.JPEG"
    ]
  },
  {
    "text": "A 30-year-old woman who is taking OCPs presents with weakness and fatigue. Her laboratory investigations and peripheral smear are given below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Megaloblastic anemia"
      },
      {
        "id": 2,
        "text": "Aplastic anemia"
      },
      {
        "id": 3,
        "text": "Paroxysmal nocturnal hemoglobinuria"
      },
      {
        "id": 4,
        "text": "Iron deficiency anaemia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario is suggestive of <strong>megaloblastic anaemia</strong> due to the following reasons:</p>\n<ul>\n<li>History of OCP use</li>\n<li>Hemogram shows decreased hemoglobin and increased MCV</li>\n<li>Peripheral smear shows anisopoikilocytosis, macroovalocytes, and <strong>hypersegmented neutrophils</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4135ad99fa9240faa8b2aa18dc99695d.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The peripheral vascular resistance is decreased in ____________",
    "choices": [
      {
        "id": 1,
        "text": "Hypovolemic shock"
      },
      {
        "id": 2,
        "text": "Cardiogenic shock"
      },
      {
        "id": 3,
        "text": "Obstructive   shock"
      },
      {
        "id": 4,
        "text": "Distributive shock"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p class=\"p1\">The peripheral vascular resistance is decreased in <strong>distributive shock. </strong></p>\n<p class=\"p1\">It is the condition of reduced oxygen delivery where the primary physiologic disturbance is a <strong>reduction in systemic vascular resistance</strong>. It is unique among the types of shock in that there is a compensatory<strong> increase in cardiac output</strong>.&nbsp;The most common cause of distributive shock is <strong>sepsis</strong>.</p>\n<p>The causes of vasodilatation in various types of distributive shock:</p>\n<table style=\"width: 323px;\">\n<tbody>\n<tr>\n<td style=\"width: 154px;\"><strong>Type of distributive shock&nbsp;</strong></td>\n<td style=\"width: 163px;\"><strong>Cause of vasodilatation&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 154px;\">Septic shock&nbsp;</td>\n<td style=\"width: 163px;\">Release of bacterial&nbsp;products (endotoxin) and the activation of cellular and humoral&nbsp;components of the immune system.&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 154px;\">Anaphylactic shock&nbsp;</td>\n<td style=\"width: 163px;\">Histamine release&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 154px;\">Neurogenic shock (spinal cord injury)&nbsp;</td>\n<td style=\"width: 163px;\">Failure of sympathetic&nbsp;outflow and adequate vascular tone&nbsp;</td>\n</tr>\n</tbody>\n</table>\n<p>The following Table shows cardiovascular and metabolic characteristics of different types of shock.</p>\n<table style=\"height: 145px; width: 583px;\">\n<tbody>\n<tr>\n<td style=\"width: 177px;\">&nbsp;</td>\n<td style=\"width: 89px;\"><strong>Hypovolemia</strong></td>\n<td style=\"width: 72px;\"><strong>Cardiogenic</strong></td>\n<td style=\"width: 88px;\"><strong>Obstructive</strong></td>\n<td style=\"width: 109px;\"><strong>Distributive</strong></td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Cardiac output</td>\n<td style=\"width: 89px;\">Low</td>\n<td style=\"width: 72px;\">Low</td>\n<td style=\"width: 88px;\">Low</td>\n<td style=\"width: 109px;\">\n<p><strong>High (in septic and anaphylactic shock)</strong></p>\n<p><strong>Low (in neurogenic shock)</strong></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Vascular resistance</td>\n<td style=\"width: 89px;\">High</td>\n<td style=\"width: 72px;\">High</td>\n<td style=\"width: 88px;\">High</td>\n<td style=\"width: 109px;\">Low</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Venous pressure</td>\n<td style=\"width: 89px;\">Low</td>\n<td style=\"width: 72px;\">High</td>\n<td style=\"width: 88px;\">High</td>\n<td style=\"width: 109px;\">Low</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Mixed venous saturation</td>\n<td style=\"width: 89px;\">Low</td>\n<td style=\"width: 72px;\">Low</td>\n<td style=\"width: 88px;\">Low</td>\n<td style=\"width: 109px;\">High</td>\n</tr>\n<tr>\n<td style=\"width: 177px;\">Base deficit</td>\n<td style=\"width: 89px;\">High</td>\n<td style=\"width: 72px;\">High</td>\n<td style=\"width: 88px;\">High</td>\n<td style=\"width: 109px;\">High</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The blood-testis barrier is formed by______",
    "choices": [
      {
        "id": 1,
        "text": "Tight junctions between adjacent leydig cells"
      },
      {
        "id": 2,
        "text": "Tight junctions between adjacent sertoli cells"
      },
      {
        "id": 3,
        "text": "Basal lamina and spermatogonia"
      },
      {
        "id": 4,
        "text": "Basal lamina and leydig cells"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The blood-testis barrier is formed by the <strong>tight junctions between adjacent sertoli cells.</strong></p>\n<p>This Sertoli-Sertoli cell tight junctions&nbsp;divide the seminiferous epithelium into 2 compartments:</p>\n<ul>\n<li>Basal compartment - contains the spermatogonia and early-stage primary&nbsp;spermatocytes.</li>\n<li>Adluminal compartment - contains later-stage primary spermatocytes and all subsequent stages&nbsp;of sperm cells.</li>\n</ul>\n<p>It imparts a selective permeability, allowing few&nbsp;substances such as testosterone&nbsp;to cross but preventing noxious substances that might&nbsp;damage the developing sperm.&nbsp;It also protects sperms from antibodies by creating a&nbsp;specialized, immunologically safe microenvironment for developing sperm.</p>\n<p>&nbsp;</p>\n<p>BELOW DIAGRAM -&nbsp;</p>\n<div class=\"description mw-content-ltr en\" dir=\"ltr\" lang=\"en\">1 basal lamina, 2 spermatogonia, 3 spermatocyte 1st order, 4 spermatocyte 2nd order, 5 spermatid, 6 mature spermatid, 7 Sertoli cell, 8 tight junctions(Blood- Testis Barrier)</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/28febd4ff4164c478212ba8ee4de8b02x410x360.JPEG"
    ]
  },
  {
    "text": "Which of the following is a urinary antiseptic?",
    "choices": [
      {
        "id": 1,
        "text": "Galantamine"
      },
      {
        "id": 2,
        "text": "Methenamine"
      },
      {
        "id": 3,
        "text": "Mecamylamine"
      },
      {
        "id": 4,
        "text": "Pyrimethamine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Methenamine</strong> is a urinary antiseptic and is indicated in <strong>urinary tract infections</strong>. At pH&lt;5.5, methenamine releases formaldehyde that inhibits bacteria.\u00a0</p>\n<p>Option A: Galantamine is a central anticholinesterase approved for the treatment of Alzheimer's disease.</p>\n<p>Option C: Mecamylamine is a ganglionic blocker that can be used as an antihypertensive agent.</p>\n<p>Option D: Pyrimethamine is an antimalarial agent.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old man on routine dental checkup was found to have the following finding on orthopantomogram. What is the reason for the finding marked with the arrow?",
    "choices": [
      {
        "id": 1,
        "text": "Benign tumor of alveolus"
      },
      {
        "id": 2,
        "text": "Submandibular gland cyst"
      },
      {
        "id": 3,
        "text": "Ectopic salivary tissue"
      },
      {
        "id": 4,
        "text": "Dentigerous cysts"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given orthopantomogram shows a right-sided <strong>clearly demarcated radiolucent lesion</strong> suggestive of a <strong>stafne bone cyst</strong>. It is the most common type of <strong>ectopic salivary tissue</strong>.</p>\n<p>It presents as an <strong>asymptomatic</strong>, clearly demarcated radiolucent lesion at the angle of the mandible, characteristically below the inferior dental neurovascular bundle. It is more common in <strong>males</strong>. Usually, no treatment is required.</p>\n<p>A <strong>dentigerous cyst</strong> is a cyst in relation to an <strong>unerupted tooth</strong>. Most commonly involves the <strong>3rd molar</strong>. It is managed by enucleation and removal of the tooth.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9b3224e10b0c485694da99bda94bd987.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "While conducting a field study in a village, you found the birth and death rates of the population to be 42 and 31 respectively. What is the current annual growth rate of this population?",
    "choices": [
      {
        "id": 1,
        "text": "11%"
      },
      {
        "id": 2,
        "text": "1.1%"
      },
      {
        "id": 3,
        "text": "0.11%"
      },
      {
        "id": 4,
        "text": "1.01%"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the given scenario, the <strong>current annual growth rate</strong> is <strong>1.1%.</strong></p>\n<p>Here, the <strong>birth rate</strong> is 42 i.e<strong> 42 live births per 1000 population,&nbsp;</strong>and the <strong>death rate</strong> is 31 i.e<strong> 31 deaths per 1000 population.&nbsp;</strong></p>\n<p><strong>Current annual growth rate</strong> = crude birth rate &ndash; crude death rate. So, current annual growth rate = 42-31= 11 per 1000 population or<strong> 1.1%</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the best indicator of protein quality?",
    "choices": [
      {
        "id": 1,
        "text": "Protein digestibility corrected amino acid score"
      },
      {
        "id": 2,
        "text": "Digestible indispensable amino acid score"
      },
      {
        "id": 3,
        "text": "Biological value"
      },
      {
        "id": 4,
        "text": "Protein efficiency ratio"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Digestible indispensable amino acid score <strong>(DIAAS) </strong>is the<strong> best indicator </strong>for <strong>protein quality.</strong></p>\n<p>DIAAS reflects the <strong>digestibility</strong> of <strong>individual amino acids </strong>in the protein. Total protein digestibility does not always reflect the digestibility of individual dietary indispensable amino acids. Hence, DIAAS has replaced the PDCAAS&nbsp;(protein digestibility corrected amino acid score) as the preferred index for the&nbsp;evaluation of protein quality.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old male, a known case of Parkinson disease on treatment for the past 10 years is complaining of hallucinations. From which of the following drugs, will the patient be benefited?",
    "choices": [
      {
        "id": 1,
        "text": "Fibanserin"
      },
      {
        "id": 2,
        "text": "Pimavanserin"
      },
      {
        "id": 3,
        "text": "Aripiprazole"
      },
      {
        "id": 4,
        "text": "Resperidone"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Pimavanserin is an atypical antipsychotic approved for use in delusions and hallucinations associated with Parkinson&rsquo;s disease.</strong> </p>\n<p>It has a unique mechanism of action of antagonism and inverse agonism at 5-HT2A receptors with no action on dopamine receptors.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'M12 - Revision Mini Test - 1';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2017-18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>