<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>34 Vaginitis And Syndromic Approach For Vaginal Discharge - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Obstetrics & Gynecology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">12</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>Which of the following statements is incorrect with respect to the role of physiological pH of the vagina?</p>",
    "choices": [
      {
        "id": 1,
        "text": "The acidic pH of the vagina helps prevent the growth of pathogenic organisms."
      },
      {
        "id": 2,
        "text": "Doderlein\u2019s bacillus is responsible for maintaining the acidic pH by converting glycogen to lactic acid under the influence of estrogen."
      },
      {
        "id": 3,
        "text": "Doderlein\u2019s bacillus appears in the vagina 3\u20134 days after birth and disappears after 10\u201314 days, to reappear at puberty."
      },
      {
        "id": 4,
        "text": "An increased vaginal pH can predispose to infections such as vulvovaginal candidiasis."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct answer: D)\u00a0An increased <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> pH can predispose to infections such as <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">vulvovaginal</span> candidiasis.</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Vulvovaginal <span class=\"customMeta\" data-dictid=\"39ca145a0f1692777183a33d06e96d\">candidiasis</span> (yeast infection) typically occurs in a <strong>physiological pH of <span class=\"customMeta\" data-dictid=\"8537d8358c169277720162f2f6971b\">vagina</span> (acidic environment)</strong> and is <strong>not associated with an increased <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> pH</strong>.</p>\n\n<p>The infections that typically occur in increased <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> pH are <strong>Trichomoniasis and bacterial vaginosis</strong>.</p>\n\n<p>Normal <span class=\"customMeta\" data-dictid=\"6c2c85ae6b16927771950809419a59\">physiological</span> pH of <span class=\"customMeta\" data-dictid=\"8537d8358c169277720162f2f6971b\">vagina</span> i.e. 3.8-5.0 (acidic) helps prevent the growth of <span class=\"customMeta\" data-dictid=\"aab99c76cb16927771946daf9e4dbf\">pathogenic</span> organisms <strong>(Option A)</strong>. Certain microorganisms thrive when <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> pH is increased.</p>\n\n<p>Vaginal pH is maintained by the <strong>Doderlein\u2019s bacillus</strong> which converts <strong>glycogen to <span class=\"customMeta\" data-dictid=\"b82539c9ae1692777191a3f7ddd7bb\">lactic</span> acid </strong>under the influence of <strong>estrogen</strong> <strong>(Option B)</strong>. Doderlein\u2019s <span class=\"customMeta\" data-dictid=\"461ee544961692777182696a650b05\">bacillus</span> appears in the <span class=\"customMeta\" data-dictid=\"8537d8358c169277720162f2f6971b\">vagina</span> 3\u20134 days after birth, disappears after 10\u201314 days, and reappears at <span class=\"customMeta\" data-dictid=\"c284c4252f16927771963c07a95e13\">puberty</span> when <span class=\"customMeta\" data-dictid=\"a58dd68b011692777187eb72633aac\">estrogen</span> levels rise. <strong>(Option C)</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Table: <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">Vaginal</span> pH, Symptoms, and Indications</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:624px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>pH</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Symptoms</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diseases</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>3.8 to 4.4</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Normal <span class=\"customMeta\" data-dictid=\"6c2c85ae6b16927771950809419a59\">Physiological</span> pH</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>-</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>3.8 to 4.4</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Itching, burning, white thick curdy discharge</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Vulvovaginal candidiasis</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>4.5 and above</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Itching, fishy smell, thin <span class=\"customMeta\" data-dictid=\"d9ec45007b1692777189e3b26e44ca\">homogeneous</span> <span class=\"customMeta\" data-dictid=\"9dd87431ba1692777186ecfb21d258\">discharge</span> (white to grayish)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Bacterial vaginosis</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>5.5 and above</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Green or yellow, frothy discharge; foul odor; pain with sexual intercourse, <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> soreness</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Trichomoniasis</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/MyYQFYEwSZDTOPYXig8T1734253490.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Bb6BnJMg9sBh4dAy4z4s1734253587.mp3"
  },
  {
    "text": "<p>A 28-year-old woman who is sexually active presents to the clinic with complaints of a fish-smelling vaginal discharge that has been ongoing for the past week. On physical examination, there is a thin, white, and creamy vaginal discharge. The physician suspects bacterial vaginosis.</p>\n\n<p>Which of the following criteria would not be required to establish the diagnosis of bacterial vaginosis using Amsel's criteria?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Presence of clue cells on microscopic examination"
      },
      {
        "id": 2,
        "text": "Vaginal pH greater than 4.5"
      },
      {
        "id": 3,
        "text": "Marked increase in vaginal lactobacilli"
      },
      {
        "id": 4,
        "text": "Positive whiff test with KOH"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Marked increase in <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> lactobacilli</strong> is not a <span class=\"customMeta\" data-dictid=\"9167b944ea169277718582367e0915\">criterion</span> for <span class=\"customMeta\" data-dictid=\"37bea4cea61692777182730bcddd46\">bacterial vaginosis</span> according to Amsel's criteria. In fact, <span class=\"customMeta\" data-dictid=\"37bea4cea61692777182730bcddd46\">bacterial vaginosis</span> is typically associated with a decrease in lactobacilli.</p>\n\n<p>The <strong>Amsel's criteria</strong> for diagnosing <span class=\"customMeta\" data-dictid=\"37bea4cea61692777182730bcddd46\">bacterial vaginosis</span> require the presence of at least three out of the following four criteria:</p>\n\n<ul>\n\t<li>\n\t<p>Presence of clue cells on <span class=\"customMeta\" data-dictid=\"79067cb33316927771926965c3c0b5\">microscopic</span> examination <strong>(Option A)</strong></p>\n\t</li>\n\t<li>\n\t<p>Vaginal pH greater than 4.5 <strong>(Option B)</strong></p>\n\t</li>\n\t<li>\n\t<p>Positive whiff test with KOH (fishy odor) <strong>(Option D)</strong></p>\n\t</li>\n\t<li>\n\t<p>Thin, white <span class=\"customMeta\" data-dictid=\"d9ec45007b1692777189e3b26e44ca\">homogeneous</span> <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> discharge</p>\n\t</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/GT7Y26cqrURyyF7bSQxN1734253675.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/dhq7jYxOmwXdT78Giuur1734253823.mp3"
  },
  {
    "text": "<p>A 28-year-old woman presents to the clinic with complaints of a creamy fish-smelling vaginal discharge that has been ongoing for the past 2 weeks. On physical examination, the physician notes no signs of inflammation and a thin, white, homogeneous vaginal discharge. A vaginal wet mount was done which is attached below.<img alt=\"\" data-author=\"\" data-license=\"\" data-source=\"\" height=\"1066\" src=\"https://image.prepladder.com/content/YPxACF9pFjwpx29Q8I1W1720632142.png\" width=\"1600\" /></p>\n\n<p>Which of the following statements is incorrect regarding the disease?</p>",
    "choices": [
      {
        "id": 1,
        "text": "The causative organism is Gardnerella vaginalis."
      },
      {
        "id": 2,
        "text": "Detection of ribosomal RNA of Gardnerella vaginalis with PCR can be used as a method of diagnosis."
      },
      {
        "id": 3,
        "text": "Oral metronidazole is the treatment of choice given 500 mg for 7 days."
      },
      {
        "id": 4,
        "text": "Demonstration of more than 10% of typical cells as seen in the slide is diagnostic."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The diagnosis is <strong>bacterial vaginosis</strong> and the slide shows presence of<strong> clue cells</strong>, which are <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> epithelial cells embedded with <span class=\"customMeta\" data-dictid=\"810b65105416927771840934fe3e86\">coccobacilli</span> <strong>Gardnerella vaginalis</strong>. <strong>(Option A)</strong></p>\n\n<p>Presence of <strong>>20% of clue cells</strong> in total cell population is <strong>diagnostic</strong> of Bacterial vaginosis.</p>\n\n<p><strong>Diagnosis Methods and Treatment for Bacterial Vaginosis</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:608px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Diagnostic Methods</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Amsel's Criteria</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Presence of clue cells (more than 20% of the total cell population)</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Positive whiff test</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Vaginal pH greater than 4.5</li>\n\t\t\t</ul>\n\n\t\t\t<ul>\n\t\t\t\t<li>Thin, white, <span class=\"customMeta\" data-dictid=\"d9ec45007b1692777189e3b26e44ca\">homogeneous</span> <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> discharge</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\u00a0</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Microscopic Examination</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Detection of clue cells in <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> smear</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\u00a0</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Molecular Methods</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Detection of <span class=\"customMeta\" data-dictid=\"ff37e741eb1692777197a5d617b479\">ribosomal RNA</span> of <span class=\"customMeta\" data-dictid=\"f651d4bf411692777188dadc2fb8de\">Gardnerella</span> vaginalis using <span class=\"customMeta\" data-dictid=\"fa67319b42169277719498abc93db6\">PCR</span> <strong>(Option B)</strong></li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" rowspan=\"2\" style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Treatment:</strong></p>\n\n\t\t\t<p>First-Line Treatment <strong>(Option C)</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Oral Metronidazole: 500 mg BD for 7 days</li>\n\t\t\t\t<li>Tinidazole 2 g orally for 3 days</li>\n\t\t\t</ul>\n\n\t\t\t<p>Alternative Treatment</p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Clindamycin 300 mg orally BD for 7 days</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [
      "https://image.prepladder.com/content/YPxACF9pFjwpx29Q8I1W1720632142.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/PcVrkcaZ9G2ik2eqABaL1734253954.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/hfNxQznozzQVf8qSiiMG1734254052.mp3"
  },
  {
    "text": "<p>A 25-year-old female presents with complaints of a yellowish-green, foul-smelling vaginal discharge. She reports painful urination and pain during intercourse & no itching. On speculum examination, her vulva and vaginal walls appear inflamed. What is the causative agent?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Trichomonas vaginalis"
      },
      {
        "id": 2,
        "text": "Candida albicans"
      },
      {
        "id": 3,
        "text": "Gardnerella vaginalis"
      },
      {
        "id": 4,
        "text": "Neisseria gonorrhoeae"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Answer:</strong> (A) <span class=\"customMeta\" data-dictid=\"bf14a61da11692777200d31b43047d\">Trichomonas</span> vaginalis</p>\n\n<p><strong>Explanation:</strong><br />\nTrichomonas <span class=\"customMeta\" data-dictid=\"96ff088469169277720105f61eb97b\">vaginitis</span> is the <strong>most common</strong> cause of <span class=\"customMeta\" data-dictid=\"96ff088469169277720105f61eb97b\">vaginitis</span> in women of <span class=\"customMeta\" data-dictid=\"11e24b369816927771974383c7e17c\">reproductive</span> age.</p>\n\n<p>Symptoms include :</p>\n\n<ul>\n\t<li>Sudden, profuse, yellowish-green, frothy, foul-smelling discharge</li>\n\t<li>Irritation and <span class=\"customMeta\" data-dictid=\"8f179d376f16927771905338bc9387\">itching</span> in and around the <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> opening</li>\n\t<li>Painful urination</li>\n\t<li>Pain during intercourse</li>\n\t<li>Recurrent infections</li>\n\t<li>Inflamed vulva</li>\n\t<li>Inflamed <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> walls with small, <span class=\"customMeta\" data-dictid=\"77074d46b51692777196747de93965\">punctate</span> hemorrhages (\"strawberry cervix\")</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>Candida albicans: (<strong>Option B)</strong></p>\n\n<ul>\n\t<li>Characterized by a scanty, white, curdy <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> discharge</li>\n\t<li>Intense <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">vulvovaginal</span> <span class=\"customMeta\" data-dictid=\"8f179d376f16927771905338bc9387\">itching</span> present leading to erosions causing splash <span class=\"customMeta\" data-dictid=\"a066df2bb91692777186b26b297ea2\">dysuria</span> and dyspareunia</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>Gardnerella vaginalis: (<strong>Option C)</strong></p>\n\n<ul>\n\t<li>Characterized by a foul-smelling, thin, gray-white, or green-yellow <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> discharge</li>\n\t<li>Absence of itching, dysuria, or dyspareunia</li>\n</ul>\n\n<p>Neisseria gonorhhea(<strong>Option D)</strong></p>\n\n<p>It does not typically cause <span class=\"customMeta\" data-dictid=\"96ff088469169277720105f61eb97b\">vaginitis</span> alone. It can cause cervicitis, whose symptoms can <span class=\"customMeta\" data-dictid=\"ea564f2f5e1692777194df1391fd69\">overlap</span> with that of vaginitis.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/KqGCsmY9MipA6pniAFcW1734254257.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/i8YGcCpZzqSlgOGsBB5L1734254373.mp3"
  },
  {
    "text": "<p>A 25-year-old female presents with complaints of a sudden, profuse, and offensive vaginal discharge. On examination, her vulva is inflamed and her vaginal walls are red and inflamed with small, punctate, hemorrhagic spots as shown in the image. Which of the following statements is true in this scenario?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"253\" src=\"https://image.prepladder.com/content/BNEMiOM1VSRGx7Eey9881732273626.png\" width=\"333\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Vaginal pH < 4.5"
      },
      {
        "id": 2,
        "text": "Male sexual partners to be treated at the same time"
      },
      {
        "id": 3,
        "text": "Absence of pruritus"
      },
      {
        "id": 4,
        "text": "Treated by Intravaginal clotrimazole"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct answer:\u00a0B) Male sexual partners to be treated at the same time</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The presence of motile, pear-shaped <span class=\"customMeta\" data-dictid=\"9878bc208e169277720243c5c74543\">flagellated</span> <span class=\"customMeta\" data-dictid=\"bf14a61da11692777200d31b43047d\">trichomonas</span> on <span class=\"customMeta\" data-dictid=\"8bfe5df2c316927772026757237e09\">wet mount</span> <span class=\"customMeta\" data-dictid=\"51df8cdfc91692777192aa76f4de51\">microscopy</span> is a characteristic feature of <strong>Trichomonas vaginalis</strong>. <span class=\"customMeta\" data-dictid=\"769f690a2a1692777200123b020cad\">Trichomoniasis</span> is a sexually transmitted infection, so the<strong> patient's sexual partner should also be treated.</strong><br />\n\u00a0</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse; width:647px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Feature</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Trichomonas vaginalis vaginitis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Candida <span class=\"customMeta\" data-dictid=\"ec6a29c167169277718195e3b531cf\">albicans</span> <span class=\"customMeta\" data-dictid=\"96ff088469169277720105f61eb97b\">vaginitis</span> (Moniliasis)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Bacterial <span class=\"customMeta\" data-dictid=\"38a4d9f2381692777201cdc420326a\">Vaginosis</span> (BV)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>pH</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>\u2265 4.5</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>< 4.5</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>\u2265 4.5</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Other Symptoms</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>Itching and <span class=\"customMeta\" data-dictid=\"3a74ed0fcf16927771901a79847565\">irritation</span> in and around <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> opening, dysuria</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>Intense <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">vulvovaginal</span> <span class=\"customMeta\" data-dictid=\"c238cff71916927771965fb88e6cc4\">pruritus</span> (out of proportion to the discharge), dyspareunia,\u00a0splash dysuria</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>Generally not accompanied by <span class=\"customMeta\" data-dictid=\"8f179d376f16927771905338bc9387\">itching</span> or <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> but may be associated with complications such as <span class=\"customMeta\" data-dictid=\"2c2d0c2ee2169277719514f0315d81\">PID</span> and pregnancy complications</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>Motile trichomonads on <span class=\"customMeta\" data-dictid=\"8bfe5df2c316927772026757237e09\">wet mount</span> microscopy</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>Identification of mycelia, pseudohyphae, and spores by direct <span class=\"customMeta\" data-dictid=\"6777533153169277719804fcbbf2d1\">smear</span> and <span class=\"customMeta\" data-dictid=\"3b007026bd16927771997ae809b603\">staining</span> (methylene blue)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p><strong>Amsel's four <span class=\"customMeta\" data-dictid=\"552e9ef8811692777186997018b858\">diagnostic</span> criteria</strong> (three of four are sufficient): (1) <span class=\"customMeta\" data-dictid=\"0780d98cec1692777189247c5a9456\">Homogenous</span> <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> discharge, (2) <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">Vaginal</span> pH > 4.5, (3) Positive whiff test, (4) Clue cells</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Microscopy</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>Motile, pear-shaped, <span class=\"customMeta\" data-dictid=\"9878bc208e169277720243c5c74543\">flagellated</span> organisms</p>\n\n\t\t\t<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"180\" src=\"https://image.prepladder.com/content/pzqRfhey3p8IFdwG0xhA1732273725.png\" width=\"174\" /></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>Hyphae and buds, spores</p>\n\n\t\t\t<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"174\" src=\"https://image.prepladder.com/content/Bsv1Fgytnkot8jC7bR5W1732273752.png\" width=\"226\" /></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #131314; border-left:1px solid #131314; border-right:1px solid #131314; border-top:1px solid #131314; vertical-align:top\">\n\t\t\t<p>Clue cells (>20% of cells)</p>\n\n\t\t\t<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"205\" src=\"https://image.prepladder.com/content/Hp2jfmDYFxkOEvRhTQQd1732273776.png\" width=\"271\" /></p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [
      "https://image.prepladder.com/content/BNEMiOM1VSRGx7Eey9881732273626.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/pzqRfhey3p8IFdwG0xhA1732273725.png"
    ],
    "explanation_audio_eng": "https://image.prepladder.com/content/GLgHWSmki9SzgVIJvxNW1734254495.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/Db5joyGvkngz33mawmxH1734254580.mp3"
  },
  {
    "text": "<p>A 25 year old woman presents with a thick, white vaginal discharge as shown in the image. Pelvic examination reveals tenderness. A wet mount microscopy shows the presence of mycelia and pseudohyphae. Which of the following statements is true?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"228\" src=\"https://image.prepladder.com/content/EYm7pzq9i1qNyUohtpmd1732273836.png\" width=\"229\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Vaginal pH > 4.5"
      },
      {
        "id": 2,
        "text": "Presence of pruritus"
      },
      {
        "id": 3,
        "text": "Related to low-dose OCP use"
      },
      {
        "id": 4,
        "text": "Lactobacilli aids in the growth of this organism"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Presence\u00a0of pruritus</strong></p>\n\n<p><strong>Explanation: </strong><br />\nWomen with thick, white <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> <span class=\"customMeta\" data-dictid=\"9dd87431ba1692777186ecfb21d258\">discharge</span> with the presence of pseudohyphae is <strong>Candidal vaginitis</strong>. <strong>Intense <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">vulvovaginal</span> <span class=\"customMeta\" data-dictid=\"8f179d376f16927771905338bc9387\">itching</span> is a hallmark symptom of this condition</strong>.</p>\n\n<p><strong>Risk factors for developing this infection include:</strong></p>\n\n<ul>\n\t<li>Diabetes</li>\n\t<li>Pregnancy</li>\n\t<li>Use of <span class=\"customMeta\" data-dictid=\"583de7632e16927771834054d1be58\">broad-spectrum</span> antibiotics</li>\n\t<li>Immunosuppression and <span class=\"customMeta\" data-dictid=\"a48ce797cd1692777199efc43b3e4c\">steroid</span> use</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Clinical features: </strong></p>\n\n<ul>\n\t<li>Vaginal discharge</li>\n\t<li><strong>Intense <span class=\"customMeta\" data-dictid=\"8f179d376f16927771905338bc9387\">itching</span> of the <span class=\"customMeta\" data-dictid=\"b4d40892d71692777202db96deeb33\">vulva</span> and vagina</strong></li>\n\t<li>Pain during <span class=\"customMeta\" data-dictid=\"ad25936d1916927771900a1de2dd77\">intercourse</span> (dyspareunia) due to soreness</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Examination Findings: </strong></p>\n\n<ul>\n\t<li>A thick, white, curd-like discharge</li>\n\t<li>Pelvic examination may be tender, and removing the white <span class=\"customMeta\" data-dictid=\"9dd87431ba1692777186ecfb21d258\">discharge</span> can reveal multiple <span class=\"customMeta\" data-dictid=\"0d8cd9c1b516927771981287d4850f\">sore</span> spots</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Diagnosis</strong>:</p>\n\n<ul>\n\t<li>On KOH mount, the <strong>filamentous <span class=\"customMeta\" data-dictid=\"a1b06f401f1692777203a53393ba98\">form</span> of mycelia and pseudohyphae</strong> of the <span class=\"customMeta\" data-dictid=\"618e9d3b6416927772031d0260310e\">fungus</span> can be seen.</li>\n</ul>\n\n<p><strong>Low dose OCPs (Option C) </strong>is no longer thought to increase the risk of <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">vulvovaginal</span> candidiasis.\u00a0</p>\n\n<p><strong>Lactobacilli (Option D) </strong>inhibit the growth of <span class=\"customMeta\" data-dictid=\"5ab0081e8316927772037e0f7c5a79\">fungi</span> in the vagina.</p>",
    "question_images": [
      "https://image.prepladder.com/content/EYm7pzq9i1qNyUohtpmd1732273836.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/7sc5iFrPrbtzdXTNRqR51742454257.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/EORxskiSZaxrafR8IMpy1742454373.mp3"
  },
  {
    "text": "<p>A 28-year-old pregnant woman presents with complaints of itching, burning, and a thick, white vaginal discharge. The symptoms started a few days ago and have progressively worsened. She denies any fever or abdominal pain. On examination, there is vulvar erythema and a thick, curdy white discharge adherent to the vaginal walls. She is sexually active and uses oral contraceptives for birth control. A wet mount preparation reveals findings as shown in the image.</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/34EQN9XiPvZFYrYBwYjj1750068248.png\" width=\"2542\" /></p>\n\n<p>Based on the clinical scenario, what is the most appropriate first-line treatment for this patient\u2019s condition?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Oral Metronidazole"
      },
      {
        "id": 2,
        "text": "Topical Nystatin"
      },
      {
        "id": 3,
        "text": "Topical Clindamycin"
      },
      {
        "id": 4,
        "text": "Topical Miconazole"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct answer: D)\u00a0Topical Miconazole</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The patient's symptoms and examination findings along with presence of <span class=\"customMeta\" data-dictid=\"38e3eb755216927771834bb7e72a61\">budding</span> <span class=\"customMeta\" data-dictid=\"3655d8847516927772026e1e299f2a\">yeast</span> and pseudohyphae on a <span class=\"customMeta\" data-dictid=\"8bfe5df2c316927772026757237e09\">wet mount</span> preparation confirms <strong>vaginal candidiasis</strong>.</li>\n\t<li><strong>Miconazole </strong>is an <span class=\"customMeta\" data-dictid=\"3f27dd97dc1692777182145b23c887\">azole</span> <span class=\"customMeta\" data-dictid=\"c929a2b71516927771812a8b7b7ec3\">antifungal</span> agent effective against <span class=\"customMeta\" data-dictid=\"f54d5c5cf11692777183318f259e5f\">Candida</span> species. It is used as a first-line treatment for <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">vulvovaginal</span> <span class=\"customMeta\" data-dictid=\"39ca145a0f1692777183a33d06e96d\">candidiasis</span> either as <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> cream (2% or 4%) or a <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> <span class=\"customMeta\" data-dictid=\"ae03821ca21692777199c38e645d41\">suppository</span> (100 mg or 200 mg or 1200 mg).</li>\n</ul>\n\n<p><strong>Recommended Regimens for Uncomplicated <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">Vulvovaginal</span> Candidiasis:</strong></p>\n\n<ul>\n\t<li><strong>Clotrimazole </strong>\n\n\t<ul>\n\t\t<li>1% cream 5 g intravaginally daily for 7\u201314 days or 2% cream for 3 days</li>\n\t</ul>\n\t</li>\n\t<li><strong>Miconazole </strong>\n\t<ul>\n\t\t<li>2% cream 5 g intravaginally daily for 7 days or 4% cream for 3 days</li>\n\t\t<li><strong>Vaginal <span class=\"customMeta\" data-dictid=\"ae03821ca21692777199c38e645d41\">suppository</span> </strong>(one <span class=\"customMeta\" data-dictid=\"ae03821ca21692777199c38e645d41\">suppository</span> daily)<strong>: </strong>100 mg for 7 days or 200 mg for 3 days or 1,200 mg for 1\u00a0day</li>\n\t</ul>\n\t</li>\n\t<li><strong>Butoconazole </strong>2% cream 5 g intravaginally in a single application</li>\n\t<li><strong>Oral Agent - <span class=\"customMeta\" data-dictid=\"e3d616618b16927772022df400a411\">Fluconazole</span> </strong>150 mg orally in a single dose</li>\n</ul>\n\n<p><strong>Recommended Regimens for Complicated <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">Vulvovaginal</span> Candidiasis:</strong></p>\n\n<ul>\n\t<li>An additional 150-mg dose of <span class=\"customMeta\" data-dictid=\"e3d616618b16927772022df400a411\">fluconazole</span> given 72 hours after the first dose.</li>\n\t<li>Adjunctive treatment: 10\u201314 days of <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> therapy.</li>\n\t<li>A weak <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> steroid, such as 1% <span class=\"customMeta\" data-dictid=\"3ad7a8484f16927771892d460daa4b\">hydrocortisone</span> cream, for external <span class=\"customMeta\" data-dictid=\"5cbfef58cf16927771902add64908e\">irritative</span> symptoms.</li>\n</ul>\n\n<p><strong>Treatment of Recurrent <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">Vulvovaginal</span> Candidiasis:</strong></p>\n\n<ul>\n\t<li>Fluconazole (150 mg every 3 days for three doses).</li>\n\t<li>Maintenance: Fluconazole, 150 mg weekly for 6 months</li>\n\t<li>Boric acid 600-mg <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> <span class=\"customMeta\" data-dictid=\"ae03821ca21692777199c38e645d41\">suppository</span> for 2 weeks, if <span class=\"customMeta\" data-dictid=\"1d849ebc9b1692777197d4af1fa8d2\">recurrence</span> persists or in patients with non-albicans candida.</li>\n</ul>\n\n<p><strong>Oral Metronidazole\u00a0(Option A)</strong> is used primarily for the treatment of <span class=\"customMeta\" data-dictid=\"37bea4cea61692777182730bcddd46\">bacterial vaginosis</span> and certain <span class=\"customMeta\" data-dictid=\"c0433f52ad1692777194c2ffb6fc63\">parasitic</span> infections.</p>\n\n<p><strong>Topical Nystatin\u00a0(Option B)</strong> is primarily used for the treatment of oral <span class=\"customMeta\" data-dictid=\"386085916516927772004401adcb6d\">thrush</span> (oral candidiasis) and not typically indicated for <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> candidiasis.</p>\n\n<p><strong>Topical Clindamycin\u00a0(Option C)</strong> is effective against bacterial infections, particularly <span class=\"customMeta\" data-dictid=\"4880fc99551692777181e25a64560f\">anaerobic</span> bacteria.</p>",
    "question_images": [
      "https://image.prepladder.com/content/34EQN9XiPvZFYrYBwYjj1750068248.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/QjVwKkNj3vJ35zLoqBMs1734255194.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/EgrBFj7qp11sNIKtj3YL1734255290.mp3"
  },
  {
    "text": "<p>A 34-year-old woman presents with severe vaginal itching, thick white discharge, and significant vulvar swelling and redness that have persisted for two weeks. She has a history of uncontrolled diabetes and has had three similar episodes in the past six months. On examination, the vaginal mucosa appears erythematous and edematous. Microscopic examination reveals yeast cells and pseudohyphae. What is the most likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Uncomplicated vaginal candidiasis"
      },
      {
        "id": 2,
        "text": "Complicated vaginal candidiasis"
      },
      {
        "id": 3,
        "text": "Bacterial vaginosis"
      },
      {
        "id": 4,
        "text": "Trichomoniasis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Explanation:</strong><br />\nThis patient's presentation suggests <strong>complicated <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> candidiasis</strong> due to the presence of <strong>severe symptoms, <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> episodes, and uncontrolled diabetes</strong> that predisposes her to more severe infections.</p>\n\n<p><strong><u>Uncomplicated vs Complicated <span class=\"customMeta\" data-dictid=\"b0b814e5441692777202c969196f0e\">Vulvovaginal</span> Candidiasis:</u></strong></p>\n\n<table align=\"center\" cellspacing=\"0\" style=\"border-collapse:collapse; width:529px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Uncomplicated VVC</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p><strong>Complicated VVC</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Symptoms: Mild to moderate and rare in occurrence</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Symptoms: <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">Recurrent</span> and severe</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Caused by <span class=\"customMeta\" data-dictid=\"f54d5c5cf11692777183318f259e5f\">Candida</span> albicans</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Non-albicans <span class=\"customMeta\" data-dictid=\"f54d5c5cf11692777183318f259e5f\">candida</span> (C.glabrata, C.tropicalis)</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>In immunocompetent individuals</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>In <span class=\"customMeta\" data-dictid=\"a3cc9f976916927771895692a1a8a0\">Immunocompromised</span> individuals, eg., diabetics, HIV, on immunosuppressants.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/8oCWyZRsfWod0gdlULjr1734255470.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/0o56xxQMwGYmncKGUdTC1734255568.mp3"
  },
  {
    "text": "<p>A 32-year-old woman presents with frothy, malodorous vaginal discharge and vulvar itching. On examination, vaginal pH is elevated (>4.5), and wet mount microscopy reveals motile trichomonads. What is the appropriate management regarding treatment of her male sexual partner?</p>",
    "choices": [
      {
        "id": 1,
        "text": "No treatment is necessary for the male partner"
      },
      {
        "id": 2,
        "text": "Male partner should be treated with metronidazole or tinidazole"
      },
      {
        "id": 3,
        "text": "Male partner should receive routine screening but no treatment is necessary"
      },
      {
        "id": 4,
        "text": "Male partner should be treated with topical antifungal cream"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Explanation: </strong></p>\n\n<p><strong>Trichomoniasis </strong>is a <span class=\"customMeta\" data-dictid=\"1e049f568716927771985e276b86f0\">sexually transmitted infection</span> caused by <span class=\"customMeta\" data-dictid=\"bf14a61da11692777200d31b43047d\">Trichomonas</span> vaginalis. Male partners are often <span class=\"customMeta\" data-dictid=\"d1a9a79f701692777182066af09044\">asymptomatic</span> carriers and should be treated with <span class=\"customMeta\" data-dictid=\"452c41e7811692777192cd0d89fdc7\">metronidazole</span> or <span class=\"customMeta\" data-dictid=\"72211d4b611692777200f455591a28\">tinidazole</span> to prevent <span class=\"customMeta\" data-dictid=\"0e0a6ab6df1692777197e8873ce077\">reinfection</span> of the female partner.</p>\n\n<p><strong>Treatment schedule:</strong></p>\n\n<ul>\n\t<li>Metronidazole 200 mg thrice daily orally for 1 week or a single dose of 2 g.</li>\n\t<li>Tinidazole single dose 2 g orally is equally effective.</li>\n\t<li>Same <span class=\"customMeta\" data-dictid=\"988bd8e7c71692777197b9f1d5d5ca\">regimen</span> for both partners.</li>\n\t<li>The male partner should use a <span class=\"customMeta\" data-dictid=\"672aab321d16927771840ecbc284dd\">condom</span> during <span class=\"customMeta\" data-dictid=\"ad25936d1916927771900a1de2dd77\">intercourse</span> until the female partner's treatment is completed.</li>\n</ul>\n\n<p>Male partners should also be treated in cases of<strong> <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> <span class=\"customMeta\" data-dictid=\"39ca145a0f1692777183a33d06e96d\">candidiasis</span> </strong>where the partner is treated with <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> nystatin.</p>\n\n<p>In case of bacterial vaginosis, treatment of male partner is not necessary.</p>\n\n<p><strong>Option A </strong>Male partners can be <span class=\"customMeta\" data-dictid=\"d1a9a79f701692777182066af09044\">asymptomatic</span> carriers and can transmit the infection back to the female partner even after her treatment. Treating the male partner helps reduce the risk of reinfection.</p>\n\n<p><strong>Option C: </strong>Screening identifies <span class=\"customMeta\" data-dictid=\"d1a9a79f701692777182066af09044\">asymptomatic</span> carriers, but treatment is essential to prevent transmission and <span class=\"customMeta\" data-dictid=\"1d849ebc9b1692777197d4af1fa8d2\">recurrence</span> of the infection between sexual partners.</p>\n\n<p><strong>Option D:</strong> <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">Topical</span> <span class=\"customMeta\" data-dictid=\"c929a2b71516927771812a8b7b7ec3\">antifungal</span> creams are used to treat fungal infections like candidiasis, not <span class=\"customMeta\" data-dictid=\"71626f9d9d1692777196c424721ea2\">protozoal</span> infections like trichomoniasis.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/dF6FedLboJprrgL1VbUq1734255625.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/ZY2mjUGDqsP4mstWEsZw1734255704.mp3"
  },
  {
    "text": "<p>A 6-year-old girl was brought to the pediatric clinic by her mother, for itching and a burning sensation in the genital area for the past few days. She has also noticed a malodorous, yellow-green vaginal discharge. The mother mentions that her daughter has been practicing good hygiene, and there has been no recent illness or use of antibiotics. The physical examination reveals erythema and slight swelling of the vulva, with a foul-smelling discharge. There is no fever or systemic illness.<strong> </strong>What is the most likely cause of the child\u2019s symptoms?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Bacterial vaginosis"
      },
      {
        "id": 2,
        "text": "Candidiasis"
      },
      {
        "id": 3,
        "text": "Trichomoniasis"
      },
      {
        "id": 4,
        "text": "Nonspecific vulvovaginitis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Answer: </strong>d) <span class=\"customMeta\" data-dictid=\"70d4f989c31692777193372189cfbb\">Nonspecific</span> vulvovaginitis</p>\n\n<p><strong>Explanation: </strong><br />\nNonspecific <span class=\"customMeta\" data-dictid=\"56613efa6f1692777202421e541d42\">vulvovaginitis</span> is the most common cause of <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> symptoms in <strong>prepubertal girls.</strong> Due to lack of estrogen, the <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> defense is lost and the infection occurs easily, once introduced inside the vagina.</p>\n\n<p><strong>Etiology of <span class=\"customMeta\" data-dictid=\"70d4f989c31692777193372189cfbb\">Nonspecific</span> vulvovaginitis:</strong></p>\n\n<ul>\n\t<li>Presence of foreign body in the vagina</li>\n\t<li>Associated intestinal infestations\u2014threadworm being the most common.</li>\n\t<li>Rarely, more specific infection caused by <span class=\"customMeta\" data-dictid=\"f54d5c5cf11692777183318f259e5f\">Candida</span> <span class=\"customMeta\" data-dictid=\"ec6a29c167169277718195e3b531cf\">albicans</span> or <span class=\"customMeta\" data-dictid=\"01374b3988169277718883ff1ef02c\">Gonococcus</span> may be implicated.</li>\n</ul>\n\n<p><strong>Clinical Features</strong></p>\n\n<ul>\n\t<li>Pruritus- varying degree</li>\n\t<li>Vaginal discharge</li>\n\t<li>Painful micturition</li>\n\t<li>On inspection: soreness of the vulva, <span class=\"customMeta\" data-dictid=\"99041e636a169277719121835ed133\">labia</span> minora may be swollen and red</li>\n</ul>\n\n<p><strong>Investigations</strong></p>\n\n<ul>\n\t<li>Direct <span class=\"customMeta\" data-dictid=\"51df8cdfc91692777192aa76f4de51\">microscopy</span> and <span class=\"customMeta\" data-dictid=\"f0347e3a7a1692777188cf90c50d6f\">gram</span> <span class=\"customMeta\" data-dictid=\"3b007026bd16927771997ae809b603\">staining</span> of <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> discharge</li>\n\t<li>Culture in Stuart\u2019s media</li>\n\t<li>Stool examination- to rule out intestinal infestations</li>\n\t<li>Vaginoscopy- for foreign body</li>\n</ul>\n\n<p><strong>Treatment</strong></p>\n\n<ul>\n\t<li>If cause is unknown- Simple <span class=\"customMeta\" data-dictid=\"befda305051692777195a95ee0695a\">perineal</span> hygiene.</li>\n\t<li>In cases of soreness or after removal of foreign body, <span class=\"customMeta\" data-dictid=\"a58dd68b011692777187eb72633aac\">estrogen</span> cream is to be applied locally, every night for two weeks.</li>\n\t<li>When the specific organisms are detected, therapy should be directed to cure the condition.</li>\n</ul>\n\n<p>Option a) Bacterial vaginosis- Gray white to green yellow white discharge, thin, adherent <span class=\"customMeta\" data-dictid=\"d9ec45007b1692777189e3b26e44ca\">homogeneous</span> in consistency, positive Whiff test (Fishy amine)</p>\n\n<p>Option b) Candidiasis- Thick curdy white discharge</p>\n\n<p>Option c) Trichomoniasis- Gray, yellow or green, thin, frothy, adherent discharge, has unpleasant odor</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/Xj7DmMpLUhwKeKhjFoUb1734256178.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/I8fkDX4v55sh3ZGgm2a91734256435.mp3"
  },
  {
    "text": "<p>A 25-year-old woman with multiple sexual partners presents with vaginal discharge, lower abdominal pain, and dysuria. She has cervical motion tenderness and purulent vaginal discharge as shown in the image. Empirical treatment is started. Which of the following is the most appropriate treatment?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"160\" src=\"https://image.prepladder.com/content/g5lVln2sxUiVDOYsTJS91732274198.png\" width=\"274\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Metronidazole"
      },
      {
        "id": 2,
        "text": "Azithromycin"
      },
      {
        "id": 3,
        "text": "Clindamycin"
      },
      {
        "id": 4,
        "text": "Fluconazole"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Answer: </strong>b) Azithromycin</p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>This patient presents with symptoms suggestive of <span class=\"customMeta\" data-dictid=\"7cd6eb19341692777195d83aafdcb3\">pelvic</span> <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> disease (PID), commonly caused by <em>Chlamydia trachomatis</em> and <em>Neisseria gonorrhoeae</em>. <span class=\"customMeta\" data-dictid=\"765229d44a1692777182fb0343abf4\">Azithromycin</span> is the <span class=\"customMeta\" data-dictid=\"95c41bced21692777187fa909c1937\">empirical</span> treatment as it covers both.</p>\n\n<p><strong>Metronidazole </strong><strong>(Option A)</strong><strong> </strong>is the first-line treatment for <span class=\"customMeta\" data-dictid=\"769f690a2a1692777200123b020cad\">trichomoniasis</span> and bacterial vaginosis.</p>\n\n<p><strong>Clindamycin </strong><strong>(Option C) </strong>is used in the treatment of <span class=\"customMeta\" data-dictid=\"bf14a61da11692777200d31b43047d\">trichomonas</span> vaginalis, <span class=\"customMeta\" data-dictid=\"b02812a466169277719090c2d27868\">intra-abdominal</span> infections, lower <span class=\"customMeta\" data-dictid=\"cfad80a0f716927771979aae100f95\">respiratory</span> <span class=\"customMeta\" data-dictid=\"1a1307223f16927772017a994bfc39\">tract</span> infections, and <span class=\"customMeta\" data-dictid=\"c2f4c63c3316927771885c7b34313e\">gynecological</span> infections (gram-positive <span class=\"customMeta\" data-dictid=\"789c9dd31a16927771801dd2426384\">aerobic</span> + <span class=\"customMeta\" data-dictid=\"c72cd5f69316927771883c73649d86\">gram-positive</span> and <span class=\"customMeta\" data-dictid=\"08cb2b02c81692777188b83845c84c\">gram-negative</span> <span class=\"customMeta\" data-dictid=\"4880fc99551692777181e25a64560f\">anaerobic</span> coverage)</p>\n\n<p><strong>Fluconazole </strong><strong>(Option D) </strong>is primarily used in the treatment of candidiasis</p>",
    "question_images": [
      "https://image.prepladder.com/content/g5lVln2sxUiVDOYsTJS91732274198.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/0ULF0rz3SZNcbmkwF5xT1734256526.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/DEScey3mJhvJVzqxRZsb1734256591.mp3"
  },
  {
    "text": "<p>A 62-year-old woman presents to the hospital with complaints of vaginal dryness, burning, and discomfort during sexual intercourse over the past year. She also reports increased urinary frequency and occasional dysuria but has had no urinary tract infections confirmed by culture. She has been postmenopausal for 12 years and has not used hormone replacement therapy. On physical examination, the vaginal epithelium is noted to be pale, thin, and friable with reduced vaginal elasticity. What is the most likely diagnosis?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Atrophic endometritis"
      },
      {
        "id": 2,
        "text": "Trichomoniasis"
      },
      {
        "id": 3,
        "text": "Atrophic vaginitis"
      },
      {
        "id": 4,
        "text": "Bacterial vaginosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Answer: </strong>c) Atrophic vaginitis</p>\n\n<p><strong>Explanation: </strong><br />\nIn <span class=\"customMeta\" data-dictid=\"c9ba8fa63616927771962d84263e40\">postmenopausal</span> women, the <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> defense is lost. <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">Vaginal</span> <span class=\"customMeta\" data-dictid=\"31ae8f4dc51692777193069d92be37\">mucosa</span> is thin due to <span class=\"customMeta\" data-dictid=\"209b85faf71692777185767d43e3bd\">deficiency</span> of <span class=\"customMeta\" data-dictid=\"a58dd68b011692777187eb72633aac\">estrogen</span> and is more <span class=\"customMeta\" data-dictid=\"55691242bb1692777199360f64cb67\">susceptible</span> to infection and trauma leading to atrophic vaginitis. There may be <span class=\"customMeta\" data-dictid=\"af1a0ced9d1692777186a726f04230\">desquamation</span> of the <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> <span class=\"customMeta\" data-dictid=\"53782f88d31692777187177cb73b24\">epithelium</span> which may lead to formation of adhesions and bands between the walls.</p>\n\n<p><strong>Clinical Features:</strong></p>\n\n<ul>\n\t<li>Yellowish or blood stained <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> discharge</li>\n\t<li>Discomfort, dryness, soreness in the vulva</li>\n\t<li>Dyspareunia.</li>\n</ul>\n\n<p><strong>On Examination:</strong></p>\n\n<ul>\n\t<li>Evidences of <span class=\"customMeta\" data-dictid=\"c238cff71916927771965fb88e6cc4\">pruritus</span> vulvae.</li>\n\t<li>Vaginal examination is often painful and the walls are found inflamed.</li>\n</ul>\n\n<p><strong>Diagnosis</strong>: Mainly clinical, however <span class=\"customMeta\" data-dictid=\"f13bb39af816927771989e731b0502\">senile</span> <span class=\"customMeta\" data-dictid=\"aea628f7ad1692777187a9d0affa20\">endometritis</span> may coexist and <span class=\"customMeta\" data-dictid=\"988c19e3131692777183b6744d1920\">carcinoma</span> body or the <span class=\"customMeta\" data-dictid=\"4ac19545431692777184956c031e64\">cervix</span> should be excluded prior to therapy.</p>\n\n<p><strong>Treatment:</strong></p>\n\n<ul>\n\t<li>Improvement of general health and treatment of infection if present should be done.</li>\n\t<li>Systemic <span class=\"customMeta\" data-dictid=\"a58dd68b011692777187eb72633aac\">estrogen</span> therapy may be considered if there is no contraindication. This improves the <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> epithelium, raises <span class=\"customMeta\" data-dictid=\"2e2aa646ab1692777188e3eb8286d8\">glycogen</span> content, and lowers <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> pH.</li>\n\t<li>Intravaginal application of <span class=\"customMeta\" data-dictid=\"a58dd68b011692777187eb72633aac\">estrogen</span> cream by an <span class=\"customMeta\" data-dictid=\"d92c980eca169277718111534b11c6\">applicator</span> is also effective. About one-third of the <span class=\"customMeta\" data-dictid=\"9a1e50b8221692777201b95b66c9de\">vaginal</span> <span class=\"customMeta\" data-dictid=\"a58dd68b011692777187eb72633aac\">estrogen</span> is systemically absorbed.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": "https://image.prepladder.com/content/7Do8jxuMVcOPnatoNpYr1734256739.mp3",
    "explanation_audio_hin": "https://image.prepladder.com/content/LYenZ0kj5IRF4GdCc3Rk1734256830.mp3"
  }
];
        let quizName = '34 Vaginitis And Syndromic Approach For Vaginal Discharge';
        let hierarchy = ["PrepLadder", "qBank", "Obstetrics & Gynecology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>