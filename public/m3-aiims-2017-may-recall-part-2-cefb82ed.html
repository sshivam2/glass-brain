<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M3 - Aiims 2017 May Recall Part-2 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2017-18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A young patient presented with hypoparathyroidism, absent thymus and tetany. Which of the following marked areas in the picture is defective in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The Image shows pharyngeal pouches and based on the clinical history, the patient most likely has DiGeorge syndrome(thymic, parathyroid, and cardiac defects). It is caused by defective development of <strong>third</strong> and <strong>fourth pharyngeal pouch</strong>.</p>\n<p>In the diagram,&nbsp;</p>\n<p>C: Points towards third pharyngeal pouch which gives rise to inferior parathyroid gland and <strong>thymus</strong>. <br />A: Fourth pharyngeal pouch, Superior parathyroid gland and ultimobranchial body.<br />B: First pharyngeal pouch, middle ear cavity and epithelial lining of auditory tube.<br />D: Second pharyngeal pouch, palatine tonsil</p>\n<p>Since in the above question, the thymus is absent, C will be the most appropirate answer.</p>\n<p><strong>DiGeorge syndrome</strong> is a complex embryopathy that is caused by hemizygous interstitial deletion of <strong>chromosome 22,</strong> leading to multiple developmental defects, including conotruncal defects, hypoparathyroidism, and dysmorphic syndrome. <br />Microdeletion at <strong>chromosome 22q11</strong> can lead to variable presentations including<strong> C</strong>left palate, <strong>A</strong>bnormal facies, <strong>T</strong>hymic aplasia leading to T-cell deficiency, <strong>C</strong>ardiac defects, and <strong>H</strong>ypocalcemia 2&deg; to parathyroid aplasia.</p>\n<p>Mnemonic:<strong> CATCH-22</strong></p>\n<p>Velocardiofacial syndrome&mdash;palate, facial, and cardiac defects.</p>",
    "explanation_video": "",
    "question_images": [
      "https://daily-rounds-staging.s3.amazonaws.com/uploads/4da071855f6e4ac7adc05f3f98a99a28.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3299188308f9489ab844edf8be3b9b3ex1280x1189.JPEG"
    ]
  },
  {
    "text": "Vertebral artery is related to which of the following areas ?",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Vertebral artery passes through the foramen transversarium<strong> (area marked C)</strong> in the transverse processes of all of the cervical vertebrae (except the seventh vertebra) and enters the cranium through the foramen magnum</p>\n<p>In the given image:</p>\n<ul>\n<li>A represents posterior arch</li>\n<li>B represents facet for occipital condyles.</li>\n<li>C represents Foramen transversarium</li>\n<li>D represents transverse process</li>\n</ul>\n<p>&nbsp;</p>\n<p><br /><br /></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6511cb17f9ba40d9951b7a2335e02294.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c4fb18d7880d411da968c03de45d7dc4x1280x1076.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/39e878be8a54453498fd8411d844831fx800x570.PNG"
    ]
  },
  {
    "text": "The below diagram shows the epiploic foramen. The structure marked in the figure corresponds to the superior boundary. What structure is it?",
    "choices": [
      {
        "id": 1,
        "text": "Duodenum"
      },
      {
        "id": 2,
        "text": "IVC"
      },
      {
        "id": 3,
        "text": "Caudate lobe"
      },
      {
        "id": 4,
        "text": "Lesser Omentum"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The structure is caudate lobe.</p>\n<p>Caudate lobe forms the superior boundary of epiploic foramen.</p>\n<table style=\"height: 141px; width: 328px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 13px;\">\n<td style=\"width: 323px; height: 13px;\" colspan=\"2\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Epiploic foramen</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 123px; height: 13px;\">Boundaries</td>\n<td style=\"width: 200px; height: 13px;\">Structures</td>\n</tr>\n<tr style=\"height: 40px;\">\n<td style=\"width: 123px; height: 40px;\">Anterior</td>\n<td style=\"width: 200px; height: 40px;\">Lesser omentum and portal triad (hepatic artery, bile duct and portal vein)</td>\n</tr>\n<tr style=\"height: 84px;\">\n<td style=\"width: 123px; height: 84px;\">Posterior <strong>(SIT)</strong></td>\n<td style=\"width: 200px; height: 84px;\">\n<p><strong>S</strong>uprarenal gland</p>\n<p><strong>I</strong>VC</p>\n<p><strong>T</strong>12 vertebra</p>\n</td>\n</tr>\n<tr style=\"height: 13.6px;\">\n<td style=\"width: 123px; height: 13.6px;\">Superior</td>\n<td style=\"width: 200px; height: 13.6px;\">Caudate process of liver</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 123px; height: 13px;\">Inferior</td>\n<td style=\"width: 200px; height: 13px;\">\n<p>First part of duodenum&nbsp;</p>\n<p>Horizontal part of hepatic artery</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/87740c707b964c199792cbbd2ca95632.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5bc22220f01843fc8ea4730e3eb391cax1280x919.JPEG"
    ]
  },
  {
    "text": "In the 2 vessels shown below, assume the pressure along both the vessels is the same and both follow linear flow pattern. What will be the amount of blood flow in A compared to B",
    "choices": [
      {
        "id": 1,
        "text": "4 times"
      },
      {
        "id": 2,
        "text": "32 times"
      },
      {
        "id": 3,
        "text": "8 times"
      },
      {
        "id": 4,
        "text": "16 times"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The relationship between the flow in a long narrow tube, the viscosity of the fluid, and the radius of the tube is expressed mathematically in the <strong>Poiseuille-Hagen formula</strong>:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c955aa863429448297ea4fa768faa66e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient has a \u200bblood glucose level of 200 mg/dL and GFR of 90 ml/min. What is the amount of glucose excreted if the transport maximum of the patient is as shown below?",
    "choices": [
      {
        "id": 1,
        "text": "80 mg/min"
      },
      {
        "id": 2,
        "text": "50 mg/min"
      },
      {
        "id": 3,
        "text": "40 mg/min"
      },
      {
        "id": 4,
        "text": "30 mg/min"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The amount of Glucose excreted in the above scenario is <strong>30 mg/min.</strong></p>\n<p>Normally, glucose is filtered into the tubular secretion. The filtered glucose is reabsorbed by glucose transportes in the proximal tubule of the nephron. When blood glucose levels are normal all the glucose is absorbed back into the blood, and very minute quantities are excreted in urine.</p>\n<p>The maximum rate at which the glucose can be reabsorbed by the transporters is known as the&nbsp;<strong>transport maxiumum (Tm).&nbsp;</strong>When Tm is reached, all the glucose transporters gets saturated and cannot reabsorb more glucose.</p>\n<p>The <strong>renal threshold for glucose</strong> is the plasma glucose concentration beyond which the filtered glucose exceeds the ability of the tubule to reaborb (Tm), such that, the excess of filtered glucose is excreted in the urine.</p>\n<p>&nbsp;</p>\n<p><strong>Calculation:</strong></p>\n<p><strong>Step 1:</strong> <strong>Calculate total filtered glucose:</strong></p>\n<p>In this question,</p>\n<ul>\n<li>GFR = 90 ml/min</li>\n<li>Plasma glucose concentration = 200 mg/dL= 2 mg/ml (1dL=100 ml).</li>\n<li><strong>Total filtered glucose = GFR X Plasma glucose concentration</strong>.</li>\n</ul>\n<p style=\"padding-left: 60px;\">= 90 ml/min X 2 mg/ml<br />= 180 mg/min.</p>\n<p><strong>Step 2:</strong> <strong>Check transport maximum: </strong></p>\n<p>In the above question transport maximum is 150 mg/min.</p>\n<p><strong>Step 3: Calculate the excretion:</strong></p>\n<p>Excretion = Total filtered glucose - Total reabsorbed glucose (Transport Maximum)</p>\n<p style=\"padding-left: 60px;\">= 180-150 mg/min<br />= 30 mg/min</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1a5c198398b648cfb6402e222c8a9ba0.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following structures of the scapula is palpable in the infraclavicular fossa?",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The part of the scapula marked as \"A\" in this image is palpable and it is the coracoid process.</p>\n<p>The apex of the coracoid process lies approximately 2.5cm below the clavicle , immediately lateral to the infraclavicular fossa (deltopectoral triangle).</p>\n<p>Hence, the coracoid process can be palpated below the clavicle.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/35f116a297b849fbb6797a51931566c2.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "The flow-volume curve after spirometry in patient 1 is given below. The most likely diagnosis in this patient is______.",
    "choices": [
      {
        "id": 1,
        "text": "Endobronchial neoplasm"
      },
      {
        "id": 2,
        "text": "Bronchial Asthma"
      },
      {
        "id": 3,
        "text": "Myasthenia gravis"
      },
      {
        "id": 4,
        "text": "Emphysema"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most likely diagnosis in patient 1 with restrictive pattern on flow-volume curve is <strong>Myasthenia gravis</strong>.</p>\n<p>The flow volume curve above (patient 1) shows <strong>decreased</strong> Total lung capacity, Vital capacity, Residual volume. Hence, the loop shifts towards the <strong>right</strong>. This is seen in restrictive lung disease.</p>\n<p>Myasthenia gravis presents with <strong>ventilatory restriction</strong> due to reduced respiratory muscle strength.</p>\n<p>Asthma, Emphysema, Endobronchial neoplasm present with <strong>obstructive flow pattern</strong>. The increased total lung capacity, vital capacity and residual volume will shift the flow volume loop to<strong> left</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/47b26cd5fea1441c82b123306dcc94f5.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/371044d7f75e4453b21c7d9dd27d70acx1279x1039.JPEG"
    ]
  },
  {
    "text": "Which of the following is the reason for using phenylbutyrate in urea cycle disorders?",
    "choices": [
      {
        "id": 1,
        "text": "It maintains renal output"
      },
      {
        "id": 2,
        "text": "It scavenges nitrogen"
      },
      {
        "id": 3,
        "text": "It maintains energy production"
      },
      {
        "id": 4,
        "text": "It activates enzymes"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Phenylbutyrate scavenges nitrogen</strong> by combining with amino acids to form a more water-soluble product, which can be easily excreted by the kidneys.&nbsp;</p>\n<p>Phenylbutyrate is metabolised to form phenyl acetate which combines with glutamine to form phenyl acetyl glutamine and is excreted in urine.</p>\n<p>Other substances that can be used as nitrogen scavengers are:</p>\n<ul>\n<li>Combination of benzoate (forms hippurate on combining with endogenous glycine)</li>\n<li>Phenylacetate (forms phenylacetylglutamine on combining with glutamine)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Under anaerobic metabolism which of the following substrates yields 3 molecules of ATP ?",
    "choices": [
      {
        "id": 1,
        "text": "Glycogen"
      },
      {
        "id": 2,
        "text": "Amino acid"
      },
      {
        "id": 3,
        "text": "Glucose"
      },
      {
        "id": 4,
        "text": "Galactose"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Breakdown of glycogen yields glucose-6-phosphate which can enter glycolysis pathway. Since it bypasses first step One ATP is saved and Anaerobic glycolysis yields 3 ATPs.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/bc1a06e69f08491e868a2a4096206fbex1117x706.JPEG",
      "https://cdn1.dailyrounds.org/uploads/4f7ad71c22c5498ba1b874bdec21db54x636x375.JPEG"
    ]
  },
  {
    "text": "Which of the following site does the restriction enzyme act when RFLP is used in-order to identify the five different species of staphylococci in a surgical ICU?",
    "choices": [
      {
        "id": 1,
        "text": "ATGGAC-TACGTG"
      },
      {
        "id": 2,
        "text": "GATATC- CTATAG"
      },
      {
        "id": 3,
        "text": "TAGATA-ATCTAT"
      },
      {
        "id": 4,
        "text": "AATATA-TATAAT"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Restriction endonuclease</strong> enzymes act at <strong>specific palindromic sequences</strong> that create DNA fragments of different lengths. By analyzing the fragments, specific species of bacteria can be identified. Option B is the only palindromic sequence here, hence it is the answer.</p>\n<p>RFLP is a restriction fragment length polymorphism&nbsp;(RFLP) analysis technique that involves cutting a particular region of DNA with known variability, with restriction enzymes, then separating the DNA fragments by agarose gel electrophoresis&nbsp;and determining the number of fragments and relative sizes.&nbsp;</p>\n<p><strong>Cleavage of a sample of DNA</strong> with a <strong>restriction enzyme</strong> produces a <strong>characteristic set of smaller DNA fragments</strong>. Deviations in the normal product pattern, produce RFLPs that occur if a mutation renders a restriction site unrecognizable and alternatively, generates a new recognition site.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the organism from the given staining technique.",
    "choices": [
      {
        "id": 1,
        "text": "Mycobacterium leprae"
      },
      {
        "id": 2,
        "text": "Mycobacterium tuberculosis"
      },
      {
        "id": 3,
        "text": "Actinomyces israelli"
      },
      {
        "id": 4,
        "text": "Nocardia asteroids"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The organism shown is the Nocardia species.&nbsp;Nocardia species&nbsp;are both&nbsp;<strong>acid-fast and show branching filaments</strong>.</p>\n<p>Other options:</p>\n<p>Options A, B: Mycobacteria species are acid-fast but not have branching filaments.</p>\n<p>Option C:&nbsp; Actinomyces species is gram-positive but not acid-fast.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6aca3a15ff134cf1aa34982e4b635f38.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Name the staphylococcal infection that is not toxin mediated.",
    "choices": [
      {
        "id": 1,
        "text": "Food poisoning"
      },
      {
        "id": 2,
        "text": "Toxic shock syndrome"
      },
      {
        "id": 3,
        "text": "Septicemia"
      },
      {
        "id": 4,
        "text": "Staphylococcal scalded skin syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Septicemia is not toxin-mediated</strong>&nbsp;but is the invasion of bacterial organisms into the bloodstream. Inflammatory mediators produced in response to bacterial products leads to various manifestations seen in sepsis.</p>\n<p><br /><em><strong>Staphylococcus</strong> </em>produces major toxins such as<strong> enterotoxin (food poisoning), toxic shock syndrome toxin (toxic shock syndrome), and exfoliative/</strong>epidermolytic<strong> toxin (staphylococcal scalded skin syndrome).</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Rhinosporidium seeberi is now classified as a/an  _________",
    "choices": [
      {
        "id": 1,
        "text": "Aquatic protistan protozoa"
      },
      {
        "id": 2,
        "text": "Fungus"
      },
      {
        "id": 3,
        "text": "Virus"
      },
      {
        "id": 4,
        "text": "Bacteria"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Rhinosporidium seeberi is not a classic fungus, but rather the first known human pathogen from the DRIPs clade, a novel clade of <strong>aquatic protistan parasites</strong> (Ichthyosporea).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 45 year old male with recurrent bloody diarrhea came to the hospital. Colonoscopy showed geographical ulcers. Histopathology is given below. Your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Adenocarcinoma colon"
      },
      {
        "id": 2,
        "text": "Pseudomebranous colitis"
      },
      {
        "id": 3,
        "text": "Crohn disease"
      },
      {
        "id": 4,
        "text": "Non-hodgkin lymphoma colon"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The probable diagnosis is crohn's disease.</p>\n<p>In the given history, <strong>recurrent bloody diarrhoea</strong> indicates periods of active disease interrupted by asymptomatic periods. The presence of <strong>geographical ulcers</strong> indicate the presence of multiple, clearly delineated areas of disease in between areas of normal mucosa, or skip lesions.</p>\n<p>The histopathological image shows <strong>transmural inflammation</strong> where inflammatory cells (neutrophils) extend from mucosa through submucosa, and to the muscularis thereby, infiltrating and damaging crypt epithelium.The normally straight and parallel<strong> crypts appear distorted</strong>.<br />All the above features indicate<strong> Crohn&rsquo;s disease</strong> to be the diagnosis.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c6ff8111b3924102a6b05ee4d370c631.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 32 year old female with history of back ache and polyarthralgia was investigated and found to have nucleolar pattern in IF. Which of the following is the best fit in her case.",
    "choices": [
      {
        "id": 1,
        "text": "Raynaud phenomenon and sclerodactyly"
      },
      {
        "id": 2,
        "text": "Genital and oral painful ulcers"
      },
      {
        "id": 3,
        "text": "Glomerulonephritis and heart failure"
      },
      {
        "id": 4,
        "text": "Joint pains with nodules on skin"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The nucleolar pattern in IF indicates Raynaud phenomenon and sclerodactyly to be the best fit in the given case.</p>\n<p>Nuclear pattern in immunofluorescence:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/38e6a2f1f15541c5b1bfbed76a10d498x616x600.JPEG"
    ]
  },
  {
    "text": "An 60 year old male presented with history of intractable diarrhea. Based on the histological image shown below which of the following is the most appropriate diagnosis:",
    "choices": [
      {
        "id": 1,
        "text": "Lymphoma"
      },
      {
        "id": 2,
        "text": "Leishmaniasis"
      },
      {
        "id": 3,
        "text": "Urate Nephropathy"
      },
      {
        "id": 4,
        "text": "Multiple Myeloma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The most appropriate diagnosis is multiple myeloma.&nbsp;</p>\n<p><strong>The image shows Russell bodies</strong>&nbsp;which are eosinophilic, large, homogeneous immunoglobulin-containing inclusions usually found in a plasma cell undergoing excessive synthesis of immunoglobulins; the Russell body is characteristic of the distended endoplamic reticulum.</p>\n<p><strong>Globular inclusions are Russell bodies (if cytoplasmic) and Dutcher bodies (if nuclear).</strong></p>\n<p>In Renal biopsy, the arrows show the presence of <strong>proteinaceous casts (Bence-Jones proteins)</strong> in the tubules.</p>\n<p><strong>Multiple myeloma</strong> is a plasma cell neoplasm commonly associated with lytic bone lesions, hypercalcemia, renal failure and acquired immune abnormalities.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1ef5198d6d9045fb860fbf0cecddfb0a.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 10 year old boy with fever, weight loss came to the hospital. On examination he was pale and had significant  lymphadenopathy. Bone marrow histology of the person is as given below. Your diagnosis is?",
    "choices": [
      {
        "id": 1,
        "text": "AML"
      },
      {
        "id": 2,
        "text": "Aplastic anemia"
      },
      {
        "id": 3,
        "text": "ALL"
      },
      {
        "id": 4,
        "text": "Juvenile myelomonocytic leukemia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above image shows <strong>lymphoblasts with condensed nuclear chromatin, small nucleoli, scanty agranular cytoplasm, </strong>which are characteristics of<strong> ALL.</strong></p>\n<p><br />ALL is more common in childhood. The child had symptoms related to depression of marrow function including pallor, weight loss due to anaemia and fever secondary to infections. These infections are due to neutropenia and generalised lymphadenopathy, indicating the effect of neoplastic infiltration.</p>\n<p><strong>Other options:</strong></p>\n<p><strong>Option A:</strong> AML - Although the presenting symptoms are similar to ALL, bone marrow histology shows the presence of 20% myeloid blasts, delicate nuclear chromatin, 2-4 nucleoli, more voluminous cytoplasm with fine azurophilic granules.&nbsp;Though AML occurs at all ages, it is predominantly seen after 60 years of age.<br /><strong>Option B:</strong> Aplastic Anemia - It has a characteristic dry tap on marrow aspiration, bone marrow is markedly hypocellular. It can occur at any age and sex.<br /><strong>Option D:</strong> Juvenile myelomonocytic leukaemia - It has characteristics of leukocytosis, monocytosis, hepatosplenomegaly, thrombocytopenia, elevated fetal haemoglobin. It is primarily a disease of early childhood.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3dba41527fdc439abc4cfbcd226fc55e.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A young male presented with cervical lymphadenopathy and the histology of lymph node showed RS cell with vague nodule formation and background T reactive lymphocytes. The cells were positive for CD20, LCA, EMA and negative for CD 15 and CD30. Diagnosis is?",
    "choices": [
      {
        "id": 1,
        "text": "Nodular Sclerosis - Hodgkin Lymphoma"
      },
      {
        "id": 2,
        "text": "CLL"
      },
      {
        "id": 3,
        "text": "T cell rich B cell lymphoma"
      },
      {
        "id": 4,
        "text": "Nodular Lymphocyte predominant Hodgkin Lymphoma (NLPHL)"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the case given above, axial group lymphadenopathy (cervical) is suggestive, and the presence of<strong> RS cells (Reed-Sternberg cells) in the histology is characteristic, of Hodgkin Lymphoma. </strong></p>\n<p>RS cells are neoplastic giant cells.</p>\n<p>The cells having vague nodular formation and Immunophenotype positive for CD20(B cell associated), LCA(CD45), EMA(epithelial marker) and negative for CD15(monocyte or macrophage-associated),CD30(activation marker) indicate the diagnosis can be an uncommon variant of HL called<strong> Nodular Lymphocyte Predominant Hodgkin Lymphoma (NLPHL)</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/bf9b28ea8e894255b9de94de5a937095x581x272.JPEG",
      "https://cdn1.dailyrounds.org/uploads/af3dc6b88c66465baec4e3d32c90698ex634x451.JPEG",
      "https://cdn1.dailyrounds.org/uploads/d7e90f933cbf4dbcb94c6fdd9f455f4fx648x300.JPEG"
    ]
  },
  {
    "text": "A 35-year-old patient presented with heart burn and increased salivation. Upper gastrointestinal endoscopy (UGE) was done, and the biopsy result is shown below. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Esophagitis"
      },
      {
        "id": 2,
        "text": "Squamous cell carcinoma"
      },
      {
        "id": 3,
        "text": "Adenocarcinoma"
      },
      {
        "id": 4,
        "text": "Barrett\u2019s esophagus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>This image indicates diagnostic features of<strong> Barrett&rsquo;s esophagus</strong></p>\n<p>The histological image above shows the transition between normal squamous epithelium and the mucin-filled glands, indicating an intestinal-type metaplasia with plenty of goblet cells.</p>\n<p><strong>Barrett&rsquo;s esophagus,</strong> which is a complication of chronic gastroesophagal reflux disease (GERD) characterized by<strong> intestinal metaplasia within the esophagal squamous mucosa.</strong></p>\n<p>It is a premalignant condition that confers an<strong> increased risk of esophagal adenocarcinoma.</strong></p>\n<p>Hence, patients diagnosed with Barrett&rsquo;s Esophagus must be subjected to a regular surveillance endoscopy annually or with 2-year intervals, provided no dysplasias have been detected.</p>\n<p>The presence of dysplasia is associated with prolonged symptoms, longer segment length, increased patient age, and Caucasian race.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f288a7476e884c479ab7a3c5dd3519db.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What represents the marked area in the given histology of lymph node?",
    "choices": [
      {
        "id": 1,
        "text": "Marginal zone"
      },
      {
        "id": 2,
        "text": "Paracortical zone"
      },
      {
        "id": 3,
        "text": "Germinal center"
      },
      {
        "id": 4,
        "text": "Mantle zone"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The area marked in the image is the <strong>m</strong><strong>antle zone</strong> of a lymph node.</p>\n<p>Lymph node has primary follicle composed of small, quiescent lymphocytes, and a secondary follicle with&nbsp;<strong>germinal centre</strong> composed mainly of antigen-stimulated B cells.</p>\n<p>The <strong>mantle zone</strong> is produced as surrounding cells are marginalised by the rapidly growing germinal centre. It is populated by mainly quiescent B cells with condensed heterochromatic nuclei and little cytoplasm (hence the<strong> deeply basophilic staining</strong> of this region in routine preparations), a few helper T cells, Follicular Dendritic cells and macrophages.</p>\n<p>In peripheral lymph nodes, the <strong>marginal zone</strong>&nbsp;are often inapparent because they are mixed with the mantle zone cells. And often not well developed in lymph nodes.</p>\n<p>The <strong>paracortex</strong> lies between the cortical follicles and the medulla and is populated mainly by T cells, which are not organised into follicles</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/114aa5a6ef78403ab8841ba2d0991a08.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b7b5bb3486ec41b4bc2f4fd1285bdb5ax1060x843.JPEG"
    ]
  },
  {
    "text": "Among the following, which cells have MHC class II?",
    "choices": [
      {
        "id": 1,
        "text": "NK cells"
      },
      {
        "id": 2,
        "text": "All nucleated cells"
      },
      {
        "id": 3,
        "text": "B cells, dendritic cells, mononuclear phagocytes"
      },
      {
        "id": 4,
        "text": "Platelets"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Class II major histocompatibility&nbsp;complex (MHC)</strong> molecules are mainly expressed on<strong> cells that present ingested antigens</strong> and respond to T-cells help (<strong>macrophages, B lymphocytes, and dendritic cells</strong>).</p>\n<p><br />The function of MHC molecules is to <strong>display fragments of protein antigens for recognition by antigen-specific T cells.</strong><br />In humans, the MHC molecules are called <strong>human leukocyte antigens (HLA)</strong> because they were initially detected on leukocytes by the binding of antibodies. The genes encoding HLA molecules are clustered on a small segment of<strong> chromosome 6</strong>.</p>\n<p><br />The HLA system is highly polymorphic, meaning that there are many alleles of MHC genes (in the thousands) in humans and each individual&rsquo;s HLA alleles differ from those inherited by most other individuals in the population. This, as we see subsequently, constitutes a formidable barrier in organ transplantation</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Among the following disease modifying anti rheumatoid drugs which increases extracellular adenosine?",
    "choices": [
      {
        "id": 1,
        "text": "Methotrexate"
      },
      {
        "id": 2,
        "text": "Lefunamide"
      },
      {
        "id": 3,
        "text": "Sulphasalazine"
      },
      {
        "id": 4,
        "text": "Hydroxychloroquine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Methotrexate&rsquo;s</strong> principal <strong>mechanism of action</strong> relates to inhibition of amino-imidazolecarboxamide ribonucleotide (AICAR) transformylase and thymidylate synthetase. AICAR, accumulates intracellularly, <strong>competitively inhibits AMP deaminase, leading to an accumulation of AMP</strong>.</p>\n<p>The AMP is released and converted extracellularly to <strong>adenosine, </strong>which<strong> is a potent inhibitor of inflammation</strong>. As a result, the inflammatory functions of neutrophils, macrophages, dendritic cells, and lymphocytes are suppressed.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/182dc4149c3b4fd59bc8b0164fe1ce23x736x398.PNG"
    ]
  },
  {
    "text": "Composition of Lente insulin is",
    "choices": [
      {
        "id": 1,
        "text": "70% amorphous 30% crystalline"
      },
      {
        "id": 2,
        "text": "70% crystalline 30% amorphous"
      },
      {
        "id": 3,
        "text": "Only 70% amorphous"
      },
      {
        "id": 4,
        "text": "Other name of NPH insulin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Lente</strong> insulin is an intermediate-acting insulin and is a <strong>combination of Ultralente and Semilente in the ratio of 7:3</strong></p>\n<p><br />Lente insulin (Insulin zinc suspension): Two types of insulin zinc suspensions have been produced. The one with large particles is crystalline and practically insoluble in water (<strong>Ultralente</strong>). It is long-acting. The other has smaller particles and is amorphous (<strong>Semilente</strong>), is short-acting. Their 7:3 ratio mixture is called &lsquo;Lente insulin&rsquo; and is intermediate-acting.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A drug was given IV at a rate of 1.6mg/min. The clearance of the drug is 640ml/min. The half life of the drug is 1.8 hour. Calculate the plasma concentration of the drug.",
    "choices": [
      {
        "id": 1,
        "text": "2.88mg/ml"
      },
      {
        "id": 2,
        "text": "0.004mg/ml"
      },
      {
        "id": 3,
        "text": "3.55mg/ml"
      },
      {
        "id": 4,
        "text": "0.002mg/ml"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>&nbsp;Plasma steady state concentrations is achieved after repeated administration of drug leading to balance between drug input&nbsp; and circulation.</p>\n<p>&nbsp;</p>\n<ul>\n<li>Drug given IV at 1.6mg/min = Dose of the drug <strong>(D)</strong></li>\n<li>Clearance of the drug is 640 ml/min = Apparent volume of distribution<strong>(V)</strong></li>\n<li>Plasma concentration of the drug<strong> (C)</strong> = ?\n<p>Cpss is directly proportional to the dose rate and inversely proportional to the clearance of drug.</p>\n</li>\n</ul>\n<p><br />Presuming that the body behaves as a single homogeneous compartment with volume V into which the drug gets immediately and uniformly distributed, the formula below can be applied.&nbsp;</p>\n<p><br /><strong>V= Dose administered by I.V (D)/Plasma concentration (C) </strong></p>\n<p><br />V=D/C<br />C=D/V<br />C= 1.6mg/min / 640ml/min<br />= 0.0025mg/ml<br />Hence, the answer is D 0.002mg/ml</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In an immunocompromised patient, which of the following is the drug of choice for prophylaxis of pneumocystis jirovecii?",
    "choices": [
      {
        "id": 1,
        "text": "Cephalosporin"
      },
      {
        "id": 2,
        "text": "Dexamethasone"
      },
      {
        "id": 3,
        "text": "Cotrimoxazole"
      },
      {
        "id": 4,
        "text": "Amoxycillin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Trimethoprim</strong>-<strong>Sulfamethoxazole</strong> Combination (commonly known as Co-trimoxazole) is the first line drug for <strong>both prophylaxis</strong> and <strong>treatment</strong> of <strong>Pneumocystis</strong> <strong>jirovecii</strong> infections in immunocompromised patients.</p>\n<p>Cotrimoxazole acts by causing a sequential block of folate metabolism.</p>\n<div class=\"page\" title=\"Page 1830\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>CD4+</strong> T cell counts <strong>below 200 cells/&mu;L</strong> are an indication to start prophylaxis.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/0691bc2e26114272a69d4b9ba6abfcd3x358x292.JPEG"
    ]
  },
  {
    "text": "A known epileptic patient on Levetiracetam is now seizure free for 2 years. But he developed agitation and anger issues interfering with his day to day activities as a result of the drug intake. Which of the following measures is to be taken next?",
    "choices": [
      {
        "id": 1,
        "text": "Slowly taper the drug over next 6 months"
      },
      {
        "id": 2,
        "text": "Continue levetriacetam since a 5 year seizure free interval is needed"
      },
      {
        "id": 3,
        "text": "Stop levetiracetam and start on a different anti-epileptic"
      },
      {
        "id": 4,
        "text": "Discontinue the drug as he is seizure free"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Slowly tapering the dose of Levetiracetam should be the next step in the above scenario. &nbsp;</p>\n<p>Levetiracetam has adverse effects that include somnolence, asthenia, ataxia, and dizziness. Less common but more serious are mood and behavioural changes; psychotic reactions are rare.</p>\n<p>The mood changes observed in the above patient must be due to an adverse effect of the drug. Abrupt stoppage of the drug can result in rebound seizures.&nbsp; So the best management will be to <strong>slowly taper the drug</strong> over the next 6 months.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is false regarding teeth features and ethnicity?",
    "choices": [
      {
        "id": 1,
        "text": "In negroes the cusps of molars are wide and deep and shovel shaped cusps in incisors"
      },
      {
        "id": 2,
        "text": "Caucasians have carabelli cusps"
      },
      {
        "id": 3,
        "text": "Upper third molar is most commonly absent in Mongolians"
      },
      {
        "id": 4,
        "text": "Prominent lingual ridge and labial ridge in mongols"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Negroid races</strong> tend to have <strong>large teeth</strong> and often have <strong>more cusps on their molars</strong>, even up to eight, with two lingual cusps on the mandibular first premolars as an additional common finding.</p>\n<p><strong>Caucasian races</strong>, the lateral incisors in the upper jaw are usually smaller than the central. They also have <strong>long pointed canine roots</strong>.Small nodules on the lingual surface of maxillary molars, called &lsquo;<strong>Carabelli&rsquo;s cusp</strong>&rsquo;, are most common in Caucasian races.</p>\n<p><strong>Mongoloid</strong> teeth, enamel pearls, small nodules of enamel on the tooth surface, are much more frequent. The condition of <strong>bull-tooth or &lsquo;taurodontism</strong>&rsquo; is most common in Mongoloid peoples: here the pulp cavity of molars is wide and deep, and the roots are fused and bent. <strong>A congenital lack of the third upper molar</strong> is most common in Mongoloids</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 30 year old  drowsy male was brought to the casualty. His pulse was 130/min, respiratory rate  -30/min, blood gas analysis revealed  metabolic acidosis, Hypocalcemia,  Blood Urea \u2013 100 mg/dl, Creatinine \u2013 3.4 mg/dl. Urine analysis showed Calcium oxalate crystals. He showed improvement on Nasogastric aspiration, Sodium bicarbonate, Calcium gluconate & 4-methyl pyrazole. What substance did he most likely consume?",
    "choices": [
      {
        "id": 1,
        "text": "Formaldehyde"
      },
      {
        "id": 2,
        "text": "Ethylene glycol"
      },
      {
        "id": 3,
        "text": "Paraldehyde"
      },
      {
        "id": 4,
        "text": "Methyl alcohol"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>He most likely consumed <strong>Ethylene glycol</strong>.&nbsp;</p>\n<p>This patient with h/o&nbsp;consumption of a substance, presented with acute onset CNS depression (drowsiness), Tachycardia (130/min) &amp; Tachypnoea (30/min). On preliminary lab analysis he was found to have severe Metabolic acidosis, Acute Kidney Injury (Elevated BUN &amp; Creatinine) with Hypocalcemia - most likely due to precipitation of Calcium oxalate crystals in the urine.</p>\n<p>This patients condition improved when was promptly treated with Nasogastric lavage &amp; aspiration (to remove residual substance),&nbsp;Sodium bicarbonate (to counter falling pH from severe metabolic acidosis), Calcium gluconate (Hypocalcemia) and <strong>4-methylpyrazole - Fomipezole (Alcohol Dehydrogenase inhibitor)</strong>.</p>\n<p>All these features, particularly including&nbsp;the presence of Kidney damage (AKI) points towards Ethylene glycol poisoning.</p>\n<p>Methyl alcohol (Methanol) &amp; Ethylene glycol poisoning can present very similarly. However, the key distinguishing feature of<strong> Methanol poisoning</strong> is the presence of <strong>eye symptoms</strong> (as opposed to <strong>kidney damage</strong> in <strong>ethylene glycol</strong>)- like blurring of vision/loss of vision due to retinal damage by formate metabolites.</p>\n<p><strong>Methanol</strong>--<sup>Alcohol Dehydrogenase (ADH)</sup>&nbsp;&rArr; Formaldehyde (<strong>Retinal damage</strong>)</p>\n<p><strong>Ethylene glycol</strong>--<sup>Alcohol Dehydrogenase (ADH)</sup>&nbsp;&rArr; Glyoxyaldehyde&nbsp;&rArr; (<strong>Kidney damage</strong>)&nbsp;</p>\n<p>The principles of treatment for both these conditions are the same and predominantly involves using Fomipezole or Ethanol to inhibit the metabolic conversion of these relatively non-toxic alcohols to their toxic metabolites.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Name the location of the nucleus supplying the muscle marked by the arrow in the image given below:",
    "choices": [
      {
        "id": 1,
        "text": "Superior olivary"
      },
      {
        "id": 2,
        "text": "Inferior colliculus"
      },
      {
        "id": 3,
        "text": "Superior colliculus"
      },
      {
        "id": 4,
        "text": "Fascial colliculus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The muscle marked is medial rectus. The medial rectus is supplied by the Oculomotor Nerve, the nucleus of which is situated at the level of the Superior Colliculus. <br /> <br />The nuclear complex from which the oculomotor nerve arises consists of</p>\n<ul>\n<li>several groups of large motor neurones collectively called the <strong>oculomotor nucleus</strong></li>\n<li>smaller preganglionic parasympathetic neurones called the <strong>Edinger&ndash;Westphal preganglionic nucleus</strong></li>\n</ul>\n<p>The motor neuron groups of the oculomotor nucleus innervate, in dorsoventral order, the ipsilateral inferior rectus, inferior oblique and medial rectus. A medially placed column of cells innervates the contralateral superior rectus.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3bdd82cb092641a38741605aa8baa590.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 25  year old female has thoughts of cutting her fingers, she plans and imagines doing it but never actually does it. She says she is not having any guilt of having such thought. And also says the thoughts are distressing her and she is unable to control them. The thoughts vanish either by ending with a seizure or automatically subsides on its own. Which of the following is the cause?",
    "choices": [
      {
        "id": 1,
        "text": "Thought insertion"
      },
      {
        "id": 2,
        "text": "Forced thinking"
      },
      {
        "id": 3,
        "text": "Crowding of thoughts"
      },
      {
        "id": 4,
        "text": "Obsession"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In the above scenario, the patient has <strong>forced thinking.</strong></p>\n<p>Forced thinking is usually seen in patients with frontal lobe epilepsy.The thoughts are formed are not in the control of the patient and are distressing thoughts.</p>\n<p><br /><strong>Option A:</strong> thought insertion is seen in schizophrenia. The delusion of thoughts being placed into patient&rsquo;s mind by someone else. <br /><strong>Option C:</strong> crowding of thoughts is also seen in schizophrenia. The patient has thoughts that are too fast and excessive and unexplainable. The patient can even locate these thoughts crowding at the back of the head.<br /><strong>Option D:&nbsp;</strong>The obsessive-compulsive symptoms are not attributable to the physiological effects of a substance (e.g., a drug of abuse, a medi&shy;cation) or another medical condition.The patient feels the need to carry out certain behaviours to get rid of these thoughts.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "After a fracture, the growth of callus will be increased by which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Strict immobilization"
      },
      {
        "id": 2,
        "text": "Repeated tiny movements at the fracture site"
      },
      {
        "id": 3,
        "text": "Intermedullary nail"
      },
      {
        "id": 4,
        "text": "K wire fixation"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Micro-movements at the fracture site stimulates callus formation.</p>\n<p><strong>Option A</strong>: It is not necessary to immobilise all fractures (e.g., fracture ribs, scapula, etc) as they heal anyway. Some fractures need strict immobilisation (e.g., fracture of the neck of the femur), and may still not heal.</p>\n<p><strong>Option C, </strong><strong>D:</strong> Kirschner wire (K-wire), intra-medullary nail are used when a fracture is so unstable that it is difficult to maintain it in an acceptable position by nonoperative means. They are thus used, in order to secure rigid immobilisation. They do not affect the growth of the cartilage directly.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which is the most common sequal of traumatic dislocation of shoulder?",
    "choices": [
      {
        "id": 1,
        "text": "Subscapular tendinitis"
      },
      {
        "id": 2,
        "text": "Rotator cuff injury"
      },
      {
        "id": 3,
        "text": "Recurrent dislocation of shoulder"
      },
      {
        "id": 4,
        "text": "Normal shoulder healing and normal movements"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most common sequel of traumatic dislocation of the shoulder joint is the recurrence of shoulder dislocation.</p>\n<p><br />In the Anterior dislocation of shoulder joint, anterior glenoid rim undergoes<strong> rounding off</strong> as the <strong>head dislocates repeatedly</strong> over it.<br />The <strong>patient enters the casualty</strong> with his shoulder abducted and the elbow supported with opposite hand, there may be a<strong> history of similar episodes in the past</strong>. </p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Ureteric injury is most likely associated with which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Wertheim's hysterectomy"
      },
      {
        "id": 2,
        "text": "Abdominal hysterectomy"
      },
      {
        "id": 3,
        "text": "Vaginal hysterectomy"
      },
      {
        "id": 4,
        "text": "Anterior colporraphy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The ureteric injury is most commonly associated with Wertheim hysterectomy than other hysterectomies due to the radical nature of the procedure.</p>\n<p>Overall incidence is 0.5 -1 percent of all pelvic operation.</p>\n<table border=\"1\">\n<tbody>\n<tr>\n<td>Procedure</td>\n<td>Incidence of Ureteric injury</td>\n</tr>\n<tr>\n<td>Abdominal hysterectomy</td>\n<td>0.04-3</td>\n</tr>\n<tr>\n<td>Vaginal&nbsp;hysterectomy</td>\n<td>0.02-0.47</td>\n</tr>\n<tr>\n<td>Subtotal&nbsp;hysterectomy</td>\n<td>0.03</td>\n</tr>\n<tr>\n<td>Wertheim's&nbsp;hysterectomy</td>\n<td>1-30</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following fits into the criteria of severe variable deceleration, variations less than",
    "choices": [
      {
        "id": 1,
        "text": "90 beats per minute lasting for 60 seconds"
      },
      {
        "id": 2,
        "text": "80 beats per minute lasting for 60 seconds"
      },
      {
        "id": 3,
        "text": "100 beats per minute lasting for 60 seconds"
      },
      {
        "id": 4,
        "text": "70 beats per minute lasting for 60 seeconds"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Severe variable decelerations are defined as: Less than 70 beats/minute lasting at least 60 seconds.</p>\n<p>Variable deceleration is the abrupt decrease in FHR below the baseline. The decrease is 15 beats/minute or more, with a duration of 15 seconds or more but less than 2 minutes.</p>\n<p>Mechanism: <strong>umbilical cord compression</strong>, leads to occlusion of the umbilical vein, hence there is decreased venous return to maintain cardiac output.&nbsp;</p>\n<p>Classification:</p>\n<ul>\n<li><strong>Mild</strong>: more than 80 bpm irrespective of duration/ less than 30 seconds irrespective of HR/ 70-80 bpm lasting 60 seconds.</li>\n<li><strong>Moderate</strong>: more than 70 bpm lasting 30-60 seconds / 70-80 bpm lasting more than 60 seconds.</li>\n<li><strong>Severe</strong>: less than 70 bpm lasting at least 60 seconds.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 32 year old female nearing her due date has been admitted following regular contractions. The resident doctor did an examination and told the intern that the head is at +1 station. What does the exact position of head?",
    "choices": [
      {
        "id": 1,
        "text": "At the perineum"
      },
      {
        "id": 2,
        "text": "Just below ischial spine"
      },
      {
        "id": 3,
        "text": "Just above ischial spine"
      },
      {
        "id": 4,
        "text": "High up in the false pelvis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The station is just below the ischial spine.</p>\n<p><br />Station of the head is<strong> in relation to ischial spines</strong> as spines are the most prominent bony projections felt on internal examination.</p>\n<p><br />The level of ischial spines is the halfway between the pelvic inlet and outlet. This level is known as station zero (0).</p>\n<p><br />The levels above and below the spines are divided into fifths to represent centimeters. The station is said to be &ldquo;O&rdquo; if the presenting part is at the level of the spines. The station is stated in minus figures, if it is above the spines (&ndash;1 cm, &ndash;2 cm, &ndash;3 cm, &ndash;4 cm and &ndash;5 cm) and in plus figures if it is below the spines (+1 cm, +2 cm, +3 cm, +4 cm and +5 cm). </p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/48fe142db1914e8caaad3dd54f3340f4x468x447.JPEG"
    ]
  },
  {
    "text": "A 30  year old female came for routine PAP smear testing. The report came as carcinoma in situ. What is the next step?",
    "choices": [
      {
        "id": 1,
        "text": "Conisation"
      },
      {
        "id": 2,
        "text": "Hysterectomy"
      },
      {
        "id": 3,
        "text": "Colposcopy and biopsy"
      },
      {
        "id": 4,
        "text": "HPV DNA testing"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Carcinoma in situ is classified as Cervical Intraepithelial Neoplasia-III and the next step in management for such lesions is Colposcopy and biopsy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c8d766a6c9db4794abe17633684b9833x1280x1033.JPEG"
    ]
  },
  {
    "text": "A 15-day-old infant had conjunctivitis, which later developed into respiratory distress and pneumonia. Chest Xray examination revealed bilateral lung infiltrates. Peripheral smear count showed 14,300/dL (N 43, L 54, E3).  Which of the following is the most likely pathogenic organism?",
    "choices": [
      {
        "id": 1,
        "text": "Chlamydia trachomatis"
      },
      {
        "id": 2,
        "text": "Streptococcus pneumonia"
      },
      {
        "id": 3,
        "text": "Neisseria gonorrhoeae"
      },
      {
        "id": 4,
        "text": "Mycoplasma pneumonia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The organism most likely to cause the mentioned infections is<em> Chlamydia trachomatis</em>.</p>\n<p><br />Pneumonia caused by C. trachomatis can develop in 10&ndash;20% of infants born to women with active, untreated chlamydial infection. Only approximately 25% of infants with nasopharyngeal chlamydial infection develop pneumonia. <br /> <br /><strong>C. trachomatis pneumonia of infancy</strong> has a very characteristic presentation.&nbsp;</p>\n<p>Onset usually occurs between 1 and 3 months of age and is insidious, with a persistent cough, tachypnea, and absence of fever. Auscultation reveals rales; wheezing is uncommon.</p>\n<p>The absence of fever and wheezing helps to distinguish C. trachomatis pneumonia from respiratory syncytial virus pneumonia.</p>\n<p>A distinctive laboratory finding is the presence of <strong>peripheral eosinophilia (&gt;400 cells/&micro;L).</strong> <br />The most consistent finding on <strong>chest radiograph is hyperinflation accompanied by minimal interstitial or alveolar infiltrates.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A one-and-half-year-old child brought to the hospital with a history of breathlessness, fever, cough, and cold. On examination, respiratory rate was 46/min, and there were no chest retractions. Which is the most appropriate management?",
    "choices": [
      {
        "id": 1,
        "text": "Give IV antibiotics and observe"
      },
      {
        "id": 2,
        "text": "Give IV antibiotics and refer to higher centre"
      },
      {
        "id": 3,
        "text": "Oral antibiotics, warn of danger signs, and send home"
      },
      {
        "id": 4,
        "text": "No need of treatment only home remedies"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario is suggestive of acute respiratory illness. According to the IMNCI guidelines 2020, this child can be classified as having <strong>'Pneumonia'</strong>. The treatment is&nbsp;<strong>oral amoxicillin, vitamin A and home care advice.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/258c38a90e844f21be5225fcde567d28x1280x757.3534971644613.PNG"
    ]
  },
  {
    "text": "A USG can detect Lymph node metastases in a patient with breast cancer and clinically negative lymph nodes by what percentage?",
    "choices": [
      {
        "id": 1,
        "text": "50 \u2013 60%"
      },
      {
        "id": 2,
        "text": "10 \u2013 20%"
      },
      {
        "id": 3,
        "text": "20 \u2013 30%"
      },
      {
        "id": 4,
        "text": "30 \u2013 50%"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>A USG can detect lymph nodes metastasis in a clinically negative lymph nodes patient by 50-60%</p>\n<p>The Clinical determination of axillary lymph node metastases has an accuracy of only 33%. Ultrasound (USG) is more sensitive than physical examination alone in determining axillary lymph node involvement during the preliminary staging of breast carcinoma.&nbsp;</p>\n<p>Fine-needle aspiration cytology (FNAC) or core biopsy of sonographically indeterminate or suspicious lymph nodes can provide a more definitive diagnosis than USG alone.</p>\n<p>Ultrasonography can also be utilised to image the regional lymph nodes in patients with breast cancer. The sensitivity of examination for the status of axillary nodes ranges from 35% to 82% and specificity ranges from 73% to 97%. The features of a lymph node involved with cancer include cortical thickening, change in shape of the node to more circular appearance, size larger than 10 mm, absence of a fatty hilum and hypoechoic internal echoes.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 45 year old banker comes to the emergency department with severe back pain, vomiting and hypotension. CT was taken immediately and is given below. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Renal cyst"
      },
      {
        "id": 2,
        "text": "Renal cell carcinoma"
      },
      {
        "id": 3,
        "text": "Para pelvic cyst"
      },
      {
        "id": 4,
        "text": "Renal angiomyolipoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The CT image shows&nbsp;<strong>Renal angiomyolipoma.</strong></p>\n<p>If the dilated blood vessels in an angiomyolipoma rupture, the resulting retroperitoneal bleeding causes sudden pain, accompanied by nausea and vomiting. When the patient presents in the ER, up to 20% are in shock.<sup id=\"cite_ref-Bissler2010_2-0\" class=\"reference\"></sup></p>\n<p>Angiomyolipomas are tumors consisting of perivascular epitheloid cells. And also is composed of varying proportions of vascular, immature smooth muscle cells, and fat cells.&nbsp;Angiomyolipomas are typically found in the kidney, but have also been commonly found in the liver and less commonly the ovary, fallopian tube, spermatic cord, palate, and colon.</p>\n<p>Everolimus is FDA approved for the treatment of angiomyolipomas. Treatment should be considered for asymptomatic, growing AMLs measuring larger than 3&nbsp;cm in diameter.&nbsp;Angiomyolipomas do not normally require surgery unless life-threatening bleeding is present as in this case.<sup id=\"cite_ref-Northrup_2013_1-1\" class=\"reference\"></sup></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4a0d2cf729b2493186ea869b47d35955.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Pancreatic cancer has the highest association with _______.",
    "choices": [
      {
        "id": 1,
        "text": "FAMMM syndrome"
      },
      {
        "id": 2,
        "text": "FAP"
      },
      {
        "id": 3,
        "text": "Hereditary pancreatitis"
      },
      {
        "id": 4,
        "text": "Peutz-Jeghers syndrome"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Pancreatic cancer has the highest association with <strong>Peutz&ndash;Jeghers syndrome (~132-fold increased risk).</strong></p>\n<p>Hereditary risk&nbsp;factors:</p>\n<table style=\"width: 527px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 27px;\">\n<td style=\"height: 27px; text-align: center; width: 217px;\"><strong>Syndrome</strong></td>\n<td style=\"height: 27px; text-align: center; width: 128px;\"><strong>Germ-line mutation</strong></td>\n<td style=\"height: 27px; text-align: center; width: 172px;\">\n<p class=\"p1\"><strong>Estimated increased risk (fold) of</strong></p>\n</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"height: 18px; width: 217px;\"><strong>Peutz&ndash;Jeghers syndrome</strong></td>\n<td style=\"height: 18px; text-align: center; width: 128px;\">STKII (LKB1)</td>\n<td style=\"height: 18px; text-align: center; width: 172px;\"><strong>~132&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"height: 18px; width: 217px;\">Hereditary pancreatitis</td>\n<td style=\"height: 18px; text-align: center; width: 128px;\">&nbsp;PRSS 1/SPINK1</td>\n<td style=\"height: 18px; text-align: center; width: 172px;\">~ 53</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"height: 18px; width: 217px;\">Cystic fibrosis</td>\n<td style=\"height: 18px; text-align: center; width: 128px;\">CFTR&nbsp;</td>\n<td style=\"height: 18px; text-align: center; width: 172px;\">~ 30</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"height: 18px; width: 217px;\">FAMMM&nbsp;syndrome</td>\n<td style=\"height: 18px; text-align: center; width: 128px;\">p16/CDKN2A&nbsp;</td>\n<td style=\"height: 18px; text-align: center; width: 172px;\">~13-38&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"height: 18px; width: 217px;\">Hereditary breast and ovarian cancer</td>\n<td style=\"height: 18px; text-align: center; width: 128px;\">BRCA 2&nbsp;</td>\n<td style=\"height: 18px; text-align: center; width: 172px;\">~3.5-10&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"height: 18px; width: 217px;\">HNPCC /Lynch&nbsp;syndrome</td>\n<td style=\"height: 18px; text-align: center; width: 128px;\">MLH1, MSH2, MSH6, PMS2&nbsp;</td>\n<td style=\"height: 18px; text-align: center; width: 172px;\">~9-30</td>\n</tr>\n</tbody>\n</table>\n<p>FAMMM: Familial atypical multiple mole melanoma</p>\n<p>HNPCC: Hereditary nonpolyposis colorectal cancer&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young boy was brought to the casualty with a history of fever and abdominal pain. On examination, he was febrile and his pulse rate was 104 beats/min. The CT scan image is shown below. Which of the following  signs is not seen in this disease?",
    "choices": [
      {
        "id": 1,
        "text": "Mcburney's tenderness"
      },
      {
        "id": 2,
        "text": "Rovsing\u2019s  sign"
      },
      {
        "id": 3,
        "text": "Psoas sign"
      },
      {
        "id": 4,
        "text": "Ballance sign"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The patient has acute appendicitis and Ballance sign is not seen in acute appendicitis.</p>\n<p><strong>Ballance sign </strong>is seen in&nbsp;<strong>ruptured spleen</strong>. Ballance sign is positive if there is a <strong>fixed dullness</strong> to&nbsp;percussion&nbsp;in the <strong>left flank</strong> and <strong>shifting dullness</strong> to percussion in the <strong>right flank.</strong> The fixed dullness is &nbsp;due to the presence of coagulated blood near the lacerated spleen while the shifting dullness is due to the presence of blood in the peritoneal cavity.</p>\n<p><strong>Option B:</strong>&nbsp;Rovsing sign is seen in appendicitis. Deep palpation of the left iliac fossa may cause pain in the right iliac fossa.</p>\n<p><strong>Option C:</strong>&nbsp;Psoas sign is seen in appendicitis. Occasionally, an in\ufb02amed appendix lies on the psoas muscle, and the patient, often a young adult, will lie with the right hip \ufb02exed, for pain relief.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/744f2752dc8247c1991a620239831e57.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 12 year old boy came to the OPD with scald injury of arm. The lesion was  pink, oozing and painful to air and touch. Which of the following is the most appropriate management?",
    "choices": [
      {
        "id": 1,
        "text": "Collagen dressing"
      },
      {
        "id": 2,
        "text": "Excision and grafting"
      },
      {
        "id": 3,
        "text": "Paraffin gauze dressing"
      },
      {
        "id": 4,
        "text": "Silver sulphadiazine cream dressing"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Scald injury(damage from contact with hot liquids) with pink, oozing and painful lesion is suggestive of a 2nd degree burn.Second-degree wounds is treated with daily dressing changes with topical antibiotics (<strong>Silver sulphadiazine cream</strong>), cotton gauze and elastic wraps.</p>\n<div class=\"page\" title=\"Page 538\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Initial treatment for such burns is to <strong>clear exudate using a gauze and&nbsp;silver sulphadiazine cream dressing</strong>&nbsp;over the wound. The initial exudate needs to be managed by frequent changes of clean linen around the patient but, after a few days, a dry eschar forms, which then separates as the wound epithelialises.</p>\n</div>\n</div>\n</div>\n</div>\n<p><strong>Dupuytren&rsquo;s classification of burns:</strong></p>\n<ul>\n<li>1st-degree - involves epidermis,but intact epidermal barrier</li>\n<li>2nd-degree - involves epidermis and papillary dermis</li>\n<li>Deep 2nd-degree - up to reticular dermis</li>\n<li>3rd-degree - involvement of subcutaneous fat</li>\n<li>4th-degree burns - into underlying muscle or bone</li>\n</ul>\n<table style=\"height: 240px; width: 459px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 99px; text-align: center;\"><strong>First degree</strong></td>\n<td style=\"width: 64px; text-align: center;\">\n<p><strong>Superficial&nbsp;</strong></p>\n<p><strong>second</strong></p>\n</td>\n<td style=\"width: 145px; text-align: center;\"><strong>Deep second</strong></td>\n<td style=\"width: 133px; text-align: center;\"><strong>Third&nbsp;degree</strong></td>\n</tr>\n<tr>\n<td style=\"width: 99px;\">Painful</td>\n<td style=\"width: 64px;\">Painful</td>\n<td style=\"width: 145px;\">Pain on pin prick</td>\n<td style=\"width: 133px;\">Painless</td>\n</tr>\n<tr>\n<td style=\"width: 99px;\">Erythematous</td>\n<td style=\"width: 64px;\">\n<p>Erythematous,</p>\n<p>moist</p>\n</td>\n<td style=\"width: 145px;\">Pale, Mottled</td>\n<td style=\"width: 133px;\">Hard leathery eschar</td>\n</tr>\n<tr>\n<td style=\"width: 99px;\">Blanch on touch</td>\n<td style=\"width: 64px;\">Blanch on touch</td>\n<td style=\"width: 145px;\">Not blanch</td>\n<td style=\"width: 133px;\">Black in color</td>\n</tr>\n<tr>\n<td style=\"width: 99px;\">Not blister</td>\n<td style=\"width: 64px;\"><strong>often blister</strong></td>\n<td style=\"width: 145px;\">&nbsp;</td>\n<td style=\"width: 133px;\">&nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 99px;\">No scarring</td>\n<td style=\"width: 64px;\">Spontaneous re-epithelialisation in 1-2 weeks</td>\n<td style=\"width: 145px;\">Severe scarring,<br />re-epithelialisation in 2-5week</td>\n<td style=\"width: 133px;\">Excision &amp; skin grafting needed</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/67b7fa3a8abb4085ac6c975b24347890x509x358.JPEG"
    ]
  },
  {
    "text": "The flap shown in the picture is which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Serratus anterior flap"
      },
      {
        "id": 2,
        "text": "Pectoral myocutaneous  flap"
      },
      {
        "id": 3,
        "text": "TRAM flap"
      },
      {
        "id": 4,
        "text": "VRAM flap"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image shows the reconstruction of chest wall (pectoral region) using a <strong>Serratus Anterior flap</strong>.The flap has been rotated from lateral to medial to cover the defect on the pectoral region.</p>\n<p><strong>Serratus anterior</strong></p>\n<ul>\n<li><strong>Origin</strong>: Lateral surfaces of upper 8-9 ribs and deep fascia overlying the related intercostal spaces</li>\n<li><strong>Insertion</strong>: Costal surface of medial border of scapula&nbsp;</li>\n<li><strong>Innervation</strong>: Long thoracic nerve (C5, C6, C7)</li>\n<li><strong>Bood supply : L</strong>ateral thoracic artery (upper part), thoracodorsal artery (lower part)</li>\n</ul>\n<p><strong>Classification of muscle flaps</strong></p>\n<table style=\"height: 46px; width: 378.6px;\">\n<tbody>\n<tr style=\"height: 13px;\">\n<td style=\"width: 130px; height: 13px;\">Based on blood supply</td>\n<td style=\"width: 116px; height: 13px;\">Method of movement</td>\n<td style=\"width: 121.6px; height: 13px;\">\n<p>Based on composition</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n</td>\n</tr>\n<tr style=\"height: 108.4px;\">\n<td style=\"width: 130px; height: 108.4px;\">\n<p>Random pattern flap&nbsp;</p>\n<p>Unnamed vessel supplying flap</p>\n</td>\n<td style=\"width: 116px; height: 108.4px;\">\n<p>Local transfer&nbsp;</p>\n<p>-Rotation flap</p>\n<p>-Transposition flap</p>\n<p>-Advancement flap</p>\n</td>\n<td style=\"width: 121.6px; height: 108.4px;\">\n<p>Simple Flap</p>\n<p>-Cutaneous flap</p>\n<p>-Musculocutaneous&nbsp;</p>\n<p>-Fasciocutaneous&nbsp;</p>\n</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 130px; height: 13px;\">\n<p>Axial pattern flap</p>\n<p>Named vessel supplying flap</p>\n</td>\n<td style=\"width: 116px; height: 13px;\">\n<p>Distant transfer&nbsp;</p>\n<p>-Pedicle flap</p>\n<p>-Free flap</p>\n</td>\n<td style=\"width: 121.6px; height: 13px;\">\n<p>Composite flap</p>\n<p>-Osseocutaneous flap</p>\n<p>-Sensory flap</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p><strong>Note:</strong></p>\n<p>The image is not a&nbsp;Pectoral myocutaneous flap as the defect is on the pectoral region which has been covered using a&nbsp;Serratus Anterior flap.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0af51c7d253f445baa60cd895b225c58.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following features of stroke need not be treated?",
    "choices": [
      {
        "id": 1,
        "text": "Dysphagia"
      },
      {
        "id": 2,
        "text": "Spasticity"
      },
      {
        "id": 3,
        "text": "Fever"
      },
      {
        "id": 4,
        "text": "Neglect"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Neglect is a feature of stroke that most patients recover from without any treatment.</p>\n<p><strong>Option A:</strong>&nbsp;Dysphagia poses a high risk of aspiration and hence can't be left untreated. Dysphagia in stroke is predominantly oropharyngeal type. <br /><strong>Option B:</strong>&nbsp;Spasticity can be treated with baclofen, tizanidine. It creates a psychosocial impact on the patient.<br /><strong>Option C:</strong> Fever is deleterious in stroke patients and must be treated</p>\n<p><br />Neglect usually occurs after a stroke in the area supplied by the inferior division of right MCA(non-dominant hemisphere). Neglect is rare in a dominant hemisphere lesion. <br />Although neglect indicates a poor prognosis, the patient recovers usually without treatment in 1-6months. <br />Persistence of neglect for more than 6 months can be treated.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A study was conducted to compare the incidence of post partum depression in mother as compared to the sex of the child. For assessment Edinburg Depression scaled score(EDSS) was used.The study was divided into mothers with male baby as one group to be compared with mothers with female baby. Which of the following statistical test will be used to determine the association?",
    "choices": [
      {
        "id": 1,
        "text": "Students t test"
      },
      {
        "id": 2,
        "text": "Paired t Test"
      },
      {
        "id": 3,
        "text": "ANOVA"
      },
      {
        "id": 4,
        "text": "Chi square test"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Chi-square test is used to compare qualitative data and compares 2 groups with independent measures. Hence it is the appropriate test here.</p>\n<p><br /><strong>Option B:</strong> ANOVA is used to compare more than 2 groups<br /><strong>Option C:</strong> Student&rsquo;s t-test is for quantitative data. Here the data is qualitative, hence it can't be used.<br /><strong>Option D:</strong> Paired t-test compares paired data or pre-intervention and post- intervention data of the same group. This doesn't apply here as the groups are not paired.</p>\n<p>The variables used here is yes/no signifying presence/absence of postpartum depression. If the values obtained were compared, then unpaired t test could be used.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A new drug combination of chemotherapy and immunotherapy for metastatic melanoma was prescribed by a radiotherapist. It  prolongs the survival. Which of the following is true in this situation?",
    "choices": [
      {
        "id": 1,
        "text": "Incidence increases and prevalence reduces"
      },
      {
        "id": 2,
        "text": "Incidence reduces and prevalence remains the same"
      },
      {
        "id": 3,
        "text": "Incidence remains the same and prevalence increases"
      },
      {
        "id": 4,
        "text": "Incidence reduces  and prevalence increases"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>By the new drug combination, survival of the patient has increased, hence incidence remains the same while prevalence increases.</p>\n<p><br /><strong>Incidence</strong>: number of new cases in a defined population in a specified period of time.<br /><strong>Prevalence:</strong> number of old and new cases at a given point of time over a period of time.</p>\n<p><br /><strong>Options A, B, D:</strong>&nbsp;The treatment only prolongs the disease, it has nothing to do with the occurrence of cases thereby nothing to do with Incidence.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All are features of Zika Fever except",
    "choices": [
      {
        "id": 1,
        "text": "Petechial rash"
      },
      {
        "id": 2,
        "text": "Guillan barre syndrome"
      },
      {
        "id": 3,
        "text": "Fever with arthritis"
      },
      {
        "id": 4,
        "text": "Conjunctivitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Petechial rash is <strong>not</strong> a feature of Zika Virus. Though petechiae may rarely appear in Zika virus disease it is however <span style=\"color: #000000;\">not included </span><span style=\"text-decoration: underline;\">i</span>n the CDC case definition of Zika virus disease. Petechial rash points towards a diagnosis of Dengue fever while a maculopapular rash suggests a Zika virus disease.</p>\n<p>Zika virus infection is characterised by influenza-like clinical signs including fever, headache and malaise. A maculopapular rash, conjunctivitis, myalgia and arthralgia usually accompany or follow those manifestations.</p>\n<p>The <strong>complications</strong> of Zika virus are:</p>\n<ul>\n<li>Gullian Barre Syndrome</li>\n<li>Fetal microcephaly in pregnant women.<br /> </li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following are the disease frequencies in a population. Based on the number of cases which of the following is the correct match \nDisease 1: Number of cases last week 42 this week 43\nDisease 2: Number of cases last week 2 and present week 42\nDisease 3: Number of cases last week 6 and present week 1",
    "choices": [
      {
        "id": 1,
        "text": "Pandemic, endemic, sporadic"
      },
      {
        "id": 2,
        "text": "Sporadic, endemic, epidemic"
      },
      {
        "id": 3,
        "text": "Endemic, epidemic, sporadic"
      },
      {
        "id": 4,
        "text": "Endemic, sporadic, epidemic"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Disease 1 - the cases have been almost the same so it has to be endemic<br />Disease 2- there is an alarming increase in the number of cases. It has to be an epidemic<br />Disease 3- the number of cases has decreased without any explanation so it has to be sporadic.</p>\n<p>Epidemic - occurrence of disease in excess of expected frequency<br />Pandemic-epidemic affecting large population over large geographical area<br />Endemic- a regularly occurring disease in a population in expected frequency without any importation from outside.<br />Sporadic- scattered cases of infection without relation temporally/spatially. Irregularly occuring disease. </p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the most bactericidal anti leprotic drug amongst the given drugs?",
    "choices": [
      {
        "id": 1,
        "text": "Amoxicillin"
      },
      {
        "id": 2,
        "text": "Ciprofloxacin"
      },
      {
        "id": 3,
        "text": "Ofloxacin"
      },
      {
        "id": 4,
        "text": "Erythromycin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Ofloxacin</strong> is the most&nbsp;bactericidal anti leprotic drug amongst the given drugs.</p>\n<p>It exhibits high activity against <em>M. leprae</em>, and it is being used in <strong>alternative</strong> multidrug therapy (<strong>MDT</strong>) regimens in rifampicin-resistant cases.&nbsp;As a component of MDT, it has been found to hasten the bacteriological and clinical response.</p>\n<p>Among the macrolides, <strong>clarithromycin</strong> has activity against leprosy bacilli and is used for alternative MDT in cases resistant to both rifampicin and fluoroquinolones. Azithromycin shows activity against Mycobacterium avium complex but not lepra bacilli.</p>\n<p>Note: <strong>Rifampicin</strong> is the <strong>most potent</strong> bactericidal anti leprotic drug.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'M3 - Aiims 2017 May Recall Part-2';
        const quizFilename = 'm3-aiims-2017-may-recall-part-2-cefb82ed.html';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2017-18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>