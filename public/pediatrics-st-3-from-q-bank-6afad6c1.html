<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pediatrics St 3 (From Q-Bank) - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2017 - 18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A 15-year-old girl presented with episodes of brief involuntary muscular twitching that causes her to drop her toothbrush or teacup in the morning. Following investigations including an EEG, a diagnosis of juvenile myoclonic epilepsy was made. Which of the following is not a feature of it?",
    "choices": [
      {
        "id": 1,
        "text": "Sleep deprivation provokes seizures."
      },
      {
        "id": 2,
        "text": "Prognosis is generally good."
      },
      {
        "id": 3,
        "text": "Drug of choice is valproate."
      },
      {
        "id": 4,
        "text": "EEG shows 1-2 Hz spike waves."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In juvenile myoclonic epilepsy, EEG characteristically shows <strong>4-5 Hz</strong> polyspike and <strong>slow-wave</strong> discharges.</p>\n<p><strong>Juvenile myoclonic epilepsy (Janz syndrome):</strong></p>\n<ul>\n<li>It is the most common generalized epilepsy in young adults ( 12-18 years).</li>\n<li>They are benign generalized myoclonic seizures with a<strong> good prognosis.</strong></li>\n<li>They commonly <strong>affect the upper limbs more</strong> than the lower limbs and sometimes cause the <strong>dropping of objects</strong>.</li>\n<li>Typically, it starts in early adolescence (12-18 years), with 1 or more of the following manifestations:\n<ul>\n<li><strong>Myoclonic jerks in the morning</strong> (&ldquo;shock-like&rdquo; contraction of a muscle, that is often repeated), generalized tonic-clonic or clonic seizures upon awakening; and juvenile absences.</li>\n<li><strong>Sleep deprivation</strong>, alcohol (in older patients), and photic stimulation provoke&nbsp;seizures.</li>\n<li>The EEG usually shows generalized 4-5 Hz polyspike and slow-wave discharges.</li>\n</ul>\n</li>\n<li>The <strong>drug of choice</strong> for juvenile myoclonic epilepsy is <strong>valproate. </strong>Lamotrigine is also useful.<strong><br /></strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements regarding the treatment of RDS with surfactant is false?",
    "choices": [
      {
        "id": 1,
        "text": "It is given in neonates with RDS who fail CPAP"
      },
      {
        "id": 2,
        "text": "It is given prophylactically to all neonates at < 31 weeks gestation."
      },
      {
        "id": 3,
        "text": "It can be given as rescue treatment when RDS actually develops."
      },
      {
        "id": 4,
        "text": "Repeated dosing is given every 6-12 hr for a total of 2 to 4 doses."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Surfactant is given <strong>prophylactically to all neonates &lt; 28 weeks, </strong>not 31 weeks. It is given irrespective of the presence or absence of RDS. The <strong>route</strong> of administration is <strong>intratracheal.</strong></p>\n<p>Surfactant is indicated in all infants with <strong>moderate to severe RDS</strong>. It is also given as a <strong>rescue treatment</strong> when CPAP fails.</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Shreya, a 2-year-old girl, presented with irritability for 2 days. On examination, macrocephaly, hypotonia and spasticity were present with a positive head transillumination test. She started walking independently at 18 months and became dry by day a month before her 2nd birthday. An MRI-brain revealed cystic expansion of the fourth ventricle and midline cerebellar hypoplasia. What is the most likely diagnosis explaining her obstructive hydrocephalus?",
    "choices": [
      {
        "id": 1,
        "text": "Arnold-Chiari malformation"
      },
      {
        "id": 2,
        "text": "Aqueductal stenosis"
      },
      {
        "id": 3,
        "text": "Arachnoid villi malformation"
      },
      {
        "id": 4,
        "text": "Dandy-Walker syndrome"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The features of hydrocephalus like irritability along with macrocephaly, hypotonia and spasticity indicate a likely diagnosis of&nbsp;<strong>Dandy-Walker syndrome.</strong>&nbsp;A <strong>positive transillumination test</strong> is present in this syndrome. The child has <strong>developmental delay</strong> especially in motor and cognitive milestones because normally children walk independently at 12-13 months and become dry by day around 18 months.</p>\n<p>The Dandy-Walker malformation consists of a<strong> cystic expansion of the fourth ventricle</strong> in the posterior fossa and <strong>midline cerebellar hypoplasia.&nbsp;</strong>It results from a developmental failure of the <strong>roof of the fourth ventricle</strong> during embryogenesis. Most of&nbsp;the affected patients have hydrocephalus, agenesis of the posterior cerebellar vermis,&nbsp;and corpus callosum. Brisk tendon reflexes, spasticity, clonus, Babinski sign, cerebellar ataxia, and delayed motor and cognitive milestones are seen in this. Management is by <strong>shunting </strong>if hydrocephalus is present.<br /><br />The image below shows a sagittal section of the magnetic resonance tomography scan of a patient with&nbsp;Dandy-Walker syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bff7fa75ef354e2a893401a3c520551ex578x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1a0626d17c464910a94d4de750770e18x1280x3918.JPEG"
    ]
  },
  {
    "text": "Ayesha is a 9th standard girl who presented with a neck swelling, which began more than a year ago. Her mother says she is embarrassed about it and always covers her neck with a shawl when she goes to school. Her menstrual cycles have also become irregular as of late. Blood tests reveal slightly elevated TSH levels and the presence of thyroid peroxidase antibodies.  Which of the following is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Iodine deficiency"
      },
      {
        "id": 2,
        "text": "Congenital hypothyroidism"
      },
      {
        "id": 3,
        "text": "Graves disease"
      },
      {
        "id": 4,
        "text": "Chronic lymphocytic thyroiditis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The presence of thyroid peroxidase antibodies (TPO-Abs) and elevated thyroid-stimulating hormone (TSH) level in a child with a goitre is&nbsp;suggestive of <strong>chronic lymphocytic (Hashimoto) thyroiditis.</strong></p>\n<p><strong>Chronic lymphocytic (Hashimoto) thyroiditis </strong>is an autoimmune disease. Clinical presentation can include goitre, growth retardation, and other features of hypothyroidism. The thyroid&nbsp;is diffusely enlarged, firm, and non-tender.</p>\n<p>TSH is moderately elevated and&nbsp;TPO-Abs and anti-thyroglobulin antibodies (anti-Tg Abs) can be detected.</p>\n<p>The image given below shows goitre due to Hashimoto's thyroiditis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fe0bbd97a21d4d95bd3dc29fd8bf4dd6x800x598.JPEG"
    ]
  },
  {
    "text": "Gonads to testes differentiation is  most importantly determined by_________.",
    "choices": [
      {
        "id": 1,
        "text": "SRY gene"
      },
      {
        "id": 2,
        "text": "WNT-4 gene"
      },
      {
        "id": 3,
        "text": "DAX1 gene"
      },
      {
        "id": 4,
        "text": "WT1 gene"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Sex-determining region of the Y chromosome (SRY) is one of the most important regulators of sexual differentiation in males. In the <strong>absence of SRY</strong>, the bipotential gonad develops into<strong>&nbsp;the&nbsp;ovary.</strong></p>\n<p><strong>Note</strong>:</p>\n<p>Mullerian-inhibiting substance/Anti-Mullerian hormone also inhibits the development of the Mullerian duct, whereby female internal genitalia do not develop, thus promoting male genitalia formation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5ab82693696943fabf6858dd10e0a1eex800x527.JPEG"
    ]
  },
  {
    "text": "Cancer-'The emperor of all maladies spares no one'. Which of the following is the most common childhood malignancy?",
    "choices": [
      {
        "id": 1,
        "text": "Neuroblastoma"
      },
      {
        "id": 2,
        "text": "Astrocytoma"
      },
      {
        "id": 3,
        "text": "Acute lymphoblastic leukemia"
      },
      {
        "id": 4,
        "text": "Acute myeloid leukemia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Leukemias</strong> are the most common childhood malignancies. Among these,<strong>&nbsp;acute lymphoblastic leukemia (ALL)</strong> is <strong>the most common</strong>, accounting for about 77% of childhood leukemias.&nbsp;</p>\n<p>Most commons in childhood malignancies:</p>\n<ul>\n<li>Second most common malignancy in childhood: Brain tumor</li>\n<li>Third most common malignancy in children: Lymphoma</li>\n<li><strong>Most common</strong> <strong>solid tumor</strong> in children:&nbsp;<strong>Brain tumor</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 41-year-old entrepreneur is excited to start her family. She has been getting a lot of unsolicited advice about the complications of pregnancy in advanced maternal age. On enquiring about such pregnancies, the doctor advised the mother to get prenatal testing done. All are findings associated with the prenatal diagnosis for Down\u2019s syndrome except _________",
    "choices": [
      {
        "id": 1,
        "text": "Reduced femur and humerus length"
      },
      {
        "id": 2,
        "text": "Nuchal translucency >3 mm"
      },
      {
        "id": 3,
        "text": "Increased umbilical blood flow"
      },
      {
        "id": 4,
        "text": "Ventricular septal defect may be present"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Increased umbilical flow&nbsp;is not seen during the prenatal screening for Down&rsquo;s syndrome, instead, the <strong>flow is decreased</strong>.</p>\n<p><strong>Reduced blood flow</strong> through the umbilical vessels and abnormal blood flow through <strong>ductus venosus (DV)</strong> in the first trimester are associated with <strong>chromosomal abnormalities,</strong> especially Down's syndrome.&nbsp;This decrease in blood flow causes <strong>IUGR</strong> in infants born with Down syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Investigation of choice to diagnose congenital adrenal hyperplasia due to 21-hydroxylase deficiency is estimation of ____________ levels.",
    "choices": [
      {
        "id": 1,
        "text": "21-Hydroxylase"
      },
      {
        "id": 2,
        "text": "17-Hydroxyprogesterone"
      },
      {
        "id": 3,
        "text": "3\u03b2-Hydroxysteroid dehydrogenase"
      },
      {
        "id": 4,
        "text": "11-Deoxycortisol"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>17-hydroxyprogesterone </strong>levels estimation<strong>\u00a0</strong>is<strong>\u00a0</strong>the<strong>\u00a0</strong>investigation of choice to diagnose\u00a0<strong>CAH</strong> due to <strong>21 hydroxylase deficiency.\u00a0</strong>It will be markedly <strong>elevated</strong>.</p>\n<p>Other findings include:</p>\n<ol>\n<li>Elevated androstenedione and testosterone (in females).</li>\n<li>Low cortisol and aldosterone.</li>\n<li>Elevated ACTH levels.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/16d10c557fe24ef5859ddc65e9c58f4bx1280x1969.6473906911142.JPEG"
    ]
  },
  {
    "text": "A 6-year-old child was brought to her pediatrician for routine well-child care. Her physical examination is normal except for a systolic murmur and a widely split second heart sound that does not vary with respiration. She has no family history of heart disease. Which among the following is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Total anomalous pulmonary venous connection"
      },
      {
        "id": 2,
        "text": "Ventricular Septal defect"
      },
      {
        "id": 3,
        "text": "Atrial septal defect"
      },
      {
        "id": 4,
        "text": "Pulmonic stenosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The age of the patient, normal physical findings except for a systolic murmur, and wide and fixed splitting of S2 are all in favor of a diagnosis of <strong>Atrial septal defect.</strong></p>\n<p>Most ASDs are<strong> asymptomatic</strong> and are picked up during routine physical examinations. A <strong>soft ejection systolic murmur</strong> best heard over the left upper sternal border is also commonly found.<br />The soft ejection systolic murmur is a flow murmur heard due to <strong>increased blood flow</strong> through the<strong> normal pulmonary valv</strong>e. A <strong>delayed diastolic murmur</strong> can also be heard in the tricuspid area. As the right ventricle now receives more blood, the time required for its emptying is increased resulting in<strong> prolonged P2</strong>. Since the <strong>two atria are linked,</strong> inspiration does not produce any net pressure changes between them <strong>abolishing respiration-related changes</strong> in venous return hence causing <strong>fixed S2.</strong></p>\n<p>Causes of Wide and fixed splitting of S2 include,</p>\n<ol>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Atrial septal defect</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">RBBB</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">TAPVC</li>\n</ol>\n<p>Other options:</p>\n<p>TAPVC -&nbsp; patients usually present with cyanosis and congestive cardiac failure around 4-10 weeks of age - this is when the fetal pulmonary vasculature regresses and there is increased pulmonary blood flow which results in early-onset cardiac failure. The physical findings are identical to ASD.</p>\n<p>VSD - is an acyanotic heart disease and physical findings include a pansystolic murmur best heard in the left 4th parasternal area and a wide and variable split S2 which is usually masked by the pansystolic murmur.</p>\n<p>PS - is an acyanotic heart disease and physical findings include an ejection systolic murmur and a thrill in the left second interface and a wide and variable split S2 because of delayed closure of P2.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A pregnant female arrives at your hospital for her antenatal check-up. As an intern, you were required to draw her family pedigree chart while taking history. She has previously delivered full-term healthy dizygotic twins 5 years back. Which of the following symbol will you use to denote dizygotic twins in a pedigree chart?",
    "choices": [
      {
        "id": 1,
        "text": "Option A"
      },
      {
        "id": 2,
        "text": "Option B"
      },
      {
        "id": 3,
        "text": "Option C"
      },
      {
        "id": 4,
        "text": "Option D"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Pedigree charts</strong> are graphical representations of a person's family tree and are useful for identifying the <strong>pattern of inheritance of genetic disorders</strong>. Thus, they are vital in the history-taking of patients, especially in pregnancy.&nbsp;<strong>Option B</strong> is the symbol denoting <strong>dizygotic twins</strong> in a pedigree chart.</p>\n<p>Option A denotes monozygotic twins in the pedigree chart.<br />Option C denotes offsprings.<br />Option D denotes consanguineous marriage.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7dc9d614587044a3b5703f9e76759084.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A young girl presents to you with learning disabilities.  On examination, you notice a characteristic finding as shown in the picture below. Reports of her investigation scans mention horseshoe kidneys and streak gonads. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Klinefelter\u2019s syndrome"
      },
      {
        "id": 2,
        "text": "Noonan\u2019s syndrome"
      },
      {
        "id": 3,
        "text": "Turner\u2019s syndrome"
      },
      {
        "id": 4,
        "text": "Fragile X- syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The child shows characteristic webbed neck, learning disabilities, horseshoe kidneys, and streak gonads and is diagnosed with <strong>Turner&rsquo;s syndrome.</strong></p>\n<p><strong>Turner&rsquo;s syndrome:</strong></p>\n<ul>\n<li>Karyotype, 45; XO, phenotypically females</li>\n<li>Chromosomal abnormality XO is present in 60% of individuals, mosaic pattern in 40%</li>\n<li>Intelligence remains normal</li>\n</ul>\n<p>Important features associated with Turner's syndrome: (mnemonic<strong>: See A Baby CLOWN Here)</strong></p>\n<ul>\n<li><strong>S</strong>hort stature,<strong> Short fourth metacarpal</strong>,&nbsp;<strong>S</strong>ensorineural hearing loss, <strong>S</strong>hield chest</li>\n<li><strong>A</strong>menorrhea (primary), infertility</li>\n<li><strong>B</strong>arr body absent</li>\n<li><strong>C</strong>ardiac defects, <strong>C</strong>ubitus valgus, <strong>C</strong>ongenital lymphedema</li>\n<li><strong>L</strong>:<strong>&nbsp;</strong>Learning disabilities</li>\n<li><strong>O</strong>varies underdeveloped (streak ovaries), <strong>Gonadoblastoma</strong> (increased risk if Y chromosome material is present)</li>\n<li><strong>W</strong>ebbed neck</li>\n<li><strong>N</strong>ipples widely spaced</li>\n<li><strong>H</strong>orseshoe kidneys</li>\n</ul>\n<p><strong>Note</strong>:</p>\n<p>The&nbsp;<strong>most common</strong> cardiac defect in Turner's is <strong>bicuspid aortic valve &gt;</strong> coarctation of aorta.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e3a34f198cd348d9a3e1d1762307a608.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 3-year-old boy presented to the clinic for a missed vaccination. His routine anthropometric measurements were noted. He was found to be 90 cm tall with a lower segment of 45 cm. Which among the following is the most likely diagnosis in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Congenital hypothyroidism"
      },
      {
        "id": 2,
        "text": "Achondroplasia"
      },
      {
        "id": 3,
        "text": "Rickets"
      },
      {
        "id": 4,
        "text": "Spondyloepiphyseal dysplasia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The upper segment to lower segment (U/L) ratio in this child is 1. The <strong>U/L ratio is low</strong> for his age which makes <strong>spondyloepiphyseal dysplasia</strong> most likely among the given options.</p>\n<p>The lower segment is defined as the length from the symphysis pubis to the floor. The upper segment is measured by subtracting the lower segment from the height.</p>\n<p>The U/L ratio is</p>\n<ul>\n<li>1.7 at birth</li>\n<li>1.3 at 3 years</li>\n<li><strong>1 after 7 years</strong></li>\n<li>0.9 in adults</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ff4b272b8f7744ad8515e1f3a41a04c2x1280x1269.JPEG"
    ]
  },
  {
    "text": "A child developed dark coloured urine and flank pain 2 days after an upper respiratory tract infection. The physician suspects IgA nephropathy. What is the location of cellular injury in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Epithelial cell"
      },
      {
        "id": 2,
        "text": "Basement membrane"
      },
      {
        "id": 3,
        "text": "Endothelial cell"
      },
      {
        "id": 4,
        "text": "Mesangial cell"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The location of cellular injury in&nbsp;<strong>IgA nephropathy</strong> (Berger nephropathy) is the deposition of IgA antibodies in the&nbsp;<strong>mesangial cell</strong>.</p>\n<p>Mesangial cells are directly exposed to the circulation; therefore, they are affected in diseases characterized by the deposition of immune complexes.</p>\n<p><strong>Mesangial cell diseases:</strong></p>\n<ul>\n<li>IgA nephropathy</li>\n<li>IgM nephropathy</li>\n<li>Mesangioproliferative glomerulonephritis</li>\n<li>Class II lupus nephritis</li>\n<li>Diabetic nephropathy</li>\n</ul>\n<p>Note: In <strong>IgA nephropathy</strong> gross hematuria often occurs within <strong>1-2 days</strong> of onset of an upper respiratory or gastrointestinal infection. In contrast, a longer latency period of about <strong>1-2 weeks</strong> is observed in acute <strong>postinfectious glomerulonephritis.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Unconjugated hyperbilirubinemia, which did not subside even after 3 weeks of birth, was observed in a neonate. On investigating, liver enzymes, PT/INR and albumin levels were normal. No hemolysis was seen on a peripheral blood smear. A drop in bilirubin level was observed within a week after treating with phenobarbital. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Rotor syndrome"
      },
      {
        "id": 2,
        "text": "Crigler Najjar type 2"
      },
      {
        "id": 3,
        "text": "Dubin Johnson syndrome"
      },
      {
        "id": 4,
        "text": "Crigler Najjar type 1"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Jaundice persisiting <strong>3 weeks after birth</strong> is suggestive of&nbsp;<strong>pathological jaundice</strong>. Among the given options,&nbsp;<strong>Crigler Najjar type</strong>&nbsp;<strong>2&nbsp;</strong>presents with&nbsp;<strong>unconjugated</strong> hyperbilirubinemia which <strong>responds</strong> to&nbsp;<strong>p</strong><strong>henobarbital therapy</strong>.<strong>&nbsp;</strong>&nbsp;</p>\n<p><strong>Dubin Johnson</strong> (option C) and <strong>Rotor&nbsp;</strong>(option A) syndromes lead to <strong>conjugated hyperbilirubinemia</strong>.&nbsp;</p>\n<p><span class=\"fontstyle0\">Crigler Najjar type 2 is an <strong>autosomal recessive</strong> disease with <strong>non-hemolytic</strong>, <strong>unconjugated</strong> hyperbilirubinemia caused by homozygous missense mutations in the enzyme UDP <strong>UGT1A1</strong>&nbsp;resulting in reduced (partial) enzymatic activity.</span></p>\n<p>The differences between Crigler-Najjar type 1 and type 2 are described in the table below:</p>\n<table>\n<tbody>\n<tr>\n<td style=\"text-align: center;\"><strong>Crigler Najjar Type 1</strong></td>\n<td style=\"text-align: center;\">&nbsp;</td>\n<td style=\"text-align: center;\"><strong>Crigler Najjar Type 2</strong></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">Autosomal recessive</td>\n<td style=\"text-align: center;\">&nbsp;</td>\n<td style=\"text-align: center;\">Autosomal recessive</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">UDPGT is <strong>absent</strong></td>\n<td style=\"text-align: center;\">&nbsp;</td>\n<td style=\"text-align: center;\">UDPGT is <strong>reduced</strong></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">Severe unconjugated hyperbilirubinemia</td>\n<td style=\"text-align: center;\">&nbsp;</td>\n<td style=\"text-align: center;\">Less severe</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">Pale stools</td>\n<td style=\"text-align: center;\">&nbsp;</td>\n<td style=\"text-align: center;\">Normal-coloured stools</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">May proceed to <strong>kernicterus&nbsp;</strong>and <strong>does not</strong><strong>&nbsp;respond to phenobarbitone</strong></td>\n<td style=\"text-align: center;\">&nbsp;</td>\n<td style=\"text-align: center;\">Does not proceed to kernicterus and <strong>is responsive to phenobarbitone</strong></td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A mother brings her 2-month-old blue baby to your pediatric clinic for the first time. Neonatal records were not available but the mother says that the X-ray of the baby looked like that of a shoe. Which of the following wouldn't you expect in this baby?",
    "choices": [
      {
        "id": 1,
        "text": "Soft P2"
      },
      {
        "id": 2,
        "text": "Large ascending aortic root"
      },
      {
        "id": 3,
        "text": "Cardiomegaly"
      },
      {
        "id": 4,
        "text": "Large \"a\" waves in jugular venous pulse"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given history of the shoe (boot) shaped heart in cyanotic baby is suggestive of&nbsp;<strong>tetralogy of Fallot</strong> and <strong>cardiomegaly</strong> is <strong>not</strong> a part of TOF presentation.&nbsp;</p>\n<p>In the tetralogy of Fallot (TOF), we see concentric right ventricular hypertrophy <strong>without cardiac enlargement. </strong>It is because of pulmonary stenosis (PS) and the ventricular septal defect (VSD).&nbsp;Any build-up of pressure in the right ventricle due to PS is released through VSD to the left ventricle.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are assisting on a left partial nephrectomy in a child with Wilms tumor. Intraoperatively, a small mass is noted on the right kidney as well. Frozen section reveals it to be a Wilms tumor. What is the stage of Wilm's tumor in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Stage 2"
      },
      {
        "id": 2,
        "text": "Stage 3"
      },
      {
        "id": 3,
        "text": "Stage 4"
      },
      {
        "id": 4,
        "text": "Stage 5"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Wilms tumor with <strong>involvement</strong> of<strong> both kidneys</strong>&nbsp;is <strong>stage 5.</strong></p>\n<h2><span style=\"font-size: 10pt;\">Children&rsquo;s Oncology Group (COG) Staging System</span></h2>\n<table>\n<tbody>\n<tr>\n<td width=\"94\">\n<p>Stage I</p>\n</td>\n<td width=\"357\">\n<p>Tumor confined to the kidney and completely resected with negative lymph nodes.</p>\n</td>\n</tr>\n<tr>\n<td width=\"94\">\n<p>Stage II</p>\n</td>\n<td width=\"357\">\n<p>Tumor extends beyond the kidney but is completely resected with negative margins and lymph nodes.</p>\n</td>\n</tr>\n<tr>\n<td width=\"94\">\n<p>Stage III</p>\n</td>\n<td width=\"357\">\n<p>Residual tumor present following surgery confined to the abdomen, including gross or microscopic tumor.</p>\n</td>\n</tr>\n<tr>\n<td width=\"94\">\n<p>Stage IV</p>\n</td>\n<td width=\"357\">\n<p>Hematogenous metastases (lung, liver, bone, brain, etc.)</p>\n<p>or lymph node metastases outside the abdominopelvic&nbsp;region</p>\n</td>\n</tr>\n<tr>\n<td width=\"94\">\n<p><strong>Stage V</strong></p>\n</td>\n<td width=\"357\">\n<p><strong>Metastasis to opposite kidney (bilateral renal involvement)</strong></p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The parents of a neonate diagnosed with congenital adrenal hyperplasia come with queries about the disease. They have been told that it's an inherited condition and ask you how is it possible for the baby to be affected when neither of the parents are. What is the mode of inheritance of the disease?",
    "choices": [
      {
        "id": 1,
        "text": "Autosomal recessive"
      },
      {
        "id": 2,
        "text": "Autosomal dominant"
      },
      {
        "id": 3,
        "text": "X-linked recessive"
      },
      {
        "id": 4,
        "text": "X-linked dominant"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Congenital adrenal hyperplasia </strong>/ adrenogenital syndrome follows an\u00a0<strong>autosomal recessive</strong> inheritance pattern.</p>\n<p>Depending on the enzyme that is deficient, patients will have :</p>\n<ul>\n<li><strong>Mineralocorticoid</strong> deficiency (hyponatremia, hyperkalemia) or excess (hypernatremia, hypokalemia)</li>\n<li><strong>Incomplete virilization</strong> or precocious puberty in <strong>males</strong></li>\n<li><strong>Virilization</strong> or sexual infantilism in <strong>females</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2674c278420644d7991dc5a28d411469x1280x1344.0902679830747.JPEG"
    ]
  },
  {
    "text": "An unbooked primigravida, with no antenatal records, delivers a 2.5kg male baby by normal delivery. While ascertaining the maturity of the child, which of the following would be against a diagnosis of prematurity?",
    "choices": [
      {
        "id": 1,
        "text": "No creases on sole"
      },
      {
        "id": 2,
        "text": "Insignificant breast nodule"
      },
      {
        "id": 3,
        "text": "Thick ear cartilage"
      },
      {
        "id": 4,
        "text": "Empty scrotum"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><span data-token-index=\"0\" data-reactroot=\"\"><strong>Thick cartilage</strong></span> with a<span data-token-index=\"2\" data-reactroot=\"\"> <strong>stiff ear</strong></span> in a newborn is a sign of <strong>maturity</strong> (not prematurity).</p>\n<table>\n<tbody>\n<tr>\n<td style=\"text-align: center;\"><strong>Score</strong></td>\n<td style=\"text-align: center;\"><strong>Ear</strong></td>\n</tr>\n<tr>\n<td>0</td>\n<td>Pinna flat and stays folded; no recoil</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Slightly curved pinna; soft; slow recoil</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Well-curved pinna; soft but ready recoil</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Formed &amp; firm, instant recoil</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Thick cartilage, ear stiff</td>\n</tr>\n</tbody>\n</table>\n<p>No creases on the sole, insignificant breast nodule, and empty scrotum are all physical signs of prematurity in a newborn.</p>\n<p>Note:</p>\n<p>Abundant lanugo hair is not discriminatory evidence of prematurity. This is because neonates of diabetic mothers born as a term or even post-term have abundant lanugo hair, especially over the pinna and upper back.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7149845493384a3e8793e0ac4363ff1ax1280x1758.420310296192.JPEG"
    ]
  },
  {
    "text": "Reena, a 34-year-old lady with gestation diabetes mellitus delivers an LGA baby at 37 weeks. What would the birth weight of this child be?",
    "choices": [
      {
        "id": 1,
        "text": ">75th Percentile"
      },
      {
        "id": 2,
        "text": ">97th Percentile"
      },
      {
        "id": 3,
        "text": ">90th Percentile"
      },
      {
        "id": 4,
        "text": ">95th Percentile"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Infants with birth weight&nbsp;<strong>greater than&nbsp;the 90th</strong>&nbsp;<strong>percentile</strong> for their gestational age are called large for gestational age (<strong>LGA</strong>) babies.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7cdc009d15114f5389f9a0ba7ad06baax1280x1908.JPEG"
    ]
  },
  {
    "text": "NADA\u2019s criteria is used in",
    "choices": [
      {
        "id": 1,
        "text": "Assessment of child for the presence of malnutition"
      },
      {
        "id": 2,
        "text": "Assessment of child for the presence of dehydration"
      },
      {
        "id": 3,
        "text": "Assessment of child for the presence of heart disease"
      },
      {
        "id": 4,
        "text": "Assessment of child for the presence of mental retardation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>NADA&rsquo;s criteria is used to assess the presence of heart disease in children.</li>\n<li>Presence of 1 major <strong>or</strong> 2 minor criteria indicates congenital heart disease.</li>\n</ul>\n<table style=\"width: 258px;\">\n<tbody>\n<tr style=\"height: 13px;\">\n<td style=\"width: 274px; height: 13px;\"><strong>Major criteria</strong></td>\n<td style=\"width: 254px; height: 13px;\"><strong>Minor criteria</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 274px; height: 13px;\"><strong>Systolic murmur grade 3 or more</strong></td>\n<td style=\"width: 254px; height: 13px;\"><strong>Systolic murmur grade 1 or 2</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 274px; height: 13px;\"><strong>Diastolic murmur</strong></td>\n<td style=\"width: 254px; height: 13px;\"><strong>Abnormal second sound</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 274px; height: 13px;\"><strong>Cyanosis</strong></td>\n<td style=\"width: 254px; height: 13px;\"><strong>Abnormal EKG</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 274px; height: 13px;\"><strong>Congestive cardiac failure</strong></td>\n<td style=\"width: 254px; height: 13px;\"><strong>Abnormal X-ray</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 274px; height: 13px;\"><strong>&nbsp;</strong></td>\n<td style=\"width: 254px; height: 13px;\"><strong>Abnormal BP</strong></td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 9-day-old infant has elevated TSH level and low T4 level on newborn screening. If this condition is left untreated, which of the following is most likely to be seen in this infant in the first few months of life?",
    "choices": [
      {
        "id": 1,
        "text": "Hyperreflexia"
      },
      {
        "id": 2,
        "text": "Hyperirritability"
      },
      {
        "id": 3,
        "text": "Diarrhea"
      },
      {
        "id": 4,
        "text": "Prolonged jaundice"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Elevated TSH&nbsp;levels and low T4 levels in a 9-day-old infant&nbsp;are suggestive of congenital hypothyroidism. <strong>Prolongation of physiologic hyperbilirubinemia</strong> is an early sign of congenital hypothyroidism. It is due to delayed maturation of the hepatic glucuronide conjugation system.</p>\n<p>Hyperreflexia, hyperirritability and diarrhoea are seen in hyperthyroidism; not hypothyroidism.</p>\n<p><strong>Note</strong>:</p>\n<p><strong>Kocher&ndash;Debr&eacute;&ndash;S&eacute;m&eacute;laigne syndrome:</strong>&nbsp;The muscles are <strong>usually hypotonic</strong> in <strong>congenital hypothyroidism</strong>. Rarely, hypothyroidism in infancy can be characterized by generalized <strong>muscular pseudohypertrophy</strong>, myxoedema, short stature and cretinism. Affected older children can have an athletic appearance. Boys are more prone to the development of the syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An incessantly crying 5-year-old girl is brought to the OPD by her father. You observe that she needs support to walk and her trunk is not symmetrically aligned. There is a history of recurrent fractures in her limbs. She also has blood-stained vaginal discharge from a few days. On examination, the girl appears as shown in the image below. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Prader-Willi Syndrome"
      },
      {
        "id": 2,
        "text": "Reifenstein Syndrome"
      },
      {
        "id": 3,
        "text": "McCune-Albright syndrome"
      },
      {
        "id": 4,
        "text": "Polyostotic fibrous dysplasia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Precocious puberty</strong>(vaginal discharge), <strong>bony lesions</strong> (polyostotic fibrous dysplasia), and <strong>cafe au lait spots</strong>, as shown in the picture, are features of McCune&ndash;Albright syndrome. There is <strong>pain</strong> due to the multiple bony lesions and <strong>repeated fractures </strong>may result in incessant crying in the children and may require regular visits to the orthopaedics department.&nbsp;</p>\n<p>McCune&ndash;Albright syndrome is a classical cause of peripheral precocious puberty&nbsp;<span class=\"st\">caused by a mutation of&nbsp;<strong><em>GNAS1</em>&nbsp;gene</strong>. </span><span class=\"st\" data-hveid=\"122\" data-ved=\"0ahUKEwjNjvuczb7aAhUhR48KHfVTBmsQ4EUIejAN\">It affects the bones, skin, and several endocrine tissues.</span></p>\n<p><span class=\"st\" data-hveid=\"122\" data-ved=\"0ahUKEwjNjvuczb7aAhUhR48KHfVTBmsQ4EUIejAN\">Fibrous dysplasia of multiple bones (polyostotic) represents a major cause of morbidity in this syndrome. The base of the skull and the proximal femurs are most commonly involved, but any bone can be affected. A CT scan is usually recommended even in absence of deformities.&nbsp;The prognosis is favourable for longevity, but deformities, <strong>repeated fractures</strong>, <strong>pain</strong>, and occasional cranial nerve compression may result from the bony lesions.</span></p>\n<p><strong>Cardinal features</strong>:<strong><br /></strong></p>\n<ul>\n<li>Polyostotic fibrous dysplasia</li>\n<li><strong>Cafe au lait macules</strong></li>\n<li>Endocrine&nbsp;abnormalities: hyperthyroidism, acromegaly, adrenal adenomas, and <strong>autonomous ovarian hyperfunction, leading to precocious puberty</strong></li>\n<li>Predominantly affects girls</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a4a01aca38c44ac19765f89dee0e27e1.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Cheilitis is caused by _____.",
    "choices": [
      {
        "id": 1,
        "text": "Frequent lip licking"
      },
      {
        "id": 2,
        "text": "Bacterial infection"
      },
      {
        "id": 3,
        "text": "Vitamin deficiency"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Cheilitis</strong> is dryness of the lips followed by scaling and cracking, accompanied by a burning sensation. It is common in children. It is caused by</p>\n<ul>\n<li><strong>Frequent lip licking</strong></li>\n<li><strong>Vitamin B2, B6, B12 deficiency</strong></li>\n<li>Weakened immune system</li>\n<li>Sensitivity to contact substances</li>\n<li><strong>Bacterial or fungal infections</strong></li>\n</ul>\n<p>Treatment: Frequent application of petroleum jelly and antibacterial/antifungal agents.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Oxygenated blood is carried to the fetus by ______.",
    "choices": [
      {
        "id": 1,
        "text": "The umbilical arteries"
      },
      {
        "id": 2,
        "text": "The inferior vena cava"
      },
      {
        "id": 3,
        "text": "Both a and b"
      },
      {
        "id": 4,
        "text": "The umbilical vein"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Oxygenated blood is carried to the fetus by the<strong> umbilical vein.</strong></p>\n<p>The umbilical venous blood shunts via the ductus venosus into the inferior vena cava. Thus, the inferior vena cava, which also carries blood from hepatic veins, kidneys, and from lower extremities carries a mixture of deoxygenated and oxygenated blood. So, the highest percentage of oxygen in the fetal circulation is in the <strong>umbilical vein,</strong> followed by the inferior vena cava.</p>\n<p>The umbilical arteries carry deoxygenated blood from the fetus to the placenta for oxygenation.&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An ECG finding of right ventricular enlargement in a 2-year-old child is most consistent with which of the following disorders?",
    "choices": [
      {
        "id": 1,
        "text": "Atrial septal defect"
      },
      {
        "id": 2,
        "text": "Patent ductus arteriosus"
      },
      {
        "id": 3,
        "text": "Ventricular septal defect"
      },
      {
        "id": 4,
        "text": "Tricuspid atresia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In <strong>atrial septal defect</strong> (ASD), there is a <strong>left-to-right shunt,</strong> resulting in <strong>increased blood flow</strong> through the<strong> right side of the heart,</strong> which leads to enlargement of the right atrium and ventricle and dilation of the pulmonary artery, the left atrium may also be enlarged, but the left ventricle and aorta are normal in size.</p>\n<p><strong>Patent ductus arteriosus</strong> (PDA): There is shunting of blood from the aorta to the pulmonary trunk<strong>,</strong>&nbsp;which goes into the lungs and then again to the LA and LV. If the ductus is large, left ventricular or biventricular hypertrophy is present.</p>\n<p>In <strong>ventricular septal defect</strong> (VSD), there is shunting of blood from the left ventricle to the&nbsp;right ventricle, but most of the <strong>blood is shunted directly to the inflow tract</strong> of the pulmonary trunk, so, there is <strong>no</strong> <strong>significant right ventricular hypertrophy</strong>. In VSD, the pulmonary artery left atrium, and left ventricle are enlarged<strong>.</strong></p>\n<p>In <strong>Tricuspid atresia</strong>, there is right to left shunting of blood through an ASD as the tricuspid valve is dysfunctional due to which the entire <strong>systemic venous return enters the left side</strong> of the heart using the foramen ovale or through an ASD, and hence, there is <strong>left ventricular hypertrophy.</strong></p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 20-month-old child diagnosed with severe acute malnutrition (SAM) is receiving treatment in your clinic. Given below are five statements regarding the treatment. Pick out the incorrect statements.",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3, 4, 5"
      },
      {
        "id": 2,
        "text": "1, 3, 5"
      },
      {
        "id": 3,
        "text": "2 and 4 only"
      },
      {
        "id": 4,
        "text": "3 only"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Vitamin A</strong> is <strong>not\u00a0</strong><strong>given daily\u00a0</strong>in the treatment of SAM. It\u00a0is given on <strong>day 1, day 2</strong> and <strong>day 14.</strong></p>\n<p>The general treatment involves <strong>10 steps in 2 phases:</strong></p>\n<p><strong>Initial stabilization phase:\u00a0</strong>It focuses on restoring homeostasis and treating medical conditions and requires<strong> 2-7 days</strong> of inpatient treatment.</p>\n<p><strong>Mnemonic: SHIELDED</strong></p>\n<ul>\n<li><strong>S</strong>ugar deficiency(hypoglycemia)\u00a0</li>\n<li><strong>H</strong>ypothermia</li>\n<li><strong>I</strong>nfection</li>\n<li><strong>E</strong><strong>L</strong>ectrolyte imbalance</li>\n<li><strong>DE</strong>hydration</li>\n<li><strong>D</strong>eficiency of nutrients</li>\n</ul>\n<p><strong>R</strong><strong>ehabilitation phase: </strong>It focuses on rebuilding wasted tissue and generally takes <strong>several weeks.</strong></p>\n<p><strong>Steps:</strong></p>\n<ul>\n<li>Treat <strong>hypoglycemia</strong> (blood glucose level &lt;54 mg/dl): if symptomatic, give 10% Dextrose IV at 5ml/kg. Feeding should be initiated with starter <strong>F-75</strong> (formula with 75 kcal/100 ml of feed)</li>\n<li>Treat <strong>hypothermia</strong> (axillary &lt;35\u00b0C or 95\u00b0F): Skin-to-skin contact with care called \u201c<strong>kangaroo technique\u201d </strong>or dress in warmer clothes, cover head, wrap in a warmed blanket, and provide indirect heat.</li>\n<li>Treat <strong>dehydration</strong>:\u00a0Hydrate with <strong>ReSoMal</strong> (45 mmol Na/L). It is a low-sodium rehydration solution for malnutrition.</li>\n<li>Correct <strong>electrolyte imbalance</strong>:\u00a0There is a deficit of potassium and magnesium and excess sodium. Give extra potassium (3 to 4 mEq/kg/day) and magnesium (4 mEq/ kg/day) for at least 2 weeks.</li>\n<li>Treat an\u00a0<strong>infection</strong>:\u00a0Starting on the first day, give broad-spectrum antibiotics to all children.</li>\n<li>Correct <strong>micronutrient deficiencies</strong>:\n<ul>\n<li><strong>Do not give iron </strong>in the<strong> stabilization phase,</strong>\u00a0because excess iron leads to free radical injury. Give iron 3 mg/kg/day once the child starts gaining weight after the stabilization phase.</li>\n<li>Give vitamin A on day 1. Repeat on day 2 and day 14.</li>\n<li>Folic acid 1 mg (5 mg on day 1)</li>\n<li>Zinc (2 mg/kg/day)</li>\n<li>Copper (0.3 mg/kg/day)</li>\n</ul>\n</li>\n<li>Start <strong>cautious feeding</strong>: Give 8 to 12 small feeds of F75 feeds. It is low-lactose milk that contains\u00a0<strong>75 kcal and 0.9 g protein per 100 mL</strong>.\u00a0 After 3 days, transition to\u00a0<strong>F100 feeds</strong>\u00a0is made which is called a catch-up<strong>\u00a0diet.\u00a0</strong>This\u00a0provides 100 kcal and 2.9 g protein per 100 mL. After 1 week, calories are further increased to 150\u2013200 kcal/kg/day and protein to 4\u20136 g/kg/day.</li>\n<li><strong>Rehabilitation</strong>: The indications of entry to this phase are reduced/minimal oedema and the return of appetite.\n<ul>\n<li>Beginning of feeding.</li>\n<li>After 3 days, the transition to energy-dense feeding</li>\n<li>Stimulation of emotional and sensorial development</li>\n<li>Transfer to home-based diet</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/22a6f8392f5641839c27b495dcf6099dx1280x1485.JPEG"
    ]
  },
  {
    "text": "Which of the following mothers can initiate breastfeeding?",
    "choices": [
      {
        "id": 1,
        "text": "3 only"
      },
      {
        "id": 2,
        "text": "2 and 5 only"
      },
      {
        "id": 3,
        "text": "1 and 4 only"
      },
      {
        "id": 4,
        "text": "2 only"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The correct answer is <strong>2 and 5 only.\u00a0</strong>Breastfeeding is not\u00a0contraindicated if the mother has hepatitis B infection or if she is a chronic smoker.</p>\n<p>Infants born to an HbsAg positive mother routinely receive hepatitis B immunoglobulin and hepatitis B vaccine. So, a delay in the initiation of breastfeeding is not required.</p>\n<table style=\"height: 586px; width: 412px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 402px; height: 18px;\" colspan=\"2\"><strong>Contraindications of breastfeeding:</strong></td>\n</tr>\n<tr style=\"height: 130px;\">\n<td style=\"width: 152.672px; height: 130px;\">\n<p><strong>Do not</strong> Breastfeed</p>\n<p><strong>Do not</strong> give expressed breastmilk</p>\n</td>\n<td style=\"width: 243.328px; height: 130px;\">\n<p>Infant factors:</p>\n<ul>\n<li>Classic galactosemia</li>\n</ul>\n<p>Maternal factors:</p>\n<ul>\n<li>Human T-cell lymphocyte virus (HTLV) infection</li>\n<li>Ebola virus infection</li>\n<li>PCP/cocaine abuse</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 150px;\">\n<td style=\"width: 152.672px; height: 150px;\">\n<p>Do not Breastfeed <strong>(Temporarily)</strong></p>\n<p>Do not give expressed breastmilk\u00a0 <strong>(Temporarily)</strong></p>\n</td>\n<td style=\"width: 243.328px; height: 150px;\">\n<p>Maternal factors:</p>\n<ul>\n<li>Brucellosis</li>\n<li>undergoing diagnostic imaging with radiopharmaceuticals</li>\n<li><strong>Active herpes simplex virus (HSV) infection</strong> with lesions on the breasts</li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 132px;\">\n<td style=\"width: 152.672px; height: 132px;\">\n<p>Do not Breastfeed <strong>(Temporarily)</strong></p>\n<p><strong>Can</strong>\u00a0give expressed breastmilk</p>\n</td>\n<td style=\"width: 243.328px; height: 132px;\">\n<p>Maternal factors:</p>\n<ul>\n<li>Untreated, active Tuberculosis</li>\n<li>Active Varicella infection</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Alcohol consumption and smoking are NOT contraindications of breastfeeding. However, smoking and alcohol consumption should be discouraged.</p>\n<p><strong>Note:\u00a0</strong>In a mother with untreated, active tuberculosis:</p>\n<ul>\n<li>Temporarily withhold breastfeeding but <strong>can feed with expressed breastmilk</strong></li>\n<li><strong>Resume breastfeeding</strong> once she has been adequately treated for <strong>2 weeks</strong> and is no longer contagious.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 4-year-old boy was brought by his mother with new-onset nocturnal bedwetting. She also reported, he has been drinking more water for the last 3-4 months. 24-hour urine volume was 4 liters and the urine osmolality was low. ADH assays recorded a value was 0.7 pg/mL. T1 weighted MRI brain indicated an absence of a pituitary bright spot. What is the treatment of choice for his condition?",
    "choices": [
      {
        "id": 1,
        "text": "Leuprolide"
      },
      {
        "id": 2,
        "text": "Thiazide diuretics"
      },
      {
        "id": 3,
        "text": "Desmopressin"
      },
      {
        "id": 4,
        "text": "Terlipressin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario is suggestive of <strong>central</strong>&nbsp;<strong>diabetes insipidus</strong>. The treatment of choice is&nbsp;<strong>desmopressin</strong>. It is&nbsp;a <strong>vasopressin analog</strong> (V2 receptor agonist). It can be administered intranasally, or subcutaneously.&nbsp;</p>\n<p>Option A: Leuprolide&nbsp;is a&nbsp;<strong>GnRH</strong>&nbsp;(gonadotropin-releasing hormone)&nbsp;<strong>analog</strong>&nbsp;used in the treatment of prostate cancer, breast cancer, and endometriosis.</p>\n<p>Option B: Thiazides&nbsp;paradoxically exert an antidiuretic effect in DI but are not the drug of choice. They are generally used in&nbsp;<strong>nephrogenic DI.</strong></p>\n<p>Option D: Terlipressin&nbsp;is a long-acting analog on vasopressin that acts on V1 receptors of vascular smooth muscle. It is used as a vasopressor in shock and acute variceal bleeding.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A mother brought her 10-month-old baby to the hospital with sudden onset vomiting. She has also been noticing an alarming increase in the head size of the baby. On examination, significant macrocephaly is seen. MRI reveals a supratentorial tumor. Which of the following tumors is the most likely cause of this child's presentation?",
    "choices": [
      {
        "id": 1,
        "text": "Medulloblastoma"
      },
      {
        "id": 2,
        "text": "Pilocytic astrocytoma"
      },
      {
        "id": 3,
        "text": "Ependymoma"
      },
      {
        "id": 4,
        "text": "Choroid plexus carcinoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Choroid plexus carcinoma</strong> is a pediatric <strong>supratentorial</strong> tumor presenting with<strong> macrocephaly</strong> and focal neurologic deficits.</p>\n<p>Choroid plexus tumors are the <strong>most common CNS tumors in children aged less than 1 year.&nbsp;</strong>These tumors are<strong> intraventricular epithelial neoplasms</strong> arising from the choroid plexus.&nbsp;</p>\n<p>Children present with signs and symptoms of increased intracranial pressure (ICP), whereas infants may present with macrocephaly and focal neurologic deficits.</p>\n<p>Medulloblastoma, pilocytic astrocytoma, and ependymoma, are all predominantly infratentorial tumors.</p>\n<p>The age-related differences in the&nbsp;primary location of the tumor are given below:</p>\n<table style=\"width: 539px;\">\n<tbody>\n<tr>\n<td style=\"width: 94.91667175292969px;\">Age</td>\n<td style=\"width: 207.0833282470703px;\">Predominant Site</td>\n<td style=\"width: 218px;\">Examples</td>\n</tr>\n<tr>\n<td style=\"width: 94.91667175292969px;\">&lt; 1 year</td>\n<td style=\"width: 207.0833282470703px;\">Supratentorial</td>\n<td style=\"width: 218px;\">Choroid plexus tumor and teratoma</td>\n</tr>\n<tr>\n<td style=\"width: 94.91667175292969px;\">1 - 10 years</td>\n<td style=\"width: 207.0833282470703px;\">Infratentorial</td>\n<td style=\"width: 218px;\">Juvenile pilocytic astrocytoma and medulloblastoma</td>\n</tr>\n<tr>\n<td style=\"width: 94.91667175292969px;\">&gt; 10 years</td>\n<td style=\"width: 207.0833282470703px;\">Supratentorial</td>\n<td style=\"width: 218px;\">Diffuse astrocytoma</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following conditions is an FDA approved indication for GH treatment to promote growth?",
    "choices": [
      {
        "id": 1,
        "text": "Maternal deprivation dwarfism"
      },
      {
        "id": 2,
        "text": "Laron dwarfism"
      },
      {
        "id": 3,
        "text": "Klinefelter\u2019s syndrome"
      },
      {
        "id": 4,
        "text": "Turner\u2019s syndrome"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>Turner&rsquo;s syndrome (45XO) is characterized by short stature and ovarian dysgenesis (B/L streak ovaries). <strong>The short stature in Turner&rsquo;s will improve with growth hormone administration.</strong></li>\n<li>Klinefelter&rsquo;s syndrome (47XXY) is characterized by <strong>tall stature</strong>, eunuchoid appearance, sterility and gynaecomastia. Due to tall stature, growth hormone therapy is unnecessary.</li>\n<li>Laron dwarfism is due to a mutation in GH receptor leading to end organ resistance to GH. The <strong>circulating levels of GH are already high</strong>, therefore GH therapy is unnecessary. The condition may improve with administration of human recombinant IGF-1.</li>\n<li>Maternal deprivation dwarfism: in this condition, <strong>dwarfism is due to psychosocial causes</strong> such as emotional deprivation and neglect. Hence, GH therapy is not required.</li>\n</ul>\n<p>GCTS IN Prader -Willi Syndrome</p>\n<p><strong>8 FDA approved indications for GH treatment</strong></p>\n<p><strong>GH deficiency, Turner syndrome, chronic renal failure before transplantation, idiopathic short stature, small-for-gestational<br />age short stature, Prader-Willi syndrome, SHOX gene abnormality,<br />and Noonan syndrome<br /></strong></p>\n<p>Recombinant Growth hormone is used for treatment.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are asked to review an article titled, 'Childhood cancers- a menace'. Which of the following statements is wrong and needs to be edited out?",
    "choices": [
      {
        "id": 1,
        "text": "Acute lymphoblastic leukemia is the most common type of leukemia in children with Down syndrome."
      },
      {
        "id": 2,
        "text": "The most common intra-abdominal malignancy is Wilm\u2019s tumor."
      },
      {
        "id": 3,
        "text": "The most common extracranial solid malignancy is neuroblastoma."
      },
      {
        "id": 4,
        "text": "The most common brain tumors in children are infratentorial."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>most common intraabdominal malignancy</strong> in children is <strong>neuroblastoma</strong>.&nbsp;</p>\n<ul>\n<li>The most common leukemias&nbsp;seen in <strong>Down&rsquo;s syndrome</strong>: acute lymphoblastic leukemia <strong>(ALL) &gt;&nbsp;</strong>acute myeloid leukemia <strong>(AML)</strong></li>\n<li>The most common site of a brain tumor in children:<strong>&nbsp;Infratentorium</strong></li>\n<li>The most common <strong>extra-cranial</strong> solid neoplasm in children:&nbsp;<strong>Neuroblastoma </strong></li>\n<li>The most common <strong>intra-abdominal</strong> neoplasm in children:&nbsp;<strong>Neuroblastoma </strong></li>\n<li>The most common <strong>primary neoplasm of renal tissue</strong> in children:<strong> Wilm&rsquo;s tumor</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which among the following is the most common type of atrial septal defect?",
    "choices": [
      {
        "id": 1,
        "text": "5"
      },
      {
        "id": 2,
        "text": "3"
      },
      {
        "id": 3,
        "text": "1"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong><span class=\"TextRun SCXW26786260\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCXW26786260\">Ostium&nbsp;</span></span><span class=\"TextRun SCXW26786260\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"SpellingError SCXW26786260\">secundum</span></span></strong><span class=\"TextRun SCXW26786260\" lang=\"EN-IN\" xml:lang=\"EN-IN\"><span class=\"NormalTextRun SCXW26786260\">&nbsp;ASD (labelled as 3) is the most common type of atrial&nbsp;septal defect (ASD)<strong>, </strong></span></span>located at the mid-inter-atrial septum,<strong> in the region of the fossa ovalis.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f1330d83cfe843c5a9b247ae23b68d6f.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e533c26bb3a94ce3a7eab0935e30831bx1280x1274.5839210155148.JPEG"
    ]
  },
  {
    "text": "Anwesha, an orator preparing for her international debate finale presents to your clinic with lesions on her lower lip as shown below. She is concerned as these lesions are painful, recurrent and hamper the flow of her speech. Which of the following points about this condition is incorrect?",
    "choices": [
      {
        "id": 1,
        "text": "These  are due to stress"
      },
      {
        "id": 2,
        "text": "These are contagious"
      },
      {
        "id": 3,
        "text": "They heal without scarring"
      },
      {
        "id": 4,
        "text": "They are seen in Gluten-sensitive enteropathy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The lesions given in the above image are <strong>aphthous ulcers</strong>, and they are not<strong> contagious</strong>. All the other points are true.&nbsp;</p>\n<p>Aphthous ulcers are painful, recurrent, and <strong>non-contagious</strong> oral lesions. They are well-circumscribed, ulcerative lesions with a white necrotic base surrounded by a red halo. They heal in 10&ndash;14 days <strong>without scarring</strong>. Their aetiology is unclear but the following factors have been implicated:</p>\n<ul>\n<ol>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Allergic or immunologic reactions</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Emotional stress</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Genetics</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Injury to soft tissues in the mouth</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Inflammatory bowel disease</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Gluten-sensitive enteropathy</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Behcet disease</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Sweet syndrome</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Human immunodeficiency virus (HIV) infection</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Cyclical neutropenia</li>\n</ol>\n</ul>\n<p>Treatment generally includes local anaesthetic to relieve pain and B-complex supplementation to enhance healing.</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/dc9452a43dd74b1da418dfe7402c26bd.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A male is said to have delayed puberty if it is not attained by:",
    "choices": [
      {
        "id": 1,
        "text": "12 years"
      },
      {
        "id": 2,
        "text": "14 years"
      },
      {
        "id": 3,
        "text": "16 years"
      },
      {
        "id": 4,
        "text": "18 years"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Lack of pubertal changes in boys by the <strong>age of 14 years</strong> is suggestive of delayed puberty.</li>\n</ul>\n<ul>\n<li>Delayed puberty is more common in boys than girls.</li>\n</ul>\n<ul>\n<li><strong>Constitutional delay in growth and puberty is the commonest cause of delayed puberty in boys.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 6-year-old girl was brought to the OPD by her mother who is concerned about her significant increase in height compared to her classmates in the last 2 years. On examination, the girl shows breast development corresponding to B2 Tanner stage. What is the most common brain lesion causing this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Pituitary adenoma"
      },
      {
        "id": 2,
        "text": "Tuberous sclerosis"
      },
      {
        "id": 3,
        "text": "Astrocytoma"
      },
      {
        "id": 4,
        "text": "Hypothalamic hamartoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p style=\"text-align: justify;\"><strong>Hypothalamic hamartoma</strong>, a neuronal migration defect, is the most common cause of organic central precocious puberty. The onset of breast development before the age of 8 years in females and onset of testicular development (&gt;4 mL) before the age of 9 years in males is suggestive of central precocious puberty.&nbsp;</p>\n<p style=\"text-align: justify;\">It is a congenital malformation that consists of <strong>ectopically located neural tissue</strong> characterised by-</p>\n<ul style=\"text-align: justify;\">\n<li>Early-onset of puberty</li>\n<li>Seizures associated with unnatural crying or laughing episodes are known as <strong>gelastic seizures.</strong></li>\n</ul>\n<p style=\"text-align: justify;\">Tuberculous meningitis, tuberous sclerosis, and astrocytomas can also cause&nbsp;central precocious puberty.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The expanded new Ballard score is used to assess ________",
    "choices": [
      {
        "id": 1,
        "text": "Physical maturity"
      },
      {
        "id": 2,
        "text": "Neuromuscular maturity"
      },
      {
        "id": 3,
        "text": "Both of the above"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The expanded new Ballard score is used to assess <strong>physical and neuromuscular maturity</strong> of the newborn.</p>\n<ul>\n<li>There are&nbsp;six criteria each to assess physical maturity and neuromuscular maturity.</li>\n<li>The physical maturity and neurologic maturity scores are added to calculate the gestational age.</li>\n<li>It can be used <strong>to calculate gestational age from 20 to 44 weeks</strong>.</li>\n<li>The Ballard scoring is accurate to +/- 2 weeks.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is also known as plumboporphyria due to its clinical similarity to lead poisoning?",
    "choices": [
      {
        "id": 1,
        "text": "Acute intermittent porphyria (AIP)"
      },
      {
        "id": 2,
        "text": "\u03b4-Aminolevulinic acid dehydratase porphyria (ALAD)"
      },
      {
        "id": 3,
        "text": "Porphyria cutanea tarda (PCT)"
      },
      {
        "id": 4,
        "text": "Erythropoietic protoporphyria (EPP)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>&delta;-Aminolevulinic acid dehydratase porphyria (ALAD)&nbsp;is also called <strong>plumboporphyria</strong>/Doss porphyria due to its clinical similarity to lead poisoning, although it is not related to lead exposure.</p>\n<p>ALAD catalyzes the condensation of 2 molecules of ALA to form the pyrrole porphobilinogen (PBG). The enzyme is subject to inhibition by lead because ALAD is the principal lead-binding protein in erythrocytes, and lead can displace the zinc atoms of the enzyme, thus inhibiting it. Therefore, both lead poisoning and ALAD porphyria produce similar signs and symptoms.&nbsp;Symptoms resemble those of other acute porphyrias, including acute attacks of abdominal pain and neuropathy.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child is brought to the pediatrician for vaccination. The child is able to speak in\t2-3 word sentences and is able to make a tower of 6 cubes. What is the expected weight of the child, if his development is normal and birth weight was 3 Kgs?",
    "choices": [
      {
        "id": 1,
        "text": "12 kgs"
      },
      {
        "id": 2,
        "text": "4 kgs"
      },
      {
        "id": 3,
        "text": "8 kgs"
      },
      {
        "id": 4,
        "text": "10 kgs"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The child is able to make a tower of 6 cubes and speaks in 2-3 word sentences which indicates the child is of&nbsp;<strong>2 years</strong> of age.&nbsp;<strong>Birth</strong> <strong>weight</strong> <strong>quadruples</strong> by the age of <strong>2 years</strong>. Hence the child's weight should be 3 kgs x 4= 12 Kgs.</p>\n<p>Infants may <strong>lose up to 10%</strong> of their birth weight in the 1<sup>st</sup> week of life and regain it by their 2<sup>nd</sup> week.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Immediately following vaginal delivery, a baby is noted to have a diffuse ecchymotic swelling on the scalp. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Cephalohematoma"
      },
      {
        "id": 2,
        "text": "Caput succedaneum"
      },
      {
        "id": 3,
        "text": "Subgaleal hemorrhage"
      },
      {
        "id": 4,
        "text": "Epidural hematoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The <strong>most likely</strong> diagnosis is caput succedaneum.</p>\n<p><strong>Caput succedaneum</strong>&nbsp;is a diffuse,&nbsp;sometimes ecchymotic, edematous collection of serosanguinous fluid in the subcutaneous layer of the scalp, involving the presenting part in a vertex delivery.&nbsp;It may extend across the midline and <strong>crosses suture lines.</strong></p>\n<p>Option A: <strong>Cephalohematoma</strong> is a&nbsp;<strong>subperiosteal hemorrhage</strong>&nbsp;that is always&nbsp;<strong>limited</strong>&nbsp;to the&nbsp;surface of 1 cranial bone&nbsp;and&nbsp;does not cross suture lines.&nbsp;The swelling appears only&nbsp;<strong>several hours after birth.</strong>&nbsp;There is&nbsp;<strong>no discoloration</strong>&nbsp;of the overlying scalp.</p>\n<p>Option C: <strong>Subgaleal</strong> hemorrhages occur with the rupture of&nbsp;<strong>emissary veins</strong>, which connect the dural sinuses with the superficial veins of the scalp. Blood accumulates&nbsp;<strong>between the epicranial aponeurosis of the scalp and the periosteum</strong>&nbsp;and resolves over 2-3 weeks. Often associated with vacuum-assisted delivery.</p>\n<p>Option D: <strong>Epidural</strong> hemorrhages,<strong>&nbsp;</strong>usually <strong>traumatic</strong> in origin, are associated with cephalo-pelvic disproportion, prolonged labor, breech, precipitous labors, or occur as a result of mechanical assistance in labor. Majority resolve with no intervention.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f4ffc8ae42f0403eafd900279644393cx1280x1035.2011291460833.JPEG"
    ]
  },
  {
    "text": "The total fetal cardiac output at term is estimated to be_________ per minute.",
    "choices": [
      {
        "id": 1,
        "text": "150 mL/kg body weight"
      },
      {
        "id": 2,
        "text": "250 mL/kg body weight"
      },
      {
        "id": 3,
        "text": "350 mL/kg body weight"
      },
      {
        "id": 4,
        "text": "450 mL/kg body weight"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The total fetal&nbsp;<strong>cardiac output</strong>&nbsp;at term&nbsp;is approximately&nbsp;<strong>450 mL/kg/min</strong>.</p>\n<p>Approximately <strong>65%</strong> of descending aortic blood flow <strong>returns to the placenta</strong>, and hence, only the remaining 35% perfuses the fetal organs and tissues.</p>\n<p>The clinical relevance of this 65% blood flow being directed to the placenta comes in the context of delayed cord clamping vs early cord clamping after delivery. Delayed cord clamping entails the umbilical cord is clamped more than one minute after the birth or when cord pulsation has ceased. This delayed clamping allows the blood flow between the placenta and neonate to continue and helps improve the iron status in the infant.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An anxious mother has brought a 4-month-old baby with complaints that the baby is not feeding well and is excessively sleepy all the time. Clinical examination reveals jaundice and hypotonia. His picture is provided below. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Congenital adrenal hyperplasia"
      },
      {
        "id": 2,
        "text": "Growth hormone deficiency"
      },
      {
        "id": 3,
        "text": "Congenital adrenal insufficiency"
      },
      {
        "id": 4,
        "text": "Congenital hypothyroidism"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The above picture shows a child with a protuberant abdomen, umbilical hernia, macroglossia,&nbsp;and edematous facies. Also, the infant is sluggish, has jaundice, feeding difficulties,&nbsp;and hypotonia, all of which suggests a diagnosis of <strong>congenital hypothyroidism.</strong></p>\n<p>Clinical features of congenital hypothyroidism:</p>\n<ul>\n<li><strong>Prolongation of physiologic hyperbilirubinemia</strong>-&nbsp;early sign (it is due to delayed maturation of glucuronide conjugation)</li>\n<li><strong>Constipation</strong>-&nbsp;usually does not respond to treatment</li>\n<li>Wide open anterior and posterior fontanelles&nbsp;(&gt;0.5 cm) and cranial sutures</li>\n<li><strong>Developmental delay, delayed bone growth, delayed dentition</strong></li>\n<li>Cardiovascular-&nbsp;slow pulse rate, cardiomegaly, asymptomatic pericardial effusion, edema</li>\n<li>Respiratory-&nbsp;<strong>macroglossia</strong>, feeding difficulties, choking spells, respiratory difficulties</li>\n<li>Haematological-&nbsp;<strong>macrocytic anaemia</strong> <strong>refractory to treatment</strong> with haematinics</li>\n<li>Nervous system-&nbsp;hypothermia, <strong>hypotonia</strong>, slow relaxation of deep tendon reflexes, sluggishness, and somnolence</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bf96cf31d13343388f7f26c844f0bee5.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "You are demonstrating findings in a pediatric OSCE examination on a 4-day old neonate. On turning the baby's head to the left, you obtain the finding as shown below. At what age does this reflex normally disappear?",
    "choices": [
      {
        "id": 1,
        "text": "6 months"
      },
      {
        "id": 2,
        "text": "9 months"
      },
      {
        "id": 3,
        "text": "4 months"
      },
      {
        "id": 4,
        "text": "5 months"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Asymmetric tonic neck reflex</strong> (ATNR) disappears by 6<strong>&nbsp;months postnatally.</strong></p>\n<p>The <strong>tonic neck reflex</strong> is produced by manually rotating the infant&rsquo;s head to 1 side and observing for the characteristic <strong>fencing posture </strong>(extension of the arm on the side to which the face is rotated and flexion of the contralateral arm).</p>\n<p>An <strong>obligatory tonic neck response</strong>, in which the infant becomes <strong>&ldquo;stuck&rdquo;</strong> in the<strong> fencing posture</strong>, is always abnormal and implies a <strong>CNS disorder</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/495eea847b8e47fda4229743cb6b99bb.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8069ed111fbb42949d55c000fb39a8e5x1280x2546.JPEG"
    ]
  },
  {
    "text": "An anxious new mother feeding her child with expressed breastmilk (EBM) feels that the consistency and colour of her milk have changed recently. She adds that when she expresses breastmilk, the colour and consistency of the first portion and the ending portion is completely different and that she is worried about the same.  Which statement is not true about different breast milk?",
    "choices": [
      {
        "id": 1,
        "text": "Preterm milk has more proteins"
      },
      {
        "id": 2,
        "text": "Mature milk is thicker with all the essential nutrients for growth"
      },
      {
        "id": 3,
        "text": "Foremilk is watery and is rich in proteins and sugar"
      },
      {
        "id": 4,
        "text": "Hindmilk is richer in fat and provides more energy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Mature milk&nbsp;</strong>is <strong>thinner</strong> (not thicker) with all essential nutrients for growth.</p>\n<p><strong>Various transitional forms of breastmilk:</strong></p>\n<p><strong>Colostrum</strong></p>\n<ul>\n<li>In the initial 3 to 4 days</li>\n<li>Small quantity, thick, and yellow in colour</li>\n<li>A large number of <strong>antibodies</strong>,<strong>&nbsp;</strong>immune component cells; and vitamins A, D, E,&nbsp;and K.</li>\n</ul>\n<p><strong>Transitional milk</strong></p>\n<ul>\n<li>Secreted after 3 to 4 days until 2 weeks</li>\n<li>Immunoglobulin and protein content decreases, while the fat and sugar content increases.</li>\n</ul>\n<p><strong>Mature milk</strong></p>\n<ul>\n<li>Follows transitional milk.</li>\n<li><strong>Thinner</strong> and more watery.</li>\n<li>Contains all the nutrients essential for the optimal growth of the baby.&nbsp;</li>\n</ul>\n<p><strong>Foremilk</strong></p>\n<ul>\n<li>Secreted at the start of the feed</li>\n<li>Watery and rich in proteins, sugar, vitamins, minerals, and water that quenches the baby&rsquo;s thirst.</li>\n</ul>\n<p><strong>Hindmilk&nbsp;</strong></p>\n<ul>\n<li>Comes towards the&nbsp;end of the feed</li>\n<li>Provides <strong>more energy</strong> and a sense of satiety and&nbsp;it is richer in <strong>fat</strong>.</li>\n</ul>\n<p><strong>Preterm milk&nbsp;</strong></p>\n<ul>\n<li>Milk of mother who delivers before 37 weeks.</li>\n<li>Contains more proteins, sodium, iron, immunoglobins,&nbsp;and calories as per the requirement of the preterm infant.</li>\n</ul>\n<p>The given image shows watery foremilk and hindmilk which is rich in fat.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/944f94e4e04a4e3db1ce9b423f52f4bex1280x569.7755610972569.PNG"
    ]
  },
  {
    "text": "A child in your unit is receiving treatment for chronic diarrhea. His diet history is remarkable for a high phytate-rich diet. His labs reveal low serum zinc. Which of the following findings is least likely to be seen in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Dwarfism"
      },
      {
        "id": 2,
        "text": "Incomplete development of gonads"
      },
      {
        "id": 3,
        "text": "Dermatitis of extremities"
      },
      {
        "id": 4,
        "text": "Predominant impairment of humoral immunity"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical vignette is suggestive of&nbsp;<strong>chronic zinc</strong>&nbsp;deficiency. Zinc deficiency affects both cell-mediated and humoral immunity. The&nbsp;<strong>cell-mediated immunity</strong>&nbsp;is impaired predominantly, as <strong>zinc</strong> is essential for T-cell division, maturation, and differentiation.&nbsp;</p>\n<p>In a child with a&nbsp;<strong>phytate-rich</strong>&nbsp;diet, a chronic deficiency of zinc and iron usually co-exist. Isolated chronic zinc deficiency can be seen in the setting of a child suffering from&nbsp;<strong>chronic diarrhoea</strong>, repeated pneumonia or chest infections, and congenital malabsorption disorders.</p>\n<p>Chronic zinc deficiency manifests as:</p>\n<ol>\n<li>Dwarfism</li>\n<li>Hypogonadism</li>\n<li>Dermatitis of extremities and around orifices</li>\n<li>T-cell immunodeficiency</li>\n<li>Diarrhoea&nbsp;</li>\n</ol>\n<p>The features of acute zinc deficiency include:</p>\n<ol>\n<li>Decreased growth</li>\n<li>Poor wound healing&nbsp;</li>\n<li>Diarrhea</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are considered normal in a newborn except",
    "choices": [
      {
        "id": 1,
        "text": "Pustular melanosis"
      },
      {
        "id": 2,
        "text": "Mongolian spots"
      },
      {
        "id": 3,
        "text": "Tuft of hair over LS spine"
      },
      {
        "id": 4,
        "text": "Erythema toxicum"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A tuft of hair over the lumbosacral spine is not a normal finding in newborns. It suggests an underlying abnormality such as an occult spina bifida, a sinus tract, or a tumor.</p>\n<p>Normal skin findings in a newborn:</p>\n<ul>\n<li>Erythema toxicum &ndash; small white papules on an erythematous base, seen 1-3 days after birth. They contain eosinophils and may persist for a week.</li>\n<li>Pustular melanosis &ndash; Seen predominantly in black neonates, they contain neutrophils and are present at birth as a vesiculopustular eruption. Lasts for 2-3 days.</li>\n<li>Mongolian spots &ndash; Slate-blue, demarcated areas of pigmentation seen over the buttocks and back. They tend to disappear within the first year.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You are reading an article titled, ' Dark age vampires or our patients', which describes an 18-year-old man who has had an intolerance to sunshine since the age of 6. When playing cricket he suffered intense burning, redness, swelling, and crusting of knees unprotected by shorts, with similar changes on cheeks and bridge of the nose. His labs showed elevated concentrations of total erythrocyte protoporphyrin. Which of the following enzyme deficiencies can explain this boy's condition?",
    "choices": [
      {
        "id": 1,
        "text": "\u03b4-Aminolevulinate synthase 2 (ALAS2)"
      },
      {
        "id": 2,
        "text": "\u03b4-Aminolevulinic acid dehydratase (ALAD)"
      },
      {
        "id": 3,
        "text": "Porphobilinogen deaminase (PBGD)"
      },
      {
        "id": 4,
        "text": "Ferrochelatase (FECH)"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Symptoms of<strong> cutaneous photosensitivity</strong> beginning in childhood and&nbsp;a substantially<strong> elevated concentration of total erythrocyte protoporphyrin</strong> supports a diagnosis of&nbsp;<strong>erythropoietic protoporphyria</strong>. The enzyme deficient in erythropoietic protoporphyria is <strong>ferrochelatase (FECH).</strong></p>\n<p>Symptoms consist of acute pain and itching often occurring within minutes of sunlight exposure and followed by redness and swelling with continued exposure. Swelling may resemble angioneurotic edema and <strong>solar urticaria.</strong> Symptoms are usually worse in&nbsp;the spring and summer. Chronic changes may include lichenification, leathery pseudovesicles, labial grooving, and nail changes, but changes in pigmentation and pronounced scarring are unusual.</p>\n<p>Life-threatening<strong> protoporphyric hepatopathy</strong> is characterized by greater increases in erythrocyte and plasma protoporphyrin levels, increased photosensitivity, and either chronically abnormal liver function tests or rapidly progressive hepatic failure.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 4-year-old girl, a known case of celiac disease, presented to the pediatric endocrine clinic with a history of neck swelling, tremor, and weight loss. On evaluation, she was found to have Graves\u2019 disease. Other conditions that need to be screened in this patient include all of the following except __________.",
    "choices": [
      {
        "id": 1,
        "text": "Vitiligo"
      },
      {
        "id": 2,
        "text": "Pernicious anemia"
      },
      {
        "id": 3,
        "text": "Diabetes mellitus type 2"
      },
      {
        "id": 4,
        "text": "Addison disease"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Type 2 Diabetes mellitus</strong> is <strong>not</strong> associated with Grave's disease.</p>\n<p><strong>Conditions associated with Grave's disease (autoimmune diseases)</strong>:&nbsp;</p>\n<ul>\n<li>Diabetes mellitus type 1</li>\n<li>Pernicious anaemia</li>\n<li>Celiac disease</li>\n<li>Vitiligo</li>\n<li>Addison disease</li>\n<li>Alopecia areata</li>\n<li>Myasthenia gravis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the shape of caecum in the newborn",
    "choices": [
      {
        "id": 1,
        "text": "Ovoid"
      },
      {
        "id": 2,
        "text": "Trapezoid"
      },
      {
        "id": 3,
        "text": "Globular"
      },
      {
        "id": 4,
        "text": "Conical"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>The shape of caecum in an infant is <strong>conical </strong>with <strong>appendix at the base of the cone</strong></li>\n<li>Thereafter caecum descends and assumes its <strong>round shape</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The newborn cardiac output is",
    "choices": [
      {
        "id": 1,
        "text": "200ml/kg/min"
      },
      {
        "id": 2,
        "text": "250 ml/kg/min"
      },
      {
        "id": 3,
        "text": "300 ml/kg/min"
      },
      {
        "id": 4,
        "text": "350ml/kg/min"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The newborn cardiac output is 350ml/kg/min.</p>\n<table style=\"height: 225px;\" width=\"312\">\n<tbody>\n<tr>\n<td style=\"width: 101.734px;\"><strong>Age</strong></td>\n<td style=\"width: 194.266px;\"><strong>Cardiac output(ml/kg/min)</strong></td>\n</tr>\n<tr>\n<td style=\"width: 101.734px;\">Fetus</td>\n<td style=\"width: 194.266px;\">450</td>\n</tr>\n<tr>\n<td style=\"width: 101.734px;\">Newborn</td>\n<td style=\"width: 194.266px;\">350</td>\n</tr>\n<tr>\n<td style=\"width: 101.734px;\">1-2 months of life</td>\n<td style=\"width: 194.266px;\">150</td>\n</tr>\n<tr>\n<td style=\"width: 101.734px;\">Adult</td>\n<td style=\"width: 194.266px;\">75</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child with CAH having cortisol deficiency is treated with glucocorticoids. How should the dose of glucocorticoids be altered during an inter-current infection?",
    "choices": [
      {
        "id": 1,
        "text": "Dose should remain unchanged"
      },
      {
        "id": 2,
        "text": "Dose should be tapered and stopped"
      },
      {
        "id": 3,
        "text": "Dose should be doubled or tripled"
      },
      {
        "id": 4,
        "text": "Glucocorticoids should be withdrawn until the infection resolves"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Cortisol deficiency in CAH is treated with <strong>glucocorticoids</strong>.</p>\n<p><strong>Double or triple doses are indicated during periods of stress</strong>, such as an infection or surgery. This is because, during periods of stress, the requirement for cortisol is higher.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Pediatrics St 3 (From Q-Bank)';
        const quizFilename = 'pediatrics-st-3-from-q-bank-6afad6c1.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2017 - 18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>