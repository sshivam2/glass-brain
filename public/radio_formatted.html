<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>radio_formatted - QuizMaster Pro</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: url("assets/background.jpg") center center / cover no-repeat fixed;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Responsive utilities */
@media (max-width: 768px) {
  .glass-card {
    border-radius: 16px;
  }
  
  .glass {
    border-radius: 12px;
  }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        General
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">59</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex container mx-auto px-6 gap-8">
        <!-- Question Navigation Sidebar -->
        <div class="w-80 glass p-6 h-fit sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="flex-1 max-w-4xl">
            <div class="glass-card p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <!-- Explanation Video -->
                    <div id="solutionVideo" class="hidden">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        let questionsData = [
  {
    "text": "Air bronchogram is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Lung abscess"
      },
      {
        "id": 2,
        "text": "Lung cavity"
      },
      {
        "id": 3,
        "text": "Pneumothorax"
      },
      {
        "id": 4,
        "text": "Consolidation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Consolidation The air bronchogram sign is seen in pulmonary consolidation and occurs when the alveoli become fluid-filled (pus, blood, or exudate) while the bronchi remain air-filled. This creates a contrast on X-ray or CT, where the air-filled bronchi appear as radiolucent (dark) branching structures against the radio-opaque (white) background of the consolidated lung. This sign is highly suggestive of pneumonia, where alveolar spaces are filled with inflammatory exudates, but it can also be seen in pulmonary edema, hemorrhage, and some tumors (e.g., bronchoalveolar carcinoma). Incorrect Options: A. Lung abscess A lung abscess forms a cavitary lesion with an air-fluid level, but it does not typically produce an air bronchogram. The bronchial tree may be destroyed or compressed, preventing the visualization of air-filled bronchi. B. Lung cavity Lung cavities (e.g., due to tuberculosis, fungal infections, or necrotizing pneumonia) appear as hollowed-out spaces but do not show air bronchograms. The bronchi are often destroyed or surrounded by necrotic tissue. C. Pneumothorax Pneumothorax is caused by air accumulation in the pleural space, leading to lung collapse. Since the lung parenchyma is compressed, there is no contrast between the bronchi and alveoli, making an air bronchogram impossible.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/45868311695993984/45868311695993984.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In tuberculosis in an AIDS patient the chest X-ray looks like:",
    "choices": [
      {
        "id": 1,
        "text": "Miliary shadow"
      },
      {
        "id": 2,
        "text": "Cavity"
      },
      {
        "id": 3,
        "text": "Consolidation"
      },
      {
        "id": 4,
        "text": "Cavity"
      },
      {
        "id": 5,
        "text": "Collapse"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Miliary Shadow In AIDS patients, tuberculosis (TB) often presents with atypical radiographic findings due to severe immunosuppression and an impaired immune response. The most common chest X-ray finding in AIDS-related TB is a miliary pattern, which appears as numerous small (1\u20132 mm) nodules scattered throughout both lungs. Miliary TB results from hematogenous (bloodstream) spread of Mycobacterium tuberculosis, leading to the dissemination of infection in the lungs and other organs. This is more common in advanced HIV/AIDS patients (CD4 count Incorrect Options: B. Cavity In non-immunocompromised individuals, TB often presents with cavitary lesions in the upper lobes. In AIDS patients, however, the immune system is too weak to mount a strong tissue-damaging inflammatory response, making cavities less common. C. Consolidation Lobar or segmental consolidation can occur in TB, but it is not the predominant finding in AIDS patients. Consolidation is more typical in bacterial pneumonia, which is a common opportunistic infection in HIV/AIDS patients. D. Cavity (Repeated) As explained earlier, cavitation is less frequent in AIDS patients due to poor immune response. E. Collapse Lung collapse (atelectasis) can occur due to endobronchial TB but is not the characteristic feature of AIDS-associated TB. Collapse is more common in cases where bronchial obstruction occurs, such as in tuberculous lymphadenopathy.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34400741695994012/34400741695994012.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Egg shell calcification of hilar lymph nodes is most often due to:",
    "choices": [
      {
        "id": 1,
        "text": "Sarcoidosis"
      },
      {
        "id": 2,
        "text": "Silicosis"
      },
      {
        "id": 3,
        "text": "Asbestosis"
      },
      {
        "id": 4,
        "text": "Beryllosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Silicosis Eggshell calcification of hilar lymph nodes is a characteristic radiological finding most commonly associated with silicosis. This pattern of calcification appears as thin, well-defined, peripheral calcification of the hilar and mediastinal lymph nodes, resembling the shell of an egg. Silicosis is a pneumoconiosis caused by chronic inhalation of silica dust, commonly seen in miners, sandblasters, and workers in stone-cutting industries. Pathogenesis: The silica particles trigger chronic inflammation, leading to fibrosis and dystrophic calcification of the lymph nodes over time. Radiographic Findings: Eggshell calcification of hilar and mediastinal lymph nodes. Upper lobe nodular opacities. Progressive massive fibrosis (PMF) in advanced disease. Incorrect Options: A. Sarcoidosis Sarcoidosis can cause bilateral hilar lymphadenopathy, but the calcification is more diffuse rather than the classic eggshell pattern. The calcification in sarcoidosis is usually \"popcorn-like\" or irregular, not peripheral like in silicosis. C. Asbestosis Asbestosis is caused by prolonged asbestos exposure and primarily affects the lower lung zones. It typically leads to pleural plaques with calcification, rather than hilar lymph node calcifications. Eggshell calcification is not a feature of asbestosis. D. Beryllosis Berylliosis (chronic beryllium disease) mimics sarcoidosis with non-caseating granulomas and hilar lymphadenopathy, but it does not cause eggshell calcification. The chest X-ray may show diffuse interstitial lung disease instead.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/50253091695994040/50253091695994040.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Pneumothorax is best demonstrated by taking a radiograph, with patient in:",
    "choices": [
      {
        "id": 1,
        "text": "Mid inspiration"
      },
      {
        "id": 2,
        "text": "End expiration"
      },
      {
        "id": 3,
        "text": "Full inspiration"
      },
      {
        "id": 4,
        "text": "Supine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) End expiration Pneumothorax is best demonstrated on a chest X-ray taken at end expiration because this technique enhances the visibility of the air in the pleural space. During expiration, the lung volume decreases, making the pneumothorax more prominent by increasing the contrast between the collapsed lung and the surrounding air. This method is particularly useful for detecting small or occult pneumothoraces, which may not be easily visible on a standard inspiratory film. Expiration emphasizes the pleural line, making even subtle pneumothorax more noticeable. Incorrect Options: A. Mid inspiration There is no specific advantage to taking a chest X-ray in mid inspiration for diagnosing pneumothorax. The lung is partially expanded, making it harder to distinguish a small pneumothorax. C. Full inspiration While a standard chest X-ray is taken in full inspiration, it can sometimes mask small pneumothoraces because the lungs expand and push against the pleura. A large pneumothorax can still be seen on an inspiratory film, but a small one may be missed. D. Supine Supine radiographs are less sensitive for pneumothorax detection. In supine position, free air may collect in the anterior pleural space, making it difficult to visualize. However, in trauma cases where the patient cannot stand, a lateral decubitus view (with affected side up) or a supine film looking for the \"deep sulcus sign\" can help identify pneumothorax.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/52763241695994060/52763241695994060.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Sign suggestive of carcinoma lung on chest X-ray is:",
    "choices": [
      {
        "id": 1,
        "text": "Rib erosion"
      },
      {
        "id": 2,
        "text": "Central destruction within lesion"
      },
      {
        "id": 3,
        "text": "Flattening of diaphragm"
      },
      {
        "id": 4,
        "text": "Calcification"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Rib Erosion Rib erosion on a chest X-ray is a suggestive sign of carcinoma of the lung, particularly Pancoast tumors (superior sulcus tumors). Pancoast tumors, a type of non-small cell lung cancer (NSCLC), arise at the apex of the lung and invade adjacent structures, including the ribs, brachial plexus, and spine. Rib erosion occurs due to direct invasion of the tumor into the bony structures, leading to localized bone destruction, which is an ominous sign of malignancy. Associated symptoms include shoulder pain, Horner\u2019s syndrome (ptosis, miosis, anhidrosis), and arm weakness due to brachial plexus involvement. Incorrect Options: B. Central Destruction Within Lesion Cavitating lung lesions with central necrosis can be seen in both malignancies and infections (e.g., tuberculosis, lung abscess, fungal infections). Lung cancer, especially squamous cell carcinoma, can sometimes cavitate, but central destruction is not a hallmark sign of malignancy. It lacks specificity for carcinoma, as many infections also present with central destruction. C. Flattening of Diaphragm Flattening of the diaphragm is commonly seen in chronic obstructive pulmonary disease (COPD) due to hyperinflation rather than lung cancer. Though lung cancer can lead to diaphragm paralysis due to phrenic nerve involvement, flattening is not a primary sign of malignancy. D. Calcification Calcification within a lung lesion is more suggestive of benign conditions, such as: Granulomas (e.g., healed tuberculosis, histoplasmosis) Hamartomas (popcorn calcification) While some lung cancers can contain calcifications, they are typically eccentric and irregular, making it a rare and non-specific sign for malignancy.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/50808891695994082/50808891695994082.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "For small pneumothorax, X-ray is done in:",
    "choices": [
      {
        "id": 1,
        "text": "Inspiration PA view"
      },
      {
        "id": 2,
        "text": "Expiration PA view"
      },
      {
        "id": 3,
        "text": "Lateral decubitus"
      },
      {
        "id": 4,
        "text": "Supine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Expiration PA View For detecting a small pneumothorax, a Posteroanterior (PA) chest X-ray taken in expiration is preferred because it enhances the visibility of the air in the pleural space. During expiration, lung volume decreases, making the pneumothorax appear larger and more conspicuous compared to an inspiratory film, where lung expansion may mask small air collections. The lung markings become more prominent, and the pleural line of the collapsed lung becomes more distinct against the relatively radiolucent (air-filled) pleural space. This method is particularly useful for detecting occult or minimal pneumothorax, such as in trauma patients or post-procedural cases (e.g., after central line placement or lung biopsy). Incorrect Options: A. Inspiration PA View Standard PA view during inspiration is the routine method for detecting large pneumothoraces, but it is not ideal for small pneumothorax because the expanded lungs can obscure a minimal air collection. This may lead to a false-negative result, especially if the air is not well-demarcated. C. Lateral Decubitus The lateral decubitus view (with the affected side up) can be used as an alternative technique to detect small pneumothorax, but it is not the first-line investigation. It is more commonly used in patients who cannot stand for a PA film (e.g., critically ill patients), but in ambulatory cases, expiration PA view remains superior. D. Supine Supine chest X-ray is mainly used for detecting pneumothorax in critically ill or trauma patients who cannot sit or stand for a PA view. However, in a supine position, air in the pleural cavity may spread out over the anterior chest wall, making detection difficult. The classic sign in supine X-rays for pneumothorax is the \"deep sulcus sign\", but it is less sensitive than an expiratory PA view for small pneumothorax.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following cause miliary shadow on X-ray chest except",
    "choices": [
      {
        "id": 1,
        "text": "Tuberculosis"
      },
      {
        "id": 2,
        "text": "Histoplasmosis"
      },
      {
        "id": 3,
        "text": "Coccidioidomycosis"
      },
      {
        "id": 4,
        "text": "Wegener's granulomatosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Wegener's Granulomatosis Miliary shadows on a chest X-ray refer to numerous small (1-3 mm), diffuse, uniformly distributed nodules seen throughout both lung fields. This pattern suggests hematogenous spread of infection or malignancy. The conditions that most commonly cause miliary nodules are tuberculosis, fungal infections (like histoplasmosis and coccidioidomycosis), and metastatic diseases. Incorrect Options: A. Tuberculosis \u2192 Causes Miliary Shadows Miliary tuberculosis (TB) occurs due to hematogenous dissemination of Mycobacterium tuberculosis. It presents as tiny, uniform, well-defined nodules throughout both lung fields. Common in immunocompromised patients, elderly, and infants. B. Histoplasmosis \u2192 Causes Miliary Shadows Caused by Histoplasma capsulatum, a fungal infection endemic in Mississippi and Ohio river valleys. It spreads via hematogenous dissemination in immunocompromised patients (e.g., HIV/AIDS), leading to miliary lung involvement similar to TB. C. Coccidioidomycosis \u2192 Causes Miliary Shadows Caused by Coccidioides immitis, found in the Southwestern U.S. (\"Valley Fever\"). In severe cases, especially in immunosuppressed patients, the infection spreads hematogenously, producing a miliary pattern on X-ray.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/59595801695994106/59595801695994106.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is true about X-ray chest?",
    "choices": [
      {
        "id": 1,
        "text": "Right hilum is lower than the left hilum"
      },
      {
        "id": 2,
        "text": "Right dome of diaphragm is lower than the left"
      },
      {
        "id": 3,
        "text": "Pulmonary arteries normally extend upto the periphery of the lung field"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Right hilum is lower than the left hilum In a normal chest X-ray, the right hilum is typically lower than the left hilum. This is due to the position of the right heart border and the right main bronchus, as well as the overall lung structure. This is a normal anatomical feature and is commonly seen in standard PA (posteroanterior) and lateral X-ray views of the chest. Incorrect Options: B. Right dome of diaphragm is lower than the left This statement is incorrect because the left dome of the diaphragm is typically lower than the right. The liver on the right side pushes the right diaphragm higher, while the heart and spleen on the left side result in a lower left diaphragm. In a normal chest X-ray, the right diaphragm is usually about 1-2 cm higher than the left diaphragm. C. Pulmonary arteries normally extend up to the periphery of the lung field This statement is incorrect because the pulmonary arteries do not normally extend to the periphery of the lung field. The pulmonary arteries typically end at the mid-lung zone or proximal regions of the lungs, with the pulmonary veins extending more toward the periphery. If the pulmonary arteries extend to the periphery, it may indicate pulmonary hypertension or other pathologies like vascular engorgement.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/52383261695994146/52383261695994146.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Popcorn calcification is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary hamartoma"
      },
      {
        "id": 2,
        "text": "Pulmonary hemorrhage"
      },
      {
        "id": 3,
        "text": "Pulmonary teratoma"
      },
      {
        "id": 4,
        "text": "Pulmonary embolism"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Pulmonary Hamartoma Popcorn calcification is a characteristic radiological finding seen in pulmonary hamartomas. Hamartomas are benign lung tumors composed of a mixture of tissues, including cartilage, fat, connective tissue, and smooth muscle. The calcifications in hamartomas appear coarse, lobulated, and \"popcorn-like\" on chest X-rays or CT scans due to dystrophic calcification and fat content. These tumors are usually asymptomatic and often discovered incidentally. Incorrect Options: B. Pulmonary Hemorrhage Pulmonary hemorrhage refers to bleeding within the lung tissue and does not cause popcorn calcification. Instead, it presents as diffuse alveolar infiltrates or patchy ground-glass opacities on imaging. Chronic cases may lead to hemosiderin deposition, but this does not result in a characteristic popcorn calcification pattern. C. Pulmonary Teratoma Pulmonary teratomas are germ cell tumors that may contain fat, bone, cartilage, or teeth, and they can show heterogeneous calcification on imaging. However, the calcification pattern is typically irregular and scattered, not the classic popcorn-like pattern seen in hamartomas. D. Pulmonary Embolism Pulmonary embolism (PE) is a vascular condition where a blood clot blocks pulmonary arteries. It does not produce popcorn calcification; instead, it presents as wedge-shaped infarcts, pleural-based opacities, or filling defects in the pulmonary arteries on CT angiography. Chronic PE may lead to pulmonary infarction, which can cause localized fibrosis and scarring, but not popcorn calcifications.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/18306531695994169/18306531695994169.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In coarctation of aorta the rib changes are seen from:",
    "choices": [
      {
        "id": 1,
        "text": "1-12th"
      },
      {
        "id": 2,
        "text": "3-6th"
      },
      {
        "id": 3,
        "text": "4-9th"
      },
      {
        "id": 4,
        "text": "8-12th"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) 4th-9th Ribs In coarctation of the aorta (CoA), the characteristic rib notching is seen due to enlargement of intercostal arteries, which act as collateral circulation bypassing the narrowing in the aorta. The intercostal arteries erode the inferior margins of the ribs, causing notching. Rib changes typically appear between the 4th and 9th ribs because these intercostal arteries originate from the descending thoracic aorta, which is bypassed due to obstruction. The 1st and 2nd ribs are spared because their blood supply comes from the costocervical trunk, not the descending aorta. The 10th-12th ribs are also spared because they receive blood from the subcostal arteries. Incorrect Options: A. 1st-12th Ribs Rib notching is not seen in all ribs. The 1st and 2nd ribs are spared due to their separate arterial supply. The lower ribs (10th-12th) do not show notching because their blood supply bypasses the affected region. B. 3rd-6th Ribs While some rib notching may be seen in these ribs, the full range is from the 4th to 9th ribs, making this answer partially correct but incomplete. D. 8th-12th Ribs While the 8th and 9th ribs may be involved, the 10th-12th ribs are typically spared, as their blood supply is from the subcostal arteries.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/64591001695994193/64591001695994193.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Early change of pulmonary edema in CXR:",
    "choices": [
      {
        "id": 1,
        "text": "Batswing appearance"
      },
      {
        "id": 2,
        "text": "Pleural effusion"
      },
      {
        "id": 3,
        "text": "Kerley B lines"
      },
      {
        "id": 4,
        "text": "Ground gram lung field"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Kerley B Lines The earliest radiographic sign of pulmonary edema is the presence of Kerley B lines, which indicate interstitial edema due to fluid accumulation in the interlobular septa. These appear as: Short, thin, horizontal lines near the lung bases Typically 1-2 cm in length Most commonly seen in the costophrenic angles These lines are an early marker of increased pulmonary capillary pressure, often due to left ventricular failure (LVF) or fluid overload. Incorrect Options: A. Batwing Appearance The batwing (butterfly) pattern occurs in later stages of pulmonary edema when alveolar edema develops, leading to bilateral perihilar opacities. This is not an early finding but rather a more advanced stage. B. Pleural Effusion Pleural effusions occur in severe pulmonary edema, particularly when pulmonary venous pressure is significantly elevated. It is a late rather than an early finding. D. Ground-Glass Lung Field This is more commonly associated with acute respiratory distress syndrome (ARDS) or interstitial lung diseases, rather than early pulmonary edema. It occurs due to diffuse alveolar damage, which is a later-stage finding in pulmonary edema.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/37939941695994214/37939941695994214.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Well defined lesion in the lung with pop corn calcification on X-ray is suggestive of:",
    "choices": [
      {
        "id": 1,
        "text": "Ca lung"
      },
      {
        "id": 2,
        "text": "Adenoma"
      },
      {
        "id": 3,
        "text": "Hamartoma"
      },
      {
        "id": 4,
        "text": "Hydatid cyst"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Hamartoma A well-defined lesion in the lung with popcorn calcification on X-ray is characteristic of pulmonary hamartoma. Pulmonary hamartomas are benign lung tumors, composed of cartilage, fat, connective tissue, and smooth muscle. Key Features of Hamartoma on X-ray: - Solitary, well-circumscribed nodule - Popcorn-like calcification (due to cartilage content) - Peripheral location in most cases - Slow-growing, usually asymptomatic - Popcorn calcification refers to irregular, chunky, and stippled calcifications, resembling a popped kernel, which is highly specific for hamartomas. Incorrect Options: A. Carcinoma Lung (Ca Lung) Lung cancer presents as an irregular, spiculated mass rather than a well-defined lesion. Calcifications, if present, are not of the popcorn type\u2014they are more likely eccentric or stippled. B. Adenoma Pulmonary adenomas are rare and do not typically show popcorn calcification. Adenomas are usually small and do not exhibit well-defined calcifications. D. Hydatid Cyst Hydatid cysts (caused by Echinococcus infection) appear as well-defined cystic lesions but do not show popcorn calcification. Instead, they may demonstrate the water-lily sign or daughter cysts on imaging.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Well defined rounded opacity is the lung with cause irregular calcification is a feature of:",
    "choices": [
      {
        "id": 1,
        "text": "Hamartoma"
      },
      {
        "id": 2,
        "text": "Hydatid cyst"
      },
      {
        "id": 3,
        "text": "Amoebic abscess"
      },
      {
        "id": 4,
        "text": "Ca lung"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Hamartoma A well-defined, rounded opacity in the lung with irregular calcification is a characteristic feature of pulmonary hamartoma. Hamartomas are benign lung tumors, commonly composed of cartilage, fat, and connective tissue. Key Radiological Features of Hamartoma: Well-defined, rounded nodule Irregular or \"popcorn\" calcification due to the presence of cartilage Peripheral location in most cases Slow-growing and usually asymptomatic Hamartomas are the most common benign lung tumors and are often discovered incidentally on imaging. Incorrect Options: B. Hydatid Cyst Hydatid cysts (Echinococcus infection) appear as well-defined cystic lesions, not solid opacities. They do not show irregular calcification; instead, they may present with rim calcification or the water-lily sign (detached membrane inside the cyst). C. Amoebic Abscess Amoebic abscesses occur mostly in the liver, with rare pulmonary involvement. When present in the lungs, they appear as cavitary lesions, not well-defined rounded opacities. Calcification is uncommon in amoebic abscesses. D. Carcinoma Lung (Ca Lung) Lung cancer usually presents as an irregular, spiculated mass, not a well-defined, rounded opacity. Calcifications, if present, are not typically popcorn-like or well-defined\u2014they are more eccentric or stippled.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Characteristics of benign tumour of lung x rays is",
    "choices": [
      {
        "id": 1,
        "text": "Size > 5 em diameter"
      },
      {
        "id": 2,
        "text": "Cavitation"
      },
      {
        "id": 3,
        "text": "Peripherallocation"
      },
      {
        "id": 4,
        "text": "Concentric dense calcification"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Concentric Dense Calcification Benign lung tumors exhibit distinct radiographic characteristics that help differentiate them from malignant lesions. Concentric dense calcification is the most characteristic radiological feature of benign lung tumors, particularly hamartomas and granulomas. Key Features of Benign Lung Tumors on X-ray: Well-defined, round or oval shape Smooth margins Concentric, popcorn, or central calcification (suggesting a slow-growing, non-invasive lesion) Lack of spiculation, pleural involvement, or lymphadenopathy Hamartomas, the most common benign lung tumors, often show popcorn calcification, while granulomas may exhibit dense, central, or concentric calcification. Incorrect Options: A. Size > 5 cm Diameter Benign tumors are typically small, usually less than 3 cm in diameter. Larger lesions (>5 cm) raise suspicion of malignancy rather than benignity. B. Cavitation Cavitation is more commonly seen in malignant lung tumors (e.g., squamous cell carcinoma) or infectious processes (e.g., tuberculosis, lung abscess). Benign tumors rarely cavitate. C. Peripheral Location While some benign tumors (e.g., hamartomas) may be peripheral, location alone is not a defining characteristic of benignity. Malignant tumors, such as adenocarcinoma, are also commonly peripherally located.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/76698401695994233/76698401695994233.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Hydatid cyst in lung in chest xray",
    "choices": [
      {
        "id": 1,
        "text": "Is seen on calcified lung shadow"
      },
      {
        "id": 2,
        "text": "Shows spackled calcification"
      },
      {
        "id": 3,
        "text": "Will not calcify"
      },
      {
        "id": 4,
        "text": "1 and 2 are correct"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Will not calcify Pulmonary hydatid cysts, caused by Echinococcus granulosus, typically do not calcify. On a chest X-ray, they usually appear as well-defined, rounded opacities with homogeneous density and a water-like appearance. Calcification in pulmonary hydatid cysts is uncommon, which helps differentiate them from other calcified lesions in the lung. Incorrect Options: A. Is seen on calcified lung shadow This option implies that the hydatid cyst appears over or as part of a calcified lung area, which is not typical. Calcification is rarely seen in lung hydatid cysts, so this description does not match their usual radiographic appearance. B. Shows spackled calcification \"Spackled calcification\" suggests patchy, irregular calcific deposits, which are not characteristic of pulmonary hydatid cysts. In most cases, hydatid cysts in the lung remain non-calcified, unlike some hepatic hydatid cysts that may occasionally show rim calcification. D. 1 and 2 are correct Since both Option A and Option B are incorrect regarding calcification, the combined statement in Option D is also incorrect.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/30326631695994252/30326631695994252.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Notching of ribs on X-ray is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "PDA"
      },
      {
        "id": 2,
        "text": "ASD"
      },
      {
        "id": 3,
        "text": "Ebstein's anomaly"
      },
      {
        "id": 4,
        "text": "Coarctation of aorta"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Coarctation of Aorta In coarctation of the aorta, the narrowing of the aorta (usually near the ligamentum arteriosum) forces blood to bypass the obstruction via collateral circulation. The enlarged intercostal arteries, which serve as collateral vessels, erode the inferior borders of the ribs over time. This process produces the characteristic \u201crib notching\u201d seen on chest X-ray. Incorrect Options: A. Patent Ductus Arteriosus (PDA) Although PDA is a congenital heart defect, it does not typically lead to rib notching because it does not cause the formation of extensive collateral circulation in the chest. B. Atrial Septal Defect (ASD) ASD involves an abnormal opening between the atria and may lead to volume overload, but it does not create the vascular changes necessary to cause rib notching on X-ray. C. Ebstein's Anomaly Ebstein's anomaly is a malformation of the tricuspid valve with displacement into the right ventricle, and it does not result in the development of collateral vessels or rib notching.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/52344761695994286/52344761695994286.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Obliteration of left heart border in PA chest X-ray is suggestive of:",
    "choices": [
      {
        "id": 1,
        "text": "Lingular pathology"
      },
      {
        "id": 2,
        "text": "Left upper lobe lesion"
      },
      {
        "id": 3,
        "text": "Left hilar lymph nodes"
      },
      {
        "id": 4,
        "text": "Left lower lobe lesion"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Lingular Pathology Obliteration of the left heart border on a PA chest X-ray is most commonly seen when there is pathology involving the lingula of the left lung. The lingula, which is part of the left upper lobe, lies adjacent to the left heart border. When it becomes consolidated or otherwise abnormal (e.g., due to pneumonia), it obscures the normally visible silhouette of the left heart border on the X-ray. Incorrect Options: B. Left Upper Lobe Lesion Although lesions in the left upper lobe can produce a silhouette sign, it is specifically the lingular segment (a subdivision of the left upper lobe) that directly abuts the left heart border. A lesion elsewhere in the left upper lobe would not typically obliterate the left heart border. C. Left Hilar Lymph Nodes Enlarged left hilar lymph nodes are located centrally and would not typically obscure the lateral contour of the left heart border. They may cause mediastinal widening but not specifically the silhouette of the left heart border. D. Left Lower Lobe Lesion Pathology in the left lower lobe generally affects the left diaphragm silhouette rather than the left heart border. The lower lobe is anatomically separated from the heart border by the left upper lobe and lingula.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/62705391695994349/62705391695994349.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The chest X-ray view best suites for pleural effusion detection is:",
    "choices": [
      {
        "id": 1,
        "text": "APview"
      },
      {
        "id": 2,
        "text": "PAview"
      },
      {
        "id": 3,
        "text": "Lateral decubitus view"
      },
      {
        "id": 4,
        "text": "Lateral view"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Lateral Decubitus View The lateral decubitus view is the most sensitive radiographic projection for detecting a pleural effusion. In this view, the patient lies on one side so that any free pleural fluid shifts to the dependent portion of the chest, making even small amounts of fluid more easily detectable. This positioning minimizes overlapping structures and highlights the layering of fluid along the chest wall. Incorrect Options: A. AP View The anteroposterior (AP) view is less sensitive for detecting pleural effusions because the fluid may be obscured by other mediastinal structures, and the projection can cause magnification artifacts. It is not the preferred view for small effusions. B. PA View Although the posteroanterior (PA) view is the standard for routine chest imaging, it is not as effective as the lateral decubitus view in detecting small or loculated effusions. In a PA view, overlapping lung markings can mask minimal fluid collections. D. Lateral View A lateral chest X-ray provides additional anatomical detail but does not specifically enhance the detection of pleural fluid like the decubitus position does. It lacks the positional advantage needed to demonstrate fluid layering along the pleura.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/2850911695994372/2850911695994372.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Kerley-B lines are seen when pulmonary venous pressure is:",
    "choices": [
      {
        "id": 1,
        "text": "5 mmHg"
      },
      {
        "id": 2,
        "text": "lOmmHg"
      },
      {
        "id": 3,
        "text": "20mmHg"
      },
      {
        "id": 4,
        "text": "40mmHg"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) 20 mmHg Kerley-B lines are thin, horizontal opacities seen on chest X-rays, representing interstitial edema due to fluid accumulation in the interlobular septa. They typically appear when pulmonary venous pressure increases to around 20 mmHg, which is sufficient to cause interstitial fluid leakage but not yet overt alveolar edema. This value marks an early stage of pulmonary edema, where fluid accumulation is still confined primarily to the interstitium, resulting in the characteristic short, parallel lines seen at the lung periphery. Incorrect Options: A. 5 mmHg A pulmonary venous pressure of 5 mmHg is within the normal range. At this level, there is no significant increase in hydrostatic pressure to cause interstitial edema and the appearance of Kerley-B lines. B. 10 mmHg Although 10 mmHg is slightly higher than the lower normal range, it is still insufficient to induce the interstitial edema that produces Kerley-B lines. It is usually seen as a transitional state but not enough to show the specific radiographic changes of pulmonary edema. D. 40 mmHg A pulmonary venous pressure of 40 mmHg indicates severe pulmonary edema. At this level, the edema progresses into alveolar spaces causing more diffuse consolidation rather than just interstitial changes. Kerley-B lines represent an earlier stage of fluid accumulation, well before reaching pressures as high as 40 mmHg",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Dilatation of upper lobe veins is a reliable sign of:",
    "choices": [
      {
        "id": 1,
        "text": "Cardiac decompensation"
      },
      {
        "id": 2,
        "text": "Pulmonary height"
      },
      {
        "id": 3,
        "text": "Emphysema"
      },
      {
        "id": 4,
        "text": "Silicosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Cardiac Decompensation Dilatation of the upper lobe veins on a chest X-ray is a reliable sign of cardiac decompensation. In the setting of left ventricular failure, increased pulmonary venous pressure leads to the redistribution of blood flow from the lower to the upper lung zones\u2014a phenomenon known as cephalization of pulmonary blood flow. This results in the dilatation of the upper lobe veins, indicating elevated left atrial pressure and pulmonary venous hypertension, which are hallmarks of cardiac decompensation. Incorrect Options: B. Pulmonary Height \"Pulmonary height\" is not a recognized radiographic term or sign. It does not describe a specific abnormality related to venous dilatation and is not used in the context of assessing cardiac function. C. Emphysema Emphysema typically causes hyperlucency of the lung fields and destruction of alveolar walls, leading to the formation of bullae, rather than selective dilatation of the upper lobe veins. The vascular changes seen in emphysema are different from those caused by pulmonary venous hypertension. D. Silicosis Silicosis is a pneumoconiosis due to silica dust exposure that leads to nodular opacities and fibrosis in the upper lobes. It does not result in the dilatation of upper lobe veins; its radiographic features focus on calcified nodules and progressive massive fibrosis, not vascular redistribution.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/68759431695994391/68759431695994391.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Causes of a cavitating lesion in the chest radiograph are all except",
    "choices": [
      {
        "id": 1,
        "text": "Hamartoma"
      },
      {
        "id": 2,
        "text": "Pulmonary infarction"
      },
      {
        "id": 3,
        "text": "Squamous carcinoma of the bronchus"
      },
      {
        "id": 4,
        "text": "Caplan's syndrome"
      },
      {
        "id": 5,
        "text": "Hematoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Hamartoma Hamartomas are benign lung tumors that typically present as well-defined, non-cavitating nodules with characteristic \"popcorn\" calcification. They do not usually undergo central necrosis or cavitation, which distinguishes them from other lesions that may present with a cavitating appearance on chest radiographs. Incorrect Options: B. Pulmonary Infarction Pulmonary infarctions can lead to cavitation due to necrosis of lung tissue after vascular occlusion, especially when infarcted areas become secondarily infected. C. Squamous Carcinoma of the Bronchus Squamous cell carcinoma is known for its tendency to cavitate as the central portion of the tumor undergoes necrosis, producing a cavity within the lesion. D. Caplan's Syndrome Caplan's syndrome occurs in patients with rheumatoid arthritis exposed to coal dust or silica. It presents with rheumatoid nodules in the lungs, which may cavitate due to central necrosis. E. Hematoma Pulmonary hematomas, although less common, can cavitate as the blood clot undergoes liquefaction and resorption, leading to a cavitary lesion on radiographs.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The overall heart size in tetralogy of Fallot is usually:",
    "choices": [
      {
        "id": 1,
        "text": "Markedly enlarged"
      },
      {
        "id": 2,
        "text": "Normal or relatively small"
      },
      {
        "id": 3,
        "text": "Slightly enlarged"
      },
      {
        "id": 4,
        "text": "Moderately enlarged"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Normal or relatively small In Tetralogy of Fallot, the overall heart size on a chest X-ray is usually normal or relatively small. This is because the primary defect involves a right ventricular outflow tract obstruction along with a ventricular septal defect. The obstruction limits pulmonary blood flow and prevents volume overload of the heart, resulting in a cardiac silhouette that is not significantly enlarged. Additionally, the right ventricular hypertrophy that does occur is often balanced by the small overall chamber size, leading to a relatively normal heart size on imaging. Incorrect Options: A. Markedly Enlarged A markedly enlarged heart is typically seen in conditions with significant volume overload (e.g., large left-to-right shunts, dilated cardiomyopathy), which is not characteristic of Tetralogy of Fallot. C. Slightly Enlarged Although minor enlargement can occasionally be observed, it is not typical. In Tetralogy of Fallot, the absence of significant volume overload usually prevents even slight enlargement, making the heart appear normal or relatively small. D. Moderately Enlarged Moderate enlargement suggests a more significant impact on cardiac volume and pressure that is usually seen in conditions such as severe left ventricular failure or large intracardiac shunts. Tetralogy of Fallot does not generally cause such changes.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "\"Golden S\" sign is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Right upper lobe collapse"
      },
      {
        "id": 2,
        "text": "Left upper lobe collapse"
      },
      {
        "id": 3,
        "text": "Right middle lobe"
      },
      {
        "id": 4,
        "text": "Lower lobe collapse"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Right Upper Lobe Collapse The Golden S sign is a classic radiological sign seen in right upper lobe collapse, often associated with an obstructing central mass (e.g., bronchogenic carcinoma). This sign results from the combination of a convex contour produced by the obstructing lesion and the concave contour of the collapsed lobe. The resulting pattern on a chest X-ray resembles a reversed \u201cS\u201d shape, which is why it is termed the \"Golden S sign.\" This finding is particularly useful in identifying right upper lobe collapse when there is suspicion of an underlying obstructive process. Incorrect Options: B. Left Upper Lobe Collapse While left upper lobe collapse can produce a silhouette sign on a chest X-ray, it does not typically display the characteristic reversed \u201cS\u201d contour seen with the Golden S sign. The anatomical orientation and bronchial configuration of the left lung differ from the right, so the distinctive S-shaped pattern is not seen. C. Right Middle Lobe Collapse of the right middle lobe usually produces a triangular opacity in the right lung with loss of the right heart border (the \u201cmiddle lobe collapse sign\u201d), not the S-shaped contour described by the Golden S sign. The right middle lobe\u2019s collapse pattern is more straightforward and does not form a reversed \u201cS.\u201d D. Lower Lobe Collapse Lower lobe collapse generally results in a density in the lower lung zones with associated signs like elevation of the hemidiaphragm, but it does not create the characteristic \u201cGolden S\u201d appearance. The shape and location of the lower lobe produce a different radiographic pattern, lacking the distinctive reversed S-curve.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60880451695994417/60880451695994417.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Among the causes of rib notching are:",
    "choices": [
      {
        "id": 1,
        "text": "Coarctation of aorta"
      },
      {
        "id": 2,
        "text": "Congenital interruption of aorta"
      },
      {
        "id": 3,
        "text": "Chronic superior vena cava obstruc\u00adtion"
      },
      {
        "id": 4,
        "text": "Aortic arch syndrome"
      },
      {
        "id": 5,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 5,
    "solution": "Correct Answer (E) All of the above Rib notching occurs when enlarged collateral vessels, typically intercostal arteries, erode the inferior surfaces of the ribs over time. This phenomenon is most famously associated with conditions that cause chronic obstruction of major thoracic vessels, leading to the development of extensive collateral circulation. All the conditions listed (coarctation of the aorta, congenital interruption of the aorta, chronic superior vena cava obstruction, and aortic arch syndrome) can result in the formation of such collaterals, thereby causing rib notching. A. Coarctation of the Aorta This is the classic cause of rib notching, as the narrowing of the aorta leads to increased collateral flow through intercostal arteries, which over time erode the rib margins. B. Congenital Interruption of the Aorta A congenital interruption similarly necessitates the development of collateral circulation to bypass the blocked segment, resulting in rib notching due to the increased flow through the intercostal arteries. C. Chronic Superior Vena Cava (SVC) Obstruction Chronic SVC obstruction can cause collateral pathways to form, often involving the intercostal veins. The resultant increased flow can erode the ribs, producing notching. D. Aortic Arch Syndrome In conditions affecting the aortic arch, such as Takayasu arteritis, altered hemodynamics and collateral vessel formation occur, leading to rib notching similar to that seen in coarctation.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Left atrial enlargement is best seen with:",
    "choices": [
      {
        "id": 1,
        "text": "Chest X-ray AP view"
      },
      {
        "id": 2,
        "text": "Chest X-ray left lateral view"
      },
      {
        "id": 3,
        "text": "Barium swallow right anterior oblique view"
      },
      {
        "id": 4,
        "text": "Barium swallow left anterior oblique view"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Barium Swallow Right Anterior Oblique View The Barium Swallow Right Anterior Oblique (RAO) view is the best technique to detect left atrial enlargement. In this view, the esophagus is well visualized as it lies immediately posterior to the left atrium. When the left atrium is enlarged, it produces a characteristic indentation on the barium-filled esophagus. This indentation is more readily apparent in the RAO projection, making it a reliable indicator of left atrial enlargement. Incorrect Options: A. Chest X-ray AP View Although an AP chest X-ray may show an enlarged cardiac silhouette, it lacks the specificity to isolate left atrial enlargement. The overlap of cardiac structures in an AP projection makes it difficult to appreciate the specific contribution of the left atrium. B. Chest X-ray Left Lateral View The lateral view is useful for assessing overall cardiac size and other chambers but does not provide a distinct contour of the left atrium relative to the esophagus, which is necessary for precise evaluation of left atrial enlargement. D. Barium Swallow Left Anterior Oblique View The left anterior oblique view does not optimally project the esophagus relative to the left atrium. The RAO view, on the other hand, aligns the esophagus directly behind the left atrium, making the left atrial contour more conspicuous.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/63042291695994458/63042291695994458.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Water lilly appearance in chest X-ray is suggestive of:",
    "choices": [
      {
        "id": 1,
        "text": "Bronchiectasis"
      },
      {
        "id": 2,
        "text": "Bronchopleural fistula"
      },
      {
        "id": 3,
        "text": "Hydatid cyst"
      },
      {
        "id": 4,
        "text": "Sequestration cyst of lung"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Hydatid Cyst The \"water lily appearance\" on a chest X-ray is highly suggestive of a hydatid cyst in the lung. This sign is produced when the endocyst (the inner germinal layer) detaches from the pericyst (the outer fibrous layer) due to degeneration or rupture. The floating membranes resemble the petals of a water lily, creating a characteristic radiographic pattern that is strongly indicative of pulmonary hydatid disease. Incorrect Options: A. Bronchiectasis Bronchiectasis is characterized by dilatation of bronchi and thickening of bronchial walls, often accompanied by cystic changes, tram-track opacities, and signet ring appearance on CT scan, not a water lily appearance. B. Bronchopleural Fistula A bronchopleural fistula is an abnormal connection between the bronchial tree and the pleural space. It typically presents with persistent air leak and hydropneumothorax on imaging rather than the distinct floating membranes seen in hydatid cysts. D. Sequestration Cyst of Lung Sequestration refers to a segment of lung tissue that is non-functional and receives its blood supply from systemic circulation. It usually appears as a homogenous mass or consolidation on imaging and does not exhibit the floating membrane pattern that characterizes a hydatid cyst.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/22369911695994531/22369911695994531.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Best position for chest X-ray to detect left pleural effusion is:",
    "choices": [
      {
        "id": 1,
        "text": "Left lateral"
      },
      {
        "id": 2,
        "text": "Supine"
      },
      {
        "id": 3,
        "text": "Left lateral decubitus"
      },
      {
        "id": 4,
        "text": "Right lateral decubitus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Left Lateral Decubitus The left lateral decubitus view is the best radiographic position to detect a left pleural effusion. In this position, the patient lies on their left side, causing any fluid in the left pleural space to layer out along the lateral chest wall. This positional change maximizes the detection of even small amounts of pleural fluid by creating a clear interface between the fluid and the adjacent lung, thereby enhancing the sensitivity of the examination. Incorrect Options: A. Left Lateral (View) The term \"left lateral view\" generally refers to a lateral chest X-ray taken with the patient standing or sitting. This view does not optimize the detection of a pleural effusion because it does not allow the free fluid to layer out dependent on gravity. B. Supine In the supine position, pleural fluid tends to distribute diffusely over the posterior chest wall, often masking small effusions. This makes the detection of early or minimal effusions more difficult compared to the decubitus view. D. Right Lateral Decubitus A right lateral decubitus view is performed with the patient lying on their right side. In the context of a left pleural effusion, this position would cause the left side (the affected side) to be non-dependent, and the fluid would not layer appropriately along the lateral chest wall, thereby reducing the sensitivity for detecting the effusion.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/31914101695994573/31914101695994573.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Perihilar fluffy opacities on chest X-ray is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary embolism"
      },
      {
        "id": 2,
        "text": "Pericardia effusion"
      },
      {
        "id": 3,
        "text": "Pulmonary arterial hypertension"
      },
      {
        "id": 4,
        "text": "Pulmonary venous hypertension"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Pulmonary Venous Hypertension Perihilar fluffy opacities on a chest X-ray are most commonly associated with pulmonary venous hypertension, which is typically seen in left-sided heart failure. In pulmonary venous hypertension, increased pressure in the pulmonary veins leads to interstitial edema and alveolar filling, especially in the perihilar regions. This results in a characteristic \"batwing\" or \"fluffy\" appearance around the hila due to fluid accumulation in the interstitial and alveolar spaces. Incorrect Options: A. Pulmonary Embolism Pulmonary embolism generally presents with wedge-shaped infarcts, peripheral opacities, or even a normal chest X-ray. It does not characteristically produce perihilar fluffy opacities; instead, it often shows oligemia (Westermark sign) or pleural-based infarcts. B. Pericardial Effusion Pericardial effusion typically presents with an enlarged, globular cardiac silhouette on the chest X-ray. It does not produce perihilar fluffy opacities since the effusion is located in the pericardial space and does not cause pulmonary edema. C. Pulmonary Arterial Hypertension Pulmonary arterial hypertension affects the pulmonary arteries and may cause pruning of peripheral vessels and enlargement of the central pulmonary arteries. However, it does not result in the interstitial or alveolar edema that causes perihilar fluffy opacities. Its radiographic findings differ and do not include the classic \"fluffy\" appearance.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/74953231695994614/74953231695994614.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The following chest X-ray findings are all suggestive of malignancy except:",
    "choices": [
      {
        "id": 1,
        "text": "Umbilicated surface"
      },
      {
        "id": 2,
        "text": "Spiculated surface"
      },
      {
        "id": 3,
        "text": "Peripheral cavitation"
      },
      {
        "id": 4,
        "text": "Diffuse calcification"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Diffuse Calcification Diffuse calcification on a chest X-ray is generally indicative of a benign process rather than malignancy. Malignant lesions typically do not present with uniform, diffuse calcification; instead, they often have irregular calcification patterns or may be non-calcified. Diffuse calcification is more commonly seen in benign conditions such as granulomas or old healed infections. Incorrect Options: A. Umbilicated Surface An umbilicated surface suggests a central depression or dimpling within a lesion, which can be seen in certain malignant nodules due to central necrosis or rapid tumor growth. B. Spiculated Surface A spiculated (or stellate) margin is a classic radiographic sign of malignancy. It reflects the invasive nature of the tumor, with radiating strands of fibrous tissue extending into the surrounding lung parenchyma. C. Peripheral Cavitation Cavitation, particularly when located peripherally in a lung nodule, raises suspicion for malignancy (e.g., squamous cell carcinoma) because it often results from central necrosis within the tumor.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/41381141695994633/41381141695994633.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Rib notching is seen in all the following except:",
    "choices": [
      {
        "id": 1,
        "text": "Blalock-Taussig shunt"
      },
      {
        "id": 2,
        "text": "Coarctation of the aorta"
      },
      {
        "id": 3,
        "text": "IVC obstruction"
      },
      {
        "id": 4,
        "text": "Neurofibromatosis"
      },
      {
        "id": 5,
        "text": "None"
      }
    ],
    "correct_choice_id": 5,
    "solution": "Correct Answer (E) None Rib notching is a radiographic sign that can be seen in several conditions due to the development of collateral circulation or other processes that cause erosion or scalloping of the rib surfaces. In this question, all the listed conditions are known to be associated with rib notching, making \"None\" (i.e., no exception among the options) the correct answer. A. Blalock-Taussig Shunt ? Correct Association The Blalock-Taussig shunt is a surgical procedure used in congenital heart disease (such as Tetralogy of Fallot) that connects the subclavian artery to the pulmonary artery. This shunt increases blood flow through the subclavian and intercostal arteries, which over time can lead to rib notching due to chronic high flow and resultant erosion of the inferior rib margins. B. Coarctation of the Aorta ? Correct Association Coarctation of the aorta is the classic cause of rib notching. The narrowing of the aorta forces blood to flow through collateral pathways, particularly the intercostal arteries, which become enlarged and erode the inferior aspects of the ribs over time. C. IVC Obstruction ? Correct Association In cases of chronic IVC obstruction, collateral venous channels develop to bypass the blockage. These collateral pathways can involve the paravertebral venous system, and their increased flow may lead to rib notching, although this is less common than in aortic coarctation. D. Neurofibromatosis ? Correct Association In neurofibromatosis, rib notching can occur due to the presence of neurofibromas along the intercostal nerves. These neurofibromas can cause erosion of the rib surfaces, producing notching similar to that seen in vascular causes.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All the following are radiological features of mitral stenosis except:",
    "choices": [
      {
        "id": 1,
        "text": "Straight left heart border"
      },
      {
        "id": 2,
        "text": "Oligaemia of the upper 1ung fields"
      },
      {
        "id": 3,
        "text": "Pulmonary haemosiderosis"
      },
      {
        "id": 4,
        "text": "Lifting of the left bronchus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Oligaemia of the Upper Lung Fields In mitral stenosis, the typical radiographic findings include features related to left atrial enlargement and pulmonary venous hypertension. These changes result in a straight left heart border due to left atrial enlargement, lifting of the left bronchus (reflecting the upward displacement of the left atrium), and pulmonary haemosiderosis from chronic pulmonary congestion and alveolar hemorrhage. The upper lung fields in mitral stenosis usually show increased vascularity (cephalization), not oligaemia. Therefore, \"oligaemia of the upper lung fields\" is not a feature of mitral stenosis. Incorrect Options: A. Straight Left Heart Border Mitral stenosis causes left atrial enlargement, which straightens the normally convex left heart border on a chest X-ray. C. Pulmonary Haemosiderosis Chronic pulmonary venous hypertension from mitral stenosis leads to leakage of blood into the alveoli, resulting in hemosiderin deposition in the lung tissue (pulmonary haemosiderosis). D. Lifting of the Left Bronchus Enlargement of the left atrium in mitral stenosis often displaces and lifts the left main bronchus, which is a recognized radiological sign.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/45494881695994652/45494881695994652.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Features of a benign lung lesion are:",
    "choices": [
      {
        "id": 1,
        "text": "Speckled calcification"
      },
      {
        "id": 2,
        "text": "Peripheral calcification"
      },
      {
        "id": 3,
        "text": "Ring enhancement"
      },
      {
        "id": 4,
        "text": "Shows hot spot with radio labelling agent"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Peripheral calcification: This pattern, also known as laminated or concentric calcification, is considered virtually pathognomonic (unmistakable) for a benign lesion. It looks like rings or layers of calcium around the outside of the nodule on a CT scan. This appearance is typically a sign of a healed granuloma, which is a collection of inflammatory cells that has walled off a past infection, most commonly from conditions like histoplasmosis or tuberculosis. Incorrect Options A. Speckled calcification: This is an indeterminate finding. While it can be seen in some benign lesions, it can also be a feature of a malignant tumor. The irregular, punctate, or stippled nature of the calcium deposits does not provide the same high level of confidence for a benign diagnosis as a peripheral pattern. In fact, malignant tumors can sometimes engulf or grow around pre-existing calcified areas, leading to this mixed appearance. C. Ring enhancement: Ring enhancement on a CT or MRI scan is a sign of a lesion with an active, vascularized outer rim and a necrotic (dead) or fluid-filled center. This is a common feature of a lung abscess, which is a severe infection, but it can also be seen in malignant tumors that have outgrown their blood supply. Therefore, it is not a feature of a benign lesion. D. Shows hot spot with radio-labeling agent: This describes a positive PET scan. PET scans use a radioactive glucose tracer, and cancer cells, which have a high metabolic rate, \"light up\" or show a \"hot spot\" due to their increased glucose uptake. Benign lesions are generally metabolically inactive and do not show a hot spot. Therefore, a hot spot is a strong indicator of malignancy, not a benign lesion.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Bilateral symmetrical Hilar lymph node seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Sarcoidosis"
      },
      {
        "id": 2,
        "text": "Tuberculosis"
      },
      {
        "id": 3,
        "text": "Leprosy"
      },
      {
        "id": 4,
        "text": "Wegener's granulomatosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Sarcoidosis Bilateral symmetrical hilar lymphadenopathy is a hallmark radiographic finding in sarcoidosis. In sarcoidosis, non-caseating granulomas typically develop in the lymph nodes, particularly in the hilar and mediastinal regions, leading to a characteristic symmetrical enlargement. This finding is often seen on chest X-ray and is a key diagnostic clue for sarcoidosis. Incorrect Options: B. Tuberculosis Tuberculosis may cause lymphadenopathy; however, it is usually asymmetrical and associated with caseating granulomas. The lymph node enlargement in TB is more often unilateral or uneven, and it may also be accompanied by parenchymal lesions, unlike the symmetric pattern seen in sarcoidosis. C. Leprosy Leprosy typically affects the skin and peripheral nerves, with minimal involvement of intrathoracic lymph nodes. Bilateral hilar lymphadenopathy is not a characteristic feature of leprosy. D. Wegener's Granulomatosis Wegener's granulomatosis (Granulomatosis with polyangiitis) primarily affects the upper and lower respiratory tracts and kidneys, causing nodules, cavitations, and other pulmonary infiltrates rather than a symmetric hilar lymphadenopathy. The lymphadenopathy in Wegener's is not typically bilateral and symmetrical as seen in sarcoidosis.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are true about loculated pleural effusion except:",
    "choices": [
      {
        "id": 1,
        "text": "It makes an obtuse angle with the chest wall"
      },
      {
        "id": 2,
        "text": "The margins are clear when viewed in face"
      },
      {
        "id": 3,
        "text": "Not confined to any broncho\u00ad Pulmonary segment"
      },
      {
        "id": 4,
        "text": "Air bronchogram is seen within the opacity"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Air bronchogram is seen within the opacity An air bronchogram is typically seen in pulmonary consolidation when air-filled bronchi are made visible against a background of opacified lung parenchyma. In the case of a loculated pleural effusion, the fluid collection is located in the pleural space, not within the lung tissue itself; hence, air bronchograms are not observed. Loculated pleural effusions refer to collections of fluid within the pleural space that are confined by adhesions. These effusions characteristically make an obtuse angle with the chest wall because the fluid accumulates along the pleural surface. They also have clearly defined margins when viewed face-on, due to the localized, adherent nature of the fluid collection. Importantly, since pleural effusions reside in the pleural space rather than within the lung parenchyma, they are not confined to any specific bronchopulmonary segment. Incorrect Options: A. It makes an obtuse angle with the chest wall Loculated pleural effusions typically form an obtuse angle with the chest wall. This is because the fluid collects along the pleural lining, producing a smooth, convex interface with the chest wall. B. The margins are clear when viewed in face The presence of adhesions leads to well-defined, clear margins on the chest X-ray. This clear demarcation helps differentiate a loculated effusion from diffuse parenchymal opacities. C. Not confined to any bronchopulmonary segment As a pleural space pathology, a loculated pleural effusion is not limited to the boundaries of any bronchopulmonary segment, which are features of the lung parenchyma.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/25310331695995083/25310331695995083.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Popcorn calcification is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary hamartoma"
      },
      {
        "id": 2,
        "text": "Fungal infection"
      },
      {
        "id": 3,
        "text": "Metastasis"
      },
      {
        "id": 4,
        "text": "Tuberculosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Pulmonary Hamartoma Popcorn calcification is a classic radiological finding that is highly characteristic of pulmonary hamartomas. These benign lung tumors often contain a mixture of tissues, including cartilage and fat, which when calcified, give rise to a chunky, irregular \"popcorn-like\" appearance on imaging studies such as chest X-rays or CT scans. This pattern of calcification is strongly suggestive of a hamartoma rather than a malignant lesion or an infectious process. Incorrect Options: B. Fungal Infection Fungal infections may produce calcifications in certain chronic or healed lesions, but these calcifications typically do not have the distinctive \"popcorn\" pattern seen in hamartomas. Instead, fungal infections usually lead to more amorphous or patchy calcification patterns. C. Metastasis Metastatic lesions in the lung, especially from osteosarcoma or chondrosarcoma, can sometimes show calcification; however, the calcification is often irregular, punctate, or stippled, and does not present as a classic popcorn pattern. Malignant lesions typically have more aggressive and less organized calcific deposits. D. Tuberculosis Tuberculosis can cause calcifications in the form of granulomas or calcified nodules, but these are generally dense and uniform rather than having the chunky, lobulated \"popcorn\" appearance. The calcification in TB is more likely to be seen as a result of healed primary complex or miliary TB rather than a benign tumor calcification.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "'Figure of 8'appearance is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "TAPVC"
      },
      {
        "id": 2,
        "text": "Partial TAPVC"
      },
      {
        "id": 3,
        "text": "Abnormal origin of aorta"
      },
      {
        "id": 4,
        "text": "Tetralogy of Fallot"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) TAPVC The \"figure of 8\" appearance on chest X-ray is classically associated with Total Anomalous Pulmonary Venous Connection (TAPVC). In TAPVC, all pulmonary veins drain anomalously into the systemic venous circulation rather than the left atrium. This abnormal drainage, particularly in the supracardiac type, results in a characteristic configuration of the pulmonary veins and dilated vertical vein that together create a silhouette resembling the numeral \"8\" on the chest radiograph. This sign is an important diagnostic clue in recognizing TAPVC in neonates and infants. Incorrect Options: B. Partial TAPVC Partial TAPVC involves only some of the pulmonary veins draining anomalously, while others drain normally into the left atrium. This mixed drainage pattern does not typically produce the classic \"figure of 8\" silhouette seen in complete TAPVC. C. Abnormal Origin of Aorta Abnormal origin of the aorta, such as in transposition of the great arteries, leads to different radiographic features (e.g., egg on a string sign in transposition). It does not result in a \"figure of 8\" appearance on the chest X-ray. D. Tetralogy of Fallot Tetralogy of Fallot is characterized by right ventricular hypertrophy, an overriding aorta, and pulmonary stenosis, among other features. Its radiographic hallmark is a \"boot-shaped\" heart, not a \"figure of 8\" appearance.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/78774661695995117/78774661695995117.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "X-ray findings in cardiac failure are all of the following except:",
    "choices": [
      {
        "id": 1,
        "text": "Kerley B lines"
      },
      {
        "id": 2,
        "text": "Pleural effusion"
      },
      {
        "id": 3,
        "text": "Prominent lower lobe veins"
      },
      {
        "id": 4,
        "text": "Cardiomegaly"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Prominent Lower Lobe Veins In cardiac failure, chest X-ray findings typically include signs of pulmonary venous congestion and interstitial edema. Common radiographic features are Kerley B lines, pleural effusions, and cardiomegaly, along with a redistribution of blood flow with engorgement of the upper lobe vessels (cephalization). However, the lower lobe veins are not usually described as \"prominent\" in cardiac failure; rather, it is the upper lobe vessels that become more conspicuous. Incorrect Options: A. Kerley B Lines Kerley B lines represent short, horizontal opacities near the lung periphery due to interstitial edema. They are a classic early sign of pulmonary venous congestion in heart failure. B. Pleural Effusion In cardiac failure, increased hydrostatic pressure leads to transudation of fluid into the pleural space, making pleural effusions a common finding on chest X-ray. D. Cardiomegaly An enlarged cardiac silhouette (cardiomegaly) is frequently seen in heart failure due to dilatation of the cardiac chambers, which is a hallmark of chronic volume overload and impaired cardiac function.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/51956941695995181/51956941695995181.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All the following show miliary shadows on chest X-ray except",
    "choices": [
      {
        "id": 1,
        "text": "Pneumoconiosis"
      },
      {
        "id": 2,
        "text": "Mitral stenosis"
      },
      {
        "id": 3,
        "text": "Sarcoidosis"
      },
      {
        "id": 4,
        "text": "Staphylococcal pneumonia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Staphylococcal Pneumonia Miliary shadows on a chest X-ray refer to the presence of numerous, small, uniformly distributed nodules that resemble millet seeds. These patterns are typically seen in conditions where there is widespread dissemination of disease, such as in certain pneumoconioses, mitral stenosis (due to chronic pulmonary venous congestion), and sarcoidosis. However, staphylococcal pneumonia usually presents with patchy consolidation, abscess formation, or pneumatoceles rather than a diffuse miliary pattern. Incorrect Options: A. Pneumoconiosis Certain pneumoconioses, such as silicosis, can produce numerous small nodular opacities that mimic a miliary pattern. Although the nodules are due to dust deposition and subsequent fibrosis, they can appear as a miliary pattern on imaging. B. Mitral Stenosis In mitral stenosis, chronic pulmonary venous hypertension may lead to interstitial edema and the development of small nodular opacities (sometimes described as a \"miliary mottling\" pattern) on chest X-rays. This miliary pattern is related to the hemodynamic changes from the stenosis. C. Sarcoidosis Sarcoidosis is known for its bilateral hilar lymphadenopathy along with fine nodular opacities that can sometimes present in a miliary distribution. These tiny nodules result from granulomatous inflammation, and in some cases, the pattern may closely resemble miliary shadows.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/76562591695995258/76562591695995258.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All are seen in left atrium enlargement except",
    "choices": [
      {
        "id": 1,
        "text": "Posterior displacement of the oeso\u00adphagus on barium meal"
      },
      {
        "id": 2,
        "text": "Straightening of the left main bronchus"
      },
      {
        "id": 3,
        "text": "A double shadow of right atrium"
      },
      {
        "id": 4,
        "text": "Retrosternallucency on lateral film"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Straightening of the left main bronchus Instead of straightening, left atrial enlargement usually causes an upward displacement of the left main bronchus due to direct compression from the enlarged atrium. Left atrial enlargement (LAE) causes characteristic changes on imaging, including chest X-ray and barium swallow studies. It is most commonly associated with conditions such as mitral stenosis and mitral regurgitation. The key radiological findings include posterior displacement of the esophagus, a double density sign on the right heart border, and retrosternal fullness on the lateral chest film. However, straightening of the left main bronchus is not a classic feature of left atrial enlargement; rather, elevation of the left bronchus is more characteristic. Incorrect Options: A. Posterior displacement of the esophagus on barium meal The enlarged left atrium can push the esophagus posteriorly, which is best seen on a barium swallow study. This is a well-recognized sign of LAE. C. A double shadow of the right atrium On a frontal chest X-ray, LAE can create a double density sign, where the left atrium bulges to the right, superimposing on the right heart border. This results in an apparent double shadow effect. D. Retrosternal lucency on lateral film In a lateral chest X-ray, LAE can push the heart posteriorly, leading to an area of increased retrosternal lucency due to the anterior displacement of lung tissue.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "'Cavitating lesions'in the lung are found in:",
    "choices": [
      {
        "id": 1,
        "text": "Squamous cell carcinoma"
      },
      {
        "id": 2,
        "text": "Adenocarcinoma"
      },
      {
        "id": 3,
        "text": "Small cell carcinoma"
      },
      {
        "id": 4,
        "text": "Large cell carcinoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Squamous Cell Carcinoma Cavitating lesions in the lung are most classically seen in squamous cell carcinoma. This type of lung cancer is known for its tendency to undergo central necrosis due to rapid tumor growth that outpaces its blood supply, leading to cavitation. The cavity formation is a hallmark feature of squamous cell carcinoma and can be seen on chest imaging as a central lesion with a thick, irregular wall. Incorrect Options: B. Adenocarcinoma Adenocarcinoma of the lung usually presents as a peripheral lesion and rarely cavitates. It tends to form solid nodules or masses without the central necrosis commonly seen in squamous cell carcinoma. C. Small Cell Carcinoma Small cell carcinoma is known for its aggressive behavior and rapid growth, but it typically does not form cavitating lesions. It usually appears as a central mass with mediastinal involvement rather than a cavitated lesion. D. Large Cell Carcinoma Large cell carcinoma, while a form of non-small cell lung cancer, is less likely to exhibit cavitation compared to squamous cell carcinoma. It typically presents as a large peripheral mass with a less distinctive pattern of necrosis and cavitation.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/73110201695995326/73110201695995326.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young man with pulmonary tuber\u00ad culosis presents with massive recurrent hemoptysis. For angiographic treatment, which vascular structure should be evaluated first?",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary artery"
      },
      {
        "id": 2,
        "text": "Bronchial artery"
      },
      {
        "id": 3,
        "text": "Pulmonary vein"
      },
      {
        "id": 4,
        "text": "Superior vena cava"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Bronchial Artery In patients with pulmonary tuberculosis, massive and recurrent hemoptysis is most commonly caused by hypertrophied bronchial arteries rather than the pulmonary arteries. Chronic inflammation and neovascularization in TB lead to enlargement and fragility of the bronchial arteries, making them the primary source of bleeding. For angiographic treatment\u2014such as bronchial artery embolization\u2014it is crucial to evaluate the bronchial arteries first to localize and control the source of hemorrhage. Incorrect Options: A. Pulmonary Artery Although pulmonary arteries can be involved in certain vascular abnormalities, in TB, they are rarely the source of massive hemoptysis. The pulmonary circulation operates under low pressure and is not prone to the hypertrophy seen in bronchial arteries during chronic inflammation. C. Pulmonary Vein Pulmonary veins carry oxygenated blood back to the left atrium and are not typically implicated in hemoptysis. They are less likely to develop the pathological changes that cause bleeding in tuberculosis. D. Superior Vena Cava The Superior Vena Cava is a major venous structure draining the upper body and is not directly involved in the pulmonary bleeding seen in TB. It does not contribute to the arterial bleeding that characterizes massive hemoptysis.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/60701211695995456/60701211695995456.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In which of the following a 'Cour-en\u00ad Sabot'shape of the heart is seen?",
    "choices": [
      {
        "id": 1,
        "text": "Tricuspid atresia"
      },
      {
        "id": 2,
        "text": "Ventricular septal defect"
      },
      {
        "id": 3,
        "text": "Transposition of great arteries"
      },
      {
        "id": 4,
        "text": "Tetralogy of Fallot"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Tetralogy of Fallot The \"coeur en sabot\" or \"boot-shaped\" heart is a classic radiographic finding in Tetralogy of Fallot. This appearance is due to a combination of right ventricular hypertrophy, an upturned apex, and a concave pulmonary segment resulting from reduced pulmonary blood flow. The \"boot shape\" is a result of the abnormal cardiac silhouette created by the right ventricular overload and the underdevelopment of the pulmonary artery. Incorrect Options: A. Tricuspid Atresia In tricuspid atresia, there is an absence of the tricuspid valve leading to an underdeveloped right ventricle. The heart may appear small or with other alterations, but it does not exhibit the classic boot-shaped appearance seen in Tetralogy of Fallot. B. Ventricular Septal Defect A ventricular septal defect (VSD) is a hole in the interventricular septum that can lead to volume overload in the left ventricle or cause Eisenmenger's syndrome over time. However, a VSD on its own does not produce the distinctive \"coeur en sabot\" appearance. C. Transposition of the Great Arteries Transposition of the great arteries (TGA) leads to a situation where the aorta and pulmonary artery are switched, and the heart may show an \"egg on a string\" appearance on a chest X-ray. This is quite different from the boot-shaped heart seen in Tetralogy of Fallot.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which is the objective sign of identi\u00ad fying pulmonary plethora in a chest radiograph?",
    "choices": [
      {
        "id": 1,
        "text": "Diameter of the main pulmonary/artery> 16 mm"
      },
      {
        "id": 2,
        "text": "Diameter of the left pulmonary artery > 16mm"
      },
      {
        "id": 3,
        "text": "Diameter of the descending right pulmonary artery> 16 mm"
      },
      {
        "id": 4,
        "text": "Diameter of the descending left pulmonary artery > 16 mm"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Diameter of the Descending Right Pulmonary Artery > 16 mm The objective radiographic sign for identifying pulmonary plethora is based on measuring the diameter of the descending right pulmonary artery. When this diameter exceeds 16 mm on a chest radiograph, it indicates increased pulmonary blood flow, which is typically seen in conditions that lead to pulmonary plethora such as left-to-right shunts. Descending Right Pulmonary Artery Measurement: Studies have shown that the diameter of the descending right pulmonary artery is a reliable metric for assessing pulmonary blood flow. A measurement of greater than 16 mm is an established criterion for pulmonary plethora. This objective sign reflects the hemodynamic changes caused by increased blood volume or pressure in the pulmonary circulation. Incorrect Options: A. Diameter of the Main Pulmonary Artery > 16 mm Although the main pulmonary artery may be dilated in certain conditions, its measurement is less specific for pulmonary plethora. The main pulmonary artery size can be influenced by various factors and is not as consistently correlated with increased pulmonary blood flow as the descending right pulmonary artery. B. Diameter of the Left Pulmonary Artery > 16 mm The left pulmonary artery is also subject to variations in size, but the descending right pulmonary artery has been found to be a more reliable and reproducible indicator of pulmonary plethora. Measurements of the left pulmonary artery are not routinely used as the primary objective sign. D. Diameter of the Descending Left Pulmonary Artery > 16 mm Similar to the left pulmonary artery, the descending left pulmonary artery's diameter is less commonly used as an indicator. The descending right pulmonary artery is preferred due to its more consistent appearance and measurement reliability on standard chest radiographs.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/34200061695995486/34200061695995486.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following causes rib\u00ad notching on the chest radiography?",
    "choices": [
      {
        "id": 1,
        "text": "Bidirectional Clem shunt"
      },
      {
        "id": 2,
        "text": "Modified Blalock-Taussig shunt"
      },
      {
        "id": 3,
        "text": "IVC occlusion"
      },
      {
        "id": 4,
        "text": "Coarctation of aorta"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Coarctation of Aorta Coarctation of the aorta is the classic cause of rib notching on chest radiographs. The narrowing of the aorta, typically distal to the left subclavian artery, forces blood to bypass the constricted segment via collateral circulation, notably through the intercostal arteries. The increased blood flow in these arteries over time leads to erosion of the inferior aspects of the ribs, producing the characteristic notched appearance. Incorrect Options: A. Bidirectional Clem Shunt A bidirectional Clem shunt is a type of surgical shunt procedure, but it is not known to cause rib notching. The collateral circulation generated in coarctation of the aorta, which leads to rib erosion, is not a feature of this shunt. B. Modified Blalock-Taussig Shunt The modified Blalock-Taussig shunt is used to palliate certain congenital heart diseases by creating a connection between the subclavian and pulmonary arteries. Although it alters blood flow, it does not create the chronic high-flow collateral circulation through intercostal arteries that causes rib notching. C. IVC Occlusion Occlusion of the inferior vena cava affects venous return from the lower body and leads to different radiographic findings, such as engorgement of collateral veins, but it does not result in rib notching, which is specifically due to arterial collateral flow.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Loss of cardiac silhoutte is seen in pathology of:",
    "choices": [
      {
        "id": 1,
        "text": "Rt. Middle lobe"
      },
      {
        "id": 2,
        "text": "Rt. Lower lobe"
      },
      {
        "id": 3,
        "text": "Rt. Atria"
      },
      {
        "id": 4,
        "text": "Rt. Ventricle"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Right Middle Lobe The loss of the cardiac silhouette on a chest X-ray is known as the \"silhouette sign.\" This occurs when a lung pathology, such as consolidation, occurs in a region that directly contacts the heart, thereby obliterating the normal outline of the cardiac border. The right middle lobe is in direct contact with the right heart border. When it is affected, the normally visible border of the heart disappears, which is a classic finding indicating pathology in the right middle lobe. Incorrect Options: B. Right Lower Lobe The right lower lobe is not adjacent to the right heart border. Pathology in the right lower lobe does not obscure the cardiac silhouette because it is separated from the heart by the right middle lobe. C. Right Atria Changes in the right atrium typically result in enlargement or altered contours of the heart but do not cause the loss of the cardiac silhouette on chest X-ray. The silhouette sign is specifically related to lung pathology adjacent to the heart border. D. Right Ventricle Similarly, pathology involving the right ventricle would affect the overall size or shape of the heart but would not produce a loss of the silhouette because the right ventricle is an internal cardiac structure and not in direct contact with the lung parenchyma responsible for forming the cardiac border.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/26903401695995516/26903401695995516.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Snowman's appearance is seen in which cardiac pathology",
    "choices": [
      {
        "id": 1,
        "text": "TOF"
      },
      {
        "id": 2,
        "text": "Fallot's tetralogy"
      },
      {
        "id": 3,
        "text": "Corrected TGA"
      },
      {
        "id": 4,
        "text": "TAPVC"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) TAPVC The \"snowman\" appearance on a chest X-ray is the classic sign of Total Anomalous Pulmonary Venous Connection (TAPVC), particularly the supracardiac type. In TAPVC, all pulmonary veins drain anomalously into the systemic venous circulation rather than directly into the left atrium. The configuration of the confluence of the pulmonary veins, the vertical vein, and the dilated innominate vein creates a silhouette that resembles a snowman on imaging. Incorrect Options: A. TOF (Tetralogy of Fallot) Tetralogy of Fallot is typically associated with a \"boot-shaped\" (coeur en sabot) heart due to right ventricular hypertrophy and pulmonary stenosis, not a snowman appearance. B. Fallot's Tetralogy This is simply another term for Tetralogy of Fallot, which, as noted, does not produce the snowman sign. Its radiographic features are distinct, such as a boot-shaped heart. C. Corrected TGA (Transposition of the Great Arteries) Corrected TGA presents with different imaging findings, such as abnormal cardiac position and morphology, but it does not produce a snowman appearance. The characteristic radiographic sign for TAPVC is unique and is not seen in corrected TGA.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Egg on side appearance is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Ebstein anomaly"
      },
      {
        "id": 2,
        "text": "Uncorrected TGA"
      },
      {
        "id": 3,
        "text": "Tricuspid atresia"
      },
      {
        "id": 4,
        "text": "Tetralogy of Fallot"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Uncorrected TGA (Transposition of the Great Arteries) The \"Egg on side\" (or \"Egg on a string\") appearance on a chest X-ray is a classic radiographic sign seen in uncorrected Transposition of the Great Arteries (TGA). This appearance results from: A narrow mediastinum due to the anteroposterior orientation of the great vessels. An enlarged, globular-shaped heart, which resembles an egg lying on its side. A small thymic shadow or absence of a normal mediastinal contour. TGA is a congenital heart defect where the aorta arises from the right ventricle, and the pulmonary artery arises from the left ventricle, leading to cyanosis and severe circulatory compromise. Incorrect Options: A. Ebstein Anomaly Ebstein anomaly typically shows an enlarged right atrium and a box-shaped heart on X-ray due to downward displacement of the tricuspid valve and right heart enlargement. It does not produce the \"Egg on side\" appearance. C. Tricuspid Atresia Tricuspid atresia causes diminished pulmonary blood flow and may lead to a small heart rather than the characteristic \"egg on side\" shape. It is more associated with decreased pulmonary markings rather than a globular cardiac silhouette. D. Tetralogy of Fallot (TOF) TOF is classically associated with a \"Boot-shaped heart\" (coeur en sabot) due to right ventricular hypertrophy and an upturned apex. It does not present with the globular, \"egg on side\" shape seen in uncorrected TGA.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Hampton's Hump is seen in:",
    "choices": [
      {
        "id": 1,
        "text": "Pulmonary embolism"
      },
      {
        "id": 2,
        "text": "Tuberculosis"
      },
      {
        "id": 3,
        "text": "Bronchogenic Ca"
      },
      {
        "id": 4,
        "text": "Pneumonia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Pulmonary Embolism Hampton\u2019s Hump is a radiographic sign seen on chest X-ray (CXR) that is suggestive of pulmonary embolism (PE). It appears as a wedge-shaped, pleural-based opacity with its base against the pleura and its apex pointing toward the hilum. This sign represents pulmonary infarction caused by occlusion of a pulmonary artery branch due to embolism. It is often seen in peripheral lung fields, typically in the lower lobes. The opacity results from hemorrhage and necrosis of lung tissue due to compromised blood flow. However, Hampton's Hump is not always present in PE\u2014CT pulmonary angiography is the preferred diagnostic tool for confirming PE. Incorrect Options: B. Tuberculosis Tuberculosis (TB) usually presents with upper lobe cavitary lesions, nodules, or miliary patterns on CXR. Hampton\u2019s Hump is not a feature of TB. C. Bronchogenic Carcinoma Bronchogenic carcinoma often presents as a solitary pulmonary nodule, mass, or mediastinal widening on X-ray. It does not cause the wedge-shaped infarct-like opacity seen in Hampton\u2019s Hump. D. Pneumonia Pneumonia usually presents as patchy or lobar consolidations with air bronchograms. Unlike pulmonary embolism, pneumonia does not cause wedge-shaped pleural-based opacities.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/21989911695995633/21989911695995633.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Earliest sign of pulmonary venus hypertension on chest radiograph is:",
    "choices": [
      {
        "id": 1,
        "text": "Pleural effusion"
      },
      {
        "id": 2,
        "text": "Kerley B lines"
      },
      {
        "id": 3,
        "text": "Cephalization of veins"
      },
      {
        "id": 4,
        "text": "Kerley a lines"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Cephalization of Veins Cephalization of veins is the earliest radiographic sign of pulmonary venous hypertension seen on chest X-ray (CXR). In pulmonary venous hypertension (PVH), increased left atrial pressure leads to redistribution of blood from the lower lung fields to the upper lung fields. This results in prominent upper lobe pulmonary veins, which appear dilated and more visible on chest X-ray. Cephalization occurs when pulmonary capillary pressure reaches approximately 10\u201315 mmHg. It is an early indication of left heart failure, mitral valve disease, or volume overload conditions. Incorrect Options: A. Pleural Effusion Pleural effusion occurs in more advanced stages of pulmonary venous hypertension when the pressure exceeds 20 mmHg. It results from fluid leakage into the pleural space and is usually bilateral in cases of heart failure. B. Kerley B Lines Kerley B lines are horizontal thin lines near the lung periphery, caused by interstitial edema due to high venous pressure. These appear later when pressure exceeds 20\u201325 mmHg, after cephalization. D. Kerley A Lines Kerley A lines are longer and seen in the lung mid-zones, indicating more advanced interstitial edema. They occur later than cephalization, typically in chronic pulmonary venous hypertension.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/25785761695995688/25785761695995688.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Earliest sign of left atrial hypertrophy is:",
    "choices": [
      {
        "id": 1,
        "text": "Posterior displacement of esophagus"
      },
      {
        "id": 2,
        "text": "Widening of carinal angle"
      },
      {
        "id": 3,
        "text": "Upward displacement of left bronchus"
      },
      {
        "id": 4,
        "text": "Double contour of right border of heart"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Posterior Displacement of Esophagus Posterior displacement of the esophagus is the earliest radiological sign of left atrial hypertrophy (LAH). The left atrium (LA) lies anterior to the esophagus. As it enlarges due to increased pressure or volume overload, it pushes the esophagus backward, which can be observed using a barium swallow study. This is the first detectable change in LAH, appearing before other radiographic signs on a chest X-ray. Incorrect Options: B. Widening of Carinal Angle The normal carinal angle is around 60\u201375\u00b0. As the left atrium enlarges further, it pushes the main bronchi apart, leading to carinal widening beyond 90\u00b0. However, this is a later sign of LAH, not the earliest. C. Upward Displacement of Left Bronchus The left bronchus is lifted upward due to increasing left atrial enlargement. This happens after the esophagus is displaced, making it a later finding. D. Double Contour of Right Border of Heart A double density sign (double contour) is seen when the left atrium significantly enlarges, causing it to project as a second shadow behind the right atrium. This is a more advanced stage of LAH.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/37614361695995716/37614361695995716.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Characteristic radiographic appearance of aortitis is",
    "choices": [
      {
        "id": 1,
        "text": "Calcification of ascending aorta"
      },
      {
        "id": 2,
        "text": "Calcification of descending aorta"
      },
      {
        "id": 3,
        "text": "Dilation of arch of aorta"
      },
      {
        "id": 4,
        "text": "Enlargement of left atrium"
      }
    ],
    "correct_choice_id": 1,
    "solution": "Correct Answer (A) Calcification of Ascending Aorta The characteristic radiographic appearance of aortitis is calcification of the ascending aorta, which is commonly seen in conditions like syphilitic aortitis, Takayasu arteritis, and other chronic inflammatory diseases affecting the aorta. Aortitis leads to inflammation, fibrosis, and subsequent calcification of the aortic wall. The ascending aorta is the most commonly affected site, particularly in syphilitic aortitis, where calcification appears in the proximal aorta on a chest X-ray. Incorrect Options: Calcification of Descending Aorta While descending aorta calcification can occur in atherosclerosis and hypertension, it is not specific for aortitis. Aortitis primarily affects the ascending aorta in its early stages. Dilation of Arch of Aorta Aneurysmal dilation of the aortic arch can be seen in aortitis, but it is a later finding. The primary characteristic is calcification of the ascending aorta, not just dilation. Enlargement of Left Atrium Left atrial enlargement is commonly associated with mitral valve disease or left heart failure, not aortitis. Aortitis affects the aorta rather than the cardiac chambers.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Inferior rib notching is seen in all except",
    "choices": [
      {
        "id": 1,
        "text": "Blalock Taussig shunt operation"
      },
      {
        "id": 2,
        "text": "Aortic interruption"
      },
      {
        "id": 3,
        "text": "Waterson Cooley's shunt"
      },
      {
        "id": 4,
        "text": "Pulmonary stenosis with VSD"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Waterson Cooley's shunt The Waterson Cooley's shunt, unlike the other procedures and conditions mentioned, does not typically result in increased collateral flow through the intercostal arteries. Therefore, it is not associated with the inferior rib notching seen on chest radiographs. Inferior rib notching is a radiographic sign that results from the development of collateral circulation through the intercostal arteries. These collaterals enlarge over time, causing erosion of the inferior margins of the ribs. This phenomenon is typically seen in conditions where there is obstruction or interruption in the aorta, which forces blood to be rerouted via collateral vessels. Incorrect Options: A. Blalock Taussig Shunt Operation The Blalock-Taussig shunt is a palliative surgical procedure used to improve pulmonary blood flow in certain congenital heart diseases. It increases flow through the subclavian and intercostal arteries, which over time may lead to rib notching due to chronic high-flow collateral circulation. B. Aortic Interruption Aortic interruption or severe coarctation leads to the formation of extensive collateral circulation. The intercostal arteries enlarge to bypass the obstruction, which results in characteristic inferior rib notching seen on chest radiographs. D. Pulmonary Stenosis with VSD In pulmonary stenosis with a ventricular septal defect, altered hemodynamics can lead to increased collateral flow through the systemic vessels. This collateral circulation may also cause erosion of the rib margins, producing inferior rib notching.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Radiologically, increased pulmonary blood flow is indicated by the following except",
    "choices": [
      {
        "id": 1,
        "text": "Descending pulmonary diameter > 16 mm"
      },
      {
        "id": 2,
        "text": "Kerley b lines"
      },
      {
        "id": 3,
        "text": "Diameter of peripheral arteries > 2 accompanying bronchiole"
      },
      {
        "id": 4,
        "text": "> 6 blood vessel in outer l / 3rd"
      }
    ],
    "correct_choice_id": 2,
    "solution": "Correct Answer (B) Kerley B lines Increased pulmonary blood flow is primarily assessed by evaluating the pulmonary vascular markings and vessel diameters on chest radiographs. Objective indicators include measurements such as an enlarged descending pulmonary artery diameter (> 16 mm), a ratio where the diameter of peripheral arteries exceeds that of the accompanying bronchiole (typically > 2:1), and the presence of more than 6 visible blood vessels in the outer third of the lung fields. These criteria directly reflect the increased volume of blood circulating through the pulmonary vessels. Kerley B lines represent interstitial edema\u2014fluid accumulation within the interlobular septa\u2014commonly seen in pulmonary venous hypertension or early stages of pulmonary edema, rather than a direct marker of increased pulmonary blood flow. While they indicate elevated pulmonary capillary pressure, they do not objectively quantify an increase in the volume of blood within the pulmonary vasculature. Thus, they are not considered a direct sign of increased pulmonary blood flow. Incorrect Options: A. Descending Pulmonary Artery Diameter > 16 mm An enlarged descending pulmonary artery suggests increased blood flow through the pulmonary circulation, making it a direct and objective sign of pulmonary plethora. C. Diameter of Peripheral Arteries > 2 Accompanying Bronchiole When the peripheral pulmonary arteries are significantly larger than the adjacent bronchioles, it reflects augmented blood flow and increased vascular pressure within the lung periphery. D. > 6 Blood Vessels in Outer 1/3rd of Lung Field An increased number of visible peripheral blood vessels in the outer lung fields is indicative of redistribution and engorgement of pulmonary vessels, a classic radiographic sign of increased pulmonary blood flow.",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A triangular opacity with clear borders, base towards midline and obliterating right heart border on a chest radiograph suggest that the pathology is likely to be in:",
    "choices": [
      {
        "id": 1,
        "text": "Apical segment of right lower lobe"
      },
      {
        "id": 2,
        "text": "Medial segment of right lower lobe"
      },
      {
        "id": 3,
        "text": "Right middle lobe"
      },
      {
        "id": 4,
        "text": "Any of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Right Middle Lobe The triangular opacity described\u2014with clear borders, its base oriented toward the midline, and obliterating the right heart border\u2014is a classic example of the silhouette sign. The right heart border is normally formed by the right atrium, which is in direct contact with the right middle lobe of the lung. When the right middle lobe is involved (for instance, by consolidation due to pneumonia), it obliterates the normal outline of the right heart border on a chest X-ray. Incorrect Options: A. Apical Segment of Right Lower Lobe The apical segment of the right lower lobe is located at the superior part of the lower lobe and is not in direct contact with the right heart border. Therefore, pathology in this area would not typically obscure the right heart border. B. Medial Segment of Right Lower Lobe Although the medial segment of the right lower lobe is closer to the mediastinum, it still does not directly abut the right heart border. As a result, an opacity in this segment would not characteristically obliterate the right heart border. D. Any of the Above Since only the right middle lobe directly contacts and forms the silhouette of the right heart border, a pathology in the other listed segments would not produce the described radiographic finding",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/47421061695995751/47421061695995751.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "X-ray chest showing globular cardio\u00ad megaly with oligemic lung fields in a child is suggestive of:",
    "choices": [
      {
        "id": 1,
        "text": "Tetralogy of Fallot"
      },
      {
        "id": 2,
        "text": "TAPVC"
      },
      {
        "id": 3,
        "text": "Ebstein's"
      },
      {
        "id": 4,
        "text": "PDA"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Ebstein's Anomaly In Ebstein's anomaly, the chest X-ray typically shows a globular or box-shaped heart due to the \"atrialization\" of the right ventricle and significant cardiomegaly. This abnormality is accompanied by oligemic lung fields because of markedly reduced effective pulmonary blood flow. The combination of a large, globular cardiac silhouette with relatively underfilled lung fields is characteristic of Ebstein's anomaly in a child. Incorrect Options: A. Tetralogy of Fallot Tetralogy of Fallot generally presents with oligemic lung fields due to decreased pulmonary blood flow, but the cardiac silhouette typically appears boot-shaped (coeur en sabot) rather than globular. B. TAPVC (Total Anomalous Pulmonary Venous Connection) TAPVC usually results in increased pulmonary blood flow and may show a different pattern on the chest X-ray, such as a \"snowman\" sign in the supracardiac type. The heart might be enlarged, but not typically with oligemia of lung fields. D. PDA (Patent Ductus Arteriosus) A PDA is characterized by increased pulmonary blood flow due to a left-to-right shunt, leading to pulmonary plethora (increased vascular markings) and often an enlarged heart, but not oligemic lung fields.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/30235901695995780/30235901695995780.m3u8",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A person presented with fever. Radiological examination of the patient is as follows. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Right pleural effusion"
      },
      {
        "id": 2,
        "text": "Right pneumothorax"
      },
      {
        "id": 3,
        "text": "Right hydropneumothorax"
      },
      {
        "id": 4,
        "text": "Right lung abscess"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Right Hydropneumothorax The radiograph in this case demonstrates a clear air-fluid level on the right side, which is indicative of a hydropneumothorax. In a hydropneumothorax, both air and fluid (often pus or exudate in the context of infection) coexist within the pleural space, leading to a distinct horizontal interface. The presence of fever further supports an infectious etiology, such as an empyema that has developed an associated air leak, resulting in a hydropneumothorax. Incorrect Options: A. Right Pleural Effusion A right pleural effusion typically presents as a homogenous opacification of the affected hemithorax with a meniscus sign, but it does not have a clear air-fluid level. In a simple effusion, there is no significant presence of air within the pleural space. B. Right Pneumothorax A pneumothorax would present as an area of radiolucency due to free air in the pleural space, usually without any associated fluid level. The absence of a fluid component makes a pure pneumothorax distinct from a hydropneumothorax. D. Right Lung Abscess A lung abscess is a cavitary lesion within the lung parenchyma that can show an air-fluid level, but it is typically surrounded by lung tissue and is associated with a thick, irregular wall. The location in the lung rather than the pleural space and the associated surrounding consolidation differentiate it from a hydropneumothorax.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/61792441695996290/61792441695996290.m3u8",
    "question_images": [
      "https://d2enu63wt1sf3u.cloudfront.net/course_file_meta/2148529q-575.jpg"
    ],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old alcoholic was admitted with complaints of fever and cough of 5 days duration. X-ray taken is shown below. What is the most probable etiological agent?",
    "choices": [
      {
        "id": 1,
        "text": "Pneumococcus"
      },
      {
        "id": 2,
        "text": "Staphylococcus aureus"
      },
      {
        "id": 3,
        "text": "Klebsiella pneumoniae"
      },
      {
        "id": 4,
        "text": "Mycobacterium tuberculosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Klebsiella pneumoniae In a 30-year-old alcoholic with an acute presentation of fever and cough, Klebsiella pneumoniae is the most likely etiological agent. This organism is notorious for causing severe, necrotizing lobar pneumonia in alcoholics. Radiologically, Klebsiella pneumonia often presents with dense consolidation, sometimes accompanied by a bulging fissure sign or cavitation, reflecting its aggressive nature. The classic \u201ccurrant jelly\u201d sputum is also associated with this pathogen. Incorrect Options: A. Pneumococcus (Streptococcus pneumoniae) While Streptococcus pneumoniae is the most common cause of community-acquired pneumonia overall, it typically presents in a broader patient population rather than being specifically linked to alcoholism. Its radiographic appearance usually shows uniform lobar consolidation without the necrotizing features commonly seen with Klebsiella. B. Staphylococcus aureus Staphylococcus aureus can cause pneumonia, especially post-influenza, and may result in multiple small abscesses or cavitation. However, it is not the most common pathogen in alcoholics with an acute pneumonia presentation and usually has a different clinical context. D. Mycobacterium tuberculosis Mycobacterium tuberculosis causes a more chronic form of pneumonia with symptoms that evolve over weeks to months. It typically involves upper lobe cavitary lesions rather than the acute lobar consolidation seen in this case.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/9029481695996332/9029481695996332.m3u8",
    "question_images": [
      "https://d2enu63wt1sf3u.cloudfront.net/course_file_meta/7410964q582.jpg"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following conditions produces the characteristic angiographic appearance shown below?",
    "choices": [
      {
        "id": 1,
        "text": "Atherosclerosis"
      },
      {
        "id": 2,
        "text": "Buerger's disease"
      },
      {
        "id": 3,
        "text": "Fibromuscular dysplasia"
      },
      {
        "id": 4,
        "text": "Polyarteritis nodosa"
      }
    ],
    "correct_choice_id": 3,
    "solution": "Correct Answer (C) Fibromuscular Dysplasia (FMD) Fibromuscular dysplasia (FMD) is a non-inflammatory, non-atherosclerotic vascular disease that affects medium-sized arteries, most commonly the renal and carotid arteries. The characteristic angiographic appearance of FMD is the \"string of beads\" pattern, which results from alternating areas of stenosis and aneurysmal dilatation due to medial fibroplasia. This beaded pattern helps distinguish FMD from other vascular diseases. Incorrect Options: A. Atherosclerosis Atherosclerosis is a progressive disease characterized by plaque formation leading to luminal narrowing and calcifications. On angiography, it presents as irregular luminal narrowing and occlusion, rather than the beaded appearance of FMD. B. Buerger\u2019s Disease (Thromboangiitis Obliterans) Buerger\u2019s disease is a segmental inflammatory vasculitis affecting small and medium-sized arteries, primarily in smokers. Angiography typically shows corkscrew-shaped collateral vessels (especially in the hands and feet), but not the \"string of beads\" pattern seen in FMD. D. Polyarteritis Nodosa (PAN) PAN is a necrotizing vasculitis affecting medium-sized arteries, often leading to microaneurysms and vascular occlusions seen on angiography. It does not produce the beaded pattern characteristic of FMD.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/20350041695996383/20350041695996383.m3u8",
    "question_images": [
      "https://d2enu63wt1sf3u.cloudfront.net/course_file_meta/7396786q583.jpg"
    ],
    "explanation_images": []
  },
  {
    "text": "41 years-old male with shortness of breath. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Large pneumothorax"
      },
      {
        "id": 2,
        "text": "Pulmonary embolism"
      },
      {
        "id": 3,
        "text": "Poland syndrome"
      },
      {
        "id": 4,
        "text": "Vanishing lung syndrome"
      }
    ],
    "correct_choice_id": 4,
    "solution": "Correct Answer (D) Vanishing Lung Syndrome Vanishing lung syndrome, also known as giant bullous emphysema, is characterized by the presence of large bullae that replace normal lung parenchyma. In a 41-year-old male presenting with shortness of breath, especially if there is a history of smoking, the formation of these giant bullae can cause significant respiratory compromise by compressing the adjacent, relatively normal lung tissue. This leads to a reduction in the effective lung volume and impaired gas exchange, resulting in progressive dyspnea. Incorrect Options: A. Large Pneumothorax A large pneumothorax typically presents acutely with sudden onset chest pain and respiratory distress. On a chest X-ray, it is characterized by a visible visceral pleural line and a large area of radiolucency without lung markings, rather than the chronic bullous changes seen in vanishing lung syndrome. B. Pulmonary Embolism Pulmonary embolism usually presents with acute dyspnea, chest pain, and sometimes hemoptysis. Radiographically, it often shows normal lung fields or subtle signs of infarction, rather than the extensive bullous changes that define vanishing lung syndrome. C. Poland Syndrome Poland syndrome is a congenital disorder involving the unilateral absence or underdevelopment of the pectoral muscles, and sometimes associated with rib anomalies. It does not primarily affect the lung parenchyma or cause extensive bullous changes, and therefore is not a typical cause of shortness of breath in this context.",
    "explanation_video": "https://d2enu63wt1sf3u.cloudfront.net/dqb_vod/75898531695996439/75898531695996439.m3u8",
    "question_images": [
      "https://d2enu63wt1sf3u.cloudfront.net/course_file_meta/687627q-585.jpg"
    ],
    "explanation_images": []
  }
];
        let quizName = 'radio_formatted';
        let hierarchy = ["General"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - QuizMaster Pro';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }
            
            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>