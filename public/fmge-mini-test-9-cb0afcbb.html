<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fmge Mini Test - 9 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / FMGE Mini Test Series / 2024
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">30</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "An intern was asked to give an intravenous injection to a vein in the cubital fossa. All the following are true about the cubital fossa, except _________.",
    "choices": [
      {
        "id": 1,
        "text": "Brachioradialis forms the lateral boundary"
      },
      {
        "id": 2,
        "text": "Musculocutaneous nerve is one of the contents"
      },
      {
        "id": 3,
        "text": "Radial nerve enters the fossa laterally"
      },
      {
        "id": 4,
        "text": "Median cubital vein forms the roof"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>All the above statements are true about the cubital fossa, except the musculocutaneous nerve is one of the contents.</p>\n<p>The <strong>cubital fossa</strong> is a triangular depression present in the anterior side of the elbow joint. The boundaries of the cubital fossa include:</p>\n<ul>\n<li>Medially: Lateral border of the pronator teres.</li>\n<li>Laterally: Medial border of the <strong>brachioradialis.</strong> (option A)</li>\n<li>Base: Proximally by an imaginary line joining the epicondyles of the humerus.</li>\n<li>Apex (pointed downward): Joining of the lateral and medial boundaries.</li>\n<li>Roof: Skin, superficial fascia containing <strong>median cubital vein</strong> (option D) joining the cephalic and basilic veins, lateral cutaneous nerve of the forearm, medial cutaneous nerve of the forearm, bicipital aponeurosis, and deep fascia.</li>\n<li>Floor: Brachialis and supinator muscles.</li>\n</ul>\n<p>The contents of the brachial fossa are (from medial to lateral side):</p>\n<ul>\n<li><strong>Median nerve</strong></li>\n<li><strong>Brachial artery</strong>, terminating into radial and ulnar arteries</li>\n<li><strong>Biceps brachii</strong> tendon with the bicipital aponeurosis</li>\n<li><strong>Radial nerve&nbsp;</strong>enters the fossa laterally (option C) in the groove between the brachialis and brachioradialis</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9d1c9e2551964aefa6e0031604454010x1280x2558.JPEG"
    ]
  },
  {
    "text": "C wave of JVP represents:",
    "choices": [
      {
        "id": 1,
        "text": "Tricuspid bulge into right atrium during isovolumetric ventricular contraction"
      },
      {
        "id": 2,
        "text": "Contraction of right atrium"
      },
      {
        "id": 3,
        "text": "Passive filling of right atrium"
      },
      {
        "id": 4,
        "text": "Passive emptying of right atrium"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>'C' wave in JVP&nbsp;represents <strong>tricuspid bulge</strong> into right atrium during <strong>isovolumetric ventricular contraction.</strong></p>\n<p><strong>Characteristics of JVP :</strong></p>\n<ul>\n<li><strong>a wave&nbsp;</strong>corresponds to atrial systole which causes regurgitation of some blood into the great veins.</li>\n<li><strong>c wave</strong> occurs due to the increase in atrial pressure caused by bulging of the tricuspid valve into the right atrium during isovolumetric ventricular contraction.</li>\n<li><strong>x descent</strong> occurs due to the fall in atrial pressure during ventricular systole due to pulling of valve leaflets.</li>\n<li><strong>v wave</strong> is seen at the end of ventricular contraction and&nbsp;occurs due to the slow venous filling which causes an increase in atrial pressure.</li>\n<li><strong>y descent&nbsp;</strong>occurs due to the passive emptying of the right atrium into the right ventricle.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3aadca95f5064953a945f2d66a5c4be5x741x600.PNG"
    ]
  },
  {
    "text": "A patient presented with tendon xanthomas. His lipid profile showed serum cholesterol levels to be 283 mg/dL and serum LDL to be 202 mg/dL. He was started on lovastatin. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Familial hypercholesterolemia"
      },
      {
        "id": 2,
        "text": "Tangier's disease"
      },
      {
        "id": 3,
        "text": "Lipoprotein lipase deficiency"
      },
      {
        "id": 4,
        "text": "Familial hyperchylomicronemia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical presentation with <strong>tendon xanthomas</strong> and <strong>elevated serum LDL</strong> (low-density lipoprotein) and <strong>elevated serum cholesterol</strong> points to a diagnosis of <strong>familial hypercholesterolemia (FH).</strong></p>\n<p>Familial hypercholesterolemia &nbsp;(type IIa hyperlipoproteinemia) is an <strong>inherited disorder</strong> due to <strong>defects in LDL receptors</strong>. This defect causes a decrease in the uptake of LDL and cholesterol. As a result, the blood levels of both LDL and cholesterol are elevated. Such patients are at increased risk to develop <strong>atherosclerosis</strong> and <strong>coronary artery disease.</strong></p>\n<p>Features of FH:&nbsp;</p>\n<ul>\n<li>Painful polyarthritis and tendinitis are common.</li>\n<li>Physical findings seen are <strong>corneal arcus</strong>&nbsp;and&nbsp;<strong>tendon xanthomas</strong> over<strong> Achilles tendon</strong> and&nbsp;the dorsum of hands. Xanthomas are tumorous masses produced by foamy cell clusters (lipid-laden macrophages) found in the connective tissue of the skin and in tendons.</li>\n</ul>\n<p>Diagnosis is done clinically based on hypercholesterolemia with&nbsp;</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">LDL <strong>&gt; 190 mg/dl</strong>,&nbsp;</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Family history of hypercholesterolemia and/or</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Premature coronary artery disease.</li>\n</ul>\n<p>Treatment includes lifestyle changes, restriction of a fatty diet, and pharmacotherapy with <strong>statins</strong> in heterozygous FH patients.</p>\n<p>Recent drugs for specific treatment of homozygous FH are:</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Lomitapide</strong>, a microsomal triglyceride transfer protein (MTP) inhibitor, and</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Mipomersen</strong>, an antisense oligonucleotide against apoB.</li>\n</ul>\n<p>The image below shows Achilles tendon xanthoma and a plain lateral radiograph of both ankles showing bilateral symmetrical swellings (arrows) superior to the calcaneum respectively.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/864ecc007850432da511921ae29204c9x284x178.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3a4d2e15aa1c430891887f2f5685ec09x512x416.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/dd350316b6c9423d8b3a4b0547759642x225x225.JPEG"
    ]
  },
  {
    "text": "A 73-year-old woman presents with chronic fatigue and easy bruising. She has had surgery for ovarian cancer 7 years ago along with chemoradiation. Her lab reports reveal pancytopenia and bone marrow biopsy shows the following finding. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Aplastic anemia"
      },
      {
        "id": 2,
        "text": "Myelodysplastic syndrome"
      },
      {
        "id": 3,
        "text": "Acute lymphoblastic leukemia"
      },
      {
        "id": 4,
        "text": "Myelophthisic anemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The<strong>\u00a0</strong>given clinical scenario is suggestive of <strong>therapy-related myelodysplastic syndrome</strong> (t-MDS).</p>\n<p>The bone marrow biopsy stained with Perl's Prussian blue shows <strong>ringed sideroblasts.\u00a0</strong>They are<strong>\u00a0</strong>erythroblasts with <strong>iron-laden mitochondria</strong> visible as perinuclear granules as shown in the image below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/402f5d2513a543fa93f485e8e019097c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/346ee94f46484e2283e80f30c925710fx798x599.JPEG"
    ]
  },
  {
    "text": "A 5-year-old child presented to you a week after rejoining school after lockdown with fever and the following facial appearance. Which of the following is true regarding this?",
    "choices": [
      {
        "id": 1,
        "text": "Cutaneous manifestation of COVID"
      },
      {
        "id": 2,
        "text": "Patient is non-infectious during rash appearance"
      },
      {
        "id": 3,
        "text": "PCR assay should be done to confirm the diagnosis"
      },
      {
        "id": 4,
        "text": "Treatment with Topical steroids is needed"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows the classical <strong>slapped cheek appearance</strong> of <strong>erythema infectiosum</strong> caused by <strong>parvovirus B19</strong>. During the rash period, the patient is non-infectious..</p>\n<p>Parvovirus B19 is a non-enveloped single-stranded DNA virus and usually presents as a&nbsp;<strong>respiratory infection,</strong> with an erythematous maculopapular<strong> rash</strong> and <strong>arthralgia</strong>. The rash&nbsp;starts as prominent erythema of the cheek, popularly known as a <strong>slapped cheek appearance. </strong>The rash&nbsp;further spreads&nbsp;to the trunk and limbs followed by lymphadenopathy and arthralgia. It is a <strong>clinical diagnosis</strong> not requiring investigations usually. However in case of pregnant women or with other manifestations an IgM ELISA or PCR assay may be done. It is <strong>self-limited</strong> and resolves on its own.</p>\n<p>Other manifestations of&nbsp; Parvovirus B19</p>\n<ul>\n<li>It induces <strong>aplastic crisis</strong> in sickle cell anemia patients.</li>\n<li>Infection during the 2<sup>nd</sup> or 3<sup>rd</sup> trimester of pregnancy leads to non-immune fetal hydrops.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/764a69f23fc9472ba8cbc862a4f610f2.png"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient was diagnosed with renal tubular damage caused by one of his chemotherapeutic drugs. Which drug could it be?",
    "choices": [
      {
        "id": 1,
        "text": "Cisplatin"
      },
      {
        "id": 2,
        "text": "Streptozocin"
      },
      {
        "id": 3,
        "text": "Methysergide"
      },
      {
        "id": 4,
        "text": "Cyclophosphamide"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given scenario is suggestive of <strong>nephrotoxicity</strong> and is one of the dose-limiting toxicity of <strong>cisplatin</strong> therapy. Cisplatin achieves a high concentration in nephrons. Both direct toxicity and inflammation are responsible for nephrotoxicity.\u00a0A high concentration of chloride stabilizes cisplatin and reduces nephrotoxicity. Therefore,<strong> chloride diuresis</strong> is used to reduce nephrotoxicity.</p>\n<p>Cisplatin is a platinum coordination complex that enters cells by the high-affinity\u00a0<strong>Cu2+ transporter CTR1</strong>\u00a0and thus degrade the transporter. Inside the cell, the chloride, cyclohexane, or oxalate ligands of the analogues are displaced by water molecules, yielding a positively charged molecule that reacts with nucleophilic sites on DNA and proteins.</p>\n<p>Uses:</p>\n<ul>\n<li>In combination with bleomycin, etoposide, or with ifosfamide and vinblastine, cures 90% of patients with<strong>\u00a0testicular cancer</strong></li>\n<li>Used with paclitaxel, induces complete response in the majority of patients with carcinoma of the\u00a0<strong>ovary</strong></li>\n<li>Cisplatin produces responses in cancers of the\u00a0<strong>bladder, head and neck, cervix, and endometrium</strong></li>\n<li>All forms of carcinoma of the<strong>\u00a0lung</strong>; anal and rectal carcinomas; and neoplasms of childhood.</li>\n<li>The drug also sensitizes cells to radiation therapy and enhances control of locally advanced lung, esophageal, and head and neck tumors when given with irradiation.</li>\n</ul>\n<p>Adverse effects:</p>\n<ul>\n<li>Dose-dependent nephrotoxicity</li>\n<li>Ototoxicity- high-frequency hearing loss and tinnitus</li>\n<li>Peripheral motor and sensory neurotoxicity</li>\n<li>Anemia</li>\n<li>Hypomagnesemia</li>\n<li>Hypocalcemia</li>\n<li>Hypokalemia</li>\n<li>Hypophosphatemia</li>\n<li>AML, usually 4 or more years after treatment</li>\n</ul>\n<p>Option B - Streptozotocin use can result in <strong>diabetes mellitus</strong> due to the destruction of beta cells of the pancreas.</p>\n<p>Option C - Methysergide use is associated with <strong>retroperitoneal fibrosis</strong>.</p>\n<p>Option D - Cyclophosphamide causes <strong>hemorrhagic cystitis</strong> as one of its characteristic side effects.</p>\n<p><strong>ANTI-CANCER DRUGS AND THEIR TOXICITIES</strong></p>\n<table>\n<tbody>\n<tr>\n<td><strong>DRUG</strong></td>\n<td><strong>TOXICITY</strong></td>\n</tr>\n<tr>\n<td><strong>Cyclophosphamide</strong>\u00a0&amp; Ifosfamide</td>\n<td>Hemorrhagic cystitis, SIADH</td>\n</tr>\n<tr>\n<td>Busulfan</td>\n<td>Pulmonary fibrosis</td>\n</tr>\n<tr>\n<td>Procarbazine</td>\n<td>\n<p>Secondary leukemias</p>\n<p>Disulfiram-like reaction</p>\n</td>\n</tr>\n<tr>\n<td>Cisplatin</td>\n<td>\n<p>Nephrotoxicity</p>\n<p>Neurotoxicity</p>\n<p>Ototoxicity</p>\n</td>\n</tr>\n<tr>\n<td><strong>Capecitabine</strong></td>\n<td>Diarrhea, hand-foot syndrome,<br />myelosuppression</td>\n</tr>\n<tr>\n<td>Cytarabine</td>\n<td>Cerebellar ataxia</td>\n</tr>\n<tr>\n<td>Irinotecan</td>\n<td>Diarrhea</td>\n</tr>\n<tr>\n<td>Bleomycin</td>\n<td>Pulmonary fibrosis</td>\n</tr>\n<tr>\n<td>Anthracyclines</td>\n<td>Cardiotoxicity</td>\n</tr>\n<tr>\n<td>Mitomycin</td>\n<td>Hemolytic-uremic syndrome</td>\n</tr>\n<tr>\n<td><strong>Cladribine</strong></td>\n<td>Myelosuppression, nausea<br />and vomiting, and<br />immunosuppression</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 35-year-old man presented with cardiac dysrhythmia. On probing, he says he consumed the leaves of the plant shown in the image. What is the active principle of this plant?",
    "choices": [
      {
        "id": 1,
        "text": "Cerebra thevetia"
      },
      {
        "id": 2,
        "text": "Aconitine"
      },
      {
        "id": 3,
        "text": "Thevetoxin"
      },
      {
        "id": 4,
        "text": "Digitonin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The plant in the image is <strong>Digitalis purpurea.</strong>&nbsp;Its&nbsp;<strong>active principle</strong> is <strong>digitonin</strong>.</p>\n<p>Digitalis purpurea contains digitoxin, digitalin, digitonin, and digoxin. It can cause <strong>cardiac dysrhythmia</strong> in acute toxicity.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/77258f74f03e4b5ea5e2275e89e6242f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Where can we find the Thornwaldt's cyst?",
    "choices": [
      {
        "id": 1,
        "text": "Tubal tonsil"
      },
      {
        "id": 2,
        "text": "Adenoid mass"
      },
      {
        "id": 3,
        "text": "Palatine tonsil"
      },
      {
        "id": 4,
        "text": "Lingual tonsil"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Thornwaldt cyst can be found in the midline of the posterior wall of the nasopharynx in the<strong> adenoid mass.</strong></p>\n<ul>\n<li>It is an <strong>epithelial-lined median recess</strong> found within the adenoid mass and extends from <strong>pharyngeal mucosa</strong> to the<strong> periosteum of the basiocciput.</strong></li>\n<li>It represents the<strong> attachment of notochord to the pharyngeal endoderm</strong> during embryonic life.</li>\n<li>When infected, it may be the cause of persistent postnasal discharge or crusting. Sometimes an abscess can form in the bursa <strong>(Thornwaldt&rsquo;s disease</strong>).</li>\n<li>It is managed surgically by marsupialization of the swelling and complete removal of the lining of the cyst.&nbsp; &nbsp;&nbsp;</li>\n</ul>\n<p>The following is the MRI showing a Thornwald cyst.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/692e06e74b0d48e191c8eea918ab3808x452x530.JPEG"
    ]
  },
  {
    "text": "A 12-year-old boy was seen by the optometrist for complaints of blurred vision.  While examining for refractive error, he noticed that the child's corneas were unusually small for his age and referred him for further evaluation. Below what horizontal diameter can a diagnosis of microcornea be made in this child?",
    "choices": [
      {
        "id": 1,
        "text": "8 mm"
      },
      {
        "id": 2,
        "text": "9 mm"
      },
      {
        "id": 3,
        "text": "10 mm"
      },
      {
        "id": 4,
        "text": "11 mm"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>To make a diagnosis of <strong>microcornea,</strong> in this child, the <strong>diameter</strong> of the cornea should be <strong>less than 10 mm.</strong></p>\n<p><strong>Micro-cornea</strong></p>\n<ul>\n<li>Horizontal corneal diameter is <strong>10 mm or less</strong>\u00a0(over 2 years of age) or <strong>less than 9 mm </strong>(in the <strong>newborn</strong>).</li>\n<li>There may be <strong>hypermetropia</strong> and a <strong>shallow anterior chamber</strong> but other dimensions are normal.</li>\n</ul>\n<p><strong>Megalocornea</strong></p>\n<ul>\n<li>Horizontal corneal diameter is <strong>12 mm or more</strong> (<strong>up to\u00a02</strong> years of age) or <strong>13 mm or more</strong> (if age <strong>&gt;2</strong> years)</li>\n<li>There is typically <strong>high</strong> <strong>myopia</strong> and <strong>astigmatism</strong>, but normal corrected visual acuity.</li>\n<li>Usually <strong>X-linked recessive; 90%</strong> of affected individuals are <strong>male</strong>.</li>\n</ul>\n<p><strong>Cornea plana</strong></p>\n<ul>\n<li>The cornea is<strong> flatter than normal</strong>, i.e.,\u00a0the radius of curvature is larger.</li>\n<li>There is a corresponding reduction in refractive power, resulting in <strong>high hypermetropia. </strong></li>\n</ul>\n<p><strong>Keratectasia</strong></p>\n<ul>\n<li>It is characterized by a<strong> protuberance between the eyelids</strong>\u00a0caused by a <strong>severely opacified,</strong> and sometimes <strong>vascularized, cornea</strong>.</li>\n<li>It is often associated with<strong> raised intraocular pressure </strong>as well as<strong> intrauterine keratitis.</strong></li>\n<li>Usually<strong> unilateral</strong></li>\n</ul>\n<p><strong>Microphthalmos </strong></p>\n<ul>\n<li>Microphthalmia is a condition in which the <strong>entire eye is small</strong>, with an <strong>axial length</strong> at least <strong>two standard deviations</strong> <strong>below</strong> the mean for age.</li>\n<li>It may or may not be associated with ocular dysgenesis.</li>\n</ul>\n<p><strong>Nanophthalmos</strong></p>\n<ul>\n<li>In nanophthalmos (<strong>simple microphthalmos</strong>), the <strong>entire eye is small,</strong> but is <strong>structurally normal</strong>;<strong>\u00a0</strong></li>\n<li>It is usually associated with <strong>hypermetropia</strong> and <strong>strabismus</strong></li>\n</ul>\n<p><strong>Anophthalmos</strong>:<strong>\u00a0</strong>Anophthalmos (anophthalmia) refers to the <strong>complete absence</strong> of any visible globe structure.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/44e213ae65fb46aba5e228afa21d55b3.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "In an urban area in the state of Madhya Pradesh, a primigravida goes for institutional delivery after being motivated by an ASHA worker. What are the benefits they will receive (in terms of money in rupees) under the Janani Suraksha Yojana?",
    "choices": [
      {
        "id": 1,
        "text": "1000 for mother and 400 for ASHA"
      },
      {
        "id": 2,
        "text": "1400 for mother and 600 for ASHA"
      },
      {
        "id": 3,
        "text": "600 for mother and 400 for ASHA"
      },
      {
        "id": 4,
        "text": "400 for mother and 600 for ASHA"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>According to<strong> Janani Suraksha Yojana (JSY)&nbsp;</strong>scheme, the <strong>mother </strong>will receive<strong> 1000 rupees</strong> and the <strong>ASHA worker</strong>&nbsp;will receive <strong>400 rupees.</strong></p>\n<p>Janani Suraksha Yojana (JSY) is a program under the National Rural Health Mission (NRHM),<strong>&nbsp;</strong>whose aim is to <strong>reduce maternal mortality</strong> by encouraging <strong>delivery</strong> in<strong> government health facilities</strong>. Under the scheme, a <strong>financial incentive</strong> is also provided for giving birth in a government health facility.&nbsp;</p>\n<p>The Accredited Social Health Activist (ASHA)<strong>&nbsp;</strong>is the link between pregnant women and health institutions. She is responsible for making institutional antenatal and postnatal care available.&nbsp;</p>\n<p>States are divided into low-performing and high-performing on the basis of <strong>institutional&nbsp;delivery rate</strong>. (The 10 low-performing states (LPS) with a low institutional delivery rate are&nbsp;Uttar Pradesh, Uttarakhand, Madhya Pradesh, Jharkhand, Bihar, Rajasthan, Chattisgarh, Odisha, Assam, and Jammu &amp; Kashmir. All the other states are high-performing states) (HPS).</p>\n<p>The incentives under JSY are as follows:</p>\n<table style=\"height: 245px; width: 484.719px;\">\n<tbody>\n<tr>\n<td style=\"width: 77px; text-align: left;\">Category&nbsp;</td>\n<td style=\"width: 186px; text-align: left;\">Rural area</td>\n<td style=\"width: 196.719px; text-align: left;\"><strong>Urban area</strong></td>\n</tr>\n<tr>\n<td style=\"width: 77px; text-align: left;\">LPS</td>\n<td style=\"width: 186px; text-align: left;\">\n<p>Mother package: 1400/-<br />ASHA's package:600/-<br />Total:2000/-</p>\n</td>\n<td style=\"width: 196.719px; text-align: left;\"><strong>Mother package: 1000/-</strong><br /><strong>ASHA's package:400/-</strong><br />Total:1400/-</td>\n</tr>\n<tr>\n<td style=\"width: 77px; text-align: left;\">HPS</td>\n<td style=\"width: 186px; text-align: left;\">Mother package: 700/-<br />ASHA's package:600/-<br />Total:1300/-</td>\n<td style=\"width: 196.719px; text-align: left;\">Mother package: 600/-<br />ASHA's package:400/-<br />Total:1000/-</td>\n</tr>\n</tbody>\n</table>\n<p>Under this scheme, the cost of cesarean section and management of obstetric complications is also subsidized, up to <strong>Rs 1500</strong> per delivery to the government institutions, where government specialists are not present.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with Wilm's tumor undergoes renal transplantation. He is currently on corticosteroid therapy to prevent organ rejection. All of the following vaccinations could be given to this patient except?",
    "choices": [
      {
        "id": 1,
        "text": "Diphtheria-pertussis-tetanus (DPT)"
      },
      {
        "id": 2,
        "text": "Hepatitis B vaccine"
      },
      {
        "id": 3,
        "text": "Intra-nasal Influenza vaccine"
      },
      {
        "id": 4,
        "text": "Inactivated polio vaccine"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Intra-nasal/ nasal spray influenza</strong> vaccine is a<strong> live attenuated vaccine,</strong> therefore it is<strong>&nbsp;contraindicated</strong> in this patient as he is<strong> immunosuppressed.</strong></p>\n<p>Live vaccines are prepared from <strong>live or wild</strong> <strong>attenuated</strong> organisms. They are repeatedly passed through tissue cultures or chick embryos in the laboratory. With this, they lose their ability to induce full-blown infection in an individual but <strong>retain</strong> their <strong>immunogenicity</strong>. It should not be administered to patients with <strong>immunodeficiency</strong> diseases, lymphoma, leukaemia, or other malignancies. It is also not recommended in individuals on treatment with <strong>corticosteroids</strong>, antimetabolites, and alkylating agents. Unless the risk of infection exceeds the risk of harm, it is contraindicated in <strong>pregnancy</strong>.&nbsp;</p>\n<div class=\"page\" title=\"Page 176\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 176\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Live- attenuated influenza vaccine is approved for use in otherwise <strong>healthy individuals</strong> between <strong>age of 2 years and 49 years</strong>.&nbsp;<span style=\"font-size: 14px;\">Because the risk of transmission of the live-attenuated vaccine virus to immunocompromised individuals is unknown, it should not be used in household members of immunosuppressed individuals, health care workers, or others with close contact with immunosuppressed persons.</span></p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<p><strong>Intramuscular influenza</strong> vaccine is an<strong> inactivated</strong> vaccine, which can be given in the immunocompromised.</p>\n<p>Other options:</p>\n<p>Option A: <strong>Diptheria-pertussis-tetanus</strong> (DPT) vaccine is a combination&nbsp;<strong>toxoid </strong>vaccine. The toxins produced by diphtheria and tetanus bacilli are detoxicated and used to prepare the vaccine. They are highly <strong>efficacious</strong> and <strong>safe</strong>. The<strong> killed</strong> whole organism is used for the pertussis component.&nbsp;</p>\n<p>Option B: <strong>Hepatitis B vaccine</strong> is a <strong>recombinant</strong> vaccine. It is produced by inserting a viral gene segment into a yeast cell. It does not contain viral DNA and will <strong>not</strong> produce an <strong>infection</strong>.</p>\n<p>Option D: <strong>Inactivated polio vaccine</strong> is a <strong>killed</strong> vaccine. As the organism cannot grow in a vaccinated individual, it can be given to an immunodeficient individual.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child was encouraged by his parents to follow a healthy lifestyle to prevent obesity. What level of prevention is adopted in this scenario?",
    "choices": [
      {
        "id": 1,
        "text": "Primary"
      },
      {
        "id": 2,
        "text": "Primordial"
      },
      {
        "id": 3,
        "text": "Secondary"
      },
      {
        "id": 4,
        "text": "Tertiary"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Primordial prevention</strong> is adopted in this scenario.</p>\n<p>The emergence of <strong>risk factors</strong> for <strong>obesity</strong> is prevented by encouraging the child to follow a <strong>healthy lifestyle</strong> from an early age. This reduces the probability of developing obesity in the future.</p>\n<p><strong>Primordial prevention</strong> is the <strong>prevention</strong> of the <strong>emergence&nbsp;of risk factors</strong> in populations in which they have not yet appeared. Most adult health problems have their origins in childhood.&nbsp;Efforts are directed toward discouraging children from adopting harmful lifestyles. The <strong>main intervention</strong> in <strong>primordial prevention</strong> is&nbsp;<strong>individual</strong> and<strong> mass education</strong>.</p>\n<p>Other options:</p>\n<p>Option A:<strong>&nbsp;Primary prevention</strong> is the action taken <strong>before</strong>&nbsp;the <strong>onset </strong>of the<strong> disease&nbsp;</strong><span style=\"font-size: 14px;\">to prevent the possibility that a disease will ever occur.</span><span style=\"font-size: 14px;\">&nbsp;Here,</span><strong style=\"font-size: 14px;\"> intervention</strong><span style=\"font-size: 14px;\"> is initiated in the</span><strong style=\"font-size: 14px;\"> pre-pathogenesis phase</strong><span style=\"font-size: 14px;\"> of a disease. It is accomplished by&nbsp;</span><strong style=\"font-size: 14px;\">population strategy</strong><span style=\"font-size: 14px;\">&nbsp;and </span><strong style=\"font-size: 14px;\">high-risk strategy</strong><span style=\"font-size: 14px;\">.&nbsp;Examples of primary prevention are immunization and sanitizing hands.</span></p>\n<p>Option C:&nbsp;<strong>Secondary prevention</strong> is<strong> halting&nbsp;</strong>the progress of a&nbsp;<strong>disease </strong>which has <strong>already occurred</strong>. It aims to halt the progress at its <strong>incipient </strong>(initial)&nbsp;<strong>stage </strong>and<strong>&nbsp;</strong>preventing complications. <strong>Intervention</strong> is initiated in the<strong> early pathogenesis phase</strong>. Measures like <strong>early diagnosis</strong> and <strong>treatment</strong> are used to arrest the disease progression. Examples of secondary prevention are <strong>pap smears</strong> for early detection of <strong>cervical cancer</strong> and <strong>mammography</strong> to pick up breast cancer.</p>\n<p>Option D:&nbsp;<strong>Tertiary prevention</strong> is the action taken to <strong>limit impairment</strong> and <strong>promote rehabilitation</strong> of patients in case of irreversible damage. <strong>Intervention</strong> is done in the<strong> late pathogenesis phase.&nbsp;</strong>An example is rehabilitation by providing walking aid for the crippled.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A male patient is suspected to have pheochromocytoma. He has all the 3 symptoms making up the clinical triad of pheochromocytoma. Which of the following is not a part of this triad?",
    "choices": [
      {
        "id": 1,
        "text": "Headache"
      },
      {
        "id": 2,
        "text": "Hypertension"
      },
      {
        "id": 3,
        "text": "Profuse sweating"
      },
      {
        "id": 4,
        "text": "Palpitation"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical<strong> triad</strong> of <strong>pheochromocytoma</strong> includes the following&nbsp;<strong>symptoms</strong>:</p>\n<ul>\n<li>Headache</li>\n<li>Profuse sweating</li>\n<li>Palpitation (due to tachycardia)</li>\n</ul>\n<p>Hypertension is the most predominant<strong> sign</strong> of pheochromocytoma. Though <strong>intermittent</strong> <strong>hypertension</strong> is a classical feature, sustained hypertension is also common.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following drugs reduce mortality in a patient with heart failure?",
    "choices": [
      {
        "id": 1,
        "text": "Metoprolol"
      },
      {
        "id": 2,
        "text": "Furosemide"
      },
      {
        "id": 3,
        "text": "Prazosin"
      },
      {
        "id": 4,
        "text": "Torsemide"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Metoprolol</strong> is a beta-blocker that is found to reduce mortality in a patient with heart failure.</p>\n<p class=\"p p-first\"><strong>Beta-blockers</strong> have been shown to <strong>prolong survival</strong>, prevent arrhythmia, and improve symptoms of heart failure and left ventricular ejection fraction, especially in patients with chronic heart failure.</p>\n<p>The drugs which reduce mortality in patients with heart failure are :</p>\n<ul>\n<li>ACE inhibitors</li>\n<li>Angiotensin receptor blockers (ARBs)</li>\n<li>Angiotensin receptor neprilysin inhibitor (ARNI)</li>\n<li>Beta-blockers</li>\n<li>Mineralocorticoid receptor antagonists\n<ul>\n<li>Spironolactone</li>\n<li>Eplerenone</li>\n</ul>\n</li>\n<li>Hydralazine + isosorbide dinitrate.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the finding in the given EEG of an infant?",
    "choices": [
      {
        "id": 1,
        "text": "Hypsarrhythmia"
      },
      {
        "id": 2,
        "text": "Burst suppression pattern"
      },
      {
        "id": 3,
        "text": "Spike and slow wave"
      },
      {
        "id": 4,
        "text": "Periodic lateralized epileptiform discharge"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Hypsarrhythmia</strong> is an abnormal interictal pattern which consists of diffuse, giant slow waves with a chaotic background of irregular, multifocal spikes and sharp waves. During the clinical spasm, there is a marked suppression of the EEG background (the <strong>electrodecremental response</strong>).</p>\n<p>Hypsarrhythmias are usually seen in <strong>epileptic spasms.</strong> These are characterized by a briefly sustained flexion or extension of predominantly proximal muscles, including truncal muscles.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/28b1e051f1c646188a6b029d7ace13b6.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/63e2e11ff38f46c7b43dcfe711b91107x480x600.JPEG"
    ]
  },
  {
    "text": "A young woman presents with skin rashes shown in the image below. She also complains of  easy bruisability and bleeding from gums. Her CBC report revealed platelet count 15,000/\u00b5L, normal RBC and WBC counts. Her peripheral smear was normal. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Hemolytic uremic syndrome"
      },
      {
        "id": 2,
        "text": "Thrombotic thrombocytopenic purpura"
      },
      {
        "id": 3,
        "text": "Immune thrombocytopenic purpura"
      },
      {
        "id": 4,
        "text": "Disseminated intravascular coagulation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The most likely diagnosis in this patient is <strong>immune thrombocytopenic purpura</strong>.</p>\n<p>The given image showing <strong>petechiae</strong> and the clinical scenario are suggestive of a bleeding disorder. CBC shows isolated thrombocytopenia and peripheral smear does not reveal any hemolysis. Hence, the other conditions are ruled out.\u00a0</p>\n<p><strong>Immune thrombocytopenic purpura\u00a0</strong>(ITP) is an acquired disorder with <strong>autoantibodies</strong> against platelet membrane glycoproteins<strong> IIb-IIIa</strong> or <strong>Ib-IX</strong>. It can either be primary (idiopathic) or secondary to autoimmune conditions like SLE or infections like HIV and hepatitis C.</p>\n<p>It presents with features of <strong>mucocutaneous</strong> <strong>bleeding</strong>. CBC shows isolated thrombocytopenia and peripheral smear does not reveal any hemolysis.\u00a0</p>\n<table style=\"height: 263px; width: 346px;\">\n<tbody>\n<tr style=\"height: 40px;\">\n<td style=\"width: 161.172px; height: 40px;\"><strong>Acute ITP</strong></td>\n<td style=\"width: 168.828px; height: 40px;\"><strong>Chronic ITP</strong></td>\n</tr>\n<tr style=\"height: 40px;\">\n<td style=\"width: 161.172px; height: 40px;\">Common in children</td>\n<td style=\"width: 168.828px; height: 40px;\">Common in adults (females &gt; males)</td>\n</tr>\n<tr style=\"height: 58px;\">\n<td style=\"width: 161.172px; height: 58px;\">Associated with an antecedent viral infection</td>\n<td style=\"width: 168.828px; height: 58px;\">Not associated with antecedent infection</td>\n</tr>\n<tr style=\"height: 66.5625px;\">\n<td style=\"width: 161.172px; height: 66.5625px;\">Spontaneous remission within 6 months in most cases</td>\n<td style=\"width: 168.828px; height: 66.5625px;\">Spontaneous remission is not usually seen</td>\n</tr>\n</tbody>\n</table>\n<p>Other options:</p>\n<p>Options A and B- HUS and TTP are microangiopathies. They are associated with hemolysis which is not seen in this patient.</p>\n<p>Option D- DIC is a coagulopathy usually associated with sepsis and the peripheral smear shows fragmented RBCs.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6a4e0d58938a487bb8a464460bf6f1e6.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f52c5bf68b024b7fa234cfd7533a1e1ex1280x2446.JPEG"
    ]
  },
  {
    "text": "A patient who was admitted after a road traffic accident (RTA) is put on mechanical ventilation. He opens his eyes on verbal commands and both pupils are well reactive. He moves all 4 limbs spontaneously. What is his GCS score",
    "choices": [
      {
        "id": 1,
        "text": "Eyes-3, Verbal-NT, Motor-5, Pupil-1"
      },
      {
        "id": 2,
        "text": "Eyes-3, Verbal-NT, Motor-5, Pupil-2"
      },
      {
        "id": 3,
        "text": "Eyes-3, Verbal-NT, Motor-6, Pupil-1"
      },
      {
        "id": 4,
        "text": "Eyes-3, Verbal-NT, Motor-6, Pupil-0"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The GCS score in this patient can be documented as<strong> Eyes-3, Verbal-NT, Motor-6, </strong>and<strong> Pupil-0.</strong></p>\n<ul>\n<li>Eye-opening to verbal command - 3&nbsp;</li>\n<li>In endotracheal intubation, the verbal response cannot be tested. It is documented as NT.</li>\n<li>Movement of all 4 limbs spontaneously - 6</li>\n<li>Both the pupils are reactive- 0</li>\n</ul>\n<p>The total GCS score is not recorded since one of the components is non-testable (NT).</p>\n<p>The GCS-P is calculated by subtracting the Pupil Reactivity Score (PRS) from the Glasgow Coma Scale (GCS) total score:</p>\n<p class=\"text-center mobile-center\"><strong>GCS-P = GCS - PRS</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The sign shown in the given image represents _____",
    "choices": [
      {
        "id": 1,
        "text": "Gallstones"
      },
      {
        "id": 2,
        "text": "Renal stones"
      },
      {
        "id": 3,
        "text": "Common bile duct (CBD) stones"
      },
      {
        "id": 4,
        "text": "Hydatid cyst"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In gallstones, the above computed tomography (CT) image shows the <strong>seagull/Mercedes-Benz sign.</strong></p>\n<ul>\n<li>A skillfully taken plain X-ray image of the gallbladder shows&nbsp;<strong>radiopaque gallstones in 10% of the patients.</strong></li>\n<li>Rarely, the centre of a stone may <strong>contain radiolucent gas in a triradiate or biradiate fissure</strong>, and this gives rise to characteristic dark shapes on a radiograph&mdash;the \"<strong>Mercedes&ndash;Benz\" or \"seagull\" sign.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/707f04e44ffb466f9bf28585390cea6d.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 24-year-old lady in her third week postpartum complains of pain in her left breast. She also complains of mild fever, headache, and nausea. Examination reveals a tender breast with red, hot, and flushed overlying skin. There is no fluctuant swelling or discharge. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Breast engorgement"
      },
      {
        "id": 2,
        "text": "Galactocele"
      },
      {
        "id": 3,
        "text": "Breast abscess"
      },
      {
        "id": 4,
        "text": "Acute mastitis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical picture of a lactating mother presenting with breast pain, fever, headache, nausea, and tender breast with&nbsp;red, hot, and flushed overlying skin points towards a diagnosis of <strong>acute</strong><strong>&nbsp;mastitis. </strong></p>\n<p>The <strong>most</strong> <strong>common</strong>&nbsp;organism involved in acute mastitis is <em><strong>Staphylococcus</strong> <strong>aureus</strong></em>. Other organisms involved are <em>Staphylococcus epidermidis,</em> and <em>Streptococci viridans</em>. The source of organisms is the infant&rsquo;s nose and throat. It usually occurs&nbsp;during the first <strong>2&ndash;4 weeks postpartum</strong>.</p>\n<p>Clinical features:</p>\n<ul>\n<li>Generalized malaise</li>\n<li>Headache</li>\n<li><strong>Nausea</strong>&nbsp;and&nbsp;<strong>vomiting</strong></li>\n<li><strong>Fever</strong> with chills</li>\n<li>Severe <strong>pain</strong> and<strong>,</strong>&nbsp;<strong>non-fluctuant</strong>&nbsp;<strong>swelling</strong>.</li>\n<li>The overlying skin is <strong>red, hot, and flushed</strong>, and feels tense and tender</li>\n</ul>\n<p>Microscopic examination of <strong>breast</strong> <strong>milk</strong> shows <strong>leucocytes</strong> &gt;10<sup>6</sup>/mL and&nbsp;<strong>bacterial</strong> <strong>count</strong> &gt;10<sup>3</sup>/mL.&nbsp;It might lead to the formation of a breast&nbsp;abscess.</p>\n<p>Management:</p>\n<ul>\n<li>Breast support and&nbsp;analgesics</li>\n<li>Breastfeeding is continued.&nbsp;The infected side is emptied manually with each feed.</li>\n<li><strong>Dicloxacillin</strong><strong>&nbsp;</strong>is the<strong> drug of&nbsp;choice</strong></li>\n<li><strong>Erythromycin</strong>&nbsp;is given to patients who are allergic to penicillin</li>\n</ul>\n<p>Other options:</p>\n<p>Option A -&nbsp;<strong>Breast engorgement </strong>occurs&nbsp;due to <strong>exaggerated</strong> normal <strong>venous </strong>and<strong> lymphatic engorgement</strong> of the breasts which <strong>precedes lactation</strong>.&nbsp;It is characterized by bilateral breast tenderness and swelling typically present 24 to 72 hours post-partum, peaks 3 to 5 days after delivery and resolves spontaneously. Antibiotics are not indicated. Treatment is by cold compresses and analgesics.</p>\n<p>Option B -&nbsp;A <strong>galactocele</strong> is a <strong>milk-filled cavity</strong> in the breast of a woman who is usually lactating. It can be caused due to <strong>lactation problems</strong>, <strong>prolactin</strong> <strong>stimulation</strong> by <strong>drugs</strong>, or <strong>duct obstruction</strong>.&nbsp;It presents as a palpable, round, well-circumscribed, and freely mobile mass with no fever, pain, or inflammation. It is usually <strong>subareolar</strong> and unilateral.</p>\n<p>Option C -&nbsp;<strong>Breast abscess&nbsp;</strong>is usually suspected when there is <strong>no response </strong>to<strong> treatment</strong> for mastitis in <strong>48-72 hours</strong>. It is also characterised by <strong>brawny</strong> <strong>oedema</strong> over the affected area, <strong>fluctuant lump</strong>. Management includes sonography-guided needle aspiration under local anaesthesia. Antibiotics and pumping of the affected breast are also done. <strong>I</strong><strong>ncision and drainage</strong> of the abscess are done in cases not responding to aspiration.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the following instrument",
    "choices": [
      {
        "id": 1,
        "text": "Harmonic scalpel"
      },
      {
        "id": 2,
        "text": "Ligasure"
      },
      {
        "id": 3,
        "text": "Bipolar cautery"
      },
      {
        "id": 4,
        "text": "Unipolar cautery"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The instrument shown is a&nbsp;<strong>harmonic scalpel.&nbsp;</strong>It is an instrument that uses&nbsp;<strong>ultrasonic</strong>&nbsp;<strong>energy</strong>&nbsp;to&nbsp;<strong>cut</strong>&nbsp;tissues while simultaneously&nbsp;<strong>coagulating</strong>&nbsp;them.</p>\n<p>The scalpel vibrates in the 20000&ndash;50000 Hz range and cuts through tissues, achieving hemostasis by sealing vessels and tissues by means of protein denaturation using vibration rather than heat.</p>\n<p><strong>Cutting</strong>&nbsp;is a mode of diathermy/electrosurgery.&nbsp;The cut current is a&nbsp;<strong>low-voltage</strong>,&nbsp;<strong>continuous waveform</strong>.&nbsp;Cutting occurs when sufficient heat is applied to the tissue to cause cell water to explode into steam.</p>\n<p><strong>Coagulation&nbsp;</strong>is<strong>&nbsp;</strong>the&nbsp;<strong>sealing</strong>&nbsp;of blood vessels. In coagulation, a heating effect leads to cell death by<strong>&nbsp;dehydration&nbsp;</strong>and<strong>&nbsp;protein denaturation</strong>.</p>\n<p>A<strong>&nbsp;blend</strong>&nbsp;is a combination of&nbsp;<strong>cutting</strong>&nbsp;and<strong>&nbsp;coagulation.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3c71903fb80745548acf0bbba871d374.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fa82885d1c444690815458d3e42081bdx461x437.PNG"
    ]
  },
  {
    "text": "The following image shows ______",
    "choices": [
      {
        "id": 1,
        "text": "Schultze  method of placental separation"
      },
      {
        "id": 2,
        "text": "Duncan  method of placental separation"
      },
      {
        "id": 3,
        "text": "Brandt Andrews method of placental separation"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows the<strong>&nbsp;Duncan method </strong>of placental separation.</p>\n<table style=\"height: 151px;\" border=\"1\" width=\"400\">\n<tbody>\n<tr>\n<td><strong>Schultze</strong></td>\n<td><strong>Duncan</strong></td>\n</tr>\n<tr>\n<td>Separation begins from center of placenta to periphery.</td>\n<td>Separation begins from periphery to centre.</td>\n</tr>\n<tr>\n<td>Blood does not escape externally, as the blood pours into membrane sac.</td>\n<td>Blood escapes from the vagina as the blood collects between the membranes and uterine wall.</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li><span class=\"hvr\">Brandt Andrew method is a maneuver of expressing the placenta from the uterus in the third stage of labor.&nbsp;</span></li>\n<li><span class=\"hvr\">One&nbsp;hand&nbsp;grasps&nbsp;the&nbsp;umbilical&nbsp;cord&nbsp;while the&nbsp;other&nbsp;is&nbsp;placed&nbsp;on&nbsp;the&nbsp;mother's&nbsp;abdomen&nbsp;with&nbsp;the&nbsp;fingers&nbsp;over&nbsp;the&nbsp;anterior&nbsp;surface&nbsp;of&nbsp;the&nbsp;uterus.</span></li>\n<li><span class=\"hvr\">While the hand&nbsp;on the&nbsp;abdomen&nbsp;is&nbsp;pressed&nbsp;backward&nbsp;and&nbsp;slightly&nbsp;upward,&nbsp;the&nbsp;other&nbsp;applies&nbsp;gentle&nbsp;traction&nbsp;on&nbsp;the&nbsp;cord.</span></li>\n</ul>\n<p><span class=\"hvr\">Image A - Schultze, B - Mathew Duncan</span></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bdf7ead004674a1dba29b9aa408ec946.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1b398422038640cca531389d09097da8x1200x1623.JPEG"
    ]
  },
  {
    "text": "Which of the following is the most dependent part of a female?",
    "choices": [
      {
        "id": 1,
        "text": "Rectouterine pouch"
      },
      {
        "id": 2,
        "text": "Ovarian fossa"
      },
      {
        "id": 3,
        "text": "Posterior fornix"
      },
      {
        "id": 4,
        "text": "Vesicouterine pouch"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The&nbsp;<strong>rectouterine pouch,&nbsp;</strong>which is also called the&nbsp;<strong>pouch of Douglas </strong>is the most dependent part of a female.</p>\n<p><strong>Peritoneum of the female pelvis:</strong></p>\n<p>In females, the peritoneum covers the anterior and anterolateral surfaces of the rectum, uterus, and urinary bladder. Spaces found in the female pelvis are:</p>\n<p><strong>Pararectal fossae:&nbsp;</strong>Present on either side of the rectum. They are limited laterally by the peritoneum that covers the uterosacral ligaments.&nbsp;</p>\n<p><strong>Paravesical fossae:</strong>&nbsp;Present on either side of the bladder. It is limited laterally by the peritoneum which covers the round ligament of the uterus.</p>\n<p><strong>Rectouterine pouch</strong> (pouch of Douglas): The peritoneum which covers the anterior surface of the rectum is reflected anteriorly to cover the posterior surface of the posterior fornix of the vagina and the uterus, forming a rectouterine pouch.</p>\n<p><strong>Vesicouterine pouch:</strong>&nbsp;The peritoneum covering the fundus and body of the uterus, is reflected anteriorly to cover the posterosuperior surface of the bladder forming a vesicouterine pouch.</p>\n<p><strong>Ovarian fossa: </strong>It&nbsp;is a shallow depression in the peritoneal lining of the lateral pelvic wall between the peritoneal ridges. It is formed by the obliterated umbilical arteries anteriorly, the ureter posteriorly, and the external iliac vessels above. It lies behind the lateral attachment of the broad ligament and contains the ovary in nulliparous females.&nbsp;&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f38dd4dca4a440dc8795b8fa2155d6acx1280x1532.JPEG"
    ]
  },
  {
    "text": "All are true about the treatment of Respiratory Distress Syndrome with surfactant except ______.",
    "choices": [
      {
        "id": 1,
        "text": "In neonates with RDS who fail CPAP, treatment with endotracheal surfactant should be initiated immediately after intubation."
      },
      {
        "id": 2,
        "text": "It is given prophylactically to all neonates at < 31 weeks gestation."
      },
      {
        "id": 3,
        "text": "It can be given as rescue treatment (when RDS actually develops)."
      },
      {
        "id": 4,
        "text": "Repeated dosing is given every 6-12 hr for a total of 2 to 4 doses."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Surfactant</strong> is given <strong>prophylactically to all neonates &lt; 28 weeks, </strong>not 31 weeks irrespective of presence or absence of Respiratory Distress Syndrome (RDS).</p>\n<p>Surfactant therapy in RDS:</p>\n<ul>\n<li>Surfactant is indicated in all infants with severe RDS.</li>\n<li>Given as<strong> rescue treatment</strong> when <strong>CPAP fails </strong>in moderate RDS.</li>\n<li>Route of administration is <strong>intratracheal.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A type 1 diabetic mother is on magnesium sulfate infusion post-cesarean section for preeclampsia. She develops delirium and is drowsy. She has a respiratory rate of 10/min, random blood glucose level of 240 mg/dL, oliguria, and bilaterally absent knee reflex. What is the cause of her condition?",
    "choices": [
      {
        "id": 1,
        "text": "Magnesium sulfate toxicity"
      },
      {
        "id": 2,
        "text": "Diabetic ketoacidosis"
      },
      {
        "id": 3,
        "text": "Eclampsia"
      },
      {
        "id": 4,
        "text": "Diabetes insipidus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario and examination finding of <strong>bilaterally absent knee reflex</strong>&nbsp;following magnesium sulfate (MgSO<sub>4</sub>) administration for preeclampsia suggest the cause of her condition to be <strong>magnesium sulfate</strong>&nbsp;<strong>toxicity</strong>.&nbsp;</p>\n<p>MgSO4 is used as an <strong>anticonvulsant</strong> in the management of <strong>eclampsia</strong> and as prophylaxis in <strong>severe preeclampsia</strong>. It can also be used as a <strong>tocolytic</strong> to stop<strong> preterm labor.&nbsp;</strong>The therapeutic level of magnesium in eclampsia is<strong> 4&ndash;7 mEq/L</strong>.<strong>&nbsp;</strong></p>\n<p>Patients must be monitored for <strong>magnesium toxicity</strong>:</p>\n<ul>\n<li><strong>Loss</strong> of <strong>deep tendon reflexes</strong></li>\n<li>Decreased respiratory rate <strong>&lt;12/min</strong></li>\n<li><strong>Urine output&nbsp;</strong><strong>&lt;30 mL/h</strong></li>\n<li>Chest pain and heart block&nbsp;</li>\n<li>Visual changes,<strong> flushing</strong>, muscle paralysis, and <strong>drowsiness</strong></li>\n</ul>\n<p>Measurement of<strong> serum magnesium levels </strong>is indicated to monitor magnesium toxicity if<strong> serum creatinine &gt;1.0 mg/dL.</strong></p>\n<p>Management of magnesium toxicity is as follows:</p>\n<ul>\n<li>Stop magnesium therapy</li>\n<li>Estimation of serum magnesium and creatinine levels</li>\n<li>Intravenous injection of <strong>calcium gluconate 10 mL&nbsp;</strong>(<strong>10%</strong> solution)<strong>&nbsp;</strong></li>\n</ul>\n<p>The two commonly used MgSO4 regimens are described below:&nbsp;</p>\n<table class=\"t1\" style=\"width: 531px;\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr style=\"height: 46px;\">\n<td class=\"td1\" style=\"width: 102px; height: 46px;\" valign=\"top\">\n<p class=\"p1\"><strong>Regimen</strong></p>\n</td>\n<td class=\"td1\" style=\"width: 201.633px; height: 46px;\" valign=\"top\">\n<p class=\"p1\"><strong>Loading Dose</strong></p>\n</td>\n<td class=\"td1\" style=\"width: 226.367px; height: 46px;\" valign=\"top\">\n<p class=\"p1\"><strong>Maintenance Dose</strong></p>\n</td>\n</tr>\n<tr style=\"height: 114px;\">\n<td class=\"td1\" style=\"width: 102px; height: 114px;\" valign=\"top\">\n<p class=\"p1\">Intramuscular (<strong>Pritchard</strong>)</p>\n</td>\n<td class=\"td1\" style=\"width: 201.633px; height: 114px;\" valign=\"top\">\n<p class=\"p1\">4 g (20% solution) IV over 3&ndash;5 minutes, followed by 10 g (50%) deep IM&nbsp;(5 g in each buttock)</p>\n</td>\n<td class=\"td1\" style=\"width: 226.367px; height: 114px;\" valign=\"top\">\n<p class=\"p1\">5 g (50%) IM 4 hourly in the alternate buttock</p>\n</td>\n</tr>\n<tr style=\"height: 72px;\">\n<td class=\"td1\" style=\"width: 102px; height: 72px;\" valign=\"top\">\n<p class=\"p1\">Intravenous (Zuspan or <strong>Sibai</strong>)</p>\n</td>\n<td class=\"td1\" style=\"width: 201.633px; height: 72px;\" valign=\"top\">\n<p class=\"p1\"><strong>4 g IV</strong> slow over 15&ndash;20 minute</p>\n</td>\n<td class=\"td1\" style=\"width: 226.367px; height: 72px;\" valign=\"top\">\n<p class=\"p1\">1&ndash;2 g/h IV infusion</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Repeated/maintenance dose</strong> IM injections of magnesium sulfate are continued only under the following conditions:</p>\n<ul>\n<li>The <strong>patellar reflex</strong> is <strong>present</strong></li>\n<li>Respiration is not depressed</li>\n<li>Urine output <strong>&gt;30 mL/h</strong></li>\n</ul>\n<p>Other options:</p>\n<p>Option B: Pregnant women with <strong>diabetic ketoacidosis</strong> present with <strong>hyperventilation</strong> (Kussmaul breathing) and their blood glucose level is around <strong>380 mg/dL</strong>.</p>\n<p>Option C: <strong>Eclampsia</strong>&nbsp;patients present with <strong>generalized tonic-clonic convulsions.</strong></p>\n<p>Option D: <strong>Diabetes insipidus</strong>&nbsp;patients present with <strong>polyuria</strong> and polydipsia.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 55 year old female complains of lower backache. The radiographic image of her lumbosacral spine is given below. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Osteoporosis"
      },
      {
        "id": 2,
        "text": "Ankylosing spondylitis"
      },
      {
        "id": 3,
        "text": "Osteomalacia"
      },
      {
        "id": 4,
        "text": "Renal osteodystrophy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above image depicts&nbsp;<strong>ballooning of disc spaces&nbsp;</strong>leading to&nbsp;<strong>biconcave shape of vertebral body&nbsp;</strong>known as&nbsp;<strong>&lsquo;Cod&nbsp;</strong><strong>fish appearance&rsquo;,&nbsp;</strong>classically seen in&nbsp;<strong>osteoporosis.</strong>&nbsp;</p>\n<p>It is caused due to the reduction in the strength of the bone that leads to an increased risk of fractures. WHO defines osteoporosis as a T score&nbsp;<strong>less than -2.5</strong>. It is the&nbsp;<strong>gold standard to assess bone mineral density</strong>.</p>\n<p><strong>Other radiological features of osteoporosis:</strong></p>\n<ul>\n<li><strong>Loss of vertical height&nbsp;</strong>of vertebra due to collapse</li>\n<li><strong>Ground glass appearance of bones&nbsp;</strong>especially in the bones like pelvis</li>\n<li>Loss of cortical bone (<strong>picture frame vertebrae</strong>) and trabecular bone (<strong>ghost vertebrae</strong>)</li>\n<li>Loss of trabeculae in proximal femur area.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0f0b3a37f1184a8bbdc96ca6823bb8ed.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A mother started to feel sad and tearful over the first two weeks following childbirth. She felt overwhelmed by the responsibilities of nursing her baby and changing diapers and waking up in the middle of the night. She felt that she was a failure as a mother. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Post-partum blues"
      },
      {
        "id": 2,
        "text": "Postpartum depression"
      },
      {
        "id": 3,
        "text": "Post-partum psychosis"
      },
      {
        "id": 4,
        "text": "Post-partum anxiety"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p class=\"p1\">The given clinical scenario is suggestive of <strong>postpartum blues.&nbsp;</strong></p>\n<p class=\"p1\">It is characterized by a labile mood, sadness, and subjective confusion. It is thought to be due to changes in hormone levels, the stress of childbirth, and anxiety about the responsibilities of motherhood.&nbsp;This usually resolves spontaneously.&nbsp;</p>\n<p class=\"p1\">If symptoms last longer than 2 weeks, an evaluation for <strong>postpartum depression</strong> is needed.</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Disorders and features</strong></td>\n<td><strong>Incidence and timeline</strong></td>\n<td><strong>Harmful thoughts</strong></td>\n<td><strong>Treatment</strong></td>\n</tr>\n<tr>\n<td>\n<p><strong>Postpartum blues</strong>:</p>\n<p>Depressed affect, tearfulness and fatigue</p>\n</td>\n<td>\n<p>30-75%</p>\n<p>Starts&nbsp;2-3 days after delivery. Resolves within 10 days.</p>\n</td>\n<td>No thoughts of harming the baby</td>\n<td>Support and follow up</td>\n</tr>\n<tr>\n<td>\n<p><strong>Postpartum depression</strong>:</p>\n<p>Depressed affect, anxiety and poor concentration</p>\n</td>\n<td>\n<p>10-15%</p>\n<p>Starts within 12 weeks from delivery and persists for &ge; 2 weeks.&nbsp;</p>\n</td>\n<td>Thoughts of harming the baby often present</td>\n<td>CBT and SSRIs&nbsp;</td>\n</tr>\n<tr>\n<td>\n<p><strong>Postpartum psychosis</strong>:</p>\n<p>Mood-congruent delusions, hallucinations</p>\n</td>\n<td>0.1-0.2%</td>\n<td>Thoughts of harming the baby or self</td>\n<td>Hospitalization, atypical antipsychotics and ECT for refractory cases</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The type of laryngoscope blade shown in the given image is:",
    "choices": [
      {
        "id": 1,
        "text": "Miller"
      },
      {
        "id": 2,
        "text": "Magill"
      },
      {
        "id": 3,
        "text": "Macintosh"
      },
      {
        "id": 4,
        "text": "McCoy\u2019s"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given image shows Miller laryngoscopic blade.</p>\n<p><strong>Miller</strong>&nbsp;is a&nbsp;<strong>straight blade </strong>laryngoscope,&nbsp;used in:</p>\n<ul>\n<li>Neonates, infants and young children</li>\n<li>Adults with short thyromental distance and long floppy epiglottis.</li>\n</ul>\n<p>Laryngoscopic blades can be</p>\n<ul>\n<li><strong>Straight blade, Miller</strong></li>\n<li><strong>Curved blade, Macintosh</strong></li>\n</ul>\n<p>Advantage of curved blade:</p>\n<ul>\n<li>Greater room available for the passage for an endotracheal tube</li>\n<li>Less damage to the teeth</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/aec3df33ac8843d3a9c9e4735a3bf713.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/94f7e038c4754c97b5e546a52508b556x1024x700.jpeg"
    ]
  },
  {
    "text": "A 4-year-old boy presented with itchy skin lesions on his face. for the past 3 days. On examination, there are erythematous lesions near the mouth with honey-yellow crusting, as shown in the image given below. Identify the condition.",
    "choices": [
      {
        "id": 1,
        "text": "Impetigo contagiosa"
      },
      {
        "id": 2,
        "text": "Molluscum contagiosum"
      },
      {
        "id": 3,
        "text": "Herpes Labialis"
      },
      {
        "id": 4,
        "text": "Cellulitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The above image showing erythematous lesions with <strong>honey-colored crusts</strong> is suggestive of <strong>impetigo contagiosa</strong>\u00a0(a.k.a\u00a0<strong>non-bullous impetigo</strong>).</p>\n<p><strong>Impetigo</strong> is a type of bacterial skin infection, commonly caused by <strong>Staphylococcus aureus</strong> and <strong>group A beta-hemolytic Streptococcus pyogenes</strong>. It is <strong>self-limiting, </strong>has an incubation period of <strong>4-10 days,</strong> and lasts for about <strong>two-three weeks</strong>.</p>\n<p><strong>Topical antibiotics\u00a0</strong>are preferable to oral antibiotics for limited impetigo. Three topical antibiotics recommended for impetigo are\u00a0<strong>mupirocin 2%, retapamulin 1% ointment,</strong>\u00a0and\u00a0<strong>fusidic acid</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fb9bc7c4f2ea48638f18cc2decfcd1f8.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6ef33b6f10b742758c74f76c13a89da4x1280x1378.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5037130f2176479e905d2101de6c23b2x400x327.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f38943e51e1c4840852e251c26e7c23cx720x537.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/77d3e5bad82d47a8aea407fa573009bex720x540.JPEG"
    ]
  },
  {
    "text": "A newborn is seen to have an abnormal lump in the lower back. Identify the condition from the MRI given below.",
    "choices": [
      {
        "id": 1,
        "text": "Meningocele"
      },
      {
        "id": 2,
        "text": "Myelomeningocele"
      },
      {
        "id": 3,
        "text": "Spina bifida occulta"
      },
      {
        "id": 4,
        "text": "Bone cyst"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The MRI given represents <strong>meningocele</strong>.&nbsp;</p>\n<p><strong>Meningocele&nbsp;</strong>involves the&nbsp;<strong>midline protrusion&nbsp;</strong>of the&nbsp;<strong>meninges.</strong>&nbsp;A fluctuant midline mass, that may transilluminate is present in the lower back along the vertebral column.&nbsp;<strong>Meningomyelocele&nbsp;</strong>involves the<strong>&nbsp;protrusion&nbsp;</strong>of the&nbsp;<strong>spinal cord with&nbsp;</strong>the<strong>&nbsp;meningeal covering.&nbsp;</strong>Neurological dysfunction is more common in these open defects.</p>\n<p><strong>Spina bifida occulta</strong>&nbsp;refers to fusion defects of the&nbsp;<strong>posterior part</strong>&nbsp;of the&nbsp;<strong>vertebral body</strong>. There is no associated protrusion of the spinal cord or<strong>&nbsp;</strong>meninges. These neonates are usually&nbsp;<strong>asymptomatic,</strong>&nbsp;without any neurological signs. They present only with a&nbsp;<strong>tuft of hair</strong>&nbsp;over the&nbsp;<strong>lower back</strong>.&nbsp;</p>\n<p>The image below shows (from left to right) spina bifida occulta, meningocele, and meningomyelocele-</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/04f94578b8fc4fa6bd35617523de73ab.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6d37b693df96409db258f055abd6a9aax500x254.JPEG"
    ]
  },
  {
    "text": "4R\u2019s of Radiotherapy are:",
    "choices": [
      {
        "id": 1,
        "text": "Reoxygenation, repopulation, reimplantation, reassortment"
      },
      {
        "id": 2,
        "text": "Reoxygenation, repopulation, reassortment, repair"
      },
      {
        "id": 3,
        "text": "Reoxygenation, reimplantation, reassortment, repair"
      },
      {
        "id": 4,
        "text": "Reoxygenation, repair, repopulation, reduction"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In general, success or failure of standard clinical radiation treatment is determined by the 4 R&rsquo;s of radiobiology: <strong>repair of DNA damage, redistribution or ressortment of cells in the cell cycle, repopulation, and reoxygenation</strong> of hypoxic tumor areas.</p>\n<p>5th R of radiotherapy is <strong>radiosensitivity.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Fmge Mini Test - 9';
        let hierarchy = ["Marrow", "FMGE Mini Test Series", "2024"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>