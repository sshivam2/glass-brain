<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>240 Surgery Neet 2024 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Surgery
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">37</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A male presented with discharge as shown in the image. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Fistula in ano"
      },
      {
        "id": 2,
        "text": "Fissure in ano"
      },
      {
        "id": 3,
        "text": "External Haemorrhoids"
      },
      {
        "id": 4,
        "text": "Pilonidal sinus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"ng-star-inserted\">\n<div class=\"table-responsive font-weight-light answer-scroll ng-star-inserted\">\n<p><strong>Exceptions to Goodsall\u2019s Rule</strong></p>\n<p>However,\u00a0<strong>exceptions</strong>\u00a0to this rule often occur: Fistulas with an anterior external opening\u00a0<strong>greater than 3 cm\u00a0</strong>from the<strong>\u00a0anal margin</strong>\u00a0usually track to the posterior midline.</p>\n<p><strong>Investigations:</strong></p>\n<p>The investigations done for fistula-in-ano are as follows:</p>\n<ul>\n<li>Fistulogram</li>\n<li>Endoanal ultrasound</li>\n<li><strong>MRI</strong></li>\n<li>Computed tomography (CT) scan</li>\n<li>Endocoil MRI</li>\n<li>Hydrogen peroxide\u2013enhanced 3-D endoanal ultrasonography</li>\n</ul>\n<p><strong>MRI</strong>\u00a0is the <strong>gold standard</strong> investigation for fistula imaging. It helps us to identify the secondary extensions of the track, which when missed may cause persistence of the fistula.</p>\n</div>\n</div>\n<div class=\"ng-star-inserted\">\n<div class=\"table-responsive font-weight-light answer-scroll ng-star-inserted\">\n<p><strong>Treatment:</strong></p>\n<ul>\n<li>Control of constipation</li>\n<li>Sitz bath</li>\n<li>Fistulotomy</li>\n<li>Fistulectomy</li>\n<li>Ligation of intersphincteric fistula tract (LIFT)</li>\n<li>Setons</li>\n<li>Advancement flaps</li>\n</ul>\n<p>Other options:\u00a0</p>\n<p>Option B:\u00a0A <strong>fissure in ano</strong> is a <strong>linear ulcer</strong> usually found in the <strong>midline</strong>, distal to the <strong>dentate</strong> line. It is one of the <strong>most common</strong> causes of <strong>anal pain</strong> and <strong>bleeding</strong>. They typically start with a <strong>tear</strong> in the <strong>anoderm</strong> within the <strong>distal</strong> half of the <strong>anal canal </strong>which then triggers cycles of recurring anal pain and bleeding, which lead to the development of a chronic anal fissure. The exposed <strong>internal sphincter</strong> muscle within the<strong> bed </strong>of the <strong>fissure</strong> frequently <strong>spasms</strong>, which not only contributes to <strong>severe pain</strong> but also can <strong>restrict blood flow</strong> to the fissure, preventing its healing.\u00a0</p>\n<p>Option C:<strong>\u00a0Hemorrhoids</strong> are cushions of <strong>submucosal tissue</strong> containing <strong>venules, arterioles,</strong> and <strong>smooth muscle fibers</strong> located in the anal canal. <strong>External hemorrhoids</strong> are <strong>distal</strong> to the <strong>dentate line</strong> and are covered with anoderm; these may <strong>engorge,</strong> causing <strong>pain. Thrombosis</strong> of these <strong>external hemorrhoids</strong> causes <strong>severe pain.</strong>\u00a0</p>\n<p>Option D:\u00a0<strong>Pilonidal sinus</strong> disease is commonly seen in the <strong>natal cleft,</strong> more in <strong>men,</strong> usually after <strong>puberty. Drivers</strong> and <strong>hairdressers</strong> are more commonly affected. The pilonidal sinus opening is usually seen in the <strong>midline</strong> between the <strong>sacrococcygeal joint's</strong> level and the <strong>coccyx's</strong> tip. The other sites that can be affected include the <strong>interdigital cleft</strong> and <strong>axilla.</strong></p>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bbeaf6e923d347b2a240293573f6aafc.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2959bbb5b08d404fb11d89d338439808x1280x1730.JPEG"
    ]
  },
  {
    "text": "A man presented to the emergency department after RTA with complaints of chest pain and breathing difficulty. An X-ray was done and is given below. What type of breathing pattern is observed in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Cheyne stokes"
      },
      {
        "id": 2,
        "text": "Paradoxical"
      },
      {
        "id": 3,
        "text": "Biot"
      },
      {
        "id": 4,
        "text": "Kussmaul"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Different patterns of breathing observed are shown below:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/384ea396a98c4efaa0f0a07e4b141b3b.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eb06c37ba5c841a889511b6eca3a0459x1280x1736.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3e7432c07433455d989bd438c4a9a54bx848x1200.PNG"
    ]
  },
  {
    "text": "A mother brought her 3-month-old male child to the hospital, who is currently unable to pass urine. A similar issue was reported 15 days ago. The catheter could be passed without difficulty. The image of the micturating cystourethrogram is given below. What is the most appropriate management for this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Partial resection of verumontanum"
      },
      {
        "id": 2,
        "text": "Endoscopic dilation of bladder neck"
      },
      {
        "id": 3,
        "text": "Indwelling catheter"
      },
      {
        "id": 4,
        "text": "Destruction of valves"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>ultrasound</strong> shows the typical<strong>\u00a0'key-hole' sign\u00a0</strong>in which the bladder and the proximal urethra are dilated.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6ae9f4f415564dac959f36884cc6c7ca.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cacd0ef628724be2829b3233605b6b03x1280x1581.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/550610ed42474046b523436fe6e10e7bx720x720.JPEG"
    ]
  },
  {
    "text": "What is the condition seen here?",
    "choices": [
      {
        "id": 1,
        "text": "Gastric Ulcers"
      },
      {
        "id": 2,
        "text": "Oesophageal varices"
      },
      {
        "id": 3,
        "text": "Candidiasis"
      },
      {
        "id": 4,
        "text": "Barret's esophagus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option D: <strong>Barrett's esophagus</strong> is a type of <strong>metaplasia</strong> at the <strong>gastro-esophagal junction</strong> due to <strong>chronic gastroesophageal reflux disease (GERD)</strong>. The <strong>squamous esophageal mucosa</strong> is converted to a <strong>columnal/intestinal</strong> type that is better suited to <strong>handle acid reflux</strong>. It is associated with an i<strong>ncreased risk </strong>of <strong>esophageal adenocarcinoma</strong>.</p>\n<p>\u00a0The following shows an endoscopic image of<strong> Barrett's esophagus</strong>:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f54427fd4ed44942b5b61c213fb718ff.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/25abfea9cf74404cb09857a878a50878x670x594.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bcc7c17360a94c469ab0722cb677c474x1280x1077.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/29529a0431a04958add3fad66139b4a1x322x254.PNG"
    ]
  },
  {
    "text": "The baby was born with this deformity. What is the earliest age to correct this defect?",
    "choices": [
      {
        "id": 1,
        "text": "3 months"
      },
      {
        "id": 2,
        "text": "1 year"
      },
      {
        "id": 3,
        "text": "6 months"
      },
      {
        "id": 4,
        "text": "18 months"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Note:\u00a0Palate repair is done between <strong>6-12 months</strong> of age. The palatal repair is done maintaining the balance between <strong>speech</strong> outcomes and <strong>mid-facial growth</strong>. The generally agreed timeline is before speech development. However, the exact timeline is still debated and no uniform consensus is available.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bb5fe8a56ea1421eb6f6b604abbb0090.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/364b499ac1cf4032820cae789aab36dex600x336.JPEG"
    ]
  },
  {
    "text": "A patient with a history of tuberculosis presents with dysuria and sterile pyuria. The cystoscopy image of the patient is provided below. Based on the patient\u2019s history and the cystoscopic findings, which of the following conditions is most likely associated?",
    "choices": [
      {
        "id": 1,
        "text": "Linear ulcer of the bladder"
      },
      {
        "id": 2,
        "text": "Golf hole ureter"
      },
      {
        "id": 3,
        "text": "Ureterocele"
      },
      {
        "id": 4,
        "text": "Urethral stricture"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Ureteric lesions can also be seen in genitourinary tuberculosis. They include:</p>\n<ul>\n<li><strong>Kerr\u2019s kink</strong> - kinking of the ureteropelvic junction (UPJ)</li>\n<li>Ureteral stricture</li>\n<li>Beaded ureter</li>\n<li>Shortening of the ureter</li>\n<li><strong>Golf hole ureter</strong> - Longitudinal fibrosis leads to the shortening of the ureter and pulling up the orifice as a gaping hole. <strong>Reimplantation of ureter</strong> is done.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fb82a6820a704a208ca0fb872bbd2577.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e5c4b134b71c4d4babbf287b78afcc1ex720x503.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4d451ff848c741d1bbb2a2acafee885bx1280x1663.JPEG"
    ]
  },
  {
    "text": "What instrument is required for the following procedure?",
    "choices": [
      {
        "id": 1,
        "text": "Ureteroscope"
      },
      {
        "id": 2,
        "text": "Cystourethroscope"
      },
      {
        "id": 3,
        "text": "Nephroscope"
      },
      {
        "id": 4,
        "text": "Ultrasound guided scope"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The instrument required for placing the <strong>Double J stent (DJ stent)</strong>, as shown in the radiograph is a <strong>cystourethroscope</strong>.</p>\n<p><strong>Cystourethroscopy</strong> allows for the examination and access of the<strong> bladder </strong>and <strong>urethra</strong>, which is crucial for <strong>guiding</strong> the <strong>DJ stent</strong> from the bladder into the ureter. This procedure involves inserting a <strong>flexible</strong> or <strong>rigid endoscope</strong> through the urethra and into the bladder, where the stent can be manoeuvred into the ureter.</p>\n<p>While <strong>ureteroscopy</strong> is typically used to visualize and treat issues <strong>directly</strong> within the <strong>ureter,</strong> cystourethroscopy provides the necessary access and visualization to position the DJ stent correctly. This approach is effective for ensuring the stent is <strong>placed accurately</strong>, particularly in cases where access to the bladder is essential.</p>\n<p>Other options:\u00a0</p>\n<p>Option A: A <strong>ureteroscope</strong> is used to examine and treat the <strong>ureters</strong> (the tubes connecting the kidneys to the bladder). It is commonly used for <strong>removing kidney stones</strong> or evaluating issues in the ureter.</p>\n<p>Option C: A <strong>nephroscope</strong> is a type of scope used to examine the kidneys directly. It is often used in procedures like <strong>percutaneous nephrolithotomy</strong> (PCNL) to remove large kidney stones.</p>\n<p>Option D: An ultrasound-guided scope refers to an <strong>endoscope</strong> or <strong>medical</strong> device used in conjunction with <strong>ultrasound imaging</strong> to guide procedures. It\u2019s often used in various parts of the body, including the <strong>gallbladder, liver,</strong> or <strong>kidney</strong> to help visualize structures during minimally invasive surgeries or biopsies.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2ac097560dc8438babe09b2445e68702.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient with a history of umbilical swelling, initially asymptomatic for many years, now complains of pain over the swelling. The swelling was reducible initially but is now non-reducible. What is the appropriate management?",
    "choices": [
      {
        "id": 1,
        "text": "Umbilectomy with herniorrhaphy"
      },
      {
        "id": 2,
        "text": "Umbilectomy"
      },
      {
        "id": 3,
        "text": "Conservative management with antibiotics"
      },
      {
        "id": 4,
        "text": "Incision and drainage"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The appropriate management for this patient with a diagnosis of <strong>umbilical hernia</strong> with <strong>painful, non-reducible</strong> swelling is <strong>umbilectomy</strong> with <strong>umbilical herniorrhaphy</strong>.</p>\n<p>An umbilical hernia occurs when a defect in the <strong>umbilical</strong> or <strong>median raphe</strong> area allows <strong>abdominal contents</strong> to <strong>protrude</strong>. In adults, these hernias often present as a swelling near the umbilicus that can become <strong>painful</strong> and <strong>non-reducible</strong> over time. Conditions that cause stretching and thinning of the midline raphe, such as <strong>obesity, pregnancy</strong>, or <strong>liver cirrhosis</strong> with <strong>ascites,</strong> increase the risk of such complications.</p>\n<p>The <strong>management </strong>of <strong>painful, non-reducible</strong> umbilical hernia typically involves <strong>surgical intervention</strong> due to the risk of <strong>strangulation</strong> and <strong>bowel obstruction</strong>. <strong>Umbilical herniorrhaphy</strong> with <strong>umbilectomy</strong> is the standard approach, addressing both the hernia and the associated defect.</p>\n<p>In children, the <strong>umbilical defect</strong> is usually present <strong>at birth</strong> and typically <strong>closes</strong> as the <strong>umbilical cord stump heals</strong> within the first week. If this closure process is delayed, it can result in <strong>herniation</strong> during the <strong>neonatal </strong>period. Additionally, in adults, the <strong>umbilical ring</strong> can <strong>stretch</strong> and <strong>reopen</strong>, leading to similar herniation.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/205e479e9f8842b78a24fab62c4de1a5.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A baby was brought in with complaints of intermittent feculent discharge from the umbilicus. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Umbilical polyp"
      },
      {
        "id": 2,
        "text": "Ileal diverticulum"
      },
      {
        "id": 3,
        "text": "Urachus"
      },
      {
        "id": 4,
        "text": "Urachal cyst"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Patent urachus</strong> occurs due to the failure of urachus to obliterate, resulting in a <strong>connection</strong> between the<strong> bladder</strong> and the <strong>umbilicus</strong>.</p>\n<p><strong>Urachal cyst </strong>occurs when the urachus fails to obliterate but there is <strong>no connection</strong> between the bladder and the umbilicus.</p>\n<p>The image below shows a urachal cyst (UC) attached to Meckel\u2019s diverticulum (MD) on one side and a urinary bladder (UB) on the other side with a patent tract- urachus (U).</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/24973b90fa4b4d0db1bed1dc660e9cee.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e226746e0f384863bd935402f9bf32b4x1280x2786.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/36545182350748b3878f9d1aec2a5206x482x382.PNG"
    ]
  },
  {
    "text": "A patient presents with renal colic and recurrent urinary tract infections. A CT scan reveals no significant findings. The patient undergoes a percutaneous nephrolithotomy and his urine analysis is as shown. Based on the clinical presentation and the urine analysis findings, what are these crystals made up of?",
    "choices": [
      {
        "id": 1,
        "text": "Struvite"
      },
      {
        "id": 2,
        "text": "Oxalate"
      },
      {
        "id": 3,
        "text": "Uric acid"
      },
      {
        "id": 4,
        "text": "Cystine"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The image shows a <strong>hexagonal</strong> crystal, suggesting <strong>cystine stones. </strong>These stones are a<strong>\u00a0</strong>recurrent feature in patients with <strong>cystinuria</strong>.</p>\n<p>Cystinuria is the most common <strong>inborn error</strong> of <strong>amino acid transport</strong>. It occurs due to<strong> defective basic amino acid transporter</strong> in the <strong>proximal tubules</strong> of the kidney. This leads to the <strong>excretion </strong>of <strong>cystine</strong>(dimer of cysteine), <strong>ornithine, lysine</strong> and <strong>arginine</strong>, abbreviated as <strong>COLA</strong>.</p>\n<p>The disease manifests as <strong>precipitation</strong> of <strong>cystine stones</strong> in the urine leading to<strong> renal colic</strong>. <strong>Oral hydration</strong> is the mainstay of treatment.\u00a0</p>\n<p>Crystals in urine are usually associated with kidney stones. Crystals form in the urine depending upon a variety of factors including:</p>\n<ul>\n<li>The degree of concentration of constituent molecules</li>\n<li>The urine pH</li>\n<li>The presence of inhibitors of crystallisation</li>\n</ul>\n<p><strong>Calcium oxalate</strong> and<strong> uric acid crystals</strong> can sometimes be found in <strong>normal urine</strong> that has been left to stand, due to <strong>crystal formation ex vivo</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4c35509100eb4877b77a52e0ff278594.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is the treatment plan for this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Full thickness skin grafting"
      },
      {
        "id": 2,
        "text": "Split thickness skin grafting"
      },
      {
        "id": 3,
        "text": "Vaccum-assisted closure"
      },
      {
        "id": 4,
        "text": "Flap"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option D:\u00a0<strong>Flaps</strong> are tissues with a <strong>blood supply</strong>, providing vascularity to a new area. Types include:</p>\n<ul>\n<li><strong>Random Flaps</strong>: Rectangular, with <strong>no specific blood supply</strong>, length-to-breadth ratio \u2264 1.5:1.</li>\n<li><strong>Axial Flaps</strong>: Long flaps based on known blood vessels, suitable for <strong>large distances</strong>.</li>\n<li><strong>Pedicled/Isolated Flaps</strong>: Axial supply allows them to be moved on a stalk or fully isolated.</li>\n<li><strong>Free Flaps</strong>: Blood supply disconnected and reconnected via microsurgery.</li>\n<li><strong>Composite Flaps</strong>: Combine tissues like skin with bone or muscle.</li>\n<li><strong>Perforator Flaps</strong>: Use small vessels from major blood vessels to supply the surface.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/743ae49c74324afd95f30867826832a3.PNG"
    ],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/7df23ebc528a4eafb2b7b47d4ab7e826.JPEG"
    ]
  },
  {
    "text": "A patient with oral cancer underwent radical surgery and PMMC flap reconstruction as shown. What is the most important indicator for considering adjuvant radiotherapy in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Close margin < 5 mm"
      },
      {
        "id": 2,
        "text": "Extra nodal extension"
      },
      {
        "id": 3,
        "text": "Multiple lymph nodes"
      },
      {
        "id": 4,
        "text": "Perineural invasion"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The most important indicator for considering <strong>adjuvant radiotherapy</strong> in this patient is <strong>extranodal extension (ENE).</strong></p>\n<p>For patients with<strong> oral cavity cancer</strong>, ENE is a key indicator for adjuvant radiotherapy. Adjuvant therapy, typically involving <strong>external beam radiotherapy</strong>, is recommended based on pathological features such as <strong>ENE, close margins (1\u20134.9 mm)</strong>, or <strong>involved margins (\u2264 1 mm), lymphovascular invasion (LVI), </strong>and<strong> perineural invasion (PNI)</strong>.</p>\n<p>The presence of<strong> one major criterion </strong>- <strong>ENE </strong>or <strong>margins \u22641 mm</strong> or <strong>two minor criteria</strong> -<strong>\u00a0</strong><strong>close margins (1\u20134.9 mm), multiple involved nodes, largest node &gt;3cm, LVI/PNI </strong>or <strong>T3/4,</strong>\u00a0guides the decision for additional treatment.</p>\n<p>Major criteria</p>\n<ul>\n<li>Extranodal invasion</li>\n<li>Lymphovascular invasion</li>\n<li>Perineural invasion</li>\n<li>T3/T4</li>\n</ul>\n<p>Minor criteria</p>\n<ul>\n<li>Close margins (1\u20134.9 mm)</li>\n<li>Multiple involved nodes</li>\n<li>Largest node &gt;3cm</li>\n</ul>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Landmark trials have demonstrated that </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">high-dose cisplatin</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> added to radiotherapy enhances outcomes in</span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> high-risk patients</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">, particularly those with ENE and positive margins.</span></p>\n<p>Note: The <strong>PMMC flap</strong> is the <strong>most commonly</strong> used flap for <strong>soft tissue reconstruction</strong> in <strong>head</strong> and <strong>neck surgery</strong>. The pectoralis flap can be harvested as a musculocutaneous flap or muscle-only flap and is based on the <strong>pectoral branch</strong> of the <strong>thoracoacromial artery.</strong> Following flap harvest, a <strong>subcutaneous tunnel </strong>is created from the donor site, over the clavicles, to the defect. Division of the pectoral nerve branches ensures atrophy of the muscle to reduce the bulge over the clavicle over time.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a6713f12b3a845bbab0309fbe5ee1357.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the stage of bed sore in the sacral region.",
    "choices": [
      {
        "id": 1,
        "text": "Stage 1"
      },
      {
        "id": 2,
        "text": "Stage 2"
      },
      {
        "id": 3,
        "text": "Stage 3"
      },
      {
        "id": 4,
        "text": "Stage 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given image shows a <strong>pressure sore</strong>\u00a0with <strong>extensive tissue destruction</strong>, including damage to the <strong>muscle</strong> layer and thus it belongs to\u00a0<strong>stage 4.</strong></p>\n<p><strong>Pressure sores</strong> also known as <strong>bed sores</strong>, pressure ulcers and decubitus ulcers are ulcers that occur due to <strong>prolonged pressure</strong> on certain sites thereby leading to tissue necrosis.\u00a0The commonest sites involved are <strong>ischium</strong>, greater trochanter, sacrum, heel, malleolus (lateral &gt;medial), and occiput. Paraplegic patients, elderly patients, and severely ill patients are at a higher risk of developing pressure sores.</p>\n<p>Management is <strong>primarily proper skin care</strong> with pressure dispersion cushions, air-fluidized beds, and urinary or fecal diversion if required. Patients who are bed-bound should be turned once in 2 hours. Those in a wheelchair should lift themselves off the seat for 10 seconds every 10 minutes.</p>\n<p><strong>Surgery</strong> is the last resort and is done after a proper initial <strong>debridement</strong> and <strong>vacuum-assisted closure. </strong>Vacuum-assisted closure is a wound closure technique<strong>\u00a0</strong>in which negative pressure is applied to the wound which leads to a decrease in edema. This hastens the debridement and formation of granulation tissue. Skin flaps with a muscle are also used for closure.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9b8007747cd64ed2ae3b064dc95d27fa.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Based on the constituents, identify the fluid given to post-operative patients.",
    "choices": [
      {
        "id": 1,
        "text": "Haemaccel"
      },
      {
        "id": 2,
        "text": "Ringer lactate"
      },
      {
        "id": 3,
        "text": "Isolyte P"
      },
      {
        "id": 4,
        "text": "Isolyte M"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The fluid shown in the image is <strong>ringer lactate </strong>or\u00a0<strong>Hartmann's solution.</strong></p>\n<p>Ringer lactate, or Hartmann's solution, is a <strong>crystalloid</strong> made up of\u00a0<strong>sodium 131 mEq, chloride 112 mEq, potassium 5 mEq, bicarbonate </strong>(as lactate)<strong> 29 mEq</strong>, and <strong>2 mEq of calcium</strong>. It is <strong>devoid</strong> of <strong>glucose</strong>.</p>\n<p>It is useful in the following conditions:\u00a0</p>\n<ul>\n<li>Correction of severe hypovolemia</li>\n<li>Metabolic acidosis</li>\n<li>Postoperative period, burns, diarrhoea</li>\n<li>Correction of hypokalemia</li>\n<li>Diabetic ketoacidosis.</li>\n</ul>\n<p>It should be avoided in severe shock, liver diseases, vomiting, nasogastric aspiration, and metabolic alkalosis. It cannot be used along with blood transfusion since calcium in the ringer lactate can bind with citrate in the transfused blood leading to clot formation.\u00a0</p>\n<p>Other options:</p>\n<p>Option A: <strong>Haemaccel</strong> is a <strong>colloid</strong> and contains 145 mmol of sodium, 6.25 mmol of calcium, and 5.1 mmol of potassium. It is mainly used for rapid volume replacement in circulatory shock, burns, and trauma. These release histamine and hence, an H2 blocker has to be supplemented. It is also used in heart-lung machines.</p>\n<p>Options C: <strong>Isolyte P</strong> is a<strong> crystalloid</strong>.<strong>\u00a0</strong>Isolyte P is commonly used in fluid therapy for paediatrics<strong>.</strong> One litre contains 50 grams of glucose, 25 mEq of sodium, 22 mEq of potassium, 3 mEq of magnesium, and 23 mEq of acetate. Hyponatremia, renal failure, hyperkalemia, and hypovolemic shock are some of the contraindications.<br /><br />Option D: <strong>Isolyte M </strong>is a <strong>crystalloid</strong>. Isolyte M is used as a <strong>maintenance fluid. </strong>It mainly contains 50 grams of glucose, 40 mEq sodium, 38 mEq chloride, 35 mEq potassium, 15 mEq phosphate, and 20 mEq acetate. It is useful in correcting hypokalemia in patients with good renal function, and acidosis. It is contraindicated in hyponatremia.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ce5744019a7848328ca898d476fb784b.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A female patient presented with a breast mass, as shown in the image below, with concomitant liver metastasis. What is the recommended management plan for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Simple mastectomy"
      },
      {
        "id": 2,
        "text": "Neo adjuvant chemotherapy followed by surgery"
      },
      {
        "id": 3,
        "text": "Modified radical mastectomy"
      },
      {
        "id": 4,
        "text": "Radical mastectomy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image of a large breast mass with an <strong>unevenly bosselated surface</strong>, overlying <strong>skin ulceration</strong>, and <strong>concomitant liver metastasis</strong> is indicative of a <strong>malignant phyllodes tumor </strong>which is managed by <strong>simple mastectomy. </strong></p>\n<p>Phyllodes tumors spread primarily through the bloodstream<strong> </strong>(<strong>hematogenous</strong>). <strong>Lymph node metastases </strong>are<strong> uncommon</strong>. Large or malignant phyllodes tumors may require a simple mastectomy, but axillary dissection is not recommended (Option C and D) due to the rare involvement of axillary lymph nodes. The role of adjuvant chemotherapy (Option B) in malignant phyllodes tumors remains uncertain and is generally not recommended as a standard treatment.</p>\n<p>Phyllodes tumor also known as a <strong>sero-cystic disease of Brodie</strong> or <strong>cystosarcoma phyllodes</strong>, originates from <strong>hormonally responsive stromal cells</strong> of the breast. It is usually a <strong>benign condition</strong> and affects women <strong>&gt; 40 years</strong> of age, but can be seen in younger women. Sometimes, may develop <strong>malignant transformation</strong>.</p>\n<p>The clinical features include large, sometimes massive, with an unevenly bosselated surface, ulceration of overlying skin occurs because of pressure necrosis and it remains mobile on the chest wall.</p>\n<p>There is no role of FNAC in phyllodes tumor. Histopathology of the lump biopsy shows <strong>increased stromal cellularity, overgrowth,</strong> and typical <strong>leaflike architecture</strong>. Tumors are treated by <strong>excision with margins of at least 2 cm</strong> to prevent local recurrence.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/97810353a7ee45cca8243ed4d4e13228.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "An elderly male who presented with the following lesion as shown, is diagnosed with stage T3 carcinoma with no clinically palpable inguinal lymph nodes. What is the management strategy for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Penectomy alone"
      },
      {
        "id": 2,
        "text": "Penectomy + Orchidectomy"
      },
      {
        "id": 3,
        "text": "Penectomy + Inguinal lymph node dissection"
      },
      {
        "id": 4,
        "text": "Penectomy + Superficial inguinal lymph node dissection"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The most appropriate management for this patient with <strong>stage T3 carcinoma</strong> of the penis with no clinically palpable inguinal lymph nodes is <strong>penectomy</strong> with <strong>superficial inguinal lymph node dissection</strong>.</p>\n<div class=\"page\" title=\"Page 1573\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>In penile carcinoma, <strong>total amputation</strong> of the penis is done if the <strong>stump </strong>is <strong>&lt; 2cm after resection</strong> of the tumour and <strong>partial penectomy</strong> is done if the <strong>stump </strong>is <strong>&gt;2cm</strong>. Carcinoma of the penis is commonly a <strong>squamous</strong> <strong>cell carcinoma</strong>. It arises from the skin of the <strong>glans penis</strong> or the <strong>prepuce</strong>. The lesion can be <strong>flat</strong> or<strong> warty</strong> in appearance.</p>\n<ul>\n<li>T1-\u00a0confined to the <strong>skin</strong></li>\n<li>T2-\u00a0invades the <strong>corpus spongiosum</strong> or <strong>cavernosum</strong>.</li>\n<li>T3-\u00a0invades the <strong>urethra</strong></li>\n<li>T4-\u00a0invades <strong>adjacent structures</strong>.</li>\n</ul>\n<p>The <strong>first lymph node</strong> to be involved is the <strong>superficial inguinal lymph node</strong> and thus, <strong>superficial inguinal lymph node dissection</strong> or <strong>sentinel lymph node biopsy </strong>(SLNB) helps evaluate the spread of penile cancer.</p>\n<p>Tumours of low-grade and low-stage are managed by <strong>Mohs\u2019</strong> surgery. Tumors involving the <strong>glans</strong> penis require <strong>glansectomy,</strong> and in advanced cases require <strong>partial penectomy</strong>.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/27462b79ad6240f1979ae1765348e10e.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2008d88e432f4db0b71ec4f33d005f18x1280x2304.JPEG"
    ]
  },
  {
    "text": "The most commonly occurring complication of TPN in a sepsis patient in ICU:",
    "choices": [
      {
        "id": 1,
        "text": "Hyperlipidemia"
      },
      {
        "id": 2,
        "text": "Hypertriglyceridemia"
      },
      {
        "id": 3,
        "text": "Reactive Hypoglycemia"
      },
      {
        "id": 4,
        "text": "Hyperglycemia"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>most commonly</strong> occurring <strong>complication </strong>of<strong> TPN</strong> in a sepsis patient in the <strong>ICU</strong> is <strong>hyperglycemia</strong>.\u00a0 \u00a0\u00a0</p>\n<p>To monitor or prevent complications in patients on TPN, the following steps may be taken:</p>\n<ul>\n<li>Infections\n<ul>\n<li>Monitor the development of <strong>glucose intolerance</strong> as it is the <strong>earliest sign</strong> of <strong>systemic sepsis. </strong>(Note: glucose intolerance- glucose <strong>not processed</strong> effectively, leading to <strong>hyperglycemia</strong>)</li>\n<li>Use <strong>subclavian vein</strong> preferably</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>Metabolic complications\n<ul>\n<li><strong>BUN </strong>and <strong>LFTs weekly</strong></li>\n<li><strong>Serum electrolytes </strong>every <strong>2-3 days</strong></li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>Intestinal atrophy\n<ul>\n<li>Provide at least some nutrients <strong>enterally</strong> if feasible</li>\n</ul>\n</li>\n</ul>\n<p>TPN also referred to as <strong>central parenteral nutrition</strong> is used for patients who can't absorb nutrients through their digestive tract, often due to conditions like <strong>short bowel syndrome</strong> from <strong>extensive intestinal resection</strong> or <strong>fistulas</strong>. It can also be <strong>temporary</strong> until other feeding methods, like a nasojejunal tube, are established.</p>\n<p>TPN typically comes in a <strong>3-liter bag</strong> with a <strong>lipid emulsion, amino acids, glucose, electrolytes, </strong>and <strong>vitamins</strong>. The energy provided is about <strong>150\u2013250 kcal per gram of protein nitrogen</strong>, with 30\u201350% from fat. Folic acid is added weekly, with other vitamins given daily, and long-term TPN may require vitamin B12 supplementation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A CT scan of a patient with a hydatid cyst is shown below. What is the type of hydatid cyst as per the Gharbi classification?",
    "choices": [
      {
        "id": 1,
        "text": "Type 4"
      },
      {
        "id": 2,
        "text": "Type 3"
      },
      {
        "id": 3,
        "text": "Type 2"
      },
      {
        "id": 4,
        "text": "Type 1"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The\u00a0<strong>water-lily sign</strong>\u00a0is seen in hydatid infections when there is\u00a0<strong>detachment of the endocyst membrane</strong>\u00a0which results in\u00a0<strong>floating membranes within the pericyst</strong>\u00a0that mimic the appearance of a water lily, on\u00a0<strong>USG.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/44864190acd648148e82bf1a1e1c417d.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1c4a13700a794899a3413219cbd8a13dx1280x1799.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0d133913c4884961bd5cb12b64739896x512x382.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5d39a80804674aec9f5bfc7003c48a79x720x961.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a71f66d3ecb247ffb66c525f9f4f04ecx720x477.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/59a578902e184691b5cc653d982e9f69x767x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/57aca12fd6bb49ee979afe66750bf842x232x282.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/66b5132aaa314a67b19fb4145f1bb0e0x1280x817.PNG"
    ]
  },
  {
    "text": "Identify the image:",
    "choices": [
      {
        "id": 1,
        "text": "Ileal diverticulum"
      },
      {
        "id": 2,
        "text": "Bladder exstrophy"
      },
      {
        "id": 3,
        "text": "Omphalocele"
      },
      {
        "id": 4,
        "text": "Gastroschisis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image showing a <strong>midline defect</strong> situated in the <strong>lower abdominal</strong> region <strong>below the umbilicus</strong> with an <strong>exposed bladder</strong> is suggestive of <strong>ectopia vesicae/ bladder exstrophy</strong>.\u00a0</p>\n<p>Ectopia vesicae/ bladder exstrophy is a <strong>congenital abdominal wall defect</strong> wherein the bladder protrudes from the <strong>lower abdominal wall</strong> and its <strong>mucosa</strong> is <strong>exposed</strong>. This results in the separation of the pubic rami and the rectus muscles.\u00a0</p>\n<p>The condition can be associated with complete <strong>epispadias</strong> with <strong>dorsal chordee</strong>, <strong>undescended testes</strong>, and <strong>inguinal hernias</strong> in <strong>males</strong>. Females may also have <strong>epispadias</strong> and separation of the two halves of the clitoris (<strong>bifid clitoris</strong>). The condition can be associated with rectal prolapse and short stature in both sexes.</p>\n<p>Untreated exstrophy can cause <strong>urinary incontinence</strong> and is associated with an increased incidence of <strong>bladder cancer</strong>. Management involves a staged <strong>surgical reconstruction</strong> of the bladder and genitalia.</p>\n<p>Other options:\u00a0</p>\n<p>Option A: The primitive gut is connected to the definitive yolk sac through a narrow stalk-like communication known as the <strong>vitellointestinal duct</strong>. In about<strong> 2%</strong> of the <strong>population</strong>, a small section of the vitellointestinal duct persists to form an <strong>outpouching</strong> of the <strong>ileum</strong> called the <strong>Meckel diverticulum</strong> or <strong>ileal diverticulum</strong>.</p>\n<p>Option C: <strong>Gastroschisis</strong> is a condition where the <strong>intestinal loops herniate</strong> through the defect in the abdominal wall. The defect usually lies on one side of the umbilicus (Right side commonly). The loops of the bowel are <strong>not covered</strong> by amnion. It is associated with <strong>elevated alpha-fetoprotein levels</strong>.</p>\n<p>Option D: <strong>Omphalocele</strong> is another congenital <strong>midline abdominal wall defect</strong> at the <strong>umbilicus</strong> causing <strong>herniation</strong> of the <strong>abdominal contents</strong> into the <strong>base</strong> of the <strong>umbilical</strong> <strong>cord</strong>. The herniated viscera is <strong>covered</strong> with <strong>peritoneum</strong> without any overlying skin. This condition can be associated with <strong>Beckwith-Wiedemann</strong> <strong>syndrome</strong> which is associated with embryonal tumors such as <strong>Wilms tumor.</strong>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3a006175adf44443a055bce51bd9d985.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the following:",
    "choices": [
      {
        "id": 1,
        "text": "Fluoroscopy"
      },
      {
        "id": 2,
        "text": "X-ray of alkali ingestion"
      },
      {
        "id": 3,
        "text": "Barium swallow"
      },
      {
        "id": 4,
        "text": "X-ray of acid ingestion"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image shows a <strong>barium swallow. </strong>It is a type of imaging where the patient ingests<strong> barium, a contrast agent</strong>, to visualize the esophagus and detect abnormalities. The described indentations in the esophageal lumen caused by anterior osteophytes (bony outgrowths) are characteristic findings that can be seen with a barium swallow.</p>\n<div class=\"page\" title=\"Page 1060\"><strong>Fluoroscopy</strong> (option A) is a technique that provides<strong> real-time X-ray images</strong> and is often used during procedures like a barium swallow, but the term is more general. <strong>X-ray of alkali ingestion </strong>(Option B) and <strong>X-ray of acid ingestion</strong> (option D) might show damage to the esophagus in barium swallow which is not seen in the image.</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7db4ca83adc948f5836bc7f10833965d.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify pseudomembranous colitis from the given image.",
    "choices": [
      {
        "id": 1,
        "text": "3"
      },
      {
        "id": 2,
        "text": "4"
      },
      {
        "id": 3,
        "text": "1"
      },
      {
        "id": 4,
        "text": "2"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image 3 given above shows yellow plaques and nodules on the mucosa are suggestive of <strong>pseudomembranous colitis</strong>. It is usually caused by <em><strong>Clostridium difficile</strong></em>. The pathogenesis is mediated by the enterotoxins -<strong> toxin A</strong> and toxin B.</p>\n<p><em>Clostridium difficile</em> is a gram-positive anaerobic bacillus that causes<strong>\u00a0<em>Clostridioides </em>(formerly\u00a0<em>Clostridium</em>)<em>\u00a0</em><em>difficile</em> infection</strong>\u00a0after ingestion of spores of the organism. The more severe form of the condition is known as <strong>pseudomembranous colitis</strong> (PMC).\u00a0Enzyme immunoassay to detect <strong>glutamate dehydrogenase</strong> is<strong> less specific</strong> compared to<strong> toxin detection</strong> for diagnosis. So a combination of the two can be used for diagnostic confirmation.</p>\n<p>The condition is most commonly associated with\u00a0<strong>prolonged antimicrobial use</strong>,\u00a0which interferes with the commensal colonic microflora. The most commonly implicated antibiotics are\u00a0cephalosporins,\u00a0ampicillin, and <strong>clindamycin.</strong> The spores are spread by contact with the\u00a0<strong>feces</strong>\u00a0of affected individuals or asymptomatic carriers. It can persist on surfaces for months. Risk factors include\u00a0<strong>poor hand hygiene</strong>, old age, and gastrointestinal surgery.</p>\n<p>The spores germinate in the small intestine and produce two toxins\u2014<strong>toxin A</strong>\u00a0(enterotoxin) and\u00a0<strong>toxin B</strong>\u00a0(cytotoxin). These interfere with the epithelial-cell barrier function and result in diarrhea and\u00a0<strong>pseudomembrane</strong>\u00a0formation. The pseudomembranes appear as small whitish-yellow plaques initially which later coalesce to involve the entire colon wall. It contains\u00a0<strong>necrotic leukocytes</strong>,<strong>\u00a0fibrin</strong>, and\u00a0<strong>cellular debris</strong>. The<strong>\u00a0anamnestic IgG response</strong>\u00a0determines which patients develop the disease or remain asymptomatic.\u00a0</p>\n<p>Symptoms include<strong>\u00a0diarrhea</strong>, fever, and abdominal pain. The diagnosis is based on a combination of <strong>clinical criteria</strong> and detection of <strong>toxin</strong> or the <strong>organism</strong> in stool samples. This can be done by\u00a0<strong>nucleic acid amplification testing</strong>\u00a0(NAAT) methods such as\u00a0<strong>polymerase chain reaction</strong>\u00a0(PCR) or by\u00a0<strong>culture</strong>.\u00a0</p>\n<p><strong>Discontinuation</strong> of any ongoing antimicrobials and adequate hydration are general measures that are recommended.\u00a0<strong>Oral fidaxomicin</strong>\u00a0or\u00a0<strong>vancomycin</strong>\u00a0is the first-line treatment. Oral metronidazole can be used when these are not available.</p>\n<p>Other options:\u00a0</p>\n<p>Option C: <strong>Familial Adenomatosis Polyposis </strong>(image 1)is caused due to a germline loss of function mutation of the tumor suppressor gene, <strong>APC</strong>(adenomatous polyposis coli) on the <strong>5</strong>th chromosome leading to <strong>multiple adenomas in the GI tract</strong> with 100% risk of malignant conversion associated with congenital retinal pigment epithelium hypertrophy. Variants of FAP are Gardner and Turcot syndromes. Its features are described in the pearl attached.</p>\n<p>Option B: <strong>Esophageal varices </strong>(image 4) are tortuous <strong>dilated veins </strong>within the mucosa and submucosa of the distal esophagus and proximal stomach. Variceal hemorrhage is an emergency that can be treated medically by inducing splanchnic vasoconstriction or endoscopically by sclerotherapy, balloon tamponade, or variceal ligation. It commonly occurs due to portal hypertension in patients with cirrhosis.\u00a0</p>\n<p>Option D:\u00a0<strong>Ulcerative colitis</strong> (UC) (image 2) which is characterized by continuous inflammation of the colon, <strong>pseudopolyps</strong>, biopsy findings of crypt distortion, ulceration, and infiltration of inflammatory cells until the submucosal layer of the intestinal wall. Diagnosis can be made by colonoscopy followed by a biopsy.\u00a0</p>\n<p>UC is a type of <strong>inflammatory bowel disease</strong> that primarily affects the rectum and extends proximally to involve the colon. Patients typically present with diarrhea, rectal bleeding, tenesmus, crampy abdominal pain, and mucus discharge. They may also present with anorexia, nausea, vomiting, fever, and weight loss.</p>\n<p>The presentation of UC differs from that of Crohn's disease, which is characterized by transmural inflammation of the intestine. Differences are mentioned in the pearl.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/a753f9921a254472a9462d7bd21af1be.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is the structure marked with the yellow arrow in the intraoperative image of spermatic cord of a patient with a congenital inguinal hernia?",
    "choices": [
      {
        "id": 1,
        "text": "Obturator vein"
      },
      {
        "id": 2,
        "text": "Femoral vein"
      },
      {
        "id": 3,
        "text": "Inferior epigastric vein"
      },
      {
        "id": 4,
        "text": "Testicular vein"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical image is an <strong>open inguinal hernia repair</strong> of a child with a structure marked as the <strong>spermatic cord</strong> whose content includes the <strong>testicular vein</strong>.</p>\n<p>Normally the funicular process of the peritoneum becomes obliterated after the testis has reached the scrotum. The scrotal part of the process remains patent and acquires the name <strong>'tunica vaginalis'</strong>. In case of congenital hernia, the <strong>whole process remains patent</strong>. With the increase in abdominal pressure, abdominal contents come out through the patent peritoneal process. So it reaches the bottom of the scrotum very quickly. It may so happen that the funicular process remains patent up to the top of the testis. So the hernia stops at the top of the testis and is known as a congenital funicular hernia.</p>\n<p><strong>Indirect hernia</strong> comprises more than 80% of inguinal hernias which are common in women and children. It occurs earlier than a direct hernia and is often complete. The two forms often seen under indirect are <strong>congenital and acquired</strong>. Unlike congenital, acquired hernias do not become complete at once. They progress gradually. Clinically a congenital hernia may present at a later period.</p>\n<p>The pearls attached below describe the inguinal canal and the differences between direct and indirect inguinal hernia.</p>\n<p>Other options are not the contents of the spermatic cord. Contents are mentioned in the pearl below.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/dd0026116e0342fa8c18e1f3149d51f8.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A chronic tobacco chewer presented with an ulcerative-nodular lesion of 4x5 cm over the lip, as shown below. Which investigation would most likely confirm his diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Superficial incisional biopsy along with normal tissue"
      },
      {
        "id": 2,
        "text": "Deep incisional biopsy of Ulcer along  with normal tissue"
      },
      {
        "id": 3,
        "text": "Excisional biopsy along with normal tissue"
      },
      {
        "id": 4,
        "text": "Brush biopsy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario along with the image showing <strong>ulcero-proliferative mass </strong>is suggestive of <strong>lip cancer</strong> which is a type of <strong>oral carcinoma</strong>. <strong>Histopathological diagnosis </strong>in the form of a <strong>deep incisiona</strong>l <strong>biopsy </strong>of an<strong> ulcer</strong> along with<strong> normal tissue</strong> is the <strong>gold standard</strong> for diagnosis.</p>\n<p>Incisional biopsy is taken from the <strong>edge of the ulcer</strong> along with normal tissue as the <strong>centre</strong> of the ulcer is usually <strong>necrotic</strong>. A narrow deep biopsy is better than a shallow broad biopsy. (Option A)</p>\n<p><strong>Excisional biopsy</strong> is done for <strong>smaller benign lesions</strong>. It is not done in oral cancers as they are usually bigger in size. An excisional biopsy may increase the spread of cancer or cause functional impairment. (Option C)</p>\n<p>Techniques like <strong>brush biopsy</strong> and <strong>exfoliative biopsy</strong> are less sensitive. Hence, they are <strong>not used</strong> for diagnosis. (Option D)</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/01de2b3ca87f4e1e94451381085e4b2e.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient presented with recurrent swelling in his lower lip for the past 6 months as shown in the image. What is the diagnosis and treatment option for the patient?",
    "choices": [
      {
        "id": 1,
        "text": "Plunging ranula ; Incision and drainage"
      },
      {
        "id": 2,
        "text": "Mucous retention cyst ; Excision"
      },
      {
        "id": 3,
        "text": "Ranula ; Incision and Drainage"
      },
      {
        "id": 4,
        "text": "Mucocele ; Aspiration"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><br />Option D:<strong> Mucocele </strong>occurs when an <strong>obstruction </strong>in the<strong> ducts</strong> of <strong>minor salivary glands</strong>, such as those in the<strong> labial </strong>or <strong>buccal</strong> areas, leads to <strong>swelling </strong>and aspiration is <strong>not</strong> a definitive treatment as it only provides temporary relief and does not prevent recurrence.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e8f8f3be79b34b4b95741366cc2843db.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/63e3239c19194b0f8e117e2c194d1ed7x986x941.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/705efe1e5cd64da88842f1b52b7b9437x720x626.JPEG"
    ]
  },
  {
    "text": "A male child experienced acute scrotal pain while playing. He was taken to the emergency department and a USG doppler was performed, followed by immediate surgical exploration. The following finding was seen. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Testicular hematoma"
      },
      {
        "id": 2,
        "text": "Strangulated inguinal hernia"
      },
      {
        "id": 3,
        "text": "Torsion of testicular appendage with Gangrene"
      },
      {
        "id": 4,
        "text": "Testicular torsion with Gangrene"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><br />Option C: <strong>Testicular appendage torsion </strong>is torsion of vestigial appendage present along the testis. It has no function but torsion of appendage can be painful. It presents with a <strong>blue dot sign </strong>on clinical examination. It is a <strong>self-limiting condition </strong>and conservative management is done.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/91ffdaac9fc6495898312f5774a165cc.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/aa9c7af6943043de9902dd19e2de498cx1280x960.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/11deace8fc3c4d82bf0e768ec8c7cbbbx986x1021.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6da1c4dc30b9450b9f0af0baa9014271x469x651.PNG"
    ]
  },
  {
    "text": "Identify the procedure done in the given image.",
    "choices": [
      {
        "id": 1,
        "text": "Bilateral Orchidectomy with bilateral inguinal node dissection"
      },
      {
        "id": 2,
        "text": "Hernia repair"
      },
      {
        "id": 3,
        "text": "Sentinel Lymph node biopsy"
      },
      {
        "id": 4,
        "text": "Total penectomy with inguinal node dissection"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Other options:\u00a0</p>\n<p>Option A: <strong>Testis</strong> <strong>is</strong> <strong>visible</strong> in the given image, therefore it is <strong>unlikely</strong> to be a specimen of Bilateral Orchidectomy with bilateral inguinal node dissection.</p>\n<p>Option B: <strong>Hernia</strong> <strong>repair</strong> would be done higher up at the inguinal region.\u00a0</p>\n<p>Option C: <strong>SLNB</strong> will be done through a smaller incision.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/ce97a763ac344cd294548e8320b42e9c.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2008d88e432f4db0b71ec4f33d005f18x1280x2304.JPEG"
    ]
  },
  {
    "text": "The patient presented with headaches, repeated episodes of elevated blood pressure, and tachycardia. Urine shows elevated levels of \nvanillylmandelic acid. Her CT scan revealed a retroperitoneal tumor in the right lumbar region. Which among the following statements is true regarding the condition?",
    "choices": [
      {
        "id": 1,
        "text": "It can be associated  with MEN 2A syndrome"
      },
      {
        "id": 2,
        "text": "It is commonly seen as as a bilateral condition"
      },
      {
        "id": 3,
        "text": "It is most commonly malignant"
      },
      {
        "id": 4,
        "text": "It is more commonly seen in children"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Other Options:</p>\n<p>Option B: Only 10% of the cases are bilateral.</p>\n<p>Option C: Only 10% of the cases are malignant. Pheochromocytomas associated with MEN2A are rarely malignant(3-5%), but often malignant with SDHB gene mutation(50%).</p>\n<p>Option D: It is a tumor of adulthood.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5281cbaae1c1448db7d47c8db45ed164x1280x1108.JPEG"
    ]
  },
  {
    "text": "What is the ideal pressure exerted by the method of dressing for a non-healing leg ulcer shown below?",
    "choices": [
      {
        "id": 1,
        "text": "40-50 mmHg"
      },
      {
        "id": 2,
        "text": "60-70 mmHg"
      },
      {
        "id": 3,
        "text": "110-130 mmHg"
      },
      {
        "id": 4,
        "text": "90-100 mmHg"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The pressure used in vacuum-assisted closure for wound healing is around <strong>\u2013125 mmHg. </strong>That lies in the range of <strong>110-130 mmHg</strong></p>\n<p>Applying negative pressure appears to <strong>hasten debridement </strong>and the formation of <strong>granulation tissue </strong>in chronic wounds and ulcers.</p>\n<p>It acts by <strong>decreasing edema</strong>, by <strong>removing interstitial fluid,\u00a0</strong>and as a result, helps in decreasing bacterial counts and cell proliferation increases.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5638d5d4161a407eaab1f6f244f66bbc.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient is diagnosed with Stanford type B aortic dissection. What is the most appropriate initial management of this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Administer beta blocker and intensive blood pressure monitoring"
      },
      {
        "id": 2,
        "text": "Bypass graft"
      },
      {
        "id": 3,
        "text": "Percutaneous endovascular stent"
      },
      {
        "id": 4,
        "text": "Balloon dilation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Management of aortic dissection:</p>\n<p>The\u00a0<strong>initial management</strong>\u00a0of patients with all types of aortic dissection is\u00a0<strong>b</strong><strong>eta-blocker </strong>along with <strong>pain management</strong>. The preferred drug is <strong>e</strong><strong>smolol</strong>. Hemodynamic stability is an important consideration.</p>\n<ul>\n<li>Stanford Type A (<strong>DeBakey Types I and II</strong>) requires\u00a0<strong>surgical intervention</strong>\u00a0once the patient's blood pressure is stabilized.</li>\n<li>Stanford Type B (<strong>DeBakey type III</strong>) is best managed by<strong>\u00a0antihypertensive drugs</strong>.\u00a0For patients with<strong>\u00a0complicated type B dissection</strong>, percutaneously placed\u00a0<strong>endovascular stents</strong>( option C )are currently preferred. Surgery ( options B and D ) is reserved for the rare patients not suitable for stenting.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/31ba21e558fe4e42a593901c64d97795.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/867f02e1159040d9b1e0a8d4dfbaa4eax1280x1241.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/61be6c9452094c59ad9c26bd98cf9ed7x1280x3028.JPEG"
    ]
  },
  {
    "text": "A patient presented with dysuria and increased frequency of micturition. He has a history of recurrent urinary tract infections with Proteus species. The radiographic image is given below. Identify the calculi shown.",
    "choices": [
      {
        "id": 1,
        "text": "Cystine"
      },
      {
        "id": 2,
        "text": "Calcium Phosphate"
      },
      {
        "id": 3,
        "text": "Xanthine"
      },
      {
        "id": 4,
        "text": "Calcium oxalate"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario and X-ray KUB showing a <strong>homogenous</strong> huge density with the <strong>smooth edge</strong> seen in the <strong>bladder\u00a0</strong>is\u00a0suggestive of\u00a0<strong>struvite calculi,</strong> which is formed due to the precipitation of <strong>calcium</strong>, <strong>magnesium, and ammonium phosphate.</strong></p>\n<p>Struvite stones (triple phosphate stones)\u00a0 are usually seen in a setting of infection with urease-producing bacteria like <strong>Proteus, Pseudomonas, and Staphylococcus</strong>. They can grow very large and form a cast of the renal pelvis and calyces resulting in\u00a0<strong>staghorn calculi.\u00a0</strong>Production of\u00a0<strong>urease</strong>\u00a0enzyme by Proteus, which\u00a0<strong>hydrolyses urea to ammonia\u00a0</strong>causes\u00a0<strong>alkalinization</strong>\u00a0of urine. Alkalinization of urine leads to precipitation of organic and inorganic compounds which contributes to the formation of\u00a0<strong>Struvite stones</strong>.\u00a0</p>\n<p>Almost <strong>90</strong>% of the renal stones are <strong>radio-opaque</strong> and the remaining <strong>10%</strong> are <strong>radiolucent.</strong> The i<strong>nvestigation of choice</strong> for renal stones is<strong> NCCT.</strong></p>\n<p>Struvite stones are usually managed with <strong>percutaneous nephrolithotomy (PCNL)</strong> as it is usually larger in size and associated with Urinary tract infections.</p>\n<p><strong>Extracorporeal shock wave lithotripsy (ESWL)</strong> is a non-invasive method that generates shockwaves outside the body, which are focused on the stones. It is the most common method of treating urinary tract stones nowadays. Stones <strong>up to approximately 1.5 cm in size</strong> are suitable for this form of treatment.</p>\n<p>PCNL is indicated in:</p>\n<ul>\n<li>Staghorn calculi - Stone <strong>&gt;2 cm</strong></li>\n<li>Multiple stones -<strong> &gt;1 cm</strong></li>\n<li>Proximal ureteral stone - <strong>&gt;1 cm</strong></li>\n</ul>\n<p>Other options:<br />Option A: Patients with<strong> cystinuria </strong>(an autosomal recessive disorder) are at risk for <strong>Cystine stones.</strong> These stones are <strong>hexagonal</strong>.</p>\n<p>Option C: <strong>Xanthine stones </strong>are seen in inborn errors of metabolism like <strong>Lesch Nyhan syndrome</strong> and cases of <strong>hyperuricemia. </strong>It is a <strong>radiolucent</strong> stone.</p>\n<p>Option D: <strong>Calcium oxalate stones</strong> are seen in conditions causing high urine calcium such as primary hyperparathyroidism and chronic acidemia from distal renal tubular acidosis. Also seen in the condition of high urine oxalate which is seen during a low-calcium diet and in malabsorption syndromes(small bowel disease (eg, Crohn's disease), including a jejunoileal bypass for obesity (bariatric surgery), surgical bowel resection or diversion, or cystic fibrosis). <strong>Calcium oxalate monohydrate</strong> stones are usually <strong>dumbbell-shaped </strong>and <strong>Calcium oxalate dihydrate </strong>stones are usually <strong>envelope-shaped.\u00a0</strong></p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fba10d87e0ee49b2abff1855fb6b5a09.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the given drain.",
    "choices": [
      {
        "id": 1,
        "text": "Underwater seal drain"
      },
      {
        "id": 2,
        "text": "Closed suction drain"
      },
      {
        "id": 3,
        "text": "Penrose drain"
      },
      {
        "id": 4,
        "text": "Nelaton drain"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option D: Nelaton drain/catheter is commonly used as an intermittent urinary catheter. Like other intermittent catheters, it is also attached temporarily for draining the bladder and then removed.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3bfb20902b3b4f91ae2a1bc996093846.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5b165b3d60ea41feba1d9e11a1ca49eax600x1759.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/05ab6791d2f34ae7b7052f579daabe46x1280x1062.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/655cb6ca889b426ba0dbf69bdfccdd62x1280x1280.JPEG"
    ]
  },
  {
    "text": "Identify the ulcer shown in the image.",
    "choices": [
      {
        "id": 1,
        "text": "Arterial ulcer"
      },
      {
        "id": 2,
        "text": "Venous ulcer"
      },
      {
        "id": 3,
        "text": "Callous ulcer"
      },
      {
        "id": 4,
        "text": "Neuropathic ulcer"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Option C: A callous ulcer is a type of foot ulcer that develops from a pre-ulcerative callus. It's a chronic, non-healing wound that can last for months or years. Callous ulcers are characterized by a hard base, rigid walls, pale tissue inside the ulcer, and a variety of shapes and sizes.</p>\n<p>Option D: The following image is that of a neuropathic ulcer\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/bbce5baf45f04e198c549a43c8df3931.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cdc6f241b28e4385a8f561f46afe5b98x900x1200.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c91261df7f124ee5ba4da18d849d6db1x720x436.PNG"
    ]
  },
  {
    "text": "A patient underwent surgery for a leg ulcer due to burns. What is the mechanism by which a graft receives its nutritional supply on postoperative day 3?",
    "choices": [
      {
        "id": 1,
        "text": "Inosculation"
      },
      {
        "id": 2,
        "text": "Imbibition"
      },
      {
        "id": 3,
        "text": "Diffusion"
      },
      {
        "id": 4,
        "text": "Neovascularisation"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The phase of skin graft uptake in which the graft receives its nutritional supply on postoperative day 3 is known as <strong>inosculation.\u00a0</strong>It is the period during which the graft is most at risk for failure.\u00a0</p>\n<p>Split skin graft survives the transplantation surgery by the following process:</p>\n<ul>\n<li>The graft survives the first 48 hours because of the\u00a0<strong>imbibition </strong>(option B) of plasma from the wound bed.</li>\n<li>After 48 hours, fine anastomotic connections are made, which leads to the\u00a0<strong>inosculation</strong> of blood.</li>\n<li><strong>Neovascularization</strong> (option D ) is the process by which new blood vessels form, directly invading the graft and restoring the pink color of the skin. There is no step of diffusion (option C) in the process of graft transplantation.</li>\n</ul>\n<p>Skin grafts can be broadly divided into two categories:</p>\n<p><strong>Split-thickness skin graft</strong> (Thiersch graft ): Partial-thickness skin grafts consisting of the epidermis and a portion of the dermis are called split-thickness skin grafts. Less dermis in the split-thickness skin graft translates into less primary contraction (the degree to which a graft shrinks in surface area after harvesting and before grafting) and more <strong>secondary contraction </strong>(the degree to which a graft shrinks during healing).</p>\n<p><strong>Full-thickness skin grafts</strong> (Wolfe graft) include the epidermis and entire dermis, with portions of the sweat glands, sebaceous glands, and hair follicles. More dermis in the full-thickness skin graft translates into more <strong>primary contraction</strong> and less secondary contraction.</p>\n<p><strong>Advantages of split skin graft</strong> over full-thickness skin graft:</p>\n<ul>\n<li>Large grafts can be harvested.</li>\n<li>In the case of thinner split-thickness grafts, the donor site <strong>heals</strong> more rapidly and <strong>can be reused</strong> in severe cases such</li>\n<li>as burns.</li>\n<li>Uptake is good.</li>\n<li><strong>Meshing</strong> can be done, i.e., small splits are made in graft and any exudates collected can come out through this, improving graft takeup. It\u00a0also allows the graft to expand.</li>\n</ul>\n<p><strong>Advantages of full-thickness skin graft</strong> over split skin graft:</p>\n<ul style=\"list-style-type: square;\">\n<li>It has a lesser degree of post-graft contraction</li>\n<li>Best <strong>cosmetic </strong>appearance as they include the highest number of skin appendage elements.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7a71febd8e3b44ec9f9a32d729d0f289.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A woman noticed a neck swelling 2 months back. Clinical examination reveals a solitary nodule on the right side as shown. What is the most appropriate initial investigation for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Radioisotope I-131 assay"
      },
      {
        "id": 2,
        "text": "PET Scan"
      },
      {
        "id": 3,
        "text": "Radioisotope I-123 assay"
      },
      {
        "id": 4,
        "text": "Serum TSH, T3 and T4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><span data-preserver-spaces=\"true\">Investigations in a patient with Solitary thyroid nodule</span></p>\n<ul>\n<li><span data-preserver-spaces=\"true\"><strong>Thyroid function tests</strong>- Thyroid stimulating hormone (<strong>TSH</strong>) levels are the first step in evaluating suspected thyroid disease. Based on TSH levels, further investigations is decided.</span></li>\n<li><strong>Ultrasonography</strong> is a non-invasive and inexpensive way to stratify the risk of the nodule into benign or malignant tissue.</li>\n<li><strong>FNAC</strong>: Although other investigations can assist in evaluating a nodule, FNA cytology provides a definitive diagnosis.</li>\n<li><strong>Radioiodine Thyroid scan</strong>: It helps to differentiate between a hot nodule and a cold nodule. Thyroid nodules that absorb radioiodine are called <strong>hot nodules</strong>. These nodules produce excess thyroid hormones and are <strong>functional nodules</strong>. Whereas, the thyroid nodules that do not absorb radioiodine are called <strong>cold nodules</strong> and they indicate <strong>non-functional nodules. </strong>It is mostly done by<strong> I-123 radioisotope. </strong>(Option C<strong>)</strong></li>\n</ul>\n<p><span data-preserver-spaces=\"true\">Other options:</span></p>\n<p><span data-preserver-spaces=\"true\">Option A: I-131 radioisotope is more commonly used to radio-ablate the thyroid tissue.</span></p>\n<p><span data-preserver-spaces=\"true\">Option B: PET scan has no role in the evaluation of Solitary thyroid nodules.</span></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c09fddf4c4734e9aa0e5e70df14a8bb1.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/11c84b954deb4e54af1d05f5a8af6b7cx1280x2073.JPEG"
    ]
  },
  {
    "text": "A 76 year old elderly man presents with confusion. He is on antihypertensive medication, and on aspirin after a recent MI. He recalls a trivial fall from chair 3 weeks ago. Other neurological examination was normal. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Epidural hemorrhage"
      },
      {
        "id": 2,
        "text": "Subarachnoid hemorrhage"
      },
      {
        "id": 3,
        "text": "Subdural hemorrhage"
      },
      {
        "id": 4,
        "text": "Normal"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Other Options:</p>\n<p>Option A: <strong>Epidural</strong> <strong>haemorrhage</strong> will be usually lens-shaped and is limited by sutures.</p>\n<p>Option B: <strong>Subarachnoid</strong> <strong>haemorrhage</strong> will show Hyperdensity in the subarachnoid space.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4c6efbe5903f458cae394e7f2004f4d5.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0b36cb791c90411ba7d0a1a1ef844ef4x1230x1236.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/86cf0269cb09457e80b59fada464fecbx1168x1238.PNG"
    ]
  },
  {
    "text": "A 45-year-old male presents with acute retention of urine which is drained via the suprapubic route. A retrograde urethrogram was done and is as shown below. What is the most appropriate management?",
    "choices": [
      {
        "id": 1,
        "text": "Serial  dilatation"
      },
      {
        "id": 2,
        "text": "Urethral repair with graft from buccal mucosa"
      },
      {
        "id": 3,
        "text": "Metallic catheter placement"
      },
      {
        "id": 4,
        "text": "Endoscopic urethrotomy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario with a<strong> long-segment urethral stricture</strong> which will be best managed by<strong> urethral repair with a graft from buccal mucosa.</strong></p>\n<p>The management of a urethral stricture\u00a0depends on the site, the length, and the cause of the stricture. They include:</p>\n<ul>\n<li><strong>Endoscopic urethrotomy</strong> - The stricture is released using a knife passed through a <strong>rigid urethroscope</strong>. This is done for a short and incomplete stricture. (Option D)</li>\n<li><strong>Urethroplasty</strong> - <strong>Excision of the stenosed length</strong> of the urethra and <strong>re-anastomosis</strong> is done. End-end anastomoses are done for strictures that are short and complete, while for a long complete stricture, a <strong>buccal mucosa graft</strong>\u00a0can be used to bridge the gap. It is considered when a stricture is due to <strong>trauma</strong> or recurred following e<strong>ndoscopic treatment</strong>.\u00a0</li>\n<li><strong>Urethral dilation</strong> - The <strong>urethra is stretched</strong> using urethral dilators. This is a blind procedure and it can cause <strong>injury</strong>. Hence, it is not done frequently. (Option A)</li>\n<li><strong>Intermittent self-dilatation</strong> -\u00a0In patients with <strong>recurrent strictures</strong> who\u00a0<span style=\"box-sizing: border-box; margin: 0px; padding: 0px;\">ca<strong>nnot undergo urethroplasty</strong>, intermittent self-dilatation with soft hydrophilic catheters is done daily</span>.</li>\n<li><strong>Metallic catheter placement</strong> - This is usually done for palliative care in <strong>end stage malignant diseases</strong> and <strong>recurrent cases</strong>. (Option C)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f0c6ccb19e2e4d40a9b5c1107d13c0c5.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient diagnosed with GERD has no improvement after long-term medical therapy. He underwent surgical treatment for GERD. Identify the procedure.",
    "choices": [
      {
        "id": 1,
        "text": "Toupet's fundoplication"
      },
      {
        "id": 2,
        "text": "Dor's fundoplication"
      },
      {
        "id": 3,
        "text": "Watson's fundoplication"
      },
      {
        "id": 4,
        "text": "Nissen's fundoplication"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The most common <strong>complication</strong> of Nissen\u2019s fundoplication is<strong>\u00a0</strong>the<strong> gas-bloat syndrome</strong>. In this condition, patients are\u00a0<strong>unable </strong>to<strong> belch gas</strong>\u00a0from\u00a0the\u00a0stomach into<strong>\u00a0</strong>the oesophagus. This causes increased gas in the stomach, resulting in a <strong>bloating sensation,</strong> abdominal discomfort, and flatulence.</p>\n<p>Other options:</p>\n<p>Option A: <strong>The toupet</strong>\u00a0procedure is the re-creation of a sphincter around the EGJ done by wrapping the fundus around the oesophagus. A <strong>posterior</strong> <strong>180-270-degree</strong> wrap is used.</p>\n<p>Option B: The <strong>Dor</strong> procedure is fundoplication, most commonly used in the setting of the esophagal myotomy. It consists of an <strong>anterior</strong> <strong>180-degree</strong> wrap.</p>\n<p>Option C: <strong>Watson's</strong> fundoplication is a <strong>90-degree</strong> anterior fundoplication. It is reported to achieve good reflux control while<strong> permitting burping </strong>and\u00a0active vomiting and<strong> reducing gas bloat</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/471c4c9dbe4b43c29516668ef8947107.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/728d02fac39a4195b71e4975e462a8f2x1280x1892.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c4378736d54443038bbcc3a547a5d787x1280x2560.JPEG"
    ]
  }
];
        let quizName = '240 Surgery Neet 2024';
        let hierarchy = ["Marrow", "PYQs", "Surgery"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>