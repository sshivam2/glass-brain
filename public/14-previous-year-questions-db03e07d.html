<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>14 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Ophthalmology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">13</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>A patient presents with sudden diminution of vision, difficulty looking towards the light, and circumcorneal congestion with a hypopyon. What is the most likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Acute conjunctivitis"
      },
      {
        "id": 2,
        "text": "Acute angle closure glaucoma"
      },
      {
        "id": 3,
        "text": "Episcleritis"
      },
      {
        "id": 4,
        "text": "Acute anterior uveitis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Option D - <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">Acute</span> <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis:</strong></p>\n\n<ul>\n\t<li>The clinical presentation of the patient is suggestive of <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis. The presence of a <span class=\"customMeta\" data-dictid=\"566a978b221692777189ec96d9170a\">hypopyon</span> is often seen in conditions like Behcet disease, which can typically cause non-granulomatous <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Options A, B, and C</strong> do not present with a hypopyon.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 32-year-old patient presents with blurred vision, photophobia, and mild ocular pain. Examination reveals aqueous flares and keratic precipitates in the anterior chamber. What is the likely diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Intermediate uveitis"
      },
      {
        "id": 2,
        "text": "Posterior uveitis"
      },
      {
        "id": 3,
        "text": "Toxoplasma uveitis"
      },
      {
        "id": 4,
        "text": "Iridocyclitis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Iridocyclitis</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<table align=\"center\" cellspacing=\"0\" style=\"border-collapse:collapse; width:615px\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Type of Uveitis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Signs</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Anterior <strong>(Option D)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Granulomatous iridocyclitis</strong>, <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> nodules, large mutton fat KPs, <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber cells and flare, <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> synechiae</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Intermediate <strong>(Option A)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Vitreous cells, snowball opacities, snowbanking</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Posterior <strong>(Option B)</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Choroidal and <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">retinal</span> granulomas, <span class=\"customMeta\" data-dictid=\"99516d71df1692777185eb2585a44f\">cystoid</span> <span class=\"customMeta\" data-dictid=\"ebad8eb48c1692777191b5de5d04a1\">macular</span> edema, <span class=\"customMeta\" data-dictid=\"bd07bff8e716927771956e7a57bd70\">periphlebitis</span> retinae with candle <span class=\"customMeta\" data-dictid=\"9eae373ada1692777202074bbc0222\">wax</span> droppings appearance</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Peripheral Multifocal Chorioretinitis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Small, <span class=\"customMeta\" data-dictid=\"7134f7f8681692777196fa644c43bf\">punched-out</span> atrophic spots, highly suggestive of sarcoidosis</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Uveoparotid Fever (Heerfordt\u2019s Syndrome)</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Bilateral <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> panuveitis, painful <span class=\"customMeta\" data-dictid=\"42d0553c3916927771944110a6f15b\">parotid</span> <span class=\"customMeta\" data-dictid=\"4744bb90c21692777188c8957f9faa\">gland</span> enlargement, <span class=\"customMeta\" data-dictid=\"6b7b5460171692777185e6e2475f8c\">cranial</span> nerve palsies, skin rashes, fever, malaise</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Toxoplasma <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> (Option C):</strong></p>\n\n<ul>\n\t<li>Definitive host: Cat; Intermediate host: Human</li>\n\t<li>Ocular features: <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> or non-granulomatous uveitis</li>\n\t<li>Primarily it is <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> and spreads to anterior</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Iritis is least associated with all of the following diseases:</p>",
    "choices": [
      {
        "id": 1,
        "text": "Systemic Lupus Erythematosus"
      },
      {
        "id": 2,
        "text": "Behcet's Disease"
      },
      {
        "id": 3,
        "text": "Psoriatic Arthropathy"
      },
      {
        "id": 4,
        "text": "Ulcerative colitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">Systemic</span> <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">Lupus</span> Erythematosus</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Iritis</strong>, also known as <strong>Anterior uveitis</strong>, is an <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> condition of the eye, including the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> and <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> body.</p>\n\n<p>Although <span class=\"customMeta\" data-dictid=\"d9bf27b09416927771984cdc6c0bc4\">SLE</span> is an <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> disease that can affect multiple organs, <strong>iritis</strong> is <strong>less commonly</strong> seen in <span class=\"customMeta\" data-dictid=\"d9bf27b09416927771984cdc6c0bc4\">SLE</span> compared to the other conditions listed. It more often causes other <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> manifestations, like <strong>dry eyes</strong> or <strong>retinal changes</strong>.</p>\n\n<p><strong>Systemic Associations and Masquerades of <span class=\"customMeta\" data-dictid=\"0b673ec1e31692777190e88b9898af\">Iritis</span> (Anterior Uveitis)</strong></p>\n\n<ul>\n\t<li><strong>Infectious Causes</strong>:\n\n\t<ul>\n\t\t<li>Herpes Infections: <span class=\"customMeta\" data-dictid=\"cf329b8cef169277720107b1efa15b\">Varicella</span> Zoster, <span class=\"customMeta\" data-dictid=\"e502fd2a6816927771880ae17fc163\">Herpes</span> Simplex Virus (HSV)</li>\n\t\t<li>Tuberculosis (TB)</li>\n\t\t<li>Syphilis</li>\n\t\t<li>Leprosy</li>\n\t</ul>\n\t</li>\n\t<li><strong>Non-Infectious Causes</strong>:\n\t<ul>\n\t\t<li><strong>With <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">Systemic</span> Association</strong>:\n\t\t<ul>\n\t\t\t<li>Sarcoidosis</li>\n\t\t\t<li>Beh\u00e7et's Disease <strong>(Option B ruled out)</strong></li>\n\t\t\t<li>HLA-B27 Associated Arthritis</li>\n\t\t\t<li>Psoriatic <span class=\"customMeta\" data-dictid=\"7759db07471692777182917f663415\">Arthropathy</span> <strong>(Option C ruled out)</strong></li>\n\t\t\t<li>Inflammatory <span class=\"customMeta\" data-dictid=\"37863e7aec169277718310f33c6a11\">Bowel</span> Disease: <span class=\"customMeta\" data-dictid=\"b118cf61a016927772018a179057ef\">Ulcerative</span> <span class=\"customMeta\" data-dictid=\"e6955110f21692777184d2090a400c\">Colitis</span> (UC) > Crohn's Disease <strong>(Option D ruled out)</strong></li>\n\t\t</ul>\n\t\t</li>\n\t\t<li><strong>Without <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">Systemic</span> Association</strong>:\n\t\t<ul>\n\t\t\t<li>Drug-Induced: Pilocarpine, <span class=\"customMeta\" data-dictid=\"42815e46071692777196c90c46f78b\">prostaglandin</span> analogues</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n\t<li><strong>Masquerade Syndromes</strong>:\n\t<ul>\n\t\t<li><strong>Definition</strong>: Conditions that <span class=\"customMeta\" data-dictid=\"efaf9e0192169277719278711f7f74\">mimic</span> the symptoms of <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> but are not primarily <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> in nature.</li>\n\t\t<li><strong>Neoplastic Masquerades</strong>:\n\t\t<ul>\n\t\t\t<li>Lymphomas</li>\n\t\t\t<li>Anterior Segment Melanoma</li>\n\t\t\t<li>Retinoblastoma</li>\n\t\t\t<li>Metastasis</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li><strong>Non-Neoplastic Masquerades</strong>:\n\t\t<ul>\n\t\t\t<li>Intraocular Foreign Body<strong> </strong></li>\n\t\t\t<li>Old <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">Retinal</span> Detachment</li>\n\t\t\t<li>Pigment <span class=\"customMeta\" data-dictid=\"aff8304142169277718661b3b8980a\">Dispersion</span> Syndrome</li>\n\t\t\t<li>Coats' Disease</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A farmer presents with pain and discharge in his left eye. He says that he sustained an injury caused by a leaf a few days back. What is the finding seen in the image?</p>\n\n<p><img alt=\"Hypopyon\" data-author=\"\" data-hash=\"12408\" data-license=\"\" data-source=\"\" data-tags=\"May2025\" src=\"https://image.prepladder.com/notes/lzl2H1Qbg6vb0Ydzdnpy1746698628.png\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Hyphema"
      },
      {
        "id": 2,
        "text": "Aqueous flare"
      },
      {
        "id": 3,
        "text": "Arlt line"
      },
      {
        "id": 4,
        "text": "Hypopyon"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer- (Option D)</strong></p>\n\n<p><strong>Explanation</strong></p>\n\n<p>Given the farmer's symptoms of pain, discharge, and history of trauma, along with the finding of <strong>white blood cells in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber</strong>, the most likely diagnosis is <strong>hypopyon</strong>, which often results from infection or severe <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> <span class=\"customMeta\" data-dictid=\"bb8233a2041692777202364041a24e\">following eye</span> trauma.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Fungal keratitis</strong> is a common cause of <strong>corneal ulcers</strong> <span class=\"customMeta\" data-dictid=\"bb8233a2041692777202364041a24e\">following eye</span> trauma, especially when the injury is caused by <strong>vegetative matter</strong> (such as plant material or dirt). This type of trauma provides an entry point for <strong>fungal spores</strong>.</p>\n\n<p>The classic signs and symptoms of <strong>fungal keratitis</strong> include:</p>\n\n<ul>\n\t<li><strong>Corneal ulcer</strong> with <strong>satellite lesions</strong> (smaller ulcers surrounding the main ulcer).</li>\n\t<li><strong>Hypopyon</strong> (accumulation of white blood cells in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber of the eye).</li>\n\t<li><strong>Mild pain</strong>, <strong>photophobia</strong>, and <strong>redness</strong>.</li>\n\t<li>The <strong>history of <span class=\"customMeta\" data-dictid=\"5be6ed908e16927772017095bae56c\">vegetative</span> matter</strong> as the cause of trauma is a significant clue, as <span class=\"customMeta\" data-dictid=\"5ab0081e8316927772037e0f7c5a79\">fungi</span> are commonly found in plant material.</li>\n</ul>\n\n<h3><strong><u>Keratomycosis </u></strong></h3>\n\n<figure class=\"caption_element\"><img alt=\"Temp Dry fungal ulcer\" data-author=\"Lin TT, Wei RH, Yang RB, Huang Y, Zhang C, Ning YX, Zhao SZ\" data-hash=\"10991\" data-license=\"Open Access\" data-source=\"(a) Gray infiltrate with irregular edges involved appro | Open-i (nih.gov)\" data-tags=\"April2025\" src=\"https://image.prepladder.com/notes/u5bydeu6D4eMjnxvwkxg1745324264.png\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<h4><strong>Clinical Features</strong></h4>\n\n<ul>\n\t<li>Pain & Foreign Body Sensation</li>\n\t<li>Watering of the eye</li>\n\t<li>Photophobia</li>\n\t<li>Blurred Vision</li>\n\t<li>Redness.</li>\n</ul>\n\n<h4><strong>Examination Findings</strong></h4>\n\n<ul>\n\t<li><strong>Corneal Ulcer</strong>: Greyish-white, dry-looking with elevated, rolled-out margins.</li>\n\t<li><strong>Pigmented Ulcer</strong>: Brownish appearance, possible with <span class=\"customMeta\" data-dictid=\"0f22e5402f16927771853bb4b7b234\">dematiaceous</span> fungi.</li>\n\t<li><strong>Feathery Extensions</strong>: Delicate, finger-like projections into the surrounding stroma.</li>\n\t<li><strong>Sterile Immune Ring</strong>: Yellow line of <span class=\"customMeta\" data-dictid=\"6e26f8de1c1692777185d8f3885a0c\">demarcation</span> where fungal <span class=\"customMeta\" data-dictid=\"782b31281a1692777181708484c1d1\">antigen</span> and host antibodies meet.</li>\n\t<li><strong>Satellite Lesions</strong>: Multiple small lesions around the main ulcer.</li>\n\t<li><strong>Hypopyon</strong>: Large, non-sterile, even with a small ulcer.</li>\n</ul>\n\n<figure class=\"caption_element\"><img alt=\"Hypopyon\" data-author=\"EyeMD (Rakesh Ahuja, M.D.)\" data-hash=\"12408\" data-license=\"CC BY-SA 2.5\" data-source=\"https://en.wikipedia.org/wiki/Hypopyon#/media/File:Hypopyon.jpg\" data-tags=\"May2025\" src=\"https://image.prepladder.com/notes/lzl2H1Qbg6vb0Ydzdnpy1746698628.png\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<ul>\n\t<li><strong>Endothelial Plaque</strong>: Located under the stromal lesion, made of <span class=\"customMeta\" data-dictid=\"18c2380be716927772020c9b2863de\">fibrin</span> and leucocytes.</li>\n\t<li><strong>Corneal Vascularization</strong>: Typically absent in pure fungal ulcers.</li>\n\t<li><strong>Perforation</strong>: Rare but possible.</li>\n</ul>\n\n<h4><strong>Investigations</strong></h4>\n\n<ul>\n\t<li><strong>Corneal Scraping</strong>: Performed under <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> anaesthesia for microbiological examination.</li>\n\t<li><strong>Wet KOH Mount</strong>: Reveals <span class=\"customMeta\" data-dictid=\"c7247fbd3a1692777202a138609acb\">filamentous</span> <span class=\"customMeta\" data-dictid=\"5ab0081e8316927772037e0f7c5a79\">fungi</span> (branched, <span class=\"customMeta\" data-dictid=\"55f411a4ea1692777198d8f2de73b0\">septate</span> hyphae) or non-filamentous yeast-like <span class=\"customMeta\" data-dictid=\"5ab0081e8316927772037e0f7c5a79\">fungi</span> (Candida).</li>\n\t<li><strong>Gram's & Giemsa Stains</strong>: To detect fungal hyphae and <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> cells.</li>\n\t<li><strong>Culture</strong>: Sabouraud's <span class=\"customMeta\" data-dictid=\"2c294889fb169277718046e4ef230c\">agar</span> medium is used for fungal culture.</li>\n\t<li><strong>PCR</strong>: Recommended for rapid identification of fungal pathogens.</li>\n\t<li><strong>Anterior Chamber Paracentesis</strong>: Considered if there is an <span class=\"customMeta\" data-dictid=\"1ba26fe8171692777190a867ec47c7\">intraocular</span> extension.</li>\n\t<li><strong>Corneal Biopsy</strong>: Indicated for deep stromal <span class=\"customMeta\" data-dictid=\"5618681fbe16927771804370383aaa\">abscess</span> or when cultures are negative.</li>\n\t<li><strong>Confocal Microscopy</strong>: <strong>Used for identifying actual <span class=\"customMeta\" data-dictid=\"5ab0081e8316927772037e0f7c5a79\">fungi</span> within the cornea</strong>.</li>\n</ul>\n\n<p><strong><u>Treatment of Keratomycosis (Fungal Corneal Ulcer):</u></strong></p>\n\n<p><strong>Primary Treatment: Antifungal Medications:</strong></p>\n\n<ul>\n\t<li><u>Topical Antifungal Agents:</u>\n\n\t<ul>\n\t\t<li>Natamycin</li>\n\t\t<li>Voriconazole</li>\n\t\t<li>Amphotericin B (effective against <em>Aspergillus</em> and <em>Fusarium</em>)</li>\n\t\t<li>Nystatin (effective against <em>Candida</em>)</li>\n\t</ul>\n\t</li>\n\t<li><u>Oral Antifungal Agents (for severe ulcers with specific features):</u>\n\t<ul>\n\t\t<li>Ketoconazole</li>\n\t\t<li>Voriconazole</li>\n\t\t<li>Indications for Oral Therapy:\n\t\t<ul>\n\t\t\t<li>Hypopyon</li>\n\t\t\t<li>Perforation</li>\n\t\t\t<li>Suspicion of endophthalmitis</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Surgical Management (if unresponsive to medical therapy):</strong></p>\n\n<ul>\n\t<li><u>Repeated Scraping:</u> Removal of necrotic material</li>\n\t<li><u>Cauterization Options:</u>\n\t<ul>\n\t\t<li>Pure <span class=\"customMeta\" data-dictid=\"6d1f123ee21692777183f3fcf75999\">carbolic acid</span> (100%)</li>\n\t\t<li>Trichloroacetic acid (10%\u201320%)</li>\n\t\t<li>Povidone-iodine 5%</li>\n\t</ul>\n\t</li>\n\t<li><u>Therapeutic Keratoplasty:</u> Corneal transplantation</li>\n</ul>\n\n<p><strong>Hyphema (Option A)</strong>: Refers to the presence of <strong>blood</strong> in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber, often caused by trauma. While the patient did sustain trauma, the presence of <strong>pus (not blood)</strong> in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber points to <strong>hypopyon</strong> rather than hyphema.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Aqueous <span class=\"customMeta\" data-dictid=\"68e7440bd91692777202d8a14c33e0\">flare</span> (Option B)</strong>: Refers to the presence of <strong>protein</strong> in the <span class=\"customMeta\" data-dictid=\"0f0067663b16927771818fe253b3b9\">aqueous</span> humor, which can be seen in <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> conditions, but it is generally seen as a <strong>cloudy appearance</strong> in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber, not a white collection of cells like hypopyon.</p>\n\n<p>\u00a0</p>\n\n<p><strong>Arlt line (Option C)</strong>: This refers to a line of <strong>conjunctival scarring</strong> seen in <strong>trachoma</strong>, which is not related to the <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> trauma described here and would not be associated with the findings in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber.</p>\n\n<p><br />\n\u00a0</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/notes/lzl2H1Qbg6vb0Ydzdnpy1746698628.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/notes/u5bydeu6D4eMjnxvwkxg1745324264.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Iritis is not seen in:</p>\n\n<ol>\n\t<li>Rheumatoid arthritis</li>\n\t<li>SLE</li>\n\t<li>Bechet\u2019s disease</li>\n\t<li>Psoriatic arthritis</li>\n\t<li>Ulcerative colitis</li>\n</ol>",
    "choices": [
      {
        "id": 1,
        "text": "1 and 2"
      },
      {
        "id": 2,
        "text": "1,2,3 and 4"
      },
      {
        "id": 3,
        "text": "2,4 and 5"
      },
      {
        "id": 4,
        "text": "1,3 and 4"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct option: A) 1 and 2</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>Conditions where <span class=\"customMeta\" data-dictid=\"0b673ec1e31692777190e88b9898af\">iritis</span> is seen:</p>\n\n<ul>\n\t<li><strong>Behcet\u2019s disease (Statement 3 ruled out):</strong> Characterized by <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> uveitis, including iritis, <span class=\"customMeta\" data-dictid=\"0e919a208b16927771885d9c1f6662\">genital</span> involvement and oral involvement.</li>\n\t<li><strong>Psoriatic <span class=\"customMeta\" data-dictid=\"6f74c7bfe0169277718240005b59d1\">arthritis</span> (Statement 4 ruled out):</strong> A <span class=\"customMeta\" data-dictid=\"676cb5b15c16927771987d192e19d6\">seronegative</span> <span class=\"customMeta\" data-dictid=\"d1059cfdcb16927771993bd9926973\">spondyloarthropathy</span> frequently associated with <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> including iritis, <span class=\"customMeta\" data-dictid=\"e1bc35eee91692777201469005c140\">urethritis</span> and arthritis.</li>\n\t<li><strong>Ulcerative <span class=\"customMeta\" data-dictid=\"e6955110f21692777184d2090a400c\">colitis</span> (Statement 5 ruled out):</strong> <span class=\"customMeta\" data-dictid=\"0b673ec1e31692777190e88b9898af\">Iritis</span> is common in <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> <span class=\"customMeta\" data-dictid=\"37863e7aec169277718310f33c6a11\">bowel</span> disease, as it shares a <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> pathway.</li>\n\t<li>Rheumatoid arthritis: <span class=\"customMeta\" data-dictid=\"0b673ec1e31692777190e88b9898af\">Iritis</span> is rarely seen in adult-onset <span class=\"customMeta\" data-dictid=\"40dbde72e41692777197e59d893839\">rheumatoid</span> arthritis. However, it is more commonly associated with <span class=\"customMeta\" data-dictid=\"b5d5db1f591692777190869c6a7223\">juvenile</span> <span class=\"customMeta\" data-dictid=\"4acddc3cf5169277718996440e2e14\">idiopathic</span> <span class=\"customMeta\" data-dictid=\"6f74c7bfe0169277718240005b59d1\">arthritis</span> (JIA), especially in ANA-positive cases.</li>\n\t<li>SLE: <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">Systemic</span> <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">lupus</span> erythematosus typically affects other <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> tissues, such as the <span class=\"customMeta\" data-dictid=\"f17d8978bd1692777197621051012f\">retina</span> and <span class=\"customMeta\" data-dictid=\"1b9a354cdb1692777194802683234d\">optic</span> nerve, rather than causing iritis.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 26-year-old patient came with complaints of blurring of vision, photophobia, redness, pain in the left eye, and joint pain. Upon examination keratic precipitates and aqueous cells were observed. Which of the following major histocompatibility complex is be associated with this condition?</p>",
    "choices": [
      {
        "id": 1,
        "text": "HLA B27"
      },
      {
        "id": 2,
        "text": "HLA B51"
      },
      {
        "id": 3,
        "text": "HLA B47"
      },
      {
        "id": 4,
        "text": "HLA B57"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - HLA B27</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The clinical presentation of blurring vision, photophobia, redness, pain ,and <span class=\"customMeta\" data-dictid=\"9f27a2a3421692777190e4154fc8fc\">keratic</span> precipitates are suggestive of <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis. Patients with <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> with joint pain is suggestive of <span class=\"customMeta\" data-dictid=\"6f74c7bfe0169277718240005b59d1\">arthritis</span> associated with uveitis. The disease affects young males who are positive for HLA B27. Among patients with ankylosing spondylitis, 90% of them belong to the HLA-B27 <span class=\"customMeta\" data-dictid=\"331db7d96b16927771813cfafb0985\">antigenic</span> group.</li>\n</ul>\n\n<p><strong>Ankylosing <span class=\"customMeta\" data-dictid=\"42d4868c2e1692777199353a7ad077\">Spondylitis</span> (AS) / Marie Strumpell Disease</strong></p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p><strong>Definition</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p>Chronic <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> disease primarily affecting the <span class=\"customMeta\" data-dictid=\"01591f7f591692777182ef8aa2360c\">axial</span> <span class=\"customMeta\" data-dictid=\"70f596ae8f16927771983211d9e56f\">skeleton</span> (spine and <span class=\"customMeta\" data-dictid=\"1e5164b7d61692777198fcbb77e4ad\">sacroiliac</span> joints), leading to pain, stiffness, and <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> fusion<strong> (bamboo spine)</strong>.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Etiology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Unknown; genetic<strong> (HLA-B27</strong>) and environmental factors involved. HLA-B27 is positive in 90% of cases, but not all carriers develop AS.</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Pathophysiology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Inflammation at entheses \u2192 Erosive changes \u2192 New bone formation \u2192 Syndesmophytes \u2192 <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">Spinal</span> <span class=\"customMeta\" data-dictid=\"a7dfeb385e1692777203302bcf142d\">fusion</span> (ankylosis).</p>\n\n\t\t\t<div style=\"text-align:center\">\n\t\t\t<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"635\" src=\"https://image.prepladder.com/content/7IH1iTlsFKo7Cql1Py0j1746700076.png\" width=\"635\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Clinical Features</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Musculoskeletal Symptoms:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Chronic low back pain (worse after inactivity, better with activity)</li>\n\t\t\t\t<li>Limited <span class=\"customMeta\" data-dictid=\"d816ba952f1692777199fc69bd7c56\">spinal</span> mobility</li>\n\t\t\t\t<li>Enthesitis (Achilles, <span class=\"customMeta\" data-dictid=\"a7a430f3a9169277719510c13f434d\">plantar</span> fascia)</li>\n\t\t\t\t<li>Peripheral <span class=\"customMeta\" data-dictid=\"6f74c7bfe0169277718240005b59d1\">arthritis</span> (hips, shoulders, knees)</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>Extra-articular Symptoms:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Ocular:</strong> <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">Anterior</span> <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> (pain, redness, photophobia)</li>\n\t\t\t\t<li><strong>Cardiovascular:</strong> Aortic regurgitation, <span class=\"customMeta\" data-dictid=\"63bda90e3516927771848cbb473f04\">conduction</span> issues</li>\n\t\t\t\t<li><strong>Pulmonary: </strong>Apical fibrosis</li>\n\t\t\t\t<li><strong>Gastrointestinal:</strong> Associated with IBD</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p>Based on clinical features, <span class=\"customMeta\" data-dictid=\"fe3220767716927771892419444041\">imaging</span> studies, and HLA-B27 gene presence. <strong>Modified New York Criteria:</strong></p>\n\n\t\t\t<p><strong>Clinical Criteria:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Low back pain > 3 months (improves with exercise, not with rest)</li>\n\t\t\t\t<li>Limited <span class=\"customMeta\" data-dictid=\"683192f6b21692777191ae16feee76\">lumbar</span> spine motion (sagittal/frontal planes)</li>\n\t\t\t\t<li>Reduced chest expansion (relative to age/sex)</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>Radiographic Criteria (X-ray):</strong>\u00a0Bilateral <span class=\"customMeta\" data-dictid=\"d17a3a17bc16927771988d9f2533a8\">sacroiliitis</span> (grade 2-4) or <span class=\"customMeta\" data-dictid=\"92b4dd0d9516927772013f2e4296b7\">unilateral</span> <span class=\"customMeta\" data-dictid=\"d17a3a17bc16927771988d9f2533a8\">sacroiliitis</span> (grade 3-4)</p>\n\n\t\t\t<p><strong>Radiological Features:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Blurring/haziness of <span class=\"customMeta\" data-dictid=\"1e5164b7d61692777198fcbb77e4ad\">sacroiliac</span> joint</li>\n\t\t\t</ul>\n\n\t\t\t<div style=\"text-align:center\">\n\t\t\t<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Hyun Kyu Chang, Eun Hee Cho, Jeong Uk Kim, Hwan Herr\" data-hash=\"\" data-license=\"CC BY NC 3.0\" data-source=\"https://www.researchgate.net/figure/Plain-pelvis-radiograph-shows-the-obliteration-of-joint-space-in-both-sacroiliac-joints_fig3_12601898\" data-tags=\"\" height=\"414\" src=\"https://image.prepladder.com/content/Cut7rBJVLym6tQnljMmR1746700088.png\" width=\"739\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</div>\n\n\t\t\t<ul>\n\t\t\t\t<li>Juxta-articular sclerosis</li>\n\t\t\t\t<li>Vertical/bridging syndesmophytes</li>\n\t\t\t\t<li>Squaring of vertebrae</li>\n\t\t\t</ul>\n\n\t\t\t<div style=\"text-align:center\">\n\t\t\t<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Glitzy_queen00\" data-hash=\"\" data-license=\"OPEN ACCESS\" data-source=\"https://commons.wikimedia.org/wiki/File:Ankylosing_spondylitis_lumbar_spine.jpg\" data-tags=\"\" height=\"916\" src=\"https://image.prepladder.com/content/ws50joqXNmytMvBmoCqJ1746700101.png\" width=\"455\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</div>\n\n\t\t\t<ul>\n\t\t\t\t<li>Bamboo spine</li>\n\t\t\t\t<li>Trolley track sign</li>\n\t\t\t\t<li>Dagger sign</li>\n\t\t\t</ul>\n\n\t\t\t<div style=\"text-align:center\">\n\t\t\t<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Gaillard F, Feger J, Niknejad M, et al.\" data-hash=\"\" data-license=\"NA\" data-source=\"https://radiopaedia.org/articles/dagger-sign-spine\" data-tags=\"\" height=\"604\" src=\"https://image.prepladder.com/content/bwdRrUJ2AUDMsnR3kPwq1746700113.png\" width=\"454\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</div>\n\n\t\t\t<ul>\n\t\t\t\t<li><strong>Shiny corner sign/Romanus <span class=\"customMeta\" data-dictid=\"d5e7bb15851692777191b39417c26a\">lesion</span> </strong>(inflammatory lesions at edges of vertebrae)</li>\n\t\t\t</ul>\n\n\t\t\t<div style=\"text-align:center\">\n\t\t\t<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"https://radiopaedia.org/articles/shiny-corner-sign-ankylosing-spondylitis\" data-tags=\"\" height=\"995\" src=\"https://image.prepladder.com/content/f1amSlsvXENFVabvsKQm1746700123.png\" width=\"534\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</div>\n\n\t\t\t<p><strong>MRI:</strong> Early <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">detection</span> of inflammation</p>\n\n\t\t\t<p><strong>Clinical Tests:</strong></p>\n\n\t\t\t<p><strong>For Sacroiliitis:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Gaenslen\u2019s test</li>\n\t\t\t\t<li>Patrick/FABER test</li>\n\t\t\t\t<li>Figure of 4 test</li>\n\t\t\t\t<li>Pump handle test</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>For <span class=\"customMeta\" data-dictid=\"683192f6b21692777191ae16feee76\">Lumbar</span> Spine:</strong></p>\n\n\t\t\t<p><strong>Schober/ Modified Schober test</strong></p>\n\n\t\t\t<div style=\"text-align:center\">\n\t\t\t<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"NA\" data-hash=\"\" data-license=\"NA\" data-source=\"NA\" data-tags=\"\" height=\"607\" src=\"https://image.prepladder.com/content/DOinHMms6OyYH0sgSAhV1746700148.png\" width=\"607\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Laboratory Tests</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>HLA-B27 positive (90% of cases)</li>\n\t\t\t\t<li>ESR, CRP: Elevated during active disease, but can be normal</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Differential Diagnosis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Mechanical low back pain</li>\n\t\t\t\t<li>Other spondyloarthropathies (e.g., psoriatic arthritis)</li>\n\t\t\t\t<li>Degenerative disc disease</li>\n\t\t\t\t<li>Fibromyalgia</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Non-Pharmacological:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Physical therapy (mobility/posture exercises)</li>\n\t\t\t\t<li>Patient education on disease and exercise importance</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>Pharmacological:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>NSAIDs (first-line for pain, stiffness)</li>\n\t\t\t\t<li>TNF inhibitors (for NSAID-resistant cases)</li>\n\t\t\t\t<li>IL-17 inhibitors (Secukinumab)</li>\n\t\t\t\t<li>Sulfasalazine (for <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> arthritis)</li>\n\t\t\t\t<li>Corticosteroids (short-term <span class=\"customMeta\" data-dictid=\"68e7440bd91692777202d8a14c33e0\">flare</span> control)</li>\n\t\t\t</ul>\n\n\t\t\t<p><strong>Surgical:</strong></p>\n\n\t\t\t<ul>\n\t\t\t\t<li>Hip replacement (for severe hip involvement)</li>\n\t\t\t\t<li>Spinal surgery (for severe deformities/fractures)</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Complications</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Spinal fractures (minimal trauma)</li>\n\t\t\t\t<li>Cardiac issues (aortic regurgitation, <span class=\"customMeta\" data-dictid=\"63bda90e3516927771848cbb473f04\">conduction</span> defects)</li>\n\t\t\t\t<li>Osteoporosis leading to <span class=\"customMeta\" data-dictid=\"e3727bc4841692777203d62242b6e6\">fracture</span> risk</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>HLA B51 (Option B)</strong> It is associated with Behcet's syndrome with <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis. Behcet's syndrome is characterized by <span class=\"customMeta\" data-dictid=\"625feb7e3a1692777183aa9d923cfd\">bilateral</span> <span class=\"customMeta\" data-dictid=\"c64e3a661b1692777197afc2ff7bca\">recurrent</span> oral ulcers, <span class=\"customMeta\" data-dictid=\"0e919a208b16927771885d9c1f6662\">genital</span> ulcers, uveitis, and skin lesions.</p>\n\n<p><strong>HLA B47 (Option C) </strong>Is associated with <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> <span class=\"customMeta\" data-dictid=\"f955f012f716927771801d01e7d163\">adrenal</span> <span class=\"customMeta\" data-dictid=\"4c5d5ef6c31692777189820d4b320d\">hyperplasia</span> due to <span class=\"customMeta\" data-dictid=\"ffe4f1d5691692777188df930f801b\">21-hydroxylase</span> deficiency. It is characterized by symptoms like diarrhea, vomiting, arrhythmias, and low blood pressure.</p>\n\n<p><strong>HLA B57 (Option D)</strong> Is associated with the <span class=\"customMeta\" data-dictid=\"723fdec66b1692777186e92f0c6fdf\">detection</span> of abacavir <span class=\"customMeta\" data-dictid=\"2c7e1ce33316927771892ce1da8276\">hypersensitivity</span> and slow <span class=\"customMeta\" data-dictid=\"3c305b384216927771969ca4166493\">progression</span> of HIV.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/7IH1iTlsFKo7Cql1Py0j1746700076.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 25-year-old male patient with a penetrating injury to the left eye was treated with corneoscleral suturing. Two months later, he returned with complaints of reduced near vision, pain, redness, and sensitivity to light in his right eye. Direct ophthalmoscopy revealed nodules in the fundus. Which part of the eye is affected?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Uvea"
      },
      {
        "id": 2,
        "text": "Cornea"
      },
      {
        "id": 3,
        "text": "Conjunctiva"
      },
      {
        "id": 4,
        "text": "Sclera"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - Uvea</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The clinical presentation of <span class=\"customMeta\" data-dictid=\"55b31d659b16927771958a15837b10\">penetrating</span> injury to the left eye and subsequent <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> near vision, pain, redness, and <span class=\"customMeta\" data-dictid=\"46e2a1c298169277719583f46ff587\">photophobia</span> along with nodules on <span class=\"customMeta\" data-dictid=\"67492c42be16927772039f6e37110e\">fundus</span> i.e., Dalen-Fuchs nodules are suggestive of Sympathetic ophthalmitis.</li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:1px solid black; vertical-align:top\">\n\t\t\t<p style=\"text-align:center\"><strong>Sympathetic <span class=\"customMeta\" data-dictid=\"722c35f97c169277719457b4886144\">ophthalmitis</span> (SO)</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Definition</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Bilateral, granulomatous, <span class=\"customMeta\" data-dictid=\"4049e22a6b169277719429cb6c9514\">panuveitis</span> (Option A)</strong> occurring after <span class=\"customMeta\" data-dictid=\"55b31d659b16927771958a15837b10\">penetrating</span> trauma where <strong>uveal prolapse</strong> may have been a feature of the trauma</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Etiology and pathogenesis</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Trauma to one eye <strong>(exciting eye) </strong>\u2014 2 weeks to 3 months \u2014 <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">Uveitis</span> in the uninjured eye <strong>(sympathizing eye).</strong></li>\n\t\t\t\t<li><strong>T-cell mediated <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> <span class=\"customMeta\" data-dictid=\"2c7e1ce33316927771892ce1da8276\">hypersensitivity</span> reaction to <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">Retinal</span> S antigen. </strong></li>\n\t\t\t\t<li>Maximum risk upon injury to the <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> body.</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Histopathology</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>Diffuse lymphocytic <span class=\"customMeta\" data-dictid=\"669bdcb3111692777190e018ae930e\">infiltration</span> of the choroid.</li>\n\t\t\t\t<li>Scattered aggregates of <span class=\"customMeta\" data-dictid=\"ed5f81953d1692777187529a6de318\">epithelioid</span> cells are seen, many of which contain fine granules of melanin.</li>\n\t\t\t\t<li><strong>Dalen\u2013Fuchs nodules</strong> - granulomas located between Bruch <span class=\"customMeta\" data-dictid=\"34cd707428169277719272942b7905\">membrane</span> and the RPE (also seen in VKH syndrome)</li>\n\t\t\t</ul>\n\n\t\t\t<div style=\"text-align:center\">\n\t\t\t<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Xi K Chu,Chi-Chao Chan\" data-hash=\"\" data-license=\"CC BY 2.0\" data-source=\"https://www.researchgate.net/figure/Montage-fundus-photograph-of-a-sympathetic-ophthalmia-retina-Yellow-white-subretinal_fig1_237001131\" data-tags=\"\" height=\"443\" src=\"https://image.prepladder.com/content/KNYQosAoeuh8yjb9Cuvs1747042589.png\" width=\"507\" />\n\t\t\t<figcaption>{{caption_text}}</figcaption>\n\t\t\t</figure>\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Clinical features</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li>The <span class=\"customMeta\" data-dictid=\"da55d37dc51692777187ee41eeebc5\">exciting eye</span> is frequently red and irritable.</li>\n\t\t\t\t<li>The <span class=\"customMeta\" data-dictid=\"659d09e49516927771995a19c72a5f\">sympathizing eye</span> develops irritation, blurred vision, <span class=\"customMeta\" data-dictid=\"46e2a1c298169277719583f46ff587\">photophobia</span> and loss of <span class=\"customMeta\" data-dictid=\"c0682eacfc1692777180ad2c556c19\">accommodation</span> causing difficulty in near vision <strong>(first symptom)</strong></li>\n\t\t\t\t<li>Anterior <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> develops in both eyes, which may be mild or severe and is usually granulomatous</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Investigations</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Fundus exam: </strong>Dalen\u2013Fuchs nodules, Exudative <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">retinal</span> detachment, <span class=\"customMeta\" data-dictid=\"fcb3e0d7911692777201ffb9695dea\">vasculitis</span> and <span class=\"customMeta\" data-dictid=\"1b9a354cdb1692777194802683234d\">optic</span> disc swelling.</li>\n\t\t\t\t<li>As <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> settles, <span class=\"customMeta\" data-dictid=\"a459f313d9169277719789fdfb7ada\">residual</span> <span class=\"customMeta\" data-dictid=\"3e48c7feaa169277718485430831dd\">chorioretinal</span> <span class=\"customMeta\" data-dictid=\"e9dcc3d4241692777198c7030bf313\">scarring</span> may confer a <strong>\u2018sunset glow\u2019 appearance</strong> similar to VKH.</li>\n\t\t\t\t<li><strong>B-scan ultrasonography</strong>: Choroidal thickening and <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">retinal</span> detachment</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<p><strong>Treatment</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid black; border-left:none; border-right:1px solid black; border-top:none; vertical-align:top\">\n\t\t\t<ul>\n\t\t\t\t<li><strong>Enucleation of a severely injured eye</strong> within 10 to 14 days of the injury is effective in preventing or reducing the severity of SO</li>\n\t\t\t\t<li><strong>Steroids</strong> are the basis of initial treatment. <strong>Intravenous</strong> <span class=\"customMeta\" data-dictid=\"c3adf9f403169277719294351e8fb8\">methylprednisolone</span> followed by high-dose <strong>oral</strong> <span class=\"customMeta\" data-dictid=\"2d5e8899351692777196bdf7ced01d\">prednisolone</span> is given for several months and gradually tapered according to response. Supplementary <strong>topical</strong> steroids and cycloplegics may be given</li>\n\t\t\t</ul>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p><strong>Options B, C, and D</strong> are incorrect.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/KNYQosAoeuh8yjb9Cuvs1747042589.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which medication can be administered to a patient diagnosed with acute anterior uveitis, presenting with symptoms of photophobia and blurred vision?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Moxifloxacin"
      },
      {
        "id": 2,
        "text": "Atropine"
      },
      {
        "id": 3,
        "text": "Acetazolamide"
      },
      {
        "id": 4,
        "text": "Methotrexate"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - Atropine</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Treatment for Anterior Uveitis: </strong></p>\n\n<ul>\n\t<li><strong>Topical Steroids</strong> (<strong>Treatment of Choice</strong>):\n\n\t<ul>\n\t\t<li><strong>Prednisolone</strong>: Commonly used for reducing inflammation.</li>\n\t\t<li><strong>Loteprednol</strong>: Less potential for increasing <span class=\"customMeta\" data-dictid=\"1ba26fe8171692777190a867ec47c7\">intraocular</span> pressure.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Cycloplegics</strong> (Topical):\n\t<ul>\n\t\t<li>Rest the <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> muscles to relieve pain.</li>\n\t\t<li>Prevent and break <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> synechiae (adhesions of the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> to the lens).</li>\n\t\t<li>Improve blood supply, leading to better healing.</li>\n\t\t<li>Eg.:<strong>Atropine</strong>.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Non-Steroidal Treatment</strong>:\n\t<ul>\n\t\t<li>Voclosporin: Part of the Luminate program, used as a non-steroidal option.</li>\n\t</ul>\n\t</li>\n\t<li><strong>For Chronic or Vision-Threatening Uveitis</strong>:\n\t<ul>\n\t\t<li><strong>Monoclonal Antibodies</strong>:\n\t\t<ul>\n\t\t\t<li><strong>Adalimumab</strong>: TNF-alpha inhibitor, used for severe or chronic cases.</li>\n\t\t\t<li><strong>Infliximab</strong>: TNF-alpha inhibitor.</li>\n\t\t</ul>\n\t\t</li>\n\t\t<li><strong>Interferon Alpha</strong>: An option for severe cases, helps modulate the immune response.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Moxifloxacin (Option A)</strong> is an <span class=\"customMeta\" data-dictid=\"ff6b4f4d491692777181a02bad075e\">antibiotic</span> commonly used to treat bacterial infections.</p>\n\n<p><strong>Acetazolamide (Option C)</strong> is a medication primarily used to treat <span class=\"customMeta\" data-dictid=\"61e49875801692777188ad5edea804\">glaucoma</span> by reducing the production of <span class=\"customMeta\" data-dictid=\"0f0067663b16927771818fe253b3b9\">aqueous</span> humor and <span class=\"customMeta\" data-dictid=\"ff02aa40d51692777191246d4a9b87\">lowering</span> <span class=\"customMeta\" data-dictid=\"1ba26fe8171692777190a867ec47c7\">intraocular</span> pressure.</p>\n\n<p><strong>Methotrexate (Option D)</strong> is an <span class=\"customMeta\" data-dictid=\"c3c986cd721692777189b473814b2e\">immunosuppressive</span> medication commonly used in the treatment of various <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> and <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> conditions. It may be prescribed for severe or chronic cases of <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> that do not respond to other treatments.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the specific sign that is pathognomonic for acute anterior uveitis among the options provided?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Aqueous flare"
      },
      {
        "id": 2,
        "text": "Keratic precipitates"
      },
      {
        "id": 3,
        "text": "Festooned pupil"
      },
      {
        "id": 4,
        "text": "Bussaca\u2019s nodules"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B - Keratic precipitates</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p><strong>Anterior Uveitis:</strong></p>\n\n<p><strong>Definition</strong>: Most common type of <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> affecting the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> segment of the eye.</p>\n\n<p><strong>Clinical Features</strong>:</p>\n\n<ul>\n\t<li>Pain</li>\n\t<li>Redness</li>\n\t<li>Photophobia (sensitivity to light)</li>\n\t<li>Blepharospasm (involuntary blinking)</li>\n\t<li>Serous discharge</li>\n\t<li>Blurring and diminished vision</li>\n</ul>\n\n<p><strong>Examination Findings</strong>:</p>\n\n<ul>\n\t<li><strong>Keratic Precipitates (KPs) (Option B)</strong>:\n\n\t<ul>\n\t\t<li><strong>Non-Granulomatous</strong>: Fine, grey deposits; composed of lymphocytes</li>\n\t\t<li><strong>Granulomatous</strong>: Large, greasy-looking deposits known as \"mutton fat KPs\"; composed of macrophages</li>\n\t\t<li><strong>Location</strong>: Typically found in the lower <span class=\"customMeta\" data-dictid=\"4cc4d657841692777185555e1b982d\">cornea</span> due to <span class=\"customMeta\" data-dictid=\"bcc158b74216927771854e19624e73\">convection</span> currents in <span class=\"customMeta\" data-dictid=\"0f0067663b16927771818fe253b3b9\">aqueous</span> humor; this area is known as Arlt's triangle</li>\n\t</ul>\n\t</li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Jonathan Trobe\" data-hash=\"\" data-license=\"CC BY 3.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Keratic-precipitates.jpg\" data-tags=\"\" height=\"273\" src=\"https://image.prepladder.com/content/VArPK7YmFWI3zxwoca6r1747043395.png\" width=\"349\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<ul>\n\t<li><strong>Aqueous Cells</strong>:\n\n\t<ul>\n\t\t<li>Indicator of active inflammation</li>\n\t</ul>\n\t</li>\n\t<li><strong>Aqueous Flare</strong>:\n\t<ul>\n\t\t<li>Haziness in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber due to leakage of proteins from inflamed tissues</li>\n\t</ul>\n\t</li>\n\t<li><strong>Muddy Iris</strong>:\n\t<ul>\n\t\t<li>Edema in the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> caused by protein leakage</li>\n\t</ul>\n\t</li>\n\t<li><strong>Miosis</strong>:\n\t<ul>\n\t\t<li>Constricted <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> due to toxins released from inflamed tissue</li>\n\t</ul>\n\t</li>\n\t<li><strong>Nodules on the Iris</strong>:\n\t<ul>\n\t\t<li><strong>Koeppe's Nodules</strong>: At the pupillary border; seen in both <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> and non-granulomatous uveitis</li>\n\t\t<li><strong>Busacca Nodules</strong>: At the<strong> b</strong>ase of the iris; seen in <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> uveitis</li>\n\t</ul>\n\t</li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Kalpana Babu\" data-hash=\"\" data-license=\"CC BY 2.0\" data-source=\"https://www.researchgate.net/figure/Slit-lamp-photograph-showing-the-granulomatous-anterior-uveitis-with-large-Koeppe-nodules_fig3_257883191\" data-tags=\"\" height=\"410\" src=\"https://image.prepladder.com/content/fu7uwRRvPjeVG4yAkr0s1747043408.png\" width=\"541\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p><strong>Complications</strong>: <strong>(Findings)</strong></p>\n\n<ul>\n\t<li><strong>Posterior Synechiae</strong>: <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">Iris</span> adheres to the lens; may lead to festooned-shaped pupil</li>\n</ul>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"By Manimury at English Wikipedia\" data-hash=\"\" data-license=\"Open access\" data-source=\"https://en.wikipedia.org/w/index.php?curid=33130004\" data-tags=\"\" height=\"503\" src=\"https://image.prepladder.com/content/IGcbx0qg8izTmzbda5ih1747043425.png\" width=\"534\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<ul>\n\t<li><strong>Secclusio Pupil/Ring Synechiae</strong>: Adhesion along the entire pupillary border; can lead to <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">Iris</span> Bombe and <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> synechiae, causing angle <span class=\"customMeta\" data-dictid=\"2b4569285f1692777184282b1ca3f1\">closure</span> glaucoma</li>\n\t<li><strong>Occlusio Pupil</strong>: Covers the whole surface of the lens</li>\n\t<li><strong>Cyclitic Membrane</strong></li>\n\t<li><strong>Rubeosis Iridis</strong>: New vessel formation on the iris</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Aqueous <span class=\"customMeta\" data-dictid=\"68e7440bd91692777202d8a14c33e0\">flare</span> (Option A)</strong> refers to the presence of protein and <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> cells in the <span class=\"customMeta\" data-dictid=\"0f0067663b16927771818fe253b3b9\">aqueous</span> humor, which may be seen in <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis.</p>\n\n<p><strong>Festooned <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> (Option C)</strong> is a characteristic feature of <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> synechiae in chronic uveitis.</p>\n\n<p><strong>Bussaca\u2019s nodules (Option D)</strong> are larger, <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> nodules that are seen in conditions like chronic <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis, especially in <span class=\"customMeta\" data-dictid=\"1bea5cbf1d16927771988b19241f4c\">sarcoidosis</span> or tuberculosis.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/VArPK7YmFWI3zxwoca6r1747043395.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>An elderly female presents with sudden onset of pain, redness, and decreased vision. On examination, hazy cornea, fixed mid-dilated pupil, and shallow anterior chamber are noted. What is the diagnosis?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Acute uveitis"
      },
      {
        "id": 2,
        "text": "Acute conjunctivitis"
      },
      {
        "id": 3,
        "text": "Acute congestive glaucoma"
      },
      {
        "id": 4,
        "text": "Central retinal artery occlusion"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">Acute</span> uveitis</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The presence of <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> pain, redness, decreased vision, and corneal haze can be seen in both <strong>acute uveitis</strong> and <strong>acute angle-closure glaucoma</strong>, but here the combination of <strong>inflammation signs</strong> (ciliary congestion, corneal edema) and <strong>pupil changes</strong> points toward <strong>acute uveitis</strong> as the answer given.</li>\n\t<li>In uveitis, <strong>cells and <span class=\"customMeta\" data-dictid=\"68e7440bd91692777202d8a14c33e0\">flare</span> in <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber</strong> cause corneal haze, and <strong>pupil is <span class=\"customMeta\" data-dictid=\"863f5457381692777190f05632a8b2\">irregular</span> or sluggishly reactive</strong> due to <span class=\"customMeta\" data-dictid=\"a5c6cb079d16927771967e62ffee72\">posterior</span> synechiae; early on it may appear mid-dilated.</li>\n\t<li>The shallow <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber here may be due to <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> body <span class=\"customMeta\" data-dictid=\"e3d212ebd316927771996e0c472d4a\">swelling</span> pushing the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> forward in <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">acute</span> inflammation.</li>\n</ul>\n\n<p><strong>Key features of <span class=\"customMeta\" data-dictid=\"4cdc8161f71692777180df58cafa93\">Acute</span> Uveitis:</strong></p>\n\n<ol>\n\t<li>Pain, photophobia, redness (ciliary flush).</li>\n\t<li>Decreased vision due to corneal <span class=\"customMeta\" data-dictid=\"18b452e75916927771864c9ad533e1\">edema</span> and <span class=\"customMeta\" data-dictid=\"0f0067663b16927771818fe253b3b9\">aqueous</span> flare.</li>\n\t<li>Irregular or sluggish <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> (posterior synechiae).</li>\n\t<li>May cause shallow <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber due to <span class=\"customMeta\" data-dictid=\"1be9f55b2d1692777184b9d813b17e\">ciliary</span> body congestion.</li>\n</ol>\n\n<p><strong>Anterior Uveitis</strong></p>\n\n<p><strong>Definition</strong>: Most common type of <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> affecting the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> segment of the eye.</p>\n\n<p><strong>Clinical Features</strong>:</p>\n\n<ul>\n\t<li>Pain</li>\n\t<li>Redness</li>\n\t<li>Photophobia (sensitivity to light)</li>\n\t<li>Blepharospasm (involuntary blinking)</li>\n\t<li>Serous discharge</li>\n\t<li>Blurring and diminished vision</li>\n</ul>\n\n<p><strong>Examination Findings</strong>:</p>\n\n<ul>\n\t<li><strong>Keratic Precipitates (KPs)</strong>:\n\n\t<ul>\n\t\t<li><strong>Non-Granulomatous</strong>: Fine, grey deposits; composed of lymphocytes</li>\n\t\t<li><strong>Granulomatous</strong>: Large, greasy-looking deposits known as \"mutton fat KPs\"; composed of macrophages</li>\n\t\t<li><strong>Location</strong>: Typically found in the lower <span class=\"customMeta\" data-dictid=\"4cc4d657841692777185555e1b982d\">cornea</span> due to <span class=\"customMeta\" data-dictid=\"bcc158b74216927771854e19624e73\">convection</span> currents in <span class=\"customMeta\" data-dictid=\"0f0067663b16927771818fe253b3b9\">aqueous</span> humor; this area is known as Arlt's triangle</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"360\" src=\"https://image.prepladder.com/content/xHkWNWwnlG4LbXXYfaMS1755858173.png\" width=\"500\" /></p>\n\n<ul>\n\t<li><strong>Aqueous Cells</strong>:\n\n\t<ul>\n\t\t<li>Indicator of active inflammation</li>\n\t</ul>\n\t</li>\n\t<li><strong>Aqueous Flare</strong>:\n\t<ul>\n\t\t<li>Haziness in the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber due to leakage of proteins from inflamed tissues</li>\n\t</ul>\n\t</li>\n\t<li><strong>Muddy Iris</strong>:\n\t<ul>\n\t\t<li>Edema in the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> caused by protein leakage</li>\n\t</ul>\n\t</li>\n\t<li><strong>Miosis</strong>:\n\t<ul>\n\t\t<li>Constricted <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> due to toxins released from inflamed tissue</li>\n\t</ul>\n\t</li>\n\t<li><strong>Nodules on the Iris</strong>:\n\t<ul>\n\t\t<li><strong>Koeppe's Nodules</strong>: At the pupillary border; seen in both <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> and non-granulomatous uveitis</li>\n\t\t<li><strong>Busacca Nodules</strong>: At the<strong> b</strong>ase of the iris; seen in <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> uveitis</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"270\" src=\"https://image.prepladder.com/content/lyT0Tisn5FRDSiWtBUYb1755858181.png\" width=\"500\" /></p>\n\n<p><strong>Complications</strong>: <strong>(Findings)</strong></p>\n\n<ul>\n\t<li><strong>Posterior Synechiae</strong>: <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">Iris</span> adheres to the lens; may lead to festooned-shaped pupil</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"324\" src=\"https://image.prepladder.com/content/79XEOcQO3a8jhwjkDauy1755858187.png\" width=\"500\" /></p>\n\n<ul>\n\t<li><strong>Secclusio Pupil/Ring Synechiae</strong>: Adhesion along the entire pupillary border; can lead to <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">Iris</span> Bombe and <span class=\"customMeta\" data-dictid=\"255674f3271692777195c172d86daf\">peripheral</span> <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> synechiae, causing angle <span class=\"customMeta\" data-dictid=\"2b4569285f1692777184282b1ca3f1\">closure</span> glaucoma</li>\n\t<li><strong>Occlusio Pupil</strong>: Covers the whole surface of the lens</li>\n\t<li><strong>Cyclitic Membrane</strong></li>\n\t<li><strong>Rubeosis Iridis</strong>: New vessel formation on the iris</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<ul>\n\t<li><strong>Acute <span class=\"customMeta\" data-dictid=\"6ce77d5f5e1692777185cf7f8a67cd\">conjunctivitis</span> (Option B):</strong> Presents with <span class=\"customMeta\" data-dictid=\"89275101301692777186567d1912a0\">diffuse</span> redness, <span class=\"customMeta\" data-dictid=\"66d0cfdc741692777193d2b4fe3249\">mucopurulent</span> or watery discharge; vision usually normal, <span class=\"customMeta\" data-dictid=\"4cc4d657841692777185555e1b982d\">cornea</span> clear, <span class=\"customMeta\" data-dictid=\"e419fd4e241692777196d038d1b71a\">pupil</span> reactive, <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber normal depth.</li>\n\t<li><strong>Acute <span class=\"customMeta\" data-dictid=\"ba721aa6a6169277718506de6a226c\">congestive glaucoma</span> (Option C):</strong> Sudden severe pain, markedly decreased vision, halos around lights, <em>very high IOP</em>, fixed mid-dilated pupil, shallow <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber - however, it is typically more painful, with headache/nausea, and the hallmark is IOP >40 mmHg with rock-hard globe.</li>\n\t<li><strong>Central <span class=\"customMeta\" data-dictid=\"fb7a2c30e416927771972f7df6f8c0\">retinal</span> <span class=\"customMeta\" data-dictid=\"a66cd3adaa1692777182e77cb23021\">artery</span> <span class=\"customMeta\" data-dictid=\"896c5469811692777194e64e7ccef7\">occlusion</span> (Option D):</strong> Sudden painless <span class=\"customMeta\" data-dictid=\"59d648a80c1692777192628f5db3c3\">monocular</span> vision loss; examination shows pale <span class=\"customMeta\" data-dictid=\"f17d8978bd1692777197621051012f\">retina</span> with cherry-red spot, no corneal haze, no <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber shallowing.</li>\n</ul>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/xHkWNWwnlG4LbXXYfaMS1755858173.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>On ophthalmologic examination, the presence of <span class=\"marker\">Koeppe's nodules </span>is observed in a patient diagnosed with <span class=\"marker\">sarcoidosis.</span> In which area of the eye are these nodules typically observed?</p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Cornea"
      },
      {
        "id": 2,
        "text": "Conjunctiva"
      },
      {
        "id": 3,
        "text": "Iris"
      },
      {
        "id": 4,
        "text": "Retina"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct Option C:\u00a0Iris</strong></p>\n\n<ul>\n\t<li>Koeppe's nodules are small, yellow-white nodules that appear on the surface of the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> observed in <span class=\"customMeta\" data-dictid=\"9e1f97f6ad169277718805c2dd35c1\">granulomatous</span> <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">uveitis</span> like sarcoidosis, tuberculosis, Vogt-Kanayagi-Harada\u2019s disease, and <span class=\"customMeta\" data-dictid=\"5731c5431416927771999e54e2563b\">sympathetic</span> <span class=\"customMeta\" data-dictid=\"722c35f97c169277719457b4886144\">ophthalmitis</span> .\u00a0</li>\n\t<li>They are typically located at the pupillary margin, which is the border between the <span class=\"customMeta\" data-dictid=\"6e53fc929616927771900fbab3617f\">iris</span> and the pupil.\u00a0</li>\n\t<li>These nodules are composed of collections of <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> cells.</li>\n</ul>\n\n<p><img src=\"https://image.prepladder.com/content/G4TceNfshIAlb4qAr1qR1714051194.png\" style=\"height:274px; width:450px\" /></p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<ul>\n\t<li>Options A, B, and D are incorrect. Koeppe\u2019s nodules are present at the pupillary margin of the iris.</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/G4TceNfshIAlb4qAr1qR1714051194.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which eye condition is commonly associated with <span class=\"marker\">sarcoidosis</span>?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Cataract"
      },
      {
        "id": 2,
        "text": "Ectopia lentis"
      },
      {
        "id": 3,
        "text": "Anterior uveitis"
      },
      {
        "id": 4,
        "text": "Glaucoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct option: C</strong></p>\n\n<ul>\n\t<li>Sarcoidosis is a <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"9d21dd5d3116927771907405b181bc\">inflammatory</span> disease that can affect multiple organs, including the eyes. <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">Anterior</span> uveitis, characterized by <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> of the <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> chamber of the eye, is a common <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> manifestation of sarcoidosis.</li>\n\t<li>Other <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">Ocular</span> Features of Sarcoidosis.\n\t<ul>\n\t\t<li>Sarcoid nodules on the <span class=\"customMeta\" data-dictid=\"3e4400809d16927771983252fc08b1\">sclera</span> or episclera</li>\n\t\t<li>Interstitial keratitis</li>\n\t\t<li>Band-shaped <span class=\"customMeta\" data-dictid=\"05446ed9961692777190f3aa32fb8f\">keratopathy</span> because of hypercalcemia.</li>\n\t\t<li>Candle <span class=\"customMeta\" data-dictid=\"9eae373ada1692777202074bbc0222\">wax</span> dripping: <span class=\"customMeta\" data-dictid=\"6c572343621692777198867cf8d853\">Segmental</span> or <span class=\"customMeta\" data-dictid=\"bfa856c77716927771939978c5afd0\">nodular</span> periphlebitis.</li>\n\t\t<li>Lander's sign: Pre-retinal nodules.</li>\n\t\t<li>Heerfordt syndrome: <span class=\"customMeta\" data-dictid=\"1bea5cbf1d16927771988b19241f4c\">Sarcoidosis</span> with uveo-parotitis.</li>\n\t\t<li>Lofgren syndrome: <span class=\"customMeta\" data-dictid=\"1bea5cbf1d16927771988b19241f4c\">Sarcoidosis</span> with <span class=\"customMeta\" data-dictid=\"1ba6a9cfe11692777181950edd7a6d\">anterior</span> uveitis, <span class=\"customMeta\" data-dictid=\"625feb7e3a1692777183aa9d923cfd\">bilateral</span> hilar lymphadenopathy, <span class=\"customMeta\" data-dictid=\"f0f3e105661692777187df507b1f26\">erythema</span> nodosum.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options: </strong></p>\n\n<ul>\n\t<li>Options A, B, and D are incorrect. These <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> features are not associated with sarcoidosis.</li>\n</ul>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which of the following is not an ocular manifestation of dengue?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Cataract"
      },
      {
        "id": 2,
        "text": "Subconjunctival hemorrhage"
      },
      {
        "id": 3,
        "text": "Uveitis"
      },
      {
        "id": 4,
        "text": "Retinal hemorrhage"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - Cataract:\u00a0</strong></p>\n\n<ul>\n\t<li>\"Cataract\" is not an <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> manifestation typically associated with <span class=\"customMeta\" data-dictid=\"75dc439beb16927771857bde5104df\">dengue</span> fever.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options</strong>:</p>\n\n<p><strong>Option\u00a0B -\u00a0Subconjunctival hemorrhage: </strong>Subconjunctival <span class=\"customMeta\" data-dictid=\"4642acfc0c16927771880b34fa5174\">hemorrhage</span> is a common <span class=\"customMeta\" data-dictid=\"7b1f175723169277719459db16938e\">ocular</span> manifestation seen in <span class=\"customMeta\" data-dictid=\"75dc439beb16927771857bde5104df\">dengue</span> fever. It is characterized by the presence of bright red patches or spots on the white part of the eye (conjunctiva).</p>\n\n<p><strong>Option\u00a0C -\u00a0Uveitis: </strong>Uveitis, which refers to <span class=\"customMeta\" data-dictid=\"e747a47db616927771908bff4b8931\">inflammation</span> of the uvea, the middle layer of the eye, can occur in <span class=\"customMeta\" data-dictid=\"75dc439beb16927771857bde5104df\">dengue</span> fever. <span class=\"customMeta\" data-dictid=\"b07d6fd6ef1692777201015472cd79\">Uveitis</span> can present with symptoms such as eye pain, redness, sensitivity to light, and blurred vision.</p>\n\n<p><strong>Option\u00a0D -\u00a0Retinal hemorrhage: </strong>Retinal <span class=\"customMeta\" data-dictid=\"4642acfc0c16927771880b34fa5174\">hemorrhage</span> can occur in <span class=\"customMeta\" data-dictid=\"75dc439beb16927771857bde5104df\">dengue</span> fever, particularly in severe cases or in the presence of associated complications like <span class=\"customMeta\" data-dictid=\"75dc439beb16927771857bde5104df\">dengue</span> hemorrhagic fever (DHF) or <span class=\"customMeta\" data-dictid=\"75dc439beb16927771857bde5104df\">dengue</span> shock syndrome (DSS).</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '14 Previous Year Questions';
        const quizFilename = '14-previous-year-questions-db03e07d.html';
        let hierarchy = ["PrepLadder", "qBank", "Ophthalmology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>