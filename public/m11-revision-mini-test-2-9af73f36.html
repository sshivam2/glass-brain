<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M11 - Revision Mini Test - 2 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2017-18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A preterm neonate admitted to NICU who received supplemental oxygen is being screened for retinopathy of prematurity. Fundus examination reveals a subtotal retinal detachment. How will you stage the disease?",
    "choices": [
      {
        "id": 1,
        "text": "Stage 2"
      },
      {
        "id": 2,
        "text": "Stage 3"
      },
      {
        "id": 3,
        "text": "Stage 4"
      },
      {
        "id": 4,
        "text": "Stage 5"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Subtotal retinal detachment is considered to be <strong>stage 4</strong> of<strong> retinopathy</strong> of<strong> prematurity</strong> (ROP).\u00a0</p>\n<p>The clinical staging of ROP is as follows:</p>\n<ul>\n<li>Stage 1 - Formation of a demarcation line at the edge of vessels, dividing the vascular from the avascular retina.</li>\n<li>Stage 2- Formation of an intraretinal ridge\u00a0</li>\n<li>Stage 3- Ridge with extraretinal fibrovascular proliferation into the vitreous</li>\n<li><strong>Stage 4</strong>-<strong> Subtotal retinal detachment</strong></li>\n<li>Stage 5- Total retinal detachment</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2e8cf7727c9b445f9d284ce7b5abbc6ax510x2089.GIF"
    ]
  },
  {
    "text": "An 8-year-old child from a rural slum area is brought to your OPD with deformity as shown in the image. Which of the following conditions is characteristically associated with this deformity?",
    "choices": [
      {
        "id": 1,
        "text": "Scurvy"
      },
      {
        "id": 2,
        "text": "Rickets"
      },
      {
        "id": 3,
        "text": "Achondroplasia"
      },
      {
        "id": 4,
        "text": "Rheumatoid arthritis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Windswept deformity</strong> (combination of valgus deformity of one leg with varus deformity of the other leg) is seen in<strong> rickets</strong>. It is also seen in <strong>rheumatoid arthritis</strong> but characteristically seen in rickets.</p>\n<p>Other&nbsp;<strong>deformities of extremities</strong>&nbsp;seen in rickets:</p>\n<ul>\n<li>Enlargement of wrists and ankles</li>\n<li>Valgus or varus deformities of limbs</li>\n<li>Anterior bowing of the tibia and femur</li>\n<li>Coxa vara</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7698acfb2b874520a2500a30344db87b.GIF"
    ],
    "explanation_images": []
  },
  {
    "text": "A 25-year-old male with Marfanoid features presented with sudden onset breathlessness. The chest X-ray is given below. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Pneumothorax"
      },
      {
        "id": 2,
        "text": "Pleural effusion"
      },
      {
        "id": 3,
        "text": "Consolidation"
      },
      {
        "id": 4,
        "text": "Fibrosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The chest X-ray demonstrating <strong>tracheal deviation</strong> and<strong> displacement\u00a0</strong>of the <strong>heart</strong> away from the affected side along with the partial collapse of the left lung in the above condition points to a diagnosis of<strong> left-sided pneumothorax</strong>.\u00a0</p>\n<p><strong>Marfan's syndrome</strong> is one of the causes for seconday spontaneous pneumothorax in adults.\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/cea5bf53bb95469c8fbb2f9abe7d4dbb.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8ee5055876e24b769bd3024f9a6eeba5x720x663.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9502666a59f747688d61e9ca1a5f4379x1224x1200.JPEG"
    ]
  },
  {
    "text": "A patient presents to the clinic for a change of her presbyopic glasses. This is the third time that she is coming in 2 months. What is the likely underlying diagnosis in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Senile cataract"
      },
      {
        "id": 2,
        "text": "Retinal detachment"
      },
      {
        "id": 3,
        "text": "Intumescent cataract"
      },
      {
        "id": 4,
        "text": "Open-angle glaucoma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Frequent changes</strong> in <strong>presbyopic glasses </strong>in this patient is a symptom of<strong>\u00a0open-angle glaucoma</strong> (OAG).</p>\n<p>This is due to increasing accommodative failure as a result of constant pressure on the ciliary muscle and nerve supply.</p>\n<p>In intumescent cataracts, patients report difficulty with distance vision and frequent change of spectacle prescription. However, it is not associated with frequent changes of presbyopic glasses.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A man is convicted for the offense of rape. Which section of the BNS lays down punishment for the same?",
    "choices": [
      {
        "id": 1,
        "text": "Section 63 (IPC 375)"
      },
      {
        "id": 2,
        "text": "Section 64 (IPC 376)"
      },
      {
        "id": 3,
        "text": "Section 72 (IPC 228A)"
      },
      {
        "id": 4,
        "text": "Section 75 (IPC 354A)"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Section 64 of the BNS </strong>(IPC 376) lays down the <strong>punishment</strong> for the offense of <strong>rape</strong>.\u00a0\u00a0</p>\n<p>Section 64 (1) of the BNS outlines the punishment for rape and section 64 (2) outlines the punishment for rape in custody/rape by a person in a position of authority or trust.</p>\n<p><strong>Section 63</strong> of the BNS (IPC 375) outlines the <strong>definition of rape</strong>.</p>\n<p><strong>Section 72</strong> of the BNS (IPC 228A) deals with the <strong>disclosure of a rape victim's identity</strong>.</p>\n<p><strong>Section 75</strong> of the BNS (IPC 354A) deals with <strong>sexual harassment</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the causative organism of angular conjunctivitis?",
    "choices": [
      {
        "id": 1,
        "text": "Moraxella lacunata"
      },
      {
        "id": 2,
        "text": "Haemophilus influenzae"
      },
      {
        "id": 3,
        "text": "Adeno virus type 32"
      },
      {
        "id": 4,
        "text": "Coxackie B virus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><em><strong>Moraxella</strong></em> species, a type of\u00a0<strong>gram-negative diplobacilli,</strong>\u00a0are involved in causing <strong>angular conjunctivitis</strong>\u00a0which is a type of <strong>chronic</strong> conjunctivitis.</p>\n<p><strong>Angular conjunctivitis</strong>\u00a0is a\u00a0<strong>chronic</strong>\u00a0type of <strong>conjunctivitis</strong> where there is inflammation of the conjunctiva at the <strong>lid margins</strong> and the\u00a0<strong>inner and outer canthi</strong> of the eyes with red, scaly, excoriated,<strong> macerated</strong>\u00a0and <strong>fissured skin\u00a0</strong>at the canthi. This is because of the <strong>proteolytic enzymes</strong> secreted by the <em>Moraxella</em> species.</p>\n<p>Patients with angular conjunctivitis usually experience\u00a0<strong>eye irritation</strong>, a burning sensation and collection of<strong> dirty-white, foamy</strong> <strong>discharge</strong> at the <strong>angles</strong>. These patients can also have associated blepharitis and papillary and follicular conjunctivitis.</p>\n<p>Causative organisms are <em>Moraxella lacunata, </em><em>Moraxella axenfeld </em>and <em>Staphylococcus aureus </em>(Rare cause). The\u00a0<strong>source</strong>\u00a0of infection is typically the<strong>\u00a0nasal tract</strong>\u00a0or the nasal discharge of patients with angular conjunctivitis. The infection spreads from the nasal cavity to the eyes through\u00a0contaminated<strong> hands or handkerchiefs. </strong><strong>Treatment i</strong>ncludes<strong> oxytetracycline 1%\u00a0</strong>ointment for 10 to 14 days, and<strong>\u00a0zinc oxide </strong>as it <strong>inhibits proteolytic enzymes.</strong></p>\n<p>The image given below shows the eye of a patient infected with\u00a0angular conjunctivitis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ff93d73f9d5844e2b56274a372b73c0fx720x434.JPEG"
    ]
  },
  {
    "text": "Why is the TCA cycle called as an amphibolic pathway?",
    "choices": [
      {
        "id": 1,
        "text": "Both oxidative and synthetic reactions take place"
      },
      {
        "id": 2,
        "text": "Metabolites are utilized in other pathways"
      },
      {
        "id": 3,
        "text": "It can proceed both in forward and backward direction"
      },
      {
        "id": 4,
        "text": "Same enzymes can be used in reverse direction"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the <strong>TCA cycle</strong>, both <strong>oxidative</strong> and <strong>synthetic</strong> reactions take place.</p>\n<p>The TCA cycle is not only a pathway for oxidation but also that of interconversion of metabolites arising from the transamination and deamination of amino acids. It provides the substrates for amino acid synthesis by transamination as well as for gluconeogenesis and fatty acid synthesis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In a patient with critical limb ischemia, what is the ankle-brachial pressure index (ABPI) likely to be?",
    "choices": [
      {
        "id": 1,
        "text": "< 0.1"
      },
      {
        "id": 2,
        "text": "< 0.4"
      },
      {
        "id": 3,
        "text": "< 0.5"
      },
      {
        "id": 4,
        "text": "< 0.9"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In a patient with critical limb ischemia, the ABPI is&nbsp;<strong>&lt; 0.4.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Non-oliguric renal failure may be seen in patients with which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "2, 3, and 5"
      },
      {
        "id": 2,
        "text": "2 and 3"
      },
      {
        "id": 3,
        "text": "1, 3, and 5"
      },
      {
        "id": 4,
        "text": "2, 4, and 5"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Non-oliguric</strong> renal failure may be seen in the following conditions:</p>\n<ul>\n<li><strong>Acute interstitial nephritis</strong></li>\n<li>Acute tubular necrosis (<strong>aminoglycoside</strong> <strong>toxicity</strong>, <strong>contrast-induced</strong> <strong>nephropathy</strong>)</li>\n</ul>\n<p>All the causes of acute tubular necrosis (ATN) cause non-oliguric AKI <strong>except</strong> <strong>acyclovir</strong> (<strong>oliguric AKI</strong>).</p>\n<p>The difference in urine output between oliguric and non-oliguric AKI may be due to variations in GFR or in the rate of tubular reabsorption. Non-oliguric forms may be associated with less severe injury.</p>\n<p>Other options: Prerenal causes such as congestive heart failure cause oliguric AKI. In post-streptococcal glomerulonephritis, oliguria occurs as a result of decreased GFR.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "True about methicillin-resistant Staphylococcus aureus (MRSA) is",
    "choices": [
      {
        "id": 1,
        "text": "It is mediated by mecA gene"
      },
      {
        "id": 2,
        "text": "Polymerase chain reaction (PCR) is of no use in diagnosis"
      },
      {
        "id": 3,
        "text": "Cephalosporins are the drug of choice"
      },
      {
        "id": 4,
        "text": "Panton-Valentine toxin is associated with HA-MRSA (hospital acquired MRSA)"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Resistance in methicillin-resistant Staphylococcus aureus is mediated by <strong>mecA gene,</strong> which is<strong> chromosomally coded</strong>.</p>\n<ul>\n<li>It alters <strong>penicillin-binding protein (PBP)</strong> present on S. aureus cell wall to <strong>PBP-2a,</strong> which has less affinity for beta-lactam antibiotics.</li>\n<li><strong>Panton-valentine toxin</strong> is associated with <strong>CA-MRSA </strong>(community-acquired MRSA)</li>\n<li><strong>Vancomycin</strong> is the drug of choice&nbsp;(should be used only if there is resistance to other drugs).</li>\n<li>Drug of choice for nasal carriers of MRSA:&nbsp;<strong>mupirocin 2% ointment.</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following stains is not used in the detection of calcium in tissues?",
    "choices": [
      {
        "id": 1,
        "text": "Congo red"
      },
      {
        "id": 2,
        "text": "Von Kossa stain"
      },
      {
        "id": 3,
        "text": "Alizarin Red S"
      },
      {
        "id": 4,
        "text": "Azan stain"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The <strong>Congo red</strong> stain<strong>\u00a0</strong>is\u00a0used for staining <strong>amyloid bodies</strong>, not calcium.</p>\n<p>The following <strong>staining techniques</strong>\u00a0are used for <strong>calcium</strong>:</p>\n<ul>\n<li>Hematoxylin and eosin (<strong>H&amp;E</strong>) -\n<ul>\n<li>Calcium forms a <strong>blue-black</strong> lake with hematoxylin\u00a0</li>\n</ul>\n</li>\n<li><strong>Azan </strong>stain -\n<ul>\n<li>Used to distinguish osteoid from the mineralized bone</li>\n</ul>\n</li>\n<li><strong>Alizarin red S</strong>\u00a0stain -\n<ul>\n<li>Forms an <strong>orange-red</strong> lake with calcium</li>\n<li>Works best with small amounts of calcium</li>\n<li>An example is Michaelis\u2013Gutmann (<strong>MG</strong>) <strong>bodies</strong>, seen in\u00a0<strong>malakoplakia</strong></li>\n</ul>\n</li>\n<li><strong>Von Kossa</strong> method -\u00a0\n<ul>\n<li>Useful for tissues containing large amounts of phosphates and carbonates, such as bone</li>\n<li>Silver ions react with phosphate in the presence of acidic material</li>\n<li>Silver phosphate gets degraded to silver in presence of light, giving <strong>black color</strong></li>\n<li>MG bodies also stain with von kossa stain.</li>\n</ul>\n</li>\n</ul>\n<p>The image given below demonstrates MG bodies which are seen in malakoplakia using the Von Kossa stain.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/69b08a81f6dc4792850454c6641c4d9dx1280x1156.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d569234abe524a7fa46859913b747ca5x1280x1156.JPEG"
    ]
  },
  {
    "text": "Which of the following statements is false regarding succinylcholine?",
    "choices": [
      {
        "id": 1,
        "text": "It produces both phase I and phase II block"
      },
      {
        "id": 2,
        "text": "It raises intracranial pressure"
      },
      {
        "id": 3,
        "text": "Precurarization reduces fasciculations and myalgia associated with Sch"
      },
      {
        "id": 4,
        "text": "It is a non\u2013depolarizing muscle relaxant"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Succinylcholine</strong> is a <strong>depolarizing</strong> muscle relaxant.</p>\n<p>Option A: It produces both phase I and phase II block (at a higher dose).</p>\n<p>Option B: Succinylcholine can produce a rise in intracranial pressure as a result of increased cerebral blood flow due to muscle fasciculations.</p>\n<p>Option C:&nbsp;<strong>Precurarization</strong> is the administration of a <strong>small dose</strong>&nbsp;of a <strong>non-depolarizing</strong> neuromuscular blocking <strong>agent,</strong> a few minutes <strong>before Sch</strong> to <strong>minimize</strong>&nbsp;<strong>complications</strong> like fasciculations, post-operative myalgia, rise in intragastric pressure, and rise in ICP.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 32 year old female patient with PCOS is worried that her hairline has shifted upwards exposing more of her forehead as shown below. Which of the following is incorrect about this type of hair loss and its treatment?",
    "choices": [
      {
        "id": 1,
        "text": "DHT(dihydrotestosterone) is responsible for follicular regression"
      },
      {
        "id": 2,
        "text": "Arao-Perkins bodies are seen within the follicular stelae"
      },
      {
        "id": 3,
        "text": "Minoxidil has vasodilatory action"
      },
      {
        "id": 4,
        "text": "Finasteride is the first line treatment"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>This clinical scenario is suggestive of male pattern\u00a0<strong>androgenetic </strong>alopecia<strong>. Finasteride</strong> is <strong>not the first line treatment </strong>in <strong>women.</strong>\u00a0</p>\n<p>Finasteride use in <strong>pregnancy</strong> can lead to <strong>teratogenic</strong> effects on male fetuses.</p>\n<p><strong>Androgenetic </strong>alopecia is a disorder characterized by a reduction of hair fiber production by follicles and miniaturization. It is of two types , male pattern and female pattern hair loss. Male pattern hair loss may occur in female &amp; vice versa is also true. Male pattern hair loss causes <strong>frontal hairline recession</strong> and thinning of the <strong>vertex</strong>.</p>\n<p><strong>Miniaturization</strong> refers to a reduction in the size of follicles until it leaves behind a remnant called <strong>stelae</strong> or streamers. Elastic staining of the stelae shows <strong>Arao-Perkin's</strong> bodies.</p>\n<p><strong>DHT</strong> is a more potent form of testosterone. It is responsible for <strong>follicular regression</strong> and thus causes androgenic alopecia. <strong>Finasteride</strong> inhibits the enzyme that converts testosterone to DHT and hence is used for treatment.</p>\n<div class=\"p-rich_text_section\"><strong>Minoxidil</strong> is a potent <strong>vasodilator.</strong> It is used orally to treat severe hypertension. When used as a hair lotion, it <strong>prolongs</strong> the <strong>anagen</strong> phase and slows down or prevents hair loss. Drugs used to treat male pattern baldness:</div>\n<ul class=\"p-rich_text_list p-rich_text_list__bullet\" data-stringify-type=\"unordered-list\" data-indent=\"0\" data-border=\"false\">\n<li data-stringify-indent=\"0\" data-stringify-border=\"0\">Minoxidil lotion</li>\n<li data-stringify-indent=\"0\" data-stringify-border=\"0\">5-alpha reductase antagonist - Finasteride</li>\n</ul>\n<div class=\"p-rich_text_section\">Drugs used to treat female pattern baldness:</div>\n<ul class=\"p-rich_text_list p-rich_text_list__bullet\" data-stringify-type=\"unordered-list\" data-indent=\"0\" data-border=\"false\">\n<li data-stringify-indent=\"0\" data-stringify-border=\"0\">Minoxidil lotion</li>\n<li data-stringify-indent=\"0\" data-stringify-border=\"0\">Anti-androgens - spironolactone, flutamide, and cyproterone acetate\u00a0</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b0bba2df0a8f42c2ade5042d674ea319.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 30-year-old male presents with a history of low back pain for the past 6 months. 2 years back, he was diagnosed with carcinoma of the prostate. His X-Ray has been shown below. What is your diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Ankylosing spondylitis"
      },
      {
        "id": 2,
        "text": "Metastasis"
      },
      {
        "id": 3,
        "text": "Tuberculosis due to immunosuppression"
      },
      {
        "id": 4,
        "text": "Spinal tumor"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The question describes a history of prostate carcinoma. The <strong>prostate</strong> produces <strong>osteoblastic metastases</strong> and hence one can appreciate the <strong>sclerotic appearance</strong> on the radiogram.</p>\n<p>Ankylosing spondylitis presents with a bamboo spine appearance.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/215d58494a9044f5822e9fdf9434447e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/46b21f6446164d0eb1a08d6172878456x544x603.PNG"
    ]
  },
  {
    "text": "In a village having a population of 5000, a diagnostic test for a particular disease showed the following results. What is the prevalence of the disease?",
    "choices": [
      {
        "id": 1,
        "text": "20%"
      },
      {
        "id": 2,
        "text": "15%"
      },
      {
        "id": 3,
        "text": "30%"
      },
      {
        "id": 4,
        "text": "10%"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Prevalence is given by the formula:&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4b302266207f4a1589ea8adc301838eex520x80.JPEG"
    ]
  },
  {
    "text": "What are prevalence studies also known as?",
    "choices": [
      {
        "id": 1,
        "text": "Longitudinal studies"
      },
      {
        "id": 2,
        "text": "Cohort studies"
      },
      {
        "id": 3,
        "text": "Case-control studies"
      },
      {
        "id": 4,
        "text": "Cross-sectional studies"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Cross-sectional</strong> studies help in obtaining the&nbsp;<strong>prevalence</strong> of a disease. Hence, they are also known as <strong>prevalence studies.</strong></p>\n<p>Cross-sectional study is a type of <strong>observational study</strong> where a cross-section of a population is examined once at <strong>one point in time.&nbsp;</strong>It is more useful in studying&nbsp;<strong>chronic diseases </strong>than acute ones. They do not provide information on the natural history of disease or incidence and also do not establish the time sequence.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 26-year-old batsman was rushed to the ER when he fell unconscious after a cricket ball hit his head. He regained consciousness later but started to deteriorate rapidly. A plain CT of the patient is shown below. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Extradural hematoma"
      },
      {
        "id": 2,
        "text": "Subdural hematoma"
      },
      {
        "id": 3,
        "text": "Subarachnoid hemorrhage"
      },
      {
        "id": 4,
        "text": "Intraparenchymal bleed"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The presence of <strong>lucid interval</strong> in this patient and the CT image are suggestive of <strong>extradural hematoma</strong>. The above CT scan shows a large extradural hematoma (hyperdense <strong>biconvex</strong>/lentiform shape) with a mass effect.</p>\n<p>Extradural hemorrhage (EDH) is the accumulation of blood between the <strong>skull and the dura</strong>. It usually results from <strong>arterial</strong> disruption, especially of the <strong>middle meningeal artery</strong>. It lies behind the <strong>pterion</strong>, which is the thinnest part of the skull.&nbsp;</p>\n<p>In EDH, the patient is initially unconscious from the concussive aspect of the head trauma. The patient then awakens and has a &ldquo;<strong>lucid interval</strong>,&rdquo; while the hematoma sub-clinically expands. As the volume of the hematoma grows, <strong>intracranial pressure (ICP) increases</strong>, and the patient rapidly becomes lethargic and herniates.</p>\n<p><strong>Uncal herniation</strong> from an EDH classically causes <strong>ipsilateral third nerve palsy</strong> and <strong>contralateral hemiparesis.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/551ae0b7c64b4e8fa84d8d0166a1acd1.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Autosomal dominant polycystic kidney is associated with all except _____",
    "choices": [
      {
        "id": 1,
        "text": "Hepatic periportal fibrosis"
      },
      {
        "id": 2,
        "text": "Cerebral arterial aneurysms"
      },
      {
        "id": 3,
        "text": "Pancreatic cysts"
      },
      {
        "id": 4,
        "text": "Splenic cysts"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Hepatic periportal fibrosis is seen in ARPKD.</p>\n<p><strong>ARPKD</strong></p>\n<ul>\n<li><strong>ARPKD </strong>(autosomal recessive polycystic kidney) has numerous small <strong>cysts that arise only from the collecting ducts</strong> and result in bilateral symmetrical enlargement of the kidneys.</li>\n<li>These children have declining renal function as well as severe hypertension and <strong>hepatic periportal fibrosis </strong>with portal hypertension leading to hypersplenism and esophageal varices.</li>\n<li>Infants usually die of respiratory failure rather than renal problems.</li>\n</ul>\n<p><strong>ADPKD</strong></p>\n<ul>\n<li>The autosomal dominant <strong>ADPKD</strong>, previously called adult PKD, has <strong>cysts arising from all areas of the nephron</strong>, which are usually larger and more variable in size than the ARPKD cysts.</li>\n<li><strong>Cysts may also be present in the liver, pancreas, and spleen, and cerebral arterial aneurysms may occur</strong>.</li>\n<li>Renal cystic enlargement exerts pressure on normal parenchyma, leading to its gradual destruction and glomerulosclerosis.</li>\n<li>The leading cause of death in ADPKD is cardiovascular disease, which may relate to early untreated hypertension.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Schizophrenia is characterized by all of the following except",
    "choices": [
      {
        "id": 1,
        "text": "Catatonia"
      },
      {
        "id": 2,
        "text": "Delusions"
      },
      {
        "id": 3,
        "text": "Hallucinations"
      },
      {
        "id": 4,
        "text": "Elation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Elation is not a symptom of schizophrenia.</p>\n<p>Symptoms of schizophrenia can be classified as positive or negative.</p>\n<ul>\n<li><strong>Positive symptoms</strong> are things <strong>additional to expected behavior</strong> and include delusions, hallucinations, agitation, and talkativeness.</li>\n<li>Positive symptoms <strong>respond well </strong>to most <strong>traditional and atypical antipsychotic agents.</strong></li>\n<li><strong>Negative symptoms</strong> are things <strong>missing from expected behavior</strong> and include lack of motivation, social withdrawal, flattened affect, cognitive disturbances, poor grooming, and poor (i.e., impoverished) speech content.</li>\n<li>Negative symptoms <strong>respond better to atypical</strong> than to traditional antipsychotics.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A final-year medical student is examining a baby in the ward. As the infant is pulled to sit, he notices a head lag. By what age should this infant ideally start to hold his head steady without any bobbing motion?",
    "choices": [
      {
        "id": 1,
        "text": "2 months"
      },
      {
        "id": 2,
        "text": "4 months"
      },
      {
        "id": 3,
        "text": "5 months"
      },
      {
        "id": 4,
        "text": "6 months"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>An infant can hold his head steady when pulled to sit, without head bobbing, by the age of <strong>4 months.</strong></p>\n<p><strong>Regarding head steadiness:</strong></p>\n<ul>\n<li>Up till 2 months of age, there is a significant head lag when the infant is pulled to sit.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cfe78ed1becc4b36877ba156e10d8c7fx1280x1325.JPEG"
    ]
  },
  {
    "text": "A patient with a bullous disorder is referred to the dermatology OPD for further investigations. Direct immunofluorescence microscopy is performed. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Bullous pemphigoid"
      },
      {
        "id": 2,
        "text": "Pemphigus vulgaris"
      },
      {
        "id": 3,
        "text": "Epidermolysis bullosa aquisita"
      },
      {
        "id": 4,
        "text": "Dermatitis herpetiformis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows a characteristic <strong>fish-net </strong>appearance on&nbsp;<strong>direct immunofluorescence,</strong> which is diagnostic of&nbsp;<strong>pemphigus vulgaris</strong>.</p>\n<p>This pattern is&nbsp;due to <strong>intraepidermal</strong> <strong>intercellular</strong> deposition of&nbsp;<strong>IgG</strong> and<strong> C3.</strong></p>\n<p>Direct or indirect immunofluorescence cannot be used to differentiate between pemphigus vulgaris and pemphigus foliaceus, as they present similarly.&nbsp;</p>\n<p>Options A and C: Bullous pemphigoid, cicatricial pemphigoid, and epidermolysis bullosa acquisita present linear or shoreline pattern is seen in due to&nbsp;IgG and C3 deposits along the dermo-epidermal junctions, as seen in the following image.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/54f316f899a14b8f835f408e7fa8ecab.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/156f2788f7c74184963cd732e44fb9dfx512x290.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/57c508942f094ac592fb7bc968ba2925x250x193.PNG"
    ]
  },
  {
    "text": "Which of the following structures is not a part of the lateral wall of the middle ear?",
    "choices": [
      {
        "id": 1,
        "text": "Pars tensa"
      },
      {
        "id": 2,
        "text": "Pars flaccida"
      },
      {
        "id": 3,
        "text": "Scutum"
      },
      {
        "id": 4,
        "text": "Subiculum"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>subiculum</strong> is <strong>not</strong> a part of the <strong>lateral wall</strong> of the middle ear. It is present in the medial wall, below the sinus tympani.</p>\n<p>The lateral wall of the middle ear separates it from the external ear. It contains:</p>\n<ul>\n<li><strong>Pars tensa</strong> lying opposite to the <strong>mesotympanum</strong></li>\n<li><strong>Pars flaccida</strong>&nbsp;and <strong>scutum</strong>&nbsp;lying opposite to the <strong>epitympanum</strong>.</li>\n</ul>\n<p><strong>Scutum</strong> or<strong> lateral attic wall </strong>is a wedge-shaped bone that separates the epitympanum from the external auditory canal. It can be <strong>eroded</strong> in<strong> attic cholesteatomas</strong>.</p>\n<p>Image showing the boundaries of middle ear:&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8946bc4b69f24451b068e7d705d9e768x1280x977.JPEG"
    ]
  },
  {
    "text": "St Antony\u2019s fire is a term related to",
    "choices": [
      {
        "id": 1,
        "text": "Ergot"
      },
      {
        "id": 2,
        "text": "Triptans"
      },
      {
        "id": 3,
        "text": "Digoxin"
      },
      {
        "id": 4,
        "text": "Dopamine"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>St Antony&rsquo;s fire is a term related to ergot.&nbsp;<strong>Ergot </strong>is the<strong> product </strong>of a <strong>fungus <em>Claviceps purpurea</em> </strong>that<strong> grows on rye and other grains</strong>.</p>\n<p>In the past, the limbs were assumed to be consumed by the holy fire resulting in blackened charcoal-like limbs with agonizing pain. The <strong>disease </strong>was called<strong> holy fire or St. Anthony&rsquo;s fire</strong> in<strong> honor </strong>of the <strong>saint </strong>whose shrine offered relief to such patients.</p>\n<p>The contamination of the edible grains with the fungus resulted in symptoms resembling ergot poisoning. Affected individuals had gangrene of feet, legs, hands, and arms. In severe cases, the extremities became dry, black and mummified limbs separated off without any loss of blood.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following serological markers will indicate immunity against HBV in a patient who has received a hep B booster dose?",
    "choices": [
      {
        "id": 1,
        "text": "HBsAg"
      },
      {
        "id": 2,
        "text": "Anti-HBs"
      },
      {
        "id": 3,
        "text": "Anti-HBc"
      },
      {
        "id": 4,
        "text": "Anti-HBe"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Presence of <strong>a</strong><strong>nti-HBs</strong> with the absence of all other serological virus markers indicates <strong>immunity</strong> following <strong>HBV vaccination.\u00a0</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "How are X-rays produced?",
    "choices": [
      {
        "id": 1,
        "text": "When electron beam strikes the nucleus of the atom in the anode"
      },
      {
        "id": 2,
        "text": "When electron beam decelerates close to the nucleus of the atom in the anode"
      },
      {
        "id": 3,
        "text": "When electron beam reacts with the electromagnetic field"
      },
      {
        "id": 4,
        "text": "When electron beam strikes the cathode"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>X-rays are produced when the electron beam <strong>decelerates close to the nucleus</strong> of the atom in the anode.</p>\n<p>The production of X-rays is as follows.</p>\n<p style=\"text-align: center;\">Current is passed through a tungsten filament which acts as the cathode<br /><span style=\"font-size: 18pt;\">\u2193</span><br />Electrons are emitted as a result of thermionic emission<br /><span style=\"font-size: 18pt;\">\u2193</span><br />Electrons bombard the target anode, a tungsten disc<br /><span style=\"font-size: 14pt;\"><span style=\"font-size: 18pt;\">\u2193\u00a0</span><br /></span>Results in the conversion of energy into heat (99%) and X-ray photons(1%)</p>\n<p style=\"text-align: center;\">\u00a0</p>\n<p>The target anode is made of a <strong>tungsten</strong> disc in ordinary diagnostic X-ray tubes and molybdenum in mammography X-ray tubes.</p>\n<p style=\"text-align: left;\">At the anode,\u00a0<strong>fast-moving electrons</strong> interact with the atoms of the\u00a0<strong>anode</strong> in one of the following ways:</p>\n<ul>\n<li>Nucleus field interaction: aka continuous spectrum radiation or\u00a0<strong>Bremsstrahlung reaction </strong>(80%)</li>\n<li>Inner shell interaction: produces characteristic spectrum radiation (20%)</li>\n</ul>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ec49466d6922441ba2177e13dfc1c2b6x1280x1034.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/19c46be1d9e341cb977363545d6854c2x1280x1043.JPEG"
    ]
  },
  {
    "text": "What process is responsible for the change in membrane potential that occurs between point 1 and point 3?",
    "choices": [
      {
        "id": 1,
        "text": "Movement of Na+ into the cell"
      },
      {
        "id": 2,
        "text": "Movement of Na+ out of the cell"
      },
      {
        "id": 3,
        "text": "Movement of K+ into the cell"
      },
      {
        "id": 4,
        "text": "Movement of K+ out of the cell"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The graph depicts <strong>action potential.</strong>&nbsp;The <strong>movement</strong> of <strong>Na+ into</strong> the <strong>cell</strong>&nbsp;is responsible for the change in membrane potential that occurs between point 1 and point 3.</p>\n<p>Once the membrane is depolarized to the threshold, local potential, the upstroke of the nerve action potential is caused by the opening of the Na<sup>+</sup> channels.&nbsp;The entry of Na+ causes the opening of more voltage-gated Na+ channels and further <strong>depolarization,</strong> setting up a <strong>positive feedback loop</strong>.&nbsp;When the Na<sup>+</sup> channels open, Na<sup>+</sup> moves into the cell down its electrochemical gradient, driving the membrane potential toward the Na<sup>+</sup> equilibrium potential.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0beecdf7ef1042168c98d2de65efe365.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/78eff207705c4b7fa378118e72109496x1280x1085.JPEG"
    ]
  },
  {
    "text": "Which of the following statements about penicillin-binding proteins is false?",
    "choices": [
      {
        "id": 1,
        "text": "Present within cell membrane of bacteria"
      },
      {
        "id": 2,
        "text": "Mutation in the PBPs gives rise to resistance"
      },
      {
        "id": 3,
        "text": "PBPs are involved in protein synthesis"
      },
      {
        "id": 4,
        "text": "These are targeted by imipenem"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p style=\"text-align: left;\">The <strong>targets</strong> for the action of <strong>&beta;-lactam antibiotics</strong> are collectively termed <strong>penicillin-binding proteins</strong> (PBPs)&nbsp; and they are <strong>not involved</strong> in protein synthesis.</p>\n<p style=\"text-align: left;\"><strong>Transpeptidase enzyme</strong> and related proteins constitute the penicillin-binding proteins (PBPs) which are present in the bacterial cell membrane. Transpepetidase is involved in the <strong>synthesis</strong> of <strong>peptidoglycan</strong> of the <strong>bacterial cell wall</strong>. All &beta;-lactam groups of antibiotics bind to PBPs and inhibit the last step in peptidoglycan synthesis.</p>\n<p style=\"text-align: left;\"><strong>Mutation</strong> in the different <strong>PBPs</strong> confers <strong>resistance</strong> to the bacteria against the beta-lactams. Methicillin resistance in <em>Staphylococcus aureus&nbsp;</em>(<strong>MRSA</strong>)&nbsp;occurs due to alteration in the PBPs.</p>\n<p style=\"text-align: left;\"><strong>Imipenem</strong> targets the <strong>PBPs</strong>, disrupting cell wall synthesis and causing death of the micro-organism.</p>\n<p>Beta-lactam group of antibiotics include:</p>\n<ul>\n<li>Penicillins</li>\n<li>Cephalosporins</li>\n<li>Carbapenems</li>\n<li>Monobactam</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient is undergoing the test depicted in the image given below. Which of the following diseases does it help to diagnose?",
    "choices": [
      {
        "id": 1,
        "text": "Amoebiasis"
      },
      {
        "id": 2,
        "text": "Trichomoniasis"
      },
      {
        "id": 3,
        "text": "Giardiasis"
      },
      {
        "id": 4,
        "text": "Echinococcosis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image depicts a <strong>string test</strong> or<strong> entero test</strong> and is&nbsp;used in the diagnosis of <strong>giardiasis</strong>.</p>\n<p>It is a useful method for obtaining the duodenal specimen in giardiasis.</p>\n<p>In this test, a <strong>coiled thread</strong> inside a small weighted <strong>gelatin capsule</strong> is <strong>swallowed</strong> by the patient, after attaching the free end of the thread in the cheek. The capsule passes through the stomach to the duodenum. After <strong>2 hours</strong>, the <strong>thread</strong> is withdrawn, placed in<strong> saline</strong>, and is shaken. The centrifuged deposit of the saline is then <strong>examined for giardia.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/aa0ea50a247343c9acd6d7657418bc22.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A worried mother brought her 4-year-old son to the ER with complaints of a nose bleed. On examination, the bleed was found to be from the Kiesselbach\u2019s plexus. Which of the following arteries does not contribute to its formation?",
    "choices": [
      {
        "id": 1,
        "text": "Sphenopalatine artery"
      },
      {
        "id": 2,
        "text": "Greater palatine artery"
      },
      {
        "id": 3,
        "text": "Anterior ethmoidal artery"
      },
      {
        "id": 4,
        "text": "Posterior ethmoidal artery"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The posterior ethmoidal artery does not contribute to the formation of Kiesselbach&rsquo;s plexus.</p>\n<p><strong>Kiesselbach&rsquo;s plexus</strong> is the <strong>vascular anastomosis </strong>situated at <strong>Little&rsquo;s area </strong>(anteroinferior part of the septum).</p>\n<p>The contributing arteries are as follows:</p>\n<ul>\n<li><strong>Sphenopalatine and greater palatine branches </strong>of the maxillary artery,&nbsp;which in turn is a branch of the external carotid artery.</li>\n<li><strong>Septal branch of the superior labial artery</strong> which in turn is a branch of the facial artery. The facial artery is a branch of the external carotid artery.</li>\n<li><strong>Anterior ethmoidal branch</strong> of the ophthalmic division of internal carotid artery.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Neurulation refers to the process of formation of ______",
    "choices": [
      {
        "id": 1,
        "text": "Primitive Streak"
      },
      {
        "id": 2,
        "text": "Neural plate"
      },
      {
        "id": 3,
        "text": "Notochord"
      },
      {
        "id": 4,
        "text": "Neural tube"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Neurulation</strong> refers to the process of the formation of the <strong>Neural tube</strong>.</li>\n<li>The <strong>nervous system </strong>develops from the <strong>ectoderm</strong> overlying the <strong>notochord</strong>, known as the <strong>neurectoderm</strong>.</li>\n<li>The <strong>neurectoderm</strong> overlying the notochord becomes thickened to form the <strong>neural plate.</strong></li>\n<li>The <strong>neural plate</strong> is further converted to <strong>neural groove</strong>, and then to the <strong>neural tube</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://cdn1.dailyrounds.org/uploads/54fea4ea45d34b6ca3fed8a069c04627x625x722.JPEG"
    ]
  },
  {
    "text": "Which of the following is true regarding puerperium?",
    "choices": [
      {
        "id": 1,
        "text": "The number of muscle fibres decrease"
      },
      {
        "id": 2,
        "text": "The myometrial cell size decreases"
      },
      {
        "id": 3,
        "text": "The uterus weighs 1000g by 1 week postpartum"
      },
      {
        "id": 4,
        "text": "There is decreased activity of uterine collagenase"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>During puerperium, the&nbsp;number of muscle fibers is not decreased, but there is a substantial <strong>reduction </strong>in the <strong>myometrial cell size.</strong></p>\n<p>There is an&nbsp;<strong>increased</strong> activity of <strong>uterine collagenases</strong> and release of proteolytic enzymes.</p>\n<p>Within the puerperal uterus, larger blood vessels become obliterated by hyaline changes. These vessels are gradually resorbed and replaced by smaller ones.&nbsp;</p>\n<table style=\"width: 553px;\">\n<tbody>\n<tr style=\"height: 36px;\">\n<td style=\"width: 150.5px; height: 36px;\"><strong>Time following delivery</strong></td>\n<td style=\"width: 288.5px; height: 36px;\"><strong>Features</strong></td>\n<td style=\"width: 103px; height: 36px;\"><strong>Weight of the uterus</strong></td>\n</tr>\n<tr style=\"height: 96px;\">\n<td style=\"width: 150.5px; height: 96px;\">Immediately following delivery</td>\n<td style=\"width: 288.5px; height: 96px;\">\n<p>Uterus corresponds to 20 weeks gestational age</p>\n<p>Fundus lies just below the umbilicus</p>\n</td>\n<td style=\"width: 103px; height: 96px;\">1000 g</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 150.5px; height: 18px;\">48 hours</td>\n<td style=\"width: 288.5px; height: 18px;\">Myometrial involution starts</td>\n<td style=\"width: 103px; height: 18px;\">&nbsp;-</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 150.5px; height: 18px;\">1 week</td>\n<td style=\"width: 288.5px; height: 18px;\">Rapid involution of uterus</td>\n<td style=\"width: 103px; height: 18px;\">500 g</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 150.5px; height: 18px;\">2 weeks</td>\n<td style=\"width: 288.5px; height: 18px;\">The uterus becomes a <strong>pelvic</strong> organ</td>\n<td style=\"width: 103px; height: 18px;\">300 g</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 150.5px; height: 18px;\">4 weeks</td>\n<td style=\"width: 288.5px; height: 18px;\"><strong>Clinically,</strong> involution is complete</td>\n<td style=\"width: 103px; height: 18px;\">100 g</td>\n</tr>\n<tr style=\"height: 109px;\">\n<td style=\"width: 150.5px; height: 109px;\">6-8 weeks</td>\n<td style=\"width: 288.5px; height: 109px;\">\n<p>Uterus returns to normal (pre-pregnant) size</p>\n<p><strong>Sonographically,</strong> involution is complete at 8 weeks</p>\n</td>\n<td style=\"width: 103px; height: 109px;\">60 g</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the most common type of multifetal pregnancy?",
    "choices": [
      {
        "id": 1,
        "text": "Monozygotic dichorionic diamniotic"
      },
      {
        "id": 2,
        "text": "Dizygotic dichorionic diamniotic"
      },
      {
        "id": 3,
        "text": "Monozygotic monochorionic diamniotic"
      },
      {
        "id": 4,
        "text": "Monozygotic monochorionic monoamniotic"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The most common type of multifetal pregnancy is <strong>dizygotic</strong> twinning, which is always <strong>dichorionic diamniotic</strong>.&nbsp;</p>\n<p>The incidence of dizygotic twins is 80% among twins. Of the <strong>monozygotic</strong> twins, <strong>monochorionic diamniotic</strong> is the most common (13-14%).</p>\n<p><strong>Zygosity</strong> refers to the type of<strong> conception </strong>while<strong>&nbsp;chorionicity</strong> refers to the type of <strong>placentation</strong>.</p>\n<p>Types of twin pregnancies:</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Dizygotic: 2 ova are fertilized by 2 sperms to form 2 separate zygotes.</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Monozygotic: Single zygote (1 ovum fertilized by 1 sperm) divides into 2.</li>\n</ul>\n<table>\n<tbody>\n<tr>\n<td>Feature</td>\n<td>Monozygotic</td>\n<td>Dizygotic</td>\n</tr>\n<tr>\n<td>Phenotype</td>\n<td>Identical</td>\n<td>Non-identical</td>\n</tr>\n<tr>\n<td>Genotype</td>\n<td>Identical</td>\n<td>Non-identical</td>\n</tr>\n<tr>\n<td>Incidence</td>\n<td>1:250 (constant worldwide)</td>\n<td>Varies with demography</td>\n</tr>\n<tr>\n<td>Incidence after ART</td>\n<td>Increases</td>\n<td>Increases</td>\n</tr>\n<tr>\n<td>Perinatal complications</td>\n<td>High</td>\n<td>Low</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/babb023570254f7d800dd842177cc733x1280x5795.JPEG"
    ]
  },
  {
    "text": "A 34-year-old male patient presented to the clinic with a history of diarrhea and poor appetite. He has been having 4-5 episodes of non-bloody, loose stools per day for the last 3 months. A duodenal biopsy is taken and the histopathology is as shown below. Which of the following is the most common cancer associated with this condition?",
    "choices": [
      {
        "id": 1,
        "text": "B cell lymphoma"
      },
      {
        "id": 2,
        "text": "Carcinoid"
      },
      {
        "id": 3,
        "text": "T cell lymphoma"
      },
      {
        "id": 4,
        "text": "Small intestinal adenocarcinoma"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given scenario and histopathology findings are suggestive of <strong>celiac disease</strong>. Enteropathy-associated<strong> T-cell lymphoma&nbsp;</strong>is the most common cancer associated with celiac disease.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5eeb51f738b64a5a8f2f113267700b0f.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cf8dea1a15db4e99bfe63133df53ac10x1280x1033.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a7edd0b4a5014729be77edb0f15b1779x1280x1230.JPEG"
    ]
  },
  {
    "text": "Which of the following is the earliest feature in vitamin A deficiency?",
    "choices": [
      {
        "id": 1,
        "text": "Loss of sensitivity to green light"
      },
      {
        "id": 2,
        "text": "Keratomalacia"
      },
      {
        "id": 3,
        "text": "Night blindness"
      },
      {
        "id": 4,
        "text": "Xerophthalmia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Loss of sensitivity to<strong> green light</strong>&nbsp;is the <strong>earliest </strong><strong>feature</strong>&nbsp;of <strong>vitamin A deficiency</strong> while <strong>nyctalopia (night blindness)</strong>&nbsp;is the earliest <strong>symptom</strong> of <strong>vitamin A deficiency</strong>.</p>\n<p>Vitamin A is a&nbsp;<strong>fat-soluble</strong>&nbsp;vitamin that can occur as<strong>&nbsp;carotenoids</strong>&nbsp;(most common - beta carotene from plant sources) or&nbsp;<strong>retinoids</strong> (from animal sources). Dietary sources of vitamin A are liver, fish, eggs, dark green, and deeply coloured fruits and vegetables.</p>\n<p>3 forms of retinoids are:</p>\n<ul>\n<li aria-level=\"1\"><strong>Retinal</strong>&nbsp;is required mainly for normal vision (present in the visual pigment rhodopsin).</li>\n<li aria-level=\"1\"><strong>Retinol</strong>&nbsp;is important for the normal functioning of the reproductive system.</li>\n<li aria-level=\"1\"><strong>Retinoic acid</strong>&nbsp;has a role in the regulation of gene expression and tissue differentiation.</li>\n</ul>\n<p>The sequence of visual defects in vitamin A deficiency:</p>\n<ol>\n<li>Loss of sensitivity to green light</li>\n<li>Impairment of the eye to adapt to dim light</li>\n<li>Night blindness</li>\n<li><strong>Bitot</strong> <strong>spots</strong> on the conjunctiva -&nbsp;white patches of keratinized epithelium on the sclera</li>\n<li>Prolonged deficiency of vitamin A &rarr; <strong>x</strong><strong>erophthalmia </strong>(dryness of the conjunctiva and cornea)</li>\n<li>If xerophthalmia is not treated, it results in <strong>keratomalacia</strong> (softening of the cornea),&nbsp;<strong>corneal ulceration, </strong>corneal <strong>scarring&nbsp;</strong>and ultimately <strong>complete blindness.</strong></li>\n</ol>\n<p>The image below shows a <strong>Bitot's spot</strong> which is <strong>pathognomic</strong>&nbsp;of vitamin A deficiency.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f071771e2cc241d997cb209ce54f2d3dx720x472.JPEG"
    ]
  },
  {
    "text": "An elderly man with atherosclerosis presented with abdominal pain and blood-stained stools.  CECT abdomen is suggestive of ischemic colitis at the splenic flexure involving the marginal artery of Drummond. What are the arteries contributing to the formation of this structure?",
    "choices": [
      {
        "id": 1,
        "text": "Right colic and left colic arteries"
      },
      {
        "id": 2,
        "text": "Ileocolic and left colic arteries"
      },
      {
        "id": 3,
        "text": "Left colic and middle colic arteries"
      },
      {
        "id": 4,
        "text": "Left colic and sigmoid arteries"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The<strong> middle </strong>and<strong> left colic arteries</strong>&nbsp;contribute to the formation of the <strong>marginal artery </strong>of<strong> Drummond </strong>at the splenic flexure.&nbsp;The<strong> splenic flexure (Griffith's point) </strong>is a<strong> watershed area </strong>of the colon which is more prone to<strong> ischemia.&nbsp;</strong></p>\n<p>The anastomotic vessel that runs in the mesentery along the inner margin of the colon is called the marginal artery of Drummond. From this artery, numerous small branches are given to the large bowel. It is formed by:</p>\n<ul>\n<li>Branches of <strong>superior mesenteric artery - </strong>middle colic, right colic, and ileocolic arteries</li>\n<li>Branches of <strong>inferior mesenteric artery - </strong>left colic, sigmoid, and superior rectal arteries</li>\n</ul>\n<p>When ischemia occurs at Griffith's point, the blood supply in this region is augmented by another arterial loop called the <strong>inner arterial arc (of Riolan).</strong> This arc connects the main trunk of the <strong>middle colic artery</strong> with the ascending branch of the<strong> left colic artery</strong>.</p>\n<p>Note: <strong>Sudeck's point</strong> is another watershed area present at the <strong>rectosigmoid junction</strong>. The <strong>sigmoid artery</strong> anastomoses with the <strong>superior rectal artery</strong> at this site.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e0e97a8c8aa3448a8c69bff4f49e06fex600x771.JPEG"
    ]
  },
  {
    "text": "A mother brought her 15-year-old daughter to the OPD with concerns of excessive growth of coarse hair over her face and chest. Which scoring system is used to clinically grade this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Danforth and trotter score"
      },
      {
        "id": 2,
        "text": "Halter score"
      },
      {
        "id": 3,
        "text": "Ferriman-Gallwey score"
      },
      {
        "id": 4,
        "text": "Prader score"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario is suggestive of <strong>hirsutism.</strong> The <strong>Ferriman-Gallwey</strong>&nbsp;<strong>score</strong> is&nbsp;used to clinically assess and quantify the degree of hirsutism.</p>\n<p>Within this system, abnormal hair distribution is assessed at nine body areas and each of them scored from 0-4. Increasing numeric scores correspond to greater hair density within a given area.&nbsp;The maximum&nbsp;score is 36. The degree of hirsutism is <strong>mild</strong> if the score is&nbsp;<strong>&ge;</strong><strong>8</strong>. <strong>Moderate</strong> to <strong>severe</strong> hirsutism is present if the score is&nbsp;<strong>&ge;</strong><strong>15</strong>.</p>\n<p>Note: Ferriman Gallwey score originally had 11 sites which were modified later to exclude 2 sites, viz., forearm, and legs.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is incorrect regarding the condition seen in the image given below?",
    "choices": [
      {
        "id": 1,
        "text": "It is often bilateral"
      },
      {
        "id": 2,
        "text": "Its wall is opaque"
      },
      {
        "id": 3,
        "text": "Flattening of tubal plicae is seen on histology"
      },
      {
        "id": 4,
        "text": "Its ampullary region is filled with clear fluid"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above image depicts a <strong>hydrosalpinx</strong>. Its <strong>wall</strong> is not opaque but&nbsp;<strong>translucent</strong>.</p>\n<p>If a <strong>pyosalpinx</strong> responds to antibiotics, the <strong>pus</strong> present inside<strong> becomes</strong> <strong>sterile</strong> within 6 weeks of the initial attack. However, the damage to the tube remains as chronic pyosalpinx or <strong>hydrosalpinx</strong>.&nbsp;A hydrosalpinx represents the end result of previous acute salpingitis and is often<strong> bilateral</strong>.</p>\n<p>The tube becomes&nbsp;<strong>retort shaped</strong> due to the enormous <strong>dilatation</strong> of the <strong>ampullary region</strong> that is filled with clear fluid.</p>\n<p><strong>Histological</strong> examination shows a <strong>flattening</strong> of the <strong>tubal plicae</strong> and <strong>exfoliation</strong> of the<strong> lining epithelium</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/12870ec59e7e4c1e9a7c654b34bea3d9.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 35-year-man presents with nosebleeds, bleeding gums, and multiple ecchymoses. Lab investigations show the following findings. The blasts are positive for CD33. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Acute myeloid leukemia"
      },
      {
        "id": 2,
        "text": "Acute lymphoblastic leukemia"
      },
      {
        "id": 3,
        "text": "Small Lymphocytic lymphoma"
      },
      {
        "id": 4,
        "text": "Myelodysplastic syndrome"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario is suggestive of <strong>acute myeloid leukemia (AML)</strong>.</p>\n<p><strong>AML</strong>&nbsp;is a tumor of hematopoietic progenitors caused by acquired oncogenic mutations that impede differentiation, leading to the accumulation of immature myeloid blasts in the marrow.&nbsp;It occurs at all ages, but the incidence rises throughout life, peaking after 60 years of age.&nbsp;</p>\n<p>The peripheral smear shows blasts with <strong>abundant cytoplasm</strong>, fine <strong>azurophilic granules</strong>,&nbsp;Auer rods, and delicate nuclear chromatin with 1-4 prominent nucleoli. The blasts are <strong>positive</strong> for <strong>CD33.&nbsp;</strong>Occasionally, blasts are entirely absent from the blood (<strong>aleukemic leukemia</strong>).&nbsp;Bone marrow examination is essential to exclude acute leukemia in pancytopenic patients.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/95a0851a289e4ce89757c13901082f52.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 65-year-old hypertensive patient presents with chest pain and dyspnea following an alcohol binge. His ECG is shown below. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Ventricular tachycardia"
      },
      {
        "id": 2,
        "text": "Focal atrial tachycardia"
      },
      {
        "id": 3,
        "text": "Ventricular fibrillation"
      },
      {
        "id": 4,
        "text": "Atrial fibrillation"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The ECG shows narrow QRS complexes with <strong>irregular RR intervals</strong> and <strong>no distinct P waves.&nbsp;</strong>This is&nbsp;suggestive of <strong>atrial fibrillation</strong>.</p>\n<p><strong>Atrial fibrillation (AF)&nbsp;</strong>is a supraventricular tachycardia caused by ectopic foci or small reentry circuits within the atria. It has an atrial rate of 400-600/min and a ventricular rate of 100-160/min.&nbsp;</p>\n<p>Risk factors for developing AF include:</p>\n<ul>\n<li>Age- usually above 60 years of age</li>\n<li>Underlying heart disease</li>\n<li>Hypertension</li>\n<li>Diabetes mellitus</li>\n<li>Obesity</li>\n<li>Sleep apnea</li>\n<li>Post-cardiac surgery</li>\n<li>Inflammatory pericarditis</li>\n</ul>\n<p>Acute precipitating factors for AF include:</p>\n<ul>\n<li>Hyperthyroidism</li>\n<li>Acute alcohol intoxication</li>\n<li>Acute illness like myocardial infarction&nbsp;and pulmonary embolism</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8aeacc19ffb44b44b9229247c55aede3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d30f6e7195844df6a52b0fa6e84d940ax1280x1903.JPEG"
    ]
  },
  {
    "text": "The coronal suture present between the frontal and parietal bones descends down until it reaches ______",
    "choices": [
      {
        "id": 1,
        "text": "Bregma"
      },
      {
        "id": 2,
        "text": "Lambda"
      },
      {
        "id": 3,
        "text": "Pterion"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>The <strong>coronal suture</strong> is present between the <strong>posterior margin</strong> of the <strong>frontal</strong> <strong>bone</strong> and the <strong>anterior margins</strong> of the <strong>two parietal bones</strong>.</li>\n<li>It descends down until it meets the junction between the greater wing of the sphenoid and the squamous temporal bone at the pterion.</li>\n</ul>\n<p><strong>Pterion:</strong></p>\n<ul>\n<li>All four bones of one side (Frontal, Parietal, Temporal, and Sphenoid) meet at a roughly <strong>H-shaped sutural junction</strong> termed the <strong>pterion</strong>.</li>\n<li>This is an important landmark as it overlies both the anterior branch of the middle meningeal artery and the lateral fissure of the cerebral hemisphere.</li>\n<li>The pterion corresponds to the site of the anterolateral (<strong>sphenoidal</strong>) <strong>fontanelle</strong> of the neonatal skull, which closes in the sixth month after birth.&nbsp;</li>\n</ul>\n<p>The <strong>bregma</strong> is present the junction of the frontal bone and two parietal bones. It represents the site of the anterior fontanelle in a young child.&nbsp;</p>\n<p>The <strong>lambda</strong> is present at the junction of right and left parietal bones and the occipital bone. The <strong>lambdoid suture</strong> delineates the articulation between the posterior borders of the right and left parietal bones and the superior border of the occipital bone.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0dd97fe205ac467184fe05abd87a3179x1228x902.PNG"
    ]
  },
  {
    "text": "A patient with salicylic acid poisoning has the following arterial blood gas analysis report: pH = 7.1, pCO2 =18mmHg, HCO3-=12mmol/L. Identify the acid-base disorder here.",
    "choices": [
      {
        "id": 1,
        "text": "Metabolic acidosis with respiratory alkalosis"
      },
      {
        "id": 2,
        "text": "Respiratory acidosis with compensatory metabolic alkalosis"
      },
      {
        "id": 3,
        "text": "Metabolic acidosis with uncompensated respiratory alkalosis"
      },
      {
        "id": 4,
        "text": "Respiratory acidosis with metabolic alkalosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The acid-base disorder here is a&nbsp;mixed disorder of&nbsp;<strong>metabolic acidosis and respiratory alkalosis</strong>.&nbsp;</p>\n<p>It should not be confused with metabolic acidosis with uncompensated respiratory alkalosis. This can be understood by the following calculation:</p>\n<p><strong>Step 1</strong>: The pH in this patient is 7.1 (pH &lt;7.35) which indicates <strong>acidosis</strong></p>\n<p><strong>Step 2</strong>: HCO<sub>3</sub><sup>- </sup>is 12 mmol/L (Normal HCO<sub>3</sub><sup>-</sup>&nbsp;- 22&ndash;30 mmol/L). In metabolic acidosis, HCO<sub>3</sub><sup>-</sup>&nbsp;levels decrease.</p>\n<p>Hence, this is a case of <strong>metabolic acidosis.</strong></p>\n<p><strong>Step 3</strong>: As per <strong>Winter's formula</strong>, the expected respiratory compensation in metabolic acidosis can be calculated using,</p>\n<p>&nbsp; &nbsp; &nbsp;&nbsp;<strong>pCO<sub>2 </sub>=( 1.5 x [HCO<sub>3</sub><sup>-</sup>] ) +8&nbsp;&plusmn; 2</strong></p>\n<p>In this case, Expected&nbsp;pCO<sub>2</sub>&nbsp;= ( 1.5 x [12] )&nbsp;+8&nbsp;&plusmn; 2</p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 26 &plusmn; 2</p>\n<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 24 - 28 mmHg</p>\n<p>The pCO<sub>2</sub> in this patient is 18 mmHg, which implies there is an overcompensation of pCO<sub>2</sub>. This <strong>overcompensation can happen only if there is an additional component of respiratory alkalosis contributing to reduced pCO<sub>2</sub></strong>.</p>\n<p>Hence, this patient has a <strong>mixed disorder - metabolic acidosis and respiratory alkalosis.&nbsp;</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is affected in patients with Weber-Osler-Rendu syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Collagen"
      },
      {
        "id": 2,
        "text": "Platelets"
      },
      {
        "id": 3,
        "text": "Clotting factors"
      },
      {
        "id": 4,
        "text": "Blood vessels"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Weber&ndash;Osler&ndash;Rendu syndrome</strong> is a disorder of the <strong>blood vessels</strong>.</p>\n<p>It is an <strong>autosomal-dominant</strong> disorder caused by mutations that modulate TGF-&beta; signalling. It is also known as <strong>hereditary hemorrhagic telangiectasia</strong>.&nbsp;</p>\n<p>This condition is characterized by dilated, <strong>tortuous blood vessels</strong> with thin walls that <strong>bleed</strong> readily.&nbsp;Bleeding is most common in the mucous membranes of the nose (epistaxis), tongue, mouth, and eyes, and throughout the gastrointestinal tract.</p>\n<p>Platelet count, prothrombin time (PT), and activated partial thromboplastin time (aPTT) are normal.</p>\n<p>Clinical conditions in which <strong>abnormalities</strong> of <strong>vessel wall</strong> cause <strong>bleeding </strong>include<strong>:</strong></p>\n<ul>\n<li>Infections - meningococcemia, infective endocarditis, rickettsioses</li>\n<li>Collagen defects - Ehlers&ndash;Danlos syndrome, scurvy, and Cushing's syndrome</li>\n<li>Perivascular amyloidosis - most common with amyloid light-chain (AL) amyloidosis</li>\n<li>Henoch&ndash;Sch&ouml;nlein purpura</li>\n<li>Drug reactions</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "On your pediatrics rotation, you notice a 2-day-old baby with the rash shown in the image below. Which among the following is the most likely cause for this baby's rash?",
    "choices": [
      {
        "id": 1,
        "text": "Rubella"
      },
      {
        "id": 2,
        "text": "Measles"
      },
      {
        "id": 3,
        "text": "Erythema infectiosum"
      },
      {
        "id": 4,
        "text": "Varicella"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The image shows&nbsp;<strong>purple papulonodular lesions,&nbsp;</strong>which are suggestive of&nbsp;<strong>blueberry muffin rash. </strong>It<strong>&nbsp;</strong>is seen in <strong>congenital&nbsp;rubella.</strong></p>\n<p>Blueberry muffin rash&nbsp;represents&nbsp;<strong>dermal erythropoiesis</strong>. In addition to congenital rubella, it can be seen in:&nbsp;</p>\n<ul>\n<li>Congenital viral infections such as cytomegalovirus and parvovirus</li>\n<li>Neoplasms such as neuroblastoma and acute myeloid leukemia</li>\n<li>Rh hemolytic disease</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/40ebdc760f064918adaa696eb811a7e5.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements is false regarding medico-legal autopsy?",
    "choices": [
      {
        "id": 1,
        "text": "Consent from relatives is required"
      },
      {
        "id": 2,
        "text": "Legal permission is necessary"
      },
      {
        "id": 3,
        "text": "Magistrate is the authorizing officer in case of exhumation"
      },
      {
        "id": 4,
        "text": "In India, all registered medical practitioners can perform an autopsy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the case of a <strong>medicolegal autopsy</strong>, <strong>consent </strong>of the relatives<strong> is not required</strong>.</p>\n<p>For conducting a medicolegal autopsy:</p>\n<ul>\n<li><strong>Legal authorization</strong> is a must</li>\n<li><strong>Magistrate</strong> is the<strong> authorizing officer</strong> in case of<strong> exhumation</strong></li>\n<li>Preferably, a forensic pathologist or medicolegal expert does the autopsy. However, in<strong> India</strong>, due to the lack of adequate qualified experts, all <strong>registered medical practitioners</strong> can <strong>perform</strong> this with authorization by the state.</li>\n</ul>\n<p>Note: Clinical/ pathological autopsy requires consent from the relatives of the deceased.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A software engineer presented with complaints of dryness and itching of eyes on staring at his laptop screen. On examination, parotid swelling was noted and the test shown below was positive. The serology of this patient is likely to be positive for which of the following antibodies?",
    "choices": [
      {
        "id": 1,
        "text": "Anti topoisomerase"
      },
      {
        "id": 2,
        "text": "Anti centromere"
      },
      {
        "id": 3,
        "text": "Anti U1-RNP"
      },
      {
        "id": 4,
        "text": "Anti Ro/SS-A"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given scenario of dry eyes, parotid swelling, and a positive Schirmer test is suggestive of <strong>Sj&ouml;gren's syndrome. </strong>It is associated with<strong>&nbsp;anti-Ro/SS-A </strong>and<strong> anti-La/SS-B</strong>&nbsp;autoantibodies.</p>\n<p>The presence of anti-Ro/SS-A and anti-La/SS-B indicate extra glandular involvement and <strong>poor prognosis</strong>.</p>\n<p>Note:&nbsp;Anti-Ro and anti-La in <strong>SLE</strong> indicate a <strong>good prognosis</strong>, due to decreased risk of nephritis and vasculitis.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d54558cf5d494b4f969a54453199ddbc.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Which of the following conditions would you not expect to see in a patient with Wolfram syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Diabetes mellitus"
      },
      {
        "id": 2,
        "text": "Sensorineural deafness"
      },
      {
        "id": 3,
        "text": "Optic atrophy"
      },
      {
        "id": 4,
        "text": "SIADH"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Diabetes insipidus is a clinical component of Wolfram syndrome, and not SIADH.&nbsp;</p>\n<p>Characteristics of Wolfram syndrome include:</p>\n<ul>\n<li><strong>D</strong>iabetes<strong> i</strong>nsipidus</li>\n<li><strong>D</strong>iabetes <strong>m</strong>ellitus</li>\n<li><strong>O</strong>ptic <strong>a</strong>trophy</li>\n<li>Sensorineural <strong>d</strong>eafness</li>\n</ul>\n<p>(Mnemonic <strong>DIDMOAD</strong>)</p>\n<p>Wolfram syndrome is caused by mutations of the <strong>WFS1&nbsp;gene</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not stated in the definition of sanitation by the National Sanitation Foundation of USA?",
    "choices": [
      {
        "id": 1,
        "text": "Clean farm"
      },
      {
        "id": 2,
        "text": "Clean business"
      },
      {
        "id": 3,
        "text": "Clean street"
      },
      {
        "id": 4,
        "text": "Clean neighborhood"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>According to the National Sanitation Foundation (<strong>NSF</strong>) of USA,&nbsp;<strong>sanitation</strong> is defined as the quality of living that is expressed in the <strong>clean home</strong>, the <strong>clean farm</strong>, the <strong>clean business</strong>, the <strong>clean neighborhood,&nbsp;</strong>and the <strong>clean community</strong>.</p>\n<p>The <strong>WHO</strong> defines <strong>environmental sanitation</strong> as the control of all those factors in man&rsquo;s physical environment which exercise or may exercise a deleterious effect on his physical development, health, and survival.</p>\n<p>In recent times, the term <strong>environmental sanitation</strong> has been replaced by <strong>environmental health.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following features would you not expect to see in a patient with Guillian-Barre syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Absent reflexes in lower limb"
      },
      {
        "id": 2,
        "text": "Ascending paralysis"
      },
      {
        "id": 3,
        "text": "Early bladder dysfunction"
      },
      {
        "id": 4,
        "text": "Bulbar paralysis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Bladder dysfunction is not usually severe and does not appear early in the course of <strong>Guillain-Barre Syndrome(GBS)</strong>. If bladder dysfunction is a prominent feature and comes early in the course, diagnostic possibilities other than GBS should be considered.</p>\n<p>GBS is an acute demyelinating polyradiculoneuropathy. It is an autoimmune disorder triggered by infections like:</p>\n<ul>\n<li><em>Campylobacter jejuni&nbsp;</em></li>\n<li>Cytomegalovirus (CMV)</li>\n<li>Epstein Barr virus</li>\n<li>Mycoplasma</li>\n<li>Varicella zoster virus</li>\n<li>Human immunodeficiency virus (HIV), dengue, or influenza</li>\n</ul>\n<p>It manifests as a rapidly evolving <strong>areflexic motor paralysis</strong>, with or without sensory disturbance. The usual pattern is&nbsp;<strong>ascending paralysis</strong>. Proximal and distal muscles are equally involved. The lower cranial nerves are frequently affected, causing <strong>bulbar weakness</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Nikshay is a surveillance system used in the national programme for which disease?",
    "choices": [
      {
        "id": 1,
        "text": "Leprosy"
      },
      {
        "id": 2,
        "text": "AIDS"
      },
      {
        "id": 3,
        "text": "Tuberculosis"
      },
      {
        "id": 4,
        "text": "Blindness"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"16\" aria-setsize=\"-1\" data-aria-posinset=\"1\" data-aria-level=\"1\"><strong>Nikshay</strong>&nbsp;is a&nbsp;<strong>web based IT</strong> system&nbsp;for<strong>&nbsp;case-based</strong>&nbsp;tuberculosis surveillance under the RNTCP.&nbsp;</li>\n<li data-leveltext=\"\uf0b7\" data-font=\"Symbol\" data-listid=\"16\" aria-setsize=\"-1\" data-aria-posinset=\"2\" data-aria-level=\"1\">This system stores information about the patient, medical history, diagnosis, co-morbidities and lab reports.&nbsp;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient presents with a wound on his leg with purulent discharge. Pus culture was positive for MRSA. Which of the following drugs will you prescribe?",
    "choices": [
      {
        "id": 1,
        "text": "Ciprofloxacin"
      },
      {
        "id": 2,
        "text": "Sparfloxacin"
      },
      {
        "id": 3,
        "text": "Delafloxacin"
      },
      {
        "id": 4,
        "text": "Levofloxacin"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Delafloxacin</strong>&nbsp;is a newer fluoroquinolone approved for use in <strong>acute bacterial skin and skin structural infections</strong> (ABSSSI) caused by susceptible bacteria including <strong>MRSA.</strong></p>\n<p>Compared to other fluoroquinolones which are zwitterionic in nature, delafloxacin is <strong>anionic</strong>. This enables the molecule to achieve <strong>increased </strong>intracellular<strong> penetration and concentration</strong>, especially under <strong>acidic conditions</strong> (skin wounds). This results in increased antimicrobial activity and a decreased adverse event profile at clinically potent doses.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'M11 - Revision Mini Test - 2';
        const quizFilename = 'm11-revision-mini-test-2-9af73f36.html';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2017-18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>