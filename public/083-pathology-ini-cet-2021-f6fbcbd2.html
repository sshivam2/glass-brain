<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>083 Pathology Ini-Cet 2021 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Pathology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">34</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "What is the cell of origin of Chronic Lymphocytic Leukaemia/Small Lymphocytic Lymphoma?",
    "choices": [
      {
        "id": 1,
        "text": "Mature B cells"
      },
      {
        "id": 2,
        "text": "Mature T cells"
      },
      {
        "id": 3,
        "text": "Progenitor T cells"
      },
      {
        "id": 4,
        "text": "Naive B cells"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The cell of origin of Chronic Lymphocytic Leukaemia (CLL)/ Small Lymphocytic Lymphoma (SLL) is either<strong>\u00a0naive B cells or post-germinal centre memory B cell.</strong>\u00a0</p>\n<p>The CLL and SLL differ only in the degree of peripheral blood lymphocytes. CLL is the <strong>most common leukemia</strong> of adults in the western world. The median age of diagnosis is\u00a0<strong>60 years</strong>. The most common genetic anomalies seen are\u00a0<strong>deletions of 13q14.3, 11q, and 17p </strong>and<strong> trisomy 12q.\u00a0</strong>Loss of tumor suppressor genes in chromosome 13 results in overexpression of the anti-apoptotic protein <strong>BCL2</strong>.</p>\n<p>The growth of CLL/SLL cells is confined to the <strong>proliferation centers </strong>(pathognomonic for CLL/SLL), where the tumor cells receive critical factors from the surrounding environments, such as\u00a0<strong>NF-\u03baB</strong> for cell survival,\u00a0<strong>MYC</strong> for cell growth,\u00a0<strong>Bruton Tyrosine Kinase </strong>(BTK) signaling pathway, etc.,</p>\n<p>The tumor cells express <strong>CD19, CD20, CD23, and CD5.\u00a0</strong><strong>Smudge cells</strong> are also characteristic of CLL.\u00a0<strong>Clinical features</strong> include easy fatiguability, weight loss, anorexia, generalized lymphadenopathy, hepatomegaly, hemolytic anemia, etc. CLL/SLL has a tendency to transform to a more aggressive diffuse large B-cell lymphoma (<strong>DLBCL</strong>) \u00a0- this is called <strong>Richter syndrome.</strong></p>\n<p>Factors with a bad prognosis include:</p>\n<ol style=\"list-style-type: lower-roman;\">\n<li><strong>Presence of deletions of 11q and \u00a017p.</strong></li>\n<li><strong>Lack of somatic hypermutation.</strong></li>\n<li><strong>Expression of ZAP-70, a protein that augments signals produced by the Ig receptor.</strong></li>\n<li><strong>Presence of NOTCH1 mutations</strong></li>\n</ol>\n<p><strong>BTK inhibitors</strong> and <strong>BCL2 inhibitors</strong> produce sustained therapeutic responses in a higher fractions of people with CLL/SLL.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Human Papilloma Virus inactivates RB gene by which of the following proteins?",
    "choices": [
      {
        "id": 1,
        "text": "E6"
      },
      {
        "id": 2,
        "text": "E7"
      },
      {
        "id": 3,
        "text": "L1"
      },
      {
        "id": 4,
        "text": "L2"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>E7 protein</strong> of Human Papilloma Virus (HPV) binds to the hypophosphorylated RB protein and displaces the <strong>E2F transcription factors</strong>, thereby promoting G1/S transition.</p>\n<p>RB gene is a key <strong>negative regulator </strong>of the cell cycle at the <strong>G1/S transition</strong>. RB gene exists in an active hypophosphorylated state in resting cells and in an inactive hyperphosphorylated state in cells undergoing G1/S transition.</p>\n<p>E7 protein from the <strong>high-risk</strong> types of HPV (such as HPV 16) binds to the hypophosphorylated RB through the same pocket that RB uses to bind and sequester the E2F transcription factors, thereby displacing the E2F which leads to the progression of the cell cycle and thus the proliferation of tumor cells. E7 proteins also <strong>inactivate</strong> the <strong>CDK inhibitors p21</strong> and <strong>p27</strong>. E7 proteins from high-risk HPVs (types 16,18 and 31) also bind and presumably <strong>activates cyclins &nbsp;A and E.</strong></p>\n<p><strong>Oncogenic activities of protein E6:</strong></p>\n<p>The E6 protein binds to and helps in the degradation of p53 and stimulates the expression of telomerase reverse transcriptase (<strong>TERT</strong>), which is the catalytic subunit of telomerase, thereby helping in the <strong>longevity</strong> of the cells.&nbsp;E6 from high-risk HPV types has a <strong>higher affinity</strong> for p53 than E6 from low-risk types.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a86d09d75c0b4dc28b0a9eb2e77b55d7x600x649.JPEG"
    ]
  },
  {
    "text": "In cystic fibrosis, which of the following structure is affected in pancreas?",
    "choices": [
      {
        "id": 1,
        "text": "A"
      },
      {
        "id": 2,
        "text": "B"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Other options:</p>\n<p>A- Endocrine pancreas</p>\n<p>C- Pancreatic ducts</p>\n<p>D- Blood vessels</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/73cc80aa29c4419380f1d5b9bd9a72fd.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/05ffd5d4951043478a5ae6b1d903930bx1280x1405.JPEG"
    ]
  },
  {
    "text": "Mediators involved in the early phase of type 1 hypersensitivity are?",
    "choices": [
      {
        "id": 1,
        "text": "1, 5"
      },
      {
        "id": 2,
        "text": "1, 2, 3, 4,"
      },
      {
        "id": 3,
        "text": "1, 2, 4, 5"
      },
      {
        "id": 4,
        "text": "2, 3, 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The <strong>mediators</strong> involved in the <strong>early phase of type 1 hypersensitivity</strong> are,&nbsp;</p>\n<ul>\n<li>Mast cells,&nbsp;</li>\n<li>Histamine,</li>\n<li>Prostaglandins (D2) and&nbsp;</li>\n<li>Leukotrienes (C4 and D4).</li>\n</ul>\n<p>Early phase of type 1 hypersensitivity:</p>\n<p>The mediators produced by the <strong>mast cells</strong> are responsible for most of the immediate hypersensitivity reactions. <strong>Histamine </strong>and <strong>leukotrienes</strong> are <strong>released rapidly</strong> from the sensitized mast cells and<strong> trigger intense immediate reactions</strong> characterized by edema, mucus secretion and smooth muscle spasm.</p>\n<p><strong>Other mediators</strong> involved in the early phase are,&nbsp;</p>\n<ul>\n<li>Enzymes: neutral proteases (chymase, tryptase) and acid hydrolases</li>\n<li>Proteoglycans: heparin and chondroitin sulfate</li>\n<li>Lipid mediators: Platelet-activating factor (PAF)</li>\n</ul>\n<p>Late-phase of type 1 hypersensitivity:</p>\n<p>The <strong>late phase</strong> reaction is characterized by the <strong>recruitment of leukocytes</strong>, that <strong>amplify</strong> and <strong>sustain the inflammatory response</strong> without exposure to the triggering antigen.</p>\n<p><strong>Mediators</strong> involved in the&nbsp;<strong>late phase</strong> of type 1 hypersensitivity reaction are:</p>\n<ul>\n<li>Cytokines: TNF, IL-1, IL-4, IL-5, and chemokines (eotaxin)</li>\n<li>Leukocytes (eosinophils)</li>\n<li>Major Basic Protein (MBP)</li>\n<li>Eosinophil cationic protein</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a1f061e9c572411eb6c43341cba6289cx1280x2558.JPEG"
    ]
  },
  {
    "text": "Given below is an image of activation of the coagulation cascade, following closed endothelial injury. Identify the factor \u2018L\u2019 which combines with tissue factor to activate factor IX.",
    "choices": [
      {
        "id": 1,
        "text": "Factor XII"
      },
      {
        "id": 2,
        "text": "Factor VII"
      },
      {
        "id": 3,
        "text": "Factor VIII"
      },
      {
        "id": 4,
        "text": "vWF"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The factor marked as \u2018L\u2019 is <strong>factor VII</strong>, which combines with <strong>tissue factor</strong> that is produced following a close endothelial injury to activate factor IX.\u00a0</p>\n<p>As the image represents the <strong><em>in vivo</em></strong> coagulation cascade, the <strong>tissue factor</strong> is the major initiator of coagulation. It is believed that\u00a0<em><strong>in vivo</strong>,\u00a0</em><strong>factor VIIa/tissue factor complex</strong> is the most important activator of <strong>factor IX</strong> and that <strong>factor IXa/factor VIIIa complex</strong> is the most important activator of <strong>factor X.</strong>\u00a0</p>\n<p>Tissue factor is expressed on the surfaces of the subendothelial cellular components of the vessel wall, such as smooth muscle cells and fibroblasts. This tissue factor is exposed to blood when there is a vascular damage. This activates the <strong><em>in vivo</em> extrinsic pathway</strong> of coagulation cascade, which is as follows:</p>\n<ul>\n<li>Tissue factor binds with serine protease factor <strong>VIIa</strong></li>\n<li>This complex then activates factor <strong>IX</strong> to factor <strong>IXa</strong></li>\n<li>Factor <strong>IXa</strong> then activates factor <strong>X</strong> to factor <strong>Xa</strong></li>\n<li>Factor <strong>Xa</strong> can be formed through the actions of <strong>either</strong> the tissue factor-factor <strong>VIIa</strong> complex <strong>or</strong> factor <strong>IXa</strong> (with factor VIIIa as cofactor)</li>\n<li>Factor <strong>Xa</strong> then converts <strong>prothrombin to thrombin</strong>, which is the pivotal protease of the coagulation cascade.</li>\n<li>The cofactor essential for this conversion is factor <strong>Va.</strong></li>\n<li>The <strong>thrombin</strong> then formed <strong>converts</strong> the soluble plasma <strong>fibrinogen</strong> to an insoluble <strong>fibrin</strong> matrix.</li>\n<li>Thrombin also activates factor <strong>XIII,</strong> which is the fibrin stabilizing factor, to factor <strong>XIIIa.</strong> This factor XIIIa forms covalent cross-links and thereby stabilizes the fibrin clot.</li>\n</ul>\n<p>The below image shows the\u00a0<strong><em>in vivo\u00a0</em>coagulation cascade.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7af2c8b518554536a3ebb3c9d7e6c441.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e166fa76bdd646689e605a2eaae2ed57x1280x1711.JPEG"
    ]
  },
  {
    "text": "The vacutainer tube shown in the given image contains:",
    "choices": [
      {
        "id": 1,
        "text": "Na-EDTA"
      },
      {
        "id": 2,
        "text": "Trisodium citrate"
      },
      {
        "id": 3,
        "text": "NAF-heparin"
      },
      {
        "id": 4,
        "text": "Clot activator"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Some important plastic tubes and their additives:</p>\n<table style=\"height: 168px; width: 327px;\">\n<tbody>\n<tr>\n<td style=\"width: 130px;\"><strong>Cap colour</strong></td>\n<td style=\"width: 181px;\"><strong>Additive present</strong></td>\n</tr>\n<tr>\n<td style=\"width: 130px;\">Light blue top</td>\n<td style=\"width: 181px;\">Sodium citrate</td>\n</tr>\n<tr>\n<td style=\"width: 130px;\">Dark green top</td>\n<td style=\"width: 181px;\">Heparin</td>\n</tr>\n<tr>\n<td style=\"width: 130px;\">Purple top</td>\n<td style=\"width: 181px;\">EDTA</td>\n</tr>\n<tr>\n<td style=\"width: 130px;\">Pale yellow top</td>\n<td style=\"width: 181px;\">Acid citrate dextrose</td>\n</tr>\n<tr>\n<td style=\"width: 130px;\">Light grey top</td>\n<td style=\"width: 181px;\">Sodium fluoride and potassium oxalate</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c1b7aafe86d343afb74cd33d0c3f010c.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Arrange the following cellular events of inflammation in the correct sequence:",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3, 4"
      },
      {
        "id": 2,
        "text": "2, 1, 4, 3"
      },
      {
        "id": 3,
        "text": "4, 1, 2, 3"
      },
      {
        "id": 4,
        "text": "3, 4, 1, 2"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The correct sequence of cellular events that occurs during inflammation is as follows: <strong>Rolling, Cytokine-mediated integrin activation, Adhesion, Migration</strong>.</p>\n<p>The recruitment of leucocytes to the site of inflammation is a multi-step process that is mediated by adhesion molecules and cytokines called chemokines. This process can be divided into sequential phases:</p>\n<ol style=\"list-style-type: lower-roman;\">\n<li>In the lumen: margination, <strong>rolling</strong> and <strong>adhesion</strong> to the endothelium occurs.</li>\n<li><strong>Migration</strong> of the leucocytes across the endothelium and vessel wall</li>\n<li><strong>Migration</strong> in the tissues towards a chemotactic stimulus.</li>\n</ol>\n<p>The process of leucocyte recruitment is as follows:</p>\n<ul>\n<li>Margination: Because of the dilation of the inflamed postcapillary venues, there is stasis of blood flow, and hence, more leucocytes assume a peripheral position along the endothelial surface; this process of leucocyte redistribution is called margination.</li>\n<li><strong>Rolling</strong>: The slowed down leucocytes then sense the signals from the endothelium and start rolling on the vessel wall.</li>\n<li><strong>Cytokine-mediated integrin activation</strong>: The attachment of leucocytes to the endothelial cells requires adhesion molecules that are activated by cytokines. The major families of proteins involved in adhesion and migration are <strong>selectins</strong> and <strong>integrins</strong> and their ligands.</li>\n<li><strong>Adhesions</strong>: The weak rolling interactions slow down the leucocytes and allow them to bind more firmly to the endothelium. <strong>Chemokines</strong> that were produced at the site of injury bind to the endothelial cell proteoglycans. These chemokines then bind to the rolling leucocytes and activate them. This, in turn, converts the ligands for\u00a0\u03b21 and\u00a0\u03b22 integrins, <strong>VLA-4,</strong> and <strong>LFA-1 </strong>present on the leucocytes to a <strong>high-affinity state</strong>.</li>\n<li>This combination of cytokine-induced expression of integrin ligands on the endothelium and increased integrin affinity on the leucocytes leads to firm <strong>adhesion</strong> of leucocytes to the endothelium at the site of inflammation.</li>\n<li>Leucocyte<strong> migration</strong>: This is the movement of leucocytes through the intact endothelium, called transmigration or diapedesis. This occurs in postcapillary venules. This migration occurs through the inter-endothelial gap towards the chemical concentration gradient created by the chemokines at the site of injury. This occurs with the help of adhesion molecules present in the intercellular junctions such as <strong>platelet endothelial cell adhesion molecule</strong> (<strong>PECAM-1</strong>) or <strong>CD31</strong>.\u00a0</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/13f6cf1070f84ca2831df8bddc1eb8ecx1280x1743.JPEG"
    ]
  },
  {
    "text": "Which of the following is used in the treatment of sideroblastic anemia?",
    "choices": [
      {
        "id": 1,
        "text": "Vitamin B12"
      },
      {
        "id": 2,
        "text": "Vitamin B6"
      },
      {
        "id": 3,
        "text": "Vitamin B1"
      },
      {
        "id": 4,
        "text": "Iron"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Vitamin B6 </strong>(Pyridoxine) is used in the treatment of <strong>sideroblastic anaemia</strong>.</p>\n<p><strong>Pyridoxine 200mg per day for 2-3 months</strong> is administered routinely to all cases of sideroblastic anaemia. This cofactor is essential for ALA-synthase activity, and mutations in the pyridoxine binding site of the enzyme have been found in several responsive patients. Blood transfusion and other supportive therapy are also indicated. In cases of secondary sideroblastic anaemia, the primary focus is the <strong>removal of the offending agent</strong>. But <strong>no definitive treatment</strong> is available for hereditary and idiopathic types of sideroblastic anaemia.</p>\n<p>Sideroblasts are <strong>nucleated red cells </strong>(normoblasts) containing siderotic granules which stain positively with <strong>Prussian blue stain</strong>.\u00a0Based on aetiology, sideroblastic anaemia are classified into <strong>hereditary</strong> and <strong>acquired</strong> types.</p>\n<p>Hereditary sideroblastic anaemia is an\u00a0<strong>X-linked</strong> disorder caused due to a defect in the activity of <strong>aminolevulinic acid (ALA) synthetase</strong> required for heme synthesis. Affected females act as carriers while males have moderate to marked anaemia and manifest in <strong>childhood</strong> or during <strong>early adulthood</strong></p>\n<p>Acquired sideroblastic anaemia:</p>\n<p>I) <strong>Primary acquired:</strong></p>\n<ul>\n<li>Also called\u00a0<strong>idiopathic</strong> or <strong>refractory</strong> acquired sideroblastic anaemia</li>\n<li>Occurs in <strong>middle-aged</strong> and <strong>older individuals</strong> of both sexes</li>\n<li>Due to the reduced activity of the <strong>enzyme ALA synthetase</strong>, there is disturbed growth and maturation of the erythroid precursors at the level of hematopoietic stem cell</li>\n<li><strong>Moderate to severe anaemia</strong>, which appears insidiously</li>\n<li><strong>Neutropenia</strong> and <strong>thrombocytopenia</strong> may also be seen</li>\n<li>Regarded as a <strong>myelodysplastic disorder </strong>in the FAB classification and thus considered <strong>preleukaemic</strong></li>\n</ul>\n<p>II) <strong>Secondary acquired:</strong></p>\n<p>May appear secondary to\u00a0</p>\n<ul>\n<li style=\"text-align: left;\"><strong>Drugs, chemicals and toxins</strong>: Isoniazid, Cycloserine, Chloramphenicol, Cyclophosphamide, Alcohol, Lead, etc.,</li>\n<li><strong>Haematological disorders:</strong> myelofibrosis, polycythemia vera, acute leukaemia, myeloma, lymphoma and hemolytic anaemia.</li>\n<li><strong>Miscellaneous</strong>: Carcinoma, myxoedema, rheumatoid arthritis and SLE.</li>\n</ul>\n<p><strong>Laboratory findings:</strong></p>\n<ul>\n<li>Peripheral smear: <strong>Hypochromic</strong>, <strong>microcytic</strong> (sometimes normocytic) anaemia</li>\n<li>Absolute values: <strong>MCV, MCH </strong>and<strong> MCHC are reduced</strong> except in acquired type, where MCV is raised.</li>\n<li>Bone marrow: <strong>Erythroid hyperplasia</strong> with macronormoblastic erythropoiesis. Marrow iron stores are raised. Pathognomonic <strong>ring sideroblasts</strong> are present.</li>\n<li>Serum ferritin: <strong>Raised</strong></li>\n<li>Serum iron: <strong>Raised</strong></li>\n<li>TIBC: <strong>Normal</strong></li>\n<li>Haemoglobin electrophoresis: <strong>Normal</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 5-year-old child who presented with proptosis of one of the eyes was found to have a desmin positive tumour. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Ewing\u2019s sarcoma"
      },
      {
        "id": 2,
        "text": "Embryonal rhabdomyosarcoma"
      },
      {
        "id": 3,
        "text": "Leukemia"
      },
      {
        "id": 4,
        "text": "Retinoblastoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Other options:</p>\n<p>A) Ewing's sarcoma: CD99 positive</p>\n<p>C) Leukaemia: CD45 positive</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 17-year-old boy presented with intussusception and was taken up for surgery. He was found to have multiple polyps. The resected section was sent for histopathology and the whole mount image of the specimen is given below. Identify the lesion.",
    "choices": [
      {
        "id": 1,
        "text": "Tubulovillous adenoma"
      },
      {
        "id": 2,
        "text": "Hamartomatous polyp"
      },
      {
        "id": 3,
        "text": "Adenocarcinoma"
      },
      {
        "id": 4,
        "text": "Hyperplastic polyp"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>D) Hyperplastic polyp:</p>\n<p>Hyperplastic polyps, most commonly found in the <strong>left colon</strong> are smooth, <strong>nodular protrusions </strong>of the mucosa, often on the crests of mucosal folds. Histologically, they are composed of mature <strong>goblet</strong> and <strong>absorptive cells </strong>with a serrated surface architecture.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2cd5496738d7420a974e89714e893f33.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a84b97547987411784cfa2d9950c0db9x1280x768.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5a31fe35c587424d8b91f6fd8b8abca9x396x298.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cdc99e69be4d4668b07b53ce71189898x720x540.JPEG"
    ]
  },
  {
    "text": "Which of the following is true?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2"
      },
      {
        "id": 2,
        "text": "1, 3"
      },
      {
        "id": 3,
        "text": "2, 3"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Of the given statements, 2 and 3 are true. BRCA1 is a tumor suppressor gene and MYC is a proto-oncogene.</p>\n<p><strong>BRCA1&nbsp;</strong>is a tumor suppressor gene located on chromosome <strong>17q21</strong> and its function is to repair the double-stranded breaks in DNA. It is associated with familial breast and ovarian carcinoma. BRCA1-associated breast cancers are commonly poorly differentiated.</p>\n<p>All breast cancers are separated into 3 major groups based on the expression of two proteins, ER and HER2 (also known as <strong>ERBB2</strong>). HER2 cancers are defined as cancers overexpressing HER2 and can be either ER-positive or ER-negative. Thus HER2neu is expressed only in a fraction of people with breast cancer.</p>\n<p>EGF-receptor family has two proto-oncogenes: ERBB1 that codes for EGFR and ERBB2 that codes for HER. Mutation in EGFR results in adenocarcinoma of the lung, which is one of the main subtypes of non-small cell lung carcinoma.</p>\n<p>MYC is a proto-oncogene, that is expressed in all eukaryotic cells and belongs to the immediate-early response genes, which are rapidly induced by RAS/MAPK signaling following growth factor stimulation of quiescent cells. Normally, MYC protein concentration are tightly controlled at the level of transcription, translation and protein stability. The mechanisms by which MYC promotes neoplastic cell growth may be follows:</p>\n<ul>\n<li>MYC activates the expression of many genes like D cyclins, that are involved in cell cycle progression</li>\n<li>MYC regulates the expression of telomerase</li>\n<li>MYC is one of the transcriptional factors that can act together to reprogram somatic cells into pluripotent stem cells</li>\n</ul>\n<p>MYC gene is deregulated in a number of cancers such as Burkitt lymphoma, breast, colon, lung and other cancers. The functionally identical NMYC and LMYC genes are also amplified in neuroblastomas and small cell cancers of the lung, respectively.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the given condition.",
    "choices": [
      {
        "id": 1,
        "text": "Pemphigus vulgaris"
      },
      {
        "id": 2,
        "text": "Leprosy"
      },
      {
        "id": 3,
        "text": "Mycosis fungoides"
      },
      {
        "id": 4,
        "text": "Visceral leishmaniasis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>D) Visceral leishmaniasis: In visceral leishmaniasis, parasites invade and activate the <strong>macrophages</strong> throughout the mononuclear phagocyte system. Hence, these phagocytic cells are enlarged and filled with leishmania species; many plasma cells are also present.</p>\n<p>The given slide shows <strong>macrophages</strong> infested with <strong>intracellular Leishmania donovani bodies</strong> (arrows) characterized by a kinetoplast and characteristic<strong> double dot appearance (Leishman stain).</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c90a09d9f3304a6dbb1e8360614e4ba3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ea55e6373d764d269353c4a3eb06d31ax510x502.GIF",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2dea83b13d534a539f8fd2364f482fbax1280x1302.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b66d5b7096844d97a24e74e51464066ex957x691.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/560ff93930284415965ee0d634fb870bx1024x768.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/108f5317125e48418758a93ecff94c73x360x363.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/386c3b4d3b8b47308a27dcb058c9d308x720x708.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cef49b3669fd4a6dae09e7ee1169a190x720x531.PNG"
    ]
  },
  {
    "text": "A karyotyping image is given below. What are the clinical features most likely to be expected in such patients?",
    "choices": [
      {
        "id": 1,
        "text": "Gynecomastia and long limbs"
      },
      {
        "id": 2,
        "text": "Flat occiput"
      },
      {
        "id": 3,
        "text": "Webbing of neck and lymphedema"
      },
      {
        "id": 4,
        "text": "Short stature and polydactyly"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>D) Short stature and polydactyly:</p>\n<p>Short stature with polydactyly is most commonly seen in <strong>Patau syndrome</strong> or <strong>trisomy 13</strong>.</p>\n<p>It's clinical features include:</p>\n<ul>\n<li>Cleft lip often midline</li>\n<li>Flexed fingers with postaxial polydactyly</li>\n<li>Ocular hypotelorism</li>\n<li>Bulbous nose</li>\n<li>Low-set, malformed ears</li>\n<li>Microcephaly</li>\n<li>Cerebral malformation, especially holoprosencephaly</li>\n<li>Microphthalmia</li>\n<li>Cardiac malformations</li>\n<li>Scalp defects</li>\n<li>Hypoplastic or absent ribs</li>\n<li>Visceral and genital anomalies</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4f918d01686c47d6b4a6bf1fb4a4f3d1.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4fc0eccac7584880a6a8c763a4419085x720x511.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/59e815279c4c46d0bd0d19a8d0b2eebax268x469.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/12f5b541fb8841149505616a9c0608f5x720x603.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9b402d5b2c0044878106afd9044b166dx720x1531.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/904a6b59370f41059059971e6a4d70b0x720x540.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f347e51387ed48dcb3fdc6341aa774cax720x844.JPEG"
    ]
  },
  {
    "text": "A 20-year-old athlete suddenly collapsed while playing football and was taken to the hospital where he was declared dead. His autopsy image is given below. Which of the following is the most likely cause of death?",
    "choices": [
      {
        "id": 1,
        "text": "Valvular heart disease due to RHD"
      },
      {
        "id": 2,
        "text": "Sudden cardiac death due to arrhythmia"
      },
      {
        "id": 3,
        "text": "Sudden cardiac death due to Hypertrophic cardiomyopathy"
      },
      {
        "id": 4,
        "text": "Sudden cardiac death due to atherosclerosis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image shows <strong>asymmetric septal hypertrophy</strong> and along with the scenario, it is suggestive of&nbsp;<strong>sudden cardiac death</strong> due to <strong>arrhythmia</strong>. Patients with <strong>hypertrophic cardiomyopathy</strong> have an increased risk of <strong>sudden cardiac death</strong> from <strong>ventricular tachyarrhythmias</strong>. In fact, <strong>arrhythmias</strong> are the most important/<strong>most common cause of death</strong> in hypertrophic cardiomyopathy.</p>\n<p>Hypertrophic cardiomyopathy is one of the most common causes of <strong>sudden,</strong> otherwise unexplained <strong>death</strong> in <strong>young athletes</strong>. HCM is characterized by reduced stroke volume due to impaired diastolic filling, which is a consequence of the massively hypertrophic left ventricle. There is a dynamic obstruction to the left ventricular outflow as the anterior mitral leaflet moves towards the ventricular septum during systole. This compromised cardiac output in combination with a secondary increase in pulmonary venous pressure is the reason for exertional dyspnea at times of increased oxygen demand.</p>\n<p>Major clinical problems in <strong>HCM</strong> are <strong>atrial fibrillation</strong>, <strong>stroke</strong>, intractable cardiac failure,&nbsp;<strong>ventricular arrhythmias</strong> and also <strong>sudden death</strong>. There is a harsh systolic ejection murmur caused by the ventricular outflow obstruction.&nbsp;Mutations causing hypertrophic cardiomyopathy (HCM) are most commonly seen in the genes encoding <strong>&beta;-myosin heavy chain </strong>(MHC/MYH7)&nbsp;or&nbsp;<strong>myosin-binding protein C</strong> (MYBP-C).&nbsp;</p>\n<p>HCM is mostly an <strong>autosomal dominant disorder</strong>. The most important histologic features of HCM myocardium are as follows:</p>\n<ol style=\"list-style-type: lower-roman;\">\n<li>Massive <strong>myocyte hypertrophy</strong> particularly of transverse myocyte diameters</li>\n<li><strong>Myofiber disarray</strong> including that of bundles of myocytes, individual myocytes, and contractile elements</li>\n<li>Interstitial and replacement <strong>fibrosis</strong></li>\n</ol>\n<p>Most of the patients can be treated with&nbsp;&beta; blockers to decrease heart rate and contractility. Implantable cardioverter-defibrillators are used in patients with increased risk of ventricular arrhythmias. Some patients can also be treated by surgical excision of the septal muscle or by carefully controlled septal infarction through a catheter-based infusion of alcohol.</p>\n<p>The below-given images show normal cardiac myocytes and myocytes in HCM respectively.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f12091d4b98d4972a0b1e50a057f100c.GIF"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/75728f31a92e4575b980e4b73df8943ax500x376.GIF",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/83b6281f27e94608bf946c243db71c49x500x372.GIF",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ec580bb97ede4d4b90f3094f904e0501x600x1208.JPEG"
    ]
  },
  {
    "text": "Which of the following can be prevented by transfusing irradiated RBCs?",
    "choices": [
      {
        "id": 1,
        "text": "Graft versus host disease"
      },
      {
        "id": 2,
        "text": "HLA Alloimmunization"
      },
      {
        "id": 3,
        "text": "Immunomodulation"
      },
      {
        "id": 4,
        "text": "Transfusion Related Acute Lung Injury (TRALI)"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Transfusion of irradiated RBCs prevent the incidence of <strong>graft versus host disease </strong>(GVHD) associated with the transfusion.</p>\n<p>GVHD occurs when immunologically competent cells or their precursors are transplanted into <strong>immunologically compromised</strong> recipients and the transferred cells recognize the alloantigens in the host and attack host tissues. It is seen most commonly during hematopoietic stem cell transplantation but may occur following transplantation of solid organs too.&nbsp;</p>\n<p>GVHD maybe of two types: acute and chronic.</p>\n<p><strong>Acute GVHD </strong>occurs within days to weeks after allogeneic hematopoietic stem cell transplantation. It mainly involves the <strong>immune system </strong>and the <strong>epithelia</strong> of the skin (in the form of generalized rash), <strong>liver</strong>( in the form of jaundice), and <strong>intestines</strong> (in the form of bloody diarrhea). But the affected tissues are not heavily infiltrated by lymphocytes.</p>\n<p><strong>Chronic GVHD</strong> may follow acute GVHD or may occur insidiously. These patients have extensive skin damage, with destruction of skin appendages and fibrosis of the dermis, resembling <strong>systemic sclerosis</strong>. Cholestatic jaundice and esophageal strictures are also common. There will be involution of the thymus and depletion of lymphocytes in the lymph nodes. There will also be recurrent bouts of <strong>life-threatening infections.</strong> Some may even develop <strong>autoimmunity</strong>, owing to the grafted CD4+ helper T cells reacting with host B cells and stimulating them, which may result in autoantibodies production.</p>\n<p>Depletion of donor T cells by irradiation, before transfusion can eliminate the occurrence of GVHD. But irradiation also has its side effects such as recurrence of tumor in leukemic patients, increased incidence of graft failures and EBV-related B-cell lymphoma.</p>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following statements are correct regarding the effect of Glucose-6-Phosphate Dehydrogenase deficiency?",
    "choices": [
      {
        "id": 1,
        "text": "Only 1 is correct."
      },
      {
        "id": 2,
        "text": "1 & 2 are correct."
      },
      {
        "id": 3,
        "text": "2 & 3 are correct."
      },
      {
        "id": 4,
        "text": "1, 2 & 4 are correct."
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Glucose-6-Phosphate Dehydrogenase (G6PD) deficiency causes <strong>decrease in reduced glutathione </strong>and<strong> decreased NADPH</strong>.</p>\n<p>G6PD is an important enzyme involved in the hexose monophosphate shunt. Defective enzyme function reduced the ability of red cells to protect themselves against oxidative injuries, thereby increasing lipid peroxidation and lead to hemolysis.&nbsp;</p>\n<ul>\n<li>G6PD reduces NADP to NADPH while oxidizing glucose-6-phosphate.</li>\n<li>This <strong>NADPH</strong> then provides reducing equivalents needed for conversion of oxidized glutathione to <strong>reduced glutathione</strong>.</li>\n<li>This reduced glutathione acts as a cofactor in reactions that neutralize compounds such as H2O2, thereby protecting against oxidant injury.</li>\n<li>Exposure of G6PD deficient red cells to oxidative stress leads to crosslinking of reactive sulfhydryl groups on globin chains, which then becomes denatured and form membrane-bound precipitates called &lsquo;<strong>Heinz</strong> <strong>bodies&rsquo;, </strong>thereby producing membrane damage.</li>\n<li>When these inclusion bearing RBCs pass through the splenic cords, macrophages pluck out these Heinz bodies.</li>\n<li>The resultant cells are called &lsquo;<strong>Bite cells</strong>&rsquo;.&nbsp;</li>\n</ul>\n<p>Clinical features:</p>\n<ul>\n<li>Episodic hemolysis, both intravascular and extravascular</li>\n<li>Hemolytic anaemia</li>\n<li>Hemoglobinemia</li>\n<li>Hemoglobinuria</li>\n</ul>\n<p>The episode of hemolysis is <strong>self-limiting</strong>, since only the older RBCs are at risk for lysis, leaving the G6PD-replete younger RBCs in circulation. The recovery phase is heralded by <strong>reticulocytosis</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not likely to be seen in a patient with Paroxysmal Nocturnal Hemoglobinuria (PNH)?",
    "choices": [
      {
        "id": 1,
        "text": "Aplastic anemia"
      },
      {
        "id": 2,
        "text": "Leukemia"
      },
      {
        "id": 3,
        "text": "Thrombosis"
      },
      {
        "id": 4,
        "text": "Hemolysis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Leukemia </strong>is least likely to be&nbsp;seen in patients with&nbsp;Paroxysmal Nocturnal Hemoglobinuria (PNH).</p>\n<p>Clinical manifestations of PNH include:</p>\n<ul>\n<li><strong>Hemolytic anemia</strong></li>\n<li>Pancytopenia</li>\n<li><strong>Intermittent hemoglobinuria</strong>- acute hemolytic episodes occur at night owing to a&nbsp;<strong>slight fall in pH</strong> during sleep</li>\n<li>Haemosiderinuria</li>\n<li><strong>Venous thrombosis </strong>(a leading cause of death in PNH)</li>\n<li>Patients diagnosed with PNH can later develop aplastic anemia and vice versa</li>\n</ul>\n<p>PNH is an acquired disorder resulting from the mutation in the phosphatidylinositol glycan complementation group A gene (PIGA), an enzyme that is essential for the synthesis of membrane-associated complement regulatory proteins. PNH blood cells are abnormally susceptible to <strong>lysis</strong> or <strong>injury</strong> by complement since they are deficient in three GPI- linked proteins that regulate complement activity:&nbsp;</p>\n<ul>\n<li><strong>Decay-accelerating factor</strong> or <strong>CD55</strong></li>\n<li><strong>Membrane inhibitor of reactive lysis</strong> or <strong>CD59</strong> (Inhibitor of C3 convertase) and</li>\n<li><strong>C8-binding protein&nbsp;</strong></li>\n</ul>\n<p><strong>Diagnosis:</strong></p>\n<ul>\n<li><strong>Ham&rsquo;s test</strong>: The abnormal sensitivity of red blood cells, leukocytes, and platelets to complement can be demonstrated in vitro using red cell lysis at <strong>acidic pH</strong>.</li>\n<li><strong>Flow cytometry</strong> detects the red cells that are deficient in GPI-linked proteins such as <strong>CD59</strong>.</li>\n</ul>\n<p>Treatment:</p>\n<p>Eculizumab, a monoclonal antibody, that prevents the conversion of C5 to C5a has been proven effective in PNH. The definitive treatment is hematopoietic stem cell transplantation.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Given below is an electron microscopic image of the lung tissue. A patient infected with SARS-COV2 presents with ARDS. The infection would affect and expand which of the labeled layers?",
    "choices": [
      {
        "id": 1,
        "text": "B"
      },
      {
        "id": 2,
        "text": "A"
      },
      {
        "id": 3,
        "text": "C"
      },
      {
        "id": 4,
        "text": "D"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>&nbsp;</p>\n<p>The image given in the question demonstrates the electron microscopic image of the blood-air barrier in the lungs. The structures that form the same are labeled in the image given below. The side of location of endothelium can be deduced by the location of the RBC.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/0fd8d386af03403b9911629b0e0dae84.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a687ad3d60144eb796fa01b338731f13x720x540.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/95a965f84ccc475c8fe931a059a4fabax1280x1486.JPEG"
    ]
  },
  {
    "text": "What is the gold standard investigation for the diagnosis of myocarditis?",
    "choices": [
      {
        "id": 1,
        "text": "Endo-myocardial biopsy"
      },
      {
        "id": 2,
        "text": "Magnetic Resonance Imaging"
      },
      {
        "id": 3,
        "text": "Brain Natriuretic Peptide"
      },
      {
        "id": 4,
        "text": "LDH1 to LDH2 ratio"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>An endo-myocardial biopsy</strong> is the <strong>gold standard</strong> investigation for the diagnosis of <strong>myocarditis</strong>.</p>\n<p>Myocarditis can be due to&nbsp;</p>\n<ul>\n<li>Infections: Coxsackie A and B, HIV, C.diphtheriae, Ricketssiae, Candida, Protozoa and helminths.</li>\n<li>Immune-mediated reactions: Post-viral, post-streptococcal, drug hypersensitivity (e.g: methyl dopa, sulfinamides), transplant rejection, etc.,</li>\n<li>Unknown: Sarcoidosis, Giant cell myocarditis</li>\n</ul>\n<p>Active myocarditis is characterized by an interstitial inflammatory infiltrate associated with degenerating or apoptotic myocytes.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child presented with bilateral proptosis. From the peripheral smear, he was suspected to have chloroma. What is the next investigation of choice?",
    "choices": [
      {
        "id": 1,
        "text": "Platelet count"
      },
      {
        "id": 2,
        "text": "WBC count"
      },
      {
        "id": 3,
        "text": "Flow cytometry"
      },
      {
        "id": 4,
        "text": "Bone marrow biopsy"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The next investigation of choice, in a child suspected to have a<strong> chloroma</strong>, is a <strong>bone marrow biopsy</strong>.</p>\n<div class=\"page\" title=\"Page 4947\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Chloroma, </strong>also called <strong>myeloid sarcoma</strong>,&nbsp;<strong>granulocytic sarcoma</strong>, or&nbsp;<strong>myeloblastoma</strong>&nbsp;is an <strong>extramedullary tumor</strong> that occurs in 2% to 14% of patients with <strong>acute myeloid leukemia (AML)</strong>. Frequent sites of involvement are the skin, lymph nodes, gastrointestinal tract, bone, soft tissue, testis, and peritoneum.</p>\n<p>Isolated orbital involvement of myeloid sarcoma is rare.&nbsp;<strong>Proptosis</strong> is the most common presentation. Other symptoms include lacrimal swelling, conjunctival mass lesion, retinal hemorrhages, ptosis, dystopia.&nbsp;<sup id=\"cite_ref-21\" class=\"reference\"></sup><sup id=\"cite_ref-22\" class=\"reference\"></sup>Decreased visual acuity and ocular movement restriction have also been reported.</p>\n<p>Most cases of chloroma can be diagnosed on <strong>peripheral smear</strong> examination, which is easily available and is relatively inexpensive. Sometimes it may not be associated with any peripheral smear abnormality, and hence <strong>bone marrow aspirate</strong> and <strong>biopsy</strong> should be done to confirm AML.&nbsp;The diagnosis can also be made if Auer rods are detected.&nbsp;Myeloid sarcomas have immunophenotypic features that are identical to AML.</p>\n<p>Although myeloid sarcomas are <strong>radiosensitive</strong>, they are managed with systemic <strong>chemotherapy</strong> in most cases, even in the absence of bone marrow involvement. <strong>Surgery</strong> and/or <strong>radiation</strong> therapy may be indicated for <strong>symptomatic</strong> lesions or tumors causing local organ dysfunction or obstruction.</p>\n<p>The image shows <strong>Auer&nbsp;rods</strong> contained within myeloblasts.&nbsp;</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/831bac512bc84d9aa0fe758b3c63d5dex352x512.JPEG"
    ]
  },
  {
    "text": "A person working in an industry for a long time developed progressive breathlessness. The histopathological image of his lung biopsy is given below. What industry was he most likely working in?",
    "choices": [
      {
        "id": 1,
        "text": "Silica"
      },
      {
        "id": 2,
        "text": "Asbestos"
      },
      {
        "id": 3,
        "text": "Coal dust"
      },
      {
        "id": 4,
        "text": "Cotton"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>&nbsp;</p>\n<p>Option D: <strong>Cotton dust</strong> causes <strong>byssinosis</strong> and can induce occupational asthma.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/8852b65881564881b51cf614d88a5ad7.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/5217156371654e7abdda0d2c6b9916c8x1280x896.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fb2407423eeb4baba654821bd01eb5cax1280x856.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6e51281fd81f4c8a99e5d632f32bf314x1280x859.JPEG"
    ]
  },
  {
    "text": "A patient presented with complaints of dyspnea on exertion for 1 month. Echocardiography showed the presence of mitral stenosis and left ventricular hypertrophy. Identify the histopathological finding given below and the probable diagnosis.",
    "choices": [
      {
        "id": 1,
        "text": "Aschoff body; Rheumatic heart disease"
      },
      {
        "id": 2,
        "text": "Calcification of valve; Mitral stenosis"
      },
      {
        "id": 3,
        "text": "Granuloma; Sarcoidosis"
      },
      {
        "id": 4,
        "text": "Non-caseating granuloma; Tuberculosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Image showing non-necrotizing granuloma seen in&nbsp;pulmonary tuberculosis.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/2e80d11c6fcb467fa393e8d49d531ee3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6031e6ed44f24170b9cdea19937062dax1280x925.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6fe4b58cde5642e99d945ade7d697924x1280x853.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/42888aed972b47a5be96f054daac716ax634x476.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/11aee33119ad4b2ea7dd11d44d86414bx1280x860.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/47dc789d288b4e18994e5f746afd2b8bx640x481.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0f0673ea9e7c4ac5b7ccef5cf8dbc8a3x1280x976.JPEG"
    ]
  },
  {
    "text": "A patient with lytic lesions on the skull is suspected of a diagnosis of Langerhan cell histiocytosis. Which of the following is a characteristic finding on electron microscopy?",
    "choices": [
      {
        "id": 1,
        "text": "Histiocytes"
      },
      {
        "id": 2,
        "text": "Birbeck granules"
      },
      {
        "id": 3,
        "text": "Eosinophils"
      },
      {
        "id": 4,
        "text": "Giant cells"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>&nbsp;</p>\n<p>Langerhans cell histiocytosis occurs due to the proliferation of a special type of immature dendritic cells, called&nbsp;<strong>Langerhans cells.&nbsp;</strong>Their&nbsp;normal function is to present antigens. The most common mutation is BRAFV600E gain-of-function mutation.</p>\n<p>It is characterized by <strong>single or multiple osteolytic bone lesions </strong>and<strong>&nbsp;</strong>can also infiltrate nearly every organ, like the skin (of the scalp), lungs, liver, spleen, bone marrow, or the central nervous system.&nbsp;</p>\n<p class=\"p1\">LCH can present as the following clinical entities:</p>\n<ul>\n<li class=\"p1\">Multifocal multisystem Langerhans cell histiocytosis <strong>(Letterer-Siwe disease)</strong></li>\n<li class=\"p1\">Unifocal and multifocal unisystem Langerhans cell histiocytosis <strong>(eosinophilic granuloma)-</strong>&nbsp;The combination of bone defects, diabetes insipidus, and exophthalmos is called the <strong>Hand-Sch&uuml;ller-Christian triad.</strong></li>\n<li class=\"p1\">Pulmonary Langerhans cell histiocytosis</li>\n</ul>\n<p>The below image shows lytic lesion of skull seen in LCH.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/73c07f01368c4588a1294a2217042c96x720x803.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1be94f63d5ae4abba214ad728db1130ex1280x864.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7b7ee9fc8f434279b6853e9fde20ca4bx720x828.JPEG"
    ]
  },
  {
    "text": "A 60-year-old patient presented with scrotal swelling and ataxia. Which among the following could likely be a cause?",
    "choices": [
      {
        "id": 1,
        "text": "Glioblastoma multiforme"
      },
      {
        "id": 2,
        "text": "Hodgkin lymphoma"
      },
      {
        "id": 3,
        "text": "Non-Hodgkin lymphoma"
      },
      {
        "id": 4,
        "text": "Non seminomatous germ cell tumor"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Note: This is a <strong>controversial question</strong>. A more detailed clinical history and examination than what is provided in the stem are required for us to arrive at a definitive diagnosis.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c8efdb1304bf46e8a49b9c923822727ex720x900.JPEG"
    ]
  },
  {
    "text": "A patient with cirrhosis and ascites presented to you. The gross appearance of his liver is as shown below. Which among the following is true about it?",
    "choices": [
      {
        "id": 1,
        "text": "Dark areas represent necrosis, white areas represent viable liver tissue"
      },
      {
        "id": 2,
        "text": "Dark areas represent viable liver tissue, white areas represent necrosis"
      },
      {
        "id": 3,
        "text": "White areas represent central hepatocytes"
      },
      {
        "id": 4,
        "text": "Dark areas represent peri-portal hepatocytes"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The gross image of the liver shows a <strong>nutmeg appearance,\u00a0</strong>seen in <strong>heart failure.</strong> The <strong>dark areas </strong>represent <strong>necrosis, white areas </strong>represent<strong> viable liver tissue.</strong></p>\n<p><strong>Nutmeg liver</strong> refers to the mottled appearance of the liver which resembles the cut section of nutmeg. This occurs as a result of hepatic venous congestion following <strong>right heart failure.</strong> The <strong>dark centrilobular zones</strong> reflect <strong>sinusoidal congestion.</strong> Congestion is seen around the central veins usually from right-sided heart failure. The <strong>pale periportal zones</strong> reflect <strong>normal</strong> or <strong>fatty liver</strong> tissue.</p>\n<p>The liver derives its blood supply from the portal venous system and the hepatic artery. The <strong>portal triad</strong> constitutes:</p>\n<ul>\n<li>Branches of the hepatic artery</li>\n<li>Portal vein\u00a0</li>\n<li>Bile duct</li>\n</ul>\n<p>The blood from the portal vein and the hepatic artery flow through the intervening sinusoids and drains into the central vein. The central veins from adjacent lobules form interlobular veins, which then unite as hepatic veins and finally drain into the inferior vena cava.\u00a0</p>\n<p>The hepatic lobule is divided into three zones:</p>\n<div class=\"page\" title=\"Page 1621\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>Zone 1 is the periportal area\u00a0</li>\n<li>Zone 2 is the intermediate zone</li>\n<li>Zone 3 is the area closest to the central vein</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 866\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Right-sided cardiac failure leads to passive congestion of the liver. Left-sided cardiac failure leads to hypoperfusion and hypoxia of hepatocytes around central veins. The combination of <strong>hypoperfusion</strong> and <strong>retrograde congestion</strong> causes centrilobular hemorrhagic necrosis, leading to this mottled appearance of the liver, known as nutmeg liver.\u00a0</p>\n<p>The microscopic image below of a nutmeg liver shows perisinusoidal fibrosis, hepatic venule dilation, and dilation of the sinusoids in zone III.</p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/afba0c25e3be43de9a2f6a823ba1705e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/74a49312f1bd48ada98a6435e3786bd2x1280x853.JPEG"
    ]
  },
  {
    "text": "A 6-year-old boy came with bilateral cervical lymphadenopathy. What is the probable diagnosis, cell, and virus associated with the image given below?",
    "choices": [
      {
        "id": 1,
        "text": "Non-Hodgkin's lymphoma, RS cell, EBV"
      },
      {
        "id": 2,
        "text": "Kaposi sarcoma, Giant cell, HIV"
      },
      {
        "id": 3,
        "text": "Hodgkin's lymphoma, RS cell, EBV"
      },
      {
        "id": 4,
        "text": "Infectious mononucleosis, RS cell, CMV"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>About 5-7% of the cases of infectious mononucleosis can be caused by the cytomegalovirus (<strong>CMV</strong>), which can also cause pneumonia. CMV-infected pneumocytes with large, <strong>intranuclear</strong>, <strong>basophilic</strong> inclusions with <strong>haloes</strong> at their periphery as well as small, granular <strong>cytoplasmic inclusions</strong> are seen below with an <strong>owl-eye appearance.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c93fd3b966e9456eac0187d14cc9a32e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ebf2e6c614de4074bdcd9413794ac0e6x650x487.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/91368ad29c9944bd9e774a9a2cc2ea23x1280x930.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e065ff6dd2594a9285cd40a505874684x1012x675.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/6196846b96d54a3b9e881966c1dccd7ax1024x768.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ef47954567d84dbbab85e282ac36faf3x1280x841.JPEG"
    ]
  },
  {
    "text": "A person was brought to the emergency department with facial swelling, itching, and hypotension following a bee sting. The mentioned clinical features are due to the increase in which immunoglobulin?",
    "choices": [
      {
        "id": 1,
        "text": "IgA"
      },
      {
        "id": 2,
        "text": "IgE"
      },
      {
        "id": 3,
        "text": "IgM"
      },
      {
        "id": 4,
        "text": "IgG"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical features suggest <strong>type 1 hypersensitivity reaction</strong> and are mediated by immunoglobulin E (<strong>IgE</strong>).</p>\n<p><strong>Immediate (Type I) hypersensitivity</strong>&nbsp;reactions refer to allergic reactions or allergies.</p>\n<p>It is a rapid immunologic reaction that is triggered by the binding of an antigen to IgE antibody on the surface of mast cells. It occurs&nbsp;in a previously sensitized individual.&nbsp;These reactions are induced by environmental antigens (allergens) that stimulate strong TH<sub>2</sub> responses and IgE production in genetically susceptible individuals.&nbsp;</p>\n<p>Activation of TH<sub>2</sub> cells is mediated by IL-4 and in turn, TH<sub>2</sub> cells produce IL-4, IL-5, and IL-13.&nbsp;These cytokines act on B cells to stimulate IgE and activation of eosinophils.&nbsp;IgE coats mast cells by binding to the <strong>Fc&epsilon;RI</strong>&nbsp;receptor. Re-exposure to the allergen leads to cross-linking of the IgE and Fc&epsilon;RI which in turn causes activation of mast cells releasing powerful mediators.&nbsp;The principal mediators are:</p>\n<ul>\n<li><strong>Histamine</strong></li>\n<li><strong>Proteases</strong></li>\n<li><strong>Prostaglandins</strong></li>\n<li><strong>Leukotrienes</strong></li>\n<li><strong>Cytokines</strong> like&nbsp;TNF, IL-1, and chemokines.&nbsp;</li>\n</ul>\n<p>The clinical manifestations may be local or systemic&nbsp;and range from mildly annoying rhinitis to fatal anaphylaxis.</p>\n<p>It occurs in two phases:<strong>&nbsp;</strong></p>\n<ul>\n<li>The immediate phase is characterized by vasodilation, vascular leakage, smooth muscle spasm (in asthma), or glandular secretions. These changes occur within minutes after exposure to an allergen and subside in a few hours.</li>\n<li>Late-phase reaction is characterized by infiltration of tissues with eosinophils, neutrophils, basophils, monocytes, and CD4+ T cells. Late-phase reaction sets in 2 to 24 hours later and may last for several days.</li>\n</ul>\n<p>Image: Sequence of events in immediate (type 1) hypersensitivity.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/957777893ca84d688544dd560439d13ex1280x2558.JPEG"
    ]
  },
  {
    "text": "All of the following are associated with massive splenomegaly except :",
    "choices": [
      {
        "id": 1,
        "text": "Chronic myeloid leukemia"
      },
      {
        "id": 2,
        "text": "Aplastic anemia"
      },
      {
        "id": 3,
        "text": "Hairy cell leukemia"
      },
      {
        "id": 4,
        "text": "Lymphoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 663\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 7\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 8\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 9\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Stem cell transplantation</strong> is the treatment of choice in those with a suitable donor. <strong>Immunosuppressive therapy</strong> is responsive in old patients or in patients without suitable donors.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<p>Other options:</p>\n<p>Option A-&nbsp;<strong>Chronic myeloid leukemia (CML)</strong> is a myeloproliferative neoplasm with the presence of<strong> BCR-ABL fusion gene&nbsp;translocation mutation.&nbsp;</strong>The marrow is markedly hypercellular because of increased numbers of maturing granulocytic precursor cells. This results in decreased hematopoiesis within the bone marrow. The <strong>spleen</strong> is often greatly <strong>enlarged</strong> as a result of extensive extramedullary hematopoiesis. Extramedullary hematopoiesis can also produce mild <strong>hepatomegaly</strong> and <strong>lymphadenopathy.</strong></p>\n<p>Option C- Hairy cell leukemia is a <strong>memory B-cell</strong> neoplasm predominantly seen in <strong>middle-aged male</strong> patients. It occurs due to activating <strong>BRAF</strong> mutations. Infiltration of the bone marrow, liver, and spleen with tumor cells result in&nbsp;<strong>splenomegaly.</strong> Sometimes, this can be the only finding in the patient. Pancytopenia results from marrow involvement.</p>\n<div class=\"page\" title=\"Page 3\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 3\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Hairy cells have round, oblong, or reniform nuclei and moderate amounts of pale blue cytoplasm with thread-like or bleb-like extensions. Immunophenotyping shows hairy cell leukemias typically express the pan-B-cell markers CD19 and CD20 and certain relatively distinctive markers, such as<strong> CD11c</strong>, <strong>CD25</strong>, <strong>CD103</strong>, and <strong>annexin A1</strong>.</p>\n<p>&nbsp;Option D- <strong>Lymphomas</strong> cause splenomegaly due to the <strong>infiltration</strong> of neoplastic cells in the spleen.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4b4583bb82df48aaa3989ceacb840475x800x600.PNG"
    ]
  },
  {
    "text": "A 42-year-old female patient presents with cough, low-grade fever, and hemoptysis. Investigations reveal a cavitary lesion on her right lung apex, which on biopsy reveals caseous necrosis. The underlying pathophysiology is :",
    "choices": [
      {
        "id": 1,
        "text": "Enzyme degradation"
      },
      {
        "id": 2,
        "text": "Type 4 hypersensitivity reaction"
      },
      {
        "id": 3,
        "text": "Fibrinoid deposition"
      },
      {
        "id": 4,
        "text": "Sudden cut-off of blood supply"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Other options:</p>\n<p>Option A:&nbsp;<strong>Enzyme degradation</strong> is seen in <strong>liquefactive necrosis</strong> which is characterized by digestion of the dead cells, resulting in transformation of the tissue into a viscous liquid. It is seen in focal bacterial or fungal infections. Eg: Brain abscess.</p>\n<p>Option C:&nbsp;<strong>Fibrinoid deposition</strong> is seen in <strong>fibrinoid necrosis.</strong> It is seen in immune reactions involving blood vessels with deposition of fibrinoid material which is combination of immune complexes and plasma proteins. Eg: Vasculitis syndromes</p>\n<p>Option D:&nbsp;<strong>Sudden cut-off of blood supply</strong> causes <strong>coagulative necrosis.</strong> It is a form of necrosis in which the original architecture of dead tissue is preserved with firm texture. Eg:&nbsp;Ischemic injury in all organs,&nbsp;except the brain.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9a06ff8efb6249c4911fe53cc3a8f21dx590x542.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/616e91a9283049569dcbbf09f307e0afx1280x848.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b3093885bd9c4c76a011df879e315d7bx1165x829.PNG"
    ]
  },
  {
    "text": "A 45-year-old male patient was diagnosed with iron deficiency anemia. Which of the following is true about intracellular regulation of iron in the above condition?",
    "choices": [
      {
        "id": 1,
        "text": "Ferritin translation is increased by binding IRP to IRE"
      },
      {
        "id": 2,
        "text": "Ferritin translation is decreased by binding IRP to IRE"
      },
      {
        "id": 3,
        "text": "Transferrin receptor 1 translation is unaffected by binding IRP to IRE"
      },
      {
        "id": 4,
        "text": "Transferrin receptor 1 translation is decreased by binding IRP to IRE"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>In iron deficiency anemia, <strong>ferritin translation</strong> is <strong>decreased</strong> by binding iron regulatory protein to iron response elements.</p>\n<p>Dietary iron is <strong>carried</strong> in the blood by <strong>transferrin</strong> and <strong>enters</strong> cells via endocytosis, mediated by the <strong>transferrin receptor.</strong> Excess iron is <strong>stored</strong> by binding to&nbsp;<strong>ferritin</strong>. The levels of transferrin, transferrin receptor (TfR), and ferritin are therefore crucial to cellular iron homeostasis.</p>\n<p>The synthesis of these three proteins is regulated in response to<strong> iron availability</strong> and <strong>aconitase </strong>(enzyme in citric acid cycle).</p>\n<div class=\"page\" title=\"Page 2114\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>When a cell is <strong>depleted of iron</strong>, the aconitase enzyme is converted to <strong>apoaconitase</strong>. Apoaconitase is identical to <strong>iron regulatory protein 1 (IRP-1)</strong> and is closely related to <strong>IRP-2.&nbsp;</strong>It regulates iron metabolism.</p>\n<p>The iron regulatory proteins (IRPs) are two cytoplasmic RNA-binding proteins that control iron metabolism. They bind to regions in the mRNA containing the ferritin and transferrin receptor. These mRNA sequences are part of hairpin structures known as iron response elements (IREs).&nbsp;</p>\n<ul>\n<li>When the IRPs bind to the 5' untranslated IRE sequence in the ferritin mRNA, <strong>IRPs block ferritin translation</strong>, thus decreasing ferritin.</li>\n<li>When IRPs are bound to the 3' end of the untranslated IRE sequence, they stabilize the mRNA, prevent its degradation and increase the copies of transferrin receptor per mRNA molecule.</li>\n</ul>\n<p>Hence, in iron-deficient cells, <strong>iron storage</strong> (bound to ferritin) is <strong>reduced</strong> and&nbsp;<strong>iron uptake</strong> (via transferrin receptor) becomes more <strong>efficient.&nbsp;</strong></p>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 65-year-old male patient with chronic fatigue and lymphadenopathy presents to the outpatient department. His peripheral smear shows the presence of smudge cells. Which of the following additional investigations will you do to arrive at a diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Polymerase chain reaction"
      },
      {
        "id": 2,
        "text": "Fluorescent in situ hybridization"
      },
      {
        "id": 3,
        "text": "Flow cytometry"
      },
      {
        "id": 4,
        "text": "Cytogenetics"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>An elderly patient with chronic fatigue and lymphadenopathy, and a peripheral smear showing the&nbsp;presence of smudge cells suggest a diagnosis of&nbsp;<strong>chronic</strong> <strong>lymphocytic</strong> <strong>leukemia</strong>. Immunophenotyping using<strong> flow cytometry</strong> is the investigation done to arrive at the diagnosis. The classical immunophenotypic feature of CLL is&nbsp;CD 19+, CD20+,&nbsp;<strong>CD 23+, CD5+.</strong></p>\n<p><strong>Chronic Lymphocytic Leukemia (CLL)</strong><strong>&nbsp;</strong>is a peripheral B-cell neoplasm usually affecting adults, more commonly men. Patients are often asymptomatic at diagnosis. When symptomatic, it presents non specifically with easy fatigability, weight loss, and anorexia. <strong>Generalized lymphadenopathy </strong>and<strong> hepatosplenomegaly</strong> are present in most symptomatic patients.&nbsp;</p>\n<p>The chromosomal defects in CLL include:</p>\n<ul>\n<li>Deletion of<strong>&nbsp;13q</strong>&nbsp;(<strong>commonest</strong>&nbsp;and has a good prognosis)</li>\n<li>Deletion of 11q</li>\n<li>Trisomy 12q</li>\n<li>Deletion of&nbsp;<strong>17p</strong>&nbsp;(poor prognosis)</li>\n</ul>\n<p>The peripheral blood smear in cases of chronic lymphocytic leukemia&nbsp;(CLL) contains&nbsp;<strong>small</strong> <strong>round</strong> <strong>lymphocytes</strong>&nbsp;having condensed chromatin and scant cytoplasm. Some of these cells may get disrupted while preparing the smears, producing <strong>smudge</strong> <strong>cells. </strong>An absolute lymphocyte count of &gt;5000/mm<sup>3 </sup>is required for diagnosis. Hypogammaglobulinemia is commonly seen, making the patient susceptible to infections. A few patients may develop&nbsp;<strong>hemolytic anemia or thrombocytopenia</strong>&nbsp;due to autoantibodies made by non-neoplastic B cells.</p>\n<p>On lymph node biopsy: Lymph nodes are composed of small lymphocytes admixed with larger activated lymphocytes. The large lymphocytes contain mitotically active cells and&nbsp;gather in loose aggregates referred to as <strong>proliferation centers.</strong> These proliferation centers are pathognomic to CLL when present.</p>\n<div class=\"page\" title=\"Page 601\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 813\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Expectant management&nbsp;is the treatment of choice for asymptomatic patients with chronic lymphocytic leukemia. The gold standard for therapy is a&nbsp;combination of&nbsp;<strong>fludarabine</strong>,&nbsp;<strong>cyclophosphamide</strong>, and&nbsp;<strong>rituximab.</strong></p>\n<p><strong>Richter&rsquo;s syndrome </strong>is a complication of CLL in which there is a transformation to an aggressive lymphoma, most commonly<strong>&nbsp;diffuse large B-cell lymphoma (DLBCL).</strong></p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 814\">The image shows small round lymphocytes and smudge cells seen in CLL.</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3c3c8325438b41cfacc5a99f7184c311x355x512.JPEG"
    ]
  },
  {
    "text": "Oil red O stain is used in which of the following?",
    "choices": [
      {
        "id": 1,
        "text": "Formalin fixation"
      },
      {
        "id": 2,
        "text": "Frozen section"
      },
      {
        "id": 3,
        "text": "Alcohol fixation"
      },
      {
        "id": 4,
        "text": "Gluteraldehyde fixation"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The image shows the lipid vesicles in the adipocytes stained using oil-red-O staining.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0c66878a03164f31a3515090753ca42bx257x208.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/49b4ee358500448eaa8aaf9a00c0768bx1280x960.JPEG"
    ]
  },
  {
    "text": "A boy presents with fever, night sweats, and neck swelling. The biopsy of swelling showed a starry sky appearance. What is the most likely genetic abnormality seen in this case?",
    "choices": [
      {
        "id": 1,
        "text": "MYC"
      },
      {
        "id": 2,
        "text": "RAS"
      },
      {
        "id": 3,
        "text": "BCR-ABL"
      },
      {
        "id": 4,
        "text": "p53"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 610\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><span data-preserver-spaces=\"true\">The given clinical scenario and the classical histopathological finding of starry sky appearance suggest the diagnosis of&nbsp;<strong>Burkitt's lymphoma</strong>&nbsp;and the most likely genetic abnormality is the translocation of the&nbsp;<strong>MYC gene </strong>on<strong> chromosome 8.</strong> </span></p>\n<p><span data-preserver-spaces=\"true\">Burkitt's lymphoma arises from&nbsp;</span>mature&nbsp;germinal center B-cells that express surface IgM, CD19, CD20, CD10, and BCL6.</p>\n<p>It is divided into endemic and sporadic types, both of which occur mainly in children or young adults.</p>\n<ul>\n<li><strong>African (endemic) Burkitt lymphoma</strong> often presents as a mass involving the mandible and may involve the abdominal viscera, particularly the kidneys, ovaries, and adrenal glands.&nbsp;</li>\n<li><strong>Sporadic (non-endemic) Burkitt lymphoma</strong> most often appears as a mass involving the ileocecum and peritoneum.&nbsp;</li>\n<li>A subset of aggressive lymphomas occurs in individuals infected with HIV.</li>\n</ul>\n<div class=\"page\" title=\"Page 606\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>All forms of Burkitt lymphoma are associated with translocations of the MYC gene on chromosome 8 that lead to increased MYC protein levels. Essentially all endemic Burkitt lymphomas are latently infected with <strong>Epstein-Barr virus</strong> (EBV).</p>\n<p>The tumor shows a <strong>high mitotic index</strong> with numerous <strong>apoptotic cells.</strong> The nuclear remnants of these apoptotic cells are phagocytosed by interspersed benign macrophages. The phagocytes have abundant clear cytoplasm, creating a characteristic <strong>starry sky pattern</strong>.</p>\n<p>Burkitt lymphoma is very aggressive but responds well to intensive chemotherapy.</p>\n<p>The image below shows the starry sky appearance seen in Burkitt's lymphoma.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2a7252784f1e4817b46fc86c42004172x1280x853.JPEG"
    ]
  },
  {
    "text": "An electron microscopic picture of a cut section of a nerve fiber is given.  Identify the area which will be affected in the most common variant of Guillain-Barr\u00e9 syndrome.",
    "choices": [
      {
        "id": 1,
        "text": "1"
      },
      {
        "id": 2,
        "text": "2"
      },
      {
        "id": 3,
        "text": "3"
      },
      {
        "id": 4,
        "text": "4"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<div class=\"page\" title=\"Page 3271\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Guillain-Barr\u00e9 syndrome (GBS) is an acute autoimmune disease that causes fulminant <strong>polyradiculoneuropathy</strong>. It is a <strong>T-cell mediated</strong> immune response.\u00a0</p>\n<p>GBS is usually associated with a history of upper respiratory infection (<strong>URI</strong>) or acute gastroenteritis (<strong>AGE</strong>) 1-3 weeks prior. The causative organisms may be\u00a0<em>Campylobacter jejuni</em>, cytomegalovirus, Epstein-Barr virus, and <em>Mycoplasma pneumoniae.</em></p>\n<div class=\"page\" title=\"Page 3271\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>It presents with the following features:</p>\n<ul>\n<li><strong>Ascending motor paralysis</strong>\u00a0(lower limbs &gt; upper limbs)</li>\n<li>Sensory deficits may or may not be seen</li>\n<li>Deep tendon reflexes -\u00a0absent\u00a0</li>\n<li>Transient bladder dysfunction - severe cases</li>\n<li>Autonomic manifestations - loss of vasomotor control, postural hypotension, cardiac dysrhythmias\u00a0</li>\n</ul>\n<div class=\"page\" title=\"Page 1220\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 1220\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 1221\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 1221\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Histological examination shows inflammation of peripheral nerves, manifested as <strong>perivenular</strong> and <strong>endoneurial infiltration</strong> by lymphocytes, macrophages, and a few plasma cells. On electron microscopy, an early effect on myelin sheaths is seen. There is\u00a0<strong>segmental demyelination</strong> induced by the actions of activated macrophages.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<p>There are several <strong>types</strong> of Guillain\u2013Barre syndrome:</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<ul>\n<li>Demyelinating\n<ul>\n<li>Acute inflammatory demyelinating polyneuropathy (<strong>AIDP</strong>) - <strong>most common</strong></li>\n</ul>\n</li>\n<li>Axonal\n<ul>\n<li>Acute motor axonal neuropathy (AMAN)</li>\n<li>Acute motor-sensory axonal neuropathy (AMSAN)</li>\n</ul>\n</li>\n<li>Regional GBS syndromes:\u00a0Miller\u2013Fisher syndrome (MFS)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/9ce700194b27458f8367ffba297d57f9.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a435899dd47645c58091ca5f4390f44dx1280x1500.JPEG"
    ]
  }
];
        let quizName = '083 Pathology Ini-Cet 2021';
        let hierarchy = ["Marrow", "PYQs", "Pathology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>