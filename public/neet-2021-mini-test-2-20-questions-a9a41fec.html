<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neet 2021 Mini Test 2  (20 Questions) - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Mini Test Series / 2020-21
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">20</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A 30-year-old lactating mother presents with fever & pain in her left breast, which appears as below. On examination of the affected side, there is local warmth,  point tenderness over the dependent area, and a positive fluctuation test. There is no palpable lump or skin thinning. There is mild axillary lymphadenopathy on the affected side. The contralateral breast is normal. What is the management plan for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Incision and Drainage after confirming with an ultrasound"
      },
      {
        "id": 2,
        "text": "Broad spectrum antibiotics only  after confirming with an ultrasound"
      },
      {
        "id": 3,
        "text": "Aspiration under USG guidance and antibiotics - Repeated aspiration if necessary"
      },
      {
        "id": 4,
        "text": "Punch biopsy under ultrasound guidance followed by a course of IV antibiotics"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given case scenario points towards a diagnosis of <strong>breast abscess</strong>. The latest guidelines for the management of breast abscess specify that <strong>multiple aspirations\u00a0under antibiotic cover</strong> should be attempted before an incision and drainage is done. This often allows resolution without the need for an incision scar and also allows the patient to continue breastfeeding.</p>\n<p>Mastitis occurs due to the growth of <strong>staphylococcus or streptococcus</strong> due to breast milk stasis. This occurs secondary to <strong>blockage of lactiferous duct</strong> or due to incomplete emptying of breast milk or due to retracted nipple. Overgrowth of these bacteria results in the development of breast abscess.</p>\n<p>It is commoner in new mothers at the <strong>beginning of lactation</strong> who are inexperienced with breastfeeding or <strong>during weaning</strong> when nipple trauma occurs due to the infant's growing teeth.\u00a0</p>\n<p>Signs and symptoms of this condition involve:</p>\n<ul>\n<li>Fever and malaise</li>\n<li>Localized pain and tenderness\u00a0</li>\n<li>Redness and swelling of the affected breast</li>\n<li>Fluctuation test positive due to pus in the abscess. It is a <strong>late sign.</strong></li>\n</ul>\n<p>The initial <strong>treatment</strong> should involve providing pain relief with <strong>analgesics</strong>. The abscess should then be localized preferably under USG guidance and percutaneous aspiration carried out. The pus should be sent for microbiological examination to find the organism and antibiotic sensitivity. Repeated aspirations may be carried out under antibiotics cover if needed.</p>\n<p>In some conditions mentioned below, the breast abscess may be <strong>unresponsive</strong> to repeated aspirations and antibiotic cover. In such cases, <strong>incision and drainage</strong>\u00a0is performed. The conditions include:</p>\n<ul>\n<li>Presence of thick pus</li>\n<li>Bacteria resistant\u00a0to antibiotics</li>\n<li>If just superficial part has been aspirated in the presence of a multiloculated abscess</li>\n<li>A non-healing breast abscess due to tuberculosis of breast or Inflammatory carcinoma of the breast, or an immunocompromised host.</li>\n</ul>\n<p>The below table summarises likely features to differentiate Bacterial mastitis from a Breast abscess</p>\n<table style=\"height: 439px;\" width=\"424\">\n<tbody>\n<tr>\n<td style=\"width: 91px;\">\u00a0</td>\n<td style=\"width: 142px;\"><strong>Bacterial mastitis</strong></td>\n<td style=\"width: 169px;\"><strong>Breast abscess</strong></td>\n</tr>\n<tr>\n<td style=\"width: 91px;\">Condition</td>\n<td style=\"width: 142px;\">Localized inflammation<br />due to ascending infection\u00a0<br />or infection due to milk stasis\u00a0</td>\n<td style=\"width: 169px;\">Occurs as a complication of mastitis<br />Pus formation</td>\n</tr>\n<tr>\n<td style=\"width: 91px;\">Symptoms</td>\n<td style=\"width: 142px;\"><strong>Dull</strong> pain</td>\n<td style=\"width: 169px;\"><strong>Throbbing</strong> pain</td>\n</tr>\n<tr>\n<td style=\"width: 91px;\">Signs (if any)</td>\n<td style=\"width: 142px;\">Tenderness<br />Erythema</td>\n<td style=\"width: 169px;\">Point tenderness<br />Erythema<br />Induration of skin(if chronic)<br />Lymphadenopathy<br />Fluctuation test +ve</td>\n</tr>\n<tr>\n<td style=\"width: 91px;\">Management</td>\n<td style=\"width: 142px;\">Analgesics<br /><strong>Antibiotics</strong></td>\n<td style=\"width: 169px;\">Analgesic<br /><strong>Aspiration of Pus</strong><br />Antibiotics</td>\n</tr>\n</tbody>\n</table>\n<p><br />The image below shows mastitis of the breast:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5dd66efd08aa4da39a4e81e7e2e3f353.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/df63677f7e714c00b75bfccaee01103cx460x720.JPEG"
    ]
  },
  {
    "text": "A homeless, alcoholic man presented with altered sensorium and rapid shallow breathing. His abdomen is distended, and fluid thrill is positive. Icterus and multiple spider hemangiomas are noted. You also find multiple needle tracks on his arms and a half-empty strip of paracetamol tablets in his pocket. The liver function test results are given below. What is the most likely cause for this patient's presentation?",
    "choices": [
      {
        "id": 1,
        "text": "Alcoholic liver disease"
      },
      {
        "id": 2,
        "text": "Acute viral hepatitis"
      },
      {
        "id": 3,
        "text": "Autoimmune hepatitis"
      },
      {
        "id": 4,
        "text": "Acetaminophen poisoning"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most likely cause for this patient's presentation is <strong>alcoholic liver disease</strong>.\u00a0</p>\n<p>This patient's presentation of altered consciousness with jaundice (scleral icterus) and signs of liver cirrhosis (distended abdomen, spider angiomas) is suggestive of hepatic encephalopathy. The <strong>AST: ALT</strong> ratio in this patient is <strong>&gt; 2:1</strong> which is characteristic of<strong> alcoholic liver disease</strong> (Normal levels: AST- 10-40 IU/L, ALT - 10-40 IU/L).<strong>\u00a0</strong>This is because there is a deficiency of pyridoxal 5'- phosphate in alcoholics.\u00a0</p>\n<p>An AST: ALT ratio &gt;2:1 is suggestive, whereas a ratio &gt;3:1 (as in this patient) is highly suggestive, of alcoholic liver disease.</p>\n<p>In this patient with alcoholic liver cirrhosis, not eating his meals has resulted in hypoglycemia and dehydration, precipitating hepatic encephalopathy.\u00a0</p>\n<p>Discriminant function (DF)\u00a0is calculated using\u00a0prothrombin time\u00a0and\u00a0bilirubin level.\u00a0It is also\u00a0known as the\u00a0Maddrey\u00a0score\u00a0and\u00a0it assesses the\u00a0severity\u00a0and\u00a0mortality risk\u00a0in alcoholic hepatitis.\u00a0<strong>DF \u2265 32</strong> indicates severe disease.</p>\n<p>Other options:</p>\n<p>Option B: This patient's homelessness and multiple needle tracks suggestive of IV drug abuse put him at risk of contracting viral hepatitis. In <strong>acute viral hepatitis</strong>, the aminotransferases are often elevated <strong>&gt; 500 IU</strong> (400-4000 IU/L) due to extensive cell injury.</p>\n<p>Option C: In <strong>autoimmune hepatitis</strong>, aminotransferase levels are elevated and fluctuate in the range of <strong>100-1000 IU/L</strong>. Autoimmune hepatitis may present as acute or chronic hepatitis or cirrhosis. Commonly associated symptoms include fatigue, anorexia, pruritis, arthralgias, upper abdominal discomfort, skin rashes including acne among others.\u00a0</p>\n<p>Option D: Finding an empty strip of paracetamol arises suspicion of paracetamol overdose/ <strong>acute\u00a0acetaminophen poisoning</strong>. However, in acute acetaminophen poisoning, the aminotransferases are elevated <strong>&gt; 1000 IU</strong> and may exceed 10,000 IU/L due to acute hepatocellular injury.\u00a0</p>\n<p>Liver Function Tests patterns in Hepatobiliary Disorders</p>\n<table style=\"width: 449px;\">\n<tbody>\n<tr>\n<td style=\"width: 147px;\"><strong>Type of Disorder</strong></td>\n<td style=\"width: 86px;\"><strong>Bilirubin</strong></td>\n<td style=\"width: 100px;\"><strong>Aminotransferases</strong></td>\n<td style=\"width: 88px;\"><strong>Alkaline phosphatase</strong></td>\n</tr>\n<tr>\n<td style=\"width: 147px;\">\n<p>Acute hepatocellular necrosis (viral and toxin-induced hepatitis, acute heart failure)</p>\n</td>\n<td style=\"width: 86px;\">\n<p>Increase in both direct and indirect bilirubin\u00a0</p>\n</td>\n<td style=\"width: 100px;\">\n<p>Elevated often, &gt;500 IU/L</p>\n<p>ALT &gt; AST</p>\n</td>\n<td style=\"width: 88px;\">Normal to &lt;3x normal elevation</td>\n</tr>\n<tr>\n<td style=\"width: 147px;\">Alcoholic hepatitis</td>\n<td style=\"width: 86px;\">Increase in both direct and indirect bilirubin</td>\n<td style=\"width: 100px;\">AST:ALT &gt;2\u00a0</td>\n<td style=\"width: 88px;\">Normal to &lt;3x normal elevation</td>\n</tr>\n<tr>\n<td style=\"width: 147px;\">Chronic hepatocellular disorders\u00a0</td>\n<td style=\"width: 86px;\">Increase in both direct and indirect bilirubin</td>\n<td style=\"width: 100px;\">Elevated but usually &lt;300 IU/L</td>\n<td style=\"width: 88px;\">Normal to &lt;3x normal elevation</td>\n</tr>\n<tr>\n<td style=\"width: 147px;\">Hemolysis</td>\n<td style=\"width: 86px;\">Increase in indirect bilirubin (85% of total serum bilirubin)</td>\n<td style=\"width: 100px;\">Normal</td>\n<td style=\"width: 88px;\">Normal</td>\n</tr>\n<tr>\n<td style=\"width: 147px;\">Intra- and extrahepatic cholestasis</td>\n<td style=\"width: 86px;\">Increase in both direct and indirect bilirubin</td>\n<td style=\"width: 100px;\">Normal to moderate elevation</td>\n<td style=\"width: 88px;\">Elevated, often &gt;4x normal</td>\n</tr>\n<tr>\n<td style=\"width: 147px;\">Obstructive jaundice</td>\n<td style=\"width: 86px;\">Increase in direct bilirubin</td>\n<td style=\"width: 100px;\">Normal to a slight elevation</td>\n<td style=\"width: 88px;\">\u00a0Elevated, often &gt;4x normal</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>\n<p>Note: The minimum toxic dose of paracetamol for single ingestion posing a significant risk of severe hepatotoxicity in adults is 7.5-10 g. A half-empty strip is unlikely to reach this threshold, which, coupled with the lab findings, makes\u00a0acetaminophen poisoning unlikely.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Precordial auscultation of a cyanotic newborn revealed a holosystolic murmur heard at the lower left parasternal area. On probing, it is found that the mother had had an episode of unusual behavior two years ago. She had an irritable mood and often spoke fast with pressured speech. She would stay up all night working on bizarre ideas but never feel fatigued. She had been started on medications which she continued to take through her pregnancy fearing a relapse but doesn't know the name of the tablet. Which of the following findings will be found on the chest X-ray of this baby?",
    "choices": [
      {
        "id": 1,
        "text": "Snowman appearance"
      },
      {
        "id": 2,
        "text": "Egg on side appearance"
      },
      {
        "id": 3,
        "text": "Boot shaped heart"
      },
      {
        "id": 4,
        "text": "Box shaped heart"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical vignette of <strong>cyanotic congenital heart disease</strong> with an antenatal history suggesting <strong>lithium intake</strong> for mania suggests\u00a0<strong>Ebstein's anomaly. The</strong> characteristic finding is that of a\u00a0<strong>box-shaped heart</strong>\u00a0on chest x-ray.</p>\n<p>Ebstein anomaly is characterized by the\u00a0<strong>downward displacement</strong>\u00a0of the\u00a0<strong>tricuspid valve</strong>\u00a0into the right ventricle. This results in a thin-walled, low-pressure,\u00a0<strong>atrialized right ventricular segment</strong>\u00a0due to the anomalous attachment of the tricuspid leaflets. The tricuspid valve tissue is dysplastic causing\u00a0<strong>tricuspid regurgitation.</strong>\u00a0This regurgitation leads to the\u00a0<strong>enlargement of the right atrium</strong>\u00a0producing the characteristic\u00a0<strong>box-shaped heart.</strong></p>\n<p>On auscultation, the S1 is widely split due to delayed closure of the anomalous tricuspid valve. The second heart sound is usually normal but may be widely split if there is a right bundle branch block. The\u00a0<strong>tricuspid regurgitation</strong>\u00a0results in the characteristic\u00a0<strong>holosystolic murmur</strong>\u00a0that is heard maximally at the left lower parasternal area. It may sometimes be heard at the apex due to the displaced location of the valve.</p>\n<p>Additionally, the\u00a0<strong>right ventricle</strong>\u00a0is\u00a0<strong>hypoplastic</strong>, which leads to decreased pulmonary outflow resulting in\u00a0<strong>functional pulmonary atresia</strong>. As a result,\u00a0<strong>blood</strong>\u00a0shunts through the\u00a0<strong>foramen ovale</strong>/atrial septal defect (ASD) presenting with\u00a0<strong>cyanosis</strong>\u00a0at birth.</p>\n<p>A s<strong>nowman appearance</strong>\u00a0is seen in older children with\u00a0<strong>total anomalous pulmonary venous return.</strong>\u00a0The anomalous pulmonary vein joining the brachiocephalic vein on the top, and the superior vena cava on the right form the head of the snowman; the body of the snowman is formed by the enlarged right atrium.</p>\n<p>An e<strong>gg-on-side appearance</strong>\u00a0is seen in the\u00a0<strong>transposition of great arteries</strong>\u00a0due to mild cardiomegaly and narrow mediastinum.</p>\n<p>A\u00a0<strong>boot-shaped heart</strong>\u00a0(also called Coeur en sabot) is seen in\u00a0<strong>Tetrology of Fallot</strong>\u00a0(TOF)<strong>.</strong> Here, there is right ventricular hypertrophy which causes an uplifted rounded apical shadow facing the left chest wall.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/88de0b5c249942babbbbad1368831489x1200x1429.GIF"
    ]
  },
  {
    "text": "A 68-year-old man presents with severe pain in the right knee for a duration of two weeks. He also complains of a mild grade fever during this period. On examination, the knee joint is swollen, mildly tender but there is no erythema or warmth. X-ray of the knee joint shows linear calcifications in the cartilages of the knee joint but no osteophytes or reduction in the joint space. The synovial fluid from the joint is aspirated for analysis. WBC count in the aspirated fluid is 15,000 cells/\u03bcL with 50% neutrophils. The aspirate shows crystals that appear to be rhomboid, 0.5 to 5 \u03bcm in the greatest dimension, and positively birefringent.  What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Calcium apatite deposition disease"
      },
      {
        "id": 2,
        "text": "Septic arthritis"
      },
      {
        "id": 3,
        "text": "Gout"
      },
      {
        "id": 4,
        "text": "Calcium pyrophosphate crystal deposition disease"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given history and investigations are suggestive of <strong>calcium pyrophosphate crystal deposition disease (CPPD).</strong></p>\n<p>Calcium pyrophosphate crystal deposition disease (CPPD), also known as <strong>pseudo-gout</strong> and chondrocalcinosis<strong>, </strong>is usually seen in the elderly&nbsp;and becomes more common with increasing age. It is classified&nbsp;into the sporadic (idiopathic), hereditary, and secondary types.</p>\n<ul>\n<li>In both sporadic and familial pseudogout, germline mutations in the <strong>ANKH gene</strong> result in increased production and deposition of <strong>inorganic phosphate</strong> in the tissue cartilages.&nbsp;</li>\n<li>CPPD in younger individuals (&lt;50 years) is usually secondary and is associated with previous joint damage, hyperparathyroidism, hemochromatosis, hypomagnesemia, hypothyroidism, ochronosis, and diabetes.</li>\n</ul>\n<p>Patients with CPPD may be asymptomatic or present with acute, subacute, or chronic joint disease.&nbsp;The joint involvement may be monoarticular or polyarticular. The knee is the most commonly affected joint. There may be associated systemic symptoms such as low-grade fever and fatigue. The <strong>radiodense deposition of calcium pyrophosphate crystals</strong>&nbsp;in a <strong>linear</strong> fashion in the cartilage is a characteristic X-ray finding, giving rise to the terminology, <strong>chondrocalcinosis.</strong></p>\n<p>Definitive diagnosis includes synovial fluid analysis. The synovial aspirate usually shows an increased WBC count ranging in thousands (a mean of 24,000 cells/&mu;L) with a predominance of neutrophils. The aspirate is also characteristic of<strong> rhomboid crystals, </strong>0.5 to 5 &mu;m in the greatest dimension which are<strong>&nbsp;positively birefringent </strong>under polarized microscopy.<strong>&nbsp;</strong>This means that the crystals appear blue when their optical axis is parallel to the polarizer and yellow when perpendicular.</p>\n<p>Synovial fluid under polarized microscopy in pseudogout:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ed9f3014408f48c287b0f0612dc26a1cx850x571.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/02963c2e3f184a74aef06109ae0c9b7ax720x541.PNG"
    ]
  },
  {
    "text": "You are participating in a village camp for screening pre-hypertension and hypertension in 100 individuals over 40 years of age without any other co-morbidities. You record the BP for all of them and find it to follow a normal distribution. The mean SBP is 120mmHg with a standard deviation of 10mmHg. You plan to conduct a short session for those whose BP is 130mmHg or more and advise them regarding non-pharmacological methods to reduce BP using the lifestyle modification approach. How many individuals will you conduct a session for?",
    "choices": [
      {
        "id": 1,
        "text": "16"
      },
      {
        "id": 2,
        "text": "32"
      },
      {
        "id": 3,
        "text": "8"
      },
      {
        "id": 4,
        "text": "40"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>In the given scenario, with a normal distribution graph with a mean SBP of 120 mmHg and a standard deviation of 10mmHg, almost<strong> 16 individuals</strong> will have an SBP of <strong>more than 130mmHg.</strong> As per your plan you can conduct a session for these individuals.</p>\n<p>In a normal distribution curve:</p>\n<ul>\n<li><strong>68%</strong> of the sample population lie between mean\u00a0<strong>\u00b1 1 SD.</strong></li>\n<li><strong>95.5%</strong> of the sample population lie between mean\u00a0<strong>\u00b1 2 SD</strong></li>\n<li><strong>99.7%</strong> of the sample population lie between mean\u00a0<strong>\u00b1 3 SD</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/81d5375be18a41f4ad67e370d60fe1cfx769x558.PNG"
    ]
  },
  {
    "text": "A 4-year-old child has a history of biting his lips and fingers. On evaluation, you notice lip lacerations, missing portions of fingers of his hands, and developmental delay. On inquiry, the parents say that two male cousins on the mother's side with similar complaints have been diagnosed with a genetic disorder. Lab reports reveal hyperuricemia. Which enzyme is most likely deficient in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Purine nucleoside phosphorylase"
      },
      {
        "id": 2,
        "text": "Hypoxanthine-guanine phosphoribosyltransferase"
      },
      {
        "id": 3,
        "text": "Adenine phosphoribosyltransferase"
      },
      {
        "id": 4,
        "text": "Adenosine deaminase"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given clinical scenario of <strong>self-mutilating behavior,</strong> <strong>delayed developmental milestones, positive family history and hyperuricemia</strong> is highly suggestive of <strong>Lesch-Nyhan syndrome</strong>. It occurs due to the <strong>complete&nbsp;deficiency</strong> of<strong>&nbsp;</strong>the enzyme<strong> hypoxanthine-guanine phosphoribosyltransferase (HGPRT)&nbsp;</strong>involved in the salvage pathway.</p>\n<p><strong>Purines</strong> produced in the body or introduced through diet can be converted to <strong>nucleoside triphosphates</strong> to be reused by the body. This pathway is called the <strong>salvage pathway</strong> for purines and is shown below</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d295845ea4924b19ab07ca33a23f65bex1280x1203.JPEG"
    ]
  },
  {
    "text": "An 8-year-old boy presents with complaints of dull, aching headaches and difficulty seeing the class board for the past few months. He is below the 25th percentile for height and weight. Deep tendon reflexes are sluggish. Eye examination reveals papilledema and bitemporal hemianopsia. An MRI shows a mixed cystic and solid lesion in the suprasellar region with calcification. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Craniopharyngioma"
      },
      {
        "id": 2,
        "text": "Pituitary adenoma"
      },
      {
        "id": 3,
        "text": "Optic pathway glioma"
      },
      {
        "id": 4,
        "text": "Rathke cleft cyst"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This clinical vignette of a calcified cystic lesion in the <strong>suprasellar</strong> region and symptoms of <strong>headache</strong> with bitemporal <strong>hemianopsia</strong> is suggestive of <strong>craniopharyngioma.</strong>&nbsp;</p>\n<p>It is a benign tumor that is derived from <strong>Rathke&rsquo;s pouch</strong>,&nbsp;a diverticulum arising from the embryonic buccal cavity, from which the anterior pituitary gland develops. It is most commonly seen in children (5&ndash;15 years); however, it exhibits a bimodal incidence and can also be seen in adults (55&ndash;65 years).&nbsp;</p>\n<p>These tumors are usually large and heterogeneous and have both<strong> solid </strong>and <strong>cystic components</strong>&nbsp;and occur within the&nbsp;<strong>suprasellar&nbsp;</strong>area<strong>.&nbsp;</strong>The<strong>&nbsp;</strong>cysts contain a cholesterol-rich, thick, brownish-yellow fluid that is comparable to <strong>\"machine oil.\"</strong></p>\n<p>Clinical presentation:</p>\n<ul>\n<li>Features of raised intracranial pressure, including headache that is a continuous dull-aching type and papilledema</li>\n<li>Visual impairment, with decreased acuity or visual field abnormalities (bitemporal hemianopsia)</li>\n<li>Endocrinologic abnormalities, such as growth failure, hypothyroidism, and delayed sexual maturation due to&nbsp;<strong>pituitary hypofunction</strong></li>\n</ul>\n<p>Radiological findings:&nbsp; &nbsp;</p>\n<ul>\n<li>CT: May show&nbsp;<strong>calcifications</strong>&nbsp;associated with the solid and cystic wall components.</li>\n<li>MRI:&nbsp;</li>\n</ul>\n<table style=\"height: 103px; width: 290px; margin-left: 90px;\">\n<tbody style=\"padding-left: 60px;\">\n<tr style=\"padding-left: 60px;\">\n<td style=\"width: 274px;\" colspan=\"2\"><strong>Cysts</strong></td>\n</tr>\n<tr style=\"padding-left: 90px;\">\n<td style=\"width: 61px; padding-left: 30px; text-align: left;\">T1</td>\n<td style=\"width: 213px; padding-left: 30px; text-align: left;\">Iso- to hyperintense to the brain (due to high protein content \"machinery oil cysts\")</td>\n</tr>\n<tr style=\"padding-left: 30px;\">\n<td style=\"width: 61px; padding-left: 30px; text-align: left;\">T2</td>\n<td style=\"width: 213px; padding-left: 30px; text-align: left;\">Mostly hyperintense</td>\n</tr>\n<tr style=\"padding-left: 30px;\">\n<td style=\"width: 274px; text-align: left;\" colspan=\"2\"><strong>Solid component</strong></td>\n</tr>\n<tr style=\"padding-left: 30px;\">\n<td style=\"width: 61px; padding-left: 30px; text-align: left;\">T1</td>\n<td style=\"width: 213px; padding-left: 30px; text-align: left;\">&nbsp;Vivid enhancement</td>\n</tr>\n<tr style=\"padding-left: 30px;\">\n<td style=\"width: 61px; padding-left: 30px; text-align: left;\">T2</td>\n<td style=\"width: 213px; padding-left: 30px; text-align: left;\">&nbsp;Variable or mixed</td>\n</tr>\n</tbody>\n</table>\n<p>Other options:&nbsp;</p>\n<p>Option B- <strong>Pituitary macroadenomas</strong> (with cystic degeneration or necrosis) usually have an intrasellar epicenter with pituitary fossa enlargement rather than suprasellar epicenter. Calcifications are mostly absent, in contrast to craniopharyngiomas. In addition, on imaging, indentation at the diaphragma sellae&nbsp;gives rise to<strong>&nbsp;snowman/figure of eight appearance/cottage loaf.</strong></p>\n<p>Option C- <strong>Optic nerve gliomas</strong> can be seen involving the optic nerves, optic chiasm, and optic tracts and can be differentiated from craniopharyngiomas with the help of calcifications that are characteristically seen in the latter. They are a type of pilocytic astrocytes that occur in childhood.</p>\n<p>Option D- <strong>Rathke's cleft cysts</strong> appear completely <strong>cystic</strong> with a smooth, thin wall and no calcifications on MRI. They are mostly seen in the<strong> intrasellar region</strong>;&nbsp;this is in contrast to craniopharyngiomas, which are mostly suprasellar.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5cd5acdde16049b18c891f3abfcf9393.jpg"
    ],
    "explanation_images": []
  },
  {
    "text": "A 24-year-old athlete came from abroad after winning a competition. He is fond of street food and would try anything he gets his hands on. But now he complains of greasy foul-smelling stools and abdominal cramps. Microscopic examination of stool concentrate revealed cysts and binucleate, tetra-flagellate trophozoites as shown. Appropriate treatment was prescribed for 5days to be taken thrice daily. Two days later he presented with flushing, palpitation, headache, tachycardia, and nausea. He reported having alcohol after initiation of therapy. What is the likely mechanism of the drug which was prescribed?",
    "choices": [
      {
        "id": 1,
        "text": "Inhibition of PFOR enzyme"
      },
      {
        "id": 2,
        "text": "Inhibition of protein synthesis by binding to 30S ribosome"
      },
      {
        "id": 3,
        "text": "Generation of free-radical metabolites"
      },
      {
        "id": 4,
        "text": "Inhibition of peptidoglycan cross-linking"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The above given clinical scenario is suggestive of disulfiram-like reaction following medication taken to treat giardiasis (stool examination shows binucleate, tetra-flagellate trophozoites) in this patient. Metronidazole acts by forming free-radical metabolites.</p>\n<p>It is well known to cause a disulfiram-like reaction when alcohol is taken during or within 3 days of therapy.</p>\n<p>Metronidazole acts selectively <strong>against anaerobic</strong> and <strong>microaerophilic</strong> organisms. It enters the cell and is reduced to form a nitro radical. This radical competes with the PFOR(pyruvate ferredoxin oxidoreductase) enzyme used by these organisms to carry out pyruvate metabolism(since these do not have mitochondria). It inhibits the cellular metabolism of these organisms, causing death.</p>\n<p>Other drugs used against giardiasis and their mechanism of action includes&nbsp;</p>\n<ul>\n<li><strong>Tinidazole</strong> has similar mechanism as metronidazole. Has longer t1/2 and <strong>longer duration</strong> of action. It is given as 2g once by mouth</li>\n<li><strong>Nitazoxanide</strong> has <strong>PFOR inhibiting</strong> property. It is given 500mg twice daily for 3 days</li>\n<li><strong>Paromomycin</strong> is an aminoglycoside. It is given to pregnant women with giardiasis. It acts by binding to <strong>30S ribosomes</strong> and <strong>inhibiting protein synthesis</strong>.</li>\n</ul>\n<p>Drugs causing disulfiram like reaction are :</p>\n<ul>\n<li>Metronidazole</li>\n<li>Cefoperazone</li>\n<li>1st generation sulfonylureas</li>\n<li>Griseofulvin</li>\n<li>Procarbazine.</li>\n</ul>\n<p>These drugs&nbsp;<strong>inhibit aldehyde dehydrogenase</strong>, similar to disulfiram. When alcohol is combined with these drugs, acetaldehyde accumulates and causes unpleasant reactions like</p>\n<ul>\n<li>Flushing</li>\n<li>Sweating</li>\n<li>Tachycardia</li>\n<li>Hypotension</li>\n<li>Nausea, vomiting</li>\n<li>Dizziness</li>\n<li>Headache.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/6a5481da3dfe43e3a0f60f1d521b3736.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "A female patient presents with disturbed sleep and difficulty concentrating at work for several months. She awakens early and feels fatigued all day. She is too anxious to fall asleep because she believes her neighborhood is unsafe. She is a single parent and worries about her son's school performance and their finances. What is the most likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Generalized anxiety disorder"
      },
      {
        "id": 2,
        "text": "Dependent personality disorder"
      },
      {
        "id": 3,
        "text": "Social anxiety disorder"
      },
      {
        "id": 4,
        "text": "Panic disorder"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<div class=\"page\" title=\"Page 425\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The most likely diagnosis is&nbsp;<strong>generalized anxiety disorder</strong> (GAD).</p>\n<p>Generalized anxiety disorder is defined as <strong>excessive anxiety </strong>and worry about several events or activities for most days during at least a <strong>6-month period.</strong></p>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 426\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>It is more commonly seen in <strong>females</strong>, with onset usually in teenage or early adult life. It is often seen <strong>coexisting</strong> with <strong>another</strong> <strong>anxiety</strong> <strong>disorder</strong> (such as social phobia, specific phobia, panic disorder), major depressive disorder, or substance abuse disorder.&nbsp;</p>\n<div class=\"page\" title=\"Page 425\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<div class=\"page\" title=\"Page 426\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Areas of the brain implicated in the pathogenesis of generalized anxiety disorder include the occipital lobe, basal ganglia, the limbic system, and the frontal cortex.</p>\n<p>Diagnosis of generalized anxiety disorder is made using the DSM-V criteria-</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"page\" title=\"Page 427\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ol>\n<li>Excessive anxiety and worry about a number of events, occurring more days than not for at least 6 months, about a number of events or activities.</li>\n<li>Difficulty in controlling the worry.</li>\n<li>The anxiety and worry are associated with three or more of the following six symptoms (with at least some symptoms having been present for more days than not for the past 6 months):\n<ol>\n<li>Restlessness or feeling keyed up or on edge</li>\n<li>Being easily fatigued</li>\n<li>Difficulty concentrating or mind going blank</li>\n<li>Irritability</li>\n<li>Muscle tension</li>\n<li>Sleep disturbance (difficulty falling or staying asleep, or restless, unsatisfying sleep).</li>\n</ol>\n</li>\n<li>The symptoms cause clinically significant distress or impairment in social, occupational, or other areas of functioning.</li>\n<li>The disturbance is not attributable to the physiological effects of a substance or another medical condition</li>\n<li>The disturbance is not better explained by another medical disorder.&nbsp;&nbsp;</li>\n</ol>\n<p>Treatment of generalized anxiety disorder includes <strong>psychotherapy</strong> and <strong>pharmacotherapy</strong> including benzodiazepines, selective serotonin reuptake inhibitors, buspirone, and venlafaxine.&nbsp;&nbsp;</p>\n<p>Other options:</p>\n<p>Option B:&nbsp;<strong>Dependent personality disorder</strong> (DPD) is an anxious personality disorder characterized by an inability to be alone. People with DPD develop symptoms of <strong>anxiety</strong> when <strong>they&rsquo;re not around others.</strong> They rely on other people for comfort, reassurance, advice, and support.</p>\n<p>Option C:&nbsp;<strong>Social anxiety disorder/social phobia</strong> specifically involves the <strong>fear </strong>of<strong> social situations,</strong> unlike general anxiety disorder which involves anxiety about a lot of different things.</p>\n<p>Option D:&nbsp;<strong>Panic disorder</strong> includes episodes of acute intense attacks of anxiety accompanied by feelings of impending doom. Generalized anxiety disorder is often confused with panic disorder and can be differentiated by the absence of <strong>spontaneous panic</strong> <strong>attacks</strong>.&nbsp;</p>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 64-year-old woman, Mrs. Sharmila is brought to the emergency room, with a 3-day history of fever, worsening confusion, agitation, and disorientation. Her husband says that he also noticed drooping of her mouth on the left side, since this morning and immediately rushed her to the hospital. She has no other significant past history and no recent foreign travel. Examination reveals a pulse rate of 90 per minute, BP of 142/90 mm of Hg, and a temperature of 100.3F.  She is drowsy and agitated but is able to follow directions. She has some neck rigidity. Weakness is present on the left side of the face with drooping of the angle of the mouth, inability to close her eyelids, and inability to furrow her forehead on the same side. The rest of the neurological examination is normal. CSF tap is performed and the lab results are attached below. What is the most likely causative agent in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Borrelia burgdorferi"
      },
      {
        "id": 2,
        "text": "West Nile Virus"
      },
      {
        "id": 3,
        "text": "Herpes simplex virus"
      },
      {
        "id": 4,
        "text": "Neisseria meningitidis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>This clinical vignette and CSF analysis findings are strongly suggestive of <strong>viral encephalitis</strong>. The <strong>most common cause</strong> of <strong>sporadic acute viral encephalitis</strong> in the world is the <strong>Herpes simplex virus</strong> (HSV). Specifically, <strong>Herpes simplex virus-1</strong>.\u00a0</p>\n<p>It is a DNA virus belonging to the Herpesviridae family. It can cause sporadic acute encephalitis in individuals of all age groups with no gender predilection. A majority of these patients are already infected with HSV. Therefore, encephalitis is thought to occur\u00a0by means of direct neuronal transmission of the virus to the brain via the trigeminal or olfactory nerve.\u00a0</p>\n<p>Clinically, patients with acute viral encephalitis present with-</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Constitutional symptoms- fever and headache</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Confusion, agitation, change in personality, and altered consciousness</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Signs of meningeal irritation such as neck rigidity</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Focal neurological deficits involving any part of the body ranging from ataxia to hemiparesis</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Cranial nerve deficits such as facial palsy (as seen in this patient)</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\"><strong>Temporal lobe </strong>signs- <strong>Characteristic </strong>of<strong> HSV encephalitis</strong>. Includes aphasia, memory loss, and auditory hallucinations</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Seizures- focal or generalized.\u00a0</li>\n</ul>\n<p>Laboratory investigation of HSV encephalitis includes-</p>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">CSF analysis- Increased WBC count with lymphocytic predominance; normal glucose; increased protein; and normal to increased opening pressure\u00a0</li>\n</ul>\n<table style=\"height: 155px; width: 375px; margin-left: 30px;\">\n<tbody style=\"padding-left: 30px;\">\n<tr style=\"height: 18px; padding-left: 30px;\">\n<td style=\"width: 159px; height: 18px; padding-left: 30px;\">Finding</td>\n<td style=\"width: 211px; height: 18px; padding-left: 30px;\"><strong>Normal</strong></td>\n<td style=\"width: 132px; height: 18px; padding-left: 30px;\"><strong>Encephalitis\u00a0</strong></td>\n</tr>\n<tr style=\"height: 18px; padding-left: 30px;\">\n<td style=\"width: 159px; height: 18px; padding-left: 30px;\">WBC count (per \u03bcL)</td>\n<td style=\"width: 211px; height: 18px; padding-left: 30px;\">&lt;5</td>\n<td style=\"width: 132px; height: 18px; padding-left: 30px;\">50-500\u00a0</td>\n</tr>\n<tr style=\"height: 85px; padding-left: 30px;\">\n<td style=\"width: 159px; height: 85px; padding-left: 30px;\">Differential of WBC\u00a0</td>\n<td style=\"width: 211px; height: 85px; padding-left: 30px;\">\n<p>60-70% lymphocytes;\u00a0 &lt; 30% monocytes</p>\n</td>\n<td style=\"width: 132px; height: 85px; text-align: center;\">Predominantly lymphocytes</td>\n</tr>\n<tr style=\"height: 18px; padding-left: 30px;\">\n<td style=\"width: 159px; height: 18px; padding-left: 30px;\">Gram stain\u00a0</td>\n<td style=\"width: 211px; height: 18px; padding-left: 30px;\">Negative</td>\n<td style=\"width: 132px; height: 18px; padding-left: 30px;\">Negative</td>\n</tr>\n<tr style=\"height: 36px; padding-left: 30px;\">\n<td style=\"width: 159px; height: 36px; padding-left: 30px;\">Glucose (mg/dL)</td>\n<td style=\"width: 211px; height: 36px; padding-left: 30px;\">40-85\u00a0</td>\n<td style=\"width: 132px; height: 36px; padding-left: 30px;\">normal</td>\n</tr>\n<tr style=\"height: 64px; padding-left: 30px;\">\n<td style=\"width: 159px; height: 64px; padding-left: 30px;\">\n<p>Protein (mg/dL)</p>\n</td>\n<td style=\"width: 211px; height: 64px; padding-left: 30px;\">15-45 mg/dL</td>\n<td style=\"width: 132px; height: 64px; padding-left: 30px;\">50-100</td>\n</tr>\n<tr style=\"height: 36px; padding-left: 30px;\">\n<td style=\"width: 159px; height: 36px; padding-left: 30px;\">Opening pressure</td>\n<td style=\"width: 211px; height: 36px; padding-left: 30px;\">50-180 mm of water</td>\n<td style=\"width: 132px; height: 36px; padding-left: 30px;\">normal to increased</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>\n<ul>\n<li style=\"padding-left: 30px;\"><strong>HSV DNA in CSF by PCR</strong>- Most sensitive method for early diagnosis of HSV encephalitis. It is the<strong> investigation of choice.</strong></li>\n<li style=\"padding-left: 30px;\">MRI- T2-weighted MRI,\u00a0 FLAIR, or Diffusion-weighted MRI show high-intensity signals in the temporal regions</li>\n<li style=\"padding-left: 30px;\">EEG- A distinctive periodic pattern is seen.</li>\n</ul>\n<p>Treatment of HSV encephalitis includes <strong>IV. Acyclovir</strong>. It is the <strong>drug of choice</strong> and administered in the dose of 10mg/kg body weight, once every eight hours for 14 to 21 days.</p>\n<p>Other options-</p>\n<p>Option A- Borrelia burgdorferi is the causative organism of Lyme disease. CNS involvement may be seen in the late stages due to dissemination and is called neuroborreliosis.\u00a0Patients present with symptoms of diffuse encephalopathy and radiculopathy or meningitis. They include spastic paraparesis, ataxia, cranial nerve palsies, bladder dysfunction, and cognitive impairment. However, in this clinical case, neuroborreliosis is unlikely.</p>\n<p>Option B- West Nile Virus may also cause encephalitis. It may also cause other characteristic symptoms such as acute flaccid paralysis. It is seen more commonly in people aged more than 60 years and in immunocompromised. It is less common than sporadic HSV encephalitis and is therefore a less likely cause in this case.</p>\n<p>Option D- Neisseria meningitides cause bacterial meningitis. It is unlikely in this case as the CSF analysis suggests a viral etiology.</p>\n<p>T2-weighted MRI showing temporal lobe involvement in HSV encephalitis-</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e8c33e7dde164fd8adfa7d0badbcc4ddx480x512.JPEG"
    ]
  },
  {
    "text": "A 25-year-old boxer came to the emergency department after an injury to the hand during a boxing fight. The patient complains of pain, swelling, and tenderness over the base of the thumb. On examination, a restricted thumb movement over the carpometacarpal joint is observed. Based on the history given by the patient, an x-ray of the hand is done and is shown in the figure. Which of the following muscles of the hand causes displacement of the thumb after this fracture?",
    "choices": [
      {
        "id": 1,
        "text": "Extensor pollicis longus"
      },
      {
        "id": 2,
        "text": "Abductor pollicis brevis"
      },
      {
        "id": 3,
        "text": "Abductor pollicis longus"
      },
      {
        "id": 4,
        "text": "Flexor pollicis brevis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>In the given case, Xray shows a fracture of the <strong>base </strong>of the <strong>1st metacarpal </strong>also known as <strong>Bennet fracture</strong>.&nbsp;&nbsp;It is unstable due to the <strong>medial and dorsal pull</strong> of the a<strong>bductor pollicis longus</strong>&nbsp;muscle which is inserted on the radial side of the first metacarpal base.</p>\n<ul>\n<li style=\"padding-left: 30px;\"><strong>Origin:&nbsp; Posterior&nbsp;</strong>surface of the&nbsp;<strong>ulnar shaft&nbsp;</strong>and adjacent interosseus membrane.</li>\n<li style=\"padding-left: 30px;\"><strong>Insertion:</strong>&nbsp;Splits into two slips. One is attached on trapezium and other on<strong> radial surface of base of 1st metacarpal</strong></li>\n<li style=\"padding-left: 30px;\"><strong>Action:</strong>&nbsp;Abducts the metacarpal bone of the thumb and wrist.</li>\n<li style=\"padding-left: 30px;\"><strong>Innervation:&nbsp;</strong>Posterior interosseus nerve (radial nerve)</li>\n</ul>\n<p>Opponens pollicis takes origin from tubercle of trapezium and inserts along the lateral border of 1st metacarpal. It may also be implicated in the dislocation of a fractured segment of Bennet fracture</p>\n<p style=\"padding-left: 30px;\">&nbsp;The images below show the pull of abductor pollicis longus muscle and the repair of Bennet fracture done using K-wire to prevent displacement due to muscle pull</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b52de39bea0c439d9587d82d244f940c.png"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/293880e3d2fc425dbd08bfcd30ff0efcx1280x1485.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/013f9272fc3a492ba1cc5d14b3638069x700x599.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/288617977f734ebab3ee233b32020f5ex1049x1024.JPEG"
    ]
  },
  {
    "text": "A 61-year-old man presented with weight loss, easy fatiguability, and bone pain for 6 months duration.  A bone marrow aspirate is shown in the image below. Immunohistochemistry was negative for tDt but was positive for MPO. Cytogenetic studies revealed the presence of t(15:17). What is the likely diagnosis in this case?",
    "choices": [
      {
        "id": 1,
        "text": "Acute lymbhoblastic leukemia"
      },
      {
        "id": 2,
        "text": "Acute myeloid leukemia"
      },
      {
        "id": 3,
        "text": "Chronic lymphocytic leukemia"
      },
      {
        "id": 4,
        "text": "Chronic myelogenous leukemia"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The above clinical scenario of an elderly man presenting with anemia, thrombocytopenia, positive <strong>MPO</strong> in immunohistochemistry, characteristic <strong>translocation</strong>(15;17), and&nbsp;peripheral smear showing&nbsp;<strong>faggot cells</strong>&nbsp;is suggestive of <strong>acute myeloid leukemia</strong> (AML).</p>\n<p>AML is a hematopoietic progenitor malignancy that causes <strong>immature myeloblast accumulation</strong> in the bone marrow.&nbsp; Incidence increases with age and peaks <strong>after 60 years</strong> of age. Occupational exposure to <strong>benzene</strong>&nbsp;leads to epoxide formation which in turn predisposes to the development of <strong>AML.</strong>&nbsp;Clinically, the patients present with symptoms resulting due to <strong>pancytopenia</strong> (anemia, neutropenia, thrombocytopenia). There is generalised <strong>fatigue</strong>, bone pain,&nbsp;<strong>bleeding</strong> tendencies and an increased risk of recurrent<strong> infections. </strong>Hemorrhagic complications such as <strong>disseminated intravascular coagulation</strong> may be seen more commonly in a subtype of AML, <strong>acute promyelocytic leukemia.</strong></p>\n<p>Other&nbsp;distinctive features of AML include</p>\n<ul>\n<li>Bone marrow/peripheral smear shows a large, uniform population of cells (myeloblasts) with prominent nucleoli (<strong>yellow arrow</strong>).&nbsp;It shows the presence of primary cytoplasmic granules</li>\n<li><strong>Auer rods:</strong>&nbsp;needle-shaped azurophilic intracytoplasmic inclusion bodies formed by the fusion of lysosomes. (<strong>black arrow</strong>)</li>\n<li>Multiple Auer rods clustered together within a single cell resembling a bundle of sticks known as <strong>faggot cells</strong> (seen in peripheral smear).</li>\n<li>This is characteristic of <strong>acute promyelocytic leukemia</strong> (AML M3) or AML associated with <em>PML-RAR\u0251</em> fusion gene or<strong> t(15;17).</strong> Other&nbsp;cytogenetic abnormalities, seen in AML are t(8;21) and inversion 16.&nbsp;</li>\n</ul>\n<p>For acute myeloblastic leukemia (AML) diagnosis, the <strong>blast cell count</strong> should be<strong> &ge;20%</strong> in the peripheral blood or&nbsp;bone marrow</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/d65a96532539490ba31018f6894cd4bd.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2d5a413779f1468dac68342811b4bb48x352x512.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9788bbf7ca0b4bf092835c95fb655bdex720x820.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3ea50c0952f847bb8c23e2a4ef34546ax355x512.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a07b0a55e0f04edfaefe10bde3ca73c7x1280x960.JPEG"
    ]
  },
  {
    "text": "A 20-year-old woman comes to the physician due to irregular menstrual cycles. She is 160 cm tall and weighs 78 kg. You notice she has dark coarse hair on her chin and thinning of hair on her scalp. She also has severe acne on her face and spread over her back. Which of the following do you expect to be reduced in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Serum Testosterone"
      },
      {
        "id": 2,
        "text": "Serum Estrogen"
      },
      {
        "id": 3,
        "text": "Serum FSH/LH ratio"
      },
      {
        "id": 4,
        "text": "Serum LH/FSH ratio"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given clinical scenario suggests that the patient is likely suffering from <strong>polycystic ovarian disease (PCOD)</strong>. In a patient with PCOD, there is a&nbsp;<strong>reduced FSH/LH ratio</strong> in the serum.</p>\n<p>Polycystic ovarian disease is an endocrinopathy in women of reproductive age, affecting multiple systems.&nbsp;<strong>Rotterdam criteria</strong>&nbsp;is used to diagnose polycystic ovarian syndrome (<strong>PCOS</strong>). The presence of&nbsp;<strong>any two of the three</strong>&nbsp;components of this criteria establishes the diagnosis of PCOS.</p>\n<p><strong>Rotterdam criteria</strong>&nbsp;(ASRM/ESHRE- European society of human reproduction and embryology, 2003):</p>\n<ul>\n<li>Clinical/biochemical hyperandrogenism</li>\n<li>Oligo/anovulation</li>\n<li>Polycystic ovaries on USG</li>\n</ul>\n<p>This patient's irregular menstrual cycles (signifying irregular ovulation/ anovulation), obesity (BMI 30.4), coarse dark hair on the chin (hirsutism signifying clinical hyperandrogenism), androgenic baldness (thinning of scalp hair), and severe acne are suggestive of PCOD.</p>\n<p><strong>Obesity</strong> leads to insulin resistance and hyperinsulinemia.&nbsp;<strong>Hyperinsulinemia</strong> induces luteinizing hormone (LH) to cause thecal hyperplasia, which in turn <strong>increases</strong> the production of <strong>androgens (testosterone)</strong>. Androgens are further aromatized in the periphery to form estrogens. Due to <strong>increased adipose cells</strong> in obesity, there is <strong>increased peripheral production of estrogens.</strong> This in turn causes a <strong>surge in LH</strong> in the hypothalamo-pituatry-ovarian axis (HPO axis).</p>\n<p>Increased circulating <strong>androgens</strong> have&nbsp;<strong>negative feedback</strong> on the HPA to <strong>decrease</strong> the production of <strong>follicle-stimulating hormone (FSH)</strong>. As FSH levels decrease and LH levels increase, there is a low FSH/LH ratio in PCOD patients.&nbsp;</p>\n<p>Hyperinsulinemia and increased androgens also suppress sex-hormone binding globulin levels. This leads to increased levels of free testosterone, which is responsible for hirsutism and acne.</p>\n<p>On USG, polycystic ovaries show multiple follicles arranged in a <strong>necklace of pearls</strong> appearance. (image below)</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/4b4f13b7bc164fa7b4187949d971d679x720x536.PNG"
    ]
  },
  {
    "text": "Select the correct match.",
    "choices": [
      {
        "id": 1,
        "text": "1 - Simple bone cyst, 2 - Aneurysmal bone cyst, 3 - Giant cell tumor (GCT)"
      },
      {
        "id": 2,
        "text": "1 - Aneurysmal bone cyst, 2 - GCT, 3 - Simple bone cyst"
      },
      {
        "id": 3,
        "text": "1 - GCT, 2 - Aneurysmal bone cyst, 3- Simple bone cyst"
      },
      {
        "id": 4,
        "text": "1- GCT, 2 - Simple bone cyst, 3- Aneurysmal bone cyst"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The correct match amongst these options is</p>\n<p>1 - GCT,</p>\n<p>2 - Aneurysmal bone cyst,</p>\n<p>3- Simple bone cyst</p>\n<p>The below table summarises the findings seen in these conditions</p>\n<table style=\"height: 749px;\" width=\"512\">\n<tbody>\n<tr>\n<td style=\"width: 87px;\">&nbsp;</td>\n<td style=\"width: 101px;\"><strong>GCT</strong></td>\n<td style=\"width: 149px;\"><strong>ABC</strong></td>\n<td style=\"width: 147px;\"><strong>Simple bone cyst</strong></td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">Location</td>\n<td style=\"width: 101px;\">Epiphyseo-Metaphyseal<br /><br /></td>\n<td style=\"width: 149px;\">Metaphyseal<br /><br /></td>\n<td style=\"width: 147px;\">Meta-diaphyseal<br /><br /></td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">Commonly involved</td>\n<td style=\"width: 101px;\">Distal femur/radius<br />Proximal humerus/tibia</td>\n<td style=\"width: 149px;\">Humerus/femur/tibia<br />Posterior spine</td>\n<td style=\"width: 147px;\">Proximal humerus/femur/tibia</td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">Age</td>\n<td style=\"width: 101px;\">2nd-4th decade<br /><br /></td>\n<td style=\"width: 149px;\">1st-2nd decade</td>\n<td style=\"width: 147px;\">1st-2nd decade</td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">Xray appearance</td>\n<td style=\"width: 101px;\">Eccentric, lytic lesion<br />Soap bubble appearance<br />Minimal marginal sclerosis</td>\n<td style=\"width: 149px;\">Eccentric,lytic lesion<br />Highly trabeculated, lobulated<br /><br /></td>\n<td style=\"width: 147px;\">Central location, lytic location<br />Fallen fragment sign&nbsp;<br />(Fracture fragment sinks in fluid)</td>\n</tr>\n<tr>\n<td style=\"width: 87px;\">Gross examination</td>\n<td style=\"width: 101px;\">Reddish Brown mass&nbsp;<br />with cystic degeneration</td>\n<td style=\"width: 149px;\">Blood filled cystic spaces<br />lined by fibrous septa</td>\n<td style=\"width: 147px;\">usually Solitary tumor <br />filled with serous fluid</td>\n</tr>\n</tbody>\n</table>\n<p>Note: GCT arises in the epiphyses, however, due to its aggressive nature it might go up to metaphyses. In some pediatric cases, it might arise from metaphyses as well.</p>\n<p>&nbsp;Image below shows the 'fallen fragment' sign.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/aa38e067b208424c8ec450cac73e44c7.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0edb3e2f00b844928b974dd974c5ec86x720x987.JPEG"
    ]
  },
  {
    "text": "An 18-year-old girl presented to your clinic with a history of fever for the last 24 hours and lower abdominal pain and anorexia for the last 5 days. Her last menstrual period was 10 days ago and she is sexually active with one male partner. On examination, her pulse rate is found to be 98 beats per minute, BP is 118/80 mm of Hg, her temperature is 101.3F. There is generalized abdominal tenderness. On examination per speculum, there is cervical erythema and motion tenderness. There are no lesions on the external genitalia. Microscopy of the cervical discharge shows scant neutrophils and sloughed epithelial cells. McCoy cell culture of the endocervical sample, revealed iodine-stained inclusion bodies as shown below. Which of the following are correct about the likely etiology?",
    "choices": [
      {
        "id": 1,
        "text": "Only statement 1 is correct"
      },
      {
        "id": 2,
        "text": "Statements 1 and 2 are correct"
      },
      {
        "id": 3,
        "text": "Statements 1, 2 and 3 are correct"
      },
      {
        "id": 4,
        "text": "Statements 3 and 4 are correct"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The patient\u2019s presentation is typical of <strong>pelvic inflammatory disease</strong> (PID). <strong>Chlamydia trachomatis</strong> is the most likely organism in this case suggested by the presence of characteristic iodine-stained inclusion bodies in the McCoy cells cultures of the patient's endocervical sample. It is the most common cause of bacterial sexually transmitted infection in both men and women.\u00a0</p>\n<p>Chlamydia is a <strong>gram-negative coccobacillus</strong> that has the following features-</p>\n<ul>\n<li>They are\u00a0<strong>obligate intracellular organisms</strong> as they lack the enzymes for ATP synthesis, and are hence dependent entirely on the host cell.\u00a0</li>\n<li>They can exist in two states.\n<ul>\n<li>Extracellular infective form called the <strong>elementary body</strong>.</li>\n<li>Intracellular non-infective form called the <strong>reticulate body</strong>. These reticulate bodies are found inside a membrane-bound compartment called the \"<strong>inclusion body</strong>\" which can be visualized within infected epithelial cells by iodine or Giemsa stain.\u00a0</li>\n</ul>\n</li>\n<li>They are small bacteria about 0.2-0.3 microns in size and are hence <strong>filtrable</strong> through the pore size of standard bacterial filters.</li>\n</ul>\n<p>Therefore, among the given statements, statement 4 is wrong because Chlamydia is a bacterial organism, <strong>not </strong>a <strong>dsDNA\u00a0virus </strong>with<strong> icosahedral symmetry.\u00a0</strong>This describes the human papillomavirus that can\u00a0cause anogenital warts, cervical dysplasia, and anogenital neoplasia, but not PID.</p>\n<div class=\"page\" title=\"Page 432\">\u00a0</div>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/3dcb6bf1da4b459e8c67134c383265e0.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "An oncologist is studying the effect of postoperative radiotherapy on the survival rate of patients with Non-small cell lung cancer. He finds no survival benefit in 30 patients who were given postoperative radiotherapy compared to 30 patients who weren't given radiotherapy. (p=0.4). He feels that the results are non-significant due to the smaller sample size and missing the beneficial effect of radiotherapy. He, therefore, repeats the study with more sample size. Which of the following will happen as a result of increasing sample size?",
    "choices": [
      {
        "id": 1,
        "text": "Decrease in probability of type 1 error"
      },
      {
        "id": 2,
        "text": "Increase in probability of type 2 error"
      },
      {
        "id": 3,
        "text": "Increase in probability of type 1 error"
      },
      {
        "id": 4,
        "text": "Decrease in probability of type 2 error"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the given scenario, a p-value of 0.4 (&gt;0.05) suggests that if at all any survival benefit was observed it was by chance.\u00a0With an increase in the sample size, the probability of a Type II error (given a false null hypothesis) decreases, however the maximum probability of a Type I error (given a true null hypothesis) remains alpha by definition.</p>\n<p>Let's say in reality, radiotherapy has no survival benefit(null hypothesis). Now, this test is conducted to see/confirm whether or not there is any effect of radiotherapy. We conduct the study and calculate the p-value. P-value tells us about the probability of an outcome(here - no survival benefit) given the hypothesis.\u00a0 If the p-value is less than a predecided 0.05, we infer that the results are statistically significant and not just by chance. In this case, since the p-value is more than 0.05, we infer that the outcome\u00a0(here - no survival benefit), is due to chance, there is actually no significant survival benefit.\u00a0</p>\n<p>But what if, this survival benefit is observed in very few patients( say 1 in 100 or 1 in 300). Then this study is less likely to detect it with such a small sample size. And we might accept the null hypothesis (no survival benefit with radiotherapy), even though there it is not true. This would result in a false-negative result/ type II error.\u00a0</p>\n<p>So the researcher wanted to repeat the study, with more sample size, to decrease the type 2 error.</p>\n<p>\u00a0</p>\n<p><strong>Type I error (\u0251): </strong>Null hypothesis (H<sub>0</sub>) is incorrectly rejected i.e. <strong>H<sub>0</sub></strong> is <strong>rejected</strong> by the study when in reality it is <strong>true.</strong></p>\n<ul>\n<li>False-positive error</li>\n<li><strong>\u0251 </strong>= you <strong>a</strong>ccused an innocent man \u00a0</li>\n</ul>\n<p><strong>Type II error (\u03b2): </strong>Null hypothesis is incorrectly accepted\u00a0i.e. <strong>H<sub>0</sub></strong> is <strong>not rejected</strong> by the study when in reality it is <strong>false.</strong></p>\n<ul>\n<li>False-negative error</li>\n<li><strong>\u03b2\u00a0 </strong>= you <strong>b</strong>lindly let a guilty man go free \u00a0</li>\n</ul>\n<p><strong>Power (1-\u03b2)</strong>: the probability of <strong>rejecting the null hypothesis when it is false.</strong>\u00a0</p>\n<ul>\n<li>\u2191 Power and <strong>\u2193 </strong>\u03b2 by:\n<ul>\n<li>\u2191 sample size</li>\n<li>\u2191 expected effect size</li>\n<li>\u2191 precision of measurement</li>\n</ul>\n</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c049223645ed40178bc741b5af6db967x800x358.PNG"
    ]
  },
  {
    "text": "You are working as an internal medicine consultant at a private practice. A patient with chronic renal disease is admitted under you requiring hemodialysis. However, you advise only diet and fluid control and strict adherence to instructions and keep him on observation. But the patient continues to take ayurvedic supplements and sometimes skips the instructions without disclosing it. His conditions worsen and he develops difficulty in breathing. His attendant files a complaint in court alleging the negligence of the doctor. Which of the following acts as a defense for the doctor in court?",
    "choices": [
      {
        "id": 1,
        "text": "Vicarious liability"
      },
      {
        "id": 2,
        "text": "Res ipsa loquitur"
      },
      {
        "id": 3,
        "text": "Therapeutic misadventure"
      },
      {
        "id": 4,
        "text": "Contributory negligence"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the given case, since the patient did not adhere to the proper instructions of the doctor, it was partly or wholly his fault. This is termed contributory negligence. Proper documentation as to how ordinary care was not exercised on part of the patient can be useful in a court of law.</p>\n<p><strong>Contributory negligence</strong>&nbsp;occurs when a&nbsp;<strong>patient</strong>&nbsp;or his&nbsp;<strong>personal attendant</strong>&nbsp;shows unreasonable conduct or absence of ordinary care, which when combined with the negligence of the doctor, has contributed to the injury. In this case, the patient&rsquo;s or attendant&rsquo;s negligence should be the direct, proximate cause and without which the injury would not have occurred</p>\n<p><strong>Defenses Against Negligence</strong></p>\n<ul>\n<li>No duty owed to the plaintiff</li>\n<li>Duty discharged according to prevailing standards</li>\n<li>Misadventure - may be therapeutic, diagnostic, and experimental</li>\n<li>Error of judgment</li>\n<li>Contributory negligence - the absence of ordinary care on the part of the patient or his personal attendant</li>\n</ul>\n<p>&nbsp;Option A&nbsp;<strong>Vicarious liability</strong> is not a defense against professional negligence. Vicarious liability(liability for the act&nbsp;of another): An employer is responsible not only&nbsp;for his own negligence but also for the negligence&nbsp;of his employees.</p>\n<p>Option B&nbsp;<strong>Res ipsa loquitur</strong> means 'the thing speaks for itself. It is used as supportive evidence of negligence on part of the doctor. Say leaving behind scalpel or scissors whilst operating leading to sepsis/peritonitis speaks for itself.</p>\n<p>Option C&nbsp;<strong>Therapeutic misadventure</strong> may serve as a defense against negligence. It basically refers to an adverse outcome that could not have been anticipated despite reasonable care. Say a rare side effect of a drug or blood loss due to an anomalous artery despite exercising caution.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 24-year-old woman who is two weeks postpartum was brought by her husband due to extreme tiredness. She gave birth to a healthy baby at term through vaginal delivery. However, post-delivery, she had post-partum hemorrhage and received 3 units of packed red blood cells. He reports that she has been unable to produce breast milk. On examination, her pulse is 96 bpm and blood pressure is 80/50 mm of Hg.  Which of the following sets of serum findings are likely to be present in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "\u2191 cortisol,\u00a0 normal ACTH"
      },
      {
        "id": 2,
        "text": "\u2191 cortisol, \u2193 ACTH"
      },
      {
        "id": 3,
        "text": "\u2193 cortisol,\u00a0 \u2191 ACTH"
      },
      {
        "id": 4,
        "text": "\u2193\u00a0 cortisol, \u2193 ACTH"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given presentation of fatigue, failure of lactation, and hypotension following post-partum haemorrhage is suggestive of <strong>Sheehan's syndrome, </strong>which causes <strong>secondary adrenal insufficiency.\u00a0</strong>There is a <strong>decrease in the adrenocorticotropic hormone (ACTH) which results in decreased cortisol</strong>.</p>\n<p><strong>Pituitary apoplexy</strong> is a hemorrhagic infarction of large pituitary adenomas or <strong>pituitary infarction</strong> due to traumatic major blood loss. If this blood loss occurs<strong>\u00a0during delivery,</strong> it's called <strong>Sheehan's syndrome.\u00a0</strong>The hyperplastic enlargement of the pituitary, which occurs normally during pregnancy, increases the risk for haemorrhage and infarction.\u00a0</p>\n<div>It can present acutely with\u00a0sudden onset of headache, nausea, visual deficits and in severe cases, severe hypoglycemia, hypotension and shock, CNS haemorrhage and death.</div>\n<div><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Also, it can present late with the following features:</span></div>\n<div>\n<ul>\n<li>Lactation failure due to prolactin deficiency</li>\n<li>Amenorrhea due to anovulation caused by reduced gonadotropin activity</li>\n<li>Loss of pubic and axillary hair</li>\n<li>Hypothyroidism due to decreased TSH secretion\u00a0</li>\n<li>Adrenal insufficiency due to low ACTH</li>\n</ul>\n</div>\n<p>Damage to the pituitary results in\u00a0<strong>decreased</strong>\u00a0production of adrenocorticotropic hormone (<strong>ACTH</strong>) causing\u00a0<strong>secondary adrenal insufficiency</strong>\u00a0which in turn results in\u00a0<strong>decreased cortisol</strong> levels. In secondary adrenal insufficiency, aldosterone production is relatively preserved as it is independent of ACTH. It is the most life-threatening complication.</p>\n<p>Treatment is by hormone replacement - first\u00a0<strong>glucocorticoids</strong>, later - thyroid hormone, sex steroids, vasopressin, and growth hormones are given. If there is evidence of progressive visual loss, cranial nerve involvement, or loss of consciousness, immediate surgical decompression must be carried out.</p>\n<p>\u00a0</p>\n<p>Other options:</p>\n<p>Options A and B: This patient does not have any signs of hypercortisolism like moon facies, buffalo hump, truncal obesity, purple striae, or hypertension. Cortisol production is decreased in secondary adrenal insufficiency.</p>\n<p>Option C: <strong>Decreased cortisol</strong> and <strong>increased ACTH</strong> is seen in <strong>primary adrenal insufficiency</strong>. Cortisol production is decreased due to a primary adrenal disorder which in turn causes an increase in ACTH by negative feedback. These patients present with symptoms of low cortisol such as fatigue, loss of energy, and hypotension. A distinguishing feature in primary adrenal insufficiency is <strong>hyperpigmentation</strong>, due to stimulation of melanocytes by excess ACTH (molecular similarity with melanocyte-stimulating hormone). In primary adrenal insufficiency, aldosterone and adrenal androgen levels are also decreased.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Mr Rao, a 65-year-old man comes with complaints of shortness of breath. He says it started 3 years ago when he used to carry heavy loads up and down a flight of stairs for his job. He changed his job because of the shortness of breath. He complains that over the years it has progressively worsened. He has a 40 pack-year smoking history and he continues to smoke 5-6 cigarettes per day. He had a myocardial infarction 8 years ago and had undergone stent replacement for the same. His past history is also significant for chronic bronchitis for 5 years. He has had one exacerbation in the last 1 year treated with oral antibiotics. Auscultation reveals decreased breath sounds, bilaterally. Which of the following can you expect to be increased in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Forced vital capacity (FVC)"
      },
      {
        "id": 2,
        "text": "Forced expiratory volume 1 (FEV1)"
      },
      {
        "id": 3,
        "text": "FEV1 /FVC ratio"
      },
      {
        "id": 4,
        "text": "Functional residual capacity"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>This patient has <strong>chronic obstructive pulmonary diseases (COPD)</strong>&nbsp;and&nbsp;<strong>functional residual capacity </strong>is&nbsp;<strong>increased</strong> in this condition.&nbsp;</p>\n<p>In spirometry,</p>\n<ul>\n<li>Forced vital capacity (FVC) is the total exhaled volume</li>\n<li>Forced expiratory volume 1( FEV<sub>1</sub>) is the volume exhaled in the first second</li>\n</ul>\n<p>FVC, FEV<sub>1</sub> along with FEV<sub>1</sub>/ FVC ratio are the most important parameters in spirometric testing useful in the assessment of obstructive and restrictive lung diseases.&nbsp;</p>\n<p>This patient has chronic bronchitis, which is a type of <strong>obstructive lung disease.</strong> In obstructive lung diseases, the obstruction in the airways reduces both FEV<sub>1</sub> and FVC. However, the decrease in FEV<sub>1</sub> is greater than the reduction in FVC. As a result, the ratio FEV<sub>1</sub>/FVC also decreases.</p>\n<p><strong>Functional Residual Capacity</strong> (FRC) is the volume of air present in the lungs at the end of passive expiration. It is residual volume (RV) + expiratory reserve volume (ERV).&nbsp;</p>\n<p>In COPD,<strong>&nbsp;</strong>airway obstruction results in<strong> air trapping </strong>in the distal bronchioles. This results in<strong> increased RV </strong>which in turn increases the FRC.<strong>&nbsp;</strong>However, <strong>increased total lung capacity</strong> indicates <strong>hyperinflation</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 23-year-old woman comes to your clinic with complaints of rashes on her body that began around 2 days ago. She first noticed them on her hands and now several of them are present on both her arms and chest. She is otherwise asymptomatic and is not currently on any medication. On examination, pulse rate is 82, BP is 110/72 mm Hg, and the temperature is 98.6F.  There are several, circular lesions on her hands, arms, trunk, and neck. They are reddish plaques varying in size, ranging anywhere between 1-5 centimeters. There is a dark red center surrounded by a paler red zone, which is in turn encircled by a dark red border. Additionally, you notice that there are a few small lesions along her lower lip, as shown in the image below which are different from the rashes described before. What is the most likely diagnosis of the rash seen in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Erythema multiforme"
      },
      {
        "id": 2,
        "text": "Erythema marginatum"
      },
      {
        "id": 3,
        "text": "Erythema nodosum"
      },
      {
        "id": 4,
        "text": "Erythema migrans"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Image shows small, closely grouped vesicles on an inflamed base and is characteristic of <strong>Herpes Labialis or Cold sore</strong>. Hence, the most likely diagnosis of the rash described is <strong>e</strong><strong>rythema multiforme.</strong></p>\n<p>It is a skin condition that is caused due to a <strong>type IV hypersensitivity</strong> reaction to certain infections and drugs. The majority of the cases are <strong>associated with herpes simplex virus</strong> infection, as in this patient. The herpes infection usually precedes the skin eruption by 3-14 days.\u00a0</p>\n<p>The lesions in erythema multiforme start to appear over the dorsal surface of the hands and feet. Palms and soles may also be involved. They then spread towards the trunk, followed by the face and neck. They tend to involve the upper limb more than the lower limb. Mucosa may also be involved.</p>\n<p>These lesions appear and evolve over a day. At the time of clinical presentation, the skin eruption may contain different kinds of lesions both typical and atypical, all at various stages of development, lending the name \"multiforme\"-</p>\n<ul>\n<li>Typical lesions of erythema multiforme are called target lesions or iris lesions. They are circular and have three distinct zones. A dark red center with skin changes including blisters or crusts. It is encircled by a pale zone that is caused due to edema. This second zone is surrounded by a dark red line.</li>\n<li>Atypical lesions contain eruptions that have only two zones or an indistinct border.</li>\n</ul>\n<p><strong>Erythema multiforme is self-resolving</strong> and is treated symptomatically. Associated <strong>herpes simplex virus infections</strong> can be treated with <strong>oral acyclovir.</strong>\u00a0</p>\n<p>The clinical description of the rash with the presence of coexisting herpes labialis are strongly suggestive of erythema multiforme.\u00a0</p>\n<p>Erythema multiforme on the hand-\u00a0\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1ab7681c1f214788880ec5acbbd995ec.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7d3a497ea01449b4bc644d348873a95bx1280x960.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b4d3bc16c372400e8bb5d23f9e8dd276x516x688.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b8405ccfa9c24034958d276f374d38ffx800x562.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d926c6cf587f4dd78a747c01827d02d0x720x1071.JPEG"
    ]
  }
];
        let quizName = 'Neet 2021 Mini Test 2  (20 Questions)';
        let hierarchy = ["Marrow", "NEET PG Mini Test Series", "2020-21"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>