<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Obg St 2 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
 
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}

    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / NEET PG Test Series Subject Wise / Year 2017 - 18
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">50</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "External genitalia develops at",
    "choices": [
      {
        "id": 1,
        "text": "0-2 weeks post conception"
      },
      {
        "id": 2,
        "text": "4-6 weeks post conception"
      },
      {
        "id": 3,
        "text": "6-8 weeks post conception"
      },
      {
        "id": 4,
        "text": "8-12 weeks post conception"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>External genitalia develops at 8-12 weeks post conception</strong>.</p>\n<p><strong>Principal Events of Embryonic and Fetal Development:</strong></p>\n<p></p>\n<table style=\"width: 355px;\">\n<tbody>\n<tr style=\"height: 62px;\">\n<td style=\"height: 62px; width: 145px;\">Days 14&ndash;21 post conception</td>\n<td style=\"height: 62px; width: 217px;\">\n<ul>\n<li>Notochord develops.</li>\n<li>Ectoderm thickens to form neural plate and neural folds.</li>\n</ul>\n<strong>&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px; width: 145px;\">Days 21&ndash;28 post conception</td>\n<td style=\"height: 13px; width: 217px;\">\n<ul>\n<li>Neural folds fuse to form neural tube, four primitive cardiac chambers</li>\n<li>First heart beats on D-21</li>\n</ul>\n<strong>&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px; width: 145px;\">Weeks 4&ndash;6 post conception (4&ndash;15 mm embryo)</td>\n<td style=\"height: 13px; width: 217px;\">\n<ul>\n<li>Optic vesicles appear, complete neural tube closure (D-30)</li>\n<li>Limb buds appear.</li>\n<li>Formation of face</li>\n</ul>\n<strong>&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px; width: 145px;\">Weeks 6&ndash;8 post conception (15&ndash;30 mm embryo)</td>\n<td style=\"height: 13px; width: 217px;\">\n<ul>\n<li>All major structures form, complete ventricular septum (D-46)</li>\n<li>recognizably human</li>\n</ul>\n<strong>&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 13.8px;\">\n<td style=\"height: 13.8px; width: 145px;\"><strong>Weeks 8&ndash;12 post conception&nbsp;</strong>(30&ndash;60 mm embryo)</td>\n<td style=\"height: 13.8px; width: 217px;\">\n<ul>\n<li><strong>External genitalia develops</strong></li>\n</ul>\n</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px; width: 145px;\">Weeks&mdash;20</td>\n<td style=\"height: 13px; width: 217px;\">\n<ul>\n<li>Skin is covered with lanugo.</li>\n<li>Vernix caseosa is present.</li>\n</ul>\n<strong>&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px; width: 145px;\">Weeks&mdash;28</td>\n<td style=\"height: 13px; width: 217px;\">\n<ul>\n<li>Testes descend to the internal inguinal ring.</li>\n<li><strong>Baby is viable</strong></li>\n</ul>\n<strong>&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px; width: 145px;\">Weeks&mdash;36</td>\n<td style=\"height: 13px; width: 217px;\">\n<ul>\n<li>One testicle usually descends into the scrotum.</li>\n<li><strong>&nbsp;Lanugo tends to disappear</strong></li>\n</ul>\n<strong>&nbsp;</strong></td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px; width: 145px;\">Weeks&mdash;40</td>\n<td style=\"height: 13px; width: 217px;\">\n<ul>\n<li>Both the testicles descend into the scrotum. Nails project beyond the finger tips. &nbsp; &nbsp;</li>\n<li><strong>Posterior fontanel is closed</strong></li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Fetal blood flow through placenta per minute is",
    "choices": [
      {
        "id": 1,
        "text": "100 ml"
      },
      {
        "id": 2,
        "text": "200 ml"
      },
      {
        "id": 3,
        "text": "300 ml"
      },
      {
        "id": 4,
        "text": "400 ml"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Fetal blood flow through placenta per minute is 400 ml.</strong></li>\n</ul>\n<p><strong>Fetal Hemodynamics</strong></p>\n<table>\n<tbody>\n<tr>\n<td>Fetal blood flow through the placenta</td>\n<td>400 mL/min</td>\n</tr>\n<tr>\n<td>Pressure in the umbilical artery</td>\n<td>60 mm Hg</td>\n</tr>\n<tr>\n<td>Pressure in the umbilical vein</td>\n<td>10 mm Hg</td>\n</tr>\n<tr>\n<td>Fetal capillary pressure in villi</td>\n<td>20&ndash;40 mm Hg</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<table>\n<tbody>\n<tr>\n<td>&nbsp;</td>\n<td>Umbilicalartery</td>\n<td>Umbilicalvein</td>\n</tr>\n<tr>\n<td>O2 saturation</td>\n<td>50&ndash;60%</td>\n<td>70&ndash;80%</td>\n</tr>\n<tr>\n<td>PO2</td>\n<td>20&ndash;25 mm Hg</td>\n<td>30&ndash;40 mm Hg</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<p><strong>Intervillous Hemodynamics</strong></p>\n<table style=\"width: 356.8px;\">\n<tbody>\n<tr>\n<td style=\"width: 207px;\">Volume of blood in mature placenta<strong>&nbsp;</strong></td>\n<td style=\"width: 139.8px;\">500 mL</td>\n</tr>\n<tr>\n<td style=\"width: 207px;\">Volume of blood in inter villousSpace<strong>&nbsp;</strong></td>\n<td style=\"width: 139.8px;\">150 mL</td>\n</tr>\n<tr>\n<td style=\"width: 207px;\">Blood flow in inter villous space<strong>&nbsp;</strong></td>\n<td style=\"width: 139.8px;\">500&ndash;600 mL/min</td>\n</tr>\n<tr>\n<td style=\"width: 207px;\">Pressure in inter villous space-During uterine contraction&nbsp;</td>\n<td style=\"width: 139.8px;\">30&ndash;50 mm Hg</td>\n</tr>\n<tr>\n<td style=\"width: 207px;\">Pressure in inter villous space-During uterine relaxation<strong>&nbsp;</strong></td>\n<td style=\"width: 139.8px;\">10&ndash;15 mm Hg</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Arias-Stella reaction is seen in",
    "choices": [
      {
        "id": 1,
        "text": "Uterine and ectopic pregnancy"
      },
      {
        "id": 2,
        "text": "Endometriosis"
      },
      {
        "id": 3,
        "text": "Gestational trophoblastic disease (GTD)"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Arias-Stella reaction is seen in</p>\n<ul>\n<li>Uterine and ectopic pregnancy</li>\n<li>Endometriosis</li>\n<li>Gestational trophoblastic disease (GTD)</li>\n</ul>\n<p><strong>Arias-Stella reaction:</strong></p>\n<ul>\n<li>In some cases of uterine and ectopic pregnancies, the endo&shy;metrium shows intense adenomatous and hyper secretive activity within the glandular epithelium.</li>\n<li>The cells are enlarged; epithelial nuclei show mitosis, hyperchromasia, polyploidy and atypical cell types.</li>\n<li>The <strong>cells are hyper secretive without glycogen content.</strong></li>\n<li>These changes are focal <strong>and often as&shy;sociated with decidual reaction in the stroma.</strong></li>\n<li>This endometrial reaction is seen in endometriosis, reaction to oestrogen and to gonadotropins, as well as in gestational trophoblastic disease (GTD).</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "True statement regarding Braxton-Hicks contraction is",
    "choices": [
      {
        "id": 1,
        "text": "The contraction is frequent and painful"
      },
      {
        "id": 2,
        "text": "Intra uterine pressure remains above 8 mm Hg"
      },
      {
        "id": 3,
        "text": "It is not felt in abdominal pregnancy"
      },
      {
        "id": 4,
        "text": "Contractions cannot be felt during bimanual palpation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>In abdominal pregnancy, Braxton-Hicks contraction is not felt. Only felt in intrauterine pregnancy.</strong></p>\n<ul>\n<li>From the very early weeks of pregnancy, the uterus undergoes spontaneous contraction.</li>\n<li>Can be felt during bimanual palpation in early weeks or during abdominal palpation when the uterus feels firmer at one moment and softer at another.</li>\n<li>The contractions may be excited by rubbing the uterus.</li>\n<li><strong>The contractions are irregular, infrequent, spasmodic and painless without any effect on dilatation of the cervix.</strong></li>\n<li>The patient is not conscious about the contractions.&nbsp;</li>\n<li>Intrauterine pressure <strong>remains below 8 mm Hg</strong>.</li>\n<li>Near term, the contractions become frequent with increase in intensity so as to produce some discomfort to the patient.</li>\n<li>It merges with the painful uterine contractions of labor.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Placental sign denotes",
    "choices": [
      {
        "id": 1,
        "text": "Cyclical bleeding occurs up to 12 weeks of pregnancy"
      },
      {
        "id": 2,
        "text": "Irregular bleeding occurs up to 12 weeks of pregnancy"
      },
      {
        "id": 3,
        "text": "Cyclical bleeding occurs up to 18 weeks of pregnancy"
      },
      {
        "id": 4,
        "text": "Irregular bleeding occurs up to 18 weeks of pregnancy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Cyclic bleeding</strong> may occur <strong>up to</strong> <strong>12 week</strong>s of pregnancy, until the decidual space is obliterated by the fusion of decidua vera with decidua capsularis.</li>\n<li>Bleeding is <strong>usually scanty, lasting for a shorter duration than her usual</strong> and roughly corresponds with the date of the expected period.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Depressed fontanels are seen with",
    "choices": [
      {
        "id": 1,
        "text": "Microcephaly"
      },
      {
        "id": 2,
        "text": "Down\u2019s syndrome"
      },
      {
        "id": 3,
        "text": "Dehydration"
      },
      {
        "id": 4,
        "text": "Hypothyroidism"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Depressed fontanel seen with dehydration.</strong></p>\n<p><strong>Large fontanels</strong></p>\n<ul>\n<li>Hypothyroidism</li>\n<li>Osteogenesis imperfect</li>\n<li>Chromosomal anomalies (Down syndrome)</li>\n</ul>\n<p><strong>Bulging fontanel</strong></p>\n<ul>\n<li>Increased intracranial pressure</li>\n<li>Meningitis or hydrocephalus</li>\n</ul>\n<p><strong>Small fontanel</strong></p>\n<ul>\n<li>Hyperthyroidism</li>\n</ul>\n<p>Microcephaly or craniosynostosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Funic souffle is due to increased blood flow in",
    "choices": [
      {
        "id": 1,
        "text": "Uterine vessels"
      },
      {
        "id": 2,
        "text": "Umbilical vein"
      },
      {
        "id": 3,
        "text": "Umbilical artery"
      },
      {
        "id": 4,
        "text": "Both b and c"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Funic or fetal souffle</strong></p>\n<ul>\n<li>Due to the <strong>rush of blood through the umbilical arteries.</strong></li>\n<li>It is a soft, blowing murmur synchronous with the fetal heart sounds.</li>\n</ul>\n<p><strong>Uterine souffle</strong></p>\n<ul>\n<li>Is a <strong>soft blowing and systolic murmur</strong> heard low down at the sides of the uterus, best on the left side.</li>\n<li><strong>The sound is synchronous with the maternal pulse and is due to increase in blood flow through the dilated uterine vessels. </strong></li>\n<li>It can be heard in big uterine fibroid.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The given image represents fetus in which presentation",
    "choices": [
      {
        "id": 1,
        "text": "Vertex with well flexed head"
      },
      {
        "id": 2,
        "text": "Vertex with deflexed head"
      },
      {
        "id": 3,
        "text": "Face presentation"
      },
      {
        "id": 4,
        "text": "Brow presentation"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The give image represents fetus in vertex presentation with deflexed head.</p>\n<p>Other presentations are:</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/60462e7869d44bdea7f82f475eaa7f48.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/409e2213cce646cfa85db400cd563d26x1024x642.PNG"
    ]
  },
  {
    "text": "Which of the following is used as a source of stem cells in stem cell therapy",
    "choices": [
      {
        "id": 1,
        "text": "Embryo"
      },
      {
        "id": 2,
        "text": "Amniotic fuid"
      },
      {
        "id": 3,
        "text": "Menstrual fluid"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The sources of stem cells were until recently seen in bone marrow, embryo, amniotic fluid and umbilical cord blood but now in menstrual fluid as well.</p>\n<p><strong>Menstrual fluid:</strong></p>\n<ul>\n<li>The menstrual fluid contains <strong>mesenchymal cells</strong> such as mononuclear cells and fibroblasts.</li>\n<li>These cells deteriorate with advanc&shy;ing age.</li>\n<li>Therefore, cells from <strong>young women</strong> are suitable for donation, and <strong>self-use</strong> at a later age if needed.</li>\n<li>The kit con&shy;tains antibiotics to prevent infection, and the menstrual fluid is <strong>cryopreserved and harvested.</strong></li>\n</ul>\n<p>The procedure is <strong>sim&shy;ple, non invasive and painless</strong> as well as possible.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is the largest diameter of the fetal skull",
    "choices": [
      {
        "id": 1,
        "text": "Sub-mento vertical"
      },
      {
        "id": 2,
        "text": "Mento vertical"
      },
      {
        "id": 3,
        "text": "Suboccipito \u2013frontal"
      },
      {
        "id": 4,
        "text": "Occupito frontal"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>Mento vertical is the largest diameter of the fetal skull-14 cm.</li>\n</ul>\n<p><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Diameters of fetal skull</strong></p>\n<table style=\"width: 422px;\">\n<tbody>\n<tr>\n<td style=\"width: 117px;\"><strong>Diameters</strong></td>\n<td style=\"width: 68.8px;\"><strong>Measurement</strong> <strong>in cm (inches)</strong></td>\n<td style=\"width: 133.2px;\"><strong>Attitude of</strong> <strong>the head</strong></td>\n<td style=\"width: 89px;\"><strong>Presentation</strong></td>\n</tr>\n<tr>\n<td style=\"width: 117px;\"><strong>Suboccipitobregmatic</strong></td>\n<td style=\"width: 68.8px;\">9.5 cm</td>\n<td style=\"width: 133.2px;\">Complete flexion&nbsp;</td>\n<td style=\"width: 89px;\">Vertex<strong>&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 117px;\"><strong>Suboccipito-frontal</strong></td>\n<td style=\"width: 68.8px;\">10 cm</td>\n<td style=\"width: 133.2px;\">Incomplete flexion&nbsp;</td>\n<td style=\"width: 89px;\">Vertex<strong>&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 117px;\"><strong>Occupitofrontal</strong></td>\n<td style=\"width: 68.8px;\">11.5 cm</td>\n<td style=\"width: 133.2px;\">Marked deflexion&nbsp;</td>\n<td style=\"width: 89px;\">Vertex<strong>&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 117px;\"><strong>Mento-vertical</strong></td>\n<td style=\"width: 68.8px;\">14 cm</td>\n<td style=\"width: 133.2px;\">Partial extension&nbsp;</td>\n<td style=\"width: 89px;\">Brow<strong>&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 117px;\"><strong>Submentovertical</strong></td>\n<td style=\"width: 68.8px;\">11.5 cm</td>\n<td style=\"width: 133.2px;\">Incomplete extension&nbsp;</td>\n<td style=\"width: 89px;\">Face<strong>&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 117px;\"><strong>Submentobregmatic </strong></td>\n<td style=\"width: 68.8px;\">9.5 cm</td>\n<td style=\"width: 133.2px;\">Complete extension&nbsp;</td>\n<td style=\"width: 89px;\">Face<strong>&nbsp;</strong></td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Maternal serum alpha protein raised in all of the following conditions except",
    "choices": [
      {
        "id": 1,
        "text": "Wrong gestational age"
      },
      {
        "id": 2,
        "text": "Rh isoimmunisation"
      },
      {
        "id": 3,
        "text": "Anterior abdominal wall defects"
      },
      {
        "id": 4,
        "text": "Gestational trophoblastic disease"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>Low level of maternal serum alpha protein seen in Gestational trophoblastic disease.</li>\n</ul>\n<p><strong>Conditions associated with increased and decreased maternal serum alpha feto protein level</strong></p>\n<table style=\"width: 394.4px;\">\n<tbody>\n<tr>\n<td style=\"width: 171px;\"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Increased in </strong>&nbsp;</td>\n<td style=\"width: 212.4px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Decreased in</strong></td>\n</tr>\n<tr>\n<td style=\"width: 171px;\">\n<ul>\n<li>Wrong gestational age</li>\n<li>Open neural tube defects (NTDs)</li>\n<li>Multiple pregnancy</li>\n<li>Rh isoimmunisation</li>\n<li>IUFD</li>\n<li>Anterior abdominal wall defects</li>\n<li>Renal anomalies</li>\n</ul>\n</td>\n<td style=\"width: 212.4px;\">\n<ul>\n<li>Trisomies (Down&rsquo;s syndrome)</li>\n<li>Gestational trophoblastic disease.</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Formation of mature adult breast occurs in which stage of breast development",
    "choices": [
      {
        "id": 1,
        "text": "Stage 3"
      },
      {
        "id": 2,
        "text": "Stage 4"
      },
      {
        "id": 3,
        "text": "Stage 5"
      },
      {
        "id": 4,
        "text": "Stage 6"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Formation of mature adult breast occur in stage 5 of breast development.</p>\n<p><strong>Thelarche</strong></p>\n<ul>\n<li><strong>The first sign of puberty is the development of the breasts. </strong></li>\n<li>Breast budding usually appears between the ages of 9&ndash;11 years; it is indicative of the competency of the hypothalamic&ndash; pituitary&ndash;ovarian axis.</li>\n</ul>\n<p><strong>Stages</strong></p>\n<ul>\n<li>B1&mdash;Denotes the <strong>prepubertal breast</strong>. At this infantile stage only the papilla is elevated.</li>\n<li>B2&mdash;Denotes thelarche. The breast buds are palpable, areola enlarges and the breast is elevated like a small mound.</li>\n<li>B3&mdash;There is further <strong>enlargement of the breast and its areola without separation of its contours.</strong></li>\n<li>B4&mdash;<strong>Preferential growth of the areola and nipple leads to for&shy;mation of a secondary mound </strong>over the mound of the breast.</li>\n<li>B5&mdash;<strong>Formation of the mature adult breast</strong>. There is recession of the areola into the general contour of the breast be&shy;cause of greater growth of the breast tissue.</li>\n</ul>\n<p><strong>Pubic Hair Development</strong></p>\n<p>The stages of pubic hair growth are as follows:&nbsp;</p>\n<ul>\n<li>P1&mdash;prepubertal stage when there <strong>are no coarse pubic hair present</strong>, the <strong>vellus hair present over the pubic area </strong>are similar to the ones seen over the abdominal wall.</li>\n<li>P2&mdash;pubarche denotes the <strong>appearance of long or slightly curved and pigmented hair sparsely over the labia. </strong></li>\n<li>P3&mdash;<strong>darker, coarser and curly hair are seen spread over the mons pubis</strong>.</li>\n<li>P4&mdash;the pre adult stage when <strong>thick dark growths of curly hair are seen covering the area short of the inverted triangle</strong></li>\n<li>P5&mdash;<strong>adult inverted triangular distribution of thick, coarse, dark curly hair spreading out towards the medial aspects of the thighs. </strong></li>\n</ul>\n<p><strong>Axillary Hair Development</strong></p>\n<p>The sequence of axillary hair development is as follows:</p>\n<ul>\n<li>A1&mdash;prepubertal stage. <strong>No axillary hair</strong> present.</li>\n<li>A2&mdash;appearance of <strong>sparse axillary hair</strong>.</li>\n<li>A3&mdash;<strong>adult distribution of thick, coarse and dark pigmented hair</strong>.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The risk of fetal loss is highest in which of the following procedure",
    "choices": [
      {
        "id": 1,
        "text": "Chorionic Villus Sampling"
      },
      {
        "id": 2,
        "text": "Amniocentesis"
      },
      {
        "id": 3,
        "text": "Cordocentesis"
      },
      {
        "id": 4,
        "text": "Equal incidence in a,b,c"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The risk of fetal loss is highest in cordocentesis.</p>\n<p><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Prenatal diagnosis</strong></p>\n<table style=\"width: 444.6px;\">\n<tbody>\n<tr style=\"height: 26px;\">\n<td style=\"width: 74px; height: 26px;\">&nbsp;</td>\n<td style=\"width: 97px; height: 26px;\"><strong>Chorionic villus sampling</strong></td>\n<td style=\"width: 114px; height: 26px;\"><strong>Amniocentesis</strong></td>\n<td style=\"width: 150.6px; height: 26px;\"><strong>Cordocentesis</strong></td>\n</tr>\n<tr style=\"height: 40px;\">\n<td style=\"width: 74px; height: 40px;\"><strong>Time</strong></td>\n<td style=\"width: 97px; height: 40px;\">Transcervical 10&ndash;13 weeks,Transabdominal 10 weeks to term&nbsp;</td>\n<td style=\"width: 114px; height: 40px;\">After 15 weeks (early12&ndash;14 weeks)</td>\n<td style=\"width: 150.6px; height: 40px;\">18&ndash;20 weeks</td>\n</tr>\n<tr style=\"height: 39.4px;\">\n<td style=\"width: 74px; height: 39.4px;\"><strong>Materials for study</strong></td>\n<td style=\"width: 97px; height: 39.4px;\">Trophoblast cells</td>\n<td style=\"width: 114px; height: 39.4px;\">Fetal&nbsp; fibroblasts fluid for biochemical study&nbsp;</td>\n<td style=\"width: 150.6px; height: 39.4px;\">Fetal white blood cells (others&mdash;infection andbiochemical study)</td>\n</tr>\n<tr style=\"height: 40px;\">\n<td style=\"width: 74px; height: 40px;\"><strong>Karyotype result</strong></td>\n<td style=\"width: 97px; height: 40px;\">Direct preparation: 24&ndash;48 hours.Culture: 10&ndash;14 days</td>\n<td style=\"width: 114px; height: 40px;\">Culture:3&ndash;4 weeks&nbsp;&nbsp;</td>\n<td style=\"width: 150.6px; height: 40px;\">Culture:24&ndash;48 hours</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"width: 74px; height: 13px;\"><strong>Fetal loss</strong></td>\n<td style=\"width: 97px; height: 13px;\">0.5&ndash;1%</td>\n<td style=\"width: 114px; height: 13px;\">0.5%&nbsp;</td>\n<td style=\"width: 150.6px; height: 13px;\"><strong>1&ndash;2%</strong></td>\n</tr>\n<tr style=\"height: 40px;\">\n<td style=\"width: 74px; height: 40px;\"><strong>Accuracy</strong></td>\n<td style=\"width: 97px; height: 40px;\">Accurate; may need amniocentesis for confirmation&nbsp;</td>\n<td style=\"width: 114px; height: 40px;\">Highly accurate</td>\n<td style=\"width: 150.6px; height: 40px;\">Highly accurate</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is not a classical triad of ectopic pregnancy?",
    "choices": [
      {
        "id": 1,
        "text": "Abdominal pain"
      },
      {
        "id": 2,
        "text": "Amenorrhoea"
      },
      {
        "id": 3,
        "text": "Vaginal bleeding"
      },
      {
        "id": 4,
        "text": "Shoulder tip pain"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li>The <strong>classic triad of symptoms</strong> of disturbed tubal pregnancy are:\n<ul>\n<li>Abdominal pain (100%)</li>\n<li>Amenorrhea (75%)</li>\n<li>Appearance of vaginal bleeding (70%)</li>\n</ul>\n</li>\n</ul>\n<p><strong>Amenorrhea: </strong></p>\n<ul style=\"list-style-type: circle;\">\n<li>Short period of 6&ndash;8 weeks (usually); there may be delayed period or history of vaginal spotting.</li>\n<li>Amenorrhea may be absent even.</li>\n</ul>\n<p><strong>Abdominal pain </strong>is the most constant feature.</p>\n<ul style=\"list-style-type: circle;\">\n<li>It is acute, agonizing or colicky.</li>\n<li>Pain is located at lower abdomen: unilateral, bilateral or may be generalized.</li>\n<li><strong>Shoulder tip pain (25%) </strong>(referred pain due to diaphragmatic irritation from hemoperitoneum) may be present.</li>\n</ul>\n<p>&nbsp;</p>\n<ul>\n<li><strong>Vaginal bleeding </strong>may be slight and continuous.</li>\n<li><strong>Vomiting, fainting attack</strong>. Syncopal attack (10%) is due to reflex vasomotor disturbances following peritoneal irritation from hemoperitoneum.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Climacteric is related to:",
    "choices": [
      {
        "id": 1,
        "text": "Menstruation"
      },
      {
        "id": 2,
        "text": "Menarche"
      },
      {
        "id": 3,
        "text": "Menopause"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Climacteric is the phase of waning ovarian activity</strong>, and may <strong>begin 2&ndash;3 years before menopause and continue for 2&ndash;5 years after it</strong>.</p>\n<p>The climacteric is thus a phase of adjust&shy;ment between the active and inactive ovarian function and occupies several years of a woman&rsquo;s life, and it involves physical, sexual and psychological adjustments.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the condition given in the image",
    "choices": [
      {
        "id": 1,
        "text": "Complete abortion"
      },
      {
        "id": 2,
        "text": "Inevitable abortion"
      },
      {
        "id": 3,
        "text": "Incomplete abortion"
      },
      {
        "id": 4,
        "text": "Threatened miscarriage"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The condition given in the image is inevitable abortion.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b538527809ce44bf9ba0933e3c48eb6e.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/00d3798c2b964f169869eba9618a18a6x1280x3647.JPEG"
    ]
  },
  {
    "text": "Spiegelberg\u2018s criteria used in diagnosis of",
    "choices": [
      {
        "id": 1,
        "text": "Ovarian ectopic"
      },
      {
        "id": 2,
        "text": "Cervical ectopic"
      },
      {
        "id": 3,
        "text": "Abdominal ectopic"
      },
      {
        "id": 4,
        "text": "Tubal ectopic"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Spiegelberg&lsquo;s criteria - ovarian pregnancy</strong></p>\n<ul>\n<li>Tube on the affected side must be intact.</li>\n<li>The gestation sac must be in the position of the ovary.</li>\n<li>The gestation sac is connected to the uterus by the ovarian ligament.</li>\n<li>The ovarian tissue must be found on its wall on histological examination.</li>\n</ul>\n<p><strong>Studdiford criteria -&nbsp;abdominal pregnancy</strong></p>\n<ul>\n<li>Both the tubes and ovaries are normal without evidence of recent injury</li>\n<li>Absence of uteroperitoneal fistula</li>\n<li>Presence of a pregnancy related exclusively to the peritoneal surface and young enough to eliminate the possibility of secondary implantation following primary nidation in the tube</li>\n</ul>\n<p><strong>Rubin&rsquo;s criteria - cervical pregnancy </strong></p>\n<ul>\n<li>Soft, enlarged cervix equal to or larger than the fundus.</li>\n<li>Uterine bleeding following amenorrhea, without cramping pain.</li>\n<li>Products of conception entirely confined within and firmly attached to endocervix.</li>\n<li>A closed internal cervical os and a partially opened external os.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "False statement regarding Hormone replacement therapy is",
    "choices": [
      {
        "id": 1,
        "text": "All women require Hormone replacement therapy after menopause"
      },
      {
        "id": 2,
        "text": "Contra indicated in Uterine fibroids"
      },
      {
        "id": 3,
        "text": "Used in urethral syndrome"
      },
      {
        "id": 4,
        "text": "Associated with increased risk of ovarian cancer"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Not all women require HRT</strong> after menopause.</li>\n<li>Besides, HRT does not suit all, and it may cause complication and be harmful.</li>\n<li>However, it is logical to prescribe HRT and not withhold it when one needs it in the minimal effective dose for the shortest needed duration under supervision while on therapy.</li>\n<li>Initially, every menopausal woman was advised to go on HRT as soon as menopause set in to be taken for several years.</li>\n<li><strong>Newer researches and their observations reveal that a few women need prophylactic and therapeutic HRT, but 70&ndash;85% of women remain healthy and need only good nutrition and healthy lifestyle.</strong></li>\n</ul>\n<p><strong>Contraindications</strong></p>\n<ul>\n<li>Breast cancer, uterine cancer or family history of cancer</li>\n<li>Previous history of thromboembolic episode</li>\n<li>Liver and gall bladder diseases</li>\n<li><strong>Uterine fibroids&mdash;the fibroids may enlarge in size</strong></li>\n</ul>\n<p><strong>Uses of HRT</strong></p>\n<ul>\n<li>Short term&mdash;hot flushes, vasomotor symptoms</li>\n<li>Dyspareunia, libido</li>\n<li>Urethral syndrome</li>\n<li>Long term&mdash;osteoporosis</li>\n<li>Cardiovascular disease</li>\n<li>Alzheimer&rsquo;s disease</li>\n</ul>\n<p><strong>Risks of HRT</strong>:</p>\n<ul>\n<li>Endometrial cancer</li>\n<li>Breast cancer</li>\n<li>Ovarian cancer</li>\n<li>Thromboembolism</li>\n<li>Lipid profile dysfunction</li>\n<li>Gall stones, liver dysfunction</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Triploid karyotype seen in",
    "choices": [
      {
        "id": 1,
        "text": "Partial mole"
      },
      {
        "id": 2,
        "text": "Complete mole"
      },
      {
        "id": 3,
        "text": "Blighted ovum"
      },
      {
        "id": 4,
        "text": "Endometrial carcinoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Triploid karyotype seen in partial mole.</strong></p>\n<table style=\"width: 342.8px;\">\n<tbody>\n<tr>\n<td style=\"width: 107px;\"><strong>Features</strong></td>\n<td style=\"width: 123px;\"><strong>Complete Mole</strong></td>\n<td style=\"width: 104.8px;\"><strong>Partial Mole</strong></td>\n</tr>\n<tr>\n<td style=\"width: 107px;\"><strong>Embryo/Fetus</strong></td>\n<td style=\"width: 123px;\">Absent</td>\n<td style=\"width: 104.8px;\">Present</td>\n</tr>\n<tr>\n<td style=\"width: 107px;\"><strong>Hydropic degeneration of villi</strong></td>\n<td style=\"width: 123px;\">Pronounced and diffused</td>\n<td style=\"width: 104.8px;\">Variable and focal</td>\n</tr>\n<tr>\n<td style=\"width: 107px;\"><strong>Trophoblast hyperplasia</strong></td>\n<td style=\"width: 123px;\">Diffuse</td>\n<td style=\"width: 104.8px;\">Focal</td>\n</tr>\n<tr>\n<td style=\"width: 107px;\"><strong>Uterine size</strong></td>\n<td style=\"width: 123px;\">More than the date (30&ndash;60%)</td>\n<td style=\"width: 104.8px;\">Less than the date</td>\n</tr>\n<tr>\n<td style=\"width: 107px;\"><strong>Theca lutein cysts</strong></td>\n<td style=\"width: 123px;\">Common (25&ndash;50%)</td>\n<td style=\"width: 104.8px;\">Uncommon</td>\n</tr>\n<tr>\n<td style=\"width: 107px;\"><strong>Karyotype</strong></td>\n<td style=\"width: 123px;\">46, XX (85%), paternal in origin</td>\n<td style=\"width: 104.8px;\">Triploid (90%), diploid (10%)</td>\n</tr>\n<tr>\n<td style=\"width: 107px;\"><strong>Risk of persistent GTN</strong></td>\n<td style=\"width: 123px;\">20%</td>\n<td style=\"width: 104.8px;\">&lt;5%</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The condition shown in the given image is more commonly seen in",
    "choices": [
      {
        "id": 1,
        "text": "Monozygotic twins"
      },
      {
        "id": 2,
        "text": "Dizygotic twins"
      },
      {
        "id": 3,
        "text": "Equal incidence in both"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li>The condition shown in the image is <strong>Fetus papyraceous or compressus-more common in monozygotic twins.</strong></li>\n<li>It is a state which occurs if one of the fetuses dies early.</li>\n<li>The dead fetus is flattened, mummified and compressed between the membranes of the living fetus and the uterine wall.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e7ac893341174cd2935e20cc0ad577f3.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "Roll over test is done for",
    "choices": [
      {
        "id": 1,
        "text": "Preeclampsia"
      },
      {
        "id": 2,
        "text": "Gestational diabetes mellitus"
      },
      {
        "id": 3,
        "text": "Placenta previa"
      },
      {
        "id": 4,
        "text": "Placental abruption"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Roll over test: </strong></p>\n<ul>\n<li><strong>Screening test&nbsp; for pre eclampsia is done between 28 and 32 weeks</strong>.</li>\n<li>Blood pressure is measured with the patient on her side first and then the patient is asked to roll on her back to check the blood pressure once again.</li>\n<li>An increase of 20 mm Hg in diastolic pressure from side to back position indicates a positive &ldquo;roll over test&rdquo;.</li>\n<li>About 33% of women with positive &ldquo;roll over test&rdquo; developed hypertension later.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "How many grades are present in Papanicolaou classification",
    "choices": [
      {
        "id": 1,
        "text": "3"
      },
      {
        "id": 2,
        "text": "4"
      },
      {
        "id": 3,
        "text": "5"
      },
      {
        "id": 4,
        "text": "6"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>There are 5 grades in papanocolaou classification.</p>\n<p><strong>Papanicolaou classification-5 grades</strong></p>\n<ul>\n<li><strong>Grade I- Normal cells</strong></li>\n<li><strong>Grade II</strong> -Slightly abnormal, suggestive of <strong>inflammatory change</strong>; repeat smear after treating the infection</li>\n<li>Grade III- A more serious type of abnormality, usually in&shy;dicative of the need for biopsy</li>\n<li><strong>Grade IV</strong> -Distinctly abnormal, possibly malignant and <strong>definitely requiring biopsy</strong></li>\n<li><strong>Grade V- <strong>Malignant cells seen</strong></strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "All of the following are biophysical predictor of pre term labour except",
    "choices": [
      {
        "id": 1,
        "text": "Uterine contractions (UC) > 4/hr"
      },
      {
        "id": 2,
        "text": "Uterine contractions (UC) > 2/hr"
      },
      {
        "id": 3,
        "text": "Bishop score > 4"
      },
      {
        "id": 4,
        "text": "Cervical length (TVS)< 25 mm"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Uterine contractions (UC) &gt; 4/hr</strong> (not 2 hrs) is a biophysical predictor of preterm labor.</p>\n<p>&nbsp;</p>\n<p><strong>Predictors of preterm labor: </strong></p>\n<p><strong>Clinical predictors:</strong></p>\n<ul>\n<li>History of prior preterm birth</li>\n<li>Multiple pregnancy</li>\n<li>Presence of genital tract infection</li>\n<li>Symptoms of Pre term labor</li>\n</ul>\n<p><strong>Biophysical predictors:</strong></p>\n<ul>\n<li>Uterine contractions (UC) &gt; 4/hr</li>\n<li>Bishop score &gt; 4</li>\n<li>Cervical length (TVS) &lt; 25 mm</li>\n</ul>\n<p><strong>Biochemical predictors:</strong></p>\n<ul>\n<li>Fetal fibronectin (fFN) in cervicovaginal discharge&nbsp;</li>\n<li>Others IL-6, IL-8, TNF-&alpha;</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "In Intra uterine fetal death the blistering and the peeling of the skin occurs at",
    "choices": [
      {
        "id": 1,
        "text": "2-4 hrs"
      },
      {
        "id": 2,
        "text": "4-8 hrs"
      },
      {
        "id": 3,
        "text": "8-10 hrs"
      },
      {
        "id": 4,
        "text": "12-24hrs"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Blistering and peeling off of the skin occurs in maceration and it appears between 12 hours and 24 hours after death.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the condition given in the image",
    "choices": [
      {
        "id": 1,
        "text": "IUGR"
      },
      {
        "id": 2,
        "text": "Neural tube defect"
      },
      {
        "id": 3,
        "text": "Hydrops fetalis"
      },
      {
        "id": 4,
        "text": "Normal fetus"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The image shows the Buddha sign, seen in <strong>hydrops fetalis.</strong></p>\n<p>Buddha position of the fetus with a <strong>halo around the head due to an edematous scalp.&nbsp;</strong>This is the most serious form of Rh hemolytic disease (HDFN).</p>\n<p>Excessive destruction of the fetal red cells leads to severe anemia, tissue anoxemia, and metabolic acidosis. Fetal death occurs sooner or later due to cardiac failure.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1e674f87892e41ab9d69cd43c7267f51.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "All of the following are indications of colposcopy except",
    "choices": [
      {
        "id": 1,
        "text": "Vaginal lesion"
      },
      {
        "id": 2,
        "text": "Vulval lesion"
      },
      {
        "id": 3,
        "text": "Follow-up of ablation therapy"
      },
      {
        "id": 4,
        "text": "Uterine lesion"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Colposcopy indications</strong></p>\n<ul>\n<li>Abnormal Pap smear</li>\n<li>Cervical lesion</li>\n<li>Vaginal lesion</li>\n<li>Vulval lesion</li>\n<li>Follow-up of ablation therapy</li>\n</ul>\n<p><strong>Colposcopy of the vulva</strong></p>\n<ul>\n<li><strong>Colposcopy of the vulva is not always informative</strong> because of keratinization and deep-seated vesselsand multiple lesions.</li>\n<li>Toluidine blue shows heavy staining but does not give clue to the underlying pathology.</li>\n<li>Biopsy is required.</li>\n</ul>\n<p><strong>Colposcopy of the vagina indications:</strong></p>\n<ul>\n<li>To evaluate vagina with abnormal Pap smear but normal colposcopic findings of the cervix.</li>\n<li>Rule out extension of CIN.</li>\n<li>Women with HPV viral infection.</li>\n<li>Gross lesion present.</li>\n<li>Follow-up of hysterectomy or conservative therapy performed for CIN disease.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following combination of pelvis is not possible",
    "choices": [
      {
        "id": 1,
        "text": "Anthropoid with platypelloid"
      },
      {
        "id": 2,
        "text": "Anthropoid with gynecoid"
      },
      {
        "id": 3,
        "text": "Anthropoid with android"
      },
      {
        "id": 4,
        "text": "Android with gynecoid"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>On the basis of the shape of the inlet, the female pelvis is divided into four parent types</p>\n<ul>\n<li>Gynecoid (50%)</li>\n<li>Anthropoid (25%)</li>\n<li>Android (20%)</li>\n<li>Platypelloid (5%)</li>\n</ul>\n<p>-&nbsp;But more commonly, intermediate forms with combination of features are found,They are termed</p>\n<p>-&nbsp;as gyne-android or andro-gynecoid, etc</p>\n<p>-&nbsp;<strong>All types of combinations are possible except anthropoid with platypelloid.</strong></p>\n<p>&nbsp;</p>\n<p>There may be <strong>14 types of parent pelvis</strong> either in pure form or in combination.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The type of uterine contraction shown in the given image is due to",
    "choices": [
      {
        "id": 1,
        "text": "Spastic lower segment"
      },
      {
        "id": 2,
        "text": "Cervical dystocia"
      },
      {
        "id": 3,
        "text": "Asymmetrical contraction"
      },
      {
        "id": 4,
        "text": "Normal uterine contraction"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The type of uterine contraction shown in the given image is due to cervical dystocia.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/5668788c4df64edcaa0f4a196649eea1.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ae1eda5b802b462d8dbb710660c96e67x1280x1124.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/077e514eb4544bca9b177f53a21905ccx1280x1124.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c7aae27b6fe9448291a4bb989c83c249x1280x1124.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9229e82d189b4b32a1c19ce994dab754x1280x1124.JPEG"
    ]
  },
  {
    "text": "Identify the condition given in the image",
    "choices": [
      {
        "id": 1,
        "text": "Condyloma acuminatum of vulva"
      },
      {
        "id": 2,
        "text": "Herpes genitalis"
      },
      {
        "id": 3,
        "text": "Genital scabies"
      },
      {
        "id": 4,
        "text": "Lymphogranuloma venereum"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li>The condition given in the image is Herpes Genitalis.</li>\n<li>It is a recurrent STD infection caused by the doublestranded DNA of herpes simplex virus <strong>(almost 80% are type-II infections).</strong></li>\n<li>The <strong>incubation period is 3&ndash;7 days.</strong></li>\n<li>Herpes simplex virus type I affects only 30% vulval lesions.</li>\n<li>It mostly affects <strong>women between 20 and 30 years.</strong></li>\n</ul>\n<p>&nbsp;</p>\n<p>Known <strong>complications include encephalitis, urinary tract involvement</strong> <strong>causing retention of urine, severe pain or both.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/f993eeec38cd4b6583514ae42598471e.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "False statement regarding risk factors for scar rupture is",
    "choices": [
      {
        "id": 1,
        "text": "More the number (>2) of prior cesarean delivery"
      },
      {
        "id": 2,
        "text": "Interpregnancy interval <36months"
      },
      {
        "id": 3,
        "text": "Augmentation of labor [with high dose oxytocin (>20mU/min)]"
      },
      {
        "id": 4,
        "text": "Women having single layer uterine closure in prior cesarean delivery compared to double layer closure"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Risk Factors for Scar Rupture</strong></p>\n<ul>\n<li>More the number (&gt;2) of prior cesarean delivery</li>\n<li><strong>Interpregnancy interval &lt;24 months</strong></li>\n<li>Induced labor</li>\n<li>Augmentation of labor [with high dose oxytocin (&gt;20mU/min)]</li>\n<li>Women having single layer uterine closure in prior cesarean delivery compared to double layer closure</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the image given below",
    "choices": [
      {
        "id": 1,
        "text": "Normal labor"
      },
      {
        "id": 2,
        "text": "Retraction ring"
      },
      {
        "id": 3,
        "text": "Contraction ring"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The given image describes the Retraction ring, also known as <strong>Bandl&rsquo;s ring.</strong></p>\n<p class=\"p1\">After each contraction of the upper segment, the muscles do not return to their previous length, but tension remains essentially the same. By comparison, in the lower segment, successive lengthening of the fibers with labor is accompanied by thinning, normally to only a few millimeters in the thinnest part.</p>\n<p class=\"p1\">A<span class=\"s1\">s </span>a result of the lower segment thinning and concomitant upper segment thickening, a boundary between the two is marked by a ridge on the inner uterine surface -<strong> the physiological retraction ring</strong>.</p>\n<p class=\"p1\">When the thinning of the lower uterine segment is <strong>extreme</strong>, as in obstructed labor, the <strong>ring is prominent</strong> and forms a <strong>pathological retraction ring</strong>. This abnormal condition is also known as the <strong>Bandl ring</strong>.</p>\n<p>Always situated at the junction of upper and lower segment,the position progressively moves upwards.</p>\n<p>A <strong>constriction ring</strong> has been said to be a <strong>localized tetany of the uterus</strong> that occurs in prolonged labor with rupture of the membranes. It is usually localized to a <strong>thickened area of the myometrium</strong> over a point of fetal body.</p>\n<p>A Constriction ring risks obstructing the descent of the baby and/ or placenta but does not risk uterine rupture while Bandl's ring (or Pathologic Retraction ring) is caused by obstructed descent and, if uncorrected, the uterus may rupture.</p>\n<p>This is the image of a physiological retraction ring and a pathological retraction ring(showing thickened upper segment)</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/4a4ae9dc8b0241feb12c1b4c9fcffb6c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7b0740ed51f044cc911d672fe2bb92a1x1280x1398.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9dce94b3db3740f9b69b7a0cf7ff9643x1280x1399.JPEG"
    ]
  },
  {
    "text": "Identify the instrument given in the image",
    "choices": [
      {
        "id": 1,
        "text": "Rubbin\u2019s cannula"
      },
      {
        "id": 2,
        "text": "Artificial urinary sphincter"
      },
      {
        "id": 3,
        "text": "Trans obturator tape"
      },
      {
        "id": 4,
        "text": "None of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Rubin&rsquo;s cannula</strong></p>\n<ul>\n<li>It is used in <strong>hysterosalpingogram recording</strong>,while the dye is instilled into the uterine cavity, the cone prevents retrograde spill into the vagina.</li>\n</ul>\n<p>Used to <strong>detect the patency of fallopian tube in case of infertility</strong> and also in diagnosis of:</p>\n<ul>\n<li>Cervical incompetence</li>\n<li>Congenital anomalies of uterus</li>\n<li>Asherman&rsquo;s syndrome</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c7f17cc2eb494e599e188dabf0a3ba59.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Type of breech commonly present in primigravidae is",
    "choices": [
      {
        "id": 1,
        "text": "Frank breech"
      },
      {
        "id": 2,
        "text": "Flexed breech"
      },
      {
        "id": 3,
        "text": "Footling"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Frank breech (Breech with extended legs)-most common type of breech seen in primigravidae.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/808741f03d9e4537870bca03b5170310x378x570.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/857791a3658f422fa03ee0b26d72b2dex426x531.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e1d94fde07ba41bb9bbb80ccd3e95107x1280x2294.PNG"
    ]
  },
  {
    "text": "The commonest form of postpartum traumatic neuritis is",
    "choices": [
      {
        "id": 1,
        "text": "Sensory loss of lower limb"
      },
      {
        "id": 2,
        "text": "Foot drop"
      },
      {
        "id": 3,
        "text": "Loss of proprioception"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The commonest form of obstetric palsy encountered in puerperium is<strong> foot drop.</strong></p>\n<p>Postpartum traumatic neuritis is also known as<strong> obstetric palsy.&nbsp;</strong>Usually <strong>unilateral</strong> and appears shortly after delivery or during the first day postpartum or so.&nbsp;<strong>Due to stretching of the lumbosacral trunk </strong>by the prolapsed intervertebral disk between L5 and S1<strong>.</strong></p>\n<p>Neurological examination reveals <strong>a lower motor neuron type of lesion</strong> with flaccidity and wasting of the muscles in areas supplied by the femoral nerve or lumbosacral plexus. Sensory loss is often present.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Peak level of LH needed for ovulation is",
    "choices": [
      {
        "id": 1,
        "text": "55 ng/ml"
      },
      {
        "id": 2,
        "text": "65ng/ml"
      },
      {
        "id": 3,
        "text": "75ng/ml"
      },
      {
        "id": 4,
        "text": "85 ng/ml"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Peak level of 75 ng/mL of LH is needed for ovulation.</strong></p>\n<ul>\n<li><strong>LH is a water-soluble glycoprotein</strong> of high molecular weight secreted by b-cells; it also contains <strong>115 amino acids.</strong></li>\n<li>LH pulse occurs only dur&shy;ing sleep initially, but later extends throughout the day.</li>\n<li><strong>Pro&shy;gesterone secretion begins 34 h after LH peak.</strong></li>\n<li><strong>The LH surge precedes ovulation by 24&ndash;36 h.</strong></li>\n</ul>\n<p>This time relationship of LH peak to ovulation is helpful in predicting the exact time of ovulation in infertile women on gonadotropin therapy, making it possible to re&shy;trieve ova in in-vitro fertilization and to arrange for timely artificial insemination to enhance chances of conception.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "True statement regarding external cephalic version is",
    "choices": [
      {
        "id": 1,
        "text": "Successful rate of version is 65%"
      },
      {
        "id": 2,
        "text": "Successful version reduces the risk of caesarean section"
      },
      {
        "id": 3,
        "text": "CTG should ideally be done before and after the procedure"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>External Cephalic Version</strong></p>\n<ul>\n<li><strong>Successful rate of version is 65%</strong></li>\n<li>Successful version reduces the risk of caesarean section</li>\n<li><strong>CTG should ideally be done before and after the procedure</strong></li>\n<li><strong>Prior sonography should be a routine</strong></li>\n<li>Version in the early weeks is easy but chance of reversion is more</li>\n<li>Late version may be difficult because of increasing size of the fetus and diminishing volume of liquor amnii. However, the use of uterine relaxant (tocolysis) has made the version at later weeks less difficult.</li>\n</ul>\n<p><strong>Benefits of ECV are</strong></p>\n<ul>\n<li>Reduction in the incidence of breech presentation at term,</li>\n<li>Reduction in the incidence of breech delivery (Vaginal or cesarean) and the associated complications</li>\n<li>Reduction in the incidence of cesarean delivery by 5%</li>\n</ul>\n<p><strong>Successful version is likely in cases of:</strong></p>\n<ul>\n<li>Complete breech</li>\n<li>Non engaged breech</li>\n<li>Sacro anterior position (fetal back anteriorly)</li>\n<li>Adequate liquor</li>\n<li>Non obese patient</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "True about cervix to corpus ratio  before puberty is",
    "choices": [
      {
        "id": 1,
        "text": "1:2"
      },
      {
        "id": 2,
        "text": "2:3"
      },
      {
        "id": 3,
        "text": "2:1"
      },
      {
        "id": 4,
        "text": "1:3"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The relationship between the length of the cervix and that of the body of the uterus varies with age.</p>\n<table style=\"width: 371.2px;\">\n<tbody>\n<tr>\n<td style=\"width: 117px;\"><strong>Timeline</strong></td>\n<td style=\"width: 247.2px;\"><strong>Cervix to corpus ratio</strong></td>\n</tr>\n<tr>\n<td style=\"width: 117px;\"><strong>Before pu&shy;berty</strong></td>\n<td style=\"width: 247.2px;\"><strong>2:1</strong></td>\n</tr>\n<tr>\n<td style=\"width: 117px;\">At puberty</td>\n<td style=\"width: 247.2px;\">1:2</td>\n</tr>\n<tr>\n<td style=\"width: 117px;\">during the reproductive years</td>\n<td style=\"width: 247.2px;\">1:3 or even 1:4.</td>\n</tr>\n<tr>\n<td style=\"width: 117px;\">After menopause</td>\n<td style=\"width: 247.2px;\">whole organ atrophies and the portio vaginalis may eventually disappear</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The delivery of after coming head is by all of the following methods except",
    "choices": [
      {
        "id": 1,
        "text": "Burns-Marshall method"
      },
      {
        "id": 2,
        "text": "Forceps delivery"
      },
      {
        "id": 3,
        "text": "Malar flexion and shoulder traction"
      },
      {
        "id": 4,
        "text": "Frank breech extraction"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Frank breech extraction (Pinard&rsquo;s maneuver)</strong></p>\n<ul>\n<li>It is done by <strong>intrauterine manipulation (for breech decomposition) to convert a frank breech to a footling breech.</strong></li>\n<li>This is possible when the membranes have ruptured recently.</li>\n</ul>\n<p><strong>The delivery of After coming head is by 3 main mechanism</strong></p>\n<ul>\n<li>Burns-Marshall method</li>\n<li>Forceps delivery</li>\n<li>Malar flexion and shoulder traction(modified Mauriceau-Smellie-Veit technique)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Peak level of plasma progesterone in the follicular phase is",
    "choices": [
      {
        "id": 1,
        "text": "5ng/ml"
      },
      {
        "id": 2,
        "text": "10ng/ml"
      },
      {
        "id": 3,
        "text": "1ng/ml"
      },
      {
        "id": 4,
        "text": "15ng/ml"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<table>\n<tbody>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px;\">Hormones</td>\n<td style=\"height: 13px;\">Follicular Phase</td>\n<td style=\"height: 13px;\">At ovulation</td>\n<td style=\"height: 13px;\">Luteal Phase</td>\n</tr>\n<tr style=\"height: 84px;\">\n<td style=\"height: 84px;\">\n<p><strong>Daily Production </strong></p>\n<p>Estradiol(&micro;g)</p>\n<p>Progesterone(mg)</p>\n</td>\n<td style=\"height: 84px;\">\n<p>&nbsp;50</p>\n<p>2-3</p>\n</td>\n<td style=\"height: 84px;\">&nbsp;150 -300&nbsp;</td>\n<td style=\"height: 84px;\">\n<p>&nbsp;100</p>\n<p>20-30</p>\n</td>\n</tr>\n<tr style=\"height: 84.6px;\">\n<td style=\"height: 84.6px;\">\n<p><strong>Serum values</strong></p>\n<p>Estradiol (pg/ml)</p>\n<p>Progestrogen(ng/ml)</p>\n</td>\n<td style=\"height: 84.6px;\">\n<p>&nbsp;50</p>\n<p>&lt;1</p>\n</td>\n<td style=\"height: 84.6px;\">&nbsp;300-600</td>\n<td style=\"height: 84.6px;\">\n<p>&nbsp;150-200</p>\n<p>&gt;5</p>\n</td>\n</tr>\n<tr style=\"height: 13px;\">\n<td style=\"height: 13px;\">\n<p><strong>Daily excretion</strong></p>\n<p>Total estrogen(&micro;g)&nbsp;</p>\n</td>\n<td style=\"height: 13px;\">&nbsp;10-25</td>\n<td style=\"height: 13px;\">&nbsp;</td>\n<td style=\"height: 13px;\">&nbsp;25 - 75</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Name the incision given in the image",
    "choices": [
      {
        "id": 1,
        "text": "Duhrssen\u2019s incision"
      },
      {
        "id": 2,
        "text": "Joel cohen incision"
      },
      {
        "id": 3,
        "text": "Pfannenstiel incision"
      },
      {
        "id": 4,
        "text": "Cherny incision"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Duhrssen&rsquo;s incision</strong></p>\n<ul>\n<li><strong>Can be made at 2 and 10 O&rsquo; clock position on the cervix</strong></li>\n<li><strong>Done for delivery of head through an incompletely dilated cevix</strong></li>\n</ul>\n<p><strong>Joel</strong><strong>-</strong><strong>Cohen</strong><strong> incisio</strong><strong>n</strong>&nbsp;- skin incision used for Caesarian section</p>\n<p><strong>Pfannenstiel incision</strong>-Abdominal incision</p>\n<p><strong>Cherny incision</strong>-gynecologic surgery</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/87d160e7a68446639c1e4939fc8a751f.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "False statement regarding prolonged labor is",
    "choices": [
      {
        "id": 1,
        "text": "Prolonged labor is not synonymous with inefficient uterine contraction"
      },
      {
        "id": 2,
        "text": "A latent phase that exceeds 20 hours in primigravidae or 14 hours in multiparae is abnormal"
      },
      {
        "id": 3,
        "text": "Mean duration of latent phase is about 8 hours in a primi and 4 hours in a multi"
      },
      {
        "id": 4,
        "text": "Prolonged latent phase is an indication for cesarean delivery"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ul>\n<li><strong>Prolonged latent phase is not an indication for cesarean delivery.</strong></li>\n<li>The labor is said to be prolonged when the <strong>combined duration of the first and second stage</strong> is <strong>more than the arbitrary time limit of 18 hours</strong>.&nbsp;</li>\n<li>The prolongation may be due to protracted cervical dilatation in the first stage and/or inadequate descent of the presenting part during the first or second stage of labor.</li>\n<li>Labor is considered prolonged when the cervical dilatation rate is less than 1 cm/h and descent of the presenting part is less than 1 cm/h for a period of minimum 4 hours observation (WHO-1994).</li>\n<li><strong>Prolonged labor is not synonymous with inefficient uterine contraction.</strong></li>\n<li>A latent phase that exceeds 20 hours in primigravidae or 14 hours in multiparae is abnormal.</li>\n<li>Mean duration of latent phase is about 8 hours in a primi and 4 hours in a multi.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Arcuate uterus comes under which class of mullerian anomalies according to WHO?",
    "choices": [
      {
        "id": 1,
        "text": "Class 5"
      },
      {
        "id": 2,
        "text": "Class 6"
      },
      {
        "id": 3,
        "text": "Class 7"
      },
      {
        "id": 4,
        "text": "Class 8"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Class 6 &ndash;Arcuate Uterus.The classification is only upto class 6</p>\n<p>&nbsp;</p>\n<p><strong>WHO classification of mullerian anomalies</strong></p>\n<ul>\n<li>Class 1 &ndash;Mullerian agenesis</li>\n<li>Class 2- Unicornuate Uterus</li>\n<li>Class 3 &ndash; Didelphys Uterus</li>\n<li>Class 4- Bicornuate Uterus</li>\n<li>Class 5- Septate Uterus</li>\n<li><strong>Class 6- Arcuate Uterus</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Most common traumatic cause of PPH is",
    "choices": [
      {
        "id": 1,
        "text": "Extensive Vaginal tear"
      },
      {
        "id": 2,
        "text": "Extensive Cervical tear"
      },
      {
        "id": 3,
        "text": "Uterine tear"
      },
      {
        "id": 4,
        "text": "All of the above"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n<li><strong>Most common traumatic cause of PPH is Extensive Cervical tear</strong>.</li>\n<li>Minor degree of cervical tear is invariable during first delivery and requires no treatment.</li>\n<li>Isolated vaginal tears or lacerations without involvement of the perineum or cervix are not uncommon, these are usually seen following instrumental or manipulative delivery.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Silver is one of the components in which of the following IUCD?",
    "choices": [
      {
        "id": 1,
        "text": "Nova T"
      },
      {
        "id": 2,
        "text": "Multiload 375"
      },
      {
        "id": 3,
        "text": "Paragard"
      },
      {
        "id": 4,
        "text": "Mirena"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<ul>\n<li><strong>Nova T is nothing but CuT, where silver is added to copper wire thereby increasing lifespan of CuT from 3 years to 5 Years</strong>.</li>\n<li>Mirena (32 x 32 mm) contains 52 mg LNG, eluting 20 mcg daily . It can be retained for 5 years.</li>\n<li>Copper T 380A, known as Paraguard, has a lifespan of 10 years.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "False statement regarding scar dehiscence is",
    "choices": [
      {
        "id": 1,
        "text": "Disruption of part of scar and not the entire length"
      },
      {
        "id": 2,
        "text": "Fetal membranes remains intact"
      },
      {
        "id": 3,
        "text": "Uterine cavity and peritoneal cavity become continuous"
      },
      {
        "id": 4,
        "text": "Bleeding is almost nil or minimal"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The<strong> uterine cavity</strong> and <strong>peritoneal cavity</strong> become <strong>continuous</strong> in case of <strong>scar rupture</strong> and not dehiscence.</p>\n<p><strong>Scar dehiscence</strong> is the <strong>asymptomatic</strong> separation of the uterine scar <strong>without</strong> the <strong>involvement</strong> of the <strong>peritoneal coat</strong>. It is characterized by:</p>\n<ul>\n<li>Only a<strong> part of the scar</strong> is disrupted and not the entire length (Option A)</li>\n<li>The fetal <strong>membranes</strong> are <strong>intact</strong> (Option B)</li>\n<li>Almost nil or <strong>minimal bleeding</strong> (Option D)</li>\n</ul>\n<p><strong>Scar rupture </strong>is characterized by the <strong>complete separation</strong> of all the uterine layers <strong>including</strong> the <strong>serosa</strong>. It is characterized by:</p>\n<ul>\n<li>The <strong>entire length</strong> of the scar is disrupted</li>\n<li><strong>Rupture</strong> of the <strong>membranes</strong> with varying amounts of <strong>bleeding</strong> from the margins or from its extension</li>\n<li>The <strong>uterine</strong> cavity and <strong>peritoneal</strong> cavity become <strong>continuous</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Formation of tubo ovarian complex is considered as which stage of PID?",
    "choices": [
      {
        "id": 1,
        "text": "Stage 1"
      },
      {
        "id": 2,
        "text": "Stage 2"
      },
      {
        "id": 3,
        "text": "Stage 3"
      },
      {
        "id": 4,
        "text": "Stage 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Formation of tubo ovarian complex&nbsp; is seen in stage 3</strong></p>\n<table style=\"width: 335.8px;\">\n<tbody>\n<tr>\n<td style=\"width: 57px;\">Stages</td>\n<td style=\"width: 266.8px;\">Condition</td>\n</tr>\n<tr>\n<td style=\"width: 57px;\">Stage I</td>\n<td style=\"width: 266.8px;\">Acute salpingitis without peritonitis&mdash;no adhesions</td>\n</tr>\n<tr>\n<td style=\"width: 57px;\">Stage II</td>\n<td style=\"width: 266.8px;\">Acute salpingitis with peritonitis&mdash;purulent discharge &nbsp;</td>\n</tr>\n<tr>\n<td style=\"width: 57px;\"><strong>Stage III</strong></td>\n<td style=\"width: 266.8px;\"><strong>Acute salpingitis with superimposed tubal occlusion or tubo-ovarian complex</strong></td>\n</tr>\n<tr>\n<td style=\"width: 57px;\">Stage IV</td>\n<td style=\"width: 266.8px;\">Ruptured tubo-ovarian abscess</td>\n</tr>\n<tr>\n<td style=\"width: 57px;\">Stage V</td>\n<td style=\"width: 266.8px;\">Tubercular salpingitis &nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Positive Homan\u2019s sign is seen in",
    "choices": [
      {
        "id": 1,
        "text": "DIC"
      },
      {
        "id": 2,
        "text": "PPH"
      },
      {
        "id": 3,
        "text": "Pre Eclampsia"
      },
      {
        "id": 4,
        "text": "Deep vein thrombosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>A positive Homan&rsquo;s sign</strong>&mdash;pain in the calf on dorsiflexion of the foot may be present in <strong>Deep vein thrombosis.</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 16-year-old girl investigated for primary amenorrhea is diagnosed with Mayer\u2013Rokitansky\u2013Kuster\u2013Hauser (MRHK) syndrome. Which of the following characteristics is not associated with this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Breast development is present"
      },
      {
        "id": 2,
        "text": "Axillary and pubic hair is present"
      },
      {
        "id": 3,
        "text": "Uterus is absent"
      },
      {
        "id": 4,
        "text": "Ovaries are absent"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The patients diagnosed with\u00a0<strong>Mayer\u2013Rokitansky\u2013Kuster\u2013Hauser (MRHK) syndrome </strong>have<strong>\u00a0ovaries</strong> that are\u00a0<strong>anatomically</strong> and <strong>functionally normal</strong>.</p>\n<p>Mayer-Rokitansky-Kuster-Hauser syndrome or\u00a0<strong>Mullerian agenesis</strong>\u00a0is a condition wherein there is a congenital absence of the uterus and the vagina. The patients have a Karyotype of\u00a0<strong>46 XX</strong>,<strong>\u00a0</strong>so\u00a0the gonads present are\u00a0<strong>ovaries</strong>.\u00a0</p>\n<p>The patient's\u00a0<strong>secondary sexual characteristics\u00a0</strong>are\u00a0<strong>well-developed</strong> (Option A and B) with normal external genitalia. The<strong>\u00a0ovaries</strong>\u00a0are<strong>\u00a0normal</strong>\u00a0but have an absence of the uterus and the upper part of the vagina. The patients usually have a blind-ended vaginal pouch.\u00a0Diagnosis is made with the help of<strong> pelvic sonography</strong> and\u00a0 <strong>MRI</strong>. Patients may have rudimentary Mullerian bulbs without an endometrial cavity.</p>\n<p>The investigation algorithm for <strong>primary amenorrhea</strong> with <strong>normal secondary sexual characteristics</strong> is given below:</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/e35b351d2b6d44a3977606677ac32fc1x600x933.JPEG"
    ]
  },
  {
    "text": "Identify the image given below:",
    "choices": [
      {
        "id": 1,
        "text": "Flushing Cannula"
      },
      {
        "id": 2,
        "text": "Flushing curette"
      },
      {
        "id": 3,
        "text": "Karman cannula"
      },
      {
        "id": 4,
        "text": "Vitoon manipulator"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<ul>\n<li>Karman canula is a long tubular structure&nbsp; made of plastic or metal</li>\n<li>Types Rigid or Flexible</li>\n<li>Sizes 4 to 12 mm</li>\n<li><strong>Superior overhanging edge acts as a curette</strong></li>\n<li>The number of cannula corresponds to the diameter in millimeters.</li>\n<li><strong>A plastic cannula is preffered because it is less traumatic ,transparent and disposable</strong></li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/548daf8851da42be8fadd22961edae3c.PNG"
    ],
    "explanation_images": []
  },
  {
    "text": "All are used in treatment of resistant genital tuberculosis except",
    "choices": [
      {
        "id": 1,
        "text": "Kanamycin"
      },
      {
        "id": 2,
        "text": "Ethionamide"
      },
      {
        "id": 3,
        "text": "Para-Aminosalicylic acid"
      },
      {
        "id": 4,
        "text": "Pyrazinamide"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Pyrazinamide is not useful in resistant genital tuberculosis</strong></p>\n<p>Drugs used in resistant tuberculosis are:</p>\n<ul>\n<li>Capreomycin</li>\n<li>Kanamycin</li>\n<li>Ethionamide</li>\n<li>Para-Aminosalicylic acid</li>\n<li>Cycloserine</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = 'Obg St 2';
        const quizFilename = 'obg-st-2-74057fcd.html';
        let hierarchy = ["Marrow", "NEET PG Test Series Subject Wise", "Year 2017 - 18"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        // --- NEW: History Management ---
        function saveProgress() {
            if (isQuizCompleted) return; // Don't save after completion
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            userHistory[quizFilename] = {
                questionStates,
                stats,
                currentQuestionIndex,
                currentMode,
                status: 'incomplete',
                lastSeen: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }

        function loadProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const savedState = userHistory[quizFilename];
            if (savedState) {
                questionStates = savedState.questionStates;
                stats = savedState.stats;
                currentQuestionIndex = savedState.currentQuestionIndex;
                currentMode = savedState.currentMode;
                console.log('Progress loaded.');
                return true;
            }
            return false;
        }

        function clearProgress() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            if(userHistory[quizFilename]) {
                delete userHistory[quizFilename];
                localStorage.setItem('userHistory', JSON.stringify(userHistory));
                console.log('Previous progress cleared.');
            }
        }

        function markQuizAsCompleted() {
            const userHistory = JSON.parse(localStorage.getItem('userHistory')) || {};
            const totalQuestions = questionsData.length;
            const correct = stats.correctAnswers || 0;
            
            userHistory[quizFilename] = {
                score: correct,
                total: totalQuestions,
                status: 'completed',
                completedOn: new Date().toISOString()
            };
            localStorage.setItem('userHistory', JSON.stringify(userHistory));
        }
        // --- End of History Management ---

        const urlParams = new URLSearchParams(window.location.search);
        const startAt = parseInt(urlParams.get('startAt'));
        const resume = urlParams.get('resume') === 'true';

        function goBack() {
            if (!isQuizCompleted) saveProgress(); // Save progress before leaving
            window.location.href = document.referrer || 'index.html';
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            if (!isNaN(startAt) && startAt >= 0 && startAt < questionsData.length) {
                currentQuestionIndex = startAt;
            }

            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                processAnswer();
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
            saveProgress(); // NEW: Save on answer selection
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            showSolution();
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            stats.correctAnswers = correct; // Update global stats
            stats.incorrectAnswers = incorrect;
            markQuizAsCompleted(); // NEW: Mark quiz as complete in history
            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                clearProgress(); // NEW: Clear history on retake
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                saveProgress(); // NEW: Save on navigation
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                        saveProgress();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (resume) {
                if (loadProgress()) {
                    document.getElementById('modeModal').style.display = 'none';
                    initializeQuiz(); // Resume directly into the saved mode and state
                } else {
                    // If resume fails (e.g., cleared history), start fresh
                    clearProgress();
                    document.getElementById('modeModal').style.display = 'flex';
                }
             } else if (!window.location.pathname.endsWith('custom_quiz.html')) {
                clearProgress(); // Clear old progress if not resuming
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>