<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>223 Medicine Ini-Cet 2023 - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / PYQs / Medicine
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">38</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A patient in emergency has the following lab parameters: creatinine 1.5 and BUN 45. The chest x-ray is shown below. In gram staining and culture, only rhinovirus was isolated. The patient is shifted to ICU. What is the treatment of choice in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Azithromycin"
      },
      {
        "id": 2,
        "text": "Ceftriaxone plus azithromycin"
      },
      {
        "id": 3,
        "text": "Amoxicillin plus clavulanic acid"
      },
      {
        "id": 4,
        "text": "Piptaz plus ciprofloxacin"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The chest radiograph is suggestive of <strong>pneumonia</strong>. Since this patient requires <strong>treatment in an ICU setting</strong>, the drugs of choice would be <strong>ceftriaxone plus azithromycin</strong>.</p>\n<p>Initial treatment in <strong>inpatients</strong> <strong>with pneumonia</strong>:</p>\n<table style=\"width: 545px;\">\n<tbody>\n<tr>\n<td style=\"width: 148.805px;\">Non-severe disease</td>\n<td style=\"width: 379.195px;\">\n<p>A&nbsp;&beta;-lactam + a macrolide (ceftriaxone + azithromycin)</p>\n<p>or</p>\n<p>A respiratory fluoroquinolone</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 148.805px;\">Severe disease</td>\n<td style=\"width: 379.195px;\">\n<p>&nbsp;A&nbsp;&beta;-lactam + a macrolide (ceftriaxone + azithromycin)</p>\n<p>or&nbsp;</p>\n<p>A&nbsp;&beta;-lactam + respiratory fluoroquinolone</p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>Appropriate antibiotics for <em>Pseudomonas aeruginosa</em> or MRSA are to be added if there is a history of prior isolation from respiratory samples.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/82d1c5eb5e5e4e20b8e5a00893126b28.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A patient presents with severe vomiting and diarrhea and has orthostatic hypotension. What metabolic abnormalities would you expect in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "2, 4 only"
      },
      {
        "id": 2,
        "text": "1, 3 only"
      },
      {
        "id": 3,
        "text": "1, 2, 3, 4"
      },
      {
        "id": 4,
        "text": "1, 2, 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the given clinical scenario, the patient is likely to have <strong>hypokalemia</strong>, <strong>hypochloremia</strong> and <strong>metabolic alkalosis</strong>.&nbsp;</p>\n<p>The given clinical scenario describes a patient who has a history of <strong>vomiting</strong> and <strong>diarrhea</strong> and now has <strong>orthostatic</strong> <strong>hypotension</strong>. This indicates that the patient is <strong>dehydrated</strong> and there is a <strong>contraction of the extracellular fluid volume</strong>. This would <strong>stimulate</strong> the <strong>renin-angiotensin-aldosterone system (RAAS)</strong>.</p>\n<p>Elevated aldosterone causes <strong>net H<sup>+</sup> and K<sup>+</sup> excretion</strong> from the distal tubule of the kidneys. This causes <strong>hypokalemia</strong> and <strong>metabolic alkalosis</strong>. Alkalosis is worsened because angiotensin II stimulates the Na<sup>+</sup>-H<sup>+</sup> exchanger in the renal proximal convoluted tubule and increases the reabsorption of Na<sup>+</sup> and HCO<sub>3</sub><sup>-</sup>.&nbsp;<strong>Hypochloremia</strong> occurs because of <strong>loss of HCl during vomiting</strong>, and is maintained due to <strong>loss of Cl<sup>-</sup> in the kidney</strong> which accompanies increased HCO<sub>3</sub><sup>-</sup> reabsorption.</p>\n<p>In a patient with metabolic alkalosis, the <strong>compensatory mechanism</strong> should be <strong>respiratory acidosis</strong>, not respiratory alkalosis (statement 4). This occurs in the form of <strong>hypoventilation</strong>, which increases PaCO<sub>2</sub>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Order in which the following heart sounds are heard from superior to inferior on the left side chest wall?",
    "choices": [
      {
        "id": 1,
        "text": "3 \u2192 1 \u2192 2"
      },
      {
        "id": 2,
        "text": "3 \u2192 2 \u2192 1"
      },
      {
        "id": 3,
        "text": "2 \u2192 1 \u2192 3"
      },
      {
        "id": 4,
        "text": "1 \u2192 2 \u2192 3"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<ol>\n<li><strong>Aortic area</strong>, <strong>second right intercostal space</strong>: this area is primarily used for auscultation of the aortic valve. The murmurs heard best here are those of <strong>aortic stenosis</strong>, <strong>aortic regurgitation,</strong> and hypertrophic cardiomyopathy.</li>\n<li><strong>Pulmonic area</strong>, <strong>second left intercostal space</strong>: this area is primarily used for the auscultation of the pulmonic valve.&nbsp;</li>\n<li><strong>Erb's point</strong>, <strong>third left intercostal space</strong>: this area lies close to both the semilunar valves. Pathologies of <strong>both aortic and pulmonic valves</strong> can be heard at this point. Murmurs in this region are <strong>more</strong> <strong>audible</strong> if the patient <strong>leans forward</strong>.</li>\n<li><strong>Tricuspid area</strong>, <strong>fourth left intercostal space</strong>: murmurs of <strong>tricuspid stenosis</strong> and <strong>tricuspid regurgitation</strong>, and <strong>ventricular septal defects</strong> are heard in this area.</li>\n<li><strong>Mitral area</strong>, <strong>fifth left intercostal space</strong> <strong>in the midclavicular line</strong>: murmurs of <strong>mitral stenosis</strong>, <strong>mitral regurgitation,</strong> and <strong>mitral valve prolapse</strong> are heard here.</li>\n</ol>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d0478babe75543a6a202d8a2ce676329x978x960.PNG"
    ]
  },
  {
    "text": "A 35-year-old female presents with skin thickening, muscle weakness, and the peripheries becoming pale on exposure to cold. She is positive for ANA and anti-Scl-70 antibodies. Her creatinine kinase is elevated and muscle biopsy shows perifascicular infiltration. What is the antibody associated with this?",
    "choices": [
      {
        "id": 1,
        "text": "Anti-U3 RNP"
      },
      {
        "id": 2,
        "text": "Anti-centromere antibody"
      },
      {
        "id": 3,
        "text": "Anti-PM-Scl antibody"
      },
      {
        "id": 4,
        "text": "Anti-Jo-1 antibody"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given patient with a history and findings suggestive of <strong>diffuse</strong> <strong>systemic sclerosis</strong> and <strong>dermatomyositis/polymyositis</strong> is most likely to be suffering from <strong>overlap syndrome</strong>. The presence of skin thickening, Reynaud's phenomenon, and anti-Scl-70 antibodies are suggestive of diffuse systemic sclerosis, while muscle weakness and perifascicular infiltration are suggestive of dermatomyositis/polymyositis.</p>\n<p>In overlap syndromes involving polymyositis/dermatomyositis and systemic sclerosis, <strong>anti-PM-Scl antibodies</strong> are found in <strong>close to 50%</strong> of the patients, while <strong>anti-Jo-1 antibodies</strong> were found to be positive in <strong>20-30%</strong> of the patients.</p>\n<p><strong>Anti-centromere antibodies</strong> (option B) are seen in <strong>limited-cutaneous systemic sclerosis</strong>. <strong>Anti-U3-RNP antibodies</strong> (also known as <strong>anti-fibrillin</strong> antibodies) are seen in both <strong>limited-cutaneous and diffuse systemic sclerosis</strong>. They signify an increased risk of the patient developing <strong>pulmonary arterial hypertension</strong>, interstitial lung disease, <strong>scleroderma renal crisis,</strong> and <strong>myositis</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During which phase of the cardiac cycle is an AR murmur likely to be heard?",
    "choices": [
      {
        "id": 1,
        "text": "Ventricular ejection"
      },
      {
        "id": 2,
        "text": "Throughout cardiac cycle"
      },
      {
        "id": 3,
        "text": "Isovolumetric contraction"
      },
      {
        "id": 4,
        "text": "Ventricular diastole"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Aortic regurgitation (AR)</strong> murmur is most likely to be heard during the <strong>ventricular diastole</strong>.&nbsp;</p>\n<p>On auscultation of patients with chronic AR, a high-pitched <strong>decrescendo diastolic murmur</strong> is heard. It can be best noted in the <strong>third intercostal space on the left sternal border</strong>. In patients with mild AR, the murmur is brief. But as the disease progresses, it becomes longer in duration, and can indeed become <strong>holodiastolic</strong>. In patients in whom <strong>AR</strong> <strong>is due to primary valvular disease</strong>, the diastolic murmur is <strong>heard louder on the left sternal border</strong>. However, if the <strong>murmur is louder on the right sternal border</strong>, it indicates that AR is due to aneurysmal <strong>dilation of the aortic root</strong>. The auscultatory features of AR are <strong>intensified</strong> <strong>by</strong>&nbsp;<strong>handgrip</strong>, which augments systemic vascular resistance and increases LV afterload.</p>\n<p>The heart murmurs heard in <strong>systole</strong> are:</p>\n<ul>\n<li><strong>Aortic and pulmonic stenosis</strong>: ejection systolic murmur</li>\n<li><strong>Chronic mitral and tricuspid regurgitation</strong>: holosystolic murmur</li>\n<li><strong>Mitral valve prolapse</strong>: midsystolic click followed by a late systolic murmur</li>\n<li><strong>Ventricular septal defect</strong>: holosystolic murmur</li>\n</ul>\n<p>The heart murmurs heard in <strong>diastole</strong> are:</p>\n<ul>\n<li><strong>Aortic regurgitation</strong>: early diastolic, decrescendo murmur</li>\n<li><strong>Mitral stenosis</strong>: opening snap following by mid to late diastolic murmur</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Identify the given ECG.",
    "choices": [
      {
        "id": 1,
        "text": "Torsades de pointes"
      },
      {
        "id": 2,
        "text": "Ventricular fibrillation"
      },
      {
        "id": 3,
        "text": "Atrial flutter"
      },
      {
        "id": 4,
        "text": "Monomorphic ventricular tachycardia"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>&nbsp;</p>\n<p><strong>Monomorphic ventricular tachycardia</strong> (option D) shows <strong>wide QRS complex tachycardia</strong> but with the <strong>same QRS morphology</strong> in each beat. It occurs most commonly due to <strong>structural heart diseases</strong> (cardiomyopathy, or scarring after <strong>myocardial infarction</strong>). The patients are at high risk for sudden cardiac death. The ECG given below shows monomorphic ventricular tachycardia.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/77afc941ea1f4500a09479604bee604c.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/3e1674a501da4ad0a02ebe6bbb2ec36ax800x179.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/212a3db2b9274b33a62dd163a91556e0x1280x878.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f467a4b4800442cfaada3414cf118ad4x1088x570.PNG"
    ]
  },
  {
    "text": "Total plasma exchange is done in thrombotic thrombocytopenic purpura. How does TPE help in the management of TTP?",
    "choices": [
      {
        "id": 1,
        "text": "TPE removes the von Willebrand factor"
      },
      {
        "id": 2,
        "text": "TPE removes the antiplatelet antibodies"
      },
      {
        "id": 3,
        "text": "TPE replenishes the coagulation factors"
      },
      {
        "id": 4,
        "text": "TPE removes anti-ADAMTS13 autoantibodies and thereby increases the ADAMTS protease activity"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The <strong>mainstay of treatment</strong> of TTP is with <strong>therapeutic plasma exchange (TPE)</strong>. TPE is continued till the platelet count becomes normal and signs of hemolysis are absent for at least 2 days. <strong>Glucocorticoids</strong> have been used as an adjunct to TPE. Addition of <strong>rituximab</strong> as an initial therapy also decreases the duration of TTP and relapses.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7698db7a0b9c479d9e61b2dc0d1b4fd4x754x594.PNG"
    ]
  },
  {
    "text": "Identify the neurological test being performed.",
    "choices": [
      {
        "id": 1,
        "text": "Babinski sign"
      },
      {
        "id": 2,
        "text": "Ankle jerk"
      },
      {
        "id": 3,
        "text": "Jendrassik"
      },
      {
        "id": 4,
        "text": "Normal plantar response"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>&nbsp;</p>\n<p>In <strong>infants</strong> whose <strong>corticospinal tracts</strong> are still <strong>underdeveloped</strong>, <strong>dorsiflexion of the great toe</strong> and fanning of other toes is a <strong>normal</strong> response to scratching of the sole of the foot. The image below shows an <strong>extensor</strong> response in an <strong>infant</strong>, which is normal.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/7d952118d1e04fb19c63ead2dc637747.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b71e4bb1dd7c41d0ad038d6a6d1b2f68x407x358.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f82ba8377c714c94a44ed04ca8777aeex800x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/da3ee900b2c54c2ca610b5c7e1b8d011x640x480.JPEG"
    ]
  },
  {
    "text": "Which among the following indicates severe COVID?",
    "choices": [
      {
        "id": 1,
        "text": "RR >24/min"
      },
      {
        "id": 2,
        "text": "MAP 70 mmHg"
      },
      {
        "id": 3,
        "text": "Lung infiltrates >42% on CT"
      },
      {
        "id": 4,
        "text": "SpO2 < 85% on room air"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>SpO2 &lt; 90% </strong>on room air indicates severe COVID.</p>\n<p>According to the clinical guidelines for the management of COVID-19 patients released by the <strong>AIIMS/ICMR task force</strong>, a <strong>respiratory rate of &gt;24/min</strong> constitutes <strong>moderate COVID</strong>, not severe COVID.&nbsp;</p>\n<p>According to the clinical management protocol given by the Ministry of Health and Family Welfare, the clinical severity of COVID-19 is given as:</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Severity</strong></td>\n<td><strong>Presentation</strong></td>\n<td><strong>Clinical parameters</strong></td>\n<td><strong>Management</strong></td>\n</tr>\n<tr>\n<td><strong>Mild</strong></td>\n<td>Uncomplicated URTI</td>\n<td>\n<p><strong>Mild symptoms</strong> such as fever, cough, sore throat and headache</p>\n<p>No shortness of breath or hypoxia: <strong>SpO<sub>2</sub>&nbsp;&ge; 94%&nbsp;</strong>on room air</p>\n</td>\n<td>Managed at home or COVID care center.</td>\n</tr>\n<tr>\n<td><strong>Moderate</strong></td>\n<td>Pneumonia with no signs of severe disease</td>\n<td>\n<p>Features of pneumonia</p>\n<p>Dyspnea or hypoxia present: <strong>SpO<sub>2</sub> 90 to&nbsp;&le; 93%</strong> on room air</p>\n<p><strong>Respiratory rate&nbsp;&ge; 24/min</strong></p>\n</td>\n<td>Managed at a dedicated COVID health center.</td>\n</tr>\n<tr>\n<td><strong>Severe</strong></td>\n<td>Severe pneumonia</td>\n<td>\n<p>Features of pneumonia</p>\n<p><strong>SpO2 &lt; 90% </strong>on room air</p>\n<p><strong>Respiratory rate &gt;30 breaths/min</strong></p>\n</td>\n<td>Managed at a dedicated COVID hospital.</td>\n</tr>\n<tr>\n<td>&nbsp;</td>\n<td>ARDS</td>\n<td>\n<p>As per ARDS diagnostic criteria</p>\n</td>\n<td>&nbsp;</td>\n</tr>\n<tr>\n<td>&nbsp;</td>\n<td>Sepsis</td>\n<td>\n<p>Life-threatening <strong>organ dysfunction&nbsp;</strong></p>\n<p>Altered mental status, reduced urine output, weak pulse, cold extremities, <strong>weak blood pressure</strong>, coagulopathy</p>\n</td>\n<td>&nbsp;</td>\n</tr>\n<tr>\n<td>&nbsp;</td>\n<td>Septic shock</td>\n<td><strong>Persistent hypotension despite volume resuscitation</strong>, requiring vasopressors to maintain MAP&nbsp;&ge; 65 mmHg</td>\n<td>&nbsp;</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b65dc115e4d2466995edb548aa173928x1280x4005.JPEG"
    ]
  },
  {
    "text": "Which of the following are seen in iron deficiency anemia?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2"
      },
      {
        "id": 2,
        "text": "3, 4"
      },
      {
        "id": 3,
        "text": "1, 2, 3, 4"
      },
      {
        "id": 4,
        "text": "1, 3, 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Iron deficiency anemia</strong>&nbsp;(IDA) is characterized by <strong>reduced serum iron</strong> level, <strong>reduced transferrin saturation</strong>,&nbsp;<strong>increased total iron-binding capacity (TIBC),</strong> and <strong>reduced ferritin</strong> level.&nbsp;</p>\n<p><strong>Serum iron</strong> level represents the amount of <strong>circulating iron bound to transferrin</strong>. When the iron stores become depleted in IDA, the serum iron level begins to fall.&nbsp;</p>\n<p><strong>TIBC</strong> is an <strong>indirect measure</strong> of the circulating levels of the iron-transporting protein, <strong>transferrin</strong>. IDA is characterized by <strong>more free transferrin (not bound to iron)</strong> available in circulation. This increases the TIBC. <strong>Transferrin saturation</strong> is calculated as: (serum iron&nbsp;&divide; TIBC) x 100. Normal transferrin saturation is <strong>25-50%</strong>. <strong>Iron deficiency</strong> states show <strong>low transferrin saturation</strong>. A transferrin saturation &gt;50% indicates a large amount of iron being delivered to the tissues, and can cause tissue iron overload. This is seen in hemochromatosis.</p>\n<p><strong>Serum ferritin</strong> is the most useful laboratory test to assess the <strong>levels of iron stores</strong> in the body. As iron stores are depleted, serum ferritin levels fall. Levels <strong>&lt;15&nbsp;&mu;g/L</strong> are diagnostic of completely <strong>absent iron stores</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient recovered from hepatitis B infection. Which of the following curve represents antibodies seen 4 weeks post-recovery?",
    "choices": [
      {
        "id": 1,
        "text": "Anti-HBs"
      },
      {
        "id": 2,
        "text": "Anti-HBc"
      },
      {
        "id": 3,
        "text": "HBeAg"
      },
      {
        "id": 4,
        "text": "HBsAg"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The serological marker marked in the image is <strong>anti-HBs antibody</strong>. In typical cases of resolving hepatitis B, HBsAg becomes undetectable 1-2 months after the appearance of clinical features. After this, anti-HBs becomes detectable in the serum.</p>\n<p>After a person is infected with the hepatitis B virus (HBV), the <strong>first</strong> <strong>serologic marker</strong> to increase in level is <strong>HBsAg.&nbsp;</strong>It becomes detectable in the serum between <strong>1-12 weeks.&nbsp;</strong>It becomes undetectable 1&ndash;2 months after the onset of jaundice and rarely persists beyond 6 months. Once the HBsAg becomes undetectable,&nbsp;anti-HBs antibody starts rising in serum and remains detectable indefinitely thereafter. The gap between the disappearance of HBsAg and the appearance of anti-HBs antibodies is called the <strong>window period.</strong>&nbsp;</p>\n<p><strong>HBcAg</strong> is located <strong>inside the cells</strong> and is usually enclosed within an HBsAg coat when present in the serum. As a result, HBcAg is <strong>not commonly detectable</strong> in the serum of patients with HBV infection since naked core particles are not found in the bloodstream. Conversely, <strong>anti-HBc</strong> can be detected in the serum shortly after the emergence of HBsAg, usually within <strong>1-2 weeks. Anti-HBc</strong>&nbsp;may be the only <strong>serologic marker</strong>&nbsp;useful for the identification of HBV infection during the <strong>window period.&nbsp;</strong></p>\n<p class=\"p1\"><strong>HBeAg</strong> appears shortly after the appearance of HBsAg. Its appearance correlates with high levels of <strong>virus replication. Anti-HBe</strong> correlates with a period of <strong>lower infectivity.</strong></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/31aeec65e0c4450ebaab39c620fdc941.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/59d66670c07a481abcc0e406a52edd56x1280x1156.JPEG"
    ]
  },
  {
    "text": "Which of the following is not a cause of reversible dementia?",
    "choices": [
      {
        "id": 1,
        "text": "B12 deficiency"
      },
      {
        "id": 2,
        "text": "Normal pressure hydrocephalus"
      },
      {
        "id": 3,
        "text": "Lewy body dementia"
      },
      {
        "id": 4,
        "text": "Hypothyroidism"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Lewy body dementia</strong> causes <strong>irreversible</strong> <strong>dementia</strong>.</p>\n<p><strong>Dementia&nbsp;</strong>is an acquired deterioration in cognitive abilities that impairs the successful performance of activities of daily living. The most commonly lost cognitive function is episodic memory, that is, the ability to recall events specific in time and place.</p>\n<p><strong>Causes of dementia are</strong>:</p>\n<p><strong>Reversible&nbsp;</strong></p>\n<ul>\n<li>Hypothyroidism</li>\n<li>Thiamine deficiency, vitamin B12 deficiency</li>\n<li>Normal pressure hydrocephalus</li>\n<li>Subdural hematoma</li>\n<li>Brain tumor</li>\n<li>Chronic infection</li>\n<li>Autoimmune encephalopathy</li>\n</ul>\n<p><strong>Irreversible&nbsp;</strong></p>\n<ul>\n<li>Alzheimer's disease</li>\n<li>Huntington's disease</li>\n<li>Lewy body dementia</li>\n<li>Vascular dementia</li>\n<li>Creutzfeld-Jacob disease</li>\n<li>Frontotemporal dementia</li>\n<li>Parkinson's disease</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A female presented with excessive daytime sleepiness and impaired concentration and memory for one year. On examination, the BMI was 43 kg/m2 and BP was 170/98 mmHg. ABG was done in awake state and the findings are given below. Which of the following is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Obesity hypoventilation syndrome"
      },
      {
        "id": 2,
        "text": "Obstructive sleep apnea"
      },
      {
        "id": 3,
        "text": "Central sleep apnea"
      },
      {
        "id": 4,
        "text": "Narcolepsy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario of an obese patient with daytime sleepiness and hypercapnia on ABG is suggestive of <strong>obesity hypoventilation syndrome</strong>.</p>\n<p><strong>Obesity hypoventilation syndrome (OHS)</strong> occurs due to increased work of breathing, respiratory muscle impairment related to the increased load, and depressed central ventilatory response to hypoxemia and hypercapnia. The diagnosis of OHS requires:</p>\n<ul>\n<li><strong>BMI&nbsp;&ge;30 kg/m2</strong></li>\n<li><strong>PaCO2&nbsp;&ge;45 mmHg&nbsp;</strong>which&nbsp;signifies daytime alveolar hypoventilation</li>\n<li><strong>Evidence of sleep-disordered breathing</strong>, which in most cases is due to <strong>obstructive sleep apnea (OSA)</strong></li>\n</ul>\n<p><strong>Obstructive sleep apnea (OSA)</strong>&nbsp;(option B) is diagnosed if the patient has either symptoms of <strong>nocturnal breathing disturbances</strong> or <strong>daytime sleepiness</strong>, and<strong>&nbsp;&ge;5 episodes of obstructive apnea</strong> or hypopnea <strong>per hour of sleep</strong>. Each such episode should last for<strong> at least 10 seconds</strong>, resulting in&nbsp;&ge;3% drop in oxygen saturation or a brain cortical arousal. OSA is diagnosed by <strong>overnight polysomnogram (PSG)</strong>. This includes measurement of breathing, oxygenation, body position, cardiac rhythm, sleep stages, and snoring intensity. <strong>Waking hypoxemia or hypercarbia</strong> in a patient with OSA <strong>suggests</strong> cardiopulmonary disease or <strong>obesity hypoventilation syndrome</strong>.</p>\n<p><strong>Central sleep apnea (CSA)</strong>&nbsp;(option C) is caused due to increased sensitivity to PCO<sub>2</sub>. This causes an unstable breathing pattern which manifests as hyperventilation alternating with apnea. Prolonged circulation delay between pulmonary capillaries and carotid chemoreceptors is also a contributing cause. Hence, patients with heart failure may show CSA. They can present with <strong>Cheyne-Stokes breathing</strong>.&nbsp;</p>\n<p><strong>Narcolepsy</strong> (option D) presents with difficulty sustaining wakefulness and disturbed nocturnal sleep. However, unlike sleep apnea, patients with narcolepsy usually feel well-rested on awakening and then feel tired throughout the day. One of the most characteristic clinical features which is seen is <strong>cataplexy</strong>&nbsp;&ndash; sudden muscle weakness without a loss of consciousness, which is usually triggered by <strong>strong emotions</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with chronic kidney disease has the following laboratory reports. Calculate the anion gap in this patient.",
    "choices": [
      {
        "id": 1,
        "text": "25"
      },
      {
        "id": 2,
        "text": "68"
      },
      {
        "id": 3,
        "text": "35"
      },
      {
        "id": 4,
        "text": "43"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The anion gap in this patient is 35 mEq/L.&nbsp;</p>\n<p>The <strong>anion gap</strong> is calculated as <strong>Na<sup>+</sup>&nbsp;&ndash; [Cl<sup>-</sup> + HCO<sub>3</sub><sup>-</sup>]</strong>. In this patient, the anion gap will be calculated as: 145&nbsp;&ndash; (90 + 20) = 145&nbsp;&ndash; 110 = 35 mEq/L.</p>\n<p><strong>Anion gap</strong> is representative of <strong>unmeasured anions</strong> which are normally present in the plasma, such as anionic proteins (<strong>albumin</strong>), <strong>phosphate</strong>, sulfate, and organic anions. When acid anions such as <strong>acetoacetate</strong> and <strong>lactate</strong> accumulate in the extracellular fluid, the <strong>anion gap increases</strong>, causing a <strong>high anion gap metabolic acidosis</strong>. A <strong>decrease</strong> <strong>in anion gap</strong> can occur due to an increase in abnormal cations (such as <strong>lithium</strong>, <strong>immunoglobulins</strong>), <strong>reduction in plasma albumin</strong> (<strong>nephrotic</strong> <strong>syndrome</strong>) or hyperviscosity and <strong>hyperlipidemia</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A person comes to the OPD with symptoms of not using his left side and not washing the left side of his body while bathing. On examination, he wasn't able to draw the left side of the images. Which of the following is the most likely location of the lesion?",
    "choices": [
      {
        "id": 1,
        "text": "Left motor cortex"
      },
      {
        "id": 2,
        "text": "Left posterior parietal area"
      },
      {
        "id": 3,
        "text": "Right posterior parietal area"
      },
      {
        "id": 4,
        "text": "Right motor cortex"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given presentation and image suggest <strong>hemispatial neglect on the left side.</strong>&nbsp;This is likely due to a&nbsp;<strong>contralateral (right) parietal lobe lesion</strong>.</p>\n<div class=\"page\" title=\"Page 240\">The <strong>right hemisphere</strong> of the brain <strong>directs attention</strong> within the <strong>entire extrapersonal space</strong>&nbsp;&ndash; both right and left side. If there is a <strong>lesion in the left hemisphere</strong>, there is <strong>not much contralesional neglect</strong> because the right hemisphere can compensate for both sides. The <strong>left hemisphere</strong> <strong>directs</strong> <strong>attention</strong> only in the <strong>contralateral right hemispace</strong>. If there is a <strong>lesion in the right hemisphere</strong>, it leads to severe <strong>contralesional hemineglect</strong> because the left hemisphere does not contain ipsilateral attention functions.</div>\n<div class=\"page\" title=\"Page 240\">&nbsp;</div>\n<div class=\"page\" title=\"Page 240\">Patients with neglect may not be able to dress or groom the left side of the body. They may fail to copy the details on the left side of a drawing. Two bedside tests can be used to evaluate neglect:</div>\n<ul>\n<li>In<strong> simultaneous bilateral stimulation</strong>, when the examiner provides unilateral or simultaneous bilateral stimulation in the visual, auditory, or tactile modalities, patients have no difficulty detecting unilateral stimuli on either side but perceive the bilaterally presented stimulus as coming only from one side. This phenomenon is known as <strong>extinction</strong>.</li>\n<li>In<strong> visual target cancellation</strong>, the patient fails to detect the targets on one-half of the field in target-detection tasks.</li>\n</ul>\n<p>Other features of non-dominant pareital lobe lesions include:</p>\n<ul>\n<li>Constructional apraxia</li>\n<li>Visuo-spatial disorientation</li>\n<li>Dressing apraxia</li>\n</ul>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/c3453bd525c34a898981384957fc27b2.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Identify the type of ANA staining pattern shown in the image below.",
    "choices": [
      {
        "id": 1,
        "text": "Centromeric"
      },
      {
        "id": 2,
        "text": "Homogenous"
      },
      {
        "id": 3,
        "text": "Nucleolar"
      },
      {
        "id": 4,
        "text": "Speckled"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>&nbsp;</p>\n<p><strong>Dense fine speckled pattern</strong> shows the speckles distributed throughout the nucleoli. This pattern differs from the fine and coarse speckled patterns in that the <strong>speckles are associated with the chromosomes</strong> in the dividing cells. This type of pattern is<strong> not associated with systemic rheumatic disease</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/28c2248db1424af399824ad21fe8756e.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/f73235ab6437490396ab35f8c321c744x720x665.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/8573e0862ac64070b1edcf9cfade216bx655x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0e20ecf10c4d47fba1f3b1f55681f2bax1280x1541.JPEG"
    ]
  },
  {
    "text": "A chronic cigarette smoker now joined a construction company. His pulmonary function test results are given below. What is the most likely diagnosis for this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Vascular disease with bronchodilator reversibility"
      },
      {
        "id": 2,
        "text": "Restrictive lung disease with bronchodilator reversibility"
      },
      {
        "id": 3,
        "text": "Restrictive lung disease without bronchodilator reversibility"
      },
      {
        "id": 4,
        "text": "Obstructive disease with bronchodilator reversibility"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>In the given clinical scenario, <strong>FEV1/FVC</strong> is <strong>less than 0.7</strong>, hence it is <strong>obstructive</strong>. <strong>After bronchodilation</strong>, <strong>FEV1</strong> has increased from 0.9L to 1.9L, which is <strong>more than 12%</strong> implying its <strong>reversible</strong>. Therefore, the most likely diagnosis is an <strong>obstructive disease with bronchodilator reversibility</strong>.</p>\n<p>In <strong>obstructive</strong> pulmonary disease, <strong>FEV1/FVC </strong>is reduced to<strong> &lt;0.7</strong> and <strong>FEV1</strong> is also reduced <strong>&lt;80%</strong>. <strong>Reversibility</strong> is defined as a <strong>&ge;12% increase</strong> and <strong>absolute increase of 200mL</strong> in the <strong>FEV1</strong> at least 15 min <strong>after</strong> administration of a <strong>&beta;2 -agonist</strong>. Examples of obstructive pulmonary disease include COPD, asthma, bronchiectasis, etc.</p>\n<p>In<strong> restrictive</strong> pulmonary disease, <strong>FEV1/FVC</strong> is <strong>normal or increased</strong> ( &gt;0.7) and <strong>FEV1</strong><strong>&nbsp;</strong>and<strong> FVC</strong> are also <strong>reduced</strong>. Examples of restrictive pulmonary disease include asbestosis, sarcoidosis, idiopathic pulmonary fibrosis, etc. </p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following are true about subclinical myocarditis?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2"
      },
      {
        "id": 2,
        "text": "3, 4"
      },
      {
        "id": 3,
        "text": "1, 2, 3, 4, 5"
      },
      {
        "id": 4,
        "text": "2, 3, 4, 5"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>A patient is diagnosed with <strong>possible subclinical acute myocarditis</strong> when there is a typical syndrome but <strong>without any cardiac symptoms</strong> such as palpitations. <strong>Biomarkers</strong> of cardiac injury are <strong>elevated</strong> (statement 2), <strong>ECG</strong> is <strong>abnormal</strong> (statement 4), and there is a <strong>reduced</strong> <strong>LV ejection fraction</strong> (statement 5) and <strong>regional wall motion abnormality</strong> on 2D echo (statement 3).&nbsp;</p>\n<p><strong>Probable acute myocarditis</strong> is diagnosed when the aforementioned criteria are <strong>accompanied by cardiac symptoms</strong> such as palpitations, shortness of breath, and chest pain. When there are <strong>signs of pericarditis</strong> along with elevated CK-MB or troponins and regional wall motion abnormalities, the term <strong>myopericarditis</strong> or <strong>perimyocarditis</strong> is used.</p>\n<p><strong>Definite myocarditis</strong> is diagnosed when there is <strong>histological evidence of inflammation</strong> on <strong>endomyocardial biopsy</strong>, and does not require any other laboratory or clinical criteria.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A female with nephrotic syndrome underwent a renal biopsy. Which of the following statements is not correct?",
    "choices": [
      {
        "id": 1,
        "text": "1, 2, 3, 4"
      },
      {
        "id": 2,
        "text": "4"
      },
      {
        "id": 3,
        "text": "1, 4"
      },
      {
        "id": 4,
        "text": "2, 3, 4"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Patients undergoing a percutaneous kidney biopsy are <strong>observed for a 24-hour period</strong>&nbsp;(statement 2) in the hospital. If any major complication occurs, it is likely to happen during this period, and thus likely to be identified and treated early. <strong>Bleeding</strong> and <strong>hematoma formation</strong> are relatively common complications of kidney biopsy and can present as <strong>frank hematuria</strong> or <strong>dark red clots</strong> in the urine (statement 3).</p>\n<p><strong>Focal segmental glomerulosclerosis (FSGS)</strong> is a pathological diagnosis, so obtaining a tissue sample from kidney biopsy is necessary (statement 1). On light microscopy, there are <strong>focal</strong> (affecting only some of the glomeruli) and <strong>segmental</strong> (affecting only part of the glomerulus) lesions. There is a <strong>collapse of capillary loops</strong>, an increase in the matrix, and deposition of plasma proteins.</p>\n<p>In patients with features of <strong>systemic amyloidosis&nbsp;</strong>(statement 4), <strong>rectal</strong> or <strong>gingival</strong> <strong>tissues</strong> can be <strong>biopsied</strong> for the confirmation of the diagnosis. Examination of <strong>abdominal fat pat aspirates</strong> can also be used for confirmation of systemic amyloidosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following will not be measured to diagnose metabolic syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "HDL levels"
      },
      {
        "id": 2,
        "text": "Hip circumference"
      },
      {
        "id": 3,
        "text": "Blood glucose"
      },
      {
        "id": 4,
        "text": "Blood pressure"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"><strong>Hip circumference</strong> is not used in the diagnosis of <strong>metabolic syndrome. </strong>Waist circumference is the parameter used.</span></p>\n<p><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">Metabolic syndrome</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\"> is present if\u00a0</span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">three or more</strong><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">\u00a0of the following five criteria are met, as defined by National Cholesterol Education Program and Adult Treatment Panel III </span><strong style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\">(NCEP-ATP III):</strong></p>\n<ul>\n<li><strong>Central obesity</strong>: <strong>Waist circumference of &gt;102 cm in males</strong> and &gt;88 cm in females</li>\n<li><strong>Hypertriglyceridemia</strong>: Triglyceride level of <strong>\u2265\u00a0150 mg/dL</strong></li>\n<li><strong>Low HDL</strong> cholesterol: <strong>&lt;40 mg/dL</strong> and &lt;50 mg/dL for men and women, respectively</li>\n<li><strong>Hypertension</strong>: Systolic BP of \u2265130 mmHg or diastolic BP of \u2265\u00a085 mmHg</li>\n<li><strong>Fasting plasma glucose level</strong>: \u2265100 mg/dL or <strong>previously diagnosed type 2 diabetes</strong></li>\n</ul>\n<p><strong>BMI</strong> and <strong>LDL cholesterol </strong>levels are not part of <strong>NCEP-ATP III.</strong></p>\n<p>Metabolic syndrome (syndrome X) is a group of conditions that increases the risk for <strong>cardiovascular disease.</strong> These include\u00a0<strong>hypertension,</strong>\u00a0<strong>hyperglycemia,</strong>\u00a0<strong>hypertriglyceridemia,</strong> and\u00a0<strong>central obesity.</strong> Increasing age, genetics, and sedentary lifestyle are considered risk factors.\u00a0</p>\n<p><strong>Insulin resistance</strong>\u00a0is the most accepted hypothesis used to explain the pathophysiology of the condition. Elevated circulating fatty acids are considered a major factor in developing insulin resistance. It is associated with\u00a0<strong>acanthosis nigricans</strong>\u00a0which are\u00a0<strong>velvety hyperpigmented</strong>\u00a0lesions in\u00a0<strong>skin flexures</strong>\u00a0such as the axilla, groin, and back of the\u00a0<strong>neck.\u00a0</strong></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An old man presents with dyspnea and swelling of his feet. On examination, rales are heard and he is found to have an enlarged heart on chest x-ray. Which of the following will delay the progression?",
    "choices": [
      {
        "id": 1,
        "text": "Furosemide"
      },
      {
        "id": 2,
        "text": "Carvedilol"
      },
      {
        "id": 3,
        "text": "Digoxin"
      },
      {
        "id": 4,
        "text": "Captopril"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given scenario is suggestive of <strong>heart failure</strong>.<strong> ACE inhibitors </strong>like <strong>captopril</strong> are the first-line drugs to <strong>prevent</strong> further <strong>cardiac remodeling</strong> and prevent the <strong>progression</strong> of disease.</p>\n<p>Heart failure is a complex clinical syndrome that occurs because the <strong>ventricle</strong> is<strong> unable</strong> to<strong> fill</strong> with or <strong>eject blood</strong>. The important etiologies of heart failure include\u00a0<strong>hypertension</strong>,\u00a0diabetes mellitus,\u00a0<strong>coronary artery disease</strong>, <strong>myocardial infarction</strong>,\u00a0high output states, such as beriberi, thyrotoxicosis, and severe anemia.</p>\n<p>Clinical features of heart failure include <strong>dyspnea on exertion, orthopnea, pedal edema,</strong> anorexia, pallor, elevated JVP, ascites, and hepatomegaly.</p>\n<p>Heart failure is classified based on the <strong>ejection fraction</strong>:</p>\n<div class=\"page\" title=\"Page 87\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<ul>\n<li>Heart failure with\u00a0<strong>preserved ejection fraction</strong>\u00a0<strong>(HFpEF) </strong>- left ventricular ejection fraction is\u00a0<strong>\u226550%</strong></li>\n<li>Heart failure with<strong> mid-range ejection fraction (HFmEF) -\u00a0</strong>left ventricular ejection fraction <strong>40-50%</strong></li>\n<li>Heart failure with\u00a0<strong>reduced ejection fraction (HFrEF) </strong>- left ventricular ejection fraction is <strong>\u226440%</strong></li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<p>The mainstay management of heart failure is medical therapy and device therapy is reserved for refractory cases. The type of medications used in medical therapy are:</p>\n<ul>\n<li>Drugs with <strong>symptomatic</strong> and <strong>mortality benefits</strong> provide symptomatic relief and reduce mortality risk by <strong>preventing cardiac remodeling</strong>. It includes -\u00a0\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"2\">Angiotensin receptor\u2013neprilysin inhibitor (ARNI) - a combination of <strong>sacubitril</strong> and <strong>valsartan</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"2\">Angiotensin-converting enzyme (ACE) inhibitors - ramipril, <strong>enalapril</strong></li>\n<li style=\"font-weight: 400;\" aria-level=\"2\">\u03b2-blockers -<strong> metoprolol</strong>, carvedilol, bisoprolol</li>\n<li style=\"font-weight: 400;\" aria-level=\"2\">Mineralocorticoid receptor antagonist -<strong> spironolactone</strong>, eplerenone</li>\n<li style=\"font-weight: 400;\" aria-level=\"2\">Sodium-glucose cotransporter 2 inhibitors (SGLT2 inhibitor) -<strong> dapagliflozin</strong></li>\n</ul>\n</li>\n<li>Drugs with only symptomatic benefits provide only symptomatic relief and have no effect on reducing mortality risk. It includes -\u00a0\n<ul>\n<li>Loop diuretics - <strong>furosemide</strong></li>\n<li><strong>Digoxin</strong></li>\n</ul>\n</li>\n</ul>\n<p>Unfortunately, evidence of the clinical benefits of most therapies is restricted to <strong>HFrEF</strong>. Pharmacological therapy used in <strong>HFpEF</strong> is mainly <strong>diuretics</strong>.</p>\n<p><strong>Non-pharmacological therapy</strong> includes\u00a0<strong>implantable cardioverter defibrillators (ICD),\u00a0</strong><strong>cardiac resynchronization</strong> using biventricular pacing, etc.\u00a0These treatments are not found to be effective in HFpEF.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 27-year-old female patient presents with weight loss, anxiety, tachycardia, and restlessness. The resting pulse was 110 beats per minute. Which of the following tests should be done to evaluate her condition further?",
    "choices": [
      {
        "id": 1,
        "text": "Total T3"
      },
      {
        "id": 2,
        "text": "TPO"
      },
      {
        "id": 3,
        "text": "Thyroid Scan"
      },
      {
        "id": 4,
        "text": "TSH and free T4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>This patient is presenting with symptoms of <strong>hyperthyroidism.</strong> The next step in diagnosis would be to obtain a serum <strong>TSH</strong> level and Free T4 level.\u00a0</p>\n<p><span data-preserver-spaces=\"true\">Investigations in a patient with <strong>Graves'</strong> disease</span></p>\n<ul>\n<li><span data-preserver-spaces=\"true\"><strong>Thyroid function tests</strong>- In Graves disease, the thyroid-stimulating hormone (<strong>TSH</strong>) levels are <strong>decreased</strong> with or without elevated T3 and T4 levels. It is the first step in evaluating suspected thyroid disease.</span></li>\n<li><span data-preserver-spaces=\"true\"><strong>Anti-thyroid antibodies</strong>-<strong>\u00a0</strong>Elevated levels of <strong>TSH receptor antibodies</strong> are <strong>diagnostic</strong> of Graves' disease. Other antibodies like anti-Tg and anti-TPO are elevated in most of the patients.\u00a0</span></li>\n<li><span data-preserver-spaces=\"true\"><strong>Ultrasound</strong> of the neck is performed to evaluate vascularity, echogenicity, nodules, and clinical <strong>landmarks</strong> for surgical planning.\u00a0</span></li>\n<li class=\"p1\">CT or MRI scans of the orbits are useful to evaluate Graves\u2019 ophthalmopathy.</li>\n</ul>\n<p><span data-preserver-spaces=\"true\">The hyperthyroidism of Graves\u2019 disease is caused by\u00a0</span><strong><span data-preserver-spaces=\"true\">thyroid-stimulating immunoglobulin (TSI)</span></strong><span data-preserver-spaces=\"true\">\u00a0that are synthesized in the thyroid gland as well as in bone marrow and lymph nodes. TSI antibodies cause stimulation of the thyroid gland causing features of hyperthyroidism in the presence of low TSH levels. Histopathology</span><span data-preserver-spaces=\"true\">\u00a0shows\u00a0</span>follicular and papillary hyperplasia with lymphoid infiltration.\u00a0</p>\n<p><span data-preserver-spaces=\"true\">A patient with Graves' disease will present with complaints of:</span></p>\n<ul>\n<li><strong>H</strong><span data-preserver-spaces=\"true\"><strong>yperactivity,</strong> irritability</span></li>\n<li><span data-preserver-spaces=\"true\">Heat intolerance and sweating</span></li>\n<li><strong>Palpitations</strong></li>\n<li><strong>Weakness</strong></li>\n<li><span data-preserver-spaces=\"true\">Weight loss with increased appetite</span></li>\n<li><strong>Diarrhea</strong></li>\n<li><span data-preserver-spaces=\"true\">Polyuria, oligomenorrhea, and loss of libido.</span></li>\n</ul>\n<p><span data-preserver-spaces=\"true\">On examination, they may have</span></p>\n<ul>\n<li><span data-preserver-spaces=\"true\">Tachycardia</span></li>\n<li><span data-preserver-spaces=\"true\">Exophthalmos</span></li>\n<li><span data-preserver-spaces=\"true\">Lid retraction or lag</span></li>\n<li><span data-preserver-spaces=\"true\">Goiter</span></li>\n<li><span data-preserver-spaces=\"true\">Tremor </span></li>\n<li><span data-preserver-spaces=\"true\">Gynecomastia </span></li>\n<li><span data-preserver-spaces=\"true\">Myopathy.\u00a0</span></li>\n</ul>\n<p><span data-preserver-spaces=\"true\">Other options: <strong>TPO,</strong> Serum <strong>T3</strong> and <strong>thyroid scans</strong> are obtained only after serum TSH is obtained to confirm the diagnosis. But the first step remains measuring <strong>TSH</strong> levels.\u00a0</span></p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 65-year-old man was brought after a fall.  He has a fever and confusion. On examination, he had a cough with rales. The patient was also tachypneic. How will you manage this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Admit and give Oral levofloxacin"
      },
      {
        "id": 2,
        "text": "Treat at home and oral augmentin"
      },
      {
        "id": 3,
        "text": "Admit and iv ceftriaxone"
      },
      {
        "id": 4,
        "text": "Admit and give IV levofloxacin"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The given clinical scenario of a patient with <strong>fever</strong> and <strong>productive cough</strong>\u00a0point to a diagnosis of <strong>pneumonia</strong>. Since this <strong>patient's CURB-65 score</strong> is at least <strong>3</strong> (1 point each for confusion, tachyapnea, and Age 65), the <strong>most appropriate management</strong> would be <strong>ICU admission</strong> and starting<strong> IV antibiotics</strong>. This patient with a score of 3 will need ICU admission and treatment with a respiratory quinolone like <strong>levofloxacin.</strong>\u00a0</p>\n<p>Once the diagnosis of pneumonia is made, the next step in management is to <strong>determine the site of care </strong>for the patient. To identify the patients that require in-patient and ICU management,<strong> CURB-65 score</strong> is used. It includes:</p>\n<ul>\n<li><strong>C</strong>onfusion</li>\n<li><strong>U</strong>rea \u2265 20 mg/dL</li>\n<li><strong>R</strong>espiratory rate \u226530/min</li>\n<li><strong>B</strong>lood pressure: SBP \u226490mmHg or DBP \u226460 mmHg</li>\n<li>Age \u2265 <strong>65</strong> years</li>\n</ul>\n<p><strong>1 point</strong> is given for the presence of each of the above. The<strong> total score determines the site of care</strong>, as shown below:</p>\n<table style=\"width: 36.1634%;\">\n<tbody>\n<tr>\n<td style=\"width: 26.2033%;\"><strong>Total Score</strong></td>\n<td style=\"width: 73.7987%;\"><strong>Decision</strong></td>\n</tr>\n<tr>\n<td style=\"width: 26.2033%;\">0</td>\n<td style=\"width: 73.7987%;\">Outpatient treatment</td>\n</tr>\n<tr>\n<td style=\"width: 26.2033%;\">1 or 2</td>\n<td style=\"width: 73.7987%;\">Inpatient treatment in non-ICU setting</td>\n</tr>\n<tr>\n<td style=\"width: 26.2033%;\">\u22653</td>\n<td style=\"width: 73.7987%;\">Inpatient treatment in ICU setting</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>\n<p>Note: Treatment with a combination of Beta-lactam and a macrolide or <strong>a respiratory fluoroquinolone alone</strong> results in <strong>lower mortality</strong> than monotherapy with a beta-lactam antibiotic. Therefore, out of the given options, D is the best answer.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old with a history of COPD is brought to the ER with worsening dyspnea. ABG was done and pH was 7.3, pCO2 was 60mmHg with HCO3- being 28 mEq/L. Which of the following is seen in this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Respiratory acidosis, hyperventilation, inadequate metabolic compensation"
      },
      {
        "id": 2,
        "text": "Respiratory alkalosis, hypoventilation, inadequate metabolic compensation"
      },
      {
        "id": 3,
        "text": "Respiratory acidosis, hypoventilation, inadequate metabolic compensation"
      },
      {
        "id": 4,
        "text": "Respiratory acidosis, hypoventilation, adequate metabolic compensation"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The arterial blood gas values suggest a likely diagnosis of <strong>respiratory acidosis </strong>(pH of 7.3 and elevated PaCO2 of 60mmHg indicating inadequate respirations). Normal serum bicarbonate levels are 22-26mEq/L indicating that this patient's acidosis is inadequately compensated.</p>\n<p>The various buffering systems present in the body maintain the systemic arterial pH between <strong>7.35-7.45</strong>. The most common acid-base disorders are metabolic acidosis or alkalosis and respiratory acidosis or alkalosis.</p>\n<p>Normal values in an arterial blood gas are as follows:</p>\n<ul>\n<li>pH:\u00a07.35-7.45</li>\n<li class=\"half_rhythm\">\n<div>PaCO<sub>2</sub>: 35-45 mmHg</div>\n</li>\n<li class=\"half_rhythm\">\n<div>HCO<sub>3</sub>: 22-26 mEq/L</div>\n</li>\n<li class=\"half_rhythm\">\n<div>PaO<sub>2</sub>: 75-100 mmHg</div>\n</li>\n</ul>\n<p>Respiratory changes (changes in PCO<sub>2</sub>) promote a corresponding change in metabolic response (changes in HCO<sup>3-</sup>) and vice versa as a <strong>compensatory mechanism</strong>. In general, PCO<sub>2</sub> and HCO<sup>3-</sup> move in the <strong>same direction</strong> for compensation in metabolic and respiratory acid-base disorders respectively. A change in the two parameters in <strong>opposite directions</strong> points to a <strong>mixed acid-base disturbance</strong>.\u00a0</p>\n<p>Respiratory acidosis can be secondary to severe pulmonary disease, respiratory muscle fatigue, or ventilatory control abnormalities. It is marked by an <strong>increase</strong> in PaCO<sub>2</sub>\u00a0and a <strong>decrease</strong> in<strong> pH</strong>. A compensatory <strong>rise</strong> of <strong>HCO<sup>3-</sup></strong> can also be seen.\u00a0</p>\n<p>A rapid rise in PCO<sub>2</sub> (acute hypercapnia) can present with <strong>dyspnea</strong>, <strong>confusion</strong>, and psychosis. It can be seen in severe asthma secondary to bronchospasm, anaphylaxis, or inhalational burns. Chronic hypercapnia causes sleep disorders, memory loss, and daytime somnolence. It is commonly seen in end-stage <strong>obstructive lung disease</strong>.\u00a0</p>\n<p>Acute respiratory acidosis may need <strong>tracheal intubation</strong> and assisted <strong>mechanical ventilation</strong>. Rapid correction of hypercapnia should be avoided as it can trigger cardiac arrhythmias and seizures. Chronic respiratory acidosis is difficult to manage and improvement in lung function is the primary aim.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cea77858973342d1816320d43c36b6b1x1280x1555.JPEG"
    ]
  },
  {
    "text": "A 60-year-old man presented with acute onset of chest pain radiating to the left arm and diaphoresis. His ECG and cardiac biomarkers show non-ST elevation myocardial infarction. Which of the following will be used in the treatment of this patient?",
    "choices": [
      {
        "id": 1,
        "text": "2, 3"
      },
      {
        "id": 2,
        "text": "4, 5"
      },
      {
        "id": 3,
        "text": "1, 2, 3, 4, 5"
      },
      {
        "id": 4,
        "text": "1, 2, 3, 4"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>While <strong>atorvastatin</strong>, <strong>aspirin</strong>, <strong>clopidogrel</strong>, and <strong>low molecular weight heparin</strong> all have a <strong>role in the management of</strong> a patient with <strong>NSTEMI</strong>, there is <strong>no role of alteplase</strong>.\u00a0</p>\n<p><strong>Initial</strong> <strong>management</strong> of a patient with NSTEMI includes <strong>bed rest</strong> to decrease the load on the heart. <strong>Oxygen</strong> is administered <strong>only if</strong> the patient has <strong>hypoxemia</strong> (SpO<sub>2</sub> &lt;90%) <strong>or heart failure</strong>. Further management includes the following medical therapy:</p>\n<p><strong>Nitrates</strong> (such as <strong>nitroglycerine</strong> given <strong>sublingually</strong>) <strong>reduce the venous return</strong> to the heart, thus reducing the cardiac output and the oxygen demand. Nitrates are <strong>contraindicated</strong> <strong>if</strong> the patient has <strong>hypotension</strong>.\u00a0</p>\n<p><strong>\u03b2-blockers</strong> also <strong>reduce</strong> the <strong>myocardial oxygen demand</strong> predominantly by their negative chronotropic effect. <strong>Diltiazem</strong> or <strong>verapamil</strong> are given to reduce the heart rate <strong>if</strong> the patient <strong>doesn't respond to\u00a0\u03b2-blockers</strong>.\u00a0</p>\n<p><strong>Morphine</strong> is given <strong>if</strong> the <strong>patient</strong> <strong>continues</strong> <strong>to have severe chest pain</strong> despite the administration of the abovementioned anti-ischemic drugs.</p>\n<p><strong>Antithrombotic therapy</strong>, which includes:</p>\n<ul>\n<li><strong>Dual antiplatelet therapy (DAPT)</strong> with <strong>aspirin</strong> and a P2Y<sub>12</sub> blocker such as <strong>clopidogrel.</strong> DAPT is continued for a minimum of 3 months, but preferably for 12 months.\u00a0</li>\n<li><strong>Anticoagulants</strong> such as <strong>low molecular weight heparin</strong> and bivalirudin\u00a0</li>\n</ul>\n<p>Clot formation and fibrinolysis is a dynamic process occurring in the coronary arteries. Antithrombotic therapy is given to prevent new clot formation while fibrinolysis is occurring by intrinsic or extrinsic mechanisms.\u00a0</p>\n<p><strong>Statins</strong>, such as <strong>atorvastatin</strong> are started because they <strong>reduce the risk of recurrence of NSTEMI</strong> and <strong>stabilize the atherosclerotic plaque</strong> in the coronary arteries.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with a history of consumption of 2-3 drinks per week comes with complaints of right upper quadrant discomfort. He has grade 2 steatosis. His BMI was 29kg/m2 and AST and ALT levels were slightly elevated. What would you advise him?",
    "choices": [
      {
        "id": 1,
        "text": "Lifestyle modification and vitamin E"
      },
      {
        "id": 2,
        "text": "Ursodeoxycholic acid and lifestyle modification"
      },
      {
        "id": 3,
        "text": "Lifestyle modifications and weight loss"
      },
      {
        "id": 4,
        "text": "Pioglitazone and lifestyle modifications"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>This patient with a history of consumption of <strong>2-3 alcoholic</strong> drinks per week(acceptable limit is <strong>&lt;5</strong> per week for men)presents with <strong>right upper quadrant</strong> discomfort with a BMI of <strong>29kg/m2</strong> and slightly <strong>elevated AST</strong> and <strong>ALT</strong> most likely has <strong>nonalcoholic fatty liver disease(NAFLD).</strong> The first line for management of this condition is to advise him on <strong>lifestyle modifications</strong> and <strong>vitamin E.</strong> All the other options include drugs that are used off-label but are <strong>not FDA-approved</strong> for use in NAFLD.\u00a0</p>\n<p>Non-alcoholic fatty liver disease (NAFLD) is associated with <strong>diabetes</strong> and <strong>obesity.</strong> The fatty change may also be caused due to the effect of <strong>toxins</strong> (including certain medications), <strong>protein malnutrition, dyslipidemia,</strong> and anoxia. Bleomycin, methotrexate, doxycycline, and l-Asparaginase are other drugs causing hepatic steatosis.</p>\n<p>Most of the patients with NAFLD and NASH are asymptomatic. They are usually <strong>diagnosed incidentally</strong> on routine blood work. Some patients with NASH can present with right upper quadrant pain due to stretching of the liver capsule from hepatomegaly, or <strong>acanthosis nigricans</strong> due to insulin resistance or with signs like palmar erythema, spider telangiectasia, jaundice, splenomegaly, and ascites if they have <strong>liver cirrhosis.</strong> Currently, a <strong>biopsy</strong> is the gold standard investigation to establish the diagnosis.</p>\n<p>The current approach to NAFLD management focuses on treatment to avoid or decrease the risk factors for NASH (like obesity, insulin resistance, metabolic syndrome, and dyslipidemia). For patients with morbid obesity, bariatric surgery can be done. In patients with decompensated cirrhosis, liver transplantation is can be considered.\u00a0</p>\n<p>Note: The FDA in 2024 has approved <strong>Resmetirom</strong>, a thyroid hormone receptor-beta (THR-beta) agonist for noncirrhotic NASH with moderate to advanced fibrosis.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The blood investigation of a patient is given below. What is the probabale diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Acute HBV infection in window period"
      },
      {
        "id": 2,
        "text": "Immune with recombinant HBV Vaccine"
      },
      {
        "id": 3,
        "text": "HBV infection in the remote past, completely recovered"
      },
      {
        "id": 4,
        "text": "Chronic HBV infection - inactive carrier"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><br />The most probable diagnosis is <strong>remote</strong> infection with <strong>hepatitis B virus (HBV).</strong></p>\n<p>A non-reactive HbsAg rules out active HBV infection<strong> (Options D).</strong></p>\n<p>Non-reactive IgM anti-HbcAg suggests that the patient is not in the window period <strong>(Option A).</strong></p>\n<p>The absence of Anti HbS makes vaccination unlikely.(<strong>Option B</strong>)</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "The given image shows a normal graph on the left and the patient's graph on the right. Which of the following diagnoses can be inferred from the graph?",
    "choices": [
      {
        "id": 1,
        "text": "Chest wall neuromuscular disease"
      },
      {
        "id": 2,
        "text": "Sarcoidosis"
      },
      {
        "id": 3,
        "text": "Idiopathic pulmonary fibrosis"
      },
      {
        "id": 4,
        "text": "Bronchiectasis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The patient\u2019s graph shows a <strong>reduction</strong> in both<strong> FVC &amp; FEV1/FVC </strong>which is\u00a0<strong>&lt; 70%</strong>, indicating an <strong>obstructive lung disorder</strong>. Therefore, the most likely diagnosis is <strong>Bronchiectasis</strong>.</p>\n<p><strong>Chest neuromuscular disease</strong> (option A), <strong>sarcoidosis</strong> (option B) &amp; <strong>idiopathic pulmonary fibrosis</strong> (option C) are <strong>restrictive</strong> lung disorders, where there is a reduction of <strong>FVC to &lt; 4L</strong>, Without a loss in FEV1/FVC ratio (normal or &gt;70%).</p>\n<p>These values are measured as a part of the <strong>pulmonary function test</strong> known as <strong>spirometry</strong>. At a given lung volume, when a person inhales to the total lung capacity and<strong> exhales</strong> as hard and <strong>completely</strong> as possible, the volume of expired air is recorded as <strong>forced vital capacity (FVC)</strong>, and the volume of <strong>air expired</strong> in the<strong> first second</strong> is called the <strong>forced expiratory volume (FEV1)</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/09f02c63497141728eaf19b02048faeb.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/ffbd97e6efff47eda6268df1bde7ed6fx1280x1110.JPEG"
    ]
  },
  {
    "text": "In which of the following malignancies, a liver transplantation is not contraindicated?",
    "choices": [
      {
        "id": 1,
        "text": "Renal carcinoma"
      },
      {
        "id": 2,
        "text": "Breast carcinoma"
      },
      {
        "id": 3,
        "text": "Melanoma"
      },
      {
        "id": 4,
        "text": "Testicular cancer"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<div class=\"page\" title=\"Page 2111\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Liver transplantation</strong> is <strong>relatively not contraindicated</strong> in <strong>testicular cancer</strong>. Past history of malignancy is a relative contraindication to transplantation, because the effect of surgery and resulting immunosuppression may predispose the patient to early recurrence of the tumor.</p>\n<div class=\"page\" title=\"Page 2111\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Testicular carcinoma</strong> has a relatively <strong>low risk</strong> of <strong>recurrence</strong> (0%-10%) following transplantation. In contrast, renal carcinoma, breast carcinoma, and melanoma pose a higher risk of recurrence, exceeding 10%.</p>\n<p>\u00a0</p>\n<p>\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A patient with CKD with refractory hypertension is brought to the casualty with dizziness. His BP was found to be 200/120mmHg.  His BUN was 50mg/dl and creatinine was 3mg/dl. Potassium was 6mEq/L. Which of the following is an indication of emergency hemodialysis?",
    "choices": [
      {
        "id": 1,
        "text": "Severe acidosis with elevated BUN and creatinine"
      },
      {
        "id": 2,
        "text": "Hypertension"
      },
      {
        "id": 3,
        "text": "Potassium level of 6mEq/L"
      },
      {
        "id": 4,
        "text": "Metabolic alkalosis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Severe acidosis with elevated BUN</strong> and <strong>creatinine</strong> with symptoms like dizziness and altered mental status is an indication for hemodialysis.\u00a0</p>\n<p>The <strong>emergent indications</strong> of dialysis or renal replacement therapy can be remembered by the <strong>mnemonic</strong> - '<strong>AEIOU</strong>' (vowels in the English alphabet). These include:</p>\n<ul>\n<li>Severe metabolic <strong>A</strong>cidosis ( pH &lt; 7.1) with concomitant renal injury (Option D).</li>\n<li><strong>E</strong>lectrolyte abnormalities - Severe hyperkalemia (&gt;6.5 mmol/L) or rapidly rising potassium levels (Option C).</li>\n<li><strong>I</strong>ntoxication - In cases of severe poisoning of toxic substances like <strong>methanol</strong> or ethylene glycol, and in cases of overdose with a dialyzable drug.</li>\n<li>Fluid <strong>O</strong>verload that is not responsive to diuretic therapy.</li>\n<li><strong>U</strong>remia - elevated BUN with signs and symptoms of uremia like bleeding, pericarditis, and altered mental status.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "What is the diagnosis in the ECG shown below?",
    "choices": [
      {
        "id": 1,
        "text": "First degree heart block"
      },
      {
        "id": 2,
        "text": "Third degree heart block"
      },
      {
        "id": 3,
        "text": "Wenckeback heart block"
      },
      {
        "id": 4,
        "text": "Mobitz type 2 block"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Other options:\u00a0</p>\n<p>Option A: In a first-degree AV block, a <strong>prolonged PR interval</strong> (of over 200 ms) is seen which indicates a <strong>slowing</strong> of <strong>conduction</strong> between the atria and ventricles, usually due to <strong>slow conduction</strong> through the atrioventricular node (AV node).\u00a0</p>\n<p>Option B: <strong>Third-degree</strong> heart block presents as a <strong>complete dissociation</strong> between the P wave and the QRS complex and occurs due to <strong>complete blockage</strong> of transmission of impulses from the AV node to the ventricles. Here, the ventricles assume an <strong>idioventricular rhythm</strong> and do not correlate to the P waves.\u00a0</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/aa48441f5b7d44109b74845aec7e75b3.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/eeba5011417b4da7a5c8584dc8401b57x436x135.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/fe5f3695d29449e391e74d1f2dd270b5x442x133.PNG"
    ]
  },
  {
    "text": "A 60-year-old man with a known history of diabetes mellitus presents with a BP of 150/90 and dizziness. What is the best way to manage this patient?",
    "choices": [
      {
        "id": 1,
        "text": "Diet, Exercise, Lifestyle modification + Metoprolol"
      },
      {
        "id": 2,
        "text": "Diet, Exercise, Lifestyle modification  + amlodipine"
      },
      {
        "id": 3,
        "text": "Diet + prazosin"
      },
      {
        "id": 4,
        "text": "Diet, Exercise, Lifestyle modification"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p class=\"p1\">In this patient with diabetes mellitus with new-onset hypertension, he should be advised <strong>conservative measures</strong> along with <strong>amlodipine </strong>for controlling his blood pressure.</p>\n<p class=\"p1\">Patients with <strong>co-existing hypertension</strong> and <strong>diabetes</strong> are at increased risk of cardiovascular events. Thus blood pressure should be adequately controlled in these patients regardless of ASCVD 10 year risk.</p>\n<p class=\"p1\"><strong>Lifestyle modifications to manage hypertension:</strong></p>\n<ul>\n<li class=\"p1\">Attain and maintain a BMI of &lt;25 kg/sq m</li>\n<li class=\"p1\">A diet rich in fruits, vegetables, and <strong>low-fat</strong> dairy products with reduced content of saturated and total fat. Diet rich in potassium, calcium and magnesium.\u00a0</li>\n<li class=\"p1\">Dietary salt &lt;6 grams/day</li>\n<li class=\"p1\">For those who drink alcohol, 2 or less drinks/day for men and 1 or less drink/day for women</li>\n<li class=\"p1\">Physical activity: Regular aerobic activity, eg, brisk waking for 30 min/day.\u00a0</li>\n</ul>\n<p><strong>Prazosin</strong> would be contraindicated in this patient due to his history of dizziness as it can cause orthostatic hypotension.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 40-year-old male presents with increased thirst and increased frequency and volume of urination. He has no other symptoms. His random blood sugar was 205mg/dl. What appropriate investigations should be done?",
    "choices": [
      {
        "id": 1,
        "text": "i, ii, iii, v"
      },
      {
        "id": 2,
        "text": "i, ii, iv, vi"
      },
      {
        "id": 3,
        "text": "i, ii, iii, iv"
      },
      {
        "id": 4,
        "text": "i, ii, iv, v"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>This patient presenting with <strong>increased thirst(polydipsia), increased urination(polyuria)</strong> and a <strong>random blood sugar</strong> of <strong>205</strong> makes a diagnosis of <strong>type</strong> <strong>2 diabetes mellitus</strong> likely. For a newly diagnosed case of diabetes, patients need to undergo other investigations to check for systemic progression of disease. These investigations include <strong>HbA1c, Urine albumin creatinine ratio, Fundoscopy,</strong> and <strong>ECG.</strong></p>\n<p>Diabetes can cause many microvascular and macrovascular complications and requires screening for these conditions.\u00a0</p>\n<ul>\n<li>HbA1c is done to estimate the <strong>glycemic control</strong> over the last 3 months and helps guide further therapy. It should be done <strong>2-4 times</strong> per year based on the previous values.\u00a0\u00a0</li>\n<li><strong>Urine albumin creatinine ratio</strong> is done to check if there is progression to <strong>diabetic kidney</strong> disease. It should ideally be done <strong>annually</strong> to check for kidney disease.</li>\n<li>Dilated fundoscopy should be done <strong>annually</strong> in <strong>diabetics</strong> to rule out diabetic retinopathy. For a <strong>newly diagnosed</strong> case of <strong>T2DM,</strong> fundoscopy should be <strong>done</strong> at the <strong>time</strong> of <strong>diagnosis</strong> and then every year till there is no diabetic retinopathy.</li>\n<li><strong>ECG</strong> should be done to check for <strong>resting electrolyte abnormalities</strong> in diabetics. Additionally, many diabetic patients also have <strong>co-existing hypertension</strong> so ECG is done to rule out left <strong>ventricular hypertrophy.</strong></li>\n<li>Testing for <strong>diabetic neuropathy</strong> should be done <strong>annually</strong> with the <strong>monofilament</strong> test.</li>\n<li>BP screening 2-4 times a year</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A young child presented with nocturnal chest pain and a history of syncope at school. ECG revealed a cove pattern of ST elevation in V2 and V3. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Myocardial infarction"
      },
      {
        "id": 2,
        "text": "HOCM"
      },
      {
        "id": 3,
        "text": "Brugada syndrome"
      },
      {
        "id": 4,
        "text": "DCM"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>A given clinical scenario of nocturnal chest pain and a history of syncope in a young kid along with ECG findings of\u00a0<strong>coved ST-segment elevation of V1-V3,\u00a0</strong>points towards the diagnosis of\u00a0<strong>Brugada syndrome.</strong></p>\n<p>Brugada syndrome is an inherited sodium channelopathy (SCN5A mutation) and is most commonly seen in Southeast Asian males. The age of presentation is usually 40 years. This syndrome is characterized by an increased risk for sudden cardiac death due to polymorphic ventricular tachyarrhythmias.\u00a0<strong>Implantable cardioverter-defibrillator</strong>\u00a0is the treatment of choice.</p>\n<p>Brugada syndrome is associated with <strong>right bundle branch block</strong>. It is an inherited disease that predisposes patients to potentially life threatening arrythmias.\u00a0</p>\n<p>The ECG below is depictive of Brugada syndrome with concave ST segments and negative T waves (to be seen in more than one anterior precordial leads, i.e., V<sub>1</sub>-V<sub>3</sub>)</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/be306bd6f6fd4cc08068642c7b672f3dx1159x572.PNG"
    ]
  },
  {
    "text": "A 26-year-old female presents to the ER with menorrhagia. She mentions that her father and sister also suffer from bleeding disorders. Which of the following is an autosomal dominant bleeding disorder?",
    "choices": [
      {
        "id": 1,
        "text": "Factor X deficiency"
      },
      {
        "id": 2,
        "text": "Factor VIII deficiency"
      },
      {
        "id": 3,
        "text": "Factor IX deficiency"
      },
      {
        "id": 4,
        "text": "Von Willebrand Disease"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>This patient's clinical features are suggestive of\u00a0<strong>von-Willebrand disease.</strong> It is caused by a deficiency of the <strong>von-Willebrand factor</strong>.\u00a0</p>\n<p>They are present\u00a0within cytoplasmic vesicles called <strong>Weibel-Palade bodies.</strong></p>\n<p>Normal Platelet count, Prolonged BT, Normal PT, and Prolonged aPTT are seen in von-Willebrand disease. Factor VIII is found bound to the Von-Willebrand factor (vWF)\u00a0 in the blood. Deficiency of vWF results in Factor VIII deficiency and prolongation of aPTT in this disease. Prolonged BT is due to abnormal platelet-mediated hemostasis.</p>\n<p><strong>vWF is also found in</strong></p>\n<ul>\n<li>Platelet granules (Less as compared to endothelial cells)</li>\n<li>Subendothelium, where it binds to collagen</li>\n</ul>\n<p>Von Willebrand disease is the<strong> most common inherited bleeding</strong> disorder in humans. The bleeding tendency is usually mild and manifests during surgical or dental procedures. The most common presenting symptoms are spontaneous bleeding from mucous membranes (epistaxis), excessive bleeding from wounds, or menorrhagia.</p>\n<p>It is usually transmitted as an autosomal dominant disorder, but rare autosomal recessive variants can be seen.</p>\n<p>Three types are recognized, with phenotypic variations:</p>\n<p><strong>Type 1 and type 3</strong> von-Willebrand disease are associated with <strong>quantitative defects</strong> in vWF.</p>\n<p><strong>Type 1</strong> is an <strong>autosomal dominant</strong> disorder characterized by a <strong>mild to moderate</strong> vWF deficiency, accounting for about 70% of all cases. It is associated with <strong>mild disease</strong>.</p>\n<p><strong>Type 3</strong> disease is an <strong>autosomal disorder</strong> resulting in little to <strong>no vWF synthesis</strong>. Because vWF stabilizes factor VIII in the circulation, factor VIII levels are also reduced in type 3 disease and the associated bleeding disorder is often <strong>severe</strong>.</p>\n<p><strong>Type 2</strong> von-Willebrand disease is characterized by <strong>qualitative defects in vWF.</strong> Type 2A is the most common. It is inherited as an autosomal dominant disorder.</p>\n<p>Other options:</p>\n<p>Factor X, VIII and IX deficiencies are all causes of hemophilias. These conditions manifest as prolonged bleeding after injuries, dental treatment and hemarthrosis. They are also additionally X-linked conditions so the presence of this condition in her <strong>father</strong> and <strong>sister</strong> makes X-linked transmission impossible.\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A woman comes with complaints of hyperpigmentation of her palms after an adrenalectomy. She also has new onset vision deficits. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Nelson syndrome"
      },
      {
        "id": 2,
        "text": "Sheehan syndrome"
      },
      {
        "id": 3,
        "text": "Conn's syndrome"
      },
      {
        "id": 4,
        "text": "Addisons disease"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The clinical scenario of <strong>hyperpigmentation</strong>, history of<strong>\u00a0adrenalectomy</strong> and visual deficits indicating a probable <strong>pituitary adenoma</strong> points to the diagnosis of <strong>Nelson's syndrome</strong>.\u00a0</p>\n<p>Nelson's syndrome is a rare complication of <strong>total</strong>\u00a0<strong>bilateral</strong> <strong>adrenalectomy </strong>(TBA).\u00a0TBA is a procedure used to control hypercortisolism in Cushing's disease (due to ACTH-secreting pituitary adenoma) when resection of the primary tumor is not possible.</p>\n<p>The loss of feedback inhibition of the hypothalamic-pituitary-adrenal axis following TBA increases CRH. This leads to\u00a0stimulation of<strong data-stringify-type=\"bold\"> ACTH-secreting corticotroph cells</strong>, causing enlargement of the original pituitary tumor or formation of a new one.</p>\n<p>Nelson's syndrome is\u00a0associated with a clinical triad of:</p>\n<ul>\n<li>Hyperpigmentation</li>\n<li>Excessive ACTH\u00a0secretion</li>\n<li>Corticotroph adenoma</li>\n</ul>\n<p>Screening is done with <strong>fasting plasma ACTH levels</strong> and <strong>MRI</strong> <strong>brain</strong> performed at regular intervals.\u00a0Prophylactic pituitary irradiation may be recommended to prevent its incidence.\u00a0The primary treatment is <strong>transsphenoidal surgery</strong>.\u00a0Patients will also require life-long glucocorticoid replacement, as they do not produce cortisol.</p>\n<div class=\"page\" title=\"Page 2728\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>The use of steroidogenic inhibitors in the treatment of Cushing's disease has decreased the need for bilateral adrenalectomy these days.</p>\n</div>\n</div>\n</div>\n</div>\n<p>Option B: <strong>Sheehan</strong> syndrome refers to <strong>panhypopituitarism.</strong> It classically follows <strong>massive postpartum hemorrhage</strong> and associated hypotension. The abrupt, severe <strong>hypotension</strong> leads to <strong>pituitary ischemia</strong> and necrosis. Patients with the most severe form develop <strong>shock</strong> due to pituitary <strong>apoplexy.</strong> Pituitary apoplexy is characterized by a sudden onset of <strong>headache, nausea, visual deficits,</strong> and <strong>hormonal dysfunction</strong> due to acute hemorrhage or infarction within the pituitary.\u00a0</p>\n<p>Option C: <strong>Conn's</strong> syndrome or primary aldosteronism occurs due to <strong>aldosterone-secreting</strong> adrenal adenoma leading to mineralocorticoid excess. It is characterized by <strong>hypokalemia, hypomagnesemia, muscle weakness,</strong> proximal myopathy and muscle cramps.</p>\n<p>Option D: Addison's disease (primary adrenal insufficiency), most commonly caused by <strong>autoimmune adrenalitis</strong> presents with <strong>hyperpigmentation</strong> of the <strong>skin,</strong> especially in <strong>areas</strong> exposed to <strong>sunlight</strong> or prone to friction. This is due to excessive stimulation of melanocytes by the raised adrenocorticotropic hormone (ACTH). This is seen in chronic cases. However, there are no visual symptoms in Addison's disease.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "These findings are suggestive of which of the following conditions?",
    "choices": [
      {
        "id": 1,
        "text": "Addison's disease"
      },
      {
        "id": 2,
        "text": "Gigantism"
      },
      {
        "id": 3,
        "text": "Acromegaly"
      },
      {
        "id": 4,
        "text": "Cushings syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical image of a man with <strong>mandibular enlargement</strong>, <strong>prognathism </strong>(protrusion of jaw), and jaw malocclusion suggests the diagnosis of <strong>acromegaly</strong>.\u00a0</p>\n<p><strong>Acromegaly </strong>is a result of\u00a0<strong>growth hormone hypersecretion</strong> due to a<strong>\u00a0pituitary adenoma. </strong>It can also occur due to<strong>\u00a0</strong>extra pituitary lesions.<strong>\u00a0</strong>If growth hormone hypersecretion occurs <strong>before</strong> the fusion of the growth plates at<strong> puberty, </strong>it leads to<strong>\u00a0gigantism.\u00a0</strong></p>\n<p><strong>75g </strong>of <strong>oral glucose load</strong>\u00a0is administered to the patient. The growth hormone levels are measured within <strong>1-2 hours</strong> after administration. Normally, <strong>GH </strong>should be <strong>suppressed</strong> to less than 0.4 ug/L after the oral glucose load. A <strong>failure of suppression</strong> of growth hormone confirms the diagnosis of acromegaly. In some patients, growth hormone levels may demonstrate a paradoxical rise.\u00a0</p>\n<p><strong>Acral bony overgrowth </strong>in acromegaly\u00a0manifests as <strong>frontal bossing, increased hand </strong>and <strong>foot size, mandibular enlargement, prognathism</strong>, and <strong>widened</strong> <strong>space</strong> between incisors. <strong>Soft tissue swelling</strong> results in increased <strong>heel pad thickness</strong>, <strong>coarse facial features</strong>, and a large fleshy nose.</p>\n<div class=\"page\" title=\"Page 2724\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p>Generalized <strong>visceromegaly</strong>\u00a0is seen including\u00a0<strong>cardiomegaly, macroglossia,</strong> <strong>thyroid enlargement</strong>, etc. Serious complications include <strong>diabetes mellitus</strong>,\u00a0<strong>obstructive sleep apnoea</strong>, and increased risk of\u00a0<strong>colonic polyps</strong>\u00a0and<strong>\u00a0cancer</strong>.\u00a0</p>\n</div>\n</div>\n</div>\n</div>\n<p>Acromegaly can be treated by\u00a0<strong>transsphenoidal resection </strong>of the tumor. It can also be managed medically by using\u00a0<strong>octreotide </strong>(a somatostatin analog),\u00a0<strong>pegvisomant </strong>(Growth Hormone receptor antagonist),\u00a0<strong>dopamine agonists</strong>\u00a0or\u00a0<strong>radiation</strong>.\u00a0</p>\n<p>Other options:\u00a0</p>\n<p>Option A: <strong>Addison's disease</strong> is a primary <strong>adrenal insufficiency</strong> in which the adrenal is unable to secrete adequate amounts of <strong>cortisol</strong> (glucocorticoid), and <strong>aldosterone</strong> (mineralocorticoid). The features are <strong>fatigue, weight loss, anorexia, low blood</strong> pressure, postural hypotension, hypoglycemia, <strong>nausea, vomiting, abdominal pain, salt</strong> craving, <strong>hyponatremia</strong> and hyperkalemia.</p>\n<p>Option B: <strong>Pituitary gigantism</strong> is caused by the overproduction of growth hormone, before the closure of epiphysis. It usually does not present with <strong>prognathism</strong> as this occurs after the <strong>closure</strong> of the growth plates. It presents as <strong>longitudinal</strong> growth <strong>acceleration.</strong> It is a rare condition, caused mostly by pituitary adenoma</p>\n<p>Option D: Cushing syndrome results from chronic exposure to excess glucocorticoids. It presents with <strong>weight gain, central obesity, hypertension,</strong> and <strong>hypokalemia.</strong> Other clinical features include thin brittle skin with <strong>easy bruisability, purple stretch marks, diabetes, dyslipidemia,</strong> and osteopenia.</p>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/b8fcd6b5842840879c903b2488734b89.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "A 60-year-old lady with diabetes mellitus comes with dizziness. Which of the following would be seen in a patient with hyperinsulinemia?",
    "choices": [
      {
        "id": 1,
        "text": "Hyperketonemia"
      },
      {
        "id": 2,
        "text": "Increased amino acids"
      },
      {
        "id": 3,
        "text": "Raised glucose"
      },
      {
        "id": 4,
        "text": "Increased fatty acid synthesis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>Insulin increases fatty acid synthesis in adipose tissue.</p>\n<div class=\"page\" title=\"Page 437\">\n<div class=\"section\">\n<div class=\"layoutArea\">\n<div class=\"column\">\n<p><strong>Effects of insulin on various tissues:</strong></p>\n</div>\n</div>\n</div>\n</div>\n<table style=\"width: 419px; height: 521px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 126px;\">\n<td style=\"width: 78.484375px; height: 126px;\"><strong>Tissue</strong></td>\n<td style=\"width: 170.703125px; height: 126px;\"><strong>Increases</strong></td>\n<td style=\"width: 147.828125px; height: 126px;\"><strong>Decreases</strong></td>\n</tr>\n<tr style=\"height: 126px;\">\n<td style=\"width: 78.484375px; height: 126px;\"><strong>Adipose tissue</strong></td>\n<td style=\"width: 170.703125px; height: 126px;\">Increased glucose entry<br /><strong>Increased fatty acid synthesis</strong><br />Increased glycerol phosphate synthesis<br />Increased triglycerides deposition<br />Activation of lipoprotein lipase<br />Increased K+ uptake</td>\n<td style=\"width: 147.828125px; height: 126px;\">Inhibition of hormone-sensitive lipase</td>\n</tr>\n<tr style=\"height: 126px;\">\n<td style=\"width: 78.484375px; height: 126px;\"><strong>Muscle</strong></td>\n<td style=\"width: 170.703125px; height: 126px;\">Increased glucose entry<br />Increased glycogen synthesis<br />Increased amino acid uptake<br />Increased protein synthesis in ribosome<br />Increase ketone uptake<br />Increase K+ uptake</td>\n<td style=\"width: 147.828125px; height: 126px;\">\n<p>Decrease protein catabolism</p>\n<p>Decrease\u00a0 release of glucogenic amino acids</p>\n</td>\n</tr>\n<tr style=\"height: 114px;\">\n<td style=\"width: 78.484375px; height: 114px;\"><strong>Liver</strong></td>\n<td style=\"width: 170.703125px; height: 114px;\">Increased protein synthesis<br />Increased lipid synthesis<br />Increased glycogen synthesis &amp; glycolysis</td>\n<td style=\"width: 147.828125px; height: 114px;\">\n<p>Decrease ketogenesis</p>\n<p>Decreased glucose output due to decreased gluconeogenesis</p>\n</td>\n</tr>\n<tr style=\"height: 73px;\">\n<td style=\"width: 78.484375px; height: 73px;\"><strong>General</strong></td>\n<td style=\"width: 170.703125px; height: 73px;\">Increased cell growth</td>\n<td style=\"width: 147.828125px; height: 73px;\">\u00a0</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '223 Medicine Ini-Cet 2023';
        let hierarchy = ["Marrow", "PYQs", "Medicine"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>