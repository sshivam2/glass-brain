<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>29 Disorders Of The Nervous System - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        Marrow / qBank / Pediatrics
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">32</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "A 20-year-old primigravida was rushed to the OT for an emergency caesarean section. Her pregnancy was unplanned and she did not take folic acid supplementation prior to conception. Moreover, owing to the pandemic led lockdown and her remote residence, she could not adhere to regular antenatal care. The newborn was born with a neural tube defect and immediately shifted to the NICU. What is the least likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Myelomeningocele"
      },
      {
        "id": 2,
        "text": "Anencephaly"
      },
      {
        "id": 3,
        "text": "Diastematomyelia"
      },
      {
        "id": 4,
        "text": "Holoprosencephaly"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Holoprosencephaly</strong>&nbsp;is not a neural tube defect (NTD) and hence, it is the least likely diagnosis.&nbsp;<strong>Folic acid deficiency, </strong>especially&nbsp;in a young primigravida, is a <strong>risk factor</strong> for the development of NTDs in children, as seen in the given clinical vignette.</p>\n<p>NTDs result from the&nbsp;<strong>failure of the neural tube to close</strong> spontaneously between the 3rd and 4th week of in utero development. These can be detected in antenatal ultrasound scans and subsequently managed for a better prognosis.&nbsp;The major NTDs include the following:</p>\n<ul>\n<li><strong>Spina bifida occulta</strong></li>\n<li>Meningocele</li>\n<li><strong>Myelomeningocele </strong></li>\n<li>Encephalocele</li>\n<li><strong>Anencephaly </strong></li>\n<li>Syringomyelia</li>\n<li>Diastematomyelia (split spinal cord)</li>\n<li>Iniencephaly</li>\n</ul>\n<p>In <strong>holoprosencephaly</strong>, the <strong>forebrain fails to develop</strong> into two hemispheres due to mutations&nbsp;in the <strong>sonic hedgehog gene </strong>at&nbsp;the long arm of&nbsp;<strong>chromosome 7</strong>. It is a developmental disorder of the brain that results from the defective formation of the<strong> prosencephalon</strong>&nbsp;and the inadequate induction of the&nbsp;forebrain structures. The three types include, alobar, semilobar, and lobar, apart from the middle interhemispheric fusion variant or syntelencephaly.</p>\n<p>The image given below shows alobar holoprosencephaly-</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bad74759dc9a4a0bbcfd39fd0b72e5a8x960x720.JPEG"
    ]
  },
  {
    "text": "A newborn presented with a tuft of hair over the lumbosacral region. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Spina bifida occulta"
      },
      {
        "id": 2,
        "text": "Spinal lipoma"
      },
      {
        "id": 3,
        "text": "Dermal sinus"
      },
      {
        "id": 4,
        "text": "Any of the above"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Myelomeningocele</strong> is the <strong>most</strong> <strong>severe</strong> form of spina bifida, where the spinal cord and nerve roots are exposed and may be damaged. A sac-like protrusion, containing spinal cord tissue, meninges, and cerebrospinal fluid, is visible outside the body, often leading to significant neurological impairments and disabilities.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/2861854e307542c4956cda6c41c65c98x1280x1058.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/a0894b20fa2743a3bb916cd7c3c3bdc6x1280x2049.JPEG"
    ]
  },
  {
    "text": "A 27-year-old pregnant woman underwent second-trimester screening and had an abnormal presence of a biochemical marker. Following this, she went to a tertiary care referral centre for further investigations. An anomaly scan revealed cranial lemon and cerebellar banana signs. What is the abnormal marker present in this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Pregnancy-associated plasma protein-A (PAPPA)"
      },
      {
        "id": 2,
        "text": "Human chorionic gonadotrophin (hCG)"
      },
      {
        "id": 3,
        "text": "Inhibin A"
      },
      {
        "id": 4,
        "text": "Acetylcholinesterase"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Note: </strong></p>\n<p>Pregnancy-associated plasma protein-A (PAPPA), inhibin A, and human chorionic gonadotrophin (hCG) are the biochemical markers of<strong> trisomy 21</strong> (Down's syndrome).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d74d3649c3c64bcf8a58b42c49207de0x510x418.GIF",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0def307a758c4f3bb2af170f379aa6b2x510x585.GIF"
    ]
  },
  {
    "text": "A child is scheduled for myelomeningocele surgery. Until the patient is waiting for surgery, the covering of the sac will be protected by a gauze soaked in______.",
    "choices": [
      {
        "id": 1,
        "text": "Povidone iodine"
      },
      {
        "id": 2,
        "text": "Normal saline"
      },
      {
        "id": 3,
        "text": "Methylene blue"
      },
      {
        "id": 4,
        "text": "Chlorhexidine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Until the time of surgery, the sac of <strong>myelomeningocele</strong> has to be covered with a sterile gauze soaked in <strong>normal saline. </strong>This is&nbsp;to prevent drying and trauma to the sac. As the normal saline is less irritant to the sac, it is preferred.</p>\n<p><strong>Note: </strong></p>\n<p>Surgery is done as early as possible (within a day of birth).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 28-year-old pregnant woman was rushed to the casualty of a maternity hospital due to imminent delivery. It resulted in a stillborn baby as shown in the picture below. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Diastematomyelia"
      },
      {
        "id": 2,
        "text": "Craniorachischisis"
      },
      {
        "id": 3,
        "text": "Iniencephaly"
      },
      {
        "id": 4,
        "text": "Holoprosencephaly"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The given image shows an occipital bone defect with retroflexion of the neck and trunk, which is typical of<strong> iniencephaly</strong>.&nbsp;Inion is the tip of the external occipital protuberance and this defect comes under the spectrum of <strong>neural tube defects</strong>.</p>\n<p><strong>Diastematomyelia </strong>(Option A)<strong>&nbsp;</strong>&nbsp;is a congenital disorder in which a part of the spinal cord is split, usually at the level of the upper lumbar vertebra.</p>\n<p><strong>Craniorachischisis</strong>&nbsp; (Option B) is the anencephaly associated with a&nbsp;continuous bony defect of the&nbsp;spine and exposure of neural tissue.</p>\n<p><strong>Holoprosencephaly</strong> (Option D) occurs when the&nbsp;procencephalon fails to <span class=\"Y0NH2b CLPzrc\">develop into two hemispheres.</span></p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/204bf92749c545009229b54d427881bd.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "What is the most common cause of ventriculomegaly in newborns?",
    "choices": [
      {
        "id": 1,
        "text": "Arnold-Chiari malformation"
      },
      {
        "id": 2,
        "text": "Dandy-Walker syndrome"
      },
      {
        "id": 3,
        "text": "Arachnoid villi malformation"
      },
      {
        "id": 4,
        "text": "Aqueductal stenosis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Aqueductal</strong> <strong>stenosis</strong> is the most <strong>common</strong> cause of <strong>ventriculomegaly</strong> and <strong>hydrocephalus</strong> in newborns.</p>\n<p>Ventriculomegaly is the <strong>dilation</strong> of the ventricles. When ventriculomegaly occurs in association with <strong>raised </strong>cerebrospinal fluid<strong> (CSF) pressure</strong>, it is called <strong>hydrocephalus</strong>.</p>\n<p>Pathologic etiologies can be <strong>congenital</strong> or <strong>acquired</strong>. Congenital causes include structural abnormalities such as <strong>aqueductal stenosis,</strong> <strong>agenesis of the corpus callosum, Dandy-Walker malformations, Chiari malformations</strong>, and neural tube defects. Acquired causes are intracranial <strong>infections</strong>(cytomegalovirus, toxoplasmosis), <strong>intracranial</strong> <strong>hemorrhage</strong>, ischemic injury, and brain parenchymal <strong>tumors</strong>.</p>\n<p>Aqueductal stenosis is the narrowing or obstruction of the cerebral aqueduct, a narrow channel that connects the <strong>third</strong> and <strong>fourth</strong> <strong>ventricles</strong> in the brain. As a result, the fluid accumulates within the ventricles, causing them to enlarge.</p>\n<p>Treatment for aqueductal stenosis includes <strong>ventriculostomy</strong>, <strong>diuretics</strong>, serial lumbar punctures in specific cases, and CSF diversion. In <strong>severe</strong> cases, CSF <strong>diversion</strong> procedures (shunting), may be necessary to redirect the flow of CSF and relieve pressure on the brain.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/0f23cd9862fb4267a4c70cdfbdf1607dx1280x3447.057163020466.JPEG"
    ]
  },
  {
    "text": "An infant is brought to the OPD with complaints of multiple episodes of vomiting that is more in the morning and relieved when sitting. She has an unusually large head with bulging fontanelles. The image of the child showing a characteristic sign is given below. Which of the following is not a cause of the communicating variant of this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Choroid plexus papilloma"
      },
      {
        "id": 2,
        "text": "Meningeal malignancy"
      },
      {
        "id": 3,
        "text": "Vein of Galen malformation"
      },
      {
        "id": 4,
        "text": "Achondroplasia"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>The clinical features of\u00a0frequent vomiting, large head, bulging fontanelles, and a <strong>positive sunset sign </strong>(as seen in the image)\u00a0point to a likely diagnosis of<strong> hydrocephalus</strong>. A <strong>vein of Galen malformation</strong> can expand to become large and, because of its midline position, obstruct the flow of CSF, thereby causing an <strong>obstructive</strong> or <strong>non-communicating </strong>hydrocephalus. Vomiting is more in the morning and becomes better when sitting due to poor absorption of CSF in a lying down position.\u00a0\u00a0</p>\n<p>Hydrocephalus is not a specific disease; it represents a diverse group of conditions that result from impaired circulation or absorption of CSF.\u00a0</p>\n<p><strong>Causes of hydrocephalus:</strong></p>\n<table>\n<tbody>\n<tr>\n<td><strong>Communicating</strong> (external/non-obstructive)</td>\n<td><strong>Non-communicating</strong> (internal/obstructive)</td>\n</tr>\n<tr>\n<td>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Achondroplasia (raised ICP due to jugular foramen stenosis)</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Choroid plexus papilloma</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Meningeal malignancy</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Meningitis</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Posthemorrhagic</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Sarcoidosis</li>\n</ul>\n</td>\n<td>\n<ul>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Aqueductal stenosis</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Arnold-Chiari malformation</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Dandy\u2013Walker malformation</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Klippel\u2013Feil syndrome</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Tumours and neurocutaneous disorders (astrocytoma)</li>\n<li style=\"font-weight: 400;\" aria-level=\"1\">Vein of Galen malformation</li>\n</ul>\n</td>\n</tr>\n</tbody>\n</table>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/24077720701e44de80557931fe967ffe.JPEG"
    ],
    "explanation_images": []
  },
  {
    "text": "Shreya, a 2-year-old girl, presented with irritability for 2 days. On examination, macrocephaly, hypotonia and spasticity were present with a positive head transillumination test. She started walking independently at 18 months and became dry by day a month before her 2nd birthday. An MRI-brain revealed cystic expansion of the fourth ventricle and midline cerebellar hypoplasia. What is the most likely diagnosis explaining her obstructive hydrocephalus?",
    "choices": [
      {
        "id": 1,
        "text": "Arnold-Chiari malformation"
      },
      {
        "id": 2,
        "text": "Aqueductal stenosis"
      },
      {
        "id": 3,
        "text": "Arachnoid villi malformation"
      },
      {
        "id": 4,
        "text": "Dandy-Walker syndrome"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The features of hydrocephalus like irritability along with macrocephaly, hypotonia and spasticity indicate a likely diagnosis of&nbsp;<strong>Dandy-Walker syndrome.</strong>&nbsp;A <strong>positive transillumination test</strong> is present in this syndrome. The child has <strong>developmental delay</strong> especially in motor and cognitive milestones because normally children walk independently at 12-13 months and become dry by day around 18 months.</p>\n<p>The Dandy-Walker malformation consists of a<strong> cystic expansion of the fourth ventricle</strong> in the posterior fossa and <strong>midline cerebellar hypoplasia.&nbsp;</strong>It results from a developmental failure of the <strong>roof of the fourth ventricle</strong> during embryogenesis. Most of&nbsp;the affected patients have hydrocephalus, agenesis of the posterior cerebellar vermis,&nbsp;and corpus callosum. Brisk tendon reflexes, spasticity, clonus, Babinski sign, cerebellar ataxia, and delayed motor and cognitive milestones are seen in this. Management is by <strong>shunting </strong>if hydrocephalus is present.<br /><br />The image below shows a sagittal section of the magnetic resonance tomography scan of a patient with&nbsp;Dandy-Walker syndrome.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bff7fa75ef354e2a893401a3c520551ex578x600.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1a0626d17c464910a94d4de750770e18x1280x3918.JPEG"
    ]
  },
  {
    "text": "A 6-month-old baby presented with fever, poor feeding, and frequent vomiting. On examination, the head circumference was 46.5cm with a positive sunset and Macewen sign. Which of the following infections is associated with the most common cause of the underlying neurological disease in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Rubella"
      },
      {
        "id": 2,
        "text": "Mumps"
      },
      {
        "id": 3,
        "text": "Bacterial endocarditis"
      },
      {
        "id": 4,
        "text": "Measles"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>Symptoms of poor feeding and frequent vomiting with signs of enlarged head circumference and a <strong>positive sunset and Macewen sign(crack-pot resonance)</strong> points toward a diagnosis of <strong>h</strong><strong>ydrocephalus</strong>.&nbsp;<strong>Aqueductal stenosis</strong> is the <strong>most common cause</strong> of hydrocephalus. Out of the above options,<strong>&nbsp;mumps</strong> infection can cause stenosis of the cerebral aqueduct.&nbsp;</p>\n<p>Mumps is associated in a child with aqueductal stenosis because-</p>\n<ul>\n<li>Mumps virus is <strong>neurotropic</strong> and is thought to enter the CNS via the choroid plexus and infect the choroidal epithelium and ependymal cells.</li>\n<li><strong>CNS complications </strong>of mumps include meningitis, meningoencephalitis (most commonly manifests 5 days after the parotitis), transverse myelitis, aqueductal stenosis,&nbsp;and facial palsy.</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 9-month-old baby presented with seizures, developmental delay and failure to thrive. Following an MRI, a diagnosis of a neuronal migration disorder was made. What is the probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Schizencephaly"
      },
      {
        "id": 2,
        "text": "Myelomeningocele"
      },
      {
        "id": 3,
        "text": "Lhermitte\u2013Duclos disease"
      },
      {
        "id": 4,
        "text": "Plagiocephaly"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Myelomeningocele</strong> (Option B) is a neural tube defect that occurs due to defective closure of the neural tube.</p>\n<p><strong>Lhermitte&ndash;Duclos disease&nbsp; </strong>(Option C) is the cerebellar dysplasia leading to focal enlargement of cerebellum and macrocephaly, cerebellar signs, and seizures.</p>\n<p><strong>Plagiocephaly&nbsp;</strong> (Option D) is the asymmetry and flattening of the&nbsp;skull of the&nbsp;child, due to extrinsic moulding forces (consistent sleeping on the&nbsp;same side of the head).</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/9044eed955ea423ca59becaf009b7cbax524x599.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/caceca2b617f4eb9961902747099b11bx521x600.PNG"
    ]
  },
  {
    "text": "Which of the following is false regarding the given image?",
    "choices": [
      {
        "id": 1,
        "text": "It represents melanocytic hamartoma"
      },
      {
        "id": 2,
        "text": "It causes no visual disturbance"
      },
      {
        "id": 3,
        "text": "It is associated with facial angiofibroma"
      },
      {
        "id": 4,
        "text": "They are diagnostic of a neurocutaneous syndrome"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Lisch nodules are specifically associated with <strong>NF-1</strong> and are usually <strong>multiple</strong> and <strong>bilateral</strong>. They are best visualized with a <strong>slit lamp examination</strong> and <strong>don&rsquo;t cause any visual disturbances</strong>.</p>\n<p>Other important ocular manifestations in NF-1 include <strong>eyelid plexiform neurofibroma</strong>, which causes <strong>S</strong>-shaped deformity of the upper lid, with a 'bag of worms' like texture, <strong>optic nerve glioma,</strong> and spheno-orbital encephalocele due to <strong>dysplasia</strong> of greater wing of the <strong>sphenoid.</strong></p>\n<p>NF-1 (<strong>von Recklinghausen's disease</strong>) is an <strong>autosomal</strong> <strong>dominant</strong> disorder caused by a loss-of-function mutation of the NF-1 gene located on chromosome <strong>17q11.2</strong>. NF-1 produces <strong>neurofibromin</strong>, which acts as a tumor suppressor and a <strong>negative</strong> regulator of <strong>RAS-MAP kinase</strong> signaling.</p>\n<p>Clinical features of NF-1 include <strong>caf&eacute;-au-lait macules</strong>, <strong>axillary</strong> <strong>freckling</strong>, <strong>Lisch</strong> <strong>nodules</strong>,&nbsp; <strong>neurofibromas</strong>, and <strong>optic</strong> <strong>gliomas</strong>.&nbsp;<br />NF-1 is more common than NF2 and typically diagnosed in <strong>childhood</strong>. NF-2 is rarer but often presents with <strong>bilateral acoustic neuroma</strong>, <strong>juvenile cataract</strong> and <strong>schwannoma</strong>.</p>\n<p>The various neurocutaneous syndromes and their ocular manifestations are as follows:</p>\n<table style=\"height: 159px; width: 343.562px;\">\n<tbody>\n<tr>\n<td style=\"width: 195.875px; text-align: center;\"><strong>Neurocutaneous syndrome</strong></td>\n<td style=\"width: 96.49px; padding-left: 30px; text-align: center;\"><strong>Ocular<br />manifestations</strong></td>\n</tr>\n<tr>\n<td style=\"width: 195.875px;\"><strong>Neurofibromatosis <br />type 1</strong></td>\n<td style=\"width: 96.49px;\">\n<p>Eyelid plexiform neurofibroma</p>\n<p>Optic nerve glioma</p>\n<p>Bilateral Lisch nodules</p>\n<p>Congenital ectropion uveae</p>\n<p>Prominent corneal nerves</p>\n<p>Congenital&nbsp;glaucoma</p>\n<p>Spheno-orbital encephalocele&nbsp;</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 195.875px;\"><strong>Neurofibromatosis <br />type 2</strong></td>\n<td style=\"width: 96.49px;\">\n<p>Posterior subcapsular cataract</p>\n<p>Hamartomas of the <br />retinal pigment epithelium (RPE) and retina</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 195.875px;\"><strong>Sturge-Weber syndrome</strong></td>\n<td style=\"width: 96.49px;\">\n<p>Choroidal&nbsp;hemangioma</p>\n<p>Iris heterochromia</p>\n<p>Ipsilateral glaucoma</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 195.875px;\"><strong>Tuberous sclerosis</strong></td>\n<td style=\"width: 96.49px;\">\n<p>Atypical iris coloboma</p>\n<p>Iris hypopigmentation</p>\n<p>Retinal astrocytoma</p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 195.875px;\"><strong>von Hippel-Lindau <br />syndrome</strong></td>\n<td style=\"width: 96.49px;\">\n<p>Retinal hemangiomas&nbsp;</p>\n</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/e7be1fe8162f48c0a5ddd74b88e256ac.JPEG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/101e2fe93f734db4abe514c4644bc904x1280x840.JPEG"
    ]
  },
  {
    "text": "During a telemedicine consultation, you come across a case of a 9-year-old child with a previously diagnosed autosomal dominant neurocutaneous syndrome known as tuberous sclerosis. Which one of the following is not seen in it?",
    "choices": [
      {
        "id": 1,
        "text": "Astrocytoma"
      },
      {
        "id": 2,
        "text": "Ependymoma"
      },
      {
        "id": 3,
        "text": "White matter lesions"
      },
      {
        "id": 4,
        "text": "Renal angiomyolipoma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Ependymomas</strong> are not seen in tuberous sclerosis.&nbsp;<strong>Neurocutaneous syndromes </strong>like tuberous sclerosis&nbsp;are a group of disorders with abnormalities in both the integumentary system and the CNS (defect of primitive ectoderm). They include the following:</p>\n<ul>\n<li>Neurofibromatosis</li>\n<li>Tuberous sclerosis</li>\n<li>Sturge&ndash;Weber syndrome</li>\n<li>von Hippel&ndash;Lindau disease</li>\n<li>Ataxia telangiectasia</li>\n</ul>\n<p>Tuberous sclerosis is caused due to mutation of genes coding for <strong>hamartin (chromosome 9)</strong> and <strong>tuberin (chromosome 16)</strong>, which leads to the formation of hamartomas.</p>\n<p><strong>Clinical features:</strong></p>\n<ul>\n<li>CNS\n<ul>\n<li>CNS involvement is the hallmark of tuberous sclerosis.</li>\n<li>Glioneuronal hamartomas (cortical tubers).</li>\n<li><strong>Subependymal nodules</strong>&nbsp;are lesions found along the wall of the lateral ventricles, where they undergo calcification.</li>\n<li><strong>Subependymal giant cell astrocytomas</strong> (<strong>SEGA</strong>s) are the characteristic brain tumours. These benign, slow-growing tumours arise in the periventricular area.</li>\n<li><strong>White matter lesions</strong>&nbsp;are common and include nodules, cysts, and areas of gliosis and hypomyelination.</li>\n</ul>\n</li>\n<li>Skin\n<ul>\n<li>Facial angiofibroma (adenoma sebaceum)</li>\n<li><strong>Periungual fibroma</strong></li>\n<li>Shagreen patch</li>\n<li>Confetti skin lesions</li>\n</ul>\n</li>\n<li>Others\n<ul>\n<li><strong>Renal angiomyolipoma</strong></li>\n<li>Cardiac rhabdomyoma</li>\n</ul>\n</li>\n</ul>\n<p>&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During rounds in the neurology ward, an 11-year-old child is observed with the following lesion on his back. Which of the following characteristic skin manifestation of tuberous sclerosis is depicted in this picture?",
    "choices": [
      {
        "id": 1,
        "text": "Adenoma sebaceum"
      },
      {
        "id": 2,
        "text": "Hypomelanotic macules"
      },
      {
        "id": 3,
        "text": "Shagreen patch"
      },
      {
        "id": 4,
        "text": "Confetti skin lesion"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>&nbsp;</p>\n<p>Images: <strong>Shagreen patch</strong> (above) and <strong>shagreen texture of sting ray</strong> skin (below):</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1521eadec1bc4f86b45d1aafd168cdc9.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/7dd9904adb764d4492cce469f6b0ce88x800x525.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/d7eeecb16bbf4cfaa451b24185d0ab43x569x629.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/1d30bdf16a3a42079eaa18cadb32ad7fx1280x521.892071952032.PNG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/bc2985552fff4289898b3fcb680fb9fbx408x341.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/be62bf3cdf804bbd8b29ab4c76efb604x392x584.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/328963837e65444ab979dc53de8f0da4x494x559.JPEG",
      "https://dhmbxeygs57ff.cloudfront.net/uploads/16c4389d415942acacd8ff115f8550aax799x617.JPEG"
    ]
  },
  {
    "text": "A 3-year-old child is rushed to the emergency department because of an episode of fits associated with uprolling of eyes and high fever. Kernig\u2019s sign is negative and there are no post-ictal neurological deficits. There is a history of a similar episode when the child had a fever due to gastroenteritis. Which of the following is false regarding this type of seizures?",
    "choices": [
      {
        "id": 1,
        "text": "Likelihood of developing epilepsy is low"
      },
      {
        "id": 2,
        "text": "Associated with temperature of 38\u00b0C or higher"
      },
      {
        "id": 3,
        "text": "Antipyretics reduce the risk of recurrent febrile convulsions"
      },
      {
        "id": 4,
        "text": "Absence of having a developmental delay"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>This is a probable case of <strong>febrile seizures</strong> due to the presence of high fever, no post-ictal deficits and a negative Kernig's sign ruling out meningitis.&nbsp;<strong>Antipyretics</strong> do not reduce the risk of recurrent febrile seizure, as the seizure often occurs as the temperature is rising or falling abruptly.</p>\n<p>Febrile seizures are seizures that-</p>\n<ul>\n<li>Occur between the age of <strong>6 months and 5 years</strong></li>\n<li>Occur at a temperature of 38&deg;C <strong>(100.4&deg;F) </strong>or<strong> higher</strong></li>\n<li>Are not due to any CNS infection or any metabolic imbalance</li>\n<li>Occur without a history of prior afebrile seizures</li>\n<li>Occur with <strong>no post-ictal neurological deficit</strong>.</li>\n</ul>\n<p><strong>Types of febrile seizures:</strong></p>\n<table style=\"width: 446px;\" border=\"1\">\n<tbody>\n<tr>\n<td style=\"width: 220px; text-align: center;\"><strong>Simple febrile seizures</strong></td>\n<td style=\"width: 218px; text-align: center;\"><strong>Complex (atypical) febrile seizures</strong></td>\n</tr>\n<tr>\n<td style=\"width: 220px; text-align: center;\">Occurs within 24 hours of the onset of fever</td>\n<td style=\"width: 218px; text-align: center;\">Can occur at any time during a fever</td>\n</tr>\n<tr>\n<td style=\"width: 220px; text-align: center;\">Generalized seizures</td>\n<td style=\"width: 218px; text-align: center;\">Focal seizures</td>\n</tr>\n<tr>\n<td style=\"width: 220px; text-align: center;\">Duration is &lt;15 min</td>\n<td style=\"width: 218px; text-align: center;\">Prolonged</td>\n</tr>\n<tr>\n<td style=\"width: 220px; text-align: center;\">No recurrence within 24 hrs of seizures</td>\n<td style=\"width: 218px; text-align: center;\">Recurrent</td>\n</tr>\n<tr>\n<td style=\"width: 220px; text-align: center;\">Chances of going into epilepsy 1%</td>\n<td style=\"width: 218px; text-align: center;\">Chances of going into epilepsy 6%</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Investigations:</strong></p>\n<ul>\n<li>Lumbar puncture should be performed in the <strong>first episode</strong> of seizures with fever, for all infants <strong>&lt;6 months</strong> age (to exclude meningitis).</li>\n<li>EEG and neuroimaging are advised for children with atypical febrile seizures.</li>\n</ul>\n<p><strong>Treatment:</strong></p>\n<p>Antipyretics and proper hydration. Midazolam or diazepam (rectal) can be used if seizures present.</p>\n<p><strong>Prophylaxis:</strong></p>\n<ul>\n<li><strong>Intermittent prophylaxis:</strong> If the febrile seizures are 3 or more in 6 months, or 4 or more seizures in 1 year, oral <strong>clobazam</strong> (1mg/kg/day) for 3 days during the fever episode.</li>\n<li><strong>Continuous prophylaxis: </strong>If intermittent prophylaxis fails or in recurrent atypical febrile seizures, sodium valproate and phenobarbitone can be used.</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Your neighbour, Sheila, frantically knocks on your door to seek help as her toddler had suddenly started convulsing with uprolling of eyes. The child had a high fever and this was his third episode of seizures in 6 months. Post-recovery, Sheila is still anxious and wishes to know the risk factors for such recurrences of febrile seizures. You would explain all of the following except-",
    "choices": [
      {
        "id": 1,
        "text": "Duration of fever < 24 hr"
      },
      {
        "id": 2,
        "text": "Late age of onset"
      },
      {
        "id": 3,
        "text": "Family history of epilepsy"
      },
      {
        "id": 4,
        "text": "Lower serum sodium"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Early age</strong> of onset (age &lt;1 year) is a risk factor for <strong>recurrence </strong>of<strong> febrile seizures</strong>. The other risk factors for such recurrences are as follows:</p>\n<p><strong>Major:</strong></p>\n<ul>\n<li>Age &lt;1 yr</li>\n<li>Duration of fever &lt;24 hr</li>\n<li>Fever 38-39&deg;C</li>\n</ul>\n<p><strong>Minor:</strong></p>\n<ul>\n<li>Family history of febrile seizures</li>\n<li>Family history of epilepsy</li>\n<li>Complex febrile seizure</li>\n<li>Male gender</li>\n<li>Lower serum sodium at the time of presentation</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A child presents with developmental delay and multiple seizure types. The seizures could not be controlled by an array of drugs. Electroencephalogram (EEG) shows 1-2 Hz spike and slow waves with polyspike bursts in sleep. What is the diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Juvenile myoclonic epilepsy"
      },
      {
        "id": 2,
        "text": "Lennox-Gastaut syndrome"
      },
      {
        "id": 3,
        "text": "Landau-Kleffner syndrome"
      },
      {
        "id": 4,
        "text": "West syndrome"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<table style=\"width: 549px; height: 340px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\"><strong>Disease</strong></td>\n<td style=\"width: 193.008px; height: 18px;\"><strong>Typical EEG features</strong></td>\n<td style=\"width: 191.758px; height: 18px;\"><strong>Drug of choice</strong></td>\n</tr>\n<tr style=\"height: 20.4px;\">\n<td style=\"width: 143.008px; height: 20.4px;\">Lennox\u2013Gastaut syndrome</td>\n<td style=\"width: 193.008px; height: 20.4px;\">1-2 Hz spike and polyspike bursts in sleep</td>\n<td style=\"width: 191.758px; height: 20.4px;\">Valproate\u00a0</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">Absence seizures</td>\n<td style=\"width: 193.008px; height: 18px;\">3 Hz spike and slow-wave (spike and dome pattern)</td>\n<td style=\"width: 191.758px; height: 18px;\">Ethosuximide</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">Juvenile myoclonic epilepsy</td>\n<td style=\"width: 193.008px; height: 18px;\">4-5 Hz spike\u00a0polyspike and slow-wave discharges</td>\n<td style=\"width: 191.758px; height: 18px;\">Valproate\u00a0</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">West syndrome</td>\n<td style=\"width: 193.008px; height: 18px;\">Hypsarrhythmia (high-voltage waves with chaotic background</td>\n<td style=\"width: 191.758px; height: 18px;\">Adrenocorticotropic hormone\u00a0(ACTH)</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which of the following is true for Lennox-Gastaut syndrome?",
    "choices": [
      {
        "id": 1,
        "text": "Constitutes of a single seizure type"
      },
      {
        "id": 2,
        "text": "Good prognosis and adequate controlled epilepsy"
      },
      {
        "id": 3,
        "text": "No impaired cognitive function"
      },
      {
        "id": 4,
        "text": "EEG showing slow (<3Hz) spike and wave discharge"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Lennox\u2013Gastaut syndrome</strong>\u00a0is associated with 1-2 Hz spike and slow-wave discharges.</p>\n<ul>\n<li>Typically starts between the ages of 2 and 10 years</li>\n<li>Consists of a <strong>triad</strong> of developmental delay, multiple seizure types (that as a rule includes\u00a0<strong>atypical absence seizures,</strong> myoclonic, astatic, and tonic seizures) and specific EEG abnormalities.</li>\n<li>Most are left with <strong>long-term cognitive impairment</strong>\u00a0and intractable seizures despite multiple therapies.</li>\n<li>Lennox\u2013Gastaut syndrome has a\u00a0<strong>poor prognosis</strong></li>\n</ul>\n<p>\u00a0</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A concerned kindergarten teacher calls up the mother of one of her students who was having transient lapses of consciousness. The teacher elaborated that the child was having multiple episodes of staring blankly into space for a few seconds before quickly returning to alertness. Following investigations including an EEG, a diagnosis of atypical absence seizures was made. Which of the following is a feature of it?",
    "choices": [
      {
        "id": 1,
        "text": "Associated with head drop during seizure"
      },
      {
        "id": 2,
        "text": "Precipitated by hyperventilation"
      },
      {
        "id": 3,
        "text": "EEG shows 3Hz spike and slow wave pattern"
      },
      {
        "id": 4,
        "text": "Associated with petit mal seizures"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<table style=\"width: 498.983px;\">\n<tbody>\n<tr>\n<td style=\"width: 228px;\"><strong>Absence seizures</strong> (typical)</td>\n<td style=\"width: 259.983px;\"><strong>Atypical absence seizures</strong></td>\n</tr>\n<tr>\n<td style=\"width: 228px;\">No change in the&nbsp;body tone</td>\n<td style=\"width: 259.983px;\">Change in the tone of the&nbsp;head (head drop) and body.</td>\n</tr>\n<tr>\n<td style=\"width: 228px;\">Precipitated by hyperventilation</td>\n<td style=\"width: 259.983px;\">Precipitated by drowsiness</td>\n</tr>\n<tr>\n<td style=\"width: 228px;\">3 Hz spike and slow wave pattern on EEG</td>\n<td style=\"width: 259.983px;\">1-2 Hz spike and slow wave pattern on EEG</td>\n</tr>\n<tr>\n<td style=\"width: 228px;\">Usually not associated with other syndromes</td>\n<td style=\"width: 259.983px;\">Associated with Lennox&ndash;Gestaut syndrome</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Harish had a panic attack when he was called to recite a poem on the stage. This was followed by a sudden lapse in consciousness and manifested as a blank stare along with fluttering of eyes. He appeared frozen without any change in the body tone. Which of the following is a characteristic feature of this condition on electroencephalography (EEG)?",
    "choices": [
      {
        "id": 1,
        "text": "Continuous stunted spikes"
      },
      {
        "id": 2,
        "text": "3 Hz spike and slow wave"
      },
      {
        "id": 3,
        "text": "Continuous tall spikes"
      },
      {
        "id": 4,
        "text": "Waves at the rate of 10/ sec"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<table style=\"width: 549px; height: 340px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\"><strong>Disease</strong></td>\n<td style=\"width: 193.008px; height: 18px;\"><strong>Typical EEG features</strong></td>\n<td style=\"width: 191.758px; height: 18px;\"><strong>Drug of choice</strong></td>\n</tr>\n<tr style=\"height: 20.4px;\">\n<td style=\"width: 143.008px; height: 20.4px;\">Lennox&ndash;Gastaut syndrome</td>\n<td style=\"width: 193.008px; height: 20.4px;\">1-2 Hz spike and polyspike bursts in sleep</td>\n<td style=\"width: 191.758px; height: 20.4px;\">Valproate&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">Absence seizures</td>\n<td style=\"width: 193.008px; height: 18px;\">3 Hz spike and slow-wave (spike and dome pattern)</td>\n<td style=\"width: 191.758px; height: 18px;\">Ethosuximide</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">Juvenile myoclonic epilepsy</td>\n<td style=\"width: 193.008px; height: 18px;\">4-5 Hz spike&nbsp;polyspike and slow-wave discharges</td>\n<td style=\"width: 191.758px; height: 18px;\">Valproate</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">West syndrome</td>\n<td style=\"width: 193.008px; height: 18px;\">Hypsarrhythmia (high-voltage waves with chaotic background</td>\n<td style=\"width: 191.758px; height: 18px;\">Adrenocorticotropic hormone&nbsp;(ACTH)</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/b2eecffbac1b4ffc831da534bf597343x1279x1242.JPEG"
    ]
  },
  {
    "text": "An 8-year-old boy was playing at his cr\u00e8che centre when he suddenly developed rapid jerky movements of both the upper and lower limbs and was rushed to the emergency department. It had been ongoing for the past 10 minutes and the boy had been unresponsive throughout. Which of the following is not useful in the management of this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Lorazepam"
      },
      {
        "id": 2,
        "text": "Phenytoin"
      },
      {
        "id": 3,
        "text": "Phenobarbitone"
      },
      {
        "id": 4,
        "text": "Carbamazepine"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>The clinical scenario is that of <strong>status epilepticus. </strong>This is&nbsp;due to&nbsp;rapid jerky movements causing continuous seizure activity for more than 5 minutes. <strong>Carbamazepine</strong> is not commonly used in the treatment of status epilepticus.</p>\n<p>Status epilepticus is defined as continuous or recurrent seizure activity lasting for more than 5 minutes without regaining consciousness. The image given below depicts the management of this condition in a flowchart-</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/c1d478edaf8a498aa0a85655f8fa09f4x1280x2558.JPEG"
    ]
  },
  {
    "text": "A 15-year-old girl presented with episodes of brief involuntary muscular twitching that causes her to drop her toothbrush or teacup in the morning. Following investigations including an EEG, a diagnosis of juvenile myoclonic epilepsy was made. Which of the following is not a feature of it?",
    "choices": [
      {
        "id": 1,
        "text": "Sleep deprivation provokes seizures."
      },
      {
        "id": 2,
        "text": "Prognosis is generally good."
      },
      {
        "id": 3,
        "text": "Drug of choice is valproate."
      },
      {
        "id": 4,
        "text": "EEG shows 1-2 Hz spike waves."
      }
    ],
    "correct_choice_id": 4,
    "solution": "<table style=\"width: 549px; height: 340px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\"><strong>Disease</strong></td>\n<td style=\"width: 193.008px; height: 18px;\"><strong>Typical EEG features</strong></td>\n<td style=\"width: 191.758px; height: 18px;\"><strong>Drug of choice</strong></td>\n</tr>\n<tr style=\"height: 20.4px;\">\n<td style=\"width: 143.008px; height: 20.4px;\">Lennox&ndash;Gastaut syndrome</td>\n<td style=\"width: 193.008px; height: 20.4px;\">1-2 Hz spike and polyspike bursts in sleep</td>\n<td style=\"width: 191.758px; height: 20.4px;\">Valproate&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">Absence seizures</td>\n<td style=\"width: 193.008px; height: 18px;\">3 Hz spike and slow-wave (spike and dome pattern)</td>\n<td style=\"width: 191.758px; height: 18px;\">Ethosuximide</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">Juvenile myoclonic epilepsy</td>\n<td style=\"width: 193.008px; height: 18px;\">4-5 Hz spike&nbsp;polyspike and slow-wave discharges</td>\n<td style=\"width: 191.758px; height: 18px;\">Valproate&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">West syndrome</td>\n<td style=\"width: 193.008px; height: 18px;\">Hypsarrhythmia (high-voltage waves with chaotic background</td>\n<td style=\"width: 191.758px; height: 18px;\">Adrenocorticotropic hormone&nbsp;(ACTH)</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "An adolescent girl complaints of dropping objects from hands precipitated during morning hours and exams. There is no history of loss of consciousness. One of her cousins has been diagnosed with epilepsy. EEG was suggestive of epileptic spikes. What is the most probable diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Juvenile myoclonic epilepsy"
      },
      {
        "id": 2,
        "text": "Atypical absence"
      },
      {
        "id": 3,
        "text": "Choreo-athetoid epilepsy"
      },
      {
        "id": 4,
        "text": "Centrotemporal spikes"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The given clinical scenario describes an <strong>adolescent</strong> girl with <strong>myoclonic jerks</strong> (a history of <strong>dropping objects</strong>)&nbsp;with <strong>preserved</strong> <strong>consciousness</strong>. This, along with&nbsp;<strong>abnormal EEG </strong>findings strongly suggests <strong>juvenile myoclonic epilepsy</strong>.</p>\n<p><strong>Juvenile myoclonic epilepsy</strong> (<strong>Janz syndrome</strong>) is the most common generalized epilepsy in young adults. It starts in <strong>early adolescence</strong> with one or more of the following features: <strong>bilateral myoclonic jerks</strong> in the <strong>morning</strong>, causing patients to <strong>drop things</strong>, <strong>generalized tonic-clonic</strong> or <strong>clonic-tonic-clonic</strong> seizures upon awakening, and <strong>juvenile absence seizure</strong>.</p>\n<p><strong>Consciousness</strong> is usually<strong> preserved</strong>.&nbsp;<strong>Precipitating factors</strong> include <strong>sleep deprivation</strong>, <strong>alcohol</strong>, and photic stimulation. EEG shows <strong>4 to 5Hz polyspike</strong> and <strong>slow wave</strong> discharges. A <strong>family history</strong>&nbsp;of epilepsy is often present.&nbsp;</p>\n<p>The treatment options for JME include <strong>sodium valproate, levetiracetam, and topiramate.&nbsp;</strong>Benzodiazepine, lamotrigine,&nbsp;perampanel, phenobarbital, primidone, and zonisamide can be considered as add-on drugs.&nbsp;<strong>Complete remission</strong> is <strong>uncommon</strong> and has a high risk of seizure recurrence, hence antiepileptics are continued<strong> lifelong</strong> in a majority of the patients.&nbsp;</p>\n<p>Other options:&nbsp;</p>\n<p>Option B:<strong> Atypical absence seizures</strong> have been associated with myoclonic components and <strong>head drop</strong>. They are precipitated by drowsiness and EEG shows <strong>1 to 2 Hz spike</strong> and <strong>slow wave</strong> discharges.&nbsp;</p>\n<p>Option D: In <strong>benign childhood epilepsy</strong> with <strong>centrotemporal spikes</strong>, the child typically wakes at night due to a focal seizure with preserved awareness. <strong>B</strong><strong>uccal</strong> and <strong>throat</strong> <strong>tingling</strong> and tonic or clonic contractions on one side of the face are seen, with drooling and preserved consciousness. EEG shows typical wide-based centrotemporal spikes.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 7-month-old boy presents with brief episodes of head drops and flexion of the body, followed by tonic extension of arms and legs. These movements last 1 to 2 seconds and occur in several clusters per day, with 15 to 30 spasms per cluster. EEG is given below and is suggestive of infantile spasms. Which of the following is the drug of choice for this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Carbamazepine"
      },
      {
        "id": 2,
        "text": "Ethosuximide"
      },
      {
        "id": 3,
        "text": "Valproate"
      },
      {
        "id": 4,
        "text": "ACTH"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<table style=\"width: 549px; height: 340px;\">\n<tbody>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\"><strong>Disease</strong></td>\n<td style=\"width: 193.008px; height: 18px;\"><strong>Typical EEG features</strong></td>\n<td style=\"width: 191.758px; height: 18px;\"><strong>Drug of choice</strong></td>\n</tr>\n<tr style=\"height: 20.4px;\">\n<td style=\"width: 143.008px; height: 20.4px;\">Lennox&ndash;Gastaut syndrome</td>\n<td style=\"width: 193.008px; height: 20.4px;\">1-2 Hz spike and polyspike bursts in sleep</td>\n<td style=\"width: 191.758px; height: 20.4px;\">Valproate&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">Absence seizures</td>\n<td style=\"width: 193.008px; height: 18px;\">3 Hz spike and slow-wave (spike and dome pattern)</td>\n<td style=\"width: 191.758px; height: 18px;\">Ethosuximide</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">Juvenile myoclonic epilepsy</td>\n<td style=\"width: 193.008px; height: 18px;\">4-5 Hz spike&nbsp;polyspike and slow-wave discharges</td>\n<td style=\"width: 191.758px; height: 18px;\">Valproate&nbsp;</td>\n</tr>\n<tr style=\"height: 18px;\">\n<td style=\"width: 143.008px; height: 18px;\">West syndrome</td>\n<td style=\"width: 193.008px; height: 18px;\">Hypsarrhythmia (high-voltage waves with chaotic background</td>\n<td style=\"width: 191.758px; height: 18px;\">Adrenocorticotropic hormone&nbsp;(ACTH)</td>\n</tr>\n</tbody>\n</table>\n<p>The image given below illustrates infantile spasms in a child-</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/fc62c8e8f2654512ac92ba42ba9ba6de.PNG"
    ],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/21a22fba06894d02b4a3f654312aad92x510x737.GIF"
    ]
  },
  {
    "text": "An 8-month old male child presented with delayed motor milestones. He was born at 28 weeks of gestation with a birth weight of 1200 grams. A diagnosis of cerebral palsy is made following investigations. An MRI scan of the brain revealed periventricular leukomalacia. Which of the following subtypes of cerebral palsy is most likely in this child?",
    "choices": [
      {
        "id": 1,
        "text": "Spastic diplegia"
      },
      {
        "id": 2,
        "text": "Spastic quadriplegia"
      },
      {
        "id": 3,
        "text": "Spastic hemiplegia"
      },
      {
        "id": 4,
        "text": "Dyskinetic cerebral palsy"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The most likely subtype in this child with\u00a0delayed motor milestones and a history of prematurity and low birth weight is <strong>spastic diplegia</strong>. This is because the most common <strong>sequelae of periventricular leukomalacia</strong> (PVL) is spastic diplegia. PVL is the ischemia of white matter adjacent to the lateral ventricles of the brain.</p>\n<p><strong>Cerebral palsy</strong></p>\n<p>It is a group of disorders, affecting movement or posture, due to non-progressive disturbances occurring in the developing fetal brain. These could be due to <strong>hypoxic-ischemic encephalopathy</strong>. The most common subtype of cerebral palsy is spastic diplegia.</p>\n<table>\n<tbody>\n<tr>\n<td><strong>Cerebral palsy subtype</strong></td>\n<td><strong>Pathology</strong></td>\n</tr>\n<tr>\n<td>Spastic diplegia</td>\n<td>Periventricular leukomalacia</td>\n</tr>\n<tr>\n<td>Spastic quadriplegia</td>\n<td>Parasagittal brain injury</td>\n</tr>\n<tr>\n<td>Spastic hemiplegia</td>\n<td>Middle cerebral artery territory infarction</td>\n</tr>\n<tr>\n<td>Dyskinetic cerebral palsy</td>\n<td>Basal ganglia</td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Which one of the following is not a feature in cerebral palsy?",
    "choices": [
      {
        "id": 1,
        "text": "Hypotonia"
      },
      {
        "id": 2,
        "text": "Microcephaly"
      },
      {
        "id": 3,
        "text": "Ataxia"
      },
      {
        "id": 4,
        "text": "Flaccid paralysis"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<table style=\"height: 1137px; width: 646px;\">\n<tbody>\n<tr style=\"height: 41px;\">\n<td style=\"width: 211.047px; height: 41px;\" colspan=\"2\"><strong>Types</strong></td>\n<td style=\"width: 112.469px; height: 41px;\"><strong>Etiology</strong></td>\n<td style=\"width: 123.398px; height: 41px;\"><strong>Presentation</strong></td>\n<td style=\"width: 171.086px; height: 41px;\"><strong>MRI findings</strong></td>\n</tr>\n<tr style=\"height: 234px;\">\n<td style=\"width: 84.6875px; height: 483.492px;\" rowspan=\"3\">\n<p style=\"text-align: center;\"><strong>Spastic</strong></p>\n<p style=\"text-align: center;\">(m/c type)</p>\n</td>\n<td style=\"width: 120.359px; height: 234px;\">\n<p style=\"text-align: center;\"><strong>Diplegia</strong></p>\n<p style=\"text-align: center;\"><span style=\"font-size: 8pt;\">(second m/c in India)</span></p>\n</td>\n<td style=\"width: 112.469px; height: 234px;\">\n<p style=\"text-align: center;\"><strong>Prematurity</strong></p>\n<p style=\"text-align: center;\">Ischemia&nbsp;</p>\n<p style=\"text-align: center;\">Infection</p>\n</td>\n<td style=\"width: 123.398px; height: 234px;\">\n<p style=\"text-align: center;\">Bilateral spasticity (<strong>LL&gt;</strong>UL)</p>\n<p style=\"text-align: center;\"><strong>Scissoring gait</strong></p>\n<p style=\"text-align: center;\"><strong>Commando crawl</strong></p>\n<p style=\"text-align: center;\">Learning disabilities</p>\n<p>&nbsp;</p>\n</td>\n<td style=\"width: 171.086px; height: 234px; text-align: center;\"><strong>Periventricular leukomalacia</strong></td>\n</tr>\n<tr style=\"height: 180px;\">\n<td style=\"width: 120.359px; height: 180px; text-align: center;\"><strong>Hemiplegia</strong></td>\n<td style=\"width: 112.469px; height: 180px;\">\n<p style=\"text-align: center;\"><strong>Vascular insult</strong></p>\n<p style=\"text-align: center;\">Infection</p>\n<p style=\"text-align: center;\">Genetic</p>\n<p style=\"text-align: center;\">&nbsp;</p>\n</td>\n<td style=\"width: 123.398px; height: 180px;\">\n<p style=\"text-align: center;\"><strong>Early hand preference</strong></p>\n<p style=\"text-align: center;\">(<strong>UL</strong>&gt;LL)</p>\n<p style=\"text-align: center;\">Walking delayed up to 18-24m</p>\n<p style=\"text-align: center;\"><strong>Equinovarus</strong> deformity of foot</p>\n<p style=\"text-align: center;\">Seizures (33%)</p>\n<p>&nbsp;</p>\n</td>\n<td style=\"width: 171.086px; height: 180px;\">\n<p style=\"text-align: center;\"><strong>Porencephalic cyst</strong></p>\n<p style=\"text-align: center;\">Focal infarct changes</p>\n</td>\n</tr>\n<tr style=\"height: 69.4922px;\">\n<td style=\"width: 120.359px; height: 69.4922px;\">\n<p style=\"text-align: center;\"><strong>Quadriplegia</strong></p>\n<p style=\"text-align: center;\"><span style=\"font-size: 8pt;\">(most severe)</span></p>\n<p style=\"text-align: center;\"><span style=\"font-size: 8pt;\">(m/c type in India)</span></p>\n</td>\n<td style=\"width: 112.469px; height: 69.4922px;\">\n<p style=\"text-align: center;\"><strong>Ischemia</strong></p>\n<p style=\"text-align: center;\">Infection</p>\n</td>\n<td style=\"width: 123.398px; height: 69.4922px;\">\n<p style=\"text-align: center;\"><strong>Marked motor impairment</strong></p>\n<p style=\"text-align: center;\"><strong>Flexion </strong>contractures</p>\n<p style=\"text-align: center;\">Strong association with <strong>seizures</strong>&nbsp;</p>\n<p style=\"text-align: center;\"><strong>Severe</strong> intellectual impairment and <strong>GDD</strong></p>\n<p style=\"text-align: center;\">Difficulty swallowing (<strong>supranuclear palsy</strong>)</p>\n</td>\n<td style=\"width: 171.086px; height: 69.4922px;\">\n<p style=\"text-align: center;\"><strong>Multi-cystic encephalomalacia</strong></p>\n<p style=\"text-align: center;\"><strong>Severe periventricular leukomalacia</strong></p>\n</td>\n</tr>\n<tr style=\"height: 20px;\">\n<td style=\"width: 84.6875px; height: 20px;\">\n<p style=\"text-align: center;\"><strong>Dyskinetic</strong></p>\n<p style=\"text-align: center;\">(15-20%)</p>\n</td>\n<td style=\"width: 120.359px; height: 20px;\">\n<p style=\"text-align: center;\"><strong>Extrapyramidal</strong></p>\n<p style=\"text-align: center;\">Athetoid</p>\n<p style=\"text-align: center;\">Chorioathetoid</p>\n</td>\n<td style=\"width: 112.469px; height: 20px;\">\n<p style=\"text-align: center;\"><strong>Asphyxia</strong></p>\n<p style=\"text-align: center;\"><strong>Kernicterus</strong></p>\n<p style=\"text-align: center;\">Mitochondrial</p>\n<p style=\"text-align: center;\">Genetic</p>\n<p style=\"text-align: center;\">&nbsp;</p>\n</td>\n<td style=\"width: 123.398px; height: 20px;\">\n<p style=\"text-align: center;\">Rigidity/hypotonia, dystonia, athetosis, chorea</p>\n<p style=\"text-align: center;\">Cognitive disability</p>\n<p style=\"text-align: center;\">Hip displacement</p>\n<p style=\"text-align: center;\">Seizures</p>\n<p style=\"text-align: center;\">&nbsp;</p>\n</td>\n<td style=\"width: 171.086px; height: 20px;\">\n<p style=\"text-align: center;\"><strong>Basal ganglia scarring</strong></p>\n<p style=\"text-align: center;\"><strong>Thalamic scarring</strong></p>\n</td>\n</tr>\n</tbody>\n</table>\n<p>UL - upper limb; LL - lower limb; GDD - global developmental delay</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": [
      "https://dhmbxeygs57ff.cloudfront.net/uploads/cd480ee47cc947ccb1c31d18bad0e6aax510x520.GIF"
    ]
  },
  {
    "text": "A newborn presented with high-grade fever, poor feeding and incessant cry for the last 2 days. Multiple episodes of vomiting are present as well. On examination, hypotonia is present along with weak reflexes. The patient is admitted and during rounds, subtle lip-smacking seizures are also observed along with a vacant stare. CSF examination shows reduced glucose, increased protein, and increased leukocytes with predominant neutrophils.  Which of the following organism is unlikely to cause this condition?",
    "choices": [
      {
        "id": 1,
        "text": "Neisseria meningitidis"
      },
      {
        "id": 2,
        "text": "Escherichia coli"
      },
      {
        "id": 3,
        "text": "Group B streptococci"
      },
      {
        "id": 4,
        "text": "Listeria"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>The&nbsp;acute features of fever, poor feeding, incessant cry, vomiting and seizures points toward a likely diagnosis of&nbsp;<strong>neonatal meningitis</strong>. The CSF findings correlate with that of bacterial meningitis due to purulent appearance, increased proteins, decreased glucose and a predominance of polymorphs. Neonatal meningitis is not caused by <strong><em>Neisseria meningitidis</em></strong>&nbsp;because, in neonates, bacteria are often acquired from the maternal vaginal flora.</p>\n<p>The common <strong>causes of acute bacterial meningitis</strong>:</p>\n<table style=\"width: 223px; height: 278px;\">\n<tbody>\n<tr>\n<td style=\"width: 85.5333px;\"><strong>Age group</strong></td>\n<td style=\"width: 119.467px;\"><strong>Organism</strong></td>\n</tr>\n<tr>\n<td style=\"width: 85.5333px;\">Neonates</td>\n<td style=\"width: 119.467px;\">Group B streptococci, <em>Escherichia coli</em>, <em>Listeria</em></td>\n</tr>\n<tr>\n<td style=\"width: 85.5333px;\">Infants and children</td>\n<td style=\"width: 119.467px;\">\n<p>&nbsp;</p>\n<p><em>Neisseria meningitidis</em>, <em>Streptococcus pneumoniae,</em>&nbsp;and <em>Haemophilus influenzae</em></p>\n</td>\n</tr>\n<tr>\n<td style=\"width: 85.5333px;\">Adolescents and young adults</td>\n<td style=\"width: 119.467px;\"><em><em>S.</em></em><em>pneumoniae</em>, <em><em>N.&nbsp;</em></em><em>meningitidis</em></td>\n</tr>\n</tbody>\n</table>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "During your PICU rotation, you are assigned a bedside case of a child with fever, convulsions, and signs of meningeal irritation. On browsing through his file, you find a lumbar puncture report mentioning the following findings. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Viral meningitis"
      },
      {
        "id": 2,
        "text": "Tubercular meningitis"
      },
      {
        "id": 3,
        "text": "Bacterial meningitis"
      },
      {
        "id": 4,
        "text": "Partially treated bacterial meningitis"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p>Fever, convulsions, and signs of meningeal irritation (nuchal rigidity,&nbsp;Kernig's sign,&nbsp;Brudzinski's signs) in a child, with CSF showing reduced glucose, increased protein,&nbsp;and increased leukocytes levels&nbsp;is a typical&nbsp;presentation of <strong>bacterial meningitis</strong>.</p>\n<p><strong>CSF findings in different types of meningitis</strong></p>\n<table style=\"width: 450px;\">\n<tbody>\n<tr>\n<td style=\"width: 25px;\">Parameter/Meningitis</td>\n<td style=\"width: 154px;\"><strong>Bacterial&nbsp;</strong></td>\n<td style=\"width: 144.094px;\"><strong>Tubercular&nbsp;</strong></td>\n<td style=\"width: 104.906px;\"><strong>Viral&nbsp;</strong></td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>CSF pressure </strong></td>\n<td style=\"width: 154px;\">Raised</td>\n<td style=\"width: 144.094px;\">Raised</td>\n<td style=\"width: 104.906px;\">Raised</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Appearance</strong></td>\n<td style=\"width: 154px;\">Turbid</td>\n<td style=\"width: 144.094px;\">Clear (<strong>cob-web</strong> formation)</td>\n<td style=\"width: 104.906px;\">Clear</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Glucose</strong></td>\n<td style=\"width: 154px;\">Decreased</td>\n<td style=\"width: 144.094px;\">Decreased</td>\n<td style=\"width: 104.906px;\">Normal</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Protein</strong></td>\n<td style=\"width: 154px;\">High</td>\n<td style=\"width: 144.094px;\">Very high</td>\n<td style=\"width: 104.906px;\">slightly high</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Chloride</strong></td>\n<td style=\"width: 154px;\">Low</td>\n<td style=\"width: 144.094px;\">Very low</td>\n<td style=\"width: 104.906px;\">Normal</td>\n</tr>\n<tr>\n<td style=\"width: 25px;\"><strong>Cells</strong></td>\n<td style=\"width: 154px;\">Neutrophils</td>\n<td style=\"width: 144.094px;\">Lymphocytes</td>\n<td style=\"width: 104.906px;\">Lymphocytes</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Note:</strong></p>\n<p>In partially treated bacterial meningitis, CSF can be clear, with normal glucose levels and lymphocyte&nbsp;predominance. Culture is usually sterile, and antigen can be detected by agglutination test.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "Asif, a young child with  previously diagnosed tuberculosis, is brought to your hospital for further management. Examination reveals a characteristic finding as present in the image. What do you expect in the cranial CT of this child?",
    "choices": [
      {
        "id": 1,
        "text": "Ring-enhancing lesions"
      },
      {
        "id": 2,
        "text": "Focal involvement of the temporal lobe"
      },
      {
        "id": 3,
        "text": "Subependymal calcifications"
      },
      {
        "id": 4,
        "text": "Basal exudates"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p>A history of tuberculosis along with a <strong>positive Kernig's sign</strong>&nbsp;(as seen in the image) is suggestive of tubercular meningitis. Cranial computed tomography (CT) in a case of tubercular meningitis shows <strong>basal exudates</strong> and <strong>hydrocephalus</strong>. Intracranial tuberculosis can also manifest as ring-enhancing lesions (<strong>tuberculoma</strong>), but the basal exudates are the most common and characteristic feature of tubercular meningitis.</p>\n<p><strong>Tubercular meningitis</strong></p>\n<p>It is common between 6 months and 4 years of age and usually spread by the&nbsp;<strong>hematogenous</strong> route. The gelatinous exudate infiltrates the corticomeningeal blood vessels leading to hydrocephalus.</p>\n<p><strong>The three stages are-</strong></p>\n<ul>\n<li>Prodromal stage</li>\n<li>Stage of meningitis</li>\n<li>Stage of coma</li>\n</ul>\n<p>CSF study shows reduced sugar level, increased protein level, and <strong>lymphocytosis.&nbsp;</strong>Treatment includes <strong>antitubercular drugs</strong> for 12 months and <strong>corticosteroids</strong> (to reduce neurologic sequelae). TB meningitis is the only indication of steroids in TB.</p>\n<p>Other options:</p>\n<p><strong>Ring-enhancing</strong> lesions are seen in cerebral abscess, neurocysticercosis and tuberculoma(rich focus). Focal involvement of the temporal lobe is seen in <strong>herpes simplex encephalitis.&nbsp;</strong>Subependymal calcifications are seen in <strong>tuberous sclerosis</strong>.</p>",
    "explanation_video": "",
    "question_images": [
      "https://cdn1.dailyrounds.org/uploads/1284f2c4236d4f0d9efa4cd10fb64dea.GIF"
    ],
    "explanation_images": []
  },
  {
    "text": "Two girls in the same class are diagnosed with meningococcal meningitis. Their 12-year old friend from the same school is afraid of contracting the disease.  What advice should be given to the exposed students?",
    "choices": [
      {
        "id": 1,
        "text": "Two doses of polysaccharide vaccine"
      },
      {
        "id": 2,
        "text": "Antibiotic prophylaxis"
      },
      {
        "id": 3,
        "text": "Two doses of conjugate vaccine"
      },
      {
        "id": 4,
        "text": "Single dose of meningococcal vaccine"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Antibiotic prophylaxis</strong> is provided to the <strong>close contacts</strong> of persons with <strong>confirmed meningococcal</strong> disease.</p>\n<p><strong>Close contacts</strong> of individuals with confirmed meningococcal disease are at an <strong>increased risk</strong> of developing the illness.&nbsp;Prophylaxis is also offered to individuals with <strong>direct</strong> and <strong>prolonged contact</strong> with a case of meningococcal disease.&nbsp;<strong>Antibiotics</strong> are effective in <strong>preventing</strong> additional cases by <strong>eradicating the carriage</strong> of the invasive strain.&nbsp;</p>\n<p>Treatment is provided to the <strong>contacts</strong> <strong>within 24 hours</strong> of identification of the index case. The antibiotics effective include <strong>rifampicin, ciprofloxacin, ceftriaxone,</strong> and <strong>azithromycin.&nbsp;</strong></p>\n<p>Prophylaxis is not generally recommended for <strong>medical personnel</strong>, except in cases where there is <strong>exposure to aerosols</strong> of respiratory secretions, such as during mouth-to-mouth resuscitation, intubation, or suctioning. This recommendation applies <strong>within 24 hours</strong> before or after the initiation of antibiotic therapy in the index case.&nbsp;</p>\n<p>For the <strong>treatment of cases</strong>, <strong>penicillin</strong> is the <strong>preferred</strong> drug, but <strong>ceftriaxone</strong> or other <strong>third-generation cephalosporins</strong> are recommended for patients with penicillin allergy.&nbsp;<strong>Droplet infection</strong> control precautions should be followed for hospitalized patients for <strong>24 hours after effective therapy</strong> has been initiated.&nbsp;</p>\n<p>Offering<strong> quadrivalent meningococcal</strong> <strong>A, C, W, Y conjugate vaccines</strong> in addition to antimicrobial prophylaxis can further <strong>reduce the risk</strong> of disease among close contacts of cases caused by vaccine capsular groups.&nbsp;</p>\n<p>Meningococcal vaccines are available in two forms: <strong>polysaccharide</strong> vaccines and <strong>polysaccharide-protein conjugate</strong> vaccines. Polysaccharide vaccines can be given as a single dose to individuals <strong>aged 2 years and older</strong>. They are offered in <strong>bivalent</strong> (A, C), <strong>trivalent</strong> (A, C, W135), and <strong>quadrivalent</strong> (A, C, W135, Y) formulations.&nbsp;</p>\n<p>Meningococcal <strong>conjugate vaccines</strong> are available as <strong>monovalent</strong> (A or C) or <strong>quadrivalent</strong> (A, C, W135, Y) formulations. <strong>Conjugate vaccines</strong>, which offer increased immunogenicity and potential for herd protection, are preferred over polysaccharide vaccines, especially in <strong>children under 2 years</strong> of age. Both types of vaccines are <strong>safe to use during pregnancy</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "How long should a child be isolated after being diagnosed with bacterial meningitis to prevent further transmission?",
    "choices": [
      {
        "id": 1,
        "text": "Till 24 hours after starting antibiotics"
      },
      {
        "id": 2,
        "text": "Till cultures become negative"
      },
      {
        "id": 3,
        "text": "Till antibiotic course is complete"
      },
      {
        "id": 4,
        "text": "Till 12 hours after admission"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p>Isolation of the child is recommended<strong>&nbsp;until 24 hrs after the initiation of effective therapy&nbsp;</strong>after being diagnosed with acute bacterial meningitis to prevent further transmission.</p>\n<p><strong>Droplet precautions</strong> are recommended for patients with&nbsp;<strong>Neisseria meningitides&nbsp;</strong>and <strong>Haemophilus influenzae<em>&nbsp;</em>type b (Hib) meningitis</strong> until they have received 24 hours of effective therapy. Patients should be in private rooms, and hospital personnel should wear a face mask when they are within 3 feet (1 meter) of the patient.</p>\n<p>The child with meningitis shows nonspecific symptoms like <strong>fever,</strong> anorexia, <strong>poor feeding</strong>, headache, myalgia, <strong>hypotension</strong>,&nbsp;petechia, purpura, or a <strong>rash</strong>. Meningial irritation is indicated by&nbsp;<strong>nuchal rigidity</strong>, back pain, and&nbsp;<strong>Kernig, and Brudzinski signs </strong>(usually not seen in infants). <strong>Seizures</strong> and <strong>altered mental status</strong> may be present.&nbsp;</p>\n<p>The recommended <strong>empirical antibiotic</strong> regimen in a suspected case of meningitis outside the neonatal period is <strong>vancomycin</strong> combined with a <strong>third-generation cephalosporin</strong>. Patients <strong>allergic to penicillin</strong> or cephalosporin can be treated with <strong>meropenem, fluoroquinolones</strong>, or <strong>chloramphenicol</strong>.&nbsp;</p>\n<p><strong>Chemoprophylaxis&nbsp;</strong>with<strong> rifampicin/ceftriaxone/ciprofloxacin</strong> is recommended for all close contacts with <strong>meningococcal</strong> meningitis regardless of age or immunization status.&nbsp;<strong>Rifampicin prophylaxis</strong> should be given to all <strong>household contacts</strong> of patients with invasive disease caused by<strong> Haemophilus influenzae type b</strong>, if an <strong>immunocompromised child</strong> of any age resides in the household or close family member <strong>younger than 48 months</strong> has<strong> not</strong> been<strong> fully immunized</strong>.&nbsp;</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "A 2-year-old child with a history of fall 1 year back with parietal bone fracture, has now presented with a painful and growing parietal swelling. What is the likely diagnosis?",
    "choices": [
      {
        "id": 1,
        "text": "Growing scalp hematoma"
      },
      {
        "id": 2,
        "text": "Growing fracture"
      },
      {
        "id": 3,
        "text": "Subdural hygroma"
      },
      {
        "id": 4,
        "text": "Chronic abscess"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p>The clinical presentation of a child with a <strong>painful and growing parietal swelling</strong>, coupled with a history of a <strong>prior parietal bone fracture</strong> one year ago, strongly suggests the diagnosis of a <strong>growing fracture,&nbsp;</strong>also known as&nbsp;<strong>traumatic encephalocele or leptomeningeal cysts</strong>.</p>\n<p>Skull fractures associated with a dural tear may fail to heal properly. The herniated brain, dilated ventricles, or a leptomeningeal cyst may cause an enlargement of this tear. These fractures are called&nbsp;<strong>growing skull fractures. </strong>They are usually seen in children <strong>&lt; 3 years</strong> of age.</p>\n<p>They present&nbsp;as a <strong>localized swelling or palpable</strong> <strong>skull defect</strong> that increases in size, most commonly seen in the <strong>parietal region</strong>. However, they may go <strong>undetected for years</strong> and present with delayed onset of neurologic symptoms (headache, seizure, or neurologic deficit).&nbsp;</p>\n<p>Other options:</p>\n<p>Option A:&nbsp;The extended duration of one year makes scalp hematoma unlikely, as it usually resolves within a few months.</p>\n<p>Option C:&nbsp;<strong>Subdural hygromas</strong> are characterized by fluid accumulation in the subdural space. Most patients with subdural hygromas are asymptomatic, but uncommon symptoms may include headaches, changes in mental status, nausea and vomiting, focal neurological deficits, and seizures. They don't present with scalp swelling.</p>\n<p>Option D: <strong>Chronic abscess</strong> may show <strong>inflammatory</strong> changes like <strong>erythema</strong>, pus, sinus, and systemic features like<strong> fever</strong>.</p>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  },
  {
    "text": "You have been called to declare the brain death of a 12-year-old child in the ICU.  Which of the following is not seen in brain death?",
    "choices": [
      {
        "id": 1,
        "text": "Normal BP without pharmacological support"
      },
      {
        "id": 2,
        "text": "Positive spinal reflexes on stimulation"
      },
      {
        "id": 3,
        "text": "Sweating and tachycardia"
      },
      {
        "id": 4,
        "text": "Decorticate and decerebrate posturing"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Decerebrate </strong>or<strong> decorticate posturing&nbsp;</strong>is not seen in brain death as they are <strong>motor responses to noxious stimuli</strong> that originate from the midbrain and cortex.&nbsp;</p>\n<p>Brain death, also known as death by neurologic criteria refers to the irreversible and total <strong>cessation</strong> of all functions of the <strong>entire brain</strong>, including the <strong>brainstem</strong>.</p>\n<p>The <strong>three components</strong> for diagnosing brain death are a demonstration of coexisting <strong>irreversible coma</strong> with a known cause, <strong>absence of brain stem reflexes</strong>, and<strong> apnea</strong>. Coma requires the patient to be <strong>unresponsive</strong>, even to noxious stimuli. The <strong>diagnosis of brain death</strong> can <strong>still be made</strong> <strong>despite positive spinal reflexes.&nbsp;</strong>(option B)</p>\n<p><strong>Brainstem reflexes</strong> (pupillary responses, oculocephalic reflex, oculovestibular responses, corneal reflex, jaw reflex, facial grimacing, pharyngeal gag reflex, coughing) are <strong>absent</strong>. <strong>Apnea</strong> is the absence of respiratory drive at PaCO2 of &ge;60mmHg and &gt; 20mmHg above baseline, which is consistent with brain death.</p>\n<p>The following manifestations are occasionally seen and should not be misinterpreted as evidence of brainstem function:&nbsp;</p>\n<ul>\n<li>Normal systolic blood pressure<strong>&nbsp;- SBP &gt;100 mmHg&nbsp;</strong>(option A)</li>\n<li>Movements originating from the spinal cord or peripheral nerve may occur</li>\n<li><strong>Sweating,</strong> flushing, <strong>tachycardia&nbsp;</strong>(option C)</li>\n<li>Deep tendon reflexes; superficial abdominal reflexes; triple flexion response</li>\n<li><strong>Babinski reflex</strong></li>\n<li>Spontaneous movements of limbs other than pathologic flexion or extension response</li>\n<li>Respiratory-like movements (shoulder elevation and adduction, back-arching, intercostal expansion without significant tidal volumes)</li>\n</ul>",
    "explanation_video": "",
    "question_images": [],
    "explanation_images": []
  }
];
        let quizName = '29 Disorders Of The Nervous System';
        let hierarchy = ["Marrow", "qBank", "Pediatrics"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>