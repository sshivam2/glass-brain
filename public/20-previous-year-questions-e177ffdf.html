<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>20 Previous Year Questions - Brain And Scalpel</title>
    <link rel="preload" href="assets/background.jpg" as="image">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- HLS.js for M3U8 support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        
/* Liquid Glass Morphism Universal Theme - Enhanced & Mobile-First */
:root {
  --glass-bg: rgba(0, 0, 0, 0.6);
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-bg-heavy: rgba(255, 255, 255, 0.2);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-light: rgba(255, 255, 255, 0.1);
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-tertiary: rgba(255, 255, 255, 0.5);
  --accent-blue: #60a5fa;
  --accent-purple: #a855f7;
  --accent-green: #34d399;
  --accent-orange: #fb923c;
  --accent-red: #f87171;
  --accent-yellow: #fbbf24;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  position: relative;
  overflow-x: hidden;
  color: var(--text-primary);
  background-color: #000;
}

/* iOS Background Fix */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  z-index: -2;
  background: url("assets/background.jpg") center center / cover no-repeat;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: -1;
}

/* Glass morphism components */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
}

.glass-heavy {
  background: var(--glass-bg-heavy);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid var(--glass-border);
  border-radius: 20px;
}

.glass-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.glass-card:hover {
  transform: translateY(-8px);
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
}

.glass-button {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.8), rgba(168, 85, 247, 0.8));
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: white;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
  cursor: pointer;
  border: none;
}

.glass-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(96, 165, 250, 0.4);
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.9), rgba(168, 85, 247, 0.9));
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.glass-input {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  color: var(--text-primary);
  transition: all 0.3s ease;
}

.glass-input:focus {
  outline: none;
  border-color: var(--accent-blue);
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.3);
}

.glass-input::placeholder {
  color: var(--text-tertiary);
}

/* Performance analysis styles */
.performance-card {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.score-circle {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto;
}

.score-circle svg {
  transform: rotate(-90deg);
}

.score-circle .circle-bg {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1);
  stroke-width: 8;
}

.score-circle .circle-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  transition: stroke-dasharray 2s cubic-bezier(0.4, 0, 0.2, 1);
}

.score-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

/* Review question styles */
.review-question {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
}

.review-question.correct {
  border-left: 4px solid #22c55e;
}

.review-question.incorrect {
  border-left: 4px solid #ef4444;
}

.review-question.not-attempted {
  border-left: 4px solid #6b7280;
}

/* Gradient backgrounds for accents */
.gradient-blue {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
}

.gradient-purple {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
}

.gradient-green {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
}

.gradient-orange {
  background: linear-gradient(135deg, var(--accent-orange), #f97316);
}

.gradient-red {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
}

.gradient-yellow {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
}

/* Navigation button styles */
.nav-btn-not-attempted {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.nav-btn-current {
  background: linear-gradient(135deg, var(--accent-blue), #3b82f6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.nav-btn-correct {
  background: linear-gradient(135deg, var(--accent-green), #10b981);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-incorrect {
  background: linear-gradient(135deg, var(--accent-red), #ef4444);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-bookmarked {
  background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-marked-review {
  background: linear-gradient(135deg, var(--accent-purple), #8b5cf6);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

.nav-btn-answered {
  background: linear-gradient(135deg, #6b7280, #4b5563);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}

/* Option button styles - REVISED FOR INLINE FEEDBACK */
.option-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  width: 100%;
  text-align: left;
  padding: 1rem;
  border-radius: 12px;
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 1rem;
}

.option-button:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(96, 165, 250, 0.5);
  transform: translateX(8px);
}

.option-button.selected {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
  border-color: var(--accent-blue);
  transform: translateX(8px);
}

#optionsContainer.answered .option-button:hover {
    transform: translateX(0); /* Disable hover effect after answering */
}

#optionsContainer.answered .option-button {
    cursor: not-allowed;
    pointer-events: none;
}

#optionsContainer.answered .option-button:not(.correct):not(.incorrect) {
    opacity: 0.5;
}

.option-button.correct {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    border-color: #22c55e;
    color: white;
    transform: translateX(0);
}

.option-button.incorrect {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-color: #ef4444;
    color: white;
    transform: translateX(0);
}

.option-letter {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--text-primary);
  flex-shrink: 0;
}

.option-button.selected .option-letter {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
  color: white;
}

.option-button.correct .option-letter, .option-button.incorrect .option-letter {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

.option-text {
  flex: 1;
  font-size: 1rem;
  line-height: 1.5;
}

/* Stats bar responsive grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

@media (max-width: 768px) {
  .stats-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.5rem;
  }
  
  .stats-grid > div:nth-child(4),
  .stats-grid > div:nth-child(5) {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-grid > div:last-child {
    grid-column: span 2;
    justify-self: center;
  }
}

/* Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(96, 165, 250, 0.3); }
  50% { box-shadow: 0 0 40px rgba(96, 165, 250, 0.6); }
}

@keyframes checkmark {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

@keyframes cross {
  0% { transform: scale(0) rotate(0deg); }
  50% { transform: scale(0.8) rotate(90deg); }
  100% { transform: scale(1) rotate(180deg); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-checkmark {
  animation: checkmark 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-cross {
  animation: cross 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* --- MOBILE RESPONSIVE STYLES --- */
.quiz-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

#mobile-nav-toggle {
    display: none; /* Hidden on desktop */
}

@media (min-width: 1024px) {
    .quiz-container {
        flex-direction: row;
        gap: 2rem;
    }
}

@media (max-width: 1023px) {
    .quiz-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        box-shadow: 10px 0px 30px rgba(0,0,0,0.5);
    }
    .quiz-sidebar.open {
        transform: translateX(0);
    }
    #mobile-nav-toggle {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 50;
    }
    .quiz-main-content {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .glass-card, .glass {
        border-radius: 16px;
    }
    h1 { font-size: 2.5rem; }
    #questionText { font-size: 1.125rem; }
    .controls-container {
        flex-direction: column;
        gap: 1rem;
    }
    .controls-container button {
        width: 100%;
    }
}


    </style>
</head>
<body>
    <!-- Mode Selection Modal -->
    <div id="modeModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-md w-full mx-4 shadow-2xl">
            <h2 class="text-2xl font-bold text-white mb-6 text-center">Choose Study Mode</h2>
            
            <div class="space-y-4">
                <button onclick="selectMode('study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Study Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Interactive learning with immediate feedback</p>
                        </div>
                        <div class="gradient-blue w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('test')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Test Mode</h3>
                            <p class="text-sm text-white text-opacity-70">Practice test with performance analysis at end</p>
                        </div>
                        <div class="gradient-purple w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_study')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Study</h3>
                            <p class="text-sm text-white text-opacity-70">Study with time pressure and immediate feedback</p>
                        </div>
                        <div class="gradient-green w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                
                <button onclick="selectMode('timed_exam')" class="w-full text-left p-4 glass-light hover:bg-white hover:bg-opacity-10 transition-all duration-300 text-white">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="font-semibold">Timed Exam</h3>
                            <p class="text-sm text-white text-opacity-70">Real exam simulation with strict timing</p>
                        </div>
                        <div class="gradient-red w-10 h-10 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Analysis Modal -->
    <div id="performanceModal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="glass-heavy p-8 max-w-4xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-white">Performance Analysis</h2>
                <button onclick="closePerformanceModal()" class="glass-light p-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Score Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="performance-card p-6 text-center">
                    <div class="score-circle mb-4">
                        <svg width="150" height="150" class="mx-auto">
                            <circle class="circle-bg" cx="75" cy="75" r="65"></circle>
                            <circle id="scoreCircle" class="circle-progress" cx="75" cy="75" r="65" stroke="#22c55e" stroke-dasharray="0 408"></circle>
                        </svg>
                        <div class="score-text">
                            <div class="text-3xl font-bold text-white" id="accuracyScore">0%</div>
                            <div class="text-sm text-white text-opacity-70">Accuracy</div>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Results Summary</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Questions:</span>
                            <span class="text-white font-semibold" id="totalQuestionsResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-green-400">Correct:</span>
                            <span class="text-green-400 font-semibold" id="correctResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-red-400">Incorrect:</span>
                            <span class="text-red-400 font-semibold" id="incorrectResult">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400">Not Attempted:</span>
                            <span class="text-gray-400 font-semibold" id="notAttemptedResult">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="performance-card p-6">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">Time Analysis</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Total Time:</span>
                            <span class="text-white font-semibold" id="totalTimeResult">0:00</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-white text-opacity-70">Avg per Question:</span>
                            <span class="text-white font-semibold" id="avgTimeResult">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-center space-x-4 mb-8">
                <button onclick="reviewQuestions()" class="glass-button px-8 py-3 text-lg">
                    Review All Questions
                </button>
                <button onclick="retakeQuiz()" class="glass-light px-8 py-3 text-lg text-white hover:bg-white hover:bg-opacity-20">
                    Retake Quiz
                </button>
            </div>
            
            <!-- Question Review Section -->
            <div id="questionReviewSection" class="hidden">
                <h3 class="text-2xl font-bold text-white mb-6">Question Review</h3>
                <div id="reviewQuestionsContainer">
                    <!-- Review questions will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="glass sticky top-0 z-40 mb-6">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="goBack()" class="glass-light px-4 py-2 text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
                        </svg>
                        Back
                    </button>
                    <div id="quizHierarchy" class="text-sm text-white text-opacity-60">
                        PrepLadder / qBank / Dermatology
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="glass-light px-3 py-1 text-sm text-white">
                        Question <span id="currentQuestion">1</span> of <span id="totalQuestions">15</span>
                    </div>
                    
                    <!-- Timer -->
                    <div id="timerContainer" class="hidden gradient-red px-3 py-1 text-sm text-white font-bold animate-pulse-glow">
                        <span id="timeDisplay">2:00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="w-full h-1 bg-black bg-opacity-30 mb-6">
        <div id="progressBar" class="h-1 gradient-blue transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Stats Bar - Show only in study modes -->
    <div id="statsBar" class="glass-light mb-8">
        <div class="container mx-auto px-6 py-4">
            <div class="stats-grid">
                <div class="text-center">
                    <div class="text-lg font-bold text-green-400" id="correctCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Correct</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-red-400" id="incorrectCount">0</div>
                    <div class="text-xs text-white text-opacity-60">Incorrect</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-blue-400" id="totalAttempted">0</div>
                    <div class="text-xs text-white text-opacity-60">Attempted</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-purple-400" id="accuracy">0%</div>
                    <div class="text-xs text-white text-opacity-60">Accuracy</div>
                </div>
                <div class="text-center">
                    <div class="text-lg font-bold text-orange-400" id="timeSpent">0:00</div>
                    <div class="text-xs text-white text-opacity-60">Time</div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-container container mx-auto px-6">
        <!-- Question Navigation Sidebar -->
        <div id="quizSidebar" class="quiz-sidebar glass p-6 h-fit lg:sticky top-24">
            <h3 class="text-lg font-bold text-white mb-4">Question Navigator</h3>
            <div id="questionNav" class="grid grid-cols-5 gap-2 mb-6">
                <!-- Question numbers will be populated here -->
            </div>
            
            <div class="space-y-3 text-xs">
                <h4 class="text-sm font-medium text-white text-opacity-80 mb-3">Legend</h4>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-not-attempted rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Not Attempted</span>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-current rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Current</span>
                </div>
                <div id="studyModeLegend" class="space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-correct rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Correct</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-incorrect rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Incorrect</span>
                    </div>
                </div>
                <div id="testModeLegend" class="hidden space-y-2">
                    <div class="flex items-center">
                        <div class="w-6 h-6 nav-btn-answered rounded mr-2"></div>
                        <span class="text-white text-opacity-60">Answered</span>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="w-6 h-6 nav-btn-bookmarked rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Bookmarked</span>
                </div>
                <div id="testModeReviewLegend" class="hidden items-center">
                    <div class="w-6 h-6 nav-btn-marked-review rounded mr-2"></div>
                    <span class="text-white text-opacity-60">Marked for Review</span>
                </div>
            </div>
            
            <!-- Submit Quiz Button for test modes -->
            <div id="submitSection" class="hidden mt-6">
                <button onclick="submitQuiz()" class="glass-button w-full py-3 text-lg font-bold">
                    Submit Quiz
                </button>
            </div>
        </div>

        <!-- Main Quiz Interface -->
        <div class="quiz-main-content flex-1 max-w-4xl">
            <div class="glass-card p-4 md:p-8 lg:p-12 mb-8 relative">
                <!-- Question Text -->
                <div id="questionText" class="text-xl lg:text-2xl leading-relaxed text-white mb-8">
                    Loading question...
                </div>

                <!-- Question Media -->
                <div id="questionMedia" class="mb-8"></div>

                <!-- Options -->
                <div id="optionsContainer" class="space-y-3 mb-8">
                    <!-- Options will be inserted here -->
                </div>

                <!-- Solution Display (only for study modes) -->
                <div id="solutionContainer" class="hidden glass-light p-6 border-l-4 border-green-400">
                    <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        Explanation
                    </h3>
                    <div id="solutionText" class="text-white text-opacity-90 leading-relaxed mb-4"></div>
                    <div id="solutionAudio" class="space-y-2 mt-4"></div>
                    <div id="solutionImages" class="space-y-4 mt-4"></div>
                    <div id="solutionVideo" class="hidden mt-4">
                        <video id="explanationVideoPlayer" class="w-full rounded-lg" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container flex justify-between items-center mb-8">
                <button onclick="previousQuestion()" id="prevBtn" class="glass-button px-6 py-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    Previous
                </button>
                
                <div class="flex justify-center flex-grow">
                    <button onclick="toggleBookmark()" id="bookmarkBtn" class="glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" id="bookmarkIcon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"></path>
                        </svg>
                        <span id="bookmarkText">Bookmark</span>
                    </button>
                    
                    <button onclick="toggleMarkForReview()" id="markReviewBtn" class="hidden glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                           <path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 2h10v12H5V4z" clip-rule="evenodd" />
                           <path d="M12.586 6.586a2 2 0 10-2.828 2.828l-3 3a2 2 0 102.828-2.828l3-3z" />
                        </svg>
                        <span id="markReviewText">Mark for Review</span>
                    </button>
                </div>
                
                <button onclick="nextQuestion()" class="glass-button px-6 py-3 flex items-center justify-center">
                    Next
                    <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

     <!-- Mobile Nav Toggle -->
    <button id="mobile-nav-toggle" onclick="toggleSidebar()" class="glass-button w-14 h-14 rounded-full items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>


    <script>
        let questionsData = [
  {
    "text": "<p>Which type of vitiligo doesn't usually progress in the long term?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Segmental"
      },
      {
        "id": 2,
        "text": "Acrofacial"
      },
      {
        "id": 3,
        "text": "Focal"
      },
      {
        "id": 4,
        "text": "Mucosal"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option A - Segmental:</strong></p>\n\n<ul>\n\t<li>Segmental <span class=\"customMeta\" data-dictid=\"1d57ae1fc0169277720240b02df182\">vitiligo</span> is present along a segment/dermatome.</li>\n\t<li>It develops after birth during childhood.</li>\n\t<li>Depigmented macules are seen in particular dermatomes and are <span class=\"customMeta\" data-dictid=\"92b4dd0d9516927772013f2e4296b7\">unilateral</span> with midline demarcation.</li>\n\t<li>These have relatively stable courses and are not amenable to medical treatment; hence, <span class=\"customMeta\" data-dictid=\"81d12f9cb01692777199e44ff3f3c1\">surgical</span> treatment is required.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option B, C, and D:</strong></p>\n\n<ul>\n\t<li>These are non-segmental types of vitiligo.</li>\n\t<li>They are not along the segment/dermatome but can be <span class=\"customMeta\" data-dictid=\"da6db7b0e21692777203c4075458d3\">focal</span> and limited to one area.</li>\n\t<li>These are <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> and have a tendency to progress long-term.</li>\n</ul>\n\n<p>\u00a0</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 40-year-old female who had a history of chronic sun exposure presented to the OPD clinic with brownish pigmentation as shown in the image. Which of the following is the diagnosis?</p>\n\n<p>'<img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"590\" src=\"https://image.prepladder.com/content/sX9reu8nMoirxeAfju4k1747379159.png\" width=\"500\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Melasma"
      },
      {
        "id": 2,
        "text": "Freckles"
      },
      {
        "id": 3,
        "text": "Melanoma"
      },
      {
        "id": 4,
        "text": "Basal cell carcinoma"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Melasma</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<p>This woman with hyperpigmented patches on her cheek and a history of chronic sun exposure most likely has melasma.</p>\n\n<p><strong>Melasma:</strong></p>\n\n<ul>\n\t<li>It is characterized by hyperpigmented macules with scalloped or <span class=\"customMeta\" data-dictid=\"863f5457381692777190f05632a8b2\">irregular</span> margins that are darker than the surrounding areas.</li>\n\t<li>These patches typically appear on the face, with common locations being the cheeks, forehead, and chin.</li>\n\t<li>It is more common in females.</li>\n\t<li><strong>Etiologic factors include:</strong>\n\t<ul>\n\t\t<li>Genetic influences, <span class=\"customMeta\" data-dictid=\"84608ab7f91692777201521a0fdc0b\">ultraviolet</span> (UV) radiation, pregnancy, hormonal therapies (Ex-OCPs), cosmetics, and phototoxic drugs.</li>\n\t</ul>\n\t</li>\n\t<li>Sun protection with <span class=\"customMeta\" data-dictid=\"583de7632e16927771834054d1be58\">broad-spectrum</span> <span class=\"customMeta\" data-dictid=\"ca37aeaa751692777199b48f4231c6\">sunscreen</span> with a high SPF, wearing protective clothing, and avoiding prolonged sun exposure aim to prevent further pigmentation.</li>\n\t<li>Topical <span class=\"customMeta\" data-dictid=\"7b8fd61c08169277718923f126fad4\">hydroquinone</span> inhibits tyrosinase, an <span class=\"customMeta\" data-dictid=\"0f160e4e42169277718771b715516a\">enzyme</span> responsible for <span class=\"customMeta\" data-dictid=\"05e2e2617c16927771952bcbeea08b\">pigment</span> production in melanocytes, and is a common depigmenting agent.\n\t<ul>\n\t\t<li>Triple combination therapy of hydroquinone, retinoid, and <span class=\"customMeta\" data-dictid=\"a3e96d80e9169277718551158bbcd4\">corticosteroid</span> is highly effective for melasma.</li>\n\t\t<li>Chemical peels, azelaic acid, and laser therapy are other options.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p><strong>Freckles (Option B):</strong> Freckles (ephelides) are small, light-brown macules that darken with sun exposure and fade in winter. They are more common in fair-skinned individuals and appear in childhood.</p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"Loyna\" data-hash=\"\" data-license=\"CC BY-SA 2.5\" data-source=\"https://en.wikipedia.org/wiki/Freckle\" data-tags=\"\" height=\"272\" src=\"https://image.prepladder.com/content/iUVsBoVYNcQ4oQmitSJq1747379338.png\" width=\"500\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p><strong>Melanoma (Option C):</strong> Melanoma presents as an irregularly shaped, rapidly growing <span class=\"customMeta\" data-dictid=\"85dafbf32f1692777195b9d9f035d8\">pigmented</span> <span class=\"customMeta\" data-dictid=\"d5e7bb15851692777191b39417c26a\">lesion</span> with asymmetry, border irregularity, color variation, and possible ulceration. It does not typically present as uniform brown pigmentation.</p>\n\n<figure class=\"caption_element\"><img alt=\"\" data-author=\"Unknown\" data-hash=\"\" data-license=\"Open access\" data-source=\"https://en.wikipedia.org/wiki/Melanoma\" data-tags=\"\" height=\"342\" src=\"https://image.prepladder.com/content/gQ1uRhIjZMSXjdBfwFoD1747379370.png\" width=\"500\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n\n<p><strong>Basal Cell Carcinoma (BCC) (Option D):</strong> BCC commonly appears as a pearly, <span class=\"customMeta\" data-dictid=\"4537d6e7e216927772007d067522aa\">translucent</span> <span class=\"customMeta\" data-dictid=\"6e6233ba551692777193c62c40bd5f\">nodule</span> with telangiectasia, central ulceration, or rolled borders, rather than <span class=\"customMeta\" data-dictid=\"89275101301692777186567d1912a0\">diffuse</span> pigmentation.</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"JONATHON M. FIRNHABER\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.aafp.org/pubs/afp/issues/2020/0915/p339.html\" data-tags=\"\" height=\"357\" src=\"https://image.prepladder.com/content/xvRCOKIRrkMqJonESH2b1747379433.png\" width=\"500\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>",
    "question_images": [
      "https://image.prepladder.com/content/sX9reu8nMoirxeAfju4k1747379159.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/iUVsBoVYNcQ4oQmitSJq1747379338.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Match the following woods lamp findings:</p>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p style=\"text-align: center;\"><strong>Column A</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p style=\"text-align: center;\"><strong>Column B</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>1. Erythrasma</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>a. Yellow</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>2. Pityriasis versicolor</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>b. Coral red fluorescence</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>3. Tinea capitis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>c. Pink</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>4. Vitiligo</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>d. Green</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\u00a0</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:middle\">\n\t\t\t<p>e. Milky white</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>",
    "choices": [
      {
        "id": 1,
        "text": "1-b, 2-a, 3-d, 4-e"
      },
      {
        "id": 2,
        "text": "1-b, 2-d, 3-a, 4-c"
      },
      {
        "id": 3,
        "text": "1-d, 2-a, 3-c, 4-e"
      },
      {
        "id": 4,
        "text": "1-a, 2-c, 3-e, 4-d"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) 1-b, 2-a, 3-d, 4-e</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Wood's lamp examination is a <span class=\"customMeta\" data-dictid=\"552e9ef8811692777186997018b858\">diagnostic</span> procedure used to observe <span class=\"customMeta\" data-dictid=\"da0e2a00fa1692777202d6e2054b26\">fluorescence</span> patterns in the skin under <span class=\"customMeta\" data-dictid=\"84608ab7f91692777201521a0fdc0b\">ultraviolet</span> light.</li>\n\t<li>It helps identify fungal infections, bacterial infections, <span class=\"customMeta\" data-dictid=\"45d1f54a631692777195670b446c7e\">pigmentary</span> disorders, and other skin conditions based on characteristic <span class=\"customMeta\" data-dictid=\"da0e2a00fa1692777202d6e2054b26\">fluorescence</span> reactions</li>\n\t<li>This non-invasive test is conducted in a darkened room, emitting light of <span class=\"customMeta\" data-dictid=\"ef914bdb201692777202c455236ca8\">wavelength</span> 320-450nm.</li>\n</ul>\n\n<table cellspacing=\"0\" style=\"border-collapse:collapse\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Disease</strong></p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p style=\"text-align: center;\"><strong>Colour on Wood\u2019s light</strong></p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Vitiligo</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Milky white</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Erythrasma</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Coral pink</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Pityriasis versicolor</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Yellow</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Tinea capitis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Green</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Pseudomonas</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Green</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Scabies</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fluorescein solution fills the burrows and is viewed with Wood\u2019s light</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Porphyria</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Fluorescence observed in urine, <span class=\"customMeta\" data-dictid=\"17dfb015d2169277720023db8fe9e5\">teeth</span> and blood</p>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Tuberous sclerosis</p>\n\t\t\t</td>\n\t\t\t<td style=\"border-bottom:1px solid #000000; border-left:1px solid #000000; border-right:1px solid #000000; border-top:1px solid #000000; vertical-align:top\">\n\t\t\t<p>Ash-leaf macules</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Seawind60\" data-hash=\"\" data-license=\"CC BY SA 4.0\" data-source=\"https://commons.wikimedia.org/wiki/File:Wood%27s_UV_lamp.JPG\" data-tags=\"\" height=\"219\" src=\"https://image.prepladder.com/content/oVCyRRfpFYZNvI9TccPP1746003503.png\" width=\"334\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<p>The image below shows milky-white <span class=\"customMeta\" data-dictid=\"da0e2a00fa1692777202d6e2054b26\">fluorescence</span> in vitiligo.</p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Chip Bobbert - Own work\" data-hash=\"\" data-license=\"CC BY-SA 4.0\" data-source=\"https://en.wikipedia.org/wiki/Vitiligo\" data-tags=\"\" height=\"281\" src=\"https://image.prepladder.com/content/IKzGfvutZWo6AkDe8VO11746003526.png\" width=\"293\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/oVCyRRfpFYZNvI9TccPP1746003503.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 13-year-old patient presents with the velvety lesion shown in the image below. What is the diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"Viner, Russell & White, Billy & Barrett, Timothy & Candy, David & Gibson, Penny & Gregory, John & Matyka, Krystyna & Ong, Kenneth & Roche, Edna & Rudolf, Mary & Shaikh, Guftar & Shield, Julian & Wales, Jerry.\" data-hash=\"\" data-license=\"NA\" data-source=\"https://www.researchgate.net/figure/Acanthosis-nigricans_fig2_225050496\" data-tags=\"\" height=\"397\" src=\"https://image.prepladder.com/content/WnSySLJSdtEPjYHJkApJ1744962923.png\" width=\"630\" /></p>\n\n<p>\u00a0</p>",
    "choices": [
      {
        "id": 1,
        "text": "Acanthosis Nigricans"
      },
      {
        "id": 2,
        "text": "Tinea Versicolor"
      },
      {
        "id": 3,
        "text": "Seborrheic Keratosis"
      },
      {
        "id": 4,
        "text": "Atopic Dermatitis"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) </strong>Acanthosis Nigricans</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The presence of <strong>velvety, hyperpigmented lesions</strong> is characteristic of <strong>Acanthosis Nigricans.</strong> This condition is caused by <strong>hyperkeratosis</strong> (thickening of the skin) without an increase in <span class=\"customMeta\" data-dictid=\"6c5489238a1692777192a4dddfd694\">melanocyte</span> or <span class=\"customMeta\" data-dictid=\"afe514c80616927771928d403a54fa\">melanin</span> production. It commonly affects <strong>intertriginous areas</strong> (skin folds such as the neck, axillae, groins, and <span class=\"customMeta\" data-dictid=\"d8c57cf5eb169277719912053c51a1\">submammary</span> folds) and is associated with <strong>obesity, <span class=\"customMeta\" data-dictid=\"b47c9c6144169277719010eaa1a0ee\">insulin</span> resistance, hypothyroidism, <span class=\"customMeta\" data-dictid=\"ba336eb30516927771960f9d9bd85c\">polycystic</span> <span class=\"customMeta\" data-dictid=\"7b1a7ff355169277719401475de6fb\">ovary</span> syndrome (PCOS), acromegaly, and other <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> disturbances.</strong></p>\n\n<div style=\"text-align:center\">\n<figure class=\"caption_element\" style=\"display:inline-block\"><img alt=\"\" data-author=\"Jin Hui Ho Ana Vetriana Abd Wahab Yin Khet Fung Serena Khoo\" data-hash=\"\" data-license=\"CC BY-NC-ND 4.0\" data-source=\"https://www.researchgate.net/figure/Acanthosis-nigricans-and-skin-tags-over-A-neck-B-left-axillae-before-surgery_fig1_349402287\" data-tags=\"\" height=\"465\" src=\"https://image.prepladder.com/content/45ktdKlw23u4ked5gPqS1744962961.png\" width=\"817\" />\n<figcaption>{{caption_text}}</figcaption>\n</figure>\n</div>\n\n<ul>\n\t<li><strong>Pathogenesis:</strong> The condition is <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to increased production of <strong>IGF-1 (insulin-like growth factor 1).</strong></li>\n\t<li><strong>Types:</strong>\n\t<ul>\n\t\t<li><strong>Benign <span class=\"customMeta\" data-dictid=\"e4cbd4af34169277718043cb22ccb5\">Acanthosis</span> Nigricans:</strong> Associated with diabetes, obesity, or <span class=\"customMeta\" data-dictid=\"d92cbff33316927771927b4de10a5b\">metabolic</span> syndrome.</li>\n\t\t<li><strong>Malignant <span class=\"customMeta\" data-dictid=\"e4cbd4af34169277718043cb22ccb5\">Acanthosis</span> Nigricans:</strong> Rapid onset and <span class=\"customMeta\" data-dictid=\"8d0fca798b1692777191b6cd41880f\">linked</span> to <strong>visceral malignancies</strong>, such as adenocarcinomas of the <span class=\"customMeta\" data-dictid=\"b3a647ce2516927771881427f56c1d\">gastrointestinal</span> tract.</li>\n\t</ul>\n\t</li>\n\t<li><strong>Clinical Features:</strong>\n\t<ul>\n\t\t<li>Velvety, asymptomatic, <span class=\"customMeta\" data-dictid=\"d963da62eb16927771993737a99c7c\">symmetrical</span> darkening of the skin.</li>\n\t\t<li>Often begins in the neck, axillae, groins, or other intertriginous areas.</li>\n\t\t<li>May lead to the development of <strong>skin tags</strong> in affected regions.</li>\n\t</ul>\n\t</li>\n\t<li>The presence of these lesions is a <span class=\"customMeta\" data-dictid=\"94f1c8df1f1692777185bd6a7c3fff\">cutaneous</span> marker for underlying <strong>metabolic abnormalities</strong> and <span class=\"customMeta\" data-dictid=\"b47c9c6144169277719010eaa1a0ee\">insulin</span> resistance.</li>\n\t<li><strong>Treatment </strong>involves addressing the <strong>underlying condition</strong> with lifestyle modifications and, if necessary, <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> treatments like keratolytics or retinoids.</li>\n</ul>\n\n<p><strong>Tinea <span class=\"customMeta\" data-dictid=\"d8978d146e169277720159cb0f2631\">Versicolor</span> (Option B)</strong></p>\n\n<ul>\n\t<li>Caused by a <strong>fungal infection</strong> (Malassezia species).</li>\n\t<li>Presents as <strong>hypopigmented or hyperpigmented <span class=\"customMeta\" data-dictid=\"a37fd1603c1692777198f87a4a51dc\">scaly</span> macules/patches,</strong> not velvety lesions.</li>\n\t<li>Typically has a <strong>scaly appearance,</strong> especially after sun exposure.</li>\n</ul>\n\n<p><strong>Seborrheic <span class=\"customMeta\" data-dictid=\"c128f4b08e1692777190ce5f757cda\">Keratosis</span> (Option C)</strong></p>\n\n<ul>\n\t<li>A <strong>benign skin lesion</strong> that appears as <strong>well-demarcated, warty, or \"stuck-on\" plaques.</strong></li>\n\t<li>Common in older adults.</li>\n\t<li>Does <strong>not</strong> have the velvety texture characteristic of <span class=\"customMeta\" data-dictid=\"e4cbd4af34169277718043cb22ccb5\">Acanthosis</span> Nigricans.</li>\n</ul>\n\n<p><strong>Atopic <span class=\"customMeta\" data-dictid=\"fedc53b3161692777186553c8f8d7d\">Dermatitis</span> (Option D)</strong></p>\n\n<ul>\n\t<li>Also known as <strong>eczema,</strong> it appears as <strong>dry, itchy, scaly, and inflamed patches of skin.</strong></li>\n\t<li>Typically affects <strong>flexural surfaces</strong> (e.g., behind knees, elbows) rather than intertriginous areas.</li>\n\t<li><strong>Velvety hyperpigmented patches</strong> are not a feature of <span class=\"customMeta\" data-dictid=\"afad60190f1692777182663499dc42\">atopic</span> dermatitis.</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/content/WnSySLJSdtEPjYHJkApJ1744962923.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/45ktdKlw23u4ked5gPqS1744962961.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 22-year-old college student presents with small, depigmented lesions which have been there for over 2 years now as shown in the image below. What is the most likely diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"3787\" src=\"https://image.prepladder.com/content/zdk5xPvqOC06KWS1Z1CC1747901431.png\" width=\"2602\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Melasma"
      },
      {
        "id": 2,
        "text": "Vitiligo"
      },
      {
        "id": 3,
        "text": "Psoriasis"
      },
      {
        "id": 4,
        "text": "Dermatitis herpetiformis"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) Vitiligo</strong></p>\n\n<p><strong>Explanation: </strong></p>\n\n<ul>\n\t<li>The image shows depigmented patches on the arm, which are characteristic of Vitiligo.</li>\n</ul>\n\n<p><strong>Vitiligo:</strong></p>\n\n<ul>\n\t<li>Vitiligo is an <span class=\"customMeta\" data-dictid=\"0f0b2969921692777180de24f0b0c0\">acquired</span> <span class=\"customMeta\" data-dictid=\"b5f46d7e431692777195efd6b43e9f\">pigmentation</span> disorder featuring well-defined depigmented macules on the skin.</li>\n\t<li>Biopsies show <span class=\"customMeta\" data-dictid=\"616d85c57416927771875ef23f6751\">epidermal</span> <span class=\"customMeta\" data-dictid=\"6c5489238a1692777192a4dddfd694\">melanocyte</span> loss. Lesions may be <span class=\"customMeta\" data-dictid=\"8fb8df140b1692777191702bbc9358\">localized</span> or generalized, coalescing into large depigmented areas.</li>\n\t<li>Wood's lamp, emitting <span class=\"customMeta\" data-dictid=\"84608ab7f91692777201521a0fdc0b\">ultraviolet</span> A (UV-A) light, aids in diagnosis by revealing bright blue-white <span class=\"customMeta\" data-dictid=\"da0e2a00fa1692777202d6e2054b26\">fluorescence</span> with sharply demarcated borders in <span class=\"customMeta\" data-dictid=\"1d57ae1fc0169277720240b02df182\">vitiligo</span> lesions, particularly in individuals with pale skin.</li>\n</ul>\n\n<p><strong>Melasma (Option A): </strong></p>\n\n<ul>\n\t<li>Melasma presents as hyperpigmented (brownish) patches, often on sun-exposed areas like the face.</li>\n\t<li>It is associated with pregnancy, oral <span class=\"customMeta\" data-dictid=\"a13cdc2a8a1692777185da87f2ff85\">contraceptive</span> use, and sun exposure.</li>\n</ul>\n\n<p><strong>Psoriasis (Option C): </strong></p>\n\n<ul>\n\t<li>Psoriasis features erythematous plaques with silvery-white scales, usually on <span class=\"customMeta\" data-dictid=\"45f9bc42ac16927771871c9dc2970a\">extensor</span> surfaces like elbows and knees.</li>\n\t<li>It does not cause depigmentation.</li>\n</ul>\n\n<p><strong>Dermatitis Herpetiformis (Option D): </strong></p>\n\n<ul>\n\t<li>This is a chronic, intensely <span class=\"customMeta\" data-dictid=\"69967bcdf91692777196d95fdabe9a\">pruritic</span> <span class=\"customMeta\" data-dictid=\"4b0fee14c816927772016e67cf3a13\">vesicular</span> disease associated with <span class=\"customMeta\" data-dictid=\"c2b5c161b71692777184c75775751a\">celiac</span> disease.</li>\n\t<li>It presents as grouped vesicles and papules rather than depigmented patches.</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/content/zdk5xPvqOC06KWS1Z1CC1747901431.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p><span dir=\"LTR\">A young girl presents with leukotriosis and lesions as shown in the image. What is the most likely diagnosis?</span></p>\n\n<p style=\"text-align:center\"><img alt=\"Segmental vitiligo\" data-author=\"Reichert Faria, Adriane & Gomes Tarl\u00e9, Roberto & Dellatorre, Gerson & Mira, Marcelo & Silva de Castro, Caio. \" data-hash=\"12598\" data-license=\"CC BY NC 3.0\" data-source=\"https://www.researchgate.net/figure/Segmental-Vitiligo-Unilateral-lesions-that-respect-almost-completely-the-body-midline_fig2_265342859\" data-tags=\"May2025\" height=\"455\" src=\"https://image.prepladder.com/notes/ePz9lqDKxBF5zbXtQaN11747055424.jpg\" width=\"400\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Focal vitiligo"
      },
      {
        "id": 2,
        "text": "Segmental vitiligo"
      },
      {
        "id": 3,
        "text": "Piebaldism"
      },
      {
        "id": 4,
        "text": "Nevus depigmentosus"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong><span dir=\"LTR\">Answer: B) <span class=\"customMeta\" data-dictid=\"6c572343621692777198867cf8d853\">Segmental</span> <span class=\"customMeta\" data-dictid=\"1d57ae1fc0169277720240b02df182\">vitiligo</span> </span></strong></p>\n\n<p>\u00a0</p>\n\n<p><strong><span dir=\"LTR\">Explanation:</span></strong></p>\n\n<p><span dir=\"LTR\">The presence of </span><strong><span dir=\"LTR\">leukotrichia (white hair)</span></strong><span dir=\"LTR\"> along with </span><strong><span dir=\"LTR\">depigmented patches</span></strong><span dir=\"LTR\"> suggests </span><strong><span dir=\"LTR\">vitiligo</span></strong><span dir=\"LTR\">, as </span><strong><span dir=\"LTR\">leukotrichia is uncommon in <span class=\"customMeta\" data-dictid=\"488a4efe7d16927771840c9e29f164\">congenital</span> disorders like <span class=\"customMeta\" data-dictid=\"b6c32aa3a91692777195ce7541be09\">piebaldism</span> or <span class=\"customMeta\" data-dictid=\"d61ced9a671692777193e04a03c423\">nevus</span> depigmentosus</span></strong><span dir=\"LTR\">.</span></p>\n\n<p><strong><span dir=\"LTR\">Segmental vitiligo</span></strong><span dir=\"LTR\"> affects </span><strong><span dir=\"LTR\">one side of the body</span></strong><span dir=\"LTR\"> and follows a </span><strong><span dir=\"LTR\">dermatomal or <span class=\"customMeta\" data-dictid=\"92b4dd0d9516927772013f2e4296b7\">unilateral</span> pattern</span></strong><span dir=\"LTR\">.</span></p>\n\n<p><span dir=\"LTR\">It occurs </span><strong><span dir=\"LTR\">early in life</span></strong><span dir=\"LTR\">, progresses </span><strong><span dir=\"LTR\">rapidly</span></strong><span dir=\"LTR\">, and then </span><strong><span dir=\"LTR\">stabilises</span></strong><span dir=\"LTR\">, unlike generalised vitiligo, which progresses over time.</span></p>\n\n<p>\u00a0</p>\n\n<p><strong><span dir=\"LTR\">Focal <span class=\"customMeta\" data-dictid=\"1d57ae1fc0169277720240b02df182\">Vitiligo</span> (Option A)</span></strong><span dir=\"LTR\"> is incorrect because <span class=\"customMeta\" data-dictid=\"da6db7b0e21692777203c4075458d3\">focal</span> <span class=\"customMeta\" data-dictid=\"1d57ae1fc0169277720240b02df182\">vitiligo</span> presents as </span><strong><span dir=\"LTR\">small, isolated patches</span></strong><span dir=\"LTR\"> but does not follow a </span><strong><span dir=\"LTR\">segmental/dermatomal</span></strong><span dir=\"LTR\"> distribution. It often </span><strong><span dir=\"LTR\">progresses</span></strong><span dir=\"LTR\"> into generalised vitiligo, unlike <span class=\"customMeta\" data-dictid=\"6c572343621692777198867cf8d853\">segmental</span> vitiligo, which remains </span><strong><span dir=\"LTR\">localized</span></strong><span dir=\"LTR\">.</span></p>\n\n<p><strong><span dir=\"LTR\">Piebaldism (Option C)</span></strong><span dir=\"LTR\"> is incorrect because it is a </span><strong><span dir=\"LTR\">congenital disorder</span></strong><span dir=\"LTR\"> (present from birth) due to </span><strong><span dir=\"LTR\">c-KIT gene mutations</span></strong><span dir=\"LTR\">. Typically associated with a </span><strong><span dir=\"LTR\">white <span class=\"customMeta\" data-dictid=\"74ee241473169277720389c4d9f88d\">forelock</span> (poliosis)</span></strong><span dir=\"LTR\"> and </span><strong><span dir=\"LTR\">symmetrical</span></strong><span dir=\"LTR\"> patches, </span><strong><span dir=\"LTR\">not segmental</span></strong><span dir=\"LTR\">.</span></p>\n\n<p><strong><span dir=\"LTR\">Nevus Depigmentosus (Option D)</span></strong><span dir=\"LTR\"> is incorrect because it is a </span><strong><span dir=\"LTR\">stable hypopigmented patch</span></strong><span dir=\"LTR\"> present </span><strong><span dir=\"LTR\">from birth</span></strong><span dir=\"LTR\">. Unlike vitiligo, it does </span><strong><span dir=\"LTR\">not progress</span></strong><span dir=\"LTR\"> or show </span><strong><span dir=\"LTR\">leukotrichia</span></strong><span dir=\"LTR\">.</span></p>",
    "question_images": [
      "https://image.prepladder.com/notes/ePz9lqDKxBF5zbXtQaN11747055424.jpg"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the purpose of using Methylisothiazolinone (MI) in cosmetics?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Surfactant"
      },
      {
        "id": 2,
        "text": "Humectant"
      },
      {
        "id": 3,
        "text": "Emulsifier"
      },
      {
        "id": 4,
        "text": "Preservative"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer D - Preservative</strong></p>\n\n<ul>\n\t<li>Methylisothiazolinone (MI) is commonly used as a <span class=\"customMeta\" data-dictid=\"d3a8a234c61692777196ab718189bf\">preservative</span> in cosmetics. It helps prevent the growth of bacteria, fungi, and other microorganisms in <span class=\"customMeta\" data-dictid=\"ff63f91a5e16927771858327cda029\">cosmetic</span> products, thereby extending their shelf life and maintaining their safety and efficacy.</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Surfactant (Option A)</strong>: Surfactants are commonly used in <span class=\"customMeta\" data-dictid=\"ff63f91a5e16927771858327cda029\">cosmetic</span> products to enhance foaming, cleansing, and emulsifying properties. While surfactants are frequently used in cosmetics, <span class=\"customMeta\" data-dictid=\"2dcc1fa9971692777192c08ba30cd0\">methylisothiazolinone</span> is not primarily used as a surfactant.</p>\n\n<p><strong>Humectant (Option B)</strong>: Humectants are commonly used in skincare and <span class=\"customMeta\" data-dictid=\"ff63f91a5e16927771858327cda029\">cosmetic</span> products to prevent dryness and maintain moisture balance. <span class=\"customMeta\" data-dictid=\"2dcc1fa9971692777192c08ba30cd0\">Methylisothiazolinone</span> is not typically used as a humectant.</p>\n\n<p><strong>Emulsifier (Option C)</strong>: Emulsifiers are commonly used in <span class=\"customMeta\" data-dictid=\"ff63f91a5e16927771858327cda029\">cosmetic</span> formulations to create stable emulsions, such as creams and lotions. <span class=\"customMeta\" data-dictid=\"2dcc1fa9971692777192c08ba30cd0\">Methylisothiazolinone</span> is not primarily used as an emulsifier.</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>A 20-year-old patient presents with a non-progressive hypopigmented lesion on the trunk. On Wood\u2019s lamp examination, there is white accentuation. Diasoscopy is negative. What is the most likely diagnosis?</p>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"425\" src=\"https://image.prepladder.com/content/ycR7fah0PMBKtpqBZszv1755509842.png\" width=\"282\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Vitiligo"
      },
      {
        "id": 2,
        "text": "Nevus depigmentosus"
      },
      {
        "id": 3,
        "text": "Nevus anemicus"
      },
      {
        "id": 4,
        "text": "Indeterminate leprosy"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Answer: B) <span class=\"customMeta\" data-dictid=\"d61ced9a671692777193e04a03c423\">Nevus</span> depigmentosus</strong></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li><strong>Nevus depigmentosus</strong> is a congenital, stable, non-progressive hypopigmented <span class=\"customMeta\" data-dictid=\"dc2eebe088169277719115b8c50b0c\">macule</span> or patch, present from early life.</li>\n\t<li>Lesion is usually solitary, well-defined, and does not spread over time.</li>\n\t<li><strong>Wood\u2019s lamp</strong> shows an off-white <span class=\"customMeta\" data-dictid=\"697d05be621692777180396f6cf2d7\">accentuation</span> (less bright than vitiligo).</li>\n\t<li><strong>Diascopy</strong> is negative because the <span class=\"customMeta\" data-dictid=\"b0b6f76f1c1692777189a4f5657398\">hypopigmentation</span> is due to <span class=\"customMeta\" data-dictid=\"10c83adb331692777197f775bec1aa\">reduced</span> melanin, not <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> changes.</li>\n\t<li>No <span class=\"customMeta\" data-dictid=\"408bcde7f01692777198acadb8e1c6\">sensory</span> loss or <span class=\"customMeta\" data-dictid=\"3eae9d3a481692777198158ddc37bc\">scaling</span> is present.</li>\n\t<li>Management is generally reassurance; no effective <span class=\"customMeta\" data-dictid=\"fcde1de1141692777197e8813c85c1\">repigmentation</span> treatment is required unless for <span class=\"customMeta\" data-dictid=\"ff63f91a5e16927771858327cda029\">cosmetic</span> concerns.</li>\n</ul>\n\n<p><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"425\" src=\"https://image.prepladder.com/content/WJaMQwHDqpLoommzNj4n1755509873.png\" width=\"282\" /></p>\n\n<p><strong>Vitiligo (Option A):</strong> An <span class=\"customMeta\" data-dictid=\"0f0b2969921692777180de24f0b0c0\">acquired</span> progressive <span class=\"customMeta\" data-dictid=\"fa15f2737616927771864ea2681ae1\">depigmentation</span> with complete loss of melanin; Wood\u2019s lamp shows bright chalk-white fluorescence; lesions tend to enlarge over time.<br />\n\u00a0</p>\n\n<p><strong>Nevus anemicus (Option C):</strong> A <span class=\"customMeta\" data-dictid=\"526ede3fee169277720184378acc5e\">vascular</span> <span class=\"customMeta\" data-dictid=\"50a440f85816927771817d2fe50984\">anomaly</span> where skin appears pale due to <span class=\"customMeta\" data-dictid=\"8fb8df140b1692777191702bbc9358\">localized</span> increased vasoconstriction; <span class=\"customMeta\" data-dictid=\"c9b498c4ae16927771867c98f38374\">diascopy</span> causes the <span class=\"customMeta\" data-dictid=\"d5e7bb15851692777191b39417c26a\">lesion</span> to blend with surrounding skin (positive diascopy), unlike <span class=\"customMeta\" data-dictid=\"d61ced9a671692777193e04a03c423\">nevus</span> depigmentosus.<br />\n\u00a0</p>\n\n<p><strong>Indeterminate <span class=\"customMeta\" data-dictid=\"f200a5b7181692777191c4f24b2a3e\">leprosy</span> (Option D):</strong> Hypopigmented patch with impaired sensation and possible nerve thickening; would not be stable for years without progression, and diagnosis requires <span class=\"customMeta\" data-dictid=\"408bcde7f01692777198acadb8e1c6\">sensory</span> loss or skin <span class=\"customMeta\" data-dictid=\"6777533153169277719804fcbbf2d1\">smear</span> evidence.</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/ycR7fah0PMBKtpqBZszv1755509842.png"
    ],
    "explanation_video": null,
    "explanation_images": [
      "https://image.prepladder.com/content/WJaMQwHDqpLoommzNj4n1755509873.png"
    ],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the probable diagnosis for a pregnant woman of age 30 who visits the dermatology outpatient department (OPD) with the following condition?</p>  <p><img src=\"https://image.prepladder.com/content/EAazijJ5oCMR10ULcgRH1691236378.png\" style=\"height:671px; width:688px\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Systemic lupus erythematosus"
      },
      {
        "id": 2,
        "text": "Viral infection"
      },
      {
        "id": 3,
        "text": "Rosacea"
      },
      {
        "id": 4,
        "text": "Chloasma"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct answer: Option D\u00a0Chloasma</strong></p>\n\n<ul>\n\t<li>A common skin condition that can occur during pregnancy is chloasma, also known as the \"mask of pregnancy.\" The appearance of brownish or grayish patches on the face, particularly on the cheeks, nose, forehead, and upper lip, is a hallmark of this condition. <span class=\"customMeta\" data-dictid=\"757cb6e9d516927771843f6637a152\">Chloasma</span> is brought on by hormonal changes during pregnancy, particularly an increase in <span class=\"customMeta\" data-dictid=\"a58dd68b011692777187eb72633aac\">estrogen</span> and <span class=\"customMeta\" data-dictid=\"183d374ac91692777196c63c850299\">progesterone</span> levels, both of which can encourage the skin to produce more melanin.</li>\n</ul>\n\n<p>Incorrect choices:</p>\n\n<ul>\n\t<li>Option a. <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">Systemic</span> <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">lupus</span> erythematosus: Lupus, also known as <span class=\"customMeta\" data-dictid=\"8f2e7fd96116927771995b451b5c90\">systemic</span> <span class=\"customMeta\" data-dictid=\"ccd536a9071692777191f53538ca30\">lupus</span> erythematosus (SLE), is a chronic <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> disease that can affect a variety of body organs and tissues. It is characterized by the production of autoantibodies that damage and inflame the body's own tissues and cells. <span class=\"customMeta\" data-dictid=\"d9bf27b09416927771984cdc6c0bc4\">SLE</span> is more common in ladies, and side effects can shift generally from one individual to another, contingent upon which organs and tissues are impacted.</li>\n\t<li>Option b. <span class=\"customMeta\" data-dictid=\"5cc2d9fac616927772021889ee6d52\">Viral</span> infection: The given image is not of <span class=\"customMeta\" data-dictid=\"5cc2d9fac616927772021889ee6d52\">viral</span> infection</li>\n\t<li>Option c. Rosacea: <span class=\"customMeta\" data-dictid=\"65c199df6316927771976629902acc\">Rosacea</span> is a long-term condition of the skin that mostly affects the face and causes redness, flushing, and blood vessels to show up. It can likewise cause pimple-like knocks and thickened skin on the cheeks, and brow. <span class=\"customMeta\" data-dictid=\"65c199df6316927771976629902acc\">Rosacea</span> typically affects fair-skinned adults over the age of 30 who have a family history of the condition.<br />\n\t\u00a0</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/content/EAazijJ5oCMR10ULcgRH1691236378.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Which diagnostic tool is used to identify the condition depicted in the image below?</p>  <p><img src=\"https://image.prepladder.com/content/2AfzbPzYjz9M5BsLLTGm1691236603.png\" style=\"height:587px; width:781px\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Culture"
      },
      {
        "id": 2,
        "text": "Wood\u2019s lamp examination"
      },
      {
        "id": 3,
        "text": "Gram staining"
      },
      {
        "id": 4,
        "text": "Patch test"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<ul>\n\t<li>Wood's light assessment is a <span class=\"customMeta\" data-dictid=\"509310d4411692777199f2ffdb7769\">symptomatic</span> test utilized in <span class=\"customMeta\" data-dictid=\"66a39a9c7016927771862d3e161394\">dermatology</span> to assist with recognizing different skin conditions, including <span class=\"customMeta\" data-dictid=\"adc58f95b216927771853032f276b9\">contagious</span> contaminations, bacterial diseases, and color problems like vitiligo. Dermatologists are able to observe subtle changes in the skin that might not be apparent under normal lighting conditions thanks to the use of <span class=\"customMeta\" data-dictid=\"84608ab7f91692777201521a0fdc0b\">ultraviolet</span> light to highlight <span class=\"customMeta\" data-dictid=\"df068e6efc16927772029693b5023e\">fluorescent</span> substances in the skin.</li>\n\t<li>The patient's skin is first cleansed, and any cosmetics or lotions are removed during a Wood's lamp examination. The <span class=\"customMeta\" data-dictid=\"45b879a9811692777186fc68d44d00\">dermatologist</span> applies the UV light from Wood's lamp to the patient's skin in a room that is darkened. The <span class=\"customMeta\" data-dictid=\"df068e6efc16927772029693b5023e\">fluorescent</span> substances in the skin mirror the light, making the skin seem an <span class=\"customMeta\" data-dictid=\"d65e6c0e1616927771818ab537250d\">alternate</span> tone, it is inspected to rely upon the condition. For instance, fungal infections can have a yellow-green appearance, while <span class=\"customMeta\" data-dictid=\"05e2e2617c16927771952bcbeea08b\">pigment</span> disorders can have a white or blue-green appearance.</li>\n</ul>\n\n<p>Incorrect choices:</p>\n\n<ul>\n\t<li>Option a. Culture: Microorganisms like bacteria, viruses, and <span class=\"customMeta\" data-dictid=\"5ab0081e8316927772037e0f7c5a79\">fungi</span> can be identified and grown from a sample of tissue or bodily fluid with the help of a culture test in the laboratory. Cultures are frequently utilized in <span class=\"customMeta\" data-dictid=\"66a39a9c7016927771862d3e161394\">dermatology</span> to diagnose fungal or bacterial skin infections like cellulitis, impetigo, or fungal skin infections.</li>\n\t<li>Option c. <span class=\"customMeta\" data-dictid=\"f0347e3a7a1692777188cf90c50d6f\">Gram</span> staining: A laboratory test known as \"gram staining\" is used to determine the kind of bacteria that is present in a sample of bodily fluid or tissue. In dermatology, it is frequently used to diagnose bacterial skin infections like folliculitis, cellulitis, and impetigo.</li>\n\t<li>Option d. Patch test: A <span class=\"customMeta\" data-dictid=\"552e9ef8811692777186997018b858\">diagnostic</span> test known as patch testing is used to pinpoint the substances or allergens that may be triggering allergic contact dermatitis. When the skin <span class=\"customMeta\" data-dictid=\"89f5610ffd1692777184b03f1f88cc\">comes</span> into contact with a substance that the immune system perceives as foreign and reacts against, this type of <span class=\"customMeta\" data-dictid=\"fedc53b3161692777186553c8f8d7d\">dermatitis</span> is a <span class=\"customMeta\" data-dictid=\"4a3d5523ba16927771867465fc3956\">delayed hypersensitivity</span> reaction.<br />\n\t\u00a0</li>\n</ul>",
    "question_images": [
      "https://image.prepladder.com/content/2AfzbPzYjz9M5BsLLTGm1691236603.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Identify the <span class=\"marker\">condition </span>shown in the image below</p>\n\n<p><img src=\"https://image.prepladder.com/content/UV7koAJPujA08DqI4NXk1713941560.png\" style=\"height:550px; width:550px\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Malignant melanoma"
      },
      {
        "id": 2,
        "text": "BCC"
      },
      {
        "id": 3,
        "text": "Squamous cell carcinoma"
      },
      {
        "id": 4,
        "text": "Nevus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Option:</strong></p>\n\n<p><strong>Option A : <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">Malignant</span> melanoma</strong></p>\n\n<p>Malignant <span class=\"customMeta\" data-dictid=\"e42297345d16927771922d2d0dc020\">melanoma</span> is a type of skin cancer that develops from melanocytes, the cells responsible for producing the <span class=\"customMeta\" data-dictid=\"05e2e2617c16927771952bcbeea08b\">pigment</span> melanin. It often appears as an asymmetrical, irregularly bordered, and multi-colored <span class=\"customMeta\" data-dictid=\"d5e7bb15851692777191b39417c26a\">lesion</span> on the skin. The image given is likely to be <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">malignant</span> <span class=\"customMeta\" data-dictid=\"e42297345d16927771922d2d0dc020\">melanoma</span> as it is consistent with the ABCDE rule that is:</p>\n\n<ul>\n\t<li>A - Asymmetry: Look for any <span class=\"customMeta\" data-dictid=\"01e6fc8ce01692777190444b00e46f\">irregularity</span> in shape. Melanomas often have an asymmetrical shape, meaning one half doesn't match the other half.</li>\n\t<li>B - Border: Check the edges of the lesion. Melanomas tend to have uneven, ragged, or blurred borders, unlike <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> moles that typically have smooth, well-defined borders.</li>\n\t<li>C - Color: Examine the color of the lesion. Melanomas may display various shades of brown, black, blue, red, or white within the same lesion. Uneven distribution or changes in color should raise concerns.</li>\n\t<li>D - Diameter: Consider the size of the lesion. While melanomas can be small, they are typically larger than <span class=\"customMeta\" data-dictid=\"1bbae82f1f16927771824f797639fa\">benign</span> moles. Any mole or <span class=\"customMeta\" data-dictid=\"d5e7bb15851692777191b39417c26a\">lesion</span> larger than 6 millimeters (about the size of a pencil eraser) should be examined by a healthcare professional.</li>\n\t<li>E - Evolution: Monitor the evolution or changes in the <span class=\"customMeta\" data-dictid=\"d5e7bb15851692777191b39417c26a\">lesion</span> over time. Melanomas often undergo changes in size, shape, color, or elevation. Rapid or significant changes should be evaluated promptly.</li>\n</ul>\n\n<p><strong>Incorrect option</strong></p>\n\n<p><strong>Option B : BCC -\u00a0</strong>Also known as <strong>Basal cell <span class=\"customMeta\" data-dictid=\"988c19e3131692777183b6744d1920\">carcinoma</span> </strong>this type of cancer is the most common of all the skin cancers that occur. Generally, this occurs when DNA gets damaged due to exposure to <span class=\"customMeta\" data-dictid=\"84608ab7f91692777201521a0fdc0b\">ultraviolet</span> rays and thus results in the formation of <span class=\"customMeta\" data-dictid=\"97c024513d16927771833b6c6d4d47\">carcinomatous</span> cells on the <span class=\"customMeta\" data-dictid=\"923af580cf16927771829606bce2a7\">basal</span> cell of the skin.</p>\n\n<p><strong>Option C: <span class=\"customMeta\" data-dictid=\"5be0ee4ea316927771997104326685\">Squamous</span> cell <span class=\"customMeta\" data-dictid=\"988c19e3131692777183b6744d1920\">carcinoma</span> -\u00a0</strong>The <span class=\"customMeta\" data-dictid=\"5be0ee4ea316927771997104326685\">squamous</span> cell makes up the upper and middle layers of the skin and this type of <span class=\"customMeta\" data-dictid=\"988c19e3131692777183b6744d1920\">carcinoma</span> is the most common as it occurs in the <span class=\"customMeta\" data-dictid=\"5be0ee4ea316927771997104326685\">squamous</span> cell. Being aggressive it gets widespread in a very short period.</p>\n\n<p><strong>Option D: <span class=\"customMeta\" data-dictid=\"d61ced9a671692777193e04a03c423\">Nevus</span> -\u00a0</strong>Also known as moles, these are commonly <span class=\"customMeta\" data-dictid=\"85dafbf32f1692777195b9d9f035d8\">pigmented</span> skin lesions found in adults. Generally, these <span class=\"customMeta\" data-dictid=\"85dafbf32f1692777195b9d9f035d8\">pigmented</span> skin lesions are formed due to the formation of clusters of melanocytes (pigment-forming cells).</p>",
    "question_images": [
      "https://image.prepladder.com/content/UV7koAJPujA08DqI4NXk1713941560.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>Patient with a history of severe sunburn after only a few minutes exposure in the sun (photosensitivity) he noticed freckling in sun-exposed areas, dry skin, and changes in skin pigmentation.\u00a0What is the Diagnosis?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"4167\" src=\"https://image.prepladder.com/content/lcifRzc6ssngGbCtFYGJ1747748608.png\" width=\"4167\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Xeroderma pigmentosa"
      },
      {
        "id": 2,
        "text": "Bloom syndrome"
      },
      {
        "id": 3,
        "text": "Warts"
      },
      {
        "id": 4,
        "text": "Melanocytes nevus"
      }
    ],
    "correct_choice_id": 1,
    "solution": "<p><strong>Correct Answer: A) Xeroderma Pigmentosa</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p>The image and clinical description are classic for <strong>Xeroderma pigmentosum (XP)</strong>\u2014a rare autosomal <span class=\"customMeta\" data-dictid=\"d54db2110416927771971e7c011a9f\">recessive</span> disorder characterised by <strong>extreme sensitivity to UV radiation</strong> due to <span class=\"customMeta\" data-dictid=\"144d78fe4816927771852de984c62f\">defective</span> DNA repair mechanisms.</p>\n\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Feature</th>\n\t\t\t<th>Description</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><strong>Photosensitivity</strong></td>\n\t\t\t<td>Severe sunburns after minimal UV exposure</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Skin pigmentation</strong></td>\n\t\t\t<td>Early onset of <strong>freckling</strong>, <strong>hypo- and hyperpigmented macules</strong></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Skin atrophy</strong></td>\n\t\t\t<td>Dry, parchment-like skin</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Ocular involvement</strong></td>\n\t\t\t<td><strong>Photophobia</strong>, <strong>conjunctivitis</strong>, corneal opacities, and lid changes</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Neurological symptoms</strong></td>\n\t\t\t<td>May include <strong>sensorineural deafness</strong>, <strong>ataxia</strong>, and <strong>intellectual disability</strong></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Cancer risk</strong></td>\n\t\t\t<td>Markedly increased risk of <strong>basal cell carcinoma</strong>, <strong>squamous cell carcinoma</strong>, and <strong>melanoma</strong> at a young age</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Bloom syndrome\u00a0(Option B):\u00a0</strong>It is an inherited condition in which the <span class=\"customMeta\" data-dictid=\"3ed58981c41692777199e6abf079eb\">stature</span> of the person is shorter than the average, has a narrow face, and has skin rashes all over. In these people, there is a very high increased chance of cancer to occur.</p>\n\n<p><strong>Warts\u00a0(Option C):\u00a0</strong>Caused by human papillomavirus, it is characterized by rough and uneven bumps on the skin mostly on the hands, face, and feet. It is a non-cancerous growth occurring mostly in people who do have a weak immune system or people with an <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> disease.</p>\n\n<p><strong>Melanocytic nevus\u00a0(Option D):\u00a0</strong>Generally, a non-cancerous condition is caused by melanocytes ( pigment-producing cells). These are also called moles.</p>",
    "question_images": [
      "https://image.prepladder.com/content/lcifRzc6ssngGbCtFYGJ1747748608.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p><span class=\"marker\">Identify the conditio</span>n given in the image:</p>\n\n<p><img src=\"https://image.prepladder.com/content/GXc9tYuzcmf9zrDPVHtT1710480283.png\" style=\"height:500px; width:500px\" />\u00a0\u00a0<img src=\"https://image.prepladder.com/content/QTNxHEETBI97zbgncQYk1710480287.png\" style=\"height:500px; width:500px\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Dermatomyositis"
      },
      {
        "id": 2,
        "text": "Acanthosis nigrican"
      },
      {
        "id": 3,
        "text": "Pityriasis rotunda"
      },
      {
        "id": 4,
        "text": "Melasma"
      }
    ],
    "correct_choice_id": 2,
    "solution": "<p><strong>Correct Option B -\u00a0Acanthosis nigrican:</strong></p>\n\n<ul>\n\t<li>Acanthosis <span class=\"customMeta\" data-dictid=\"50255f706b169277719388336f0dd4\">nigricans</span> is a<strong> skin condition characterized by dark, thickened, and velvety patches of skin</strong>. It <strong>commonly affects areas such as the neck, armpits, groin, and skin folds.</strong></li>\n\t<li>It is characterized by <strong>thickened, gray brown velvety plaques </strong>seen over<strong> <span class=\"customMeta\" data-dictid=\"13e47cfa68169277720299cd54beb4\">flexure</span> areas</strong>( back of neck, axillae, <span class=\"customMeta\" data-dictid=\"5f4a18606116927771909db4d0fe2f\">inframammary</span> creases, waist,groin).</li>\n</ul>\n\n<p><strong>Incorrect Options:</strong></p>\n\n<p><strong>Option a - Dermatomyositis:</strong> <span class=\"customMeta\" data-dictid=\"fab6f1dea516927771867e26cb91ba\">Dermatomyositis</span> is a rare <span class=\"customMeta\" data-dictid=\"96ab11a06a16927771823151c8e471\">autoimmune</span> disease characterized by muscle weakness and skin rash. The skin <span class=\"customMeta\" data-dictid=\"dc75edd604169277719735ac5b4d5b\">rash</span> in <span class=\"customMeta\" data-dictid=\"fab6f1dea516927771867e26cb91ba\">dermatomyositis</span> typically appears as a <span class=\"customMeta\" data-dictid=\"54d761c4f71692777189b168a8b41b\">heliotrope rash</span> on the upper eyelids and a Gottron's papules <span class=\"customMeta\" data-dictid=\"dc75edd604169277719735ac5b4d5b\">rash</span> on the knuckles, elbows, or knees. It is not represented by the image given.</p>\n\n<p><strong>Option c - <span class=\"customMeta\" data-dictid=\"2918c7cf5716927771956553e7f2f3\">Pityriasis</span> rotunda: </strong>Pityriasis rotunda is a rare skin disorder characterized by round, <span class=\"customMeta\" data-dictid=\"a37fd1603c1692777198f87a4a51dc\">scaly</span> patches on the skin. These patches are typically lighter or darker than the surrounding skin and may appear on the trunk, arms, or legs. It is not represented by the image given.</p>\n\n<p><strong>Option\u00a0d - </strong>Melasma: <span class=\"customMeta\" data-dictid=\"925677d28d1692777192ab31b9e6e4\">Melasma</span> is a common skin condition characterized by the development of brown or gray-brown patches on the face, particularly on areas exposed to the sun, such as the cheeks, forehead, and upper lip. It is not represented by the image given.</p>\n\n<p>\u00a0</p>",
    "question_images": [
      "https://image.prepladder.com/content/GXc9tYuzcmf9zrDPVHtT1710480283.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is your diagnosis?</p>\n\n<p style=\"text-align:center\"><img alt=\"\" data-author=\"\" data-hash=\"\" data-license=\"\" data-source=\"\" data-tags=\"\" height=\"3382\" src=\"https://image.prepladder.com/content/AzdR0AMkhzDTyDAxEaf21747749762.png\" width=\"4167\" /></p>",
    "choices": [
      {
        "id": 1,
        "text": "Mongolian spot"
      },
      {
        "id": 2,
        "text": "Nevus of Ito"
      },
      {
        "id": 3,
        "text": "Congenital melanocytic nevus"
      },
      {
        "id": 4,
        "text": "Becker\u2019s nevus"
      }
    ],
    "correct_choice_id": 4,
    "solution": "<p><strong>Correct Answer: D) Becker\u2019s nevus</strong></p>\n\n<p>\u00a0</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>\u00a0</p>\n\n<p>The image shows a <strong>large, irregular, hyperpigmented patch</strong> with <strong>increased hair growth (hypertrichosis)</strong> over the <strong>upper trunk/shoulder</strong> of a young male \u2014 typical of <strong>Becker\u2019s nevus</strong>.</p>\n\n<p>\u00a0</p>\n\n<table>\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Feature</th>\n\t\t\t<th>Description</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td><strong>Onset</strong></td>\n\t\t\t<td>Typically appears during adolescence</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Site</strong></td>\n\t\t\t<td>Commonly over the <strong>shoulder, upper back, or chest</strong></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Appearance</strong></td>\n\t\t\t<td>Hyperpigmented, <span class=\"customMeta\" data-dictid=\"863f5457381692777190f05632a8b2\">irregular</span> patch</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Hair growth</strong></td>\n\t\t\t<td><strong>Hypertrichosis</strong> often develops over the lesion</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Gender</strong></td>\n\t\t\t<td>More common in <strong>males</strong></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Hormonal link</strong></td>\n\t\t\t<td>May be associated with <strong>androgen sensitivity</strong> (increased at puberty)</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><strong>Malignancy</strong></td>\n\t\t\t<td>No <span class=\"customMeta\" data-dictid=\"f8aaf091221692777191f73e810e94\">malignant</span> potential</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>\u00a0</p>\n\n<p><strong>Mongolian spot (Option A):\u00a0</strong>Blue-grey patch usually seen over the <strong>sacral area</strong> in <strong>infants</strong>; fades with age.</p>\n\n<p><strong>Nevus of Ito (Option B):\u00a0</strong>Bluish-grey <span class=\"customMeta\" data-dictid=\"b5f46d7e431692777195efd6b43e9f\">pigmentation</span> in the <strong>supraclavicular or shoulder</strong> area, often unilateral, but <strong>lacks hypertrichosis</strong>.</p>\n\n<p><strong>Congenital <span class=\"customMeta\" data-dictid=\"f23fb27bcf169277719237a433653d\">melanocytic</span> <span class=\"customMeta\" data-dictid=\"d61ced9a671692777193e04a03c423\">nevus</span> (Option C):\u00a0</strong>Present at <strong>birth</strong>, usually darker and may be nodular; typically not associated with Becker\u2019s distribution pattern.</p>",
    "question_images": [
      "https://image.prepladder.com/content/AzdR0AMkhzDTyDAxEaf21747749762.png"
    ],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  },
  {
    "text": "<p>What is the treatment used for vitiligo among the options listed below?</p>",
    "choices": [
      {
        "id": 1,
        "text": "Retinoids"
      },
      {
        "id": 2,
        "text": "Systemic steroids"
      },
      {
        "id": 3,
        "text": "Psoralen PUVA"
      },
      {
        "id": 4,
        "text": "Nd-YAG laser"
      }
    ],
    "correct_choice_id": 3,
    "solution": "<p><strong>Correct option C</strong></p>\n\n<ul>\n\t<li>Vitiligo is a skin condition characterized by the loss of <span class=\"customMeta\" data-dictid=\"b5f46d7e431692777195efd6b43e9f\">pigmentation</span> in certain areas, resulting in white patches on the skin. Various treatment modalities are available for vitiligo, and the choice depends on factors such as the extent of the condition and patient preferences. <span class=\"customMeta\" data-dictid=\"c99213afd4169277719659563ed8c3\">Psoralen</span> <span class=\"customMeta\" data-dictid=\"441d4138391692777196d24bd59125\">PUVA</span> (Psoralen plus <span class=\"customMeta\" data-dictid=\"84608ab7f91692777201521a0fdc0b\">Ultraviolet</span> A) therapy is a commonly used treatment option. <span class=\"customMeta\" data-dictid=\"c99213afd4169277719659563ed8c3\">Psoralen</span> is a medication that sensitizes the skin to <span class=\"customMeta\" data-dictid=\"11183d98e116927772017e77696a88\">UVA</span> light, and <span class=\"customMeta\" data-dictid=\"441d4138391692777196d24bd59125\">PUVA</span> involves the combination of <span class=\"customMeta\" data-dictid=\"c99213afd4169277719659563ed8c3\">psoralen</span> <span class=\"customMeta\" data-dictid=\"eba893313f16927771906290ce7e79\">ingestion</span> or <span class=\"customMeta\" data-dictid=\"9c5b45e3b916927772000167f2669a\">topical</span> application followed by exposure to <span class=\"customMeta\" data-dictid=\"11183d98e116927772017e77696a88\">UVA</span> light. This treatment helps stimulate <span class=\"customMeta\" data-dictid=\"fcde1de1141692777197e8813c85c1\">repigmentation</span> of the white patches in vitiligo.</li>\n</ul>\n\n<p><strong>Incorrect options:</strong></p>\n\n<p><strong>Option A: </strong>Retinoids are a class of medications derived from <span class=\"customMeta\" data-dictid=\"4941f0477a1692777202923cd79e22\">vitamin A</span> and are used in various <span class=\"customMeta\" data-dictid=\"193e0fc1471692777186c661338b8e\">dermatological</span> conditions but are not a primary treatment for vitiligo.</p>\n\n<p><strong>Option B: </strong>Systemic steroids may be used in some cases of vitiligo, but they are not the mainstay of treatment.</p>\n\n<p><strong>Option D:</strong> Nd-YAG laser is a type of laser used in <span class=\"customMeta\" data-dictid=\"66a39a9c7016927771862d3e161394\">dermatology</span> for various purposes but is not the primary treatment for vitiligo.</p>\n\n<p>\u00a0</p>",
    "question_images": [],
    "explanation_video": null,
    "explanation_images": [],
    "explanation_audio_eng": null,
    "explanation_audio_hin": null
  }
];
        let quizName = '20 Previous Year Questions';
        let hierarchy = ["PrepLadder", "qBank", "Dermatology"];
        
        // Handle Custom Quiz Loading
        if (window.location.pathname.endsWith('custom_quiz.html')) {
            const customData = JSON.parse(localStorage.getItem('customQuizData'));
            if (customData) {
                questionsData = customData.questions;
                quizName = customData.name;
                hierarchy = customData.hierarchy;
                document.title = quizName + ' - Brain And Scalpel';
                document.getElementById('totalQuestions').textContent = questionsData.length;
                document.getElementById('quizHierarchy').textContent = hierarchy.join(' > ');
            }
        }

        let currentQuestionIndex = 0;
        let selectedOption = null;
        let currentMode = 'study';
        let timer = null;
        let timeRemaining = 0;
        let questionStartTime = Date.now();
        let quizStartTime = Date.now();
        let isQuizCompleted = false;
        
        let questionStates = new Array(questionsData.length).fill(null).map(() => ({
            status: 'not_attempted',
            bookmarked: false,
            markedForReview: false,
            selectedAnswer: null,
            timeSpent: 0
        }));
        
        let stats = {
            correctAnswers: 0,
            incorrectAnswers: 0,
            totalAttempted: 0,
            totalTime: 0,
            notAttempted: questionsData.length
        };

        const urlParams = new URLSearchParams(window.location.search);
        currentQuestionIndex = Math.min(parseInt(urlParams.get('startAt')) || 0, questionsData.length - 1);

        function goBack() {
            if (isQuizCompleted || confirm('Are you sure you want to leave the quiz? Your progress will be lost.')) {
                window.history.back();
            }
        }

        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('modeModal').style.display = 'none';
            initializeQuiz();
        }

        function initializeQuiz() {
            quizStartTime = Date.now();
            
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            const markReviewBtn = document.getElementById('markReviewBtn');
            const testModeReviewLegend = document.getElementById('testModeReviewLegend');
            const isTestMode = currentMode === 'test' || currentMode === 'timed_exam';
            
            document.getElementById('statsBar').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('studyModeLegend').style.display = isTestMode ? 'none' : 'block';
            document.getElementById('testModeLegend').style.display = isTestMode ? 'block' : 'none';
            document.getElementById('submitSection').style.display = isTestMode ? 'block' : 'none';
            bookmarkBtn.style.display = isTestMode ? 'none' : 'flex';
            markReviewBtn.style.display = isTestMode ? 'flex' : 'none';
            testModeReviewLegend.style.display = isTestMode ? 'flex' : 'none';
            
            if (currentMode === 'timed_study' || currentMode === 'timed_exam') {
                document.getElementById('timerContainer').classList.remove('hidden');
            }
            
            loadBookmarkedQuestions();
            generateQuestionNav();
            updateStats();
            displayQuestion();
        }

        function generateQuestionNav() {
            const nav = document.getElementById('questionNav');
            nav.innerHTML = '';
            
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'w-8 h-8 text-sm font-medium rounded transition-all duration-200';
                btn.onclick = () => jumpToQuestion(i);
                btn.id = `navBtn_${i}`;
                nav.appendChild(btn);
            }
            
            updateQuestionNav();
        }

        function updateQuestionNav() {
            for (let i = 0; i < questionsData.length; i++) {
                const btn = document.getElementById(`navBtn_${i}`);
                const state = questionStates[i];
                let className = '';
                
                if (i === currentQuestionIndex) {
                    className = 'nav-btn-current';
                } else if (state.bookmarked) {
                    className = 'nav-btn-bookmarked';
                } else if (state.markedForReview) {
                    className = 'nav-btn-marked-review';
                } else if (currentMode === 'study' || currentMode === 'timed_study') {
                    if (state.status === 'correct') className = 'nav-btn-correct';
                    else if (state.status === 'incorrect') className = 'nav-btn-incorrect';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                } else {
                    if (state.selectedAnswer !== null) className = 'nav-btn-answered';
                    else className = 'nav-btn-not-attempted hover:bg-white hover:bg-opacity-20';
                }
                btn.className = `w-8 h-8 text-sm font-medium rounded ${className}`;
            }
        }

        function jumpToQuestion(index) {
            if (index >= 0 && index < questionsData.length) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex = index;
                displayQuestion();
            }
        }

        function updateStats() {
            if (currentMode === 'study' || currentMode === 'timed_study') {
                document.getElementById('correctCount').textContent = stats.correctAnswers;
                document.getElementById('incorrectCount').textContent = stats.incorrectAnswers;
                document.getElementById('totalAttempted').textContent = stats.totalAttempted;
                
                const accuracy = stats.totalAttempted > 0 
                    ? Math.round((stats.correctAnswers / stats.totalAttempted) * 100)
                    : 0;
                document.getElementById('accuracy').textContent = accuracy + '%';
                
                stats.totalTime = questionStates.reduce((acc, state) => acc + state.timeSpent, 0);
                const timeSpent = Math.floor(stats.totalTime / 1000);
                const minutes = Math.floor(timeSpent / 60);
                const seconds = timeSpent % 60;
                document.getElementById('timeSpent').textContent = 
                    minutes + ':' + seconds.toString().padStart(2, '0');
            }
        }

        function setupVideo(videoElement, url) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(videoElement);
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = url;
            }
        }

        function displayQuestion() {
            if (!questionsData || questionsData.length === 0) {
                document.getElementById('questionText').innerHTML = 'No questions available for this quiz.';
                return;
            };
            
            const question = questionsData[currentQuestionIndex];
            questionStartTime = Date.now();
            
            selectedOption = questionStates[currentQuestionIndex].selectedAnswer;
            
            const progress = ((currentQuestionIndex + 1) / questionsData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateQuestionNav();
            
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            document.getElementById('solutionContainer').classList.add('hidden');
            
            document.getElementById('questionText').innerHTML = question.text || 'No question text available';
            
            let mediaHtml = '';
            if (question.question_audio) mediaHtml += `<div class="glass-light p-4 mb-4"><audio src="${question.question_audio}" controls class="w-full"></audio></div>`;
            if (question.question_video) mediaHtml += `<div class="glass-light p-4 mb-4"><video src="${question.question_video}" controls class="w-full rounded-lg"></video></div>`;
            if (question.question_images) {
                question.question_images.forEach(imgSrc => {
                    if (imgSrc) mediaHtml += `<div class="glass-light p-4 mb-4"><img src="${imgSrc}" alt="Question Image" class="w-full rounded-lg"></div>`;
                });
            }
            document.getElementById('questionMedia').innerHTML = mediaHtml;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            optionsContainer.classList.remove('answered');
            
            if (question.choices && Array.isArray(question.choices)) {
                question.choices.forEach((choice, index) => {
                    const optionLetter = String.fromCharCode(65 + index);
                    const isSelected = selectedOption === index;
                    
                    const optionDiv = document.createElement('div');
                    optionDiv.innerHTML = `
                        <button type="button" class="option-button ${isSelected ? 'selected' : ''}" data-option-index="${index}">
                            <div class="option-letter">${optionLetter}</div>
                            <div class="option-text">${choice.text || 'Option ' + (index + 1)}</div>
                        </button>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                optionsContainer.addEventListener('click', function(e) {
                    const optionButton = e.target.closest('.option-button');
                    if (optionButton) {
                        const optionIndex = parseInt(optionButton.getAttribute('data-option-index'));
                        selectOption(optionIndex);
                    }
                });
            }
            
            updateBookmarkButton();
            updateMarkReviewButton();

            if ((currentMode === 'timed_study' || currentMode === 'timed_exam') && !isQuizCompleted) {
                startTimer();
            }
        }

        function selectOption(index) {
            const optionsContainer = document.getElementById('optionsContainer');
            if (optionsContainer.classList.contains('answered')) return;

            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                questionStartTime = Date.now();
            }
            
            selectedOption = index;
            questionStates[currentQuestionIndex].selectedAnswer = index;
            
            document.querySelectorAll('.option-button').forEach((btn, i) => {
                btn.classList.toggle('selected', i === index);
            });
            
            if (currentMode === 'study' || currentMode === 'timed_study') {
                setTimeout(processAnswer, 300);
            } else {
                if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                    questionStates[currentQuestionIndex].status = 'answered';
                    stats.totalAttempted++;
                    stats.notAttempted--;
                }
                updateQuestionNav();
            }
        }

        function processAnswer() {
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            
            if(selectedOption === null) return;

            const selectedChoice = question.choices[selectedOption];
            const isCorrect = selectedChoice.id === correctChoiceId;
            
            if (questionStates[currentQuestionIndex].status === 'not_attempted') {
                stats.totalAttempted++;
                stats.notAttempted--;
                if(isCorrect) stats.correctAnswers++; else stats.incorrectAnswers++;
            }
            questionStates[currentQuestionIndex].status = isCorrect ? 'correct' : 'incorrect';
            
            updateStats();
            showInlineFeedback(isCorrect);
            updateQuestionNav();
        }

        function showInlineFeedback(isCorrect) {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;

            const optionsContainer = document.getElementById('optionsContainer');
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const question = questionsData[currentQuestionIndex];
            const correctChoiceId = question.correct_choice_id;
            let correctOptionIndex = question.choices.findIndex(c => c.id === correctChoiceId);

            optionsContainer.classList.add('answered');

            optionButtons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === correctOptionIndex) btn.classList.add('correct');
                else if (index === selectedOption && !isCorrect) btn.classList.add('incorrect');
            });

            setTimeout(showSolution, 1500);
        }


        function showSolution() {
            if (currentMode !== 'study' && currentMode !== 'timed_study') return;
            
            const question = questionsData[currentQuestionIndex];
            document.getElementById('solutionText').innerHTML = question.solution || 'No solution provided';
            
            const videoContainer = document.getElementById('solutionVideo');
            const videoPlayer = document.getElementById('explanationVideoPlayer');
            const explanationVideo = question.explanation_video;
            
            if (explanationVideo) {
                videoContainer.classList.remove('hidden');
                if (explanationVideo.includes('.m3u8')) setupVideo(videoPlayer, explanationVideo);
                else videoPlayer.src = explanationVideo;
            } else {
                videoContainer.classList.add('hidden');
            }

            const audioContainer = document.getElementById('solutionAudio');
            audioContainer.innerHTML = '';
            if (question.explanation_audio_eng) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English Explanation:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
            }
            if (question.explanation_audio_hin) {
                audioContainer.innerHTML += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish Explanation:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;
            }
            
            const imagesContainer = document.getElementById('solutionImages');
            imagesContainer.innerHTML = '';
            if (question.explanation_images) {
                 question.explanation_images.forEach(imgSrc => {
                    if(imgSrc) imagesContainer.innerHTML += `<div class="mt-4"><img src="${imgSrc}" alt="Explanation Image" class="w-full rounded-lg"></div>`;
                });
            }

            document.getElementById('solutionContainer').classList.remove('hidden');
        }

        function submitQuiz() {
            if (timer) clearInterval(timer);
            if (!confirm('Are you sure you want to submit the quiz?')) return;
            
            isQuizCompleted = true;
            let correct = 0, incorrect = 0;
            const totalTime = Date.now() - quizStartTime;
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                if (state.selectedAnswer !== null) {
                    if (question.choices[state.selectedAnswer].id === question.correct_choice_id) {
                        correct++;
                        state.status = 'correct';
                    } else {
                        incorrect++;
                        state.status = 'incorrect';
                    }
                }
            });
            
            // Save performance data
            const performanceData = JSON.parse(localStorage.getItem('quizPerformanceData')) || [];
            performanceData.push({
                quizName: quizName,
                hierarchy: hierarchy,
                timestamp: Date.now(),
                totalTime: totalTime,
                stats: {
                    correct: correct,
                    incorrect: incorrect,
                    notAttempted: questionsData.length - (correct + incorrect)
                }
            });
            localStorage.setItem('quizPerformanceData', JSON.stringify(performanceData));

            showPerformanceAnalysis(correct, incorrect, questionsData.length - (correct + incorrect), totalTime);
        }

        function showPerformanceAnalysis(correct, incorrect, notAttempted, totalTime) {
            const modal = document.getElementById('performanceModal');
            const accuracy = (correct + incorrect) > 0 ? Math.round((correct / (correct + incorrect)) * 100) : 0;
            
            const circumference = 2 * Math.PI * 65;
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = circumference - (accuracy / 100) * circumference;
            
            document.getElementById('accuracyScore').textContent = `${accuracy}%`;
            document.getElementById('totalQuestionsResult').textContent = questionsData.length;
            document.getElementById('correctResult').textContent = correct;
            document.getElementById('incorrectResult').textContent = incorrect;
            document.getElementById('notAttemptedResult').textContent = notAttempted;
            
            const totalMinutes = Math.floor(totalTime / 60000);
            const totalSeconds = Math.floor((totalTime % 60000) / 1000);
            document.getElementById('totalTimeResult').textContent = `${totalMinutes}:${totalSeconds.toString().padStart(2, '0')}`;
            
            const avgTime = totalTime / questionsData.length;
            const avgMinutes = Math.floor(avgTime / 60000);
            const avgSeconds = Math.floor((avgTime % 60000) / 1000);
            document.getElementById('avgTimeResult').textContent = `${avgMinutes}:${avgSeconds.toString().padStart(2, '0')}`;
            
            modal.classList.remove('hidden');
        }

        function closePerformanceModal() { document.getElementById('performanceModal').classList.add('hidden'); }

        function reviewQuestions() {
            document.getElementById('questionReviewSection').classList.remove('hidden');
            const container = document.getElementById('reviewQuestionsContainer');
            container.innerHTML = '';
            
            questionsData.forEach((question, index) => {
                const state = questionStates[index];
                const correctChoiceId = question.correct_choice_id;
                
                let statusClass = 'not-attempted', statusText = 'Not Attempted';
                if (state.selectedAnswer !== null) {
                    const selectedChoice = question.choices[state.selectedAnswer];
                    if (selectedChoice.id === correctChoiceId) { statusClass = 'correct'; statusText = 'Correct'; }
                     else { statusClass = 'incorrect'; statusText = 'Incorrect'; }
                }
                
                const reviewDiv = document.createElement('div');
                reviewDiv.className = `review-question ${statusClass}`;
                
                let optionsHtml = (question.choices || []).map((choice, choiceIndex) => {
                    const isSelected = state.selectedAnswer === choiceIndex;
                    const isCorrect = choice.id === correctChoiceId;
                    let borderClass = 'border-gray-600';
                    if(isCorrect) borderClass = 'border-green-500';
                    else if(isSelected) borderClass = 'border-red-500';
                    
                    return `<div class="p-3 rounded-lg border ${borderClass}"><span class="font-bold mr-3">${String.fromCharCode(65 + choiceIndex)}</span><span>${choice.text}</span></div>`;
                }).join('');

                const videoHtml = question.explanation_video ? `<div class="mt-4"><video id="review-video-${index}" data-src="${question.explanation_video}" class="w-full rounded-lg" controls></video></div>` : '';
                
                let audioHtml = '';
                if(question.explanation_audio_eng) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">English:</p><audio src="${question.explanation_audio_eng}" controls class="w-full"></audio></div>`;
                if(question.explanation_audio_hin) audioHtml += `<div class="mt-2"><p class="text-sm text-white text-opacity-70 mb-1">Hinglish:</p><audio src="${question.explanation_audio_hin}" controls class="w-full"></audio></div>`;

                let imagesHtml = (question.explanation_images || []).map(src => src ? `<div class="mt-4"><img src="${src}" alt="Explanation Image" class="w-full rounded-lg"></div>` : '').join('');

                reviewDiv.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-bold text-white">Question ${index + 1}</h4>
                            <span class="text-sm px-3 py-1 rounded-full bg-${statusClass === 'correct' ? 'green' : statusClass === 'incorrect' ? 'red' : 'gray'}-600 text-white">${statusText}</span>
                        </div>
                        <div class="text-white mb-4">${question.text}</div>
                    </div>
                    <div class="space-y-2 mb-4">${optionsHtml}</div>
                    <div class="bg-green-900 bg-opacity-20 p-4 rounded-lg border border-green-700">
                        <h5 class="text-green-400 font-bold mb-2">Explanation:</h5>
                        <div class="text-white text-opacity-90">${question.solution || 'No solution available.'}</div>
                        ${videoHtml}
                        ${audioHtml}
                        ${imagesHtml}
                    </div>`;
                container.appendChild(reviewDiv);
            });
            initializeReviewVideos();
        }

        function initializeReviewVideos() {
            document.querySelectorAll('video[data-src]').forEach(videoEl => {
                const src = videoEl.dataset.src;
                if (src && src.includes('.m3u8')) {
                    setupVideo(videoEl, src);
                } else if (src) {
                    videoEl.src = src;
                }
            });
        }

        function retakeQuiz() {
            if (confirm('Are you sure you want to retake the quiz? This will reset all your answers.')) {
                if (window.location.pathname.endsWith('custom_quiz.html')) {
                    localStorage.removeItem('customQuizData');
                }
                location.reload();
            }
        }

        function loadBookmarkedQuestions() {
            const bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            bookmarks.forEach(bookmark => {
                if (bookmark.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-'))) {
                    if (bookmark.questionIndex < questionsData.length) {
                        questionStates[bookmark.questionIndex].bookmarked = true;
                    }
                }
            });
        }

        function toggleBookmark() {
            const isBookmarked = !questionStates[currentQuestionIndex].bookmarked;
            questionStates[currentQuestionIndex].bookmarked = isBookmarked;
            
            let bookmarks = JSON.parse(localStorage.getItem('bookmarkedQuestions')) || [];
            
            if (isBookmarked) {
                const bookmarkData = {
                    quizName: quizName,
                    quizFile: window.location.pathname.split('/').pop(),
                    questionIndex: currentQuestionIndex,
                    question: questionsData[currentQuestionIndex],
                    hierarchy: hierarchy,
                    timestamp: Date.now()
                };
                bookmarks.push(bookmarkData);
            } else {
                bookmarks = bookmarks.filter(b => 
                    !(b.quizFile.includes(quizName.toLowerCase().replace(/ /g, '-')) && b.questionIndex === currentQuestionIndex)
                );
            }
            
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarks));
            updateBookmarkButton();
            updateQuestionNav();
        }

        function updateBookmarkButton() {
            const btn = document.getElementById('bookmarkBtn');
            const text = document.getElementById('bookmarkText');
            const isBookmarked = questionStates[currentQuestionIndex].bookmarked;
            
            btn.className = isBookmarked ? 'gradient-yellow px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-yellow-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isBookmarked ? 'Bookmarked' : 'Bookmark';
        }
        
        function toggleMarkForReview() {
            questionStates[currentQuestionIndex].markedForReview = !questionStates[currentQuestionIndex].markedForReview;
            updateMarkReviewButton();
            updateQuestionNav();
        }

        function updateMarkReviewButton() {
            const btn = document.getElementById('markReviewBtn');
            const text = document.getElementById('markReviewText');
            const isMarked = questionStates[currentQuestionIndex].markedForReview;
            
            btn.className = isMarked ? 'gradient-purple px-6 py-3 text-white transition-all duration-300 flex items-center' : 'glass-light px-6 py-3 text-white hover:bg-purple-500 hover:bg-opacity-20 transition-all duration-300 flex items-center';
            text.textContent = isMarked ? 'Marked' : 'Mark for Review';
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                if (questionStartTime) {
                    questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
                }
                
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function nextQuestion() {
            if (questionStartTime) {
                questionStates[currentQuestionIndex].timeSpent += Date.now() - questionStartTime;
            }
            
            if (currentQuestionIndex < questionsData.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                if (currentMode === 'test' || currentMode === 'timed_exam') {
                    if (confirm('You have reached the end of the quiz. Would you like to submit your answers now?')) {
                        submitQuiz();
                    }
                } else {
                    if (confirm('You have completed all questions. Would you like to review from the beginning?')) {
                        currentQuestionIndex = 0;
                        displayQuestion();
                    }
                }
            }
        }

        function startTimer() {
            if (timer) clearInterval(timer);
            timeRemaining = 120; // 2 minutes per question
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    if (currentMode === 'timed_exam') {
                        submitQuiz();
                    } else {
                        nextQuestion();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent = 
                minutes + ':' + seconds.toString().padStart(2, '0');
        }

        function toggleSidebar() {
            document.getElementById('quizSidebar').classList.toggle('open');
        }

        document.addEventListener('DOMContentLoaded', () => {
             if (!window.location.pathname.endsWith('custom_quiz.html')) {
                document.getElementById('modeModal').style.display = 'flex';
             } else {
                initializeQuiz();
             }
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('modeModal').style.display !== 'none') return;
            if (document.getElementById('performanceModal').classList.contains('hidden') === false) return;
            
            if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const options = document.querySelectorAll('.option-button');
                if (optionIndex < options.length) selectOption(optionIndex);
            } else if (e.key === 'ArrowLeft') {
                previousQuestion();
            } else if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextQuestion();
            } else if (e.key.toLowerCase() === 'b' && (currentMode === 'study' || currentMode === 'timed_study')) {
                toggleBookmark();
            } else if (e.key.toLowerCase() === 'm' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                toggleMarkForReview();
            } else if (e.key.toLowerCase() === 's' && (currentMode === 'test' || currentMode === 'timed_exam')) {
                submitQuiz();
            }
        });
    </script>
</body>
</html>